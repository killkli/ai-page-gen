import{r,j as e,d as te,e as se}from"./react-vendor-CKBOTALK.js";import{N as O,Q as re}from"./app-services-2y2dLhqm.js";import{C as ne}from"./ConversationDisplay-C7WQRRHn.js";import{L as W}from"./interactive-components-Bz66s04f.js";import"./vendor-D_G8XHYM.js";import"./ai-vendor-DJy2VIy7.js";const ae=({targetText:C,onRecordingComplete:P,onRecordingStart:s,onRecordingStop:H,disabled:a=!1,language:T="en-US",placeholder:q="Click to start recording..."})=>{const[f,$]=r.useState(!1),[w,x]=r.useState(""),[p,J]=r.useState(0),[z,X]=r.useState(!0),[D,S]=r.useState(null),[k,y]=r.useState(0),v=r.useRef(null),m=r.useRef([]),g=r.useRef(0),i=r.useRef({text:"",confidence:0});r.useEffect(()=>{const c=O.getSupportStatus();return X(c.sttSupported),c.sttSupported||S("Your browser does not support speech recognition"),()=>{g.current&&cancelAnimationFrame(g.current)}},[]);const B=async()=>{if(!(!z||a))try{S(null),x(""),J(0),m.current=[];const c=await navigator.mediaDevices.getUserMedia({audio:!0}),N=new MediaRecorder(c);v.current=N,N.ondataavailable=l=>{l.data.size>0&&m.current.push(l.data)},N.start(),await O.startRecording({lang:T,continuous:!1,interimResults:!0},l=>{x(l.text),J(l.confidence),i.current={text:l.text,confidence:l.confidence},console.log("VoiceRecorder: Speech recognition result:",l)},l=>{console.error("Speech recognition error:",l),S("Speech recognition failed. Please try again."),o()},()=>{s?.(),$(!0)},()=>{$(!1),H?.(),setTimeout(()=>{const l=i.current.text,L=i.current.confidence;console.log("ğŸ”´ VoiceRecorder: Preparing callback with:",{finalText:l,finalConfidence:L}),console.log("ğŸ”´ VoiceRecorder: About to call onRecordingComplete"),console.log("ğŸ”´ VoiceRecorder: Triggering onRecordingComplete NOW"),P({text:l,confidence:L,audioBlob:void 0}),v.current&&v.current.state!=="inactive"&&(v.current.stop(),v.current.onstop=()=>{const R=m.current.length>0?new Blob(m.current,{type:"audio/wav"}):void 0;R&&(console.log("VoiceRecorder: Updating with audio blob"),P({text:l,confidence:L,audioBlob:R}))})},200)}),A(c)}catch(c){console.error("Failed to start recording:",c),S("Failed to access microphone. Please check permissions.")}},o=()=>{f&&(O.stopRecording(),y(0),g.current&&cancelAnimationFrame(g.current))},A=c=>{const N=new AudioContext,l=N.createAnalyser();N.createMediaStreamSource(c).connect(l),l.fftSize=256;const R=l.frequencyBinCount,U=new Uint8Array(R),E=()=>{if(!f)return;l.getByteFrequencyData(U);const Y=U.reduce((_,G)=>_+G,0)/R;y(Y/255),g.current=requestAnimationFrame(E)};E()},j=()=>{const c="relative flex items-center justify-center w-16 h-16 rounded-full transition-all duration-200 focus:outline-none focus:ring-4 focus:ring-offset-2";return a?e.jsx("button",{className:`${c} bg-gray-300 cursor-not-allowed`,disabled:!0,children:e.jsx("svg",{className:"w-6 h-6 text-gray-500",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"})})}):f?e.jsxs("button",{onClick:o,className:`${c} bg-red-500 hover:bg-red-600 text-white focus:ring-red-300 animate-pulse`,style:{transform:`scale(${1+k*.3})`},children:[e.jsx("div",{className:"w-4 h-4 bg-white rounded-sm"}),e.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-red-300",style:{transform:`scale(${1.2+k*.5})`,opacity:k*.7}})]}):e.jsx("button",{onClick:B,className:`${c} bg-blue-500 hover:bg-blue-600 text-white focus:ring-blue-300`,children:e.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"})})})};return z?e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[j(),e.jsx("div",{className:"text-sm text-gray-600 text-center",children:f?e.jsx("span",{className:"text-red-600 font-medium",children:"Recording..."}):q})]}),w&&e.jsx("div",{className:"w-full max-w-md",children:e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 border",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700 mb-1",children:"You said:"}),e.jsxs("div",{className:"text-gray-900",children:['"',w,'"']}),p>0&&e.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Confidence:"}),e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${p>.8?"bg-green-500":p>.6?"bg-yellow-500":"bg-red-500"}`,style:{width:`${p*100}%`}})}),e.jsxs("span",{className:"text-xs text-gray-500",children:[Math.round(p*100),"%"]})]})]})}),D&&e.jsx("div",{className:"text-red-600 text-sm bg-red-50 px-3 py-2 rounded-lg border border-red-200",children:D}),C&&w&&e.jsxs("div",{className:"w-full max-w-md text-xs text-gray-500 bg-blue-50 p-3 rounded-lg border border-blue-200",children:[e.jsx("div",{className:"font-medium mb-1",children:"Expected:"}),e.jsxs("div",{className:"text-blue-700",children:['"',C,'"']})]})]}):e.jsxs("div",{className:"flex flex-col items-center space-y-2 p-4 bg-red-50 rounded-lg border border-red-200",children:[e.jsx("div",{className:"text-red-600 text-sm font-medium",children:"Speech recognition not supported"}),e.jsx("div",{className:"text-red-500 text-xs text-center",children:"Please use Chrome, Edge, or Safari for voice recording"})]})},ue=()=>{const{binId:C}=te(),P=se(),[s,H]=r.useState(null),[a,T]=r.useState(null),[q,f]=r.useState(!0),[$,w]=r.useState(null),[x,p]=r.useState(0),[J,z]=r.useState(!1),[X,D]=r.useState(null),[S,k]=r.useState(!1),[y,v]=r.useState(""),[m,g]=r.useState(""),[i,B]=r.useState(null),[o,A]=r.useState([]),[j,c]=r.useState(0),N=(t,n)=>{const d=I=>I.toLowerCase().replace(/[^\w\s]/g,"").trim(),u=d(t).split(/\s+/),b=d(n).split(/\s+/);if(u.length===0||b.length===0)return 0;let h=0;const F=new Set(u);b.forEach(I=>{F.has(I)?h++:u.forEach(K=>{K.length>=3&&I.length>=3&&(K.includes(I)||I.includes(K))&&(h+=.5)})});const V=Math.max(u.length,b.length);return Math.min(h/V,1)},l=async t=>{try{await O.speak(t,{lang:"en-US",rate:.8,pitch:1,volume:1})}catch(n){console.error("Failed to play demonstration:",n)}},L=()=>{i?.audioBlob&&new Audio(URL.createObjectURL(i.audioBlob)).play().catch(n=>{console.error("Failed to play recording:",n)})},R=t=>t>=.8?"text-green-600":t>=.6?"text-yellow-600":"text-red-600",U=t=>{const n=t.split(/[.!?]+/).filter(b=>b.trim().length>0),d=[];for(const b of n){const h=b.trim();if(h.length>50){const F=h.split(",").filter(V=>V.trim().length>0);F.length>1?d.push(...F.map(V=>V.trim())):d.push(h)}else h.length>0&&d.push(h)}return d.length>0?d:[t.trim()]},E=r.useCallback(async()=>{if(!C){w("No practice ID provided"),f(!1);return}try{const t=await re(C);if(t.type!=="conversation-practice"){w("This is not a conversation practice link"),f(!1);return}H(t.practice),t.practice.participants.length>0&&v(t.practice.participants[0]),f(!1)}catch(t){console.error("Failed to load conversation practice:",t),w("Failed to load conversation practice"),f(!1)}},[C]);r.useEffect(()=>{E()},[E]),r.useEffect(()=>{const t=n=>{if(!s||!a)return;const d=s.dialogue[n];if(!d||d.speaker!==a.studentRole)return;const u=U(d.text),b=o.length===0||JSON.stringify(u)!==JSON.stringify(o);A(u),b&&(c(0),u.length>0&&g(u[0]))};if(a&&s&&s.dialogue.length>0){const n=s.dialogue[x];n&&n.speaker===a.studentRole?t(x):(A([]),c(0),g(""))}},[o,a,s,x]);const Y=()=>{if(!s||!y)return;const t={practiceId:s.id,startTime:Date.now(),currentTurnIndex:0,studentRole:y,responses:[],completed:!1};T(t),p(0),z(!1)},_=t=>!s||!a?!1:s.dialogue[t]?.speaker===a.studentRole,G=async t=>{const n=o.length>0?o[j]:m;if(!(!s||!a||!n)){k(!0);try{const d=N(n,t.text),u={text:t.text,audioBlob:t.audioBlob,similarity:d};B(u);const h={turnId:s.dialogue[x].id,text:t.text,confidence:t.confidence,audioBlob:t.audioBlob,timestamp:Date.now()},F={...a,responses:[...a.responses,h]};T(F)}catch(d){console.error("Failed to process student response:",d)}finally{k(!1)}}},Z=()=>{if(!(!s||!a)){if(z(!1),D(null),j<o.length-1){const t=j+1,n=o[t];B(null),c(t),g(n);return}if(x<s.dialogue.length-1){const t=x+1;B(null),A([]),c(0),g(""),p(t)}else ee()}},ee=()=>{if(!a)return;const t={...a,completed:!0};T(t)};if(q)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(W,{}),e.jsx("div",{className:"mt-4 text-gray-600",children:"Loading conversation practice..."})]})});if($)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[e.jsx("div",{className:"text-red-600 text-lg font-medium mb-2",children:"Error"}),e.jsx("div",{className:"text-gray-600 mb-4",children:$}),e.jsx("button",{onClick:()=>P("/"),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Back to Home"})]})});if(!s)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"text-center",children:e.jsx("div",{className:"text-gray-600",children:"No conversation found"})})});if(!a)return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:s.title}),e.jsxs("div",{className:"flex items-center justify-center space-x-4 text-sm text-gray-600",children:[e.jsxs("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:["é›£åº¦ï¼š",s.difficulty==="easy"?"ç°¡å–®":s.difficulty==="normal"?"æ™®é€š":"å›°é›£"]}),e.jsxs("span",{children:[s.duration," åˆ†é˜"]}),e.jsxs("span",{children:[s.dialogue.length," å€‹å°è©±è¼ªæ¬¡"]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"ğŸ“– æƒ…å¢ƒèªªæ˜"}),e.jsx("p",{className:"text-gray-700 mb-4",children:s.scenario}),e.jsx("p",{className:"text-gray-600",children:s.description})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"ğŸ­ é¸æ“‡æ‚¨çš„è§’è‰²"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.participants.map(t=>e.jsxs("button",{onClick:()=>v(t),className:`p-4 border rounded-lg text-left transition-all ${y===t?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("div",{className:"font-medium text-gray-900",children:t}),e.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:["æ‚¨å°‡æ‰®æ¼” ",t," çš„è§’è‰²"]})]},t))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"ğŸ¯ å­¸ç¿’ç›®æ¨™"}),e.jsx("ul",{className:"space-y-2",children:s.practiceGoals.map((t,n)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-green-500 mr-2 mt-0.5",children:"âœ“"}),e.jsx("span",{className:"text-gray-700",children:t})]},n))})]}),e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:Y,disabled:!y,className:`px-8 py-3 rounded-lg font-medium transition-colors ${y?"bg-blue-500 hover:bg-blue-600 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:"é–‹å§‹ç·´ç¿’"})})]})});if(a.completed)return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 text-center",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8",children:[e.jsx("div",{className:"text-green-600 text-6xl mb-4",children:"ğŸ‰"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"æ­å–œå®Œæˆï¼"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"æ‚¨å·²ç¶“å®Œæˆäº†è‹±æ–‡å°è©±ç·´ç¿’ï¼Œè¡¨ç¾å¾ˆæ£’ï¼"}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:a.responses.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"å›ç­”æ¬¡æ•¸"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:Math.round((Date.now()-a.startTime)/1e3/60)}),e.jsx("div",{className:"text-sm text-gray-600",children:"ç·´ç¿’åˆ†é˜"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:s.difficulty==="easy"?"ç°¡å–®":s.difficulty==="normal"?"æ™®é€š":"å›°é›£"}),e.jsx("div",{className:"text-sm text-gray-600",children:"é›£åº¦ç­‰ç´š"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:a.studentRole}),e.jsx("div",{className:"text-sm text-gray-600",children:"æ‰®æ¼”è§’è‰²"})]})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-center space-y-2 sm:space-y-0 sm:space-x-4",children:[e.jsx("button",{onClick:()=>{T(null),p(0)},className:"px-6 py-3 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium",children:"å†ç·´ç¿’ä¸€æ¬¡"}),e.jsx("button",{onClick:()=>P("/"),className:"px-6 py-3 bg-gray-500 hover:bg-gray-600 text-white rounded-lg font-medium",children:"è¿”å›é¦–é "})]})]})})});const M=s.dialogue[x],Q=_(x);return e.jsx("div",{className:"min-h-screen bg-gray-50 py-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h1",{className:"font-semibold text-gray-900",children:s.title}),e.jsxs("span",{className:"text-sm text-gray-600",children:[x+1," / ",s.dialogue.length]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${(x+1)/s.dialogue.length*100}%`}})})]}),e.jsx(ne,{turn:M,isCurrentTurn:!0,isStudentTurn:Q,showTranslation:!1,showHints:Q}),Q?e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"ğŸ¤ è¼ªåˆ°æ‚¨é–‹å£èªªè©±äº†"}),o.length>1&&e.jsxs("p",{className:"text-blue-600 text-sm mb-2",children:["ç¬¬ ",j+1," æ®µ / å…± ",o.length," æ®µ"]}),e.jsx("p",{className:"text-gray-600",children:"é»æ“Šä¸‹æ–¹å¥å­ç·´ç¿’ç™¼éŸ³ï¼Œç„¶å¾ŒéŒ„éŸ³"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-md font-medium text-gray-800 mb-3",children:"ğŸ“ è«‹ç·´ç¿’é€™å€‹å¥å­ï¼š"}),o.length>1&&e.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx("div",{className:"text-sm text-blue-700 mb-1",children:"å®Œæ•´å¥å­ï¼š"}),e.jsx("div",{className:"text-blue-900",children:M.text})]}),m?e.jsx("div",{className:"p-4 border-2 border-green-500 bg-green-50 rounded-lg cursor-pointer transition-colors",onClick:()=>g(m),children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-900 text-lg font-medium",children:m}),e.jsx("div",{className:"flex gap-2",children:e.jsx("button",{onClick:t=>{t.stopPropagation(),l(m)},className:"p-2 text-blue-500 hover:bg-blue-100 rounded-full transition-colors",title:"æ’­æ”¾ç¤ºç¯„ç™¼éŸ³",children:e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M8 5v14l11-7z"})})})})]})}):e.jsx("div",{className:"p-4 border-2 border-gray-300 bg-gray-50 rounded-lg",children:e.jsx("div",{className:"text-gray-500 text-center",children:"æ­£åœ¨è¼‰å…¥å¥å­..."})}),M.translation&&e.jsxs("div",{className:"mt-3 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsx("div",{className:"text-sm text-yellow-700 mb-1",children:"ğŸ’¡ ä¸­æ–‡æ„æ€ï¼š"}),e.jsx("div",{className:"text-yellow-900",children:M.translation})]})]}),m&&e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"ğŸ™ï¸ é–‹å§‹éŒ„éŸ³ç·´ç¿’"}),e.jsx(ae,{targetText:o.length>0?o[j]:m,onRecordingComplete:G,onRecordingStart:()=>{},onRecordingStop:()=>{},disabled:S,language:"en-US",placeholder:"é»æ“ŠéŒ„éŸ³æŒ‰éˆ•é–‹å§‹ç·´ç¿’"})]}),i&&e.jsxs("div",{className:"mt-4 p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"ğŸ“ æ‚¨èªªçš„å…§å®¹ï¼š"}),i.audioBlob&&e.jsxs("button",{onClick:L,className:"px-3 py-1 bg-blue-500 text-white text-sm rounded hover:bg-blue-600 flex items-center gap-1",children:[e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M8 5v14l11-7z"})}),"æ’­æ”¾éŒ„éŸ³"]})]}),e.jsxs("div",{className:"text-gray-800 mb-3 p-2 bg-white rounded border",children:['"',i.text,'"']}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-gray-600 mr-2",children:"ç™¼éŸ³æº–ç¢ºåº¦ï¼š"}),e.jsxs("span",{className:`font-medium ${R(i.similarity||0)}`,children:[Math.round((i.similarity||0)*100),"%"]}),(i.similarity||0)>=.8&&e.jsx("span",{className:"ml-2",children:"ğŸ‰ å¾ˆæ£’ï¼"}),(i.similarity||0)>=.6&&(i.similarity||0)<.8&&e.jsx("span",{className:"ml-2",children:"ğŸ‘ ä¸éŒ¯ï¼"}),(i.similarity||0)<.6&&e.jsx("span",{className:"ml-2",children:"ğŸ’ª å†åŠ æ²¹ï¼"})]}),!i.audioBlob&&e.jsx("div",{className:"text-xs text-red-500 mt-2",children:"éŒ„éŸ³éŸ³é »ä¸å¯ç”¨"})]}),i&&(i.similarity||0)>=.6&&e.jsx("div",{className:"mt-4",children:e.jsxs("button",{onClick:Z,className:"px-6 py-3 bg-green-500 hover:bg-green-600 text-white font-medium rounded-lg transition-colors flex items-center gap-2 mx-auto",children:[e.jsx("span",{children:"âœ… å¾ˆå¥½ï¼"}),e.jsx("span",{children:(()=>{const t=j>=o.length-1,n=x>=(s?.dialogue.length||0)-1;return t?n?"å®Œæˆæ‰€æœ‰ç·´ç¿’":"å®Œæˆé€™è¼ªï¼Œç¹¼çºŒä¸‹ä¸€è¼ªå°è©±":`ç·´ç¿’ä¸‹ä¸€æ®µ (${j+2}/${o.length})`})()})]})}),i&&(i.similarity||0)<.6&&e.jsxs("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsx("div",{className:"text-sm text-yellow-800 mb-3",children:"ğŸ¯ å»ºè­°ï¼šè«‹å†æ¬¡è½å–ç¤ºç¯„ç™¼éŸ³ï¼Œä¸¦å˜—è©¦æ›´æ¸…æ¥šåœ°èªªå‡ºå¥å­"}),e.jsx("button",{onClick:()=>B(null),className:"px-4 py-2 bg-yellow-500 hover:bg-yellow-600 text-white text-sm rounded transition-colors",children:"ğŸ”„ é‡æ–°éŒ„éŸ³"})]})]})]}):e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 text-center",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:["ğŸ§ è†è½ ",M.speaker," èªªè©±"]}),e.jsx("p",{className:"text-gray-600 mb-4",children:"è«‹ä»”ç´°è½å°æ–¹çš„ç™¼éŸ³å’Œèªèª¿ï¼Œç‚ºä¸‹æ¬¡ç·´ç¿’åšæº–å‚™"}),e.jsxs("button",{onClick:Z,className:"px-6 py-3 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium flex items-center gap-2 mx-auto",children:[e.jsx("span",{children:"ğŸ‘‚ æˆ‘è½æ¸…æ¥šäº†"}),e.jsx("span",{children:"â†’"}),e.jsx("span",{children:"ç¹¼çºŒ"})]})]}),S&&e.jsxs("div",{className:"text-center mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx(W,{}),e.jsx("div",{className:"text-sm text-blue-600 mt-2",children:"ğŸ”„ æ­£åœ¨åˆ†ææ‚¨çš„ç™¼éŸ³..."})]})]})})};export{ue as default};
