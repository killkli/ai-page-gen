import{e as R,r as s,j as e}from"./react-vendor-dvagwoNb.js";import{S as W,M as F,a as z,O as U}from"./ObjectivesReview-0kHu4vej.js";import{n as q,o as J,k as Q}from"./gemini-service-DqzV0kEP.js";import"./vendor-D6m3ha6S.js";import"./app-services-CTwpurZm.js";import"./ai-vendor-ClgCF3w8.js";const V=[{id:"clt",title:"æºé€šå¼æ•™å­¸ (CLT)",description:"å¼·èª¿èªžè¨€çš„åŠŸèƒ½æ€§ï¼Œé€éŽçœŸå¯¦æƒ…å¢ƒçš„äº’å‹•èˆ‡æºé€šä¾†å­¸ç¿’è‹±èªžã€‚"},{id:"tpr",title:"å…¨èº«åæ‡‰æ•™å­¸æ³• (TPR)",description:"çµåˆè‚¢é«”å‹•ä½œèˆ‡èªžè¨€æŒ‡ä»¤ï¼Œå¹«åŠ©å­¸ç”Ÿå»ºç«‹è½åŠ›ç†è§£èˆ‡å‹•ä½œçš„é€£çµï¼Œé™ä½Žå­¸ç¿’ç„¦æ…®ã€‚"},{id:"phonics",title:"è‡ªç„¶ç™¼éŸ³æ³• (Phonics)",description:"æ•™æŽˆå­—æ¯èˆ‡ç™¼éŸ³çš„å°æ‡‰è¦å‰‡ï¼Œå¹«åŠ©å­¸ç”Ÿè¦‹å­—è®€éŸ³ã€è½éŸ³æ‹¼å­—ã€‚"},{id:"scaffolding",title:"é·¹æž¶ç†è«– (Scaffolding)",description:"æä¾›é©ç•¶çš„è¼”åŠ©èˆ‡å¼•å°Žï¼Œå”åŠ©å­¸ç”Ÿè·¨è¶Šå­¸ç¿’é›£é»žï¼Œé€æ­¥é”æˆå­¸ç¿’ç›®æ¨™ã€‚"},{id:"gamification",title:"éŠæˆ²åŒ–æ•™å­¸ (Gamification)",description:"é‹ç”¨éŠæˆ²å…ƒç´ èˆ‡æ©Ÿåˆ¶ï¼Œæå‡å­¸ç”Ÿçš„å­¸ç¿’å‹•æ©Ÿèˆ‡åƒèˆ‡åº¦ã€‚"},{id:"ppp",title:"PPP æ•™å­¸æ³•",description:"å‘ˆç¾ (Presentation) -> ç·´ç¿’ (Practice) -> ç”¢å‡º (Production) çš„ç¶“å…¸æ•™å­¸æµç¨‹ã€‚"},{id:"tbl",title:"ä»»å‹™å°Žå‘å­¸ç¿’ (TBL)",description:"ä»¥å®Œæˆç‰¹å®šä»»å‹™ç‚ºæ ¸å¿ƒï¼Œè®“å­¸ç”Ÿåœ¨éŽç¨‹ä¸­é‹ç”¨è‹±èªžè§£æ±ºå•é¡Œã€‚"},{id:"cooperative",title:"åˆä½œå­¸ç¿’ (Cooperative)",description:"é€éŽå°çµ„åˆä½œå®Œæˆå­¸ç¿’ä»»å‹™ï¼Œä¿ƒé€²åŒå„•äº’å‹•èˆ‡äº’åŠ©ã€‚"}],X=[{id:"preschool",label:"å­¸é½¡å‰ (Preschool)"},{id:"elementary_low",label:"åœ‹å°ä½Žå¹´ç´š (1-2å¹´ç´š)"},{id:"elementary_mid",label:"åœ‹å°ä¸­å¹´ç´š (3-4å¹´ç´š)"},{id:"elementary_high",label:"åœ‹å°é«˜å¹´ç´š (5-6å¹´ç´š)"},{id:"junior_7",label:"åœ‹ä¸­ä¸ƒå¹´ç´š"},{id:"junior_8",label:"åœ‹ä¸­å…«å¹´ç´š"},{id:"junior_9",label:"åœ‹ä¸­ä¹å¹´ç´š"},{id:"high_school_review",label:"é«˜ä¸­è¤‡ç¿’"}],re=({onComplete:C,apiKey:k})=>{const w=R(),[i,o]=s.useState(1),[h,u]=s.useState(!1),[E,p]=s.useState(!1),[b,a]=s.useState(null),[c,P]=s.useState(1),[r,d]=s.useState(45),[m,j]=s.useState("physical"),[v,G]=s.useState("none"),[x,M]=s.useState("elementary_mid"),[n,_]=s.useState([]),[f,T]=s.useState("clt"),[g,y]=s.useState([]),[I,O]=s.useState(""),N=async()=>await Q()?"provider-system-placeholder-key":k,A=async()=>{if(i===2){u(!0),a(null);try{const t=await N();if(!t)throw new Error("è«‹å…ˆè¨­å®š API Key æˆ–é…ç½® AI Provider");const l=await J({studentCount:c,classDuration:r,teachingContext:m,priorExperience:v,studentGrade:x,selectedMaterials:n,teachingMethod:f},t);y(l.learningObjectives),O(l.topic),o(3)}catch(t){console.error("Error generating objectives:",t),a(t.message||"ç”Ÿæˆå­¸ç¿’ç›®æ¨™æ™‚ç™¼ç”ŸéŒ¯èª¤")}finally{u(!1)}}else o(i+1)},L=()=>{o(i-1)},D=async()=>{p(!0),a(null);try{const t=await N();if(!t)throw new Error("è«‹å…ˆè¨­å®š API Key æˆ–é…ç½® AI Provider");const S=await q(I,g,t),l=`English: ${n.map(H=>H.title).join(", ")}`;await C(S,l),w("/")}catch(t){console.error("Error generating content:",t),a(t.message||"ç”Ÿæˆæ•™æå…§å®¹æ™‚ç™¼ç”ŸéŒ¯èª¤")}finally{p(!1)}},K=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["å­¸ç”Ÿäººæ•¸: ",c," äºº"]}),e.jsx("input",{type:"range",min:"1",max:"50",value:c,onChange:t=>P(parseInt(t.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"1äºº (å®¶æ•™)"}),e.jsx("span",{children:"50äºº (å¤§ç­)"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["èª²ç¨‹æ™‚é–“: ",r," åˆ†é˜"]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>d(Math.max(15,r-15)),className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200 text-gray-600",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),e.jsx("input",{type:"number",value:r,onChange:t=>d(Math.max(1,parseInt(t.target.value)||0)),className:"block w-24 text-center rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm border p-2"}),e.jsx("button",{type:"button",onClick:()=>d(r+15),className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200 text-gray-600",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"å­¸ç”Ÿå¹´ç´š"}),e.jsx("select",{value:x,onChange:t=>M(t.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md border",children:X.map(t=>e.jsx("option",{value:t.id,children:t.label},t.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"æ•™å­¸å ´æ™¯"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:`border rounded-lg p-4 cursor-pointer flex flex-col items-center justify-center text-center transition-colors ${m==="physical"?"bg-indigo-50 border-indigo-500 text-indigo-700":"hover:bg-gray-50 border-gray-200"}`,onClick:()=>j("physical"),children:[e.jsx("span",{className:"text-lg mb-1",children:"ðŸ«"}),e.jsx("span",{className:"font-medium",children:"å¯¦é«”æ•™å®¤"})]}),e.jsxs("div",{className:`border rounded-lg p-4 cursor-pointer flex flex-col items-center justify-center text-center transition-colors ${m==="online"?"bg-indigo-50 border-indigo-500 text-indigo-700":"hover:bg-gray-50 border-gray-200"}`,onClick:()=>j("online"),children:[e.jsx("span",{className:"text-lg mb-1",children:"ðŸ’»"}),e.jsx("span",{className:"font-medium",children:"ç·šä¸Šæ•™å­¸"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"å­¸ç”Ÿå…ˆå‚™ç¶“é©— / ç‰¹æ®Šéœ€æ±‚"}),e.jsx("div",{className:"space-y-2",children:[{id:"none",label:"ç„¡ç‰¹æ®Šç¶“é©— (ä¸€èˆ¬å­¸ç”Ÿ)"},{id:"partial",label:"éƒ¨åˆ†å…ˆå‚™çŸ¥è­˜ (éœ€è¤‡ç¿’)"},{id:"special_needs",label:"ç‰¹æ®Šå­¸ç¿’éœ€æ±‚ (éœ€æ›´å¤šå¼•å°Ž)"}].map(t=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:`exp-${t.id}`,name:"priorExperience",type:"radio",checked:v===t.id,onChange:()=>G(t.id),className:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300"}),e.jsx("label",{htmlFor:`exp-${t.id}`,className:"ml-3 block text-sm font-medium text-gray-700",children:t.label})]},t.id))})]})]}),$=()=>e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"é¸æ“‡åšå¹¼æ•™æå–®å…ƒ"}),e.jsx(F,{subject:"english",studentGrade:x,selectedMaterials:n,onSelectionChange:_}),n.length===0&&e.jsx("p",{className:"text-sm text-red-500 mt-2",children:"* è«‹è‡³å°‘é¸æ“‡ä¸€å€‹æ•™æå–®å…ƒ"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"é¸æ“‡æ•™å­¸æ³•"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:V.map(t=>e.jsx(z,{id:t.id,title:t.title,description:t.description,selected:f===t.id,onSelect:()=>T(t.id)},t.id))})]})]}),B=()=>e.jsx(U,{objectives:g,onObjectivesChange:y,isGenerating:h});return e.jsxs("div",{className:"max-w-4xl mx-auto",children:[b&&e.jsx("div",{className:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg",children:b}),e.jsxs(W,{currentStep:i,totalSteps:3,title:"è‹±èªžæ•™æç”Ÿæˆè¨­å®š",onNext:A,onPrev:L,onSubmit:D,canNext:i===1||i===2&&n.length>0,canFinish:i===3&&g.length>0,isSubmitting:h||E,children:[i===1&&K(),i===2&&$(),i===3&&B()]})]})};export{re as default};
