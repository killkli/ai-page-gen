import{e as B,r as s,j as e}from"./react-vendor-CKBOTALK.js";import{S as F,M as W,a as z,O as U}from"./ObjectivesReview-DXHdrlBD.js";import{R as V,S as q,F as J}from"./app-services-2y2dLhqm.js";import"./vendor-D_G8XHYM.js";import"./ai-vendor-DJy2VIy7.js";const Q=[{id:"visual",title:"è¦–è¦ºåŒ–æ•™å­¸ (Visual)",description:"åˆ©ç”¨åœ–è¡¨ã€å¹¾ä½•åœ–å½¢å’Œè¦–è¦ºè¼”åŠ©å·¥å…·ä¾†è§£é‡‹æ•¸å­¸æ¦‚å¿µï¼Œå¹«åŠ©å­¸ç”Ÿå»ºç«‹ç›´è§€ç†è§£ã€‚"},{id:"cpa",title:"CPA æ•™å­¸æ³•",description:"å…·é«” (Concrete) -> åœ–åƒ (Pictorial) -> æŠ½è±¡ (Abstract) çš„ä¸‰éšŽæ®µæ•™å­¸ï¼Œå¾ªåºæ¼¸é€²å»ºç«‹æ¦‚å¿µã€‚"},{id:"concept_oriented",title:"æ¦‚å¿µå°Žå‘ (Concept-oriented)",description:"å¼·èª¿æ•¸å­¸æ ¸å¿ƒæ¦‚å¿µçš„ç†è§£èˆ‡é€£çµï¼Œè€Œéžåƒ…åƒ…è¨˜æ†¶å…¬å¼æˆ–è§£é¡Œæ­¥é©Ÿã€‚"},{id:"discovery",title:"ç™¼ç¾å¼å­¸ç¿’ (Discovery)",description:"å¼•å°Žå­¸ç”Ÿé€éŽè§€å¯Ÿã€å¯¦é©—å’ŒæŽ¨ç†ï¼Œè‡ªå·±ç™¼ç¾æ•¸å­¸è¦å¾‹å’Œå®šç†ã€‚"},{id:"gamification",title:"éŠæˆ²åŒ–æ•™å­¸ (Gamification)",description:"å°‡æ•¸å­¸ç·´ç¿’èžå…¥éŠæˆ²æ©Ÿåˆ¶ä¸­ï¼Œæé«˜å­¸ç¿’å‹•æ©Ÿå’Œåƒèˆ‡åº¦ã€‚"},{id:"contextual",title:"æƒ…å¢ƒå¼æ•™å­¸ (Contextual)",description:"å°‡æ•¸å­¸å•é¡Œç½®æ–¼çœŸå¯¦ç”Ÿæ´»æƒ…å¢ƒä¸­ï¼Œè®“å­¸ç”Ÿç†è§£æ•¸å­¸çš„å¯¦éš›æ‡‰ç”¨åƒ¹å€¼ã€‚"}],X=[{id:"preschool",label:"å­¸é½¡å‰ (Preschool)"},{id:"elementary_low",label:"åœ‹å°ä½Žå¹´ç´š (1-2å¹´ç´š)"},{id:"elementary_mid",label:"åœ‹å°ä¸­å¹´ç´š (3-4å¹´ç´š)"},{id:"elementary_high",label:"åœ‹å°é«˜å¹´ç´š (5-6å¹´ç´š)"},{id:"junior_7",label:"åœ‹ä¸­ä¸ƒå¹´ç´š"},{id:"junior_8",label:"åœ‹ä¸­å…«å¹´ç´š"},{id:"junior_9",label:"åœ‹ä¸­ä¹å¹´ç´š"},{id:"high_school_review",label:"é«˜ä¸­è¤‡ç¿’"}],re=({onComplete:C,apiKey:w})=>{const k=B(),[r,l]=s.useState(1),[g,h]=s.useState(!1),[M,p]=s.useState(!1),[b,a]=s.useState(null),[c,E]=s.useState(1),[i,d]=s.useState(45),[m,j]=s.useState("physical"),[v,_]=s.useState("none"),[x,G]=s.useState("elementary_mid"),[n,P]=s.useState([]),[y,A]=s.useState("concept_oriented"),[u,f]=s.useState([]),[I,O]=s.useState(""),N=async()=>await J()?"provider-system-placeholder-key":w,T=async()=>{if(r===2){h(!0),a(null);try{const t=await N();if(!t)throw new Error("è«‹å…ˆè¨­å®š API Key æˆ–é…ç½® AI Provider");const o=await q({studentCount:c,classDuration:i,teachingContext:m,priorExperience:v,studentGrade:x,selectedMaterials:n,teachingMethod:y},t);f(o.learningObjectives),O(o.topic),l(3)}catch(t){console.error("Error generating objectives:",t),a(t.message||"ç”Ÿæˆå­¸ç¿’ç›®æ¨™æ™‚ç™¼ç”ŸéŒ¯èª¤")}finally{h(!1)}}else l(r+1)},D=()=>{l(r-1)},K=async()=>{p(!0),a(null);try{const t=await N();if(!t)throw new Error("è«‹å…ˆè¨­å®š API Key æˆ–é…ç½® AI Provider");const S=await V(I,u,t),o=`Math: ${n.map(R=>R.title).join(", ")}`;await C(S,o),k("/")}catch(t){console.error("Error generating content:",t),a(t.message||"ç”Ÿæˆæ•™æå…§å®¹æ™‚ç™¼ç”ŸéŒ¯èª¤")}finally{p(!1)}},$=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["å­¸ç”Ÿäººæ•¸: ",c," äºº"]}),e.jsx("input",{type:"range",min:"1",max:"50",value:c,onChange:t=>E(parseInt(t.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"1äºº (å®¶æ•™)"}),e.jsx("span",{children:"50äºº (å¤§ç­)"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["èª²ç¨‹æ™‚é–“: ",i," åˆ†é˜"]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>d(Math.max(15,i-15)),className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200 text-gray-600",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),e.jsx("input",{type:"number",value:i,onChange:t=>d(Math.max(1,parseInt(t.target.value)||0)),className:"block w-24 text-center rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm border p-2"}),e.jsx("button",{type:"button",onClick:()=>d(i+15),className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200 text-gray-600",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"å­¸ç”Ÿå¹´ç´š"}),e.jsx("select",{value:x,onChange:t=>G(t.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md border",children:X.map(t=>e.jsx("option",{value:t.id,children:t.label},t.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"æ•™å­¸å ´æ™¯"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:`border rounded-lg p-4 cursor-pointer flex flex-col items-center justify-center text-center transition-colors ${m==="physical"?"bg-indigo-50 border-indigo-500 text-indigo-700":"hover:bg-gray-50 border-gray-200"}`,onClick:()=>j("physical"),children:[e.jsx("span",{className:"text-lg mb-1",children:"ðŸ«"}),e.jsx("span",{className:"font-medium",children:"å¯¦é«”æ•™å®¤"})]}),e.jsxs("div",{className:`border rounded-lg p-4 cursor-pointer flex flex-col items-center justify-center text-center transition-colors ${m==="online"?"bg-indigo-50 border-indigo-500 text-indigo-700":"hover:bg-gray-50 border-gray-200"}`,onClick:()=>j("online"),children:[e.jsx("span",{className:"text-lg mb-1",children:"ðŸ’»"}),e.jsx("span",{className:"font-medium",children:"ç·šä¸Šæ•™å­¸"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"å­¸ç”Ÿå…ˆå‚™ç¶“é©— / ç‰¹æ®Šéœ€æ±‚"}),e.jsx("div",{className:"space-y-2",children:[{id:"none",label:"ç„¡ç‰¹æ®Šç¶“é©— (ä¸€èˆ¬å­¸ç”Ÿ)"},{id:"partial",label:"éƒ¨åˆ†å…ˆå‚™çŸ¥è­˜ (éœ€è¤‡ç¿’)"},{id:"special_needs",label:"ç‰¹æ®Šå­¸ç¿’éœ€æ±‚ (éœ€æ›´å¤šå¼•å°Ž)"}].map(t=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:`exp-${t.id}`,name:"priorExperience",type:"radio",checked:v===t.id,onChange:()=>_(t.id),className:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300"}),e.jsx("label",{htmlFor:`exp-${t.id}`,className:"ml-3 block text-sm font-medium text-gray-700",children:t.label})]},t.id))})]})]}),H=()=>e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"é¸æ“‡åšå¹¼æ•™æå–®å…ƒ"}),e.jsx(W,{subject:"math",studentGrade:x,selectedMaterials:n,onSelectionChange:P}),n.length===0&&e.jsx("p",{className:"text-sm text-red-500 mt-2",children:"* è«‹è‡³å°‘é¸æ“‡ä¸€å€‹æ•™æå–®å…ƒ"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"é¸æ“‡æ•™å­¸æ³•"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Q.map(t=>e.jsx(z,{id:t.id,title:t.title,description:t.description,selected:y===t.id,onSelect:()=>A(t.id)},t.id))})]})]}),L=()=>e.jsx(U,{objectives:u,onObjectivesChange:f,isGenerating:g});return e.jsxs("div",{className:"max-w-4xl mx-auto",children:[b&&e.jsx("div",{className:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg",children:b}),e.jsxs(F,{currentStep:r,totalSteps:3,title:"æ•¸å­¸æ•™æç”Ÿæˆè¨­å®š",onNext:T,onPrev:D,onSubmit:K,canNext:r===1||r===2&&n.length>0,canFinish:r===3&&u.length>0,isSubmitting:g||M,children:[r===1&&$(),r===2&&H(),r===3&&L()]})]})};export{re as default};
