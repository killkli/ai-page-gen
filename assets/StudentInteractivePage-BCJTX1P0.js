import{u as V,r as g,j as e}from"./react-vendor-CKBOTALK.js";import{g as q}from"./app-services-2y2dLhqm.js";import{L as K,T as X,f as Y,h as Z,M as ee}from"./interactive-components-Bz66s04f.js";import"./vendor-D_G8XHYM.js";import"./ai-vendor-DJy2VIy7.js";const ie=()=>{const[P]=V(),p=P.get("binId"),[c,W]=g.useState(null),[A,w]=g.useState(!0),[I,k]=g.useState(null),[u,y]=g.useState(null),[x,E]=g.useState(0),[d,_]=g.useState([]),[H,O]=g.useState(!1),[h,T]=g.useState(null);g.useEffect(()=>{p?(async()=>{try{w(!0),k(null);const t=await q(p);if(!t.isInteractive)throw new Error("æ­¤å…§å®¹å°šæœªæº–å‚™ç‚ºäº’å‹•æ•™æ");W(t),F(t)}catch(t){console.error("è¼‰å…¥äº’å‹•å…§å®¹å¤±æ•—:",t),k(t.message||"è¼‰å…¥äº’å‹•å…§å®¹æ™‚ç™¼ç”ŸéŒ¯èª¤")}finally{w(!1)}})():(k("ç¼ºå°‘å¿…è¦åƒæ•¸ï¼šbinId"),w(!1))},[p]),g.useEffect(()=>{const s=t=>{const a=`student_interactive_${p}`;try{const j=localStorage.getItem(a);if(j){const b=JSON.parse(j);y(b);const f=b.progress.currentObjectiveIndex||0,o=Math.min(Math.max(0,f),d.length-1);E(o)}else{const b={contentId:p||"unknown",topic:t.topic||"äº’å‹•å­¸ç¿’",progress:{currentObjectiveIndex:0,completedObjectives:[],timeSpent:0,interactionCount:0,startTime:Date.now(),lastUpdateTime:Date.now(),completedActivities:[]},interactions:[],createdAt:Date.now(),updatedAt:Date.now()};y(b),localStorage.setItem(a,JSON.stringify(b))}}catch(j){console.error("åˆå§‹åŒ–å­¸ç¿’æœƒè©±å¤±æ•—:",j)}};c&&d.length>0&&s(c)},[c,d,p]);const F=s=>{const t=[],a=s.transformedData||{};console.log("Initial content:",s),console.log("Transformed data keys:",Object.keys(a)),console.log("Transformed data:",a),s.originalContent&&console.log("Original content from JSON:",s.originalContent);const j=Object.keys(a).sort((o,l)=>{const i=parseInt(o.replace("step_","")),m=parseInt(l.replace("step_",""));return i-m});console.log("Sorted step IDs:",j);const b=s.includedSteps||Object.keys(a);console.log("Included steps:",b);const f={};if(s.originalContent)console.log("Using originalContent from JSON for mapping"),Object.keys(s.originalContent).forEach(o=>{const l=s.originalContent[o];l&&b.includes(o)&&(f[o]={content:l.content,type:l.type,index:l.index||0})});else{console.log("Using fallback method to build original content mapping");const o=[];s.learningObjectives&&s.learningObjectives.forEach((l,i)=>{o.push({content:l,type:"objective",typeIndex:i})}),s.contentBreakdown&&s.contentBreakdown.forEach((l,i)=>{o.push({content:l,type:"breakdown",typeIndex:i})}),s.confusingPoints&&s.confusingPoints.forEach((l,i)=>{o.push({content:l,type:"confusing",typeIndex:i})}),console.log("All original content (fallback):",o),b.forEach((l,i)=>{if(i<o.length){const m=o[i];f[l]={content:m.content,type:m.type,index:m.typeIndex},console.log(`Mapping ${l} to original content at index ${i}:`,m)}})}console.log("Original lookup:",f),j.forEach(o=>{const l=a[o],i=f[o];if(l&&i){let m="",N="",v="";switch(i.type){case"objective":m=`ğŸ“š å­¸ç¿’ç›®æ¨™ ${i.index+1}`,N="ğŸ¯",v=l.objective?.length>50?`${l.objective.substring(0,50)}...`:l.objective||i.content.objective;break;case"breakdown":m=`ğŸ” æ·±åº¦å­¸ç¿’ ${i.index+1}`,N="ğŸ“–",v=l.title?.length>50?`${l.title.substring(0,50)}...`:l.title||i.content.topic;break;case"confusing":m=`âš¡ é‡è¦æé†’ ${i.index+1}`,N="ğŸ’¡",v=l.title?.length>50?`${l.title.substring(0,50)}...`:l.title||i.content.point;break}console.log(`Creating step: ${o}, type: ${i.type}, title: ${m}`),t.push({id:o,title:m,type:i.type,icon:N,description:v,content:l,originalIndex:i.index})}}),t.length>0&&t.push({id:"summary",title:"ğŸ¯ å­¸ç¿’å®Œæˆ",type:"summary",icon:"ğŸ†",description:"æ­å–œå®Œæˆå­¸ç¿’ï¼Œé–‹å§‹å¯¦è¸æ‡‰ç”¨ï¼",content:null}),console.log("Final steps:",t),_(t)},$=s=>{const t=`student_interactive_${p}`;s.updatedAt=Date.now(),s.progress.lastUpdateTime=Date.now(),y(s),localStorage.setItem(t,JSON.stringify(s))},C=s=>{if(!u)return;const t={...u};t.progress.completedObjectives.includes(s)||(t.progress.completedObjectives.push(s),t.progress.interactionCount+=1),$(t)},B=s=>{if(s>=0&&s<d.length&&d[s]&&(E(s),window.scrollTo({top:0,behavior:"smooth"}),u)){const t={...u};t.progress.currentObjectiveIndex=s,$(t)}},J=()=>{x<d.length-1&&B(x+1)},G=()=>{x>0&&B(x-1)},S=()=>{const s=d[x];if(!s||!c?.stepQuizData)return;const t=c.stepQuizData[s.id];t&&(T(t),O(!0))},Q=()=>{O(!1),T(null)},L=()=>{const s=d[x];return s&&c?.stepQuizData&&c.stepQuizData[s.id]},R=s=>s?[/#+\s/,/\*\*.*\*\*/,/\*.*\*/,/`.*`/,/^\s*[-*+]\s/m,/^\s*\d+\.\s/m,/\[.*\]\(.*\)/,/^\s*>/m,/```[\s\S]*?```/,/\n\s*\n/].some(a=>a.test(s)):!1,r=(s,t)=>R(s)?e.jsx(ee,{content:s,className:t}):e.jsx("span",{className:t,children:s});if(A)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-sky-50 to-indigo-100 py-8 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"flex justify-center items-center min-h-[50vh]",children:e.jsx(K,{})})});if(I)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-sky-50 to-indigo-100 py-8 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg shadow-md",children:[e.jsx("h3",{className:"font-bold text-lg mb-2",children:"è¼‰å…¥éŒ¯èª¤"}),e.jsx("p",{children:I})]})})});if(!c||!u||d.length===0)return null;const n=d[x];if(!n)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-sky-50 to-indigo-100 py-8 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded-lg shadow-md",children:[e.jsx("h3",{className:"font-bold text-lg mb-2",children:"æ²’æœ‰å¯ç”¨çš„å­¸ç¿’æ­¥é©Ÿ"}),e.jsx("p",{children:"æ­¤äº’å‹•æ•™æå¯èƒ½é‚„æ²’æœ‰è½‰æ›ä»»ä½•å…§å®¹ï¼Œæˆ–è€…å…§å®¹è¼‰å…¥æœ‰å•é¡Œã€‚"}),e.jsx("p",{className:"mt-2 text-sm",children:"è«‹ç¢ºèªæ•™å¸«å·²ç¶“è½‰æ›ä¸¦ç™¼å¸ƒäº†å­¸ç¿’å…§å®¹ã€‚"})]})})});const M=u.progress.completedObjectives.length,z=d.length-1,D=z>0?M/z*100:0,U=()=>{const s=u.progress.completedObjectives.includes(n.id);switch(n.type){case"objective":return e.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[e.jsxs("div",{className:"bg-gradient-to-br from-indigo-500 to-sky-500 rounded-3xl shadow-2xl p-12 text-white text-center",children:[e.jsx("div",{className:"text-6xl mb-6",children:"ğŸ¯"}),e.jsx("div",{className:"text-4xl font-bold mb-6 leading-tight",children:r(n.content.objective,"text-4xl font-bold leading-tight text-white")}),n.content.description&&e.jsx("div",{className:"text-xl text-indigo-100 leading-relaxed max-w-3xl mx-auto",children:r(n.content.description,"text-xl text-indigo-100 leading-relaxed")})]}),e.jsxs("div",{className:"space-y-6",children:[n.content.personalRelevance&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[e.jsxs("h3",{className:"text-2xl font-bold text-purple-700 mb-6 flex items-center",children:[e.jsx("span",{className:"text-3xl mr-3",children:"ğŸŒŸ"}),"é€™å°ä½ å¾ˆé‡è¦"]}),e.jsx("div",{className:"bg-purple-50 rounded-xl p-6 text-lg leading-relaxed text-purple-900",children:r(n.content.personalRelevance,"text-lg leading-relaxed text-purple-900")})]}),n.content.teachingExample&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[e.jsxs("h3",{className:"text-2xl font-bold text-green-700 mb-6 flex items-center",children:[e.jsx("span",{className:"text-3xl mr-3",children:"ğŸ“"}),"å¯¦éš›æ‡‰ç”¨"]}),e.jsx("div",{className:"bg-green-50 rounded-xl p-6 text-lg leading-relaxed text-green-900",children:r(n.content.teachingExample,"text-lg leading-relaxed text-green-900")})]}),n.content.encouragement&&e.jsxs("div",{className:"bg-gradient-to-r from-sky-50 to-indigo-50 rounded-2xl p-8",children:[e.jsxs("h3",{className:"text-2xl font-bold text-sky-700 mb-6 flex items-center",children:[e.jsx("span",{className:"text-3xl mr-3",children:"ğŸ’ª"}),"ç‚ºä½ åŠ æ²¹"]}),e.jsx("div",{className:"text-lg leading-relaxed text-sky-900 font-medium",children:r(n.content.encouragement,"text-lg leading-relaxed text-sky-900 font-medium")})]})]}),e.jsxs("div",{className:"text-center space-y-4",children:[s?e.jsxs("div",{className:"bg-green-50 border-2 border-green-200 rounded-2xl p-8",children:[e.jsx("div",{className:"text-5xl mb-4",children:"âœ…"}),e.jsx("h4",{className:"text-2xl font-bold text-green-700 mb-2",children:"å¤ªæ£’äº†ï¼"}),e.jsx("p",{className:"text-green-600",children:"ä½ å·²ç¶“æŒæ¡äº†é€™å€‹å­¸ç¿’ç›®æ¨™ï¼"})]}):e.jsxs("div",{className:"bg-slate-50 rounded-2xl p-8",children:[e.jsx("h4",{className:"text-xl font-semibold text-slate-700 mb-4",children:"ç†è§£äº†å—ï¼Ÿ"}),e.jsxs("button",{onClick:()=>C(n.id),className:"px-8 py-4 bg-green-500 hover:bg-green-600 text-white font-bold text-lg rounded-xl transition-colors flex items-center gap-3 mx-auto",children:[e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),"æˆ‘ç†è§£äº†ï¼"]})]}),L()&&e.jsxs("div",{className:"bg-orange-50 border-2 border-orange-200 rounded-2xl p-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-orange-700 mb-3",children:"æƒ³æ¸¬è©¦ä¸€ä¸‹ä½ çš„ç†è§£å—ï¼Ÿ"}),e.jsxs("button",{onClick:S,className:"px-6 py-3 bg-orange-500 hover:bg-orange-600 text-white font-medium text-lg rounded-xl transition-colors flex items-center gap-2 mx-auto",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),"é–‹å§‹ç·´ç¿’æ¸¬é©—"]})]})]})]});case"breakdown":return e.jsxs("div",{className:"max-w-5xl mx-auto space-y-8",children:[e.jsxs("div",{className:"bg-gradient-to-br from-sky-500 to-blue-500 rounded-3xl shadow-2xl p-12 text-white text-center",children:[e.jsx("div",{className:"text-6xl mb-6",children:"ğŸ“–"}),e.jsx("div",{className:"text-4xl font-bold mb-6 leading-tight",children:r(n.content.title||n.content.topic,"text-4xl font-bold leading-tight text-white")}),n.content.introduction&&e.jsx("div",{className:"text-xl text-sky-100 leading-relaxed max-w-3xl mx-auto",children:r(n.content.introduction,"text-xl text-sky-100 leading-relaxed")})]}),e.jsxs("div",{className:"space-y-6",children:[n.content.keyPoints&&n.content.keyPoints.length>0&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[e.jsxs("h3",{className:"text-2xl font-bold text-indigo-700 mb-6 flex items-center",children:[e.jsx("span",{className:"text-3xl mr-3",children:"ğŸ’¡"}),"é‡é»æ¦‚å¿µ"]}),e.jsx("div",{className:"bg-indigo-50 rounded-xl p-6",children:e.jsx("div",{className:"space-y-4",children:n.content.keyPoints.map((t,a)=>e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"flex-shrink-0 w-8 h-8 bg-indigo-500 text-white rounded-full flex items-center justify-center text-sm font-bold mr-4",children:a+1}),e.jsx("div",{className:"text-lg text-indigo-900 leading-relaxed",children:r(t,"text-lg text-indigo-900 leading-relaxed")})]},a))})})]}),n.content.realLifeExamples&&n.content.realLifeExamples.length>0&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[e.jsxs("h3",{className:"text-2xl font-bold text-green-700 mb-6 flex items-center",children:[e.jsx("span",{className:"text-3xl mr-3",children:"ğŸŒŸ"}),"ç”Ÿæ´»ä¸­çš„ä¾‹å­"]}),e.jsx("div",{className:"bg-green-50 rounded-xl p-6",children:e.jsx("div",{className:"space-y-4",children:n.content.realLifeExamples.map((t,a)=>e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"flex-shrink-0 w-8 h-8 bg-green-500 text-white rounded-full flex items-center justify-center text-sm font-bold mr-4",children:a+1}),e.jsx("div",{className:"text-lg text-green-900 leading-relaxed",children:r(t,"text-lg text-green-900 leading-relaxed")})]},a))})})]}),n.content.learningTips&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[e.jsxs("h3",{className:"text-2xl font-bold text-purple-700 mb-6 flex items-center",children:[e.jsx("span",{className:"text-3xl mr-3",children:"ğŸ¯"}),"å­¸ç¿’å°æŠ€å·§"]}),e.jsx("div",{className:"bg-purple-50 rounded-xl p-6 text-lg leading-relaxed text-purple-900",children:r(n.content.learningTips,"text-lg leading-relaxed text-purple-900")})]}),n.content.nextSteps&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[e.jsxs("h3",{className:"text-2xl font-bold text-orange-700 mb-6 flex items-center",children:[e.jsx("span",{className:"text-3xl mr-3",children:"ğŸš€"}),"ä¸‹ä¸€æ­¥æŒ‘æˆ°"]}),e.jsx("div",{className:"bg-orange-50 rounded-xl p-6 text-lg leading-relaxed text-orange-900",children:r(n.content.nextSteps,"text-lg leading-relaxed text-orange-900")})]}),n.content.encouragement&&e.jsxs("div",{className:"bg-gradient-to-r from-pink-50 to-rose-50 rounded-2xl p-8",children:[e.jsxs("h3",{className:"text-2xl font-bold text-pink-700 mb-6 flex items-center",children:[e.jsx("span",{className:"text-3xl mr-3",children:"ğŸ’ª"}),"çµ¦ä½ çš„é¼“å‹µ"]}),e.jsx("div",{className:"text-lg leading-relaxed text-pink-900 font-medium",children:r(n.content.encouragement,"text-lg leading-relaxed text-pink-900 font-medium")})]})]}),e.jsxs("div",{className:"text-center space-y-4",children:[s?e.jsxs("div",{className:"bg-green-50 border-2 border-green-200 rounded-2xl p-8",children:[e.jsx("div",{className:"text-5xl mb-4",children:"âœ…"}),e.jsx("h4",{className:"text-2xl font-bold text-green-700 mb-2",children:"å­¸æœƒäº†ï¼"}),e.jsx("p",{className:"text-green-600",children:"ä½ å·²ç¶“ç†è§£äº†é€™å€‹æ¦‚å¿µï¼"})]}):e.jsxs("div",{className:"bg-slate-50 rounded-2xl p-8",children:[e.jsx("h4",{className:"text-xl font-semibold text-slate-700 mb-4",children:"æŒæ¡äº†é€™äº›æ¦‚å¿µå—ï¼Ÿ"}),e.jsxs("button",{onClick:()=>C(n.id),className:"px-8 py-4 bg-blue-500 hover:bg-blue-600 text-white font-bold text-lg rounded-xl transition-colors flex items-center gap-3 mx-auto",children:[e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),"æˆ‘å­¸æœƒäº†ï¼"]})]}),L()&&e.jsxs("div",{className:"bg-orange-50 border-2 border-orange-200 rounded-2xl p-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-orange-700 mb-3",children:"æƒ³æ¸¬è©¦ä¸€ä¸‹ä½ çš„ç†è§£å—ï¼Ÿ"}),e.jsxs("button",{onClick:S,className:"px-6 py-3 bg-orange-500 hover:bg-orange-600 text-white font-medium text-lg rounded-xl transition-colors flex items-center gap-2 mx-auto",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),"é–‹å§‹ç·´ç¿’æ¸¬é©—"]})]})]})]});case"confusing":return e.jsxs("div",{className:"max-w-5xl mx-auto space-y-8",children:[e.jsxs("div",{className:"bg-gradient-to-br from-amber-500 to-orange-500 rounded-3xl shadow-2xl p-12 text-white text-center",children:[e.jsx("div",{className:"text-6xl mb-6",children:"ğŸ’¡"}),e.jsx("div",{className:"text-4xl font-bold mb-6 leading-tight",children:r(n.content.title||n.content.point,"text-4xl font-bold leading-tight text-white")}),n.content.normalizeConfusion&&e.jsx("div",{className:"text-xl text-amber-100 leading-relaxed max-w-3xl mx-auto",children:r(n.content.normalizeConfusion,"text-xl text-amber-100 leading-relaxed")})]}),e.jsxs("div",{className:"space-y-6",children:[n.content.commonMistake&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[e.jsxs("h3",{className:"text-2xl font-bold text-red-700 mb-6 flex items-center",children:[e.jsx("span",{className:"text-3xl mr-3",children:"âš ï¸"}),"å¸¸è¦‹éŒ¯èª¤"]}),e.jsx("div",{className:"bg-red-50 rounded-xl p-6 text-lg leading-relaxed text-red-900",children:r(n.content.commonMistake,"text-lg leading-relaxed text-red-900")})]}),n.content.whyItHappens&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[e.jsxs("h3",{className:"text-2xl font-bold text-amber-700 mb-6 flex items-center",children:[e.jsx("span",{className:"text-3xl mr-3",children:"ğŸ¤”"}),"ç‚ºä»€éº¼æœƒææ··ï¼Ÿ"]}),e.jsx("div",{className:"bg-amber-50 rounded-xl p-6 text-lg leading-relaxed text-amber-900",children:r(n.content.whyItHappens,"text-lg leading-relaxed text-amber-900")})]}),n.content.clearExplanation&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[e.jsxs("h3",{className:"text-2xl font-bold text-green-700 mb-6 flex items-center",children:[e.jsx("span",{className:"text-3xl mr-3",children:"âœ¨"}),"æ­£ç¢ºçš„ç†è§£"]}),e.jsx("div",{className:"bg-green-50 rounded-xl p-6 text-lg leading-relaxed text-green-900",children:r(n.content.clearExplanation,"text-lg leading-relaxed text-green-900")})]}),n.content.practiceExamples&&n.content.practiceExamples.length>0&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[e.jsxs("h3",{className:"text-2xl font-bold text-blue-700 mb-6 flex items-center",children:[e.jsx("span",{className:"text-3xl mr-3",children:"ğŸ“"}),"ç·´ç¿’ç¯„ä¾‹"]}),e.jsx("div",{className:"bg-blue-50 rounded-xl p-6",children:e.jsx("div",{className:"space-y-6",children:n.content.practiceExamples.map((t,a)=>e.jsx("div",{className:"border-l-4 border-blue-400 pl-4",children:e.jsxs("div",{className:"flex items-start mb-3",children:[e.jsx("span",{className:"flex-shrink-0 w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center text-sm font-bold mr-4",children:a+1}),e.jsx("div",{className:"flex-1",children:typeof t=="string"?e.jsx("div",{className:"text-lg text-blue-900 leading-relaxed",children:r(t,"text-lg text-blue-900 leading-relaxed")}):e.jsxs("div",{className:"space-y-3",children:[t.situation&&e.jsxs("div",{children:[e.jsx("strong",{className:"text-blue-800",children:"æƒ…å¢ƒï¼š"}),e.jsx("span",{className:"text-blue-900 ml-2",children:r(t.situation,"text-blue-900")})]}),t.wrongThinking&&e.jsxs("div",{children:[e.jsx("strong",{className:"text-red-600",children:"âŒ éŒ¯èª¤æƒ³æ³•ï¼š"}),e.jsx("span",{className:"text-red-700 ml-2",children:r(t.wrongThinking,"text-red-700")})]}),t.rightThinking&&e.jsxs("div",{children:[e.jsx("strong",{className:"text-green-600",children:"âœ… æ­£ç¢ºæƒ³æ³•ï¼š"}),e.jsx("span",{className:"text-green-700 ml-2",children:r(t.rightThinking,"text-green-700")})]}),t.explanation&&e.jsxs("div",{children:[e.jsx("strong",{className:"text-purple-600",children:"ğŸ’¡ è§£é‡‹ï¼š"}),e.jsx("span",{className:"text-purple-700 ml-2",children:r(t.explanation,"text-purple-700")})]})]})})]})},a))})})]}),n.content.rememberingTricks&&n.content.rememberingTricks.length>0&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[e.jsxs("h3",{className:"text-2xl font-bold text-purple-700 mb-6 flex items-center",children:[e.jsx("span",{className:"text-3xl mr-3",children:"ğŸ¯"}),"è¨˜æ†¶å°æŠ€å·§"]}),e.jsx("div",{className:"bg-purple-50 rounded-xl p-6",children:e.jsx("div",{className:"space-y-4",children:n.content.rememberingTricks.map((t,a)=>e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"flex-shrink-0 w-8 h-8 bg-purple-500 text-white rounded-full flex items-center justify-center text-sm font-bold mr-4",children:a+1}),e.jsx("div",{className:"text-lg text-purple-900 leading-relaxed",children:r(t,"text-lg text-purple-900 leading-relaxed")})]},a))})})]}),n.content.confidenceBooster&&e.jsxs("div",{className:"bg-gradient-to-r from-sky-50 to-indigo-50 rounded-2xl p-8",children:[e.jsxs("h3",{className:"text-2xl font-bold text-sky-700 mb-6 flex items-center",children:[e.jsx("span",{className:"text-3xl mr-3",children:"ğŸ’ª"}),"ä½ å¯ä»¥çš„ï¼"]}),e.jsx("div",{className:"text-lg leading-relaxed text-sky-900 font-medium",children:r(n.content.confidenceBooster,"text-lg leading-relaxed text-sky-900 font-medium")})]})]}),e.jsxs("div",{className:"text-center space-y-4",children:[s?e.jsxs("div",{className:"bg-green-50 border-2 border-green-200 rounded-2xl p-8",children:[e.jsx("div",{className:"text-5xl mb-4",children:"âœ…"}),e.jsx("h4",{className:"text-2xl font-bold text-green-700 mb-2",children:"è¨˜ä½äº†ï¼"}),e.jsx("p",{className:"text-green-600",children:"ä½ å·²ç¶“æŒæ¡äº†é€™å€‹é‡é»ï¼"})]}):e.jsxs("div",{className:"bg-slate-50 rounded-2xl p-8",children:[e.jsx("h4",{className:"text-xl font-semibold text-slate-700 mb-4",children:"è¨˜ä½é€™äº›é‡é»äº†å—ï¼Ÿ"}),e.jsxs("button",{onClick:()=>C(n.id),className:"px-8 py-4 bg-amber-500 hover:bg-amber-600 text-white font-bold text-lg rounded-xl transition-colors flex items-center gap-3 mx-auto",children:[e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),"æˆ‘è¨˜ä½äº†ï¼"]})]}),L()&&e.jsxs("div",{className:"bg-orange-50 border-2 border-orange-200 rounded-2xl p-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-orange-700 mb-3",children:"æƒ³æ¸¬è©¦ä¸€ä¸‹ä½ çš„è¨˜æ†¶å—ï¼Ÿ"}),e.jsxs("button",{onClick:S,className:"px-6 py-3 bg-orange-500 hover:bg-orange-600 text-white font-medium text-lg rounded-xl transition-colors flex items-center gap-2 mx-auto",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),"é–‹å§‹ç·´ç¿’æ¸¬é©—"]})]})]})]});case"summary":return e.jsxs("div",{className:"text-center space-y-8",children:[e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-2xl p-12",children:[e.jsx("div",{className:"text-6xl mb-6",children:"ğŸ‰"}),e.jsx("h3",{className:"text-3xl font-bold text-green-700 mb-4",children:"æ­å–œå®Œæˆå­¸ç¿’ï¼"}),e.jsxs("p",{className:"text-lg text-slate-600 mb-8",children:["ä½ å·²ç¶“å®Œæˆäº†ã€Œ",c.topic,"ã€çš„å­¸ç¿’æ—…ç¨‹"]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md",children:[e.jsx("div",{className:"text-3xl text-indigo-600 mb-2",children:"ğŸ“š"}),e.jsx("div",{className:"text-2xl font-bold text-slate-800",children:M}),e.jsx("div",{className:"text-sm text-slate-600",children:"å­¸ç¿’æ­¥é©Ÿå®Œæˆ"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md",children:[e.jsx("div",{className:"text-3xl text-sky-600 mb-2",children:"â±ï¸"}),e.jsx("div",{className:"text-2xl font-bold text-slate-800",children:Math.round((Date.now()-u.progress.startTime)/6e4)}),e.jsx("div",{className:"text-sm text-slate-600",children:"åˆ†é˜å­¸ç¿’æ™‚é–“"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md",children:[e.jsx("div",{className:"text-3xl text-green-600 mb-2",children:"ğŸ¯"}),e.jsxs("div",{className:"text-2xl font-bold text-slate-800",children:[Math.round(D),"%"]}),e.jsx("div",{className:"text-sm text-slate-600",children:"å­¸ç¿’å®Œæˆåº¦"})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 rounded-2xl p-8",children:[e.jsx("h4",{className:"text-2xl font-semibold text-purple-700 mb-6",children:"ğŸš€ ç¹¼çºŒæŒ‘æˆ°è‡ªå·±"}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[c.onlineInteractiveQuiz&&e.jsxs("a",{href:`/ai-page-gen/quiz?binId=${p}`,className:"px-8 py-4 bg-orange-500 text-white font-medium rounded-xl hover:bg-orange-600 transition-colors flex items-center gap-3 text-lg",target:"_blank",rel:"noopener noreferrer",children:[e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),"æŒ‘æˆ°äº’å‹•æ¸¬é©—"]}),c.writingPractice&&e.jsxs("a",{href:`/ai-page-gen/writing?binId=${p}`,className:"px-8 py-4 bg-purple-500 text-white font-medium rounded-xl hover:bg-purple-600 transition-colors flex items-center gap-3 text-lg",target:"_blank",rel:"noopener noreferrer",children:[e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),"ç·´ç¿’å¯«ä½œæŠ€èƒ½"]})]})]})]});default:return e.jsx("div",{children:"æœªçŸ¥æ­¥é©Ÿé¡å‹"})}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-sky-50 to-indigo-100",children:[e.jsx("div",{className:"sticky top-0 z-10 bg-white/95 backdrop-blur-sm border-b border-slate-200 shadow-sm",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-semibold text-slate-800",children:c.topic}),e.jsxs("p",{className:"text-xs text-slate-500",children:["ç¬¬ ",x+1," æ­¥ï¼Œå…± ",d.length," æ­¥"]})]}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-500",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),Math.round((Date.now()-u.progress.startTime)/6e4)," åˆ†é˜"]})]}),e.jsx("div",{className:"w-full bg-slate-200 rounded-full h-1.5 mb-1",children:e.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-sky-500 h-1.5 rounded-full transition-all duration-500 ease-out",style:{width:`${(x+1)/d.length*100}%`}})}),e.jsx("div",{className:"text-center",children:e.jsxs("span",{className:"text-xs text-slate-400",children:["å®Œæˆ ",M,"/",z," â€¢ ",Math.round(D),"%"]})})]})}),e.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"text-5xl mb-4",children:n.icon}),e.jsx("h2",{className:"text-3xl font-bold text-slate-800 mb-2",children:n.title}),e.jsx("div",{className:"text-lg text-slate-600",children:r(n.description,"text-lg text-slate-600")})]}),e.jsx("div",{className:"mb-8",children:U()}),e.jsxs("div",{className:"flex items-center justify-between pt-8 border-t border-slate-200",children:[e.jsxs("button",{onClick:G,disabled:x===0,className:"flex items-center gap-2 px-6 py-3 bg-slate-500 text-white font-medium rounded-lg hover:bg-slate-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})}),"ä¸Šä¸€æ­¥"]}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-sm text-slate-600",children:[x+1," / ",d.length]})}),e.jsxs("button",{onClick:J,disabled:x===d.length-1,className:"flex items-center gap-2 px-6 py-3 bg-indigo-500 text-white font-medium rounded-lg hover:bg-indigo-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:["ä¸‹ä¸€æ­¥",e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})]})]})]}),H&&h&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b p-6 flex items-center justify-between rounded-t-2xl",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"ğŸ“ æ­¥é©Ÿç·´ç¿’æ¸¬é©—"}),e.jsx("button",{onClick:Q,className:"p-2 hover:bg-slate-100 rounded-full transition-colors",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"p-6 space-y-8",children:[h.trueFalse&&h.trueFalse.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-semibold text-slate-700 mb-4 flex items-center gap-2",children:[e.jsx("span",{children:"âœ“"})," æ˜¯éåˆ¤æ–·é¡Œ"]}),e.jsx("div",{className:"space-y-4",children:h.trueFalse.map((s,t)=>e.jsx(X,{question:s,itemNumber:t+1},`tf-${t}`))})]}),h.multipleChoice&&h.multipleChoice.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-semibold text-slate-700 mb-4 flex items-center gap-2",children:[e.jsx("span",{children:"ğŸ“"})," é¸æ“‡é¡Œ"]}),e.jsx("div",{className:"space-y-4",children:h.multipleChoice.map((s,t)=>e.jsx(Y,{question:s,itemNumber:t+1},`mc-${t}`))})]}),h.memoryCardGame&&h.memoryCardGame.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-semibold text-slate-700 mb-4 flex items-center gap-2",children:[e.jsx("span",{children:"ğŸ§ "})," è¨˜æ†¶å¡é…å°"]}),e.jsx("div",{className:"space-y-4",children:h.memoryCardGame.map((s,t)=>e.jsx(Z,{question:s,itemNumber:t+1},`mcg-${t}`))})]})]}),e.jsx("div",{className:"sticky bottom-0 bg-slate-50 p-6 border-t rounded-b-2xl",children:e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:Q,className:"px-8 py-3 bg-indigo-500 hover:bg-indigo-600 text-white font-medium rounded-xl transition-colors",children:"å®Œæˆç·´ç¿’"})})})]})})]})};export{ie as default};
