import{j as e,r,R as G,a as Re,u as ke,b as Et,B as Tt,c as zt,d as le,L as Ue,e as Rt}from"./react-vendor-Jj25Hemk.js";import{Q as re,d as Je,D as it,e as Bt,g as Wt,f as Dt,h as Be,i as Vt,j as Ot,k as Ht,l as qt,m as Gt,n as Kt,o as Ft,p as _t}from"./gemini-service-B8GMYO0-.js";import{Q as Qt,R as Zt,S as Ce,T as Pe,O as Me,U as Se,V as ot,W as Ut,X as Jt,J as Yt,Y as Q,Z as Xt,_ as es,$ as ae,a0 as xe,a1 as ts,a2 as ve,a3 as ss,a4 as rs,a5 as ns,a6 as as,a7 as ls,N as ie,M as dt,a8 as pe,a9 as is,aa as Ye,ab as he,ac as os}from"./app-services-CP-bsfWb.js";import{L as de,P as ye,T as We,a as De,F as ct,S as xt,b as Ve,C as Ee,c as ds,d as cs,e as xs,f as Oe,X as He,g as ms,h as Ie,A as oe,B as $e,i as hs,j as be,H as ge,k as Te,l as Ae,E as Xe,m as gs,M as us,I as ps}from"./interactive-components-CpiBcYzd.js";import{W as mt,T as bs}from"./teacher-components-CaR8S0_9.js";import{Q as et}from"./ui-utilities-KNfhrPeM.js";import"./vendor-BSDWLO4a.js";import"./ai-vendor-CzdzQo8W.js";(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))x(l);new MutationObserver(l=>{for(const d of l)if(d.type==="childList")for(const n of d.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&x(n)}).observe(document,{childList:!0,subtree:!0});function a(l){const d={};return l.integrity&&(d.integrity=l.integrity),l.referrerPolicy&&(d.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?d.credentials="include":l.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function x(l){if(l.ep)return;l.ep=!0;const d=a(l);fetch(l.href,d)}})();const fs=({topic:t,setTopic:c,onGenerate:a,onGenerateWithLevels:x,isLoading:l})=>{const d=m=>{m.preventDefault(),!l&&t.trim()&&a()},n=m=>{m.preventDefault(),!l&&t.trim()&&x&&x()};return e.jsxs("form",{onSubmit:d,className:"mb-8 p-6 bg-white shadow-lg rounded-xl",children:[e.jsx("label",{htmlFor:"topic-input",className:"block text-xl font-semibold text-slate-700 mb-3",children:"è¼¸å…¥å­¸ç¿’ä¸»é¡Œ"}),e.jsxs("div",{className:"flex flex-col space-y-3",children:[e.jsx("input",{id:"topic-input",type:"text",value:t,onChange:m=>c(m.target.value),placeholder:"ä¾‹å¦‚ï¼šå…‰åˆä½œç”¨ã€JavaScript Promisesã€æ³•åœ‹å¤§é©å‘½",className:"w-full p-3 border border-slate-400 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-600 transition-shadow bg-slate-50 text-slate-800 placeholder-slate-500",disabled:l,"aria-label":"å­¸ç¿’ä¸»é¡Œè¼¸å…¥æ¬„ä½"}),e.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3",children:[x&&e.jsx("button",{type:"button",onClick:n,disabled:l||!t.trim(),className:"flex-1 px-6 py-3 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50 transition-colors disabled:bg-slate-400 disabled:cursor-not-allowed flex items-center justify-center",children:l?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"ç”¢ç”Ÿä¸­..."]}):"ğŸ¯ é¸æ“‡ç¨‹åº¦å¾Œç”¢ç”Ÿ"}),e.jsx("button",{type:"submit",disabled:l||!t.trim(),className:"flex-1 px-6 py-3 bg-sky-600 text-white font-semibold rounded-lg hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-opacity-50 transition-colors disabled:bg-slate-400 disabled:cursor-not-allowed flex items-center justify-center","aria-live":"polite",children:l?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"ç”¢ç”Ÿä¸­..."]}):"âš¡ ç›´æ¥ç”¢ç”Ÿå…§å®¹"})]}),x&&e.jsxs("div",{className:"text-sm text-slate-600 bg-slate-50 p-3 rounded-lg",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"ğŸ¯ é¸æ“‡ç¨‹åº¦å¾Œç”¢ç”Ÿï¼š"})," å…ˆç²å¾—å­¸ç¿’ç¨‹åº¦å»ºè­°ï¼Œé¸æ“‡åˆé©ç¨‹åº¦å¾Œç”¢ç”Ÿé‡å°æ€§å…§å®¹"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"âš¡ ç›´æ¥ç”¢ç”Ÿå…§å®¹ï¼š"})," ç«‹å³ç”¢ç”ŸåŒ…å«æ‰€æœ‰ç¨‹åº¦çš„å®Œæ•´å­¸ç¿’å…§å®¹"]})]})]})]})},ce=({title:t,icon:c,children:a,className:x})=>e.jsxs("div",{className:`bg-white shadow-lg rounded-xl p-6 mb-6 ${x||""}`,children:[e.jsxs("h2",{className:"text-2xl font-semibold text-sky-700 mb-4 flex items-center",children:[c&&e.jsx("span",{className:"mr-3 text-sky-600",children:c}),t]}),e.jsx("div",{className:"text-slate-700 space-y-3",children:a})]}),js=({feedback:t,onContinueLearning:c,onRetakeQuiz:a,showActions:x=!0})=>{const l=h=>h>=80?"text-green-600 bg-green-100":h>=60?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100",d=h=>h>=80?"border-green-200":h>=60?"border-yellow-200":"border-red-200",n=h=>{switch(h){case"advanced":return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8 text-green-600",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 0 0 7.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25s4.544.16 6.75.471v1.515M7.73 9.728a6.726 6.726 0 0 0 2.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.228V2.721A48.133 48.133 0 0 0 12 2.25c-2.291 0-4.544.16-6.75.471v1.515M7.73 9.728l3.75.814.97 4.286c.078.348.14.699.185 1.053m8.272-6.842-3.75.814-.97 4.286a24.216 24.216 0 0 1-.185 1.053M12 19.5a2.25 2.25 0 0 1-2.25-2.25V14.25m4.5 5.25a2.25 2.25 0 0 1 2.25-2.25V14.25"})});case"intermediate":return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8 text-yellow-600",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"})});default:return e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8 text-blue-600",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443a55.381 55.381 0 0 1 5.25 2.882V15"})})}},m=h=>{switch(h){case"advanced":return"é«˜ç´šç¨‹åº¦";case"intermediate":return"ä¸­ç´šç¨‹åº¦";default:return"åˆç´šç¨‹åº¦"}},g=h=>{switch(h){case"advanced":return"ä½ å·²ç¶“æŒæ¡äº†å¤§éƒ¨åˆ†æ¦‚å¿µï¼Œè¡¨ç¾éå¸¸å‡ºè‰²ï¼";case"intermediate":return"ä½ æœ‰è‰¯å¥½çš„åŸºç¤ï¼Œç¹¼çºŒåŠªåŠ›å°±èƒ½æ›´ä¸Šä¸€å±¤æ¨“ï¼";default:return"é€™æ˜¯ä¸€å€‹å¾ˆå¥½çš„é–‹å§‹ï¼Œç¹¼çºŒå­¸ç¿’ä½ æœƒé€²æ­¥å¾ˆå¿«ï¼"}};return e.jsxs("div",{className:"max-w-4xl mx-auto p-6 bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 rounded-xl shadow-lg",children:[e.jsxs("div",{className:`text-center mb-8 p-6 bg-white rounded-lg shadow-md border-2 ${d(t.overallScore)}`,children:[e.jsxs("div",{className:"flex items-center justify-center mb-4",children:[n(t.overallLevel),e.jsx("div",{className:"ml-4",children:e.jsxs("div",{className:`text-4xl font-bold px-4 py-2 rounded-full ${l(t.overallScore)}`,children:[t.overallScore,"åˆ†"]})})]}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:m(t.overallLevel)}),e.jsx("p",{className:"text-lg text-gray-600",children:g(t.overallLevel)})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6 border-l-4 border-blue-500",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-blue-500 mt-1 flex-shrink-0",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"})}),e.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:t.encouragementMessage})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-green-700 mb-4 flex items-center gap-2",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.745 3.745 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"})}),"ğŸŒŸ ä½ çš„å¼·é …"]}),t.keyStrengths.length>0?e.jsx("ul",{className:"space-y-3",children:t.keyStrengths.map((h,f)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-500 mt-1.5",children:"âœ“"}),e.jsx("span",{className:"text-gray-700",children:h})]},f))}):e.jsx("p",{className:"text-gray-500 italic",children:"ç¹¼çºŒåŠªåŠ›ç™¼æ˜ä½ çš„å­¸ç¿’å¼·é …ï¼"})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-orange-700 mb-4 flex items-center gap-2",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"})}),"ğŸ’¡ æˆé•·ç©ºé–“"]}),t.improvementAreas.length>0?e.jsx("ul",{className:"space-y-3",children:t.improvementAreas.map((h,f)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-orange-500 mt-1.5",children:"â†’"}),e.jsx("span",{className:"text-gray-700",children:h})]},f))}):e.jsx("p",{className:"text-gray-500 italic",children:"ä½ çš„è¡¨ç¾å¾ˆå…¨é¢ï¼Œç¹¼çºŒä¿æŒï¼"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-blue-700 mb-4 flex items-center gap-2",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"})}),"ğŸ¯ ä¸‹ä¸€æ­¥è¡Œå‹•"]}),t.nextSteps.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.nextSteps.map((h,f)=>e.jsxs("div",{className:"flex items-start gap-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("span",{className:"bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold flex-shrink-0 mt-0.5",children:f+1}),e.jsx("span",{className:"text-gray-700",children:h})]},f))}):e.jsx("p",{className:"text-gray-500 italic",children:"ä½ å·²ç¶“æº–å‚™å¥½ç¹¼çºŒä¸‹ä¸€å€‹å­¸ç¿’éšæ®µäº†ï¼"})]}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg shadow-md p-6 mb-6 border border-purple-200",children:[e.jsxs("h3",{className:"text-xl font-bold text-purple-700 mb-4 flex items-center gap-2",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"})}),"ğŸ’ å­¸ç¿’å°è²¼å£«"]}),t.studyTips.length>0?e.jsx("ul",{className:"space-y-2",children:t.studyTips.map((h,f)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-purple-500 mt-1",children:"ğŸ’¡"}),e.jsx("span",{className:"text-gray-700",children:h})]},f))}):e.jsx("p",{className:"text-gray-500 italic",children:"ç¹¼çºŒä¿æŒä½ çš„å­¸ç¿’ç¿’æ…£ï¼"})]}),e.jsxs("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 rounded-lg shadow-lg p-6 text-center text-white mb-6",children:[e.jsx("div",{className:"flex items-center justify-center mb-3",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"})})}),e.jsxs("p",{className:"text-xl font-medium italic",children:['"',t.motivationalQuote,'"']})]}),x&&e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsxs("button",{onClick:c,className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all transform hover:scale-105 shadow-md flex items-center justify-center gap-2 font-medium",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12l-7.5 7.5M3 12h16.5"})}),"ç¹¼çºŒå­¸ç¿’"]}),e.jsxs("button",{onClick:a,className:"px-6 py-3 bg-gradient-to-r from-gray-600 to-gray-700 text-white rounded-lg hover:from-gray-700 hover:to-gray-800 transition-all transform hover:scale-105 shadow-md flex items-center justify-center gap-2 font-medium",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"})}),"é‡æ–°æ¸¬é©—"]})]})]})},vs=({report:t,onExportReport:c,onSaveReport:a,showExportOptions:x=!0})=>{const[l,d]=r.useState("overview"),n=s=>s>=80?"text-green-600 bg-green-50 border-green-200":s>=60?"text-yellow-600 bg-yellow-50 border-yellow-200":"text-red-600 bg-red-50 border-red-200",m=s=>{switch(s){case"high":return"text-red-600 bg-red-100 border-red-200";case"medium":return"text-yellow-600 bg-yellow-100 border-yellow-200";case"low":return"text-blue-600 bg-blue-100 border-blue-200"}},g=s=>{switch(s){case"outstanding":return"text-purple-600 bg-purple-100 border-purple-200";case"excellent":return"text-green-600 bg-green-100 border-green-200";case"good":return"text-blue-600 bg-blue-100 border-blue-200"}},h=s=>{switch(s){case"high":return"text-red-600 bg-red-50 border-l-red-500";case"medium":return"text-yellow-600 bg-yellow-50 border-l-yellow-500";case"low":return"text-green-600 bg-green-50 border-l-green-500"}},f=s=>({trueFalse:"æ˜¯éé¡Œ",multipleChoice:"é¸æ“‡é¡Œ",fillInTheBlanks:"å¡«ç©ºé¡Œ",sentenceScramble:"å¥å­é‡çµ„",memoryCardGame:"ç¿»å¡è¨˜æ†¶"})[s]||s,p=s=>new Date(s).toLocaleDateString("zh-TW",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),b=[{key:"overview",label:"ç¸½è¦½",icon:"ğŸ“Š"},{key:"performance",label:"è¡¨ç¾è©³æƒ…",icon:"ğŸ“ˆ"},{key:"analysis",label:"å­¸ç¿’åˆ†æ",icon:"ğŸ”"},{key:"recommendations",label:"å€‹äººåŒ–å»ºè­°",icon:"ğŸ’¡"},{key:"teaching",label:"æ•™å­¸æŒ‡å°",icon:"ğŸ¯"}];return e.jsxs("div",{className:"max-w-7xl mx-auto p-6 bg-gray-50 min-h-screen",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"å­¸ç¿’è¨ºæ–·å ±å‘Š"}),e.jsxs("p",{className:"text-gray-600",children:["ä¸»é¡Œï¼š",e.jsx("span",{className:"font-semibold",children:t.topic})]}),e.jsxs("p",{className:"text-gray-600",children:["è©•ä¼°æ—¥æœŸï¼š",p(t.assessmentDate)]}),t.studentId&&e.jsxs("p",{className:"text-gray-600",children:["å­¸ç”ŸIDï¼š",e.jsx("span",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded",children:t.studentId})]})]}),x&&e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:a,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"})}),"å„²å­˜å ±å‘Š"]}),e.jsxs("button",{onClick:c,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})}),"åŒ¯å‡ºå ±å‘Š"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[e.jsx("h3",{className:"text-sm font-semibold text-blue-700 mb-1",children:"æ•´é«”å¾—åˆ†"}),e.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[t.overallPerformance.totalScore,"åˆ†"]})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 border border-purple-200",children:[e.jsx("h3",{className:"text-sm font-semibold text-purple-700 mb-1",children:"å­¸ç¿’æ°´æº–"}),e.jsx("p",{className:"text-lg font-semibold text-purple-600 capitalize",children:t.overallPerformance.level})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[e.jsx("h3",{className:"text-sm font-semibold text-green-700 mb-1",children:"å¼·é …æ•¸é‡"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:t.learningAnalysis.strengths.length})]}),e.jsxs("div",{className:"bg-orange-50 rounded-lg p-4 border border-orange-200",children:[e.jsx("h3",{className:"text-sm font-semibold text-orange-700 mb-1",children:"æ”¹é€²é ˜åŸŸ"}),e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:t.learningAnalysis.weaknesses.length})]})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-md mb-6",children:e.jsx("div",{className:"flex overflow-x-auto",children:b.map(s=>e.jsxs("button",{onClick:()=>d(s.key),className:`flex-shrink-0 px-6 py-4 font-medium text-sm border-b-2 transition-colors ${l===s.key?"border-blue-500 text-blue-600 bg-blue-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx("span",{className:"mr-2",children:s.icon}),s.label]},s.key))})}),e.jsxs("div",{className:"space-y-6",children:[l==="overview"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"æ•´é«”è¡¨ç¾"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"ç¸½åˆ†ï¼š"}),e.jsxs("span",{className:"font-semibold",children:[t.overallPerformance.totalScore,"/100"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"å­¸ç¿’æ°´æº–ï¼š"}),e.jsx("span",{className:"font-semibold capitalize",children:t.overallPerformance.level})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"å®Œæˆæ™‚é–“ï¼š"}),e.jsxs("span",{className:"font-semibold",children:[t.overallPerformance.timeSpent," åˆ†é˜"]})]}),t.overallPerformance.percentile&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"ç™¾åˆ†ä½æ•¸ï¼š"}),e.jsxs("span",{className:"font-semibold",children:["å‰ ",100-t.overallPerformance.percentile,"%"]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:"èªçŸ¥åˆ†æ"}),e.jsxs("div",{className:"space-y-3",children:[t.learningAnalysis.learningStyle&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"å­¸ç¿’é¢¨æ ¼ï¼š"}),e.jsx("span",{className:"ml-2 font-semibold",children:t.learningAnalysis.learningStyle})]}),t.learningAnalysis.cognitivePattern&&e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"èªçŸ¥æ¨¡å¼ï¼š"}),e.jsx("span",{className:"ml-2 font-semibold",children:t.learningAnalysis.cognitivePattern})]}),e.jsx("div",{className:"pt-2",children:e.jsx("p",{className:"text-sm text-gray-500",children:"åŸºæ–¼ç­”é¡Œæ¨¡å¼ã€åæ‡‰æ™‚é–“å’ŒéŒ¯èª¤é¡å‹çš„ç¶œåˆåˆ†æ"})})]})]})]}),l==="performance"&&e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-6",children:"å„é¡Œå‹è¡¨ç¾åˆ†æ"}),e.jsx("div",{className:"space-y-6",children:t.performanceByType.map(s=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:f(s.questionType)}),e.jsxs("div",{className:`px-3 py-1 rounded-full text-sm font-medium border ${n(s.accuracy)}`,children:[s.accuracy,"% æ­£ç¢ºç‡"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"ç¸½é¡Œæ•¸"}),e.jsx("p",{className:"text-2xl font-bold text-gray-800",children:s.totalQuestions})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"ç­”å°é¡Œæ•¸"}),e.jsx("p",{className:"text-2xl font-bold text-green-600",children:s.correctCount})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"å¹³å‡æ™‚é–“"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:s.averageTime?`${Math.round(s.averageTime/1e3)}ç§’`:"N/A"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("p",{className:"text-xs text-green-700 font-medium",children:"ç°¡å–®"}),e.jsxs("p",{className:"text-lg font-bold text-green-600",children:[s.difficultyBreakdown.easy.accuracy,"%"]}),e.jsxs("p",{className:"text-xs text-gray-600",children:[s.difficultyBreakdown.easy.correct,"/",s.difficultyBreakdown.easy.total]})]}),e.jsxs("div",{className:"text-center p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:[e.jsx("p",{className:"text-xs text-yellow-700 font-medium",children:"æ™®é€š"}),e.jsxs("p",{className:"text-lg font-bold text-yellow-600",children:[s.difficultyBreakdown.normal.accuracy,"%"]}),e.jsxs("p",{className:"text-xs text-gray-600",children:[s.difficultyBreakdown.normal.correct,"/",s.difficultyBreakdown.normal.total]})]}),e.jsxs("div",{className:"text-center p-3 bg-red-50 rounded-lg border border-red-200",children:[e.jsx("p",{className:"text-xs text-red-700 font-medium",children:"å›°é›£"}),e.jsxs("p",{className:"text-lg font-bold text-red-600",children:[s.difficultyBreakdown.hard.accuracy,"%"]}),e.jsxs("p",{className:"text-xs text-gray-600",children:[s.difficultyBreakdown.hard.correct,"/",s.difficultyBreakdown.hard.total]})]})]}),s.commonErrors.length>0&&e.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"å¸¸è¦‹éŒ¯èª¤æ¨¡å¼ï¼š"}),e.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:s.commonErrors.map((o,i)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-red-500 mt-1",children:"â€¢"}),o]},i))})]})]},s.questionType))})]}),l==="analysis"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-green-700 mb-4 flex items-center gap-2",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 0 0 7.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25s4.544.16 6.75.471v1.515M7.73 9.728a6.726 6.726 0 0 0 2.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.228V2.721A48.133 48.133 0 0 0 12 2.25c-2.291 0-4.544.16-6.75.471v1.515M7.73 9.728l3.75.814.97 4.286c.078.348.14.699.185 1.053m8.272-6.842-3.75.814-.97 4.286a24.216 24.216 0 0 1-.185 1.053M12 19.5a2.25 2.25 0 0 1-2.25-2.25V14.25m4.5 5.25a2.25 2.25 0 0 1 2.25-2.25V14.25"})}),"å­¸ç¿’å¼·é …"]}),e.jsx("div",{className:"space-y-4",children:t.learningAnalysis.strengths.map((s,o)=>e.jsxs("div",{className:`p-4 rounded-lg border ${g(s.level)}`,children:[e.jsx("h4",{className:"font-semibold mb-2",children:s.area}),e.jsx("p",{className:"text-sm mb-3",children:s.description}),s.examples.length>0&&e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"text-xs font-medium text-gray-700 mb-1",children:"è¡¨ç¾å¯¦ä¾‹ï¼š"}),e.jsx("ul",{className:"text-xs space-y-1",children:s.examples.map((i,v)=>e.jsxs("li",{className:"flex items-start gap-1",children:[e.jsx("span",{className:"text-green-500 mt-1",children:"âœ“"}),i]},v))})]}),s.leverageOpportunities.length>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-700 mb-1",children:"é‹ç”¨æ©Ÿæœƒï¼š"}),e.jsx("ul",{className:"text-xs space-y-1",children:s.leverageOpportunities.map((i,v)=>e.jsxs("li",{className:"flex items-start gap-1",children:[e.jsx("span",{className:"text-blue-500 mt-1",children:"â†’"}),i]},v))})]})]},o))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-red-700 mb-4 flex items-center gap-2",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})}),"éœ€è¦åŠ å¼·çš„é ˜åŸŸ"]}),e.jsx("div",{className:"space-y-4",children:t.learningAnalysis.weaknesses.map((s,o)=>e.jsxs("div",{className:`p-4 rounded-lg border ${m(s.severity)}`,children:[e.jsx("h4",{className:"font-semibold mb-2",children:s.area}),e.jsx("p",{className:"text-sm mb-3",children:s.description}),s.affectedTopics.length>0&&e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"text-xs font-medium text-gray-700 mb-1",children:"å½±éŸ¿ä¸»é¡Œï¼š"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:s.affectedTopics.map((i,v)=>e.jsx("span",{className:"text-xs px-2 py-1 bg-gray-200 rounded-full",children:i},v))})]}),s.recommendedActions.length>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-gray-700 mb-1",children:"å»ºè­°è¡Œå‹•ï¼š"}),e.jsx("ul",{className:"text-xs space-y-1",children:s.recommendedActions.map((i,v)=>e.jsxs("li",{className:"flex items-start gap-1",children:[e.jsx("span",{className:"text-orange-500 mt-1",children:"â€¢"}),i]},v))})]})]},o))})]})]}),l==="recommendations"&&e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-xl font-bold text-blue-700 mb-6",children:"å€‹äººåŒ–å­¸ç¿’å»ºè­°"}),e.jsx("div",{className:"space-y-6",children:t.personalizedRecommendations.map((s,o)=>e.jsxs("div",{className:`p-6 rounded-lg border-l-4 ${h(s.priority)}`,children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-1",children:s.title}),e.jsxs("div",{className:"flex gap-2 text-xs",children:[e.jsx("span",{className:`px-2 py-1 rounded-full border ${s.category==="immediate"?"text-red-600 bg-red-100 border-red-200":s.category==="short-term"?"text-yellow-600 bg-yellow-100 border-yellow-200":"text-blue-600 bg-blue-100 border-blue-200"}`,children:s.category==="immediate"?"ç«‹å³":s.category==="short-term"?"çŸ­æœŸ":"é•·æœŸ"}),e.jsx("span",{className:`px-2 py-1 rounded-full border ${s.priority==="high"?"text-red-600 bg-red-100 border-red-200":s.priority==="medium"?"text-yellow-600 bg-yellow-100 border-yellow-200":"text-green-600 bg-green-100 border-green-200"}`,children:s.priority==="high"?"é«˜å„ªå…ˆ":s.priority==="medium"?"ä¸­å„ªå…ˆ":"ä½å„ªå…ˆ"})]})]}),e.jsx("span",{className:"text-sm text-gray-600 bg-gray-100 px-3 py-1 rounded-full",children:s.estimatedTime})]}),e.jsx("p",{className:"text-gray-700 mb-4",children:s.description}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"å…·é«”æ­¥é©Ÿï¼š"}),e.jsx("ol",{className:"text-sm space-y-1",children:s.actionSteps.map((i,v)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"bg-blue-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold flex-shrink-0 mt-0.5",children:v+1}),i]},v))})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"é æœŸæˆæœï¼š"}),e.jsx("p",{className:"text-sm text-gray-600 mb-3",children:s.expectedOutcome}),s.resources&&s.resources.length>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"æ¨è–¦è³‡æºï¼š"}),e.jsx("ul",{className:"text-sm space-y-1",children:s.resources.map((i,v)=>e.jsxs("li",{className:"flex items-start gap-1",children:[e.jsx("span",{className:"text-green-500 mt-1",children:"ğŸ“š"}),i]},v))})]})]})]})]},o))})]}),l==="teaching"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-red-700 mb-4 flex items-center gap-2",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})}),"ç«‹å³ä»‹å…¥å»ºè­°"]}),e.jsx("ul",{className:"space-y-3",children:t.teachingRecommendations.immediateInterventions.map((s,o)=>e.jsxs("li",{className:"flex items-start gap-3 p-3 bg-red-50 rounded-lg border border-red-200",children:[e.jsx("span",{className:"bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold flex-shrink-0 mt-0.5",children:"!"}),e.jsx("span",{className:"text-gray-700",children:s})]},o))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-blue-700 mb-4 flex items-center gap-2",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443a55.381 55.381 0 0 1 5.25 2.882V15"})}),"å»ºè­°æ•™å­¸ç­–ç•¥"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.teachingRecommendations.instructionalStrategies.map((s,o)=>e.jsx("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold flex-shrink-0 mt-0.5",children:o+1}),e.jsx("span",{className:"text-gray-700",children:s})]})},o))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-purple-700 mb-4 flex items-center gap-2",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"})}),"å·®ç•°åŒ–æ•™å­¸å»ºè­°"]}),e.jsx("ul",{className:"space-y-3",children:t.teachingRecommendations.differentiation.map((s,o)=>e.jsxs("li",{className:"flex items-start gap-3 p-3 bg-purple-50 rounded-lg border border-purple-200",children:[e.jsx("span",{className:"bg-purple-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold flex-shrink-0 mt-0.5",children:"â—†"}),e.jsx("span",{className:"text-gray-700",children:s})]},o))})]}),t.teachingRecommendations.parentGuidance&&t.teachingRecommendations.parentGuidance.length>0&&e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-green-700 mb-4 flex items-center gap-2",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})}),"å®¶é•·æŒ‡å°å»ºè­°"]}),e.jsx("ul",{className:"space-y-3",children:t.teachingRecommendations.parentGuidance.map((s,o)=>e.jsxs("li",{className:"flex items-start gap-3 p-3 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("span",{className:"bg-green-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold flex-shrink-0 mt-0.5",children:"â™¥"}),e.jsx("span",{className:"text-gray-700",children:s})]},o))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-indigo-700 mb-4 flex items-center gap-2",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"})}),"é€²åº¦è¿½è¹¤èˆ‡è©•ä¼°"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"é—œéµæŒ‡æ¨™"}),e.jsx("ul",{className:"text-sm space-y-1",children:t.progressTracking.keyMetrics.map((s,o)=>e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-indigo-500 rounded-full"}),s]},o))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"æª¢æŸ¥é»"}),e.jsx("ul",{className:"text-sm space-y-1",children:t.progressTracking.checkpoints.map((s,o)=>e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),s]},o))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"é‡æ–°è©•ä¼°"}),e.jsx("p",{className:"text-sm text-gray-600",children:t.progressTracking.reassessmentSuggestion})]})]})]})]})]})]})},qe=({topic:t,studentId:c,apiKey:a,mode:x="both",onClose:l,onRetakeQuiz:d,onContinueLearning:n,initialResponses:m=[],existingReport:g,resultsBinId:h,onReportSaved:f})=>{const[p,b]=r.useState(null),[s,o]=r.useState(!1),[i,v]=r.useState(null),[S,C]=r.useState(x==="teacher"?"teacher":"student"),[I,A]=r.useState(null),k=r.useCallback(async $=>{if(!a){v("éœ€è¦ API Key æ‰èƒ½ç”Ÿæˆè¨ºæ–·å ±å‘Š");return}o(!0),v(null);try{const z={...await Qt($),generatedAt:new Date().toISOString(),resultsBinId:h};if(b(z),h)try{await Zt(h,z),console.log("è¨ºæ–·å ±å‘Šå·²è‡ªå‹•å„²å­˜åˆ°å­¸ç”Ÿä½œç­”çµæœ"),f?.(z)}catch(D){console.warn("å„²å­˜è¨ºæ–·å ±å‘Šå¤±æ•—ï¼Œä½†å ±å‘Šä»å¯æ­£å¸¸é¡¯ç¤º:",D)}}catch(T){console.error("ç”Ÿæˆè¨ºæ–·å ±å‘Šå¤±æ•—:",T),v(T instanceof Error?T.message:"ç”Ÿæˆè¨ºæ–·å ±å‘Šæ™‚ç™¼ç”ŸéŒ¯èª¤")}finally{o(!1)}},[a,h,f]);r.useEffect(()=>{if(g){b(g);const $=Ce(t,c);$.responses=m,A(Pe($))}else if(t&&m.length>0){const $=Ce(t,c);$.responses=m,A(Pe($)),k($)}},[t,c,m,g,k]);const j=r.useCallback(()=>{if(!p)return;const $={studentFeedback:p.studentFeedback,teacherReport:p.teacherReport,exportDate:new Date().toISOString()},T=JSON.stringify($,null,2),z="data:application/json;charset=utf-8,"+encodeURIComponent(T),D=`learning_diagnostic_${t}_${new Date().toISOString().split("T")[0]}.json`,L=document.createElement("a");L.setAttribute("href",z),L.setAttribute("download",D),L.click()},[p,t]),y=r.useCallback(()=>{if(!p)return;const $=JSON.parse(localStorage.getItem("learningDiagnosticReports")||"[]");$.push({id:`report_${Date.now()}`,topic:t,studentId:c,createdAt:new Date().toISOString(),result:p}),localStorage.setItem("learningDiagnosticReports",JSON.stringify($)),alert("è¨ºæ–·å ±å‘Šå·²å„²å­˜è‡³æœ¬åœ°")},[p,t,c]);return s?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(de,{}),e.jsxs("div",{className:"mt-6 space-y-2",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"æ­£åœ¨ç”Ÿæˆå­¸ç¿’è¨ºæ–·å ±å‘Š"}),e.jsx("p",{className:"text-gray-600",children:"AI æ­£åœ¨åˆ†ææ‚¨çš„ç­”é¡Œæƒ…æ³..."}),e.jsx("div",{className:"flex items-center justify-center space-x-1 mt-4",children:e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce"}),e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})]})}):i?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-pink-100 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-16 h-16 text-red-500 mx-auto mb-4",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})}),e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"ç”Ÿæˆå ±å‘Šå¤±æ•—"}),e.jsx("p",{className:"text-gray-600 mb-6",children:i}),e.jsxs("div",{className:"flex gap-3 justify-center",children:[e.jsx("button",{onClick:()=>I&&k(I),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"é‡æ–°ç”Ÿæˆ"}),l&&e.jsx("button",{onClick:l,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"é—œé–‰"})]})]})}):p?e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:"å­¸ç¿’è¨ºæ–·å ±å‘Š"}),x==="both"&&e.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>C("student"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${S==="student"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"å­¸ç”Ÿç‰ˆ"}),e.jsx("button",{onClick:()=>C("teacher"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${S==="teacher"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"æ•™å¸«ç‰ˆ"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[S==="teacher"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:y,className:"px-3 py-2 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center gap-2",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"})}),"å„²å­˜"]}),e.jsxs("button",{onClick:j,className:"px-3 py-2 text-sm bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors flex items-center gap-2",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})}),"åŒ¯å‡º"]})]}),l&&e.jsx("button",{onClick:l,className:"px-3 py-2 text-sm bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",children:"é—œé–‰"})]})]})})}),e.jsxs("div",{className:"py-8",children:[(x==="student"||x==="both"&&S==="student")&&e.jsx(js,{feedback:p.studentFeedback,onContinueLearning:n,onRetakeQuiz:d,showActions:x!=="both"}),(x==="teacher"||x==="both"&&S==="teacher")&&e.jsx(vs,{report:p.teacherReport,onExportReport:j,onSaveReport:y,showExportOptions:x!=="both"})]}),x==="both"&&e.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t shadow-lg",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsxs("button",{onClick:d,className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors flex items-center gap-2 font-medium",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"})}),"é‡æ–°æ¸¬é©—"]}),e.jsxs("button",{onClick:n,className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all flex items-center gap-2 font-medium",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12l-7.5 7.5M3 12h16.5"})}),"ç¹¼çºŒå­¸ç¿’"]})]})})})]}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-16 h-16 text-gray-400 mx-auto mb-4",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})}),e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"ç­‰å¾…è¨ºæ–·æ•¸æ“š"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"è«‹å…ˆå®Œæˆæ¸¬é©—ä»¥ç”Ÿæˆå­¸ç¿’è¨ºæ–·å ±å‘Š"}),l&&e.jsx("button",{onClick:l,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"é—œé–‰"})]})})},ys=({quizzes:t,topic:c,studentId:a,apiKey:x,onDiagnosticComplete:l,enableDiagnostic:d=!0})=>{const[n,m]=r.useState(re.Easy),[g,h]=r.useState(null),[f,p]=r.useState([]),[b,s]=r.useState(!1),[o,i]=r.useState(new Set),v=r.useRef(null);r.useEffect(()=>{if(d&&c&&!g){const L=Ce(c,a);h(L),v.current=Date.now()}},[c,a,d,g]);const S=()=>{if(!t||!$)return 0;let L=0;return Object.values($).forEach(u=>{Array.isArray(u)&&(L+=u.length)}),L},C=()=>{const L=n.toLowerCase();return f.filter(u=>u.difficulty===L).length},I=()=>{const L=n.toLowerCase();return f.filter(u=>u.difficulty===L)},A=r.useCallback((L,u,R,V,N,M)=>{if(!d||!g)return;const P=v.current?Date.now()-v.current:void 0,E={questionId:L,questionType:u,difficulty:R,userAnswer:V,correctAnswer:N,isCorrect:M,responseTime:P,attempts:1};p(w=>w.find(K=>K.questionId===L)?w.map(K=>K.questionId===L?{...E,attempts:(K.attempts||0)+1}:K):[...w,E]),i(w=>new Set([...w,L])),v.current=Date.now()},[d,g]),k=r.useCallback(()=>{if(!g||!d)return;const L=Pe(g);L.responses=f,h(L),s(!0),l&&l({session:L,responses:f})},[g,f,d,l]),j=r.useCallback(()=>{s(!1);const L=n.toLowerCase();if(p(u=>u.filter(R=>R.difficulty!==L)),i(u=>{const R=new Set(u),V=n.toLowerCase();return Array.from(u).forEach(N=>{N.startsWith(`${V}-`)&&R.delete(N)}),R}),d){const u=Ce(c,a);h(u),v.current=Date.now()}},[d,c,a,n]),y=r.useCallback(()=>{s(!1)},[]);if(b&&d){const L=n===re.Easy?"ç°¡å–®":n===re.Normal?"æ™®é€š":"å›°é›£";return e.jsx(qe,{topic:`${c} (${L}é›£åº¦)`,studentId:a,apiKey:x,mode:"both",onRetakeQuiz:j,onContinueLearning:y,onClose:()=>s(!1),initialResponses:I()})}if(!t)return e.jsx(ce,{title:"ç·šä¸Šäº’å‹•æ¸¬é©—",icon:e.jsx(ye,{}),children:"æ²’æœ‰å¯ç”¨çš„æ¸¬é©—è³‡æ–™ã€‚"});const $=t[n],T=[{key:re.Easy,label:"ç°¡å–®"},{key:re.Normal,label:"æ™®é€š"},{key:re.Hard,label:"å›°é›£"}],z={trueFalse:"æ˜¯éé¡Œ",multipleChoice:"é¸æ“‡é¡Œ",fillInTheBlanks:"å¡«ç©ºé¡Œ",sentenceScramble:"å¥å­é‡çµ„",memoryCardGame:"ç¿»å¡ç‰Œè¨˜æ†¶éŠæˆ²"},D=()=>{const L=S(),u=C();return L>0?u/L*100:0};return e.jsxs(ce,{title:"ç·šä¸Šäº’å‹•æ¸¬é©—",icon:e.jsx(ye,{className:"w-7 h-7"}),children:[d&&e.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-800",children:"å­¸ç¿’è¨ºæ–·æ¨¡å¼"}),e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[e.jsxs("span",{className:"text-gray-600",children:["é€²åº¦: ",C()," / ",S()]}),e.jsxs("button",{onClick:k,disabled:C()===0,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 text-sm",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.745 3.745 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"})}),"ç”Ÿæˆå­¸ç¿’è¨ºæ–·"]})]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-green-500 h-3 rounded-full transition-all duration-300 ease-out",style:{width:`${D()}%`}})}),e.jsx("p",{className:"text-xs text-gray-600 mt-2",children:"ğŸ’¡ å®Œæˆé¡Œç›®å¾Œé»æ“Šã€Œç”Ÿæˆå­¸ç¿’è¨ºæ–·ã€ç²å¾—å€‹äººåŒ–å­¸ç¿’å»ºè­°"})]}),e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"flex flex-wrap gap-2 border-b border-slate-300 pb-3 mb-4",children:T.map(({key:L,label:u})=>e.jsx("button",{onClick:()=>m(L),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors
                ${n===L?"bg-sky-600 text-white shadow-md":"bg-slate-200 text-slate-700 hover:bg-slate-300"}`,children:u},L))})}),$?Object.keys(z).map(L=>{if(!(L in $))return null;const u=$[L];return!u||!Array.isArray(u)||u.length===0?null:e.jsxs("div",{className:"mb-8",children:[e.jsxs("h4",{className:"text-xl font-semibold text-slate-700 mb-3 border-b-2 border-sky-200 pb-1 flex items-center justify-between",children:[e.jsx("span",{children:z[L]}),d&&e.jsxs("span",{className:"text-sm text-gray-500 font-normal",children:["å·²ç­”: ",f.filter(R=>R.questionType===L&&R.difficulty===n).length," / ",u.length]})]}),L==="trueFalse"&&Array.isArray(u)&&u.map((R,V)=>{const N=`${n}-tf-${V}`;return e.jsx("div",{className:o.has(N)?"opacity-75":"",children:e.jsx(We,{question:R,itemNumber:V+1,onAnswer:d?(M,P)=>{A(N,"trueFalse",n,M,R.isTrue,P)}:void 0})},N)}),L==="multipleChoice"&&Array.isArray(u)&&u.map((R,V)=>{const N=`${n}-mc-${V}`;return e.jsx("div",{className:o.has(N)?"opacity-75":"",children:e.jsx(De,{question:R,itemNumber:V+1,onAnswer:d?(M,P)=>{A(N,"multipleChoice",n,M,R.correctAnswerIndex,P)}:void 0})},N)}),L==="fillInTheBlanks"&&Array.isArray(u)&&u.map((R,V)=>{const N=`${n}-fb-${V}`;return e.jsx("div",{className:o.has(N)?"opacity-75":"",children:e.jsx(ct,{question:R,itemNumber:V+1,onAnswer:d?(M,P)=>{A(N,"fillInTheBlanks",n,M,R.correctAnswer,P)}:void 0})},N)}),L==="sentenceScramble"&&Array.isArray(u)&&u.map((R,V)=>{const N=`${n}-ss-${V}`;return e.jsx("div",{className:o.has(N)?"opacity-75":"",children:e.jsx(xt,{question:R,itemNumber:V+1,onAnswer:d?(M,P)=>{A(N,"sentenceScramble",n,M,R.originalSentence,P)}:void 0})},N)}),L==="memoryCardGame"&&Array.isArray(u)&&u.map((R,V)=>{const N=`${n}-mcg-${V}`;return e.jsx("div",{className:o.has(N)?"opacity-75":"",children:e.jsx(Ve,{question:R,itemNumber:V+1,onAnswer:d?(M,P)=>{A(N,"memoryCardGame",n,M,R.pairs,P)}:void 0})},N)})]},`${n}-${L}`)}):e.jsx("p",{children:"æ­¤é›£åº¦ç´šåˆ¥æ²’æœ‰æ‰¾åˆ°æ¸¬é©—é¡Œç›®ã€‚"}),d&&C()>0&&e.jsx("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-yellow-600 mt-0.5 flex-shrink-0",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-yellow-800 font-medium text-sm",children:"å­¸ç¿’è¨ºæ–·æç¤º"}),e.jsxs("p",{className:"text-yellow-700 text-sm mt-1",children:["æ‚¨å·²å®Œæˆ ",C()," é¡Œæ¸¬é©—ã€‚é»æ“Šä¸Šæ–¹çš„ã€Œç”Ÿæˆå­¸ç¿’è¨ºæ–·ã€æŒ‰éˆ•ï¼ŒAI å°‡ç‚ºæ‚¨åˆ†æå­¸ç¿’ç‹€æ³ä¸¦æä¾›å€‹äººåŒ–å»ºè­°ï¼"]})]})]})})]})},Ns=({dialogue:t})=>{const[c,a]=r.useState(null),[x,l]=r.useState(null),[d,n]=r.useState(!1),[m,g]=r.useState(""),[h,f]=r.useState(null),[p,b]=r.useState(!1),[s,o]=r.useState({tts:!0,sr:!0}),i=r.useRef(null),v=r.useRef(null);r.useEffect(()=>{const A="speechSynthesis"in window,k="SpeechRecognition"in window||"webkitSpeechRecognition"in window,j=$=>$.toLowerCase().replace(/[.,!?;:"']/g,"").trim(),y=$=>{if(x===null)return;const T=t[x].line;j($)===j(T)?f({type:"success",message:`å¤ªæ£’äº†ï¼ç™¼éŸ³æ­£ç¢º: "${$}"`}):f({type:"error",message:`å†è©¦ä¸€æ¬¡ã€‚æ‚¨èªªçš„æ˜¯: "${$}"ï¼Œåƒè€ƒå¥: "${T}"`})};if(o({tts:A,sr:k}),k){const $=window.SpeechRecognition||window.webkitSpeechRecognition;if(i.current=new $,i.current===null)throw new Error("èªéŸ³è¾¨è­˜åŠŸèƒ½åˆå§‹åŒ–å¤±æ•—ï¼");i.current.continuous=!1,i.current.interimResults=!1,i.current.lang="en-US",i.current.onresult=T=>{const z=T.results[0][0].transcript;g(z),y(z)},i.current.onerror=T=>{console.error("Speech recognition error:",T.error),f({type:"error",message:`èªéŸ³è¾¨è­˜éŒ¯èª¤: ${T.error==="no-speech"?"æœªåµæ¸¬åˆ°èªéŸ³":T.error==="audio-capture"?"éº¥å…‹é¢¨æ“·å–å¤±æ•—":T.error==="not-allowed"?"éº¥å…‹é¢¨æ¬Šé™æœªæˆäºˆ":"ç™¼ç”ŸéŒ¯èª¤"}`}),n(!1)},i.current.onend=()=>{n(!1)}}return()=>{window.speechSynthesis&&window.speechSynthesis.speaking&&window.speechSynthesis.cancel()}},[t,x]);const S=(A,k)=>{if(!s.tts||!A)return;window.speechSynthesis.speaking&&window.speechSynthesis.cancel();const j=new SpeechSynthesisUtterance(A);j.lang="en-US";const y=window.speechSynthesis.getVoices(),$=y.find(T=>T.lang.startsWith("en")&&T.name.includes("Google")&&T.localService)||y.find(T=>T.lang.startsWith("en")&&T.localService)||y.find(T=>T.lang.startsWith("en"));$&&(j.voice=$),j.onstart=()=>{b(!0),a(k)},j.onend=()=>{b(!1),a(null)},j.onerror=T=>{console.error("Speech synthesis error:",T),b(!1),a(null),f({type:"error",message:"èªéŸ³æ’­æ”¾å¤±æ•—ã€‚"})},v.current=j,window.speechSynthesis.speak(j)},C=A=>{if(!(!s.sr||!i.current||d)){l(A),g(""),f(null),n(!0);try{i.current.start()}catch(k){console.error("Error starting recognition: ",k),n(!1),f({type:"error",message:"ç„¡æ³•å•Ÿå‹•èªéŸ³è¾¨è­˜ã€‚"})}}},I=()=>{i.current&&d&&(i.current.stop(),n(!1))};return!t||t.length===0?e.jsx(ce,{title:"è‹±æ–‡å°è©±ç·´ç¿’",icon:e.jsx(Ee,{className:"w-7 h-7"}),children:e.jsx("p",{className:"text-slate-600",children:"ç›®å‰æ²’æœ‰å¯ç”¨çš„å°è©±å…§å®¹ã€‚"})}):e.jsxs(ce,{title:"è‹±æ–‡å°è©±ç·´ç¿’",icon:e.jsx(Ee,{className:"w-7 h-7"}),children:[!s.tts&&e.jsx("p",{className:"text-red-600 bg-red-100 p-2 rounded-md",children:"æ‚¨çš„ç€è¦½å™¨ä¸æ”¯æ´èªéŸ³åˆæˆ (TTS)ã€‚"}),!s.sr&&e.jsx("p",{className:"text-red-600 bg-red-100 p-2 rounded-md mt-2",children:"æ‚¨çš„ç€è¦½å™¨ä¸æ”¯æ´èªéŸ³è¾¨è­˜ (SR)ã€‚å»ºè­°ä½¿ç”¨æœ€æ–°ç‰ˆ Chrome æˆ– Edgeã€‚"}),e.jsx("div",{className:"space-y-4",children:t.map((A,k)=>e.jsxs("div",{className:`p-3 rounded-lg ${A.speaker==="Speaker A"?"bg-sky-50":"bg-indigo-50"} border ${A.speaker==="Speaker A"?"border-sky-200":"border-indigo-200"}`,children:[e.jsxs("p",{className:"font-semibold text-sm mb-1 ${item.speaker === 'Speaker A' ? 'text-sky-700' : 'text-indigo-700'}",children:[A.speaker,":"]}),e.jsx("p",{className:"text-slate-800 mb-2",children:A.line}),e.jsxs("div",{className:"flex items-center space-x-2",children:[s.tts&&e.jsx("button",{onClick:()=>S(A.line,k),disabled:p&&c!==k,className:`p-1.5 rounded-full hover:bg-slate-200 transition-colors disabled:opacity-50 ${p&&c===k?"text-sky-500 animate-pulse":"text-slate-600"}`,"aria-label":`æ’­æ”¾ ${A.speaker} çš„è©±`,children:e.jsx(ds,{className:"w-5 h-5"})}),s.sr&&(d&&x===k?e.jsx("button",{onClick:I,className:"p-1.5 rounded-full text-red-600 hover:bg-red-100 transition-colors","aria-label":"åœæ­¢éŒ„éŸ³",children:e.jsx(cs,{className:"w-5 h-5"})}):e.jsx("button",{onClick:()=>C(k),disabled:d||p,className:"p-1.5 rounded-full text-slate-600 hover:bg-slate-200 transition-colors disabled:opacity-50","aria-label":`ç·´ç¿’èªªå‡º ${A.speaker} çš„è©±`,children:e.jsx(xs,{className:"w-5 h-5"})}))]}),x===k&&m&&e.jsxs("p",{className:"mt-2 text-sm text-slate-600 italic",children:['æ‚¨èªªçš„æ˜¯: "',m,'"']}),x===k&&h&&e.jsxs("div",{className:`mt-2 p-2 rounded-md text-sm flex items-start ${h.type==="success"?"bg-green-100 text-green-700":h.type==="error"?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"}`,children:[h.type==="success"&&e.jsx(Oe,{className:"w-5 h-5 mr-2 flex-shrink-0"}),h.type==="error"&&e.jsx(He,{className:"w-5 h-5 mr-2 flex-shrink-0"}),e.jsx("span",{children:h.message})]})]},k))}),d&&e.jsx("p",{className:"mt-4 text-center text-sky-600 font-medium animate-pulse",children:"æ­£åœ¨è†è½..."})]})},ws=t=>`
    <div class="tabs">
      <button class="tab-btn active" data-tab-target="easy-quiz-content" data-difficulty="easy">ç°¡å–®</button>
      <button class="tab-btn" data-tab-target="normal-quiz-content" data-difficulty="normal">æ™®é€š</button>
      <button class="tab-btn" data-tab-target="hard-quiz-content" data-difficulty="hard">å›°é›£</button>
    </div>
    <div id="easy-quiz-content" class="tab-content active">
      <!-- Content rendered by JS -->
      <div class="quiz-items-container" data-difficulty="easy"></div>
    </div>
    <div id="normal-quiz-content" class="tab-content">
      <!-- Content rendered by JS -->
      <div class="quiz-items-container" data-difficulty="normal"></div>
    </div>
    <div id="hard-quiz-content" class="tab-content">
      <!-- Content rendered by JS -->
      <div class="quiz-items-container" data-difficulty="hard"></div>
    </div>
    <script type="application/json" id="quizDataStore">
      ${t}
    <\/script>
  `,ks=(t,c)=>{const a=t.learningObjectives&&t.learningObjectives.length>0?t.learningObjectives.map(o=>`
        <div class="objective-item" style="margin-bottom:20px; padding:16px; background:#f0fdf4; border-left:4px solid #10b981; border-radius:6px;">
          <h3 style="color:#059669; margin-bottom:8px; font-size:1.1em; font-weight:600;">${o.objective}</h3>
          <p style="color:#047857; margin-bottom:8px; line-height:1.6;">${o.description}</p>
          ${o.teachingExample?`
            <div style="background:#ecfdf5; border:1px solid #a7f3d0; padding:12px; border-radius:4px; margin-top:8px;">
              <strong style="color:#065f46; font-size:0.85em; display:block; margin-bottom:4px;">æ•™å­¸ç¤ºä¾‹</strong>
              <span style="color:#047857; font-size:0.9em;">${o.teachingExample}</span>
            </div>`:""}
        </div>`).join(""):"<p>æ²’æœ‰æä¾›æ•™å­¸ç›®æ¨™ã€‚</p>",x=t.contentBreakdown&&t.contentBreakdown.length>0?t.contentBreakdown.map(o=>`
        <div class="breakdown-item" style="margin-bottom:24px; padding-bottom:20px; border-bottom:1px solid #e2e8f0;">
          <h3 style="color:#0369a1; margin-bottom:8px;">${o.topic}</h3>
          <p style="margin-bottom:12px; color:#475569;">${o.details}</p>
          
          ${o.coreConcept?`
            <div style="background:#eff6ff; border-left:4px solid #3b82f6; padding:12px; border-radius:4px; margin-bottom:12px;">
              <strong style="color:#1e40af; font-size:0.85em; display:block; margin-bottom:4px;">æ ¸å¿ƒæ¦‚å¿µ</strong>
              <span style="color:#1e3a8a; font-size:0.9em;">${o.coreConcept}</span>
            </div>`:""}
          
          ${o.teachingSentences&&o.teachingSentences.length>0?`
            <div style="background:#eef2ff; border-left:4px solid #6366f1; padding:12px; border-radius:4px; margin-bottom:12px;">
              <strong style="color:#4338ca; font-size:0.85em; display:block; margin-bottom:8px;">æ•™å­¸ä¾‹å¥</strong>
              <div style="line-height:1.6;">
                ${o.teachingSentences.map((i,v)=>`
                  <div style="color:#312e81; font-size:0.9em; margin-bottom:4px;">
                    <span style="color:#6366f1; font-family:monospace;">${v+1}.</span> ${i}
                  </div>
                `).join("")}
              </div>
            </div>`:""}
          
          ${o.teachingTips?`
            <div style="background:#faf5ff; border-left:4px solid #8b5cf6; padding:12px; border-radius:4px; margin-bottom:12px;">
              <strong style="color:#7c3aed; font-size:0.85em; display:block; margin-bottom:4px;">æ•™å­¸è¦é»æç¤º</strong>
              <span style="color:#6b21a8; font-size:0.9em;">${o.teachingTips}</span>
            </div>`:""}
          
          ${o.teachingExample?`
            <div style="background:#f0f9ff; border-left:4px solid #0ea5e9; padding:12px; border-radius:4px;">
              <strong style="color:#0284c7; font-size:0.85em; display:block; margin-bottom:4px;">æ•™å­¸ç¤ºä¾‹</strong>
              <span style="color:#0c4a6e; font-size:0.9em;">${o.teachingExample}</span>
            </div>`:""}
        </div>`).join(""):"<p>æ²’æœ‰æä¾›å…§å®¹åˆ†è§£ã€‚</p>",l=t.confusingPoints&&t.confusingPoints.length>0?t.confusingPoints.map(o=>`
        <div class="confusing-point-item" style="border:1px solid #e2e8f0; border-radius:8px; padding:20px; margin-bottom:24px; background:#fefefe;">
          <h3 style="color:#b91c1c; margin-bottom:12px; font-size:1.3em; font-weight:600;">${o.point}</h3>
          <p style="margin-bottom:16px; color:#475569; line-height:1.6;">${o.clarification}</p>
          
          ${o.errorType?`
          <div style="background:#fff7ed; border-left:4px solid #f97316; padding:12px; margin-bottom:12px; border-radius:4px;">
            <strong style="color:#c2410c; font-size:0.8em; display:block; margin-bottom:4px;">èª¤å€é¡å‹</strong>
            <span style="color:#9a3412; font-size:0.9em;">${o.errorType}</span>
          </div>`:""}
          
          ${o.commonErrors&&o.commonErrors.length>0?`
          <div style="background:#fef2f2; border-left:4px solid #ef4444; padding:12px; margin-bottom:12px; border-radius:4px;">
            <strong style="color:#dc2626; font-size:0.8em; display:block; margin-bottom:8px;">å¸¸è¦‹éŒ¯èª¤ç¤ºä¾‹</strong>
            <div style="margin-left:0;">
              ${o.commonErrors.map((i,v)=>`
                <div style="color:#991b1b; font-size:0.9em; margin-bottom:4px;">
                  <span style="color:#dc2626; font-family:monospace; margin-right:6px;">${v+1}.</span>${i}
                </div>
              `).join("")}
            </div>
          </div>`:""}
          
          ${o.correctVsWrong&&o.correctVsWrong.length>0?`
          <div style="background:#fefce8; border-left:4px solid #eab308; padding:12px; margin-bottom:12px; border-radius:4px;">
            <strong style="color:#a16207; font-size:0.8em; display:block; margin-bottom:8px;">æ­£ç¢ºèˆ‡éŒ¯èª¤å°æ¯”</strong>
            ${o.correctVsWrong.map((i,v)=>`
              <div style="border:1px solid #fde047; background:#fffbeb; padding:12px; margin-bottom:8px; border-radius:6px;">
                <div style="display:grid; grid-template-columns:1fr 1fr; gap:12px; margin-bottom:8px;">
                  <div style="background:#f0fdf4; padding:10px; border-radius:4px; border:1px solid #bbf7d0;">
                    <strong style="color:#166534; font-size:0.8em; display:block; margin-bottom:4px;">âœ“ æ­£ç¢º</strong>
                    <span style="color:#15803d; font-size:0.9em;">${i.correct}</span>
                  </div>
                  <div style="background:#fef2f2; padding:10px; border-radius:4px; border:1px solid #fecaca;">
                    <strong style="color:#dc2626; font-size:0.8em; display:block; margin-bottom:4px;">âœ— éŒ¯èª¤</strong>
                    <span style="color:#991b1b; font-size:0.9em;">${i.wrong}</span>
                  </div>
                </div>
                <div style="background:#eff6ff; padding:10px; border-radius:4px; border:1px solid #bfdbfe;">
                  <strong style="color:#1d4ed8; font-size:0.8em; display:block; margin-bottom:4px;">èªªæ˜</strong>
                  <span style="color:#1e40af; font-size:0.9em;">${i.explanation}</span>
                </div>
              </div>
            `).join("")}
          </div>`:""}
          
          ${o.preventionStrategy?`
          <div style="background:#eff6ff; border-left:4px solid #3b82f6; padding:12px; margin-bottom:12px; border-radius:4px;">
            <strong style="color:#1d4ed8; font-size:0.8em; display:block; margin-bottom:4px;">é é˜²ç­–ç•¥</strong>
            <span style="color:#1e40af; font-size:0.9em;">${o.preventionStrategy}</span>
          </div>`:""}
          
          ${o.correctionMethod?`
          <div style="background:#faf5ff; border-left:4px solid #a855f7; padding:12px; margin-bottom:12px; border-radius:4px;">
            <strong style="color:#7c3aed; font-size:0.8em; display:block; margin-bottom:4px;">ç³¾æ­£æ–¹æ³•</strong>
            <span style="color:#6b21a8; font-size:0.9em;">${o.correctionMethod}</span>
          </div>`:""}
          
          ${o.practiceActivities&&o.practiceActivities.length>0?`
          <div style="background:#f0f9ff; border-left:4px solid #6366f1; padding:12px; margin-bottom:12px; border-radius:4px;">
            <strong style="color:#4338ca; font-size:0.8em; display:block; margin-bottom:8px;">ç·´ç¿’å»ºè­°</strong>
            <div style="margin-left:0;">
              ${o.practiceActivities.map((i,v)=>`
                <div style="color:#312e81; font-size:0.9em; margin-bottom:4px;">
                  <span style="color:#4338ca; font-family:monospace; margin-right:6px;">${v+1}.</span>${i}
                </div>
              `).join("")}
            </div>
          </div>`:""}
          
          ${o.teachingExample?`
          <div style="background:#f9fafb; border-left:4px solid #6b7280; padding:12px; border-radius:4px;">
            <strong style="color:#374151; font-size:0.8em; display:block; margin-bottom:4px;">æ•™å­¸ç¤ºä¾‹</strong>
            <span style="color:#111827; font-size:0.9em;">${o.teachingExample}</span>
          </div>`:""}
        </div>`).join(""):"<p>æ²’æœ‰æä¾›æ˜“æ··æ·†é»ã€‚</p>",d=t.classroomActivities&&t.classroomActivities.length>0?t.classroomActivities.map(o=>`
        <div class="activity-item" style="border:1px solid #e0e7ef; border-radius:6px; padding:16px; margin-bottom:16px; background:#f8fafc;">
          <h3 style="color:#2563eb; margin-bottom:8px; font-size:1.2em;">${o.title}</h3>
          <p style="margin-bottom:12px; color:#475569;">${o.description}</p>
          
          <div style="display:grid; grid-template-columns:1fr 1fr; gap:12px; margin-bottom:12px;">
            ${o.objective?`
              <div>
                <strong style="color:#0f172a;">å­¸ç¿’ç›®æ¨™ï¼š</strong>
                <p style="margin:4px 0 0 0; font-size:0.9em;">${o.objective}</p>
              </div>`:""}
            ${o.timing?`
              <div>
                <strong style="color:#0f172a;">ä½¿ç”¨æ™‚æ©Ÿï¼š</strong>
                <p style="margin:4px 0 0 0; font-size:0.9em;">${o.timing}</p>
              </div>`:""}
            ${o.materials?`
            <div>
              <strong style="color:#0f172a;">æ‰€éœ€æ•™å…·ï¼š</strong>
              <p style="margin:4px 0 0 0; font-size:0.9em;">${o.materials}</p>
            </div>`:""}
            ${o.environment?`
            <div>
              <strong style="color:#0f172a;">ç’°å¢ƒè¦æ±‚ï¼š</strong>
              <p style="margin:4px 0 0 0; font-size:0.9em;">${o.environment}</p>
            </div>`:""}
          </div>
          
          ${o.steps&&o.steps.length>0?`
            <div style="margin-bottom:12px;">
              <strong style="color:#0f172a;">æ´»å‹•æ­¥é©Ÿï¼š</strong>
              <ol style="margin:8px 0 0 20px; padding:0;">
                ${o.steps.map(i=>`<li style="margin-bottom:4px; font-size:0.9em;">${i}</li>`).join("")}
              </ol>
            </div>`:""}
          
          ${o.assessmentPoints&&o.assessmentPoints.length>0?`
            <div>
              <strong style="color:#0f172a;">è©•ä¼°é‡é»ï¼š</strong>
              <ul style="margin:8px 0 0 20px; padding:0;">
                ${o.assessmentPoints.map(i=>`<li style="margin-bottom:4px; font-size:0.9em;">${i}</li>`).join("")}
              </ul>
            </div>`:""}
        </div>
      `).join(""):"<p>æ²’æœ‰æä¾›èª²å ‚æ´»å‹•ã€‚</p>",n=t.englishConversation&&t.englishConversation.length>0?t.englishConversation.map(o=>`
        <div class="dialogue-line ${o.speaker==="Speaker A"?"speakerA":"speakerB"}">
          <span class="speaker">${o.speaker}:</span> ${o.line}
        </div>`).join("")+"<p><small><em>æ³¨æ„ï¼šäº’å‹•å¼èªéŸ³æœ—è®€å’Œç·´ç¿’åŠŸèƒ½åƒ…åœ¨ç·šä¸Šæ‡‰ç”¨ç¨‹å¼ä¸­æä¾›ã€‚</em></small></p>":"<p>æ²’æœ‰æä¾›è‹±æ–‡å°è©±å…§å®¹ã€‚</p>",m=t.learningLevels&&t.learningLevels.suggestedLevels&&t.learningLevels.suggestedLevels.length>0?t.learningLevels.suggestedLevels.sort((o,i)=>o.order-i.order).map(o=>`
          <div class="level-item" style="border:1px solid #e0e7ef; border-radius:8px; padding:16px; margin-bottom:12px; background:${o.id===t.learningLevels?.defaultLevelId?"#eff8ff":"#f8fafc"}; border-left: 4px solid ${o.id===t.learningLevels?.defaultLevelId?"#0ea5e9":"#e2e8f0"};">
            <div style="display:flex; align-items:center; margin-bottom:8px;">
              <div style="width:32px; height:32px; border-radius:50%; background-color:${o.id===t.learningLevels?.defaultLevelId?"#0ea5e9":"#94a3b8"}; color:white; display:flex; align-items:center; justify-content:center; font-weight:bold; margin-right:12px;">${o.order}</div>
              <h3 style="margin:0; color:${o.id===t.learningLevels?.defaultLevelId?"#0c4a6e":"#334155"};">${o.name}</h3>
              ${o.id===t.learningLevels?.defaultLevelId?'<span style="background:#dcfce7; color:#166534; padding:2px 8px; border-radius:4px; font-size:0.8em; margin-left:8px;">é è¨­</span>':""}
            </div>
            <p style="margin:0; color:#64748b; line-height:1.5;">${o.description}</p>
          </div>
        `).join(""):"<p>æ²’æœ‰æä¾›å­¸ç¿’ç¨‹åº¦å»ºè­°ã€‚</p>",g=JSON.stringify(t.onlineInteractiveQuiz||{}),h=ws(g),f=`
    <!DOCTYPE html>
    <html lang="zh-Hant">
    <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>å­¸ç¿’è¨ˆç•«ï¼š${c}</title>
      <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"; margin: 0; padding: 20px; line-height: 1.6; background-color: #f4f7f9; color: #333; }
        .container { max-width: 800px; margin: 0 auto; background-color: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        h1 { color: #2c3e50; text-align: center; border-bottom: 2px solid #3498db; padding-bottom: 10px; }
        h2 { color: #3498db; margin-top: 30px; border-bottom: 1px solid #eee; padding-bottom: 8px;}
        h3 { color: #2980b9; margin-top: 20px; }
        h4 { color: #16a085; margin-top:15px; font-size: 1.1em; margin-bottom: 10px; padding-bottom: 5px; border-bottom: 1px dashed #bdc3c7;}
        ul { list-style-type: disc; padding-left: 20px; }
        li { margin-bottom: 8px; }
        p { margin-bottom: 10px; }
        .section { margin-bottom: 25px; }
        .breakdown-item, .confusing-point-item { border-left: 3px solid #3498db; padding-left: 15px; margin-bottom: 15px; background-color: #fdfdfe; padding:10px; border-radius: 0 4px 4px 0;}
        .dialogue-line { margin-bottom: 8px; padding: 10px; border-radius: 5px; }
        .dialogue-line .speaker { font-weight: bold; color: #0056b3; }
        .dialogue-line.speakerA { background-color: #e7f3ff; border-left: 3px solid #79a6dc; }
        .dialogue-line.speakerB { background-color: #e6fff0; border-left: 3px solid #68d19a; }
        
        .tabs { display: flex; margin-bottom: 0; border-bottom: 1px solid #ccc;}
        .tabs button { padding: 10px 15px; cursor: pointer; border: 1px solid #ccc; background-color: #f0f0f0; margin-right: 0px; border-bottom: none; border-radius: 5px 5px 0 0; font-size: 1em;}
        .tabs button.active { background-color: #fff; border-bottom: 1px solid #fff; color: #3498db; font-weight: bold; position:relative; top:1px;}
        .tab-content { display: none; padding: 15px; border: 1px solid #ccc; border-top: none; background-color:#fff; border-radius: 0 0 5px 5px;}
        .tab-content.active { display: block; }

        .quiz-item { border: 1px solid #e0e0e0; padding: 15px; margin-bottom: 15px; border-radius: 5px; background: #f9f9f9; }
        .quiz-question { font-weight: 500; margin-bottom: 8px; color: #333; }
        .quiz-item p:first-child { margin-top: 0; }
        .quiz-feedback { padding: 8px; margin-top: 10px; border-radius: 4px; font-size: 0.9em; }
        .quiz-feedback.correct { background-color: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .quiz-feedback.incorrect { background-color: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
        .quiz-feedback em { color: #555;}
        
        .tf-options button { margin-right: 10px; padding: 8px 12px; border-radius: 4px; border: 1px solid #ccc; cursor: pointer; }
        .tf-options button.selected.correct, .tf-options button.correct { background-color: #28a745; color: white; border-color: #28a745; }
        .tf-options button.selected.incorrect, .tf-options button.incorrect { background-color: #dc3545; color: white; border-color: #dc3545; }
        .tf-options button:disabled { opacity: 0.7; cursor: not-allowed; }

        .mc-options label { display: block; margin-bottom: 8px; padding: 8px; border: 1px solid #eee; border-radius: 4px; cursor: pointer; transition: background-color 0.2s, border-color 0.2s; }
        .mc-options label:hover { background-color: #f0f8ff; }
        .mc-options input[type="radio"] { margin-right: 8px; }
        .mc-options label.selected { background-color: #e0f0ff; border-color: #79a6dc; }
        .mc-options label.correct-answer { background-color: #d4edda !important; border-color: #c3e6cb !important; color: #155724;}
        .mc-options label.incorrect-selection { background-color: #f8d7da !important; border-color: #f5c6cb !important; color: #721c24;}
        .mc-options label.disabled { cursor: not-allowed; opacity: 0.7; }


        .fb-input { padding: 6px; border: 1px solid #ccc; border-radius: 4px; margin: 0 5px; min-width:100px; }
        .fb-input:disabled { background-color: #eee; }

        .ss-word-bank, .ss-constructed-sentence-area { display: flex; flex-wrap: wrap; gap: 8px; padding: 10px; border: 1px dashed #ccc; border-radius: 4px; min-height: 40px; margin-bottom: 10px; }
        .ss-word-bank { background-color: #f0f8ff; }
        .ss-constructed-sentence-area { background-color: #e6fff0; }
        .ss-word-bank button, .ss-constructed-sentence-area button { padding: 5px 10px; background-color: #add8e6; border: none; border-radius: 4px; cursor: pointer; font-size: 0.95em;}
        .ss-word-bank button:hover, .ss-constructed-sentence-area button:hover { background-color: #90cce0; }
        .ss-constructed-sentence-area button { background-color: #a2d2ff; }


        .quiz-item button.check-answer-btn, .quiz-item button.ss-action-btn {
          background-color: #3498db; color: white; border: none; padding: 8px 12px; border-radius: 4px; cursor: pointer; font-size: 0.9em; margin-top: 10px; transition: background-color 0.2s;
        }
        .quiz-item button.check-answer-btn:hover, .quiz-item button.ss-action-btn:hover { background-color: #2980b9; }
        .quiz-item button.ss-action-btn.ss-clear { background-color: #e74c3c; margin-left: 5px;}
        .quiz-item button.ss-action-btn.ss-clear:hover { background-color: #c0392b; }
        .quiz-item button:disabled, .quiz-item button.check-answer-btn:disabled, .quiz-item button.ss-action-btn:disabled { background-color: #bdc3c7; cursor: not-allowed; opacity: 0.7;}
        
        footer { text-align: center; margin-top: 30px; padding-top: 15px; border-top: 1px solid #ddd; font-size: 0.9em; color: #777; }
      </style>
    </head>
    <body>
      <div class="container">
        <h1>å­¸ç¿’è¨ˆç•«ï¼š${c}</h1>

        <div class="section">
          <h2>å­¸ç¿’ç¨‹åº¦å»ºè­°</h2>
          ${m}
        </div>

        <div class="section">
          <h2>æ•™å­¸ç›®æ¨™è¨­å®š</h2>
          ${a}
        </div>

        <div class="section">
          <h2>åˆ†è§£å­¸ç¿’å…§å®¹</h2>
          ${x}
        </div>

        <div class="section">
          <h2>æ˜“æ··æ·†é»è­˜åˆ¥</h2>
          ${l}
        </div>

        <div class="section">
          <h2>èª²å ‚æ´»å‹•èˆ‡éŠæˆ²è¨­è¨ˆ</h2>
          ${d}
        </div>
        
        <div class="section">
          <h2>è‹±æ–‡å°è©±ç·´ç¿’</h2>
          ${n}
        </div>

        <div class="section">
          <h2>ç·šä¸Šäº’å‹•æ¸¬é©—</h2>
          ${h}
        </div>
        
        <footer>
          <p>æ­¤å­¸ç¿’è¨ˆç•«ç”± AI ç”¢ç”Ÿã€‚åŒ¯å‡ºæ™‚é–“ï¼š${new Date().toLocaleString()}</p>
        </footer>
      </div>

      <script>
        document.addEventListener('DOMContentLoaded', () => {
          const quizData = JSON.parse(document.getElementById('quizDataStore').textContent || '{}');
          let sentenceScrambleStates = {}; // To store dynamic state for sentence scramble

          const normalizeText = (str) => {
            if (typeof str !== 'string') return '';
            // Corrected regex for multiple spaces: \\s+ instead of \\s+
            return str.toLowerCase().replace(/[.,!?;:'"â€˜'""]/g, '').replace(/\\s+/g, ' ').trim();
          };

          const renderQuizzesForDifficulty = (difficulty) => {
            const container = document.querySelector(\`.quiz-items-container[data-difficulty="\${difficulty}"]\`);
            if (!container) return;
            container.innerHTML = ''; 
            sentenceScrambleStates[difficulty] = {}; // Reset states for this difficulty

            const difficultyData = quizData[difficulty];
            if (!difficultyData || Object.keys(difficultyData).every(type => !difficultyData[type] || difficultyData[type].length === 0)) {
              container.innerHTML = '<p>æ­¤é›£åº¦æ²’æœ‰æ¸¬é©—è³‡æ–™ã€‚</p>';
              return;
            }

            let itemGlobalIndex = 0;
            const typeLabels = { trueFalse: "æ˜¯éé¡Œ", multipleChoice: "é¸æ“‡é¡Œ", fillInTheBlanks: "å¡«ç©ºé¡Œ", sentenceScramble: "å¥å­é‡çµ„"};

            const createHtml = (type, q, index) => {
              const questionId = \`\${difficulty}-\${type}-\${index}\`;
              let itemHtml = \`<div class="quiz-item \${type}-item" id="item-\${questionId}">\`;
              
              if (type === 'trueFalse') {
                itemHtml += \`<p class="quiz-question">\${itemGlobalIndex + 1}. \${q.statement}</p>\`;
                itemHtml += \`<div class="tf-options">\`;
                itemHtml += \`<button data-value="true" data-question-id="\${questionId}">æ˜¯ (True)</button>\`;
                itemHtml += \`<button data-value="false" data-question-id="\${questionId}">é (False)</button>\`;
                itemHtml += \`</div>\`;
              } else if (type === 'multipleChoice') {
                itemHtml += \`<p class="quiz-question">\${itemGlobalIndex + 1}. \${q.question}</p>\`;
                itemHtml += \`<div class="mc-options">\`;
                q.options.forEach((opt, optIndex) => {
                  itemHtml += \`<label><input type="radio" name="mc-\${questionId}" value="\${optIndex}"> \${String.fromCharCode(65 + optIndex)}. \${opt}</label>\`;
                });
                itemHtml += \`</div>\`;
                itemHtml += \`<button class="check-answer-btn mc-check" data-question-id="\${questionId}">æª¢æŸ¥ç­”æ¡ˆ</button>\`;
              } else if (type === 'fillInTheBlanks') {
                itemHtml += \`<p class="quiz-question">\${itemGlobalIndex + 1}. \${q.sentenceWithBlank.replace('____', '<input type="text" class="fb-input" id="fb-input-\${questionId}" placeholder="ç­”æ¡ˆ">')}</p>\`;
                itemHtml += \`<button class="check-answer-btn fb-check" data-question-id="\${questionId}">æª¢æŸ¥ç­”æ¡ˆ</button>\`;
              } else if (type === 'sentenceScramble') {
                sentenceScrambleStates[difficulty][questionId] = {
                    availableWords: q.scrambledWords.slice().sort(() => Math.random() - 0.5),
                    constructedWords: []
                };
                itemHtml += \`<p class="quiz-question">\${itemGlobalIndex + 1}. è«‹é‡çµ„ä»¥ä¸‹è©å½™ä¾†å½¢æˆä¸€å€‹æ­£ç¢ºçš„å¥å­ï¼š</p>\`;
                itemHtml += \`<p class="ss-instruction">é»æ“Šä¸‹æ–¹è©å½™å°‡å…¶åŠ å…¥æ‚¨çš„å¥å­ï¼Œæˆ–é»æ“Šæ‚¨å¥å­ä¸­çš„è©å½™å°‡å…¶ç§»å›è©å½™åº«ã€‚</p>\`
                itemHtml += \`<div class="ss-word-bank" id="ss-bank-\${questionId}">\`;
                sentenceScrambleStates[difficulty][questionId].availableWords.forEach(word => {
                   itemHtml += \`<button class="ss-word" data-word="\${word}" data-question-id="\${questionId}" data-source="bank">\${word}</button>\`;
                });
                itemHtml += \`</div>\`;
                itemHtml += \`<p class="quiz-question">æ‚¨çš„å¥å­ï¼š</p><div class="ss-constructed-sentence-area" id="ss-area-\${questionId}"></div>\`;
                itemHtml += \`<button class="check-answer-btn ss-check" data-question-id="\${questionId}">æª¢æŸ¥å¥å­</button>\`;
                itemHtml += \`<button class="ss-action-btn ss-clear" data-question-id="\${questionId}">æ¸…é™¤</button>\`;
              }
              itemHtml += \`<div class="quiz-feedback" id="feedback-\${questionId}"></div></div>\`;
              itemGlobalIndex++;
              return itemHtml;
            };
            
            const quizTypes = ['trueFalse', 'multipleChoice', 'fillInTheBlanks', 'sentenceScramble'];
            let hasContentForDifficulty = false;

            quizTypes.forEach(type => {
              if (difficultyData[type] && difficultyData[type].length > 0) {
                hasContentForDifficulty = true;
                const typeHeader = document.createElement('h4');
                typeHeader.textContent = typeLabels[type];
                container.appendChild(typeHeader);
                difficultyData[type].forEach((q, i) => {
                  const questionElement = document.createElement('div');
                  questionElement.innerHTML = createHtml(type, q, i);
                  container.appendChild(questionElement.firstChild);
                });
              }
            });
             if (!hasContentForDifficulty) {
                 container.innerHTML = '<p>æ­¤é›£åº¦æ²’æœ‰å¯ç”¨çš„æ¸¬é©—é¡Œç›®ã€‚</p>';
            }
          };

          const tabButtons = document.querySelectorAll('.tabs .tab-btn');
          const tabContents = document.querySelectorAll('.tab-content');

          tabButtons.forEach(button => {
            button.addEventListener('click', () => {
              tabButtons.forEach(btn => btn.classList.remove('active'));
              tabContents.forEach(content => content.classList.remove('active'));

              button.classList.add('active');
              const targetContentId = button.getAttribute('data-tab-target');
              document.getElementById(targetContentId).classList.add('active');
              
              const difficulty = button.getAttribute('data-difficulty');
              renderQuizzesForDifficulty(difficulty);
            });
          });
          
          // Initial render for the default active tab
          renderQuizzesForDifficulty('easy');


          // Event delegation for quiz interactions
          document.querySelector('.container').addEventListener('click', (event) => {
            const target = event.target;
            // Ensure target is an HTMLElement before trying to access attributes or match selectors
            if (!(target instanceof HTMLElement)) return;

            const questionId = target.getAttribute('data-question-id');
            if (!questionId) return;

            const [difficulty, type, indexStr] = questionId.split('-');
            const index = parseInt(indexStr);
            const questionData = quizData[difficulty]?.[type]?.[index];
            const feedbackEl = document.getElementById(\`feedback-\${questionId}\`);

            if (!questionData || !feedbackEl) return;

            // True/False
            if (target.matches('.tf-options button')) {
              const selectedValue = target.getAttribute('data-value') === 'true';
              const isCorrect = selectedValue === questionData.isTrue;
              feedbackEl.className = 'quiz-feedback ' + (isCorrect ? 'correct' : 'incorrect');
              let message = isCorrect ? 'ç­”å°äº†ï¼' : \`ç­”éŒ¯äº†ã€‚æ­£ç¢ºç­”æ¡ˆæ˜¯ï¼š\${questionData.isTrue ? 'æ˜¯ (True)' : 'é (False)'}\`;
              if (questionData.explanation) message += \` <em>\${questionData.explanation}</em>\`;
              feedbackEl.innerHTML = message;
              
              target.classList.add('selected', isCorrect ? 'correct' : 'incorrect');
              Array.from(target.parentElement.children).forEach(btn => btn.disabled = true);
            }

            // Multiple Choice Check
            else if (target.matches('.mc-check')) {
              const selectedRadio = document.querySelector(\`input[name="mc-\${questionId}"]:checked\`);
              if (!selectedRadio) {
                feedbackEl.className = 'quiz-feedback incorrect';
                feedbackEl.textContent = 'è«‹é¸æ“‡ä¸€å€‹é¸é …ã€‚';
                return;
              }
              const selectedOptionIndex = parseInt(selectedRadio.value);
              const isCorrect = selectedOptionIndex === questionData.correctAnswerIndex;
              
              feedbackEl.className = 'quiz-feedback ' + (isCorrect ? 'correct' : 'incorrect');
              let message = isCorrect ? 'ç­”å°äº†ï¼' : \`ç­”éŒ¯äº†ã€‚æ­£ç¢ºç­”æ¡ˆæ˜¯ï¼š\${String.fromCharCode(65 + questionData.correctAnswerIndex)}. \${questionData.options[questionData.correctAnswerIndex]}\`;
              feedbackEl.innerHTML = message;

              // Visually mark options
              const optionLabels = document.querySelectorAll(\`#item-\${questionId} .mc-options label\`);
              optionLabels.forEach((label, idx) => {
                label.classList.add('disabled');
                const radioInLabel = label.querySelector('input');
                if (radioInLabel) radioInLabel.disabled = true;

                if (idx === questionData.correctAnswerIndex) {
                    label.classList.add('correct-answer');
                }
                if (idx === selectedOptionIndex && !isCorrect) {
                    label.classList.add('incorrect-selection');
                }
                 if (idx === selectedOptionIndex) {
                    label.classList.add('selected');
                }
              });
              target.disabled = true;
            }

            // Fill in the Blanks Check
            else if (target.matches('.fb-check')) {
              const inputEl = document.getElementById(\`fb-input-\${questionId}\`);
              // Add null check for inputEl
              if (!inputEl) {
                  console.error('Fill-in-the-blanks input element not found for ID:', \`fb-input-\${questionId}\`);
                  feedbackEl.className = 'quiz-feedback incorrect';
                  feedbackEl.textContent = 'ç™¼ç”ŸéŒ¯èª¤ï¼šæ‰¾ä¸åˆ°è¼¸å…¥æ¬„ä½ã€‚';
                  return;
              }
              const userAnswer = inputEl.value.trim();
              if (userAnswer === '') {
                feedbackEl.className = 'quiz-feedback incorrect';
                feedbackEl.textContent = 'è«‹è¼¸å…¥ç­”æ¡ˆã€‚';
                return;
              }
              const isCorrect = normalizeText(userAnswer) === normalizeText(questionData.correctAnswer);
              feedbackEl.className = 'quiz-feedback ' + (isCorrect ? 'correct' : 'incorrect');
              feedbackEl.textContent = isCorrect ? 'ç­”å°äº†ï¼' : \`ç­”éŒ¯äº†ã€‚æ­£ç¢ºç­”æ¡ˆæ˜¯ï¼š "\${questionData.correctAnswer}"\`;
              inputEl.disabled = true;
              target.disabled = true;
            }
            
            // Sentence Scramble
            else if (target.matches('.ss-word') || target.matches('.ss-check') || target.matches('.ss-clear')) {
                const state = sentenceScrambleStates[difficulty][questionId];
                if (!state) return; // Should not happen if initialized correctly

                const bankEl = document.getElementById(\`ss-bank-\${questionId}\`);
                const areaEl = document.getElementById(\`ss-area-\${questionId}\`);
                
                if(!bankEl || !areaEl) return;


                const redrawScramble = () => {
                    bankEl.innerHTML = '';
                    state.availableWords.forEach(w => {
                        bankEl.innerHTML += \`<button class="ss-word" data-word="\${w}" data-question-id="\${questionId}" data-source="bank">\${w}</button>\`;
                    });
                    areaEl.innerHTML = '';
                    state.constructedWords.forEach(w => {
                        areaEl.innerHTML += \`<button class="ss-word" data-word="\${w}" data-question-id="\${questionId}" data-source="area">\${w}</button>\`;
                    });
                };

                if (target.matches('.ss-word')) {
                    const word = target.getAttribute('data-word');
                    const source = target.getAttribute('data-source');
                    if (source === 'bank') {
                        state.constructedWords.push(word);
                        // Correctly remove only one instance of the word from availableWords
                        const wordIndexInBank = state.availableWords.indexOf(word);
                        if (wordIndexInBank > -1) {
                            state.availableWords.splice(wordIndexInBank, 1);
                        }
                    } else { // source === 'area'
                        state.availableWords.push(word);
                        // Correctly remove only one instance of the word from constructedWords
                        const wordIndexInArea = state.constructedWords.indexOf(word);
                        if (wordIndexInArea > -1) {
                            state.constructedWords.splice(wordIndexInArea, 1);
                        }
                    }
                    redrawScramble();
                    feedbackEl.textContent = '';
                    feedbackEl.className = 'quiz-feedback';
                } else if (target.matches('.ss-check')) {
                    const userAnswer = state.constructedWords.join(' ').trim();
                    const isCorrect = normalizeText(userAnswer) === normalizeText(questionData.originalSentence);
                    feedbackEl.className = 'quiz-feedback ' + (isCorrect ? 'correct' : 'incorrect');
                    feedbackEl.textContent = isCorrect ? 'ç­”å°äº†ï¼' : \`ç­”éŒ¯äº†ã€‚æ­£ç¢ºå¥å­æ˜¯ï¼š "\${questionData.originalSentence}"\`;
                    target.disabled = true;
                    const clearButton = document.querySelector(\`#item-\${questionId} .ss-clear\`);
                    if(clearButton) clearButton.disabled = true;
                    
                    bankEl.querySelectorAll('button').forEach(b => b.disabled = true);
                    areaEl.querySelectorAll('button').forEach(b => b.disabled = true);

                } else if (target.matches('.ss-clear')) {
                    state.availableWords = questionData.scrambledWords.slice().sort(() => Math.random() - 0.5);
                    state.constructedWords = [];
                    redrawScramble();
                    feedbackEl.textContent = '';
                    feedbackEl.className = 'quiz-feedback';
                }
            }

          });
        });
      <\/script>
    </body>
    </html>
  `,p=new Blob([f],{type:"text/html;charset=utf-8"}),b=URL.createObjectURL(p),s=document.createElement("a");s.href=b,s.download=`learning-plan-${c.replace(/\s+/g,"_")||"untitled"}.html`,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(b)},Ge="AES-GCM",Ss=256,ze=12;async function ht(t,c){const a=new TextEncoder,x=await crypto.subtle.importKey("raw",a.encode(t),"PBKDF2",!1,["deriveKey"]);return crypto.subtle.deriveKey({name:"PBKDF2",salt:c,iterations:1e5,hash:"SHA-256"},x,{name:Ge,length:Ss},!1,["encrypt","decrypt"])}async function Cs(t,c="ai-page-gen-2024"){try{const x=new TextEncoder().encode(t),l=crypto.getRandomValues(new Uint8Array(16)),d=crypto.getRandomValues(new Uint8Array(ze)),n=await ht(c,l),m=await crypto.subtle.encrypt({name:Ge,iv:d},n,x),g=new Uint8Array(l.length+d.length+m.byteLength);return g.set(l,0),g.set(d,l.length),g.set(new Uint8Array(m),l.length+d.length),$s(g)}catch(a){throw console.error("åŠ å¯† API Key å¤±æ•—:",a),new Error("åŠ å¯†å¤±æ•—")}}async function Is(t,c="ai-page-gen-2024"){try{const a=Ls(t),x=a.slice(0,16),l=a.slice(16,16+ze),d=a.slice(16+ze),n=await ht(c,x),m=await crypto.subtle.decrypt({name:Ge,iv:l},n,d);return new TextDecoder().decode(m)}catch(a){throw console.error("è§£å¯† API Key å¤±æ•—:",a),new Error("è§£å¯†å¤±æ•—æˆ–æ•¸æ“šå·²æå£")}}function $s(t){const c=new Uint8Array(t);let a="";for(let x=0;x<c.byteLength;x++)a+=String.fromCharCode(c[x]);return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function Ls(t){const c="=".repeat((4-t.length%4)%4),a=t.replace(/-/g,"+").replace(/_/g,"/")+c,x=atob(a),l=new Uint8Array(x.length);for(let d=0;d<x.length;d++)l[d]=x.charCodeAt(d);return l}function gt(){return typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof crypto.subtle.encrypt=="function"}async function tt(t){if(!gt())return console.warn("Web Crypto API ä¸æ”¯æ´ï¼Œå°‡ä½¿ç”¨æ˜æ–‡å‚³è¼¸ï¼ˆä¸å»ºè­°ï¼‰"),`apikey=${encodeURIComponent(t)}`;const c=await Cs(t);return`enckey=${encodeURIComponent(c)}`}async function ut(t){const c=t.get("enckey");if(c&&gt())try{return await Is(decodeURIComponent(c))}catch(x){console.error("è§£å¯† API Key å¤±æ•—ï¼Œå˜—è©¦ä½¿ç”¨æ˜æ–‡åƒæ•¸:",x)}const a=t.get("apikey");return a?decodeURIComponent(a):null}const As=({tabs:t,current:c,onChange:a,children:x})=>e.jsxs("div",{children:[e.jsx("div",{className:"flex border-b mb-4",children:t.map(l=>e.jsx("button",{className:`px-4 py-2 -mb-px border-b-2 font-medium transition-colors focus:outline-none ${c===l.key?"border-indigo-600 text-indigo-700 bg-white":"border-transparent text-slate-500 hover:text-indigo-600"}`,onClick:()=>a(l.key),type:"button",children:l.label},l.key))}),e.jsx("div",{children:x[t.findIndex(l=>l.key===c)]})]}),Ps=({config:t,onConfigChange:c,onRegenerate:a,isGenerating:x})=>{const l={trueFalse:"æ˜¯éé¡Œ",multipleChoice:"é¸æ“‡é¡Œ",fillInTheBlanks:"å¡«ç©ºé¡Œ",sentenceScramble:"å¥å­é‡çµ„",memoryCardGame:"ç¿»å¡è¨˜æ†¶"},d=(h,f)=>{const p=Je[h],b=Math.max(0,Math.min(p,f)),s={easy:{...t.easy,[h]:b},normal:{...t.normal,[h]:b},hard:{...t.hard,[h]:b}};c(s)},n=()=>{c(it)},m=()=>{const h=Object.values(t.easy).reduce((b,s)=>b+s,0),f=Object.values(t.normal).reduce((b,s)=>b+s,0),p=Object.values(t.hard).reduce((b,s)=>b+s,0);return h+f+p},g=h=>t.easy[h]+t.normal[h]+t.hard[h];return e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6 border border-indigo-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-2 flex items-center gap-2",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-indigo-600",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a6.759 6.759 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]}),"æ¸¬é©—é¡Œæ•¸çµ±ä¸€è¨­å®š"]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["ä¸€æ¬¡è¨­å®šæ‰€æœ‰é›£åº¦çš„é¡Œç›®æ•¸é‡ â€¢ ç¸½è¨ˆ: ",e.jsx("span",{className:"font-semibold text-indigo-600",children:m()})," é¡Œ"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:n,className:"px-3 py-2 text-sm bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors",children:"é‡è¨­é è¨­"}),e.jsx("button",{onClick:a,disabled:x,className:"px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg hover:from-indigo-700 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all transform hover:scale-105 shadow-md flex items-center gap-2 font-medium",children:x?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"animate-spin",children:"â³"}),"é‡æ–°ç”Ÿæˆä¸­..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"})}),"æ›´æ–°è¨­å®šä¸¦é‡æ–°å‡ºé¡Œ"]})})]})]}),e.jsx("div",{className:"space-y-6",children:Object.keys(l).map(h=>{const f=Je[h],p=t.easy[h],b=g(h);return e.jsxs("div",{className:"bg-gradient-to-r from-slate-50 to-gray-50 rounded-lg p-5 border border-slate-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-3 h-3 bg-indigo-500 rounded-full"}),e.jsx("h4",{className:"font-semibold text-lg text-gray-800",children:l[h]}),e.jsxs("span",{className:"text-sm text-gray-500 bg-white px-2 py-1 rounded-full border",children:["é™åˆ¶: 0-",f," é¡Œ"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:["å„é›£åº¦: ",e.jsx("span",{className:"font-mono font-medium",children:p})," é¡Œ"]}),e.jsxs("div",{className:"text-xs text-indigo-600",children:["ç¸½è¨ˆ: ",e.jsx("span",{className:"font-semibold",children:b})," é¡Œ"]})]})]}),e.jsxs("div",{className:"flex items-center justify-center gap-4",children:[e.jsx("button",{onClick:()=>d(h,p-1),className:"w-10 h-10 rounded-full bg-red-100 hover:bg-red-200 flex items-center justify-center text-red-600 font-bold text-lg transition-colors shadow-sm",disabled:p<=0,children:"-"}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"text-3xl font-bold text-gray-800 mb-1",children:p}),e.jsx("div",{className:"text-xs text-gray-500",children:"æ¯å€‹é›£åº¦"})]}),e.jsx("button",{onClick:()=>d(h,p+1),className:"w-10 h-10 rounded-full bg-green-100 hover:bg-green-200 flex items-center justify-center text-green-600 font-bold text-lg transition-colors shadow-sm",disabled:p>=f,children:"+"})]}),e.jsxs("div",{className:"mt-4 flex justify-center gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center text-green-700 text-sm font-semibold mb-1",children:t.easy[h]}),e.jsx("div",{className:"text-xs text-green-700",children:"ç°¡å–®"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center text-yellow-700 text-sm font-semibold mb-1",children:t.normal[h]}),e.jsx("div",{className:"text-xs text-yellow-700",children:"æ™®é€š"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center text-red-700 text-sm font-semibold mb-1",children:t.hard[h]}),e.jsx("div",{className:"text-xs text-red-700",children:"å›°é›£"})]})]})]},h)})}),e.jsx("div",{className:"mt-6 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-blue-600 mt-0.5 flex-shrink-0",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"})}),e.jsxs("div",{className:"text-sm text-blue-800",children:[e.jsx("p",{className:"font-medium mb-2",children:"ğŸ“ ä½¿ç”¨èªªæ˜ï¼š"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-xs",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-blue-900 mb-1",children:"â€¢ çµ±ä¸€è¨­å®šæ¨¡å¼"}),e.jsx("p",{children:"èª¿æ•´é¡Œæ•¸æœƒåŒæ™‚å¥—ç”¨åˆ°ç°¡å–®ã€æ™®é€šã€å›°é›£ä¸‰ç¨®é›£åº¦"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-blue-900 mb-1",children:"â€¢ é¡Œæ•¸é™åˆ¶"}),e.jsx("p",{children:"ä¸€èˆ¬é¡Œå‹: 0-10é¡Œ | ç¿»å¡è¨˜æ†¶: 0-2é¡Œ"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-blue-900 mb-1",children:"â€¢ è·³éé¡Œå‹"}),e.jsx("p",{children:"è¨­å®šç‚º 0 é¡Œå¯å®Œå…¨è·³éè©²ç¨®é¡Œå‹"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-blue-900 mb-1",children:"â€¢ è¨˜æ†¶å¡éŠæˆ²"}),e.jsx("p",{children:"æ¯é¡ŒåŒ…å«å¤šå°å¡ç‰‡ï¼Œå»ºè­° 1-2 é¡Œå³å¯"})]})]})]})]})})]})},ue=({url:t,title:c="QR Code",size:a=256,className:x="",showDownload:l=!0,onError:d})=>{const[n,m]=r.useState(""),[g,h]=r.useState(!0),[f,p]=r.useState(null),b=r.useRef(null);r.useEffect(()=>{t&&(async()=>{try{h(!0),p(null);const v={width:a,margin:2,color:{dark:"#000000",light:"#FFFFFF"},errorCorrectionLevel:"M"},S=await et.toDataURL(t,v);m(S),b.current&&await et.toCanvas(b.current,t,v)}catch(v){const S=v instanceof Error?v.message:"QR Code ç”Ÿæˆå¤±æ•—";p(S),d?.(S)}finally{h(!1)}})()},[t,a,d]);const s=()=>{if(b.current)try{const i=document.createElement("a");i.download=`qrcode-${Date.now()}.png`,i.href=b.current.toDataURL(),document.body.appendChild(i),i.click(),document.body.removeChild(i)}catch(i){console.error("ä¸‹è¼‰ QR Code å¤±æ•—:",i)}},o=async()=>{if(b.current)try{b.current.toBlob(async i=>{if(i&&navigator.clipboard)try{await navigator.clipboard.write([new ClipboardItem({"image/png":i})]),alert("QR Code å·²è¤‡è£½åˆ°å‰ªè²¼ç°¿ï¼")}catch(v){console.error("è¤‡è£½åœ–ç‰‡å¤±æ•—:",v),alert("è¤‡è£½åœ–ç‰‡å¤±æ•—ï¼Œè«‹ä½¿ç”¨ä¸‹è¼‰åŠŸèƒ½ã€‚")}})}catch(i){console.error("è¤‡è£½ QR Code å¤±æ•—:",i)}};return g?e.jsxs("div",{className:`flex flex-col items-center p-4 ${x}`,children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mb-3"}),e.jsx("p",{className:"text-sm text-gray-600",children:"ç”Ÿæˆ QR Code ä¸­..."})]}):f?e.jsxs("div",{className:`flex flex-col items-center p-4 text-red-600 ${x}`,children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8 mb-2",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})}),e.jsx("p",{className:"text-sm text-center",children:f})]}):e.jsxs("div",{className:`flex flex-col items-center ${x}`,children:[c&&e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3 text-center",children:c}),e.jsx("div",{className:"bg-white p-4 rounded-lg shadow-md border",children:e.jsx("img",{src:n,alt:`QR Code for ${c}`,className:"block",style:{width:a,height:a}})}),e.jsx("canvas",{ref:b,style:{display:"none"},width:a,height:a}),e.jsx("div",{className:"mt-3 max-w-xs w-full",children:e.jsx("p",{className:"text-xs text-gray-500 text-center break-all",children:t})}),l&&e.jsxs("div",{className:"mt-4 flex gap-2",children:[e.jsxs("button",{onClick:s,className:"flex items-center gap-2 px-3 py-2 bg-indigo-600 text-white text-sm rounded-lg hover:bg-indigo-700 transition-colors",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})}),"ä¸‹è¼‰"]}),e.jsxs("button",{onClick:o,className:"flex items-center gap-2 px-3 py-2 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 transition-colors",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"})}),"è¤‡è£½"]})]})]})},st=[{key:"objectives",label:"æ•™å­¸ç›®æ¨™"},{key:"breakdown",label:"åˆ†è§£å…§å®¹"},{key:"confusing",label:"æ˜“æ··æ·†é»"},{key:"activities",label:"èª²å ‚æ´»å‹•"},{key:"conversation",label:"å°è©±ç·´ç¿’"},{key:"writing",label:"å¯«ä½œç·´ç¿’"},{key:"quiz",label:"äº’å‹•æ¸¬é©—"}],Ke=({content:t,topic:c,selectedLevel:a,selectedVocabularyLevel:x,apiKey:l,onContentUpdate:d})=>{const[n,m]=G.useState(""),[g,h]=G.useState(""),[f,p]=G.useState(st[0].key),[b,s]=G.useState(!1),[o,i]=G.useState(""),[v,S]=G.useState(""),[C,I]=G.useState(!1),[A,k]=G.useState(""),[j,y]=G.useState(""),[$,T]=G.useState(!1),[z,D]=G.useState(!1),[L,u]=G.useState(""),[R,V]=G.useState(""),[N,M]=G.useState(!1),[P,E]=G.useState(!1),[w,Z]=G.useState(""),[K,Y]=G.useState(""),[X,B]=G.useState(!1),[O,F]=G.useState(!1),[ee,H]=G.useState(""),[q,_]=G.useState(""),[U,Le]=G.useState(!1),[me,fe]=G.useState(it),[kt,Fe]=G.useState(!1),[_e,Qe]=G.useState(!1),St=()=>{navigator.clipboard.writeText(JSON.stringify(t,null,2)).then(()=>{m("JSON å·²è¤‡è£½åˆ°å‰ªè²¼ç°¿ï¼"),setTimeout(()=>m(""),2e3)}).catch(W=>{m("è¤‡è£½å¤±æ•—ã€‚"),console.error("Failed to copy: ",W),setTimeout(()=>m(""),2e3)})},Ct=()=>{try{ks(t,c),h("HTML æª”æ¡ˆå·²é–‹å§‹ä¸‹è¼‰ï¼"),setTimeout(()=>h(""),3e3)}catch(W){console.error("Failed to export HTML:",W),h("åŒ¯å‡º HTML å¤±æ•—ã€‚"),setTimeout(()=>h(""),3e3)}},It=async()=>{s(!0),i(""),S("");try{const W={...t,topic:c,selectedLevel:a,selectedVocabularyLevel:x,sharedAt:new Date().toISOString()},te=await Me(W),J=`${window.location.origin}/ai-page-gen/share?binId=${te}`;S(J)}catch(W){i(W.message||"åˆ†äº«å¤±æ•—")}finally{s(!1)}},$t=async()=>{if(I(!0),k(""),y(""),!t.onlineInteractiveQuiz){k("æ²’æœ‰å¯åˆ†äº«çš„æ¸¬é©—å…§å®¹"),I(!1);return}try{const W=await Jt({quiz:t.onlineInteractiveQuiz,topic:c,apiKey:l,metadata:{selectedLevel:a?.name,selectedVocabularyLevel:x?.name,createdAt:new Date().toISOString(),supportsDiagnostic:!!l}});let te=`${window.location.origin}/ai-page-gen/quiz?binId=${W}`;if(l)try{const J=await tt(l);te+=`&${J}`}catch(J){console.warn("åŠ å¯† API Key å¤±æ•—ï¼Œå°‡ä¸åŒ…å« API Key:",J)}y(te)}catch(W){k(W.message||"åˆ†äº«æ¸¬é©—å¤±æ•—")}finally{I(!1)}},Lt=async()=>{if(D(!0),u(""),V(""),!t.writingPractice){u("æ²’æœ‰å¯åˆ†äº«çš„å¯«ä½œç·´ç¿’å…§å®¹"),D(!1);return}try{const W=await Ut({writingPractice:t.writingPractice,topic:c,metadata:{selectedLevel:a?.name,selectedVocabularyLevel:x?.name,createdAt:new Date().toISOString()}});let te=`${window.location.origin}/ai-page-gen/writing?binId=${W}`;if(l)try{const J=await tt(l);te+=`&${J}`}catch(J){console.warn("åŠ å¯† API Key å¤±æ•—ï¼Œå°‡ä¸åŒ…å« API Key:",J)}V(te)}catch(W){u(W.message||"åˆ†äº«å¯«ä½œç·´ç¿’å¤±æ•—")}finally{D(!1)}},At=async()=>{E(!0),Z(""),Y("");try{const W={...t,topic:c,selectedLevel:a,selectedVocabularyLevel:x,sharedAt:new Date().toISOString()},te=await Me(W),J=`${window.location.origin}/ai-page-gen/teacher-interactive-prep?binId=${te}`;Y(J)}catch(W){Z(W.message||"åˆ†äº«æ•™ææº–å‚™å¤±æ•—")}finally{E(!1)}},Pt=async()=>{if(!t.learningObjectives){alert("ç„¡æ³•é‡æ–°ç”Ÿæˆæ¸¬é©—ï¼šç¼ºå°‘å­¸ç¿’ç›®æ¨™");return}if(!(localStorage.getItem("gemini_api_key")||l)){alert("è«‹å…ˆè¨­å®š Gemini API é‡‘é‘°");return}Fe(!0);try{const te=await Yt(c,t.learningObjectives,me,a,x),J={...t,onlineInteractiveQuiz:te};d&&d(J),Qe(!1),alert("æ¸¬é©—å·²æˆåŠŸé‡æ–°ç”Ÿæˆï¼")}catch(te){console.error("é‡æ–°ç”Ÿæˆæ¸¬é©—æ™‚ç™¼ç”ŸéŒ¯èª¤:",te),alert("é‡æ–°ç”Ÿæˆæ¸¬é©—å¤±æ•—: "+(te.message||"æœªçŸ¥éŒ¯èª¤"))}finally{Fe(!1)}},Ze=async()=>{if(!l){H("è«‹å…ˆè¨­å®š Gemini API é‡‘é‘°");return}if(!t.learningObjectives||t.learningObjectives.length===0){H("ç„¡æ³•ç”Ÿæˆå°è©±ç·´ç¿’ï¼šç¼ºå°‘å­¸ç¿’ç›®æ¨™");return}F(!0),H(""),_("");try{const W={topic:c,scenario:`Practice conversation based on learning objectives: ${t.learningObjectives.map(je=>je.objective).join(", ")}`,difficulty:a?.name==="å…¥é–€"?"easy":a?.name==="é€²éš"?"hard":"normal",participantCount:2,duration:10,focusAreas:t.learningObjectives.map(je=>je.objective),culturalContext:t.contentBreakdown?.map(je=>je.details).join("; ")},J={practice:await Se.generateConversationPractice(W),metadata:{basedOnTopic:c,createdFrom:"lesson-plan",selectedLevel:a?.name,selectedVocabularyLevel:x?.name,createdAt:new Date().toISOString()}},ne=await ot(J),Mt=`${window.location.origin}/ai-page-gen/conversation-practice/${ne}`;_(Mt)}catch(W){console.error("Failed to generate advanced conversation practice:",W),H(W.message||"ç”Ÿæˆé€²éšå°è©±ç·´ç¿’å¤±æ•—")}finally{F(!1)}};return e.jsxs("div",{className:"mt-8",children:[e.jsxs("div",{className:"flex flex-wrap justify-end items-center gap-2 mb-4",children:[e.jsxs("button",{onClick:St,className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors flex items-center text-sm","aria-label":"è¤‡è£½ç”¢ç”Ÿçš„ JSON å…§å®¹",children:[e.jsx(ms,{className:"w-4 h-4 mr-2"})," è¤‡è£½ç”¢ç”Ÿçš„ JSON"]}),e.jsxs("button",{onClick:Ct,className:"px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition-colors flex items-center text-sm","aria-label":"å°‡å­¸ç¿’å…§å®¹åŒ¯å‡ºç‚º HTML æª”æ¡ˆ",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4 mr-2",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})}),"åŒ¯å‡ºç‚º HTML"]}),e.jsx("button",{onClick:It,className:"px-4 py-2 bg-purple-500 text-white rounded-md hover:bg-purple-600 transition-colors flex items-center text-sm disabled:opacity-60","aria-label":"åˆ†äº«æ•™å­¸æ–¹æ¡ˆ",disabled:b,children:b?e.jsxs("span",{className:"flex items-center",children:[e.jsx("span",{className:"animate-spin mr-2",children:"â³"})," åˆ†äº«ä¸­..."]}):e.jsx("span",{children:"åˆ†äº«æ–¹æ¡ˆ"})}),e.jsx("button",{onClick:At,className:"px-4 py-2 bg-emerald-500 text-white rounded-md hover:bg-emerald-600 transition-colors flex items-center text-sm disabled:opacity-60","aria-label":"åˆ†äº«æ•™ææº–å‚™",disabled:P,children:P?e.jsxs("span",{className:"flex items-center",children:[e.jsx("span",{className:"animate-spin mr-2",children:"â³"})," åˆ†äº«ä¸­..."]}):e.jsxs("span",{className:"flex items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4 mr-2",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"})}),"æ•™ææº–å‚™"]})}),n&&e.jsx("span",{className:"text-sm text-green-600",children:n}),g&&e.jsx("span",{className:"text-sm text-blue-600",children:g}),o&&e.jsx("span",{className:"text-sm text-red-600",children:o}),w&&e.jsx("span",{className:"text-sm text-red-600",children:w})]}),v&&e.jsxs("div",{className:"mb-4 p-4 bg-purple-50 border border-purple-200 rounded-lg",children:[e.jsx("p",{className:"text-sm text-purple-700 mb-2",children:"æ–¹æ¡ˆåˆ†äº«é€£çµå·²ç”Ÿæˆï¼š"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"text",value:v,readOnly:!0,className:"flex-1 px-3 py-2 bg-white border border-purple-300 rounded text-sm",onClick:()=>navigator.clipboard.writeText(v)}),e.jsx("button",{onClick:()=>navigator.clipboard.writeText(v),className:"px-3 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 text-sm",children:"è¤‡è£½"})]})]}),K&&e.jsxs("div",{className:"mb-4 p-4 bg-emerald-50 border border-emerald-200 rounded-lg",children:[e.jsx("p",{className:"text-sm text-emerald-700 mb-2",children:"æ•™ææº–å‚™é€£çµå·²ç”Ÿæˆï¼š"}),e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("input",{type:"text",value:K,readOnly:!0,className:"flex-1 px-3 py-2 bg-white border border-emerald-300 rounded text-sm",onClick:()=>navigator.clipboard.writeText(K)}),e.jsx("button",{onClick:()=>navigator.clipboard.writeText(K),className:"px-3 py-2 bg-emerald-600 text-white rounded hover:bg-emerald-700 text-sm",children:"è¤‡è£½"}),e.jsxs("button",{onClick:()=>B(!X),className:"px-3 py-2 bg-emerald-600 text-white rounded hover:bg-emerald-700 text-sm flex items-center gap-1",children:[e.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 3.75 9.375v-4.5ZM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5ZM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 13.5 9.375v-4.5Z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 6.75h.75v.75h-.75v-.75ZM6.75 16.5h.75v.75h-.75v-.75ZM16.5 6.75h.75v.75h-.75v-.75ZM13.5 13.5h.75v.75h-.75v-.75ZM13.5 19.5h.75v.75h-.75v-.75ZM19.5 13.5h.75v.75h-.75v-.75ZM19.5 19.5h.75v.75h-.75v-.75ZM16.5 16.5h.75v.75h-.75v-.75Z"})]}),"QR"]})]}),X&&e.jsx("div",{className:"mt-4 flex justify-center",children:e.jsx(ue,{url:K,title:"æ•™ææº–å‚™åˆ†äº« QR Code",size:200,className:"bg-white p-4 rounded-lg shadow-sm"})}),e.jsx("div",{className:"text-xs text-emerald-600 bg-emerald-100 px-3 py-2 rounded-lg",children:"ğŸ’¡ æ•™å¸«å¯ä»¥é€šéæ­¤é€£çµæº–å‚™äº’å‹•æ•™æï¼ŒåŒ…å«å…§å®¹è½‰æ›ã€æª¢æŸ¥å’Œç™¼å¸ƒåŠŸèƒ½"})]}),e.jsx("div",{className:"mb-8 p-6 bg-gradient-to-r from-indigo-50 to-blue-50 border border-indigo-200 rounded-lg shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Ie,{className:"w-5 h-5 text-indigo-600 flex-shrink-0"}),e.jsx("span",{className:"text-sm font-medium text-indigo-600",children:"å­¸ç¿’ä¸»é¡Œ"})]}),e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-0 truncate",children:c})]}),(a||x)&&e.jsxs("div",{className:"flex gap-3 ml-6 flex-shrink-0",children:[a&&e.jsxs("div",{className:"bg-white px-3 py-2 rounded-lg shadow-sm border border-indigo-100",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(oe,{className:"w-4 h-4 text-indigo-500"}),e.jsx("span",{className:"text-xs font-medium text-indigo-600",children:"å­¸ç¿’ç¨‹åº¦"})]}),e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:a.name}),e.jsx("div",{className:"text-xs text-gray-500 truncate max-w-32",title:a.description,children:a.description.length>20?a.description.substring(0,20)+"...":a.description})]}),x&&e.jsxs("div",{className:"bg-white px-3 py-2 rounded-lg shadow-sm border border-blue-100",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx($e,{className:"w-4 h-4 text-blue-500"}),e.jsx("span",{className:"text-xs font-medium text-blue-600",children:"è©å½™ç¨‹åº¦"})]}),e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:x.name}),e.jsxs("div",{className:"text-xs text-gray-500",children:[x.wordCount," è©å½™"]})]})]})]})}),e.jsxs(As,{tabs:st,current:f,onChange:p,children:[e.jsx(ce,{title:"æ•™å­¸ç›®æ¨™è¨­å®š",icon:e.jsx(oe,{className:"w-7 h-7"}),children:t.learningObjectives&&t.learningObjectives.length>0?t.learningObjectives.map((W,te)=>e.jsxs("div",{className:"mb-4 pb-4 border-b border-slate-200 last:border-b-0 last:pb-0",children:[e.jsx("h4",{className:"font-semibold text-lg text-green-800 mb-1",children:W.objective}),e.jsx("p",{className:"text-slate-700 mb-2",children:W.description}),W.teachingExample&&e.jsxs("div",{className:"bg-green-50 border-l-4 border-green-400 p-3 rounded-md mt-2",children:[e.jsx("span",{className:"block text-xs font-semibold text-green-700 mb-1",children:"æ•™å­¸ç¤ºä¾‹"}),e.jsx("span",{className:"text-green-900 text-sm",children:W.teachingExample})]})]},te)):e.jsx("p",{children:"æ²’æœ‰æä¾›æ•™å­¸ç›®æ¨™ã€‚"})}),e.jsx(ce,{title:"åˆ†è§£å­¸ç¿’å…§å®¹",icon:e.jsx($e,{className:"w-7 h-7"}),children:t.contentBreakdown&&t.contentBreakdown.length>0?t.contentBreakdown.map((W,te)=>e.jsxs("div",{className:"mb-6 pb-6 border-b border-slate-200 last:border-b-0 last:pb-0",children:[e.jsx("h4",{className:"font-semibold text-lg text-sky-800 mb-1",children:W.topic}),e.jsx("p",{className:"text-slate-700 mb-3",children:W.details}),W.coreConcept&&e.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-3 rounded-md mb-3",children:[e.jsx("span",{className:"block text-xs font-semibold text-blue-700 mb-1",children:"æ ¸å¿ƒæ¦‚å¿µ"}),e.jsx("span",{className:"text-blue-900 text-sm",children:W.coreConcept})]}),W.teachingSentences&&W.teachingSentences.length>0&&e.jsxs("div",{className:"bg-indigo-50 border-l-4 border-indigo-400 p-3 rounded-md mb-3",children:[e.jsx("span",{className:"block text-xs font-semibold text-indigo-700 mb-2",children:"æ•™å­¸ä¾‹å¥"}),e.jsx("div",{className:"space-y-1",children:W.teachingSentences.map((J,ne)=>e.jsxs("div",{className:"text-indigo-900 text-sm",children:[e.jsxs("span",{className:"font-mono text-indigo-600",children:[ne+1,"."]})," ",J]},ne))})]}),W.teachingTips&&e.jsxs("div",{className:"bg-purple-50 border-l-4 border-purple-400 p-3 rounded-md mb-3",children:[e.jsx("span",{className:"block text-xs font-semibold text-purple-700 mb-1",children:"æ•™å­¸è¦é»æç¤º"}),e.jsx("span",{className:"text-purple-900 text-sm",children:W.teachingTips})]}),W.teachingExample&&e.jsxs("div",{className:"bg-sky-50 border-l-4 border-sky-400 p-3 rounded-md",children:[e.jsx("span",{className:"block text-xs font-semibold text-sky-700 mb-1",children:"æ•™å­¸ç¤ºä¾‹"}),e.jsx("span",{className:"text-sky-900 text-sm",children:W.teachingExample})]})]},te)):e.jsx("p",{children:"æ²’æœ‰æä¾›å…§å®¹åˆ†è§£ã€‚"})}),e.jsx(ce,{title:"æ˜“æ··æ·†é»è­˜åˆ¥",icon:e.jsx(Ie,{className:"w-7 h-7"}),children:t.confusingPoints&&t.confusingPoints.length>0?t.confusingPoints.map((W,te)=>e.jsxs("div",{className:"mb-6 pb-6 border-b border-slate-200 last:border-b-0 last:pb-0",children:[e.jsx("h4",{className:"font-semibold text-lg text-red-700 mb-2",children:W.point}),e.jsx("p",{className:"text-slate-700 mb-3",children:W.clarification}),W.errorType&&e.jsxs("div",{className:"bg-orange-50 border-l-4 border-orange-400 p-3 rounded-md mb-3",children:[e.jsx("span",{className:"block text-xs font-semibold text-orange-700 mb-1",children:"èª¤å€é¡å‹"}),e.jsx("span",{className:"text-orange-900 text-sm",children:W.errorType})]}),W.commonErrors&&W.commonErrors.length>0&&e.jsxs("div",{className:"bg-red-50 border-l-4 border-red-400 p-3 rounded-md mb-3",children:[e.jsx("span",{className:"block text-xs font-semibold text-red-700 mb-2",children:"å¸¸è¦‹éŒ¯èª¤ç¤ºä¾‹"}),e.jsx("div",{className:"space-y-1",children:W.commonErrors.map((J,ne)=>e.jsxs("div",{className:"text-red-900 text-sm",children:[e.jsxs("span",{className:"font-mono text-red-600",children:[ne+1,"."]})," ",J]},ne))})]}),W.correctVsWrong&&W.correctVsWrong.length>0&&e.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-3 rounded-md mb-3",children:[e.jsx("span",{className:"block text-xs font-semibold text-yellow-700 mb-2",children:"æ­£ç¢ºèˆ‡éŒ¯èª¤å°æ¯”"}),e.jsx("div",{className:"space-y-3",children:W.correctVsWrong.map((J,ne)=>e.jsxs("div",{className:"border border-yellow-200 rounded-md p-2 bg-white",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-2",children:[e.jsxs("div",{className:"bg-green-50 p-2 rounded border border-green-200",children:[e.jsx("span",{className:"block text-xs font-semibold text-green-700 mb-1",children:"âœ“ æ­£ç¢º"}),e.jsx("span",{className:"text-green-900 text-sm",children:J.correct})]}),e.jsxs("div",{className:"bg-red-50 p-2 rounded border border-red-200",children:[e.jsx("span",{className:"block text-xs font-semibold text-red-700 mb-1",children:"âœ— éŒ¯èª¤"}),e.jsx("span",{className:"text-red-900 text-sm",children:J.wrong})]})]}),e.jsxs("div",{className:"bg-blue-50 p-2 rounded border border-blue-200",children:[e.jsx("span",{className:"block text-xs font-semibold text-blue-700 mb-1",children:"èªªæ˜"}),e.jsx("span",{className:"text-blue-900 text-sm",children:J.explanation})]})]},ne))})]}),W.preventionStrategy&&e.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-3 rounded-md mb-3",children:[e.jsx("span",{className:"block text-xs font-semibold text-blue-700 mb-1",children:"é é˜²ç­–ç•¥"}),e.jsx("span",{className:"text-blue-900 text-sm",children:W.preventionStrategy})]}),W.correctionMethod&&e.jsxs("div",{className:"bg-purple-50 border-l-4 border-purple-400 p-3 rounded-md mb-3",children:[e.jsx("span",{className:"block text-xs font-semibold text-purple-700 mb-1",children:"ç³¾æ­£æ–¹æ³•"}),e.jsx("span",{className:"text-purple-900 text-sm",children:W.correctionMethod})]}),W.practiceActivities&&W.practiceActivities.length>0&&e.jsxs("div",{className:"bg-indigo-50 border-l-4 border-indigo-400 p-3 rounded-md mb-3",children:[e.jsx("span",{className:"block text-xs font-semibold text-indigo-700 mb-2",children:"ç·´ç¿’å»ºè­°"}),e.jsx("div",{className:"space-y-1",children:W.practiceActivities.map((J,ne)=>e.jsxs("div",{className:"text-indigo-900 text-sm",children:[e.jsxs("span",{className:"font-mono text-indigo-600",children:[ne+1,"."]})," ",J]},ne))})]}),W.teachingExample&&e.jsxs("div",{className:"bg-gray-50 border-l-4 border-gray-400 p-3 rounded-md",children:[e.jsx("span",{className:"block text-xs font-semibold text-gray-700 mb-1",children:"æ•™å­¸ç¤ºä¾‹"}),e.jsx("span",{className:"text-gray-900 text-sm",children:W.teachingExample})]})]},te)):e.jsx("p",{children:"æ²’æœ‰æä¾›æ˜“æ··æ·†é»ã€‚"})}),e.jsx(ce,{title:"èª²å ‚æ´»å‹•èˆ‡éŠæˆ²è¨­è¨ˆ",icon:e.jsx(hs,{className:"w-7 h-7"}),children:t.classroomActivities&&t.classroomActivities.length>0?e.jsx("div",{className:"space-y-6",children:t.classroomActivities.map((W,te)=>e.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl shadow-sm hover:shadow-md transition-shadow duration-200",children:[e.jsxs("div",{className:"bg-gradient-to-r from-sky-50 to-blue-50 px-6 py-4 border-b border-slate-200 rounded-t-xl",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-sky-500 text-white rounded-full font-bold text-sm",children:te+1}),e.jsx("h4",{className:"font-bold text-xl text-sky-800",children:W.title})]}),e.jsx("p",{className:"mt-3 text-slate-700 leading-relaxed",children:W.description})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[W.objective&&e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{className:"font-semibold text-green-800 text-sm",children:"å­¸ç¿’ç›®æ¨™"})]}),e.jsx("p",{className:"text-green-900 text-sm leading-relaxed",children:W.objective})]}),W.timing&&e.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),e.jsx("span",{className:"font-semibold text-purple-800 text-sm",children:"ä½¿ç”¨æ™‚æ©Ÿ"})]}),e.jsx("p",{className:"text-purple-900 text-sm leading-relaxed",children:W.timing})]}),W.materials&&e.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),e.jsx("span",{className:"font-semibold text-orange-800 text-sm",children:"æ‰€éœ€æ•™å…·"})]}),e.jsx("p",{className:"text-orange-900 text-sm leading-relaxed",children:W.materials})]}),W.environment&&e.jsxs("div",{className:"bg-teal-50 border border-teal-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-2 h-2 bg-teal-500 rounded-full"}),e.jsx("span",{className:"font-semibold text-teal-800 text-sm",children:"ç’°å¢ƒè¦æ±‚"})]}),e.jsx("p",{className:"text-teal-900 text-sm leading-relaxed",children:W.environment})]})]}),W.steps&&W.steps.length>0&&e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5 text-blue-600",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0ZM3.75 12h.007v.008H3.75V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm-.375 5.25h.007v.008H3.75v-.008Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"})}),e.jsx("span",{className:"font-semibold text-blue-800",children:"æ´»å‹•æ­¥é©Ÿ"})]}),e.jsx("div",{className:"space-y-3",children:W.steps.map((J,ne)=>e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"flex items-center justify-center w-6 h-6 bg-blue-500 text-white rounded-full font-semibold text-xs flex-shrink-0 mt-0.5",children:ne+1}),e.jsx("p",{className:"text-blue-900 text-sm leading-relaxed flex-1",children:J})]},ne))})]})}),W.assessmentPoints&&W.assessmentPoints.length>0&&e.jsx("div",{children:e.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5 text-indigo-600",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.746 3.746 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"})}),e.jsx("span",{className:"font-semibold text-indigo-800",children:"è©•ä¼°é‡é»"})]}),e.jsx("div",{className:"space-y-2",children:W.assessmentPoints.map((J,ne)=>e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-2 h-2 bg-indigo-500 rounded-full mt-2 flex-shrink-0"}),e.jsx("p",{className:"text-indigo-900 text-sm leading-relaxed",children:J})]},ne))})]})})]})]},te))}):e.jsx("p",{children:"æ²’æœ‰æä¾›èª²å ‚æ´»å‹•ã€‚"})}),e.jsx(ce,{title:"å°è©±ç·´ç¿’",icon:e.jsx(Ee,{className:"w-7 h-7"}),children:t.englishConversation&&t.englishConversation.length>0?e.jsxs("div",{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-800",children:"åŸºç¤å°è©±ç·´ç¿’"}),e.jsx(Ns,{dialogue:t.englishConversation})]}),l&&e.jsxs("div",{className:"border-t pt-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"é€²éšäº’å‹•å°è©±ç·´ç¿’"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"åŸºæ–¼æ•™æ¡ˆå…§å®¹ç”Ÿæˆè±å¯Œçš„å°è©±ç·´ç¿’ï¼ŒåŒ…å«èªéŸ³è­˜åˆ¥å’ŒAIè©•ä¼°"})]}),e.jsx("button",{onClick:Ze,className:"px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors flex items-center gap-2 text-sm",disabled:O||!l,children:O?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),"ç”Ÿæˆä¸­..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 18.75a6 6 0 0 0 6-6v-1.5m-6 7.5a6 6 0 0 1-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15.75a3 3 0 0 1-3-3V4.5a3 3 0 1 1 6 0v8.25a3 3 0 0 1-3 3Z"})}),"ç”Ÿæˆé€²éšå°è©±ç·´ç¿’"]})})]}),ee&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:ee}),q&&e.jsxs("div",{className:"mb-4 p-4 bg-green-50 border border-green-200 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-green-800 mb-1",children:"é€²éšå°è©±ç·´ç¿’å·²ç”Ÿæˆï¼"}),e.jsx("div",{className:"text-xs text-green-600",children:"å­¸ç”Ÿå¯ä½¿ç”¨æ­¤é€£çµé€²è¡Œäº’å‹•å°è©±ç·´ç¿’"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>navigator.clipboard.writeText(q),className:"px-3 py-1 bg-green-600 text-white text-xs rounded hover:bg-green-700",children:"è¤‡è£½é€£çµ"}),e.jsx("button",{onClick:()=>Le(!U),className:"px-3 py-1 bg-green-600 text-white text-xs rounded hover:bg-green-700",children:"QR Code"})]})]}),U&&e.jsx("div",{className:"mt-4 pt-4 border-t border-green-200",children:e.jsx(ue,{url:q,title:`${c} - é€²éšå°è©±ç·´ç¿’`})})]})]})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"æ²’æœ‰æä¾›åŸºç¤å°è©±ç·´ç¿’ã€‚"}),l&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"æ‚¨å¯ä»¥åŸºæ–¼æ•™æ¡ˆå…§å®¹ç”Ÿæˆé€²éšå°è©±ç·´ç¿’"}),e.jsx("button",{onClick:Ze,className:"px-6 py-3 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors flex items-center gap-2 mx-auto",disabled:O,children:O?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),"ç”Ÿæˆä¸­..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 18.75a6 6 0 0 0 6-6v-1.5m-6 7.5a6 6 0 0 1-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15.75a3 3 0 0 1-3-3V4.5a3 3 0 1 1 6 0v8.25a3 3 0 0 1-3 3Z"})}),"ç”Ÿæˆé€²éšå°è©±ç·´ç¿’"]})}),ee&&e.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm max-w-md mx-auto",children:ee}),q&&e.jsxs("div",{className:"mt-4 p-4 bg-green-50 border border-green-200 rounded-lg max-w-md mx-auto",children:[e.jsx("div",{className:"text-sm font-medium text-green-800 mb-2",children:"é€²éšå°è©±ç·´ç¿’å·²ç”Ÿæˆï¼"}),e.jsxs("div",{className:"flex gap-2 justify-center",children:[e.jsx("button",{onClick:()=>navigator.clipboard.writeText(q),className:"px-3 py-1 bg-green-600 text-white text-xs rounded hover:bg-green-700",children:"è¤‡è£½é€£çµ"}),e.jsx("button",{onClick:()=>Le(!U),className:"px-3 py-1 bg-green-600 text-white text-xs rounded hover:bg-green-700",children:"QR Code"})]}),U&&e.jsx("div",{className:"mt-4 pt-4 border-t border-green-200",children:e.jsx(ue,{url:q,title:`${c} - é€²éšå°è©±ç·´ç¿’`})})]})]})]})}),t.writingPractice?e.jsxs("div",{children:[e.jsx("div",{className:"flex justify-end mb-4",children:e.jsx("button",{onClick:Lt,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center gap-2 text-sm",disabled:z,children:z?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"animate-spin",children:"â³"}),"åˆ†äº«ä¸­..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.935-2.186 2.25 2.25 0 0 0-3.935 2.186Z"})}),"åˆ†äº«å¯«ä½œç·´ç¿’"]})})}),L&&e.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-lg",children:L}),R&&e.jsxs("div",{className:"mb-4 p-4 bg-purple-50 border border-purple-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("p",{className:"text-sm text-purple-700",children:"å¯«ä½œç·´ç¿’åˆ†äº«é€£çµå·²ç”Ÿæˆï¼š"}),l&&e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full",children:"å« AI æ‰¹æ”¹"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("input",{type:"text",value:R,readOnly:!0,className:"w-full px-3 py-2 bg-white border border-purple-300 rounded text-sm",onClick:()=>navigator.clipboard.writeText(R)}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:[e.jsx("button",{onClick:()=>navigator.clipboard.writeText(R),className:"flex-1 px-3 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 text-sm transition-colors",children:"è¤‡è£½é€£çµ"}),e.jsxs("button",{onClick:()=>M(!N),className:"flex-1 px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm flex items-center justify-center gap-1 transition-colors",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 3.75 9.375v-4.5ZM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5ZM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 13.5 9.375v-4.5Z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 6.75h.75v.75h-.75v-.75ZM6.75 16.5h.75v.75h-.75v-.75ZM16.5 6.75h.75v.75h-.75v-.75ZM13.5 13.5H8.25v1.5H13.5V13.5ZM13.5 16.5H8.25V18H13.5v-1.5ZM16.5 16.5h1.5V18h-1.5v-1.5ZM16.5 13.5h1.5v1.5h-1.5v-1.5Z"})]}),"é¡¯ç¤º QR Code"]})]})]}),N&&e.jsx("div",{className:"mt-4 flex justify-center",children:e.jsx(ue,{url:R,title:"å¯«ä½œç·´ç¿’åˆ†äº« QR Code",size:200,className:"bg-white p-4 rounded-lg shadow-sm"})}),l&&e.jsx("p",{className:"text-xs text-purple-600 mt-2",children:"ğŸ’¡ æ­¤é€£çµåŒ…å«æ‚¨çš„ API Keyï¼Œå­¸ç”Ÿå¯ç›´æ¥ä½¿ç”¨ AI æ‰¹æ”¹åŠŸèƒ½"})]}),e.jsx(mt,{content:t.writingPractice,apiKey:l,vocabularyLevel:x||void 0})]}):e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center border border-gray-200",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-16 h-16 text-gray-400 mx-auto mb-4",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})}),e.jsx("h4",{className:"text-lg font-semibold text-gray-700 mb-2",children:"æ²’æœ‰æä¾›å¯«ä½œç·´ç¿’"}),e.jsx("p",{className:"text-gray-500",children:"æ­¤ä¸»é¡Œæ²’æœ‰ç”Ÿæˆå¯«ä½œç·´ç¿’å…§å®¹"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-wrap justify-end items-center gap-2 mb-4",children:[e.jsx("button",{onClick:$t,className:"px-4 py-2 bg-orange-500 text-white rounded-md hover:bg-orange-600 transition-colors flex items-center text-sm disabled:opacity-60","aria-label":"åˆ†äº«æ¸¬é©—çµ¦å­¸ç”Ÿ",disabled:C,children:C?e.jsxs("span",{className:"flex items-center",children:[e.jsx("span",{className:"animate-spin mr-2",children:"â³"})," åˆ†äº«ä¸­..."]}):e.jsxs("span",{className:"flex items-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4 mr-2",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})}),"åˆ†äº«æ¸¬é©—"]})}),e.jsxs("button",{onClick:()=>Qe(!_e),className:"px-4 py-2 bg-teal-500 text-white rounded-md hover:bg-teal-600 transition-colors flex items-center text-sm","aria-label":"æ¸¬é©—è¨­å®š",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4 mr-2",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a6.759 6.759 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]}),"æ¸¬é©—è¨­å®š"]})]}),A&&e.jsx("span",{className:"text-sm text-red-600",children:A}),j&&e.jsxs("div",{className:"mb-4 p-4 bg-orange-50 border border-orange-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("p",{className:"text-sm text-orange-700",children:"æ¸¬é©—åˆ†äº«é€£çµå·²ç”Ÿæˆï¼š"}),l&&e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full",children:"å« AI è¨ºæ–·"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("input",{type:"text",value:j,readOnly:!0,className:"w-full px-3 py-2 bg-white border border-orange-300 rounded text-sm",onClick:()=>navigator.clipboard.writeText(j)}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:[e.jsxs("button",{onClick:()=>navigator.clipboard.writeText(j),className:"flex-1 px-3 py-2 bg-orange-600 text-white rounded hover:bg-orange-700 text-sm flex items-center justify-center gap-1",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"})}),"è¤‡è£½é€£çµ"]}),e.jsxs("button",{onClick:()=>T(!$),className:"flex-1 px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm flex items-center justify-center gap-1",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 3.75 9.375v-4.5ZM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5ZM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 13.5 9.375v-4.5Z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 6.75h.75v.75h-.75v-.75ZM6.75 16.5h.75v.75h-.75v-.75ZM16.5 6.75h.75v.75h-.75v-.75ZM13.5 13.5H8.25v1.5H13.5V13.5ZM13.5 16.5H8.25V18H13.5v-1.5ZM16.5 16.5h1.5V18h-1.5v-1.5ZM16.5 13.5h1.5v1.5h-1.5v-1.5Z"})]}),"é¡¯ç¤º QR Code"]})]})]}),$&&e.jsx("div",{className:"mt-4 flex justify-center",children:e.jsx(ue,{url:j,title:"æ¸¬é©—åˆ†äº« QR Code",size:200,className:"bg-white p-4 rounded-lg shadow-sm"})}),l&&e.jsx("p",{className:"text-xs text-orange-600 mt-2",children:"ğŸ’¡ æ­¤é€£çµåŒ…å«æ‚¨çš„ API Keyï¼Œå­¸ç”Ÿå¯ç›´æ¥ä½¿ç”¨ AI å­¸ç¿’è¨ºæ–·åŠŸèƒ½"})]}),_e&&e.jsx(Ps,{config:me,onConfigChange:fe,onRegenerate:Pt,isGenerating:kt}),e.jsx(ys,{quizzes:t.onlineInteractiveQuiz,topic:c,apiKey:l,enableDiagnostic:!!l})]})]})]})},Ms=({learningLevels:t,onLevelSelect:c,onGenerateWithLevel:a,selectedLevelId:x,isLoading:l=!1})=>{const[d,n]=r.useState(x||t.defaultLevelId),m=h=>{n(h.id),c?.(h)},g=[...t.suggestedLevels].sort((h,f)=>h.order-f.order);return e.jsx(ce,{title:"å­¸ç¿’ç¨‹åº¦å»ºè­°",icon:e.jsx(oe,{className:"w-7 h-7"}),children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"æ ¹æ“šå­¸ç¿’ä¸»é¡Œè‡ªå‹•ç”Ÿæˆçš„ç¨‹åº¦å»ºè­°ï¼Œé¸æ“‡æœ€é©åˆçš„å­¸ç¿’ç­‰ç´šï¼š"}),e.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:g.map(h=>e.jsxs("div",{className:`
                relative p-4 rounded-lg border-2 cursor-pointer transition-all duration-200
                ${d===h.id?"border-sky-500 bg-sky-50 shadow-md":"border-slate-300 bg-white hover:border-sky-300 hover:shadow-sm"}
              `,onClick:()=>m(h),children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:`
                  flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold
                  ${d===h.id?"bg-sky-500 text-white":"bg-slate-200 text-slate-700"}
                `,children:h.order}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:`
                    text-lg font-semibold mb-2
                    ${d===h.id?"text-sky-700":"text-slate-700"}
                  `,children:h.name}),e.jsx("p",{className:`
                    text-sm leading-relaxed
                    ${d===h.id?"text-sky-600":"text-slate-600"}
                  `,children:h.description})]})]}),d===h.id&&e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx("div",{className:"w-3 h-3 bg-sky-500 rounded-full flex items-center justify-center",children:e.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})})})]},h.id))}),e.jsxs("div",{className:"mt-4 space-y-3",children:[e.jsx("div",{className:"p-3 bg-slate-50 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-slate-600",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("span",{children:["å·²é¸æ“‡ï¼š",e.jsx("strong",{children:g.find(h=>h.id===d)?.name})]})]})}),a&&e.jsx("div",{className:"flex justify-center",children:e.jsx("button",{onClick:()=>{const h=g.find(f=>f.id===d);h&&a(h)},disabled:l,className:"px-8 py-3 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50 transition-colors disabled:bg-slate-400 disabled:cursor-not-allowed flex items-center",children:l?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"ç”¢ç”Ÿå…§å®¹ä¸­..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"é–‹å§‹ç”¢ç”Ÿå­¸ç¿’å…§å®¹"]})})})]})]})})},Ne=[{id:"beginner",name:"åˆç´š (100-500è©)",wordCount:500,description:"é©åˆè‹±èªåˆå­¸è€…ï¼Œä½¿ç”¨æœ€åŸºæœ¬çš„æ—¥å¸¸è©å½™"},{id:"elementary",name:"åŸºç¤ (500-1000è©)",wordCount:1e3,description:"æŒæ¡åŸºæœ¬æœƒè©±è©å½™ï¼Œèƒ½é€²è¡Œç°¡å–®äº¤æµ"},{id:"pre-intermediate",name:"åˆä¸­ç´š (1000-2000è©)",wordCount:2e3,description:"èƒ½ç†è§£æ—¥å¸¸ç”Ÿæ´»å’Œå·¥ä½œä¸­çš„å¸¸è¦‹è©å½™"},{id:"intermediate",name:"ä¸­ç´š (2000-3500è©)",wordCount:3500,description:"èƒ½è™•ç†è¼ƒè¤‡é›œçš„æ–‡æœ¬å’Œå­¸è¡“å…§å®¹"},{id:"upper-intermediate",name:"ä¸­é«˜ç´š (3500-5000è©)",wordCount:5e3,description:"èƒ½ç†è§£å°ˆæ¥­æ–‡ç« å’Œè¼ƒè¤‡é›œçš„èªè¨€çµæ§‹"},{id:"advanced",name:"é«˜ç´š (5000-7000è©)",wordCount:7e3,description:"å…·å‚™é«˜æ°´å¹³çš„è‹±èªç†è§£å’Œè¡¨é”èƒ½åŠ›"}],Es=({onVocabularyLevelSelect:t,selectedLevel:c,isVisible:a=!0})=>{const[x,l]=r.useState(c?.id||"intermediate"),d=n=>{l(n.id),t(n)};return a?e.jsx(ce,{title:"é¸æ“‡è‹±èªå–®å­—ç¨‹åº¦",icon:e.jsx($e,{className:"w-7 h-7"}),children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-slate-600",children:"è«‹é¸æ“‡æ‚¨çš„è‹±èªå–®å­—é‡ç¯„åœï¼Œç³»çµ±æœƒæ ¹æ“šæ­¤ç¨‹åº¦èª¿æ•´æ•™å­¸å…§å®¹çš„è¤‡é›œåº¦ï¼š"}),e.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:Ne.map(n=>e.jsxs("div",{className:`
                relative p-4 rounded-lg border-2 cursor-pointer transition-all duration-200
                ${x===n.id?"border-green-500 bg-green-50 shadow-md":"border-slate-300 bg-white hover:border-green-300 hover:shadow-sm"}
              `,onClick:()=>d(n),children:[e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`
                    flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold
                    ${x===n.id?"bg-green-500 text-white":"bg-slate-200 text-slate-700"}
                  `,children:n.wordCount>=1e3?`${n.wordCount/1e3}k`:n.wordCount}),e.jsx("h4",{className:`
                    text-sm font-semibold
                    ${x===n.id?"text-green-700":"text-slate-700"}
                  `,children:n.name})]}),e.jsx("p",{className:`
                  text-xs leading-relaxed
                  ${x===n.id?"text-green-600":"text-slate-600"}
                `,children:n.description})]}),x===n.id&&e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})})})]},n.id))}),e.jsx("div",{className:"p-3 bg-slate-50 rounded-lg",children:e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-slate-600",children:[e.jsx($e,{className:"w-4 h-4"}),e.jsxs("span",{children:["å·²é¸æ“‡ï¼š",e.jsx("strong",{children:Ne.find(n=>n.id===x)?.name}),"ï¼ˆ",Ne.find(n=>n.id===x)?.wordCount," è©å½™ï¼‰"]})]})})]})}):null},pt=({isOpen:t,onSave:c,title:a="è¨­å®š AI Provider",message:x="è«‹é¸æ“‡ä¸¦è¨­å®šæ‚¨çš„ AI Provider ä»¥é–‹å§‹ä½¿ç”¨"})=>{const[l,d]=r.useState(Q.GEMINI),[n,m]=r.useState(""),[g,h]=r.useState(!1),[f,p]=r.useState(""),[b,s]=r.useState(!1),[o,i]=r.useState(""),[v,S]=r.useState("gemini-2.5-flash"),[C,I]=r.useState("openai/gpt-4o"),[A,k]=r.useState(.7),j=()=>{m(""),p(""),i(""),k(.7),S("gemini-2.5-flash"),I("openai/gpt-4o"),s(!1)};r.useEffect(()=>{t&&j()},[t]),r.useEffect(()=>{b||i(l===Q.GEMINI?"Gemini Provider":"OpenRouter Provider")},[l,b]);const y=async()=>{if(!n.trim()){p("è«‹è¼¸å…¥ API Key");return}h(!0),p("");try{const T={id:`${l}_${Date.now()}`,name:o||(l===Q.GEMINI?"Gemini Provider":"OpenRouter Provider"),type:l,enabled:!0,apiKey:n.trim(),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};let z;l===Q.GEMINI?z={...T,type:Q.GEMINI,model:v,settings:{responseMimeType:"application/json",temperature:A,maxOutputTokens:8192}}:z={...T,type:Q.OPENROUTER,model:C,settings:{temperature:A,max_tokens:4096,stream:!1}},await Bt(z),l===Q.GEMINI&&localStorage.setItem("gemini_api_key",n.trim()),c(n.trim()),j()}catch(T){console.error("è¨­å®š Provider å¤±æ•—:",T),p(T instanceof Error?T.message:"è¨­å®šå¤±æ•—ï¼Œè«‹æª¢æŸ¥ API Key æ˜¯å¦æ­£ç¢º")}finally{h(!1)}},$=async()=>{s(!1),await y()};return t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-lg w-full max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:a}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:x})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"é¸æ“‡ AI Provider"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx("button",{onClick:()=>d(Q.GEMINI),className:`p-4 border-2 rounded-lg text-left transition-colors ${l===Q.GEMINI?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-sm font-bold",children:"G"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:"Gemini"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Google AI"})]})]})}),e.jsx("button",{onClick:()=>d(Q.OPENROUTER),className:`p-4 border-2 rounded-lg text-left transition-colors ${l===Q.OPENROUTER?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-gray-300"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-sm font-bold",children:"O"})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:"OpenRouter"}),e.jsx("div",{className:"text-xs text-gray-500",children:"çµ±ä¸€ API"})]})]})})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:l===Q.GEMINI?"Gemini API Key":"OpenRouter API Key"}),e.jsx("input",{type:"password",value:n,onChange:T=>m(T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:l===Q.GEMINI?"è¼¸å…¥æ‚¨çš„ Gemini API Key":"è¼¸å…¥æ‚¨çš„ OpenRouter API Key"}),e.jsx("div",{className:"mt-2 text-xs text-gray-500",children:l===Q.GEMINI?e.jsxs(e.Fragment,{children:["åœ¨ ",e.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Google AI Studio"})," ç²å– API Key"]}):e.jsxs(e.Fragment,{children:["åœ¨ ",e.jsx("a",{href:"https://openrouter.ai/keys",target:"_blank",rel:"noopener noreferrer",className:"text-purple-600 hover:underline",children:"OpenRouter"})," ç²å– API Key"]})})]}),e.jsx("div",{className:"mb-4",children:e.jsxs("button",{onClick:()=>s(!b),className:"flex items-center gap-2 text-sm text-indigo-600 hover:text-indigo-700",children:[e.jsx("svg",{className:`w-4 h-4 transition-transform ${b?"rotate-90":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),"é€²éšè¨­å®š"]})}),b&&e.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Provider åç¨±"}),e.jsx("input",{type:"text",value:o,onChange:T=>i(T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"è‡ªè¨‚ Provider åç¨±"})]}),l===Q.GEMINI&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"æ¨¡å‹"}),e.jsxs("select",{value:v,onChange:T=>S(T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{value:"gemini-2.5-flash",children:"Gemini 2.5 Flash (æ¨è–¦)"}),e.jsx("option",{value:"gemini-pro",children:"Gemini Pro"}),e.jsx("option",{value:"gemini-pro-vision",children:"Gemini Pro Vision"})]})]}),l===Q.OPENROUTER&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"æ¨¡å‹"}),e.jsxs("select",{value:C,onChange:T=>I(T.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{value:"openai/gpt-4o",children:"GPT-4o (æ¨è–¦)"}),e.jsx("option",{value:"anthropic/claude-3.5-sonnet",children:"Claude 3.5 Sonnet"}),e.jsx("option",{value:"google/gemini-2.5-pro",children:"Gemini 2.5 Pro"}),e.jsx("option",{value:"mistralai/mistral-large-2411",children:"Mistral Large"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["æº«åº¦ (Temperature): ",A]}),e.jsx("input",{type:"range",min:"0",max:"2",step:"0.1",value:A,onChange:T=>k(parseFloat(T.target.value)),className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"ä¿å®ˆ (0)"}),e.jsx("span",{children:"å¹³è¡¡ (1)"}),e.jsx("span",{children:"å‰µæ„ (2)"})]})]})]}),f&&e.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsx("p",{className:"text-sm text-red-600",children:f})})]}),e.jsx("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end gap-3",children:b?e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>s(!1),className:"px-4 py-2 text-gray-700 border border-gray-300 rounded hover:bg-gray-50",disabled:g,children:"ç°¡åŒ–è¨­å®š"}),e.jsx("button",{onClick:y,disabled:!n.trim()||g,className:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:g?"è¨­å®šä¸­...":"å®Œæˆè¨­å®š"})]}):e.jsx("button",{onClick:$,disabled:!n.trim()||g,className:"px-6 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:g?"è¨­å®šä¸­...":"å¿«é€Ÿè¨­å®š"})})]})}):null},rt=({provider:t,selectedModel:c,onModelChange:a,disabled:x=!1})=>{const[l,d]=r.useState([]),[n,m]=r.useState(!1),[g,h]=r.useState(null),f=r.useCallback(async()=>{m(!0),h(null);try{let s;if(t.type===Q.GEMINI)s=new Xt(t);else if(t.type===Q.OPENROUTER)s=new es(t);else throw new Error("ä¸æ”¯æ´çš„ Provider é¡å‹");const i=(await s.getAvailableModels()).map(v=>({id:v.id,name:v.name||v.id,description:v.description,inputTokenLimit:v.inputTokenLimit||v.context_length,outputTokenLimit:v.outputTokenLimit||v.max_tokens}));d(i),i.length>0&&!i.some(v=>v.id===c)&&a(i[0].id)}catch(s){console.error("ç²å–æ¨¡å‹åˆ—è¡¨å¤±æ•—:",s),h(s instanceof Error?s.message:"ç²å–æ¨¡å‹åˆ—è¡¨å¤±æ•—"),d(p(t.type))}finally{m(!1)}},[t,c,a]);r.useEffect(()=>{t.apiKey&&t.apiKey.trim().length>10?f():(d([]),h(null))},[t.apiKey,t.type,f]);const p=s=>s===Q.GEMINI?[{id:"gemini-2.5-flash",name:"Gemini 2.5 Flash"},{id:"gemini-pro",name:"Gemini Pro"},{id:"gemini-pro-vision",name:"Gemini Pro Vision"}]:s===Q.OPENROUTER?[{id:"openai/gpt-4o",name:"GPT-4o"},{id:"anthropic/claude-3.5-sonnet",name:"Claude 3.5 Sonnet"},{id:"google/gemini-2.5-pro",name:"Gemini 2.5 Pro"},{id:"mistralai/mistral-large-2411",name:"Mistral Large"}]:[],b=()=>{t.apiKey&&t.apiKey.trim().length>10&&f()};return e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"æ¨¡å‹"}),e.jsxs("div",{className:"flex items-center gap-2",children:[n&&e.jsx("div",{className:"w-4 h-4 border-2 border-indigo-600 border-t-transparent rounded-full animate-spin"}),e.jsx("button",{type:"button",onClick:b,disabled:n||x||!t.apiKey,className:"text-xs text-indigo-600 hover:text-indigo-700 disabled:text-gray-400 disabled:cursor-not-allowed",title:"é‡æ–°ç²å–æ¨¡å‹åˆ—è¡¨",children:"â†» é‡æ–°ç²å–"})]})]}),e.jsx("select",{value:c,onChange:s=>a(s.target.value),disabled:x||n||l.length===0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 disabled:bg-gray-100 disabled:cursor-not-allowed",children:l.length===0?e.jsx("option",{value:"",children:t.apiKey?"è¼‰å…¥ä¸­...":"è«‹å…ˆè¼¸å…¥ API Key"}):l.map(s=>e.jsxs("option",{value:s.id,children:[s.name,s.description&&` - ${s.description.substring(0,50)}...`]},s.id))}),g&&e.jsxs("p",{className:"mt-1 text-xs text-red-600",children:[g,e.jsx("button",{type:"button",onClick:b,className:"ml-2 text-indigo-600 hover:text-indigo-700 underline",children:"é‡è©¦"})]}),l.length>0&&!n&&e.jsxs("div",{className:"mt-2 text-xs text-gray-600",children:["æ‰¾åˆ° ",l.length," å€‹å¯ç”¨æ¨¡å‹",c&&e.jsxs(e.Fragment,{children:[" â€¢ å·²é¸æ“‡: ",e.jsx("span",{className:"font-medium",children:l.find(s=>s.id===c)?.name||c})]})]})]})},nt=({isOpen:t,onClose:c,onSave:a,currentProviders:x})=>{const[l,d]=r.useState(x),[n,m]=r.useState(null),[g,h]=r.useState(!1),[f,p]=r.useState(new Map),[b,s]=r.useState(!1),[o,i]=r.useState(!1),[v,S]=r.useState(null),[C,I]=r.useState(void 0);r.useEffect(()=>{t&&(d([...x]),A())},[t,x]);const A=r.useCallback(async()=>{try{const M=(await ae.getManager()).config;I(M?.defaultProviderId)}catch(N){console.error("è¼‰å…¥é è¨­ Provider ID å¤±æ•—:",N)}},[]),k=async()=>{try{const N=await ae.getProviders();d(N),a(N),await A()}catch(N){console.error("è¼‰å…¥ Provider é…ç½®å¤±æ•—:",N)}},j=async N=>{try{await ae.setDefaultProvider(N),I(N)}catch(M){console.error("è¨­ç½®é è¨­ Provider å¤±æ•—:",M),alert(`è¨­ç½®é è¨­ Provider å¤±æ•—: ${M instanceof Error?M.message:"æœªçŸ¥éŒ¯èª¤"}`)}},y=N=>{const M={id:`${N}_${Date.now()}`,name:`æ–° ${N===Q.GEMINI?"Gemini":"OpenRouter"} Provider`,type:N,enabled:!0,apiKey:"",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};return N===Q.GEMINI?{...M,type:Q.GEMINI,model:"gemini-2.5-flash",settings:{responseMimeType:"application/json",temperature:.7,maxOutputTokens:8192}}:{...M,type:Q.OPENROUTER,model:"openai/gpt-4o",settings:{temperature:.7,max_tokens:4096,stream:!1}}},$=N=>{const M=y(N);m(M),h(!0)},T=N=>{m({...N}),h(!0)},z=async N=>{if(!(v||!confirm("ç¢ºå®šè¦åˆªé™¤é€™å€‹ Provider å—ï¼Ÿ"))){S(N);try{await ae.removeProvider(N),d(M=>M.filter(P=>P.id!==N)),p(M=>{const P=new Map(M);return P.delete(N),P}),await k()}catch(M){console.error("åˆªé™¤ Provider å¤±æ•—:",M),alert(`åˆªé™¤å¤±æ•—: ${M instanceof Error?M.message:"æœªçŸ¥éŒ¯èª¤"}`)}finally{S(null)}}},D=async()=>{if(!(!n||o)){i(!0);try{n.updatedAt=new Date().toISOString();const N=l.findIndex(M=>M.id===n.id);N>=0?(await ae.updateProvider(n),d(M=>M.map((P,E)=>E===N?n:P))):(await ae.addProvider(n),d(M=>[...M,n])),m(null),h(!1),await k()}catch(N){console.error("ä¿å­˜ Provider å¤±æ•—:",N),alert(`ä¿å­˜å¤±æ•—: ${N instanceof Error?N.message:"æœªçŸ¥éŒ¯èª¤"}`)}finally{i(!1)}}},L=async N=>{try{p(E=>new Map(E.set(N.id,{providerId:N.id,status:xe.TESTING,testedAt:new Date().toISOString()})));const P=await ts.getInstance({providers:[N],fallbackEnabled:!1,timeout:3e4,retryAttempts:1}).testProvider(N.id);p(E=>new Map(E.set(N.id,P)))}catch(M){p(P=>new Map(P.set(N.id,{providerId:N.id,status:xe.ERROR,error:M instanceof Error?M.message:"æ¸¬è©¦å¤±æ•—",testedAt:new Date().toISOString()})))}},u=async()=>{s(!0);for(const N of l)N.enabled&&N.apiKey&&await L(N);s(!1)},R=N=>{const M=f.get(N);if(!M)return null;const P={[xe.TESTING]:"text-yellow-600 bg-yellow-50",[xe.ACTIVE]:"text-green-600 bg-green-50",[xe.ERROR]:"text-red-600 bg-red-50",[xe.INACTIVE]:"text-gray-600 bg-gray-50"},E={[xe.TESTING]:"æ¸¬è©¦ä¸­...",[xe.ACTIVE]:`æ­£å¸¸ (${M.responseTime}ms)`,[xe.ERROR]:M.error||"éŒ¯èª¤",[xe.INACTIVE]:"æœªå•Ÿç”¨"};return e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${P[M.status]}`,children:E[M.status]})},V=()=>{a(l),c()};return t?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-6xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"AI Provider è¨­å®š"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"ç®¡ç†æ‚¨çš„ AI Provider é…ç½®å’Œ API é‡‘é‘°"})]}),e.jsxs("div",{className:"flex-1 overflow-hidden flex",children:[e.jsxs("div",{className:"w-1/2 border-r border-gray-200 flex flex-col",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Provider æ¸…å–®"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>$(Q.GEMINI),disabled:o||v!==null,className:"px-3 py-1 text-xs bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"+ Gemini"}),e.jsx("button",{onClick:()=>$(Q.OPENROUTER),disabled:o||v!==null,className:"px-3 py-1 text-xs bg-green-600 text-white rounded hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"+ OpenRouter"})]})]}),e.jsx("button",{onClick:u,disabled:b,className:"mt-3 w-full px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 disabled:opacity-50 text-sm",children:b?"æ¸¬è©¦ä¸­...":"æ¸¬è©¦æ‰€æœ‰ Provider"})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:e.jsxs("div",{className:"space-y-4",children:[l.map(N=>e.jsxs("div",{className:`p-4 border rounded-lg cursor-pointer transition-colors ${n?.id===N.id?"border-indigo-500 bg-indigo-50":"border-gray-200 hover:border-gray-300"}`,onClick:()=>T(N),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:N.name}),C===N.id&&e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"é è¨­"})]}),e.jsx("p",{className:"text-sm text-gray-600 capitalize",children:N.type})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[R(N.id),e.jsx("button",{onClick:M=>{M.stopPropagation(),L(N)},className:"p-1 text-gray-400 hover:text-gray-600",title:"æ¸¬è©¦é€£æ¥",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),N.enabled&&C!==N.id&&e.jsx("button",{onClick:M=>{M.stopPropagation(),j(N.id)},className:"p-1 text-blue-400 hover:text-blue-600",title:"è¨­ç‚ºé è¨­",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})})}),e.jsx("button",{onClick:M=>{M.stopPropagation(),z(N.id)},disabled:v===N.id,className:"p-1 text-red-400 hover:text-red-600 disabled:opacity-50 disabled:cursor-not-allowed",title:v===N.id?"åˆªé™¤ä¸­...":"åˆªé™¤",children:v===N.id?e.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),N.enabled?e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"å•Ÿç”¨"}):e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"åœç”¨"})]},N.id)),l.length===0&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("p",{children:"å°šæœªè¨­å®šä»»ä½• Provider"}),e.jsx("p",{className:"text-sm mt-1",children:"é»æ“Šä¸Šæ–¹æŒ‰éˆ•æ·»åŠ æ–°çš„ Provider"})]})]})})]}),e.jsx("div",{className:"w-1/2 flex flex-col",children:g&&n?e.jsx(Ts,{provider:n,onChange:m,onSave:D,onCancel:()=>{m(null),h(!1)},isSaving:o}):e.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-500",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("svg",{className:"w-16 h-16 mx-auto text-gray-300 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),e.jsx("p",{children:"é¸æ“‡å·¦å´çš„ Provider é€²è¡Œç·¨è¼¯"}),e.jsx("p",{className:"text-sm mt-1",children:"æˆ–é»æ“Šä¸Šæ–¹æŒ‰éˆ•æ·»åŠ æ–°çš„ Provider"})]})})})]}),e.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end gap-3",children:[e.jsx("button",{onClick:c,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded hover:bg-gray-50",children:"å–æ¶ˆ"}),e.jsx("button",{onClick:V,className:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700",children:"ä¿å­˜è¨­å®š"})]})]})}):null},Ts=({provider:t,onChange:c,onSave:a,onCancel:x,isSaving:l=!1})=>{const d=m=>{c({...t,...m})},n=m=>{c({...t,settings:{...t.settings,...m}})};return e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:[t.id.includes("_")&&t.id.split("_")[1]===Date.now().toString()?"æ–°å¢":"ç·¨è¼¯"," Provider"]})}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"åŸºæœ¬è¨­å®š"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"åç¨±"}),e.jsx("input",{type:"text",value:t.name,onChange:m=>d({name:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"é¡å‹"}),e.jsxs("select",{value:t.type,onChange:m=>d({type:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{value:Q.GEMINI,children:"Gemini"}),e.jsx("option",{value:Q.OPENROUTER,children:"OpenRouter"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"API Key"}),e.jsx("input",{type:"password",value:t.apiKey,onChange:m=>d({apiKey:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"è«‹è¼¸å…¥ API Key"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"æè¿° (å¯é¸)"}),e.jsx("textarea",{value:t.description||"",onChange:m=>d({description:m.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",rows:3,placeholder:"æè¿°é€™å€‹ Provider çš„ç”¨é€”..."})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:t.enabled,onChange:m=>d({enabled:m.target.checked}),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),e.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"å•Ÿç”¨æ­¤ Provider"})]})]})]}),t.type===Q.GEMINI&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Gemini è¨­å®š"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(rt,{provider:t,selectedModel:t.model,onModelChange:m=>d({model:m}),disabled:l}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"æº«åº¦ (Temperature)"}),e.jsx("input",{type:"number",min:"0",max:"2",step:"0.1",value:t.settings.temperature||.7,onChange:m=>n({temperature:parseFloat(m.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"æœ€å¤§è¼¸å‡º Tokens"}),e.jsx("input",{type:"number",min:"1",max:"32768",value:t.settings.maxOutputTokens||8192,onChange:m=>n({maxOutputTokens:parseInt(m.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})]})]}),t.type===Q.OPENROUTER&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"OpenRouter è¨­å®š"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(rt,{provider:t,selectedModel:t.model,onModelChange:m=>d({model:m}),disabled:l}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"æº«åº¦ (Temperature)"}),e.jsx("input",{type:"number",min:"0",max:"2",step:"0.1",value:t.settings.temperature||.7,onChange:m=>n({temperature:parseFloat(m.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"æœ€å¤§ Tokens"}),e.jsx("input",{type:"number",min:"1",max:"200000",value:t.settings.max_tokens||4096,onChange:m=>n({max_tokens:parseInt(m.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:t.settings.stream||!1,onChange:m=>n({stream:m.target.checked}),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),e.jsx("label",{className:"ml-2 block text-sm text-gray-900",children:"å•Ÿç”¨ä¸²æµå›æ‡‰"})]})]})]})]})}),e.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end gap-3",children:[e.jsx("button",{onClick:x,disabled:l,className:"px-4 py-2 text-gray-700 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"å–æ¶ˆ"}),e.jsxs("button",{onClick:a,disabled:l,className:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[l&&e.jsxs("svg",{className:"animate-spin h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),l?"ä¿å­˜ä¸­...":"ä¿å­˜"]})]})]})},zs=({providers:t,selectedProviderId:c,onProviderSelect:a,onStrategyChange:x,usageStats:l=[],showStrategy:d=!1,className:n=""})=>{const[m,g]=r.useState(!1),[h,f]=r.useState(ve.DEFAULT),p=t.filter(S=>S.enabled),b=t.find(S=>S.id===c),s=S=>l.find(C=>C.providerId===S),o=S=>{f(S),x?.(S)},i=S=>{const C=s(S.id);if(!C)return e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full",title:"æœªæ¸¬è©¦"});const I=C.totalRequests>0?C.successfulRequests/C.totalRequests*100:0;return I>=90?e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full",title:`æˆåŠŸç‡: ${I.toFixed(1)}%`}):I>=70?e.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full",title:`æˆåŠŸç‡: ${I.toFixed(1)}%`}):e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full",title:`æˆåŠŸç‡: ${I.toFixed(1)}%`})},v=S=>{const C="w-4 h-4";switch(S.type){case"gemini":return e.jsx("div",{className:`${C} bg-blue-500 rounded-full flex items-center justify-center`,children:e.jsx("span",{className:"text-white text-xs font-bold",children:"G"})});case"openrouter":return e.jsx("div",{className:`${C} bg-gradient-to-r from-purple-500 to-pink-500 rounded-full flex items-center justify-center`,children:e.jsx("span",{className:"text-white text-xs font-bold",children:"O"})});default:return e.jsx("div",{className:`${C} bg-gray-500 rounded-full flex items-center justify-center`,children:e.jsx("span",{className:"text-white text-xs font-bold",children:"?"})})}};return p.length===0?e.jsx("div",{className:`p-3 bg-yellow-50 border border-yellow-200 rounded-lg ${n}`,children:e.jsx("p",{className:"text-sm text-yellow-800",children:"å°šæœªè¨­å®šå¯ç”¨çš„ Provider"})}):e.jsxs("div",{className:`relative ${n}`,children:[d&&e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"é¸æ“‡ç­–ç•¥"}),e.jsxs("select",{value:h,onChange:S=>o(S.target.value),className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[e.jsx("option",{value:ve.DEFAULT,children:"é è¨­ Provider"}),e.jsx("option",{value:ve.FASTEST,children:"æœ€å¿«å›æ‡‰"}),e.jsx("option",{value:ve.FALLBACK,children:"ä¾åºå˜—è©¦"}),e.jsx("option",{value:ve.LOAD_BALANCE,children:"è² è¼‰å¹³è¡¡"})]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("button",{onClick:()=>g(!m),className:"w-full px-4 py-3 text-left bg-white border border-gray-300 rounded-lg hover:border-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center space-x-3",children:b?e.jsxs(e.Fragment,{children:[v(b),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900",children:b.name}),e.jsx("div",{className:"text-xs text-gray-500 capitalize",children:b.type})]}),i(b)]}):e.jsx("span",{className:"text-gray-500",children:"é¸æ“‡ Provider"})}),e.jsx("svg",{className:`w-5 h-5 text-gray-400 transition-transform ${m?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})}),m&&e.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto",children:[p.map(S=>{const C=s(S.id),I=S.id===c;return e.jsx("button",{onClick:()=>{a(S.id),g(!1)},className:`w-full px-4 py-3 text-left hover:bg-gray-50 focus:outline-none focus:bg-gray-50 transition-colors ${I?"bg-indigo-50 border-r-2 border-indigo-500":""}`,children:e.jsxs("div",{className:"flex items-center space-x-3",children:[v(S),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium text-gray-900",children:S.name}),e.jsx("div",{className:"text-xs text-gray-500 capitalize",children:S.type}),C&&e.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["æˆåŠŸç‡: ",C.totalRequests>0?(C.successfulRequests/C.totalRequests*100).toFixed(1):0,"%",C.averageResponseTime>0&&e.jsxs("span",{className:"ml-2",children:["å¹³å‡: ",Math.round(C.averageResponseTime),"ms"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[i(S),I&&e.jsx("svg",{className:"w-4 h-4 text-indigo-500",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]})]})},S.id)}),e.jsx("div",{className:"border-t border-gray-200",children:e.jsx("button",{onClick:()=>{g(!1),window.dispatchEvent(new CustomEvent("openProviderSettings"))},className:"w-full px-4 py-3 text-left text-indigo-600 hover:bg-indigo-50 focus:outline-none focus:bg-indigo-50 transition-colors",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),e.jsx("span",{className:"text-sm font-medium",children:"ç®¡ç† Provider"})]})})})]})]}),b&&e.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600",children:"ç•¶å‰é¸ä¸­:"}),e.jsx("span",{className:"font-medium text-gray-900",children:b.name})]}),b.description&&e.jsx("div",{className:"mt-1 text-xs text-gray-500",children:b.description})]})]})},Rs=({onProviderChange:t,showSelector:c=!0,compact:a=!1,className:x=""})=>{const[l,d]=r.useState([]),[n,m]=r.useState(""),[g,h]=r.useState([]),[f,p]=r.useState(!1),[b,s]=r.useState(!0),[o,i]=r.useState(null),v=r.useCallback(async()=>{try{s(!0),i(null);const[I,A,k]=await Promise.all([ae.getProviders(),ae.getUsageStats(),ae.getManager()]);d(I),h(A);const y=k.config?.defaultProviderId;let $;y&&($=I.find(T=>T.id===y&&T.enabled)),$||($=I.find(T=>T.enabled)||I[0]),$&&!n&&(m($.id),t?.($))}catch(I){console.error("è¼‰å…¥ Provider æ•¸æ“šå¤±æ•—:",I),i(I instanceof Error?I.message:"è¼‰å…¥å¤±æ•—")}finally{s(!1)}},[n,t]);r.useEffect(()=>{v();const I=()=>{p(!0)};return window.addEventListener("openProviderSettings",I),()=>{window.removeEventListener("openProviderSettings",I)}},[v]);const S=I=>{m(I);const A=l.find(k=>k.id===I);t?.(A||null)},C=async I=>{try{d(I);const A=I.find(j=>j.id===n);if(!A||!A.enabled){const j=I.find(y=>y.enabled);j?(m(j.id),t?.(j)):(m(""),t?.(null))}const k=await ae.getUsageStats();h(k)}catch(A){console.error("æ›´æ–° Provider è¨­å®šå¤±æ•—:",A),i(A instanceof Error?A.message:"æ›´æ–°å¤±æ•—")}};if(a){const I=l.find(A=>A.id===n);return e.jsxs("div",{className:`flex items-center gap-3 ${x}`,children:[b?e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-gray-300 border-t-indigo-500 rounded-full animate-spin"}),e.jsx("span",{children:"è¼‰å…¥ä¸­..."})]}):o?e.jsxs("div",{className:"flex items-center gap-2 text-sm text-red-600",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{children:"è¼‰å…¥å¤±æ•—"})]}):l.length===0?e.jsxs("div",{className:"flex items-center gap-2 text-sm text-yellow-600",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5l-6.928-12c-.77-.833-1.732-.833-2.502 0l-6.928 12c-.77.833.192 2.5 1.732 2.5z"})}),e.jsx("span",{children:"å°šæœªè¨­å®š"})]}):e.jsx(e.Fragment,{children:I?e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-gray-700",children:I.name})]}):e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full"}),e.jsx("span",{children:"æœªé¸æ“‡"})]})}),e.jsx("button",{onClick:()=>p(!0),className:"p-1 text-gray-400 hover:text-gray-600 transition-colors",title:"Provider è¨­å®š",children:e.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),e.jsx(nt,{isOpen:f,onClose:()=>p(!1),onSave:C,currentProviders:l})]})}return e.jsxs("div",{className:`space-y-4 ${x}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"AI Provider è¨­å®š"}),e.jsx("button",{onClick:()=>p(!0),className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"ç®¡ç† Provider"})]}),b&&e.jsx("div",{className:"flex items-center justify-center py-8",children:e.jsxs("div",{className:"flex items-center gap-3 text-gray-500",children:[e.jsx("div",{className:"w-6 h-6 border-2 border-gray-300 border-t-indigo-500 rounded-full animate-spin"}),e.jsx("span",{children:"è¼‰å…¥ Provider è¨­å®šä¸­..."})]})}),o&&e.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:"font-medium",children:"è¼‰å…¥å¤±æ•—"})]}),e.jsx("p",{className:"text-sm text-red-600 mt-1",children:o}),e.jsx("button",{onClick:v,className:"mt-3 px-3 py-1 bg-red-600 text-white rounded text-sm hover:bg-red-700",children:"é‡è©¦"})]}),!b&&!o&&l.length===0&&e.jsxs("div",{className:"p-6 bg-yellow-50 border border-yellow-200 rounded-lg text-center",children:[e.jsx("svg",{className:"w-16 h-16 mx-auto text-yellow-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5l-6.928-12c-.77-.833-1.732-.833-2.502 0l-6.928 12c-.77.833.192 2.5 1.732 2.5z"})}),e.jsx("h4",{className:"text-lg font-medium text-yellow-800 mb-2",children:"å°šæœªè¨­å®š AI Provider"}),e.jsx("p",{className:"text-yellow-700 mb-4",children:"è«‹é»æ“Šä¸Šæ–¹çš„ã€Œç®¡ç† Providerã€æŒ‰éˆ•ä¾†æ·»åŠ  Gemini æˆ– OpenRouter Provider"}),e.jsx("button",{onClick:()=>p(!0),className:"px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700",children:"ç«‹å³è¨­å®š"})]}),!b&&!o&&l.length>0&&c&&e.jsx(zs,{providers:l,selectedProviderId:n,onProviderSelect:S,usageStats:g,showStrategy:!0}),!b&&!o&&g.length>0&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"ä½¿ç”¨çµ±è¨ˆ"}),e.jsx("div",{className:"space-y-2",children:g.slice(0,3).map(I=>{const A=l.find(j=>j.id===I.providerId);if(!A)return null;const k=I.totalRequests>0?I.successfulRequests/I.totalRequests*100:0;return e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-gray-700",children:A.name}),e.jsxs("div",{className:"flex items-center gap-4 text-gray-500",children:[e.jsxs("span",{children:["æˆåŠŸç‡: ",k.toFixed(1),"%"]}),e.jsxs("span",{children:["è«‹æ±‚æ•¸: ",I.totalRequests]}),I.averageResponseTime>0&&e.jsxs("span",{children:["å¹³å‡: ",Math.round(I.averageResponseTime),"ms"]})]})]},I.providerId)})})]}),e.jsx(nt,{isOpen:f,onClose:()=>p(!1),onSave:C,currentProviders:l})]})},bt=({currentStep:t,totalSteps:c,onNext:a,onPrev:x,onSubmit:l,canNext:d,canFinish:n,isSubmitting:m,children:g,title:h})=>e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden max-w-4xl mx-auto my-8 border border-slate-100",children:[e.jsxs("div",{className:"bg-slate-50 px-6 py-4 border-b border-slate-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-slate-800",children:h}),e.jsxs("span",{className:"text-sm font-medium text-slate-500",children:["æ­¥é©Ÿ ",t," / ",c]})]}),e.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2.5",children:e.jsx("div",{className:"bg-indigo-600 h-2.5 rounded-full transition-all duration-300 ease-in-out",style:{width:`${t/c*100}%`}})})]}),e.jsx("div",{className:"p-6 min-h-[400px]",children:g}),e.jsxs("div",{className:"bg-slate-50 px-6 py-4 border-t border-slate-200 flex justify-between items-center",children:[e.jsx("button",{onClick:x,disabled:t===1||m,className:`px-6 py-2.5 rounded-lg font-medium transition-colors ${t===1?"text-slate-300 cursor-not-allowed":"text-slate-600 hover:bg-slate-200 bg-white border border-slate-300 shadow-sm"}`,children:"ä¸Šä¸€æ­¥"}),t<c?e.jsx("button",{onClick:a,disabled:!d||m,className:`px-6 py-2.5 rounded-lg font-medium text-white shadow-md transition-all ${!d||m?"bg-indigo-300 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700 hover:shadow-lg transform hover:-translate-y-0.5"}`,children:m?e.jsxs("div",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"è™•ç†ä¸­..."]}):"ä¸‹ä¸€æ­¥"}):e.jsx("button",{onClick:l,disabled:!n||m,className:`flex items-center gap-2 px-8 py-2.5 rounded-lg font-bold text-white shadow-md transition-all ${!n||m?"bg-emerald-300 cursor-not-allowed":"bg-emerald-600 hover:bg-emerald-700 hover:shadow-lg transform hover:-translate-y-0.5"}`,children:m?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"ç”Ÿæˆä¸­..."]}):"é–‹å§‹ç”Ÿæˆæ•™æ"})]})]}),ft=({id:t,title:c,description:a,selected:x,onSelect:l,icon:d})=>e.jsxs("div",{onClick:()=>l(t),className:`
        cursor-pointer rounded-xl p-4 border-2 transition-all duration-200 relative overflow-hidden group
        ${x?"border-indigo-500 bg-indigo-50 shadow-md":"border-slate-200 bg-white hover:border-indigo-300 hover:shadow-sm"}
      `,children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`
          p-2 rounded-lg flex-shrink-0 transition-colors
          ${x?"bg-indigo-100 text-indigo-600":"bg-slate-100 text-slate-500 group-hover:bg-indigo-50 group-hover:text-indigo-500"}
        `,children:d||e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:`font-bold mb-1 ${x?"text-indigo-900":"text-slate-800"}`,children:c}),e.jsx("p",{className:`text-sm leading-relaxed ${x?"text-indigo-700":"text-slate-500"}`,children:a})]})]}),x&&e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx("div",{className:"bg-indigo-500 text-white rounded-full p-1",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-3 h-3",children:e.jsx("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z",clipRule:"evenodd"})})})})]}),Bs=JSON.parse('[{"unit":"1-1 20ä»¥å…§çš„æ•¸","title":"1-1-1 æ•¸æ•¸åˆ°20","content":"20ä»¥å…§çš„æ•¸ï¼šæ•™æå…§å®¹åŒ…å«æ•¸æ•¸0åˆ°20","grade":1},{"unit":"1-1 20ä»¥å…§çš„æ•¸","title":"1-1-2 æ•¸çš„é †åºå’Œå¤§å°","content":"20ä»¥å…§çš„æ•¸ï¼šæ•™æå…§å®¹åŒ…å«å¾å·¦é‚Šæ•¸æ•¸ã€å¾å³é‚Šæ•¸æ•¸ã€å‘ä¸‹æ•¸æ•¸ã€å‘ä¸Šæ•¸æ•¸","grade":1},{"unit":"1-2 20ä»¥å…§çš„åŠ æ¸›","title":"1-2-1 10çš„åˆ†èˆ‡åˆ","content":"20ä»¥å…§çš„åŠ æ¸›ï¼šæ•™æå…§å®¹åŒ…å«20ä»¥å…§çš„æ•¸ã€10çš„åˆ†èˆ‡åˆã€‚","grade":1},{"unit":"1-2 20ä»¥å…§çš„åŠ æ¸›","title":"1-2-2 æ·»åŠ å‹èˆ‡ä½µåŠ å‹","content":"20ä»¥å…§çš„åŠ æ¸›ï¼šæ•™æå…§å®¹åŒ…å«å€‹ä½æ•¸åŠ å€‹ä½æ•¸ä¸é€²ä½ã€ååŠ å€‹ä½æ•¸ä¸é€²ä½ã€åä½æ•¸åŠ å€‹ä½æ•¸ä¸é€²ä½ã€å€‹ä½æ•¸åŠ å€‹ä½æ•¸é€²ä½ã€‚","grade":1},{"unit":"1-2 20ä»¥å…§çš„åŠ æ¸›","title":"1-2-3 æ‹¿èµ°å‹èˆ‡æ¯”è¼ƒå‹","content":"20ä»¥å…§çš„åŠ æ¸›ï¼šæ•™æå…§å®¹åŒ…å«å€‹ä½æ•¸æ¸›å€‹ä½æ•¸ã€åä½æ•¸æ¸›å€‹ä½æ•¸ä¸å€Ÿä½ã€åä½æ•¸æ¸›å€‹ä½æ•¸è¦å€Ÿä½ã€äºŒåæ¸›å€‹ä½æ•¸è¦å€Ÿä½ã€å€‹ä½æ•¸æ¸›é›¶ã€åä½æ•¸æ¸›é›¶ã€å‘ä¸‹æ•¸æ•¸ã€å‘ä¸Šæ•¸æ•¸ã€‚","grade":1},{"unit":"1-3 100ä»¥å…§çš„æ•¸","title":"1-3-1 æ•¸æ•¸åˆ°100","content":"100ä»¥å…§çš„æ•¸ï¼šæ•™æå…§å®¹åŒ…å«æ•¸æ•¸0åˆ°100ã€è®€ä½œã€ç…§é †åºå‘ä¸Šæ•¸æ•¸ã€ç…§é †åºå‘ä¸‹æ•¸æ•¸ã€‚","grade":1},{"unit":"1-3 100ä»¥å…§çš„æ•¸","title":"1-3-2 èªè­˜ä½å€¼(å€‹ä½/åä½/ç™¾ä½)","content":"100ä»¥å…§çš„æ•¸ï¼šæ•™æå…§å®¹åŒ…å«ä½å€¼ï¼šå€‹ä½ã€åä½ã€ç™¾ä½ã€å®šä½æ¿ã€è®€ä½œã€æ¯”è¼ƒæ•¸å­—å¤§å°ã€‚","grade":1},{"unit":"1-4 100ä»¥å…§çš„åŠ æ¸›","title":"1-4-1 æ·»åŠ å‹èˆ‡ä½µåŠ å‹","content":"100 ä»¥å…§ç›´å¼åŠ æ¸›ï¼šæ•™æå…§å®¹åŒ…å«å¹¾åå¹¾åŠ å¹¾ä¸é€²ä½ã€å¹¾ååŠ åã€å¹¾ååŠ å¹¾åã€å¹¾åå¹¾åŠ åã€ä¸‰å€‹æ•¸é€£åŠ ã€ä¸‰å€‹æ•¸é€£æ¸›ã€ä¸‰å€‹æ•¸åŠ æ¸›æ··å’Œè¨ˆç®—ã€å¹¾åå¹¾åŠ å¹¾é€²ä½ã€‚","grade":1},{"unit":"1-4 100ä»¥å…§çš„åŠ æ¸›","title":"1-4-2 æ‹¿èµ°å‹èˆ‡æ¯”è¼ƒå‹","content":"100 ä»¥å…§ç›´å¼åŠ æ¸›ï¼šæ•™æå…§å®¹åŒ…å«å¹¾åå¹¾æ¸›å¹¾ä¸å€Ÿä½ã€å¹¾åæ¸›å¹¾è¦å€Ÿä½ã€å¹¾åå¹¾æ¸›å¹¾è¦å€Ÿä½ã€‚","grade":1},{"unit":"1-4 100ä»¥å…§çš„åŠ æ¸›","title":"1-4-3 èªè­˜éŒ¢å¹£","content":"100 ä»¥å…§ç›´å¼åŠ æ¸›ï¼šæ•™æå…§å®¹åŒ…å«1åœ“ã€5åœ“ã€10åœ“ã€50åœ“ã€ç¸½å…±æœ‰å¤šå°‘éŒ¢ã€‚","grade":1},{"unit":"2-1 200ä»¥å…§çš„æ•¸","title":"2-1-1 æ•¸æ•¸åˆ°200","content":"200 ä»¥å…§çš„æ•¸ï¼šæ•™æå…§å®¹åŒ…å«æ•¸æ•¸1åˆ°200ã€ç™¾æ•¸æ¿ã€‚","grade":2},{"unit":"2-1 200ä»¥å…§çš„æ•¸","title":"2-1-2 æ›ç®—éŒ¢å¹£","content":"200 ä»¥å…§çš„æ•¸ï¼šæ•™æå…§å®¹åŒ…å«å®šä½æ¿ã€ç™¾ä½ã€100å…ƒéŒ¢å¹£ã€ç•«éŒ¢å¹£ã€‚","grade":2},{"unit":"2-2 200ä»¥å…§çš„ç›´å¼åŠ æ¸›","title":"2-2-1 äºŒä½æ•¸çš„ç›´å¼åŠ æ³•","content":"200 ä»¥å…§çš„ç›´å¼åŠ æ¸›ï¼šæ•™æå…§å®¹åŒ…å«ä¸é€²ä½ã€â¼€æ¬¡é€²ä½ã€äºŒæ¬¡é€²ä½ã€‚","grade":2},{"unit":"2-2 200ä»¥å…§çš„ç›´å¼åŠ æ¸›","title":"2-2-2 äºŒä½æ•¸çš„ç›´å¼æ¸›æ³•","content":"200 ä»¥å…§çš„ç›´å¼åŠ æ¸›ï¼šæ•™æå…§å®¹åŒ…å«ä¸é€€ä½ã€â¼€æ¬¡é€€ä½ã€åŠ æ¸›æ³•çš„é—œä¿‚ã€é©—ç®—ã€‚","grade":2},{"unit":"2-2 200ä»¥å…§çš„ç›´å¼åŠ æ¸›","title":"2-2-3 å…©æ­¥é©Ÿå•é¡Œ","content":"200 ä»¥å…§çš„ç›´å¼åŠ æ¸›ï¼šæ•™æå…§å®¹åŒ…å«åŠ æ³•è¨ˆç®—ã€æ¸›æ³•è¨ˆç®—ã€åŠ æ¸›æ··å’Œè¨ˆç®—ã€åŠ æ¸›ä¼°ç®—ã€‚","grade":2},{"unit":"2-3 1000ä»¥å…§çš„æ•¸","title":"2-3-1 æ•¸æ•¸åˆ°1000","content":"1000 ä»¥å…§çš„æ•¸ï¼šæ•™æå…§å®¹åŒ…å«æ•¸1000 ä»¥å…§çš„æ•¸ã€1000 ä»¥å…§çš„åŒ–èšã€‚","grade":2},{"unit":"2-3 1000ä»¥å…§çš„æ•¸","title":"2-3-2 æ›ç®—éŒ¢å¹£","content":"1000 ä»¥å…§çš„æ•¸ï¼šæ•™æå…§å®¹åŒ…å«ä½å€¼ã€èªè­˜éˆ”ç¥¨ã€æ›ç®—éŒ¢å¹£ã€æ•¸çš„å¤§å°ã€‚","grade":2},{"unit":"2-4 1000ä»¥å…§çš„ç›´å¼åŠ æ¸›","title":"2-4-1 1000ä»¥å…§çš„ç›´å¼åŠ æ³•","content":"1000 ä»¥å…§çš„ç›´å¼åŠ æ¸›ï¼šæ•™æå…§å®¹åŒ…å«ä¸é€²ä½ã€â¼€æ¬¡é€²ä½ã€äºŒæ¬¡é€²ä½ã€‚","grade":2},{"unit":"2-4 1000ä»¥å…§çš„ç›´å¼åŠ æ¸›","title":"2-4-2 1000ä»¥å…§çš„ç›´å¼æ¸›æ³•","content":"1000 ä»¥å…§çš„ç›´å¼åŠ æ¸›ï¼šæ•™æå…§å®¹åŒ…å«ä¸é€€ä½ã€â¼€æ¬¡é€€ä½ã€â¼€ç™¾çš„æ¸›æ³•ã€é©—ç®—ã€‚","grade":2},{"unit":"2-4 1000ä»¥å…§çš„ç›´å¼åŠ æ¸›","title":"2-4-3 æ‡‰ç”¨å•é¡Œ","content":"1000 ä»¥å…§çš„ç›´å¼åŠ æ¸›ï¼šæ•™æå…§å®¹åŒ…å«åŠ æ¸›æ‡‰ç”¨ã€‚","grade":2},{"unit":"2-5 ä¹ä¹ä¹˜æ³•","title":"2-5-1 2ã€5ã€4ã€8çš„ä¹˜æ³•","content":"ä¹ä¹ä¹˜æ³•ï¼šæ•™æå…§å®¹åŒ…å«2 çš„å€æ•¸ã€5 çš„å€æ•¸ã€4 çš„å€æ•¸ã€8 çš„å€æ•¸ã€‚","grade":2},{"unit":"2-5 ä¹ä¹ä¹˜æ³•","title":"2-5-2 3ã€6ã€9ã€7ã€10çš„ä¹˜æ³•","content":"ä¹ä¹ä¹˜æ³•ï¼šæ•™æå…§å®¹åŒ…å«3 çš„å€æ•¸ã€6 çš„å€æ•¸ã€9 çš„å€æ•¸ã€7 çš„å€æ•¸ã€‚","grade":2},{"unit":"2-5 ä¹ä¹ä¹˜æ³•","title":"2-5-3 ä¹˜æ³•è¡¨çš„æ‡‰ç”¨","content":"ä¹ä¹ä¹˜æ³•ï¼šæ•™æå…§å®¹åŒ…å«0 èˆ‡1 çš„å€æ•¸ã€10 çš„å€æ•¸ã€0ã€1ã€10 çš„ä¹˜æ³•è¡¨ã€ä¹˜æ³•è¡¨çš„æ‡‰ç”¨ã€ç›´å¼ä¹˜æ³•ã€‚","grade":2},{"unit":"2-6 åˆ†åˆ†çœ‹","title":"2-6-1 åˆ†è£æ´»å‹•","content":"åˆ†åˆ†çœ‹ï¼šæ•™æå…§å®¹åŒ…å«åˆ†è£æ´»å‹•ã€‚","grade":2},{"unit":"2-6 åˆ†åˆ†çœ‹","title":"2-6-2 èªè­˜å¹³åˆ†","content":"åˆ†åˆ†çœ‹ï¼šæ•™æå…§å®¹åŒ…å«èªè­˜å¹³åˆ†ã€ç­‰åˆ†æ´»å‹•çš„æ‡‰ç”¨ã€‚","grade":2},{"unit":"3-1 10000ä»¥å…§çš„æ•¸","title":"3-1-1 èªè­˜2000ä»¥å…§çš„æ•¸","content":"10000ä»¥å…§çš„æ•¸ï¼šæ•™æå…§å®¹åŒ…å«2000ä»¥å…§çš„æ•¸ã€‚","grade":3},{"unit":"3-1 10000ä»¥å…§çš„æ•¸","title":"3-1-2 èªè­˜10000ä»¥å…§çš„æ•¸","content":"10000ä»¥å…§çš„æ•¸ï¼šæ•™æå…§å®¹åŒ…å«10000ä»¥å…§çš„æ•¸ã€‚","grade":3},{"unit":"3-2 ä¸‰ã€å››ä½æ•¸ç›´å¼åŠ æ¸›","title":"3-2-1 ä¸‰ã€å››ä½æ•¸çš„åŠ æ³•","content":"ä¸‰ã€å››ä½æ•¸ç›´å¼åŠ æ¸›ï¼šæ•™æå…§å®¹åŒ…å«ä¸é€²ä½ã€é€²ä½ã€äºŒæ¬¡é€²ä½ã€å¤šæ¬¡é€²ä½ã€‚","grade":3},{"unit":"3-2 ä¸‰ã€å››ä½æ•¸ç›´å¼åŠ æ¸›","title":"3-2-2 ä¸‰ã€å››ä½æ•¸çš„æ¸›æ³•","content":"ä¸‰ã€å››ä½æ•¸ç›´å¼åŠ æ¸›ï¼šæ•™æå…§å®¹åŒ…å«ä¸é€€ä½ã€é€€ä½ã€â¼€æ¬¡é€€ä½ã€äºŒæ¬¡é€€ä½ã€å¤šæ¬¡é€€ä½ã€å…©æ­¥é©Ÿè§£é¡Œã€‚","grade":3},{"unit":"3-3 äºŒã€ä¸‰ä½æ•¸ç›´å¼ä¹˜æ³•","title":"3-3-1 äºŒã€ä¸‰ä½æ•¸ç›´å¼ä¹˜æ³•","content":"äºŒã€ä¸‰ä½æ•¸ç›´å¼ä¹˜æ³•ï¼šæ•™æå…§å®¹åŒ…å«å¹¾åä¹˜ä»¥â¼€ä½æ•¸ã€å¹¾ç™¾ä¹˜ä»¥â¼€ä½æ•¸ã€äºŒä½æ•¸ä¹˜ä»¥â¼€ä½æ•¸ã€äºŒä½æ•¸ä¹˜ä»¥äºŒä½æ•¸ã€ä¸‰ä½æ•¸ä¹˜ä»¥â¼€ä½æ•¸ã€â¼€ä½æ•¸ä¹˜ä»¥äºŒä½æ•¸ã€â¼€ä½æ•¸ä¹˜ä»¥ä¸‰ä½æ•¸ã€å¹¾åå¹¾ä¹˜ä»¥å¹¾åã€‚","grade":3},{"unit":"3-3 äºŒã€ä¸‰ä½æ•¸ç›´å¼ä¹˜æ³•","title":"3-3-2 ä¹˜æ³•å…©æ­¥é©Ÿè¨ˆç®—","content":"äºŒã€ä¸‰ä½æ•¸ç›´å¼ä¹˜æ³•ï¼šæ•™æå…§å®¹åŒ…å«å…ˆä¹˜å¾ŒåŠ å…©æ­¥é©Ÿã€å…ˆä¹˜å¾Œæ¸›å…©æ­¥é©Ÿã€å…ˆæ¸›å¾Œä¹˜å…©æ­¥é©Ÿã€é€£ä¹˜å…©æ­¥é©Ÿã€‚","grade":3},{"unit":"3-4 ç›´å¼é™¤æ³•","title":"3-4-1 äºŒä½æ•¸é™¤ä»¥ä¸€ä½æ•¸","content":"ç›´å¼é™¤æ³•ï¼šæ•™æå…§å®¹åŒ…å«ç­‰åˆ†é™¤ã€åŒ…å«é™¤ã€é¤˜æ•¸ã€ç›´å¼é™¤æ³•ã€äºŒä½æ•¸é™¤ä»¥â¼€ä½æ•¸ã€å¥‡æ•¸èˆ‡å¶æ•¸ã€‚","grade":3},{"unit":"3-4 ç›´å¼é™¤æ³•","title":"3-4-2 ä¸‰ä½æ•¸é™¤ä»¥ä¸€ä½æ•¸","content":"ç›´å¼é™¤æ³•ï¼šæ•™æå…§å®¹åŒ…å«ä¸‰ä½æ•¸é™¤ä»¥â¼€ä½æ•¸ã€å…©æ­¥é©Ÿå•é¡Œã€‚","grade":3},{"unit":"3-5 åŒåˆ†æ¯çš„åŠ æ¸›","title":"3-5-1 èªè­˜åˆ†æ•¸","content":"åŒåˆ†æ¯çš„åŠ æ¸›ï¼šæ•™æå…§å®¹åŒ…å«å¹³åˆ†ã€å–®ä½åˆ†æ•¸ã€çœŸåˆ†æ•¸çš„æ•¸åˆ—ã€åˆ†æ•¸æ¯”å¤§å°ã€ç­‰å€¼åˆ†æ•¸ã€‚","grade":3},{"unit":"3-5 åŒåˆ†æ¯çš„åŠ æ¸›","title":"3-5-2 åˆ†æ•¸çš„åŠ æ¸›æ³•","content":"åŒåˆ†æ¯çš„åŠ æ¸›ï¼šæ•™æå…§å®¹åŒ…å«åŒåˆ†âºŸçš„åŠ æ³•ã€åŒ åˆ† âºŸçš„æ¸›æ³•ã€‚","grade":3},{"unit":"3-6 å°æ•¸","title":"3-6-1 å°æ•¸çš„æ„ç¾©","content":"å°æ•¸ï¼šæ•™æå…§å®¹åŒ…å«æ•´æ•¸æ•¸ç·šã€å°æ•¸ã€ååˆ†ä½ã€å°æ•¸çš„å¤§å°ã€‚","grade":3},{"unit":"3-6 å°æ•¸","title":"3-6-2 ä¸€ä½å°æ•¸çš„åŠ æ¸›æ³•","content":"å°æ•¸ï¼šæ•™æå…§å®¹åŒ…å«â¼€ä½å°æ•¸åŠ â¼€ä½å°æ•¸ã€æ•´æ•¸åŠ â¼€ä½å°æ•¸ã€â¼€ä½å°æ•¸æ¸›â¼€ä½å°æ•¸ã€æ•´æ•¸æ¸›â¼€ä½å°æ•¸ã€â¼€ä½å°æ•¸åŠ æ•´æ•¸ã€â¼€ä½å°æ•¸æ¸›æ•´æ•¸ã€‚","grade":3},{"unit":"4-1A å¤§æ•¸","title":"4-1-1 ä¸€å„„ä»¥å…§çš„æ•¸","content":"å¤§æ•¸ï¼šæ•™æå…§å®¹åŒ…å«èªè­˜å¤§æ•¸ã€åè¬ä½ã€ç™¾è¬ä½ã€åƒè¬ä½ã€‚","grade":4},{"unit":"4-1A å¤§æ•¸","title":"4-1-2 å¤§æ•¸","content":"å¤§æ•¸ï¼šæ•™æå…§å®¹åŒ…å«å„„ä½ã€åå„„ä½ã€ç™¾å„„ä½ã€åƒå„„ä½ã€å…†ä½ã€‚","grade":4},{"unit":"4-1B å¤§æ•¸","title":"4-1-3 æ¦‚æ•¸","content":"å¤§æ•¸ï¼šæ•™æå…§å®¹åŒ…å«å››æ¨äº”å…¥æ³•ã€ç„¡æ¢ä»¶æ¨å»æ³•ã€ç„¡æ¢ä»¶é€²å…¥æ³•ã€‚","grade":4},{"unit":"4-2 å¤šä½æ•¸ç›´å¼ä¹˜æ³•","title":"4-2-1 å››ä½æ•¸ä¹˜ä»¥ä¸€ä½æ•¸","content":"å¤šä½æ•¸ç›´å¼ä¹˜æ³•ï¼šæ•™æå…§å®¹åŒ…å«å››ä½æ•¸ä¹˜ä»¥ä¸€ä½æ•¸ã€‚","grade":4},{"unit":"4-2 å¤šä½æ•¸ç›´å¼ä¹˜æ³•","title":"4-2-2 äºŒã€ä¸‰ä½æ•¸çš„ä¹˜æ³•","content":"å¤šä½æ•¸ç›´å¼ä¹˜æ³•ï¼šæ•™æå…§å®¹åŒ…å«äºŒã€ä¸‰ä½æ•¸çš„ä¹˜æ³•ã€‚","grade":4},{"unit":"4-3 å¤šä½æ•¸ç›´å¼é™¤æ³•","title":"4-3-1 å››ä½æ•¸é™¤ä»¥ä¸€ä½æ•¸","content":"å¤šä½æ•¸ç›´å¼é™¤æ³•ï¼šæ•™æå…§å®¹åŒ…å«å››ä½æ•¸é™¤ä»¥ä¸€ä½æ•¸ã€‚","grade":4},{"unit":"4-3 å¤šä½æ•¸ç›´å¼é™¤æ³•","title":"4-3-2 äºŒã€ä¸‰ä½æ•¸é™¤ä»¥äºŒä½æ•¸","content":"å¤šä½æ•¸ç›´å¼é™¤æ³•ï¼šæ•™æå…§å®¹åŒ…å«äºŒä½æ•¸é™¤ä»¥äºŒä½æ•¸ã€ä¸‰ä½æ•¸é™¤ä»¥äºŒä½æ•¸ã€ç„¡æ¢ä»¶é€²å…¥æ³•å–å•†ã€ç„¡æ¢ä»¶æ¨å»æ³•å–å•†ã€‚","grade":4},{"unit":"4-4 æ•´æ•¸å››å‰‡é‹ç®—","title":"4-4-1 æ•´æ•¸å››å‰‡é‹ç®—","content":"æ•´æ•¸å››å‰‡é‹ç®—ï¼šæ•™æå…§å®¹åŒ…å«åŠ æ¸›ä½µå¼ã€ä¹˜é™¤ä½µå¼ã€åŠ æ¸›æ··å’Œã€ä¹˜é™¤æ··å’Œã€å…ˆä¹˜é™¤å¾ŒåŠ æ¸›ã€‚","grade":4},{"unit":"4-5 åˆ†æ•¸çš„è¨ˆç®—","title":"4-5-1 èªè­˜åˆ†æ•¸èˆ‡åˆ†æ•¸çš„åŠ æ¸›","content":"åˆ†æ•¸çš„è¨ˆç®—ï¼šæ•™æå…§å®¹åŒ…å«çœŸåˆ†æ•¸ã€çœŸåˆ†æ•¸æ•¸ç·šã€å¸¶åˆ†æ•¸ã€å¸¶åˆ†æ•¸æ•¸ç·šã€å‡åˆ†æ•¸ã€å‡åˆ†æ•¸èˆ‡å¸¶åˆ†æ•¸äº’æ›ã€å‡åˆ†æ•¸æ•¸ç·šã€åˆ†æ•¸çš„åŠ æ³•ã€åˆ†æ•¸çš„æ¸›æ³•ã€‚","grade":4},{"unit":"4-5 åˆ†æ•¸çš„è¨ˆç®—","title":"4-5-2 åˆ†æ•¸çš„ä¹˜èˆ‡é™¤","content":"åˆ†æ•¸çš„è¨ˆç®—ï¼šæ•™æå…§å®¹åŒ…å«åˆ†æ•¸çš„ä¹˜æ³•ã€åˆ†æ•¸çš„é™¤æ³•ã€‚","grade":4},{"unit":"4-6 å°æ•¸çš„åŠ æ¸›èˆ‡æ•´æ•¸å€","title":"4-6-1 èªè­˜äºŒä½å°æ•¸","content":"å°æ•¸çš„åŠ æ¸›èˆ‡æ•´æ•¸å€ï¼šæ•™æå…§å®¹åŒ…å«äºŒä½å°æ•¸ã€‚","grade":4},{"unit":"4-6 å°æ•¸çš„åŠ æ¸›èˆ‡æ•´æ•¸å€","title":"4-6-2 äºŒä½å°æ•¸çš„åŠ æ¸›","content":"å°æ•¸çš„åŠ æ¸›èˆ‡æ•´æ•¸å€ï¼šæ•™æå…§å®¹åŒ…å«äºŒä½å°æ•¸çš„åŠ æ¸›ã€‚","grade":4},{"unit":"4-6 å°æ•¸çš„åŠ æ¸›èˆ‡æ•´æ•¸å€","title":"4-6-3 ä¸€ã€äºŒä½å°æ•¸çš„æ•´æ•¸å€","content":"å°æ•¸çš„åŠ æ¸›èˆ‡æ•´æ•¸å€ï¼šæ•™æå…§å®¹åŒ…å«ä¸€ã€äºŒä½å°æ•¸çš„æ•´æ•¸å€ã€‚","grade":4},{"unit":"5-1 æ•´æ•¸å››å‰‡æ··åˆé‹ç®—","title":"5-1-1 å¤šä½æ•¸çš„æ•´æ•¸ä¹˜é™¤","content":"æ•´æ•¸å››å‰‡æ··åˆé‹ç®—ï¼šæ•™æå…§å®¹åŒ…å«æœ«ä½æœ‰å¤šå€‹0 çš„ä¹˜æ³•ã€ä¸‰ä½æ•¸ä¹˜ä»¥ä¸‰ä½æ•¸ã€å››ä½æ•¸ä¹˜ä»¥ä¸‰ä½æ•¸ã€ä¸‰ä½æ•¸é™¤ä»¥ä¸‰ä½æ•¸ã€å››ä½æ•¸é™¤ä»¥ä¸‰ä½æ•¸ã€æœ«ä½æœ‰å¤šå€‹0 çš„é™¤æ³•ã€‚","grade":5},{"unit":"5-1 æ•´æ•¸å››å‰‡æ··åˆé‹ç®—","title":"5-1-2 æ•´æ•¸å››å‰‡æ··åˆé‹ç®—","content":"æ•´æ•¸å››å‰‡æ··åˆé‹ç®—ï¼šæ•™æå…§å®¹åŒ…å«ä¹˜é™¤æ··åˆçš„è¨ˆç®—ã€ä¸‰æ­¥é©Ÿå•é¡Œã€åˆ†é…å¾‹ã€å¤šæ­¥é©Ÿå•é¡Œã€‚","grade":5},{"unit":"5-2 å› æ•¸èˆ‡å€æ•¸","title":"5-2-1 å› æ•¸èˆ‡å…¬å› æ•¸","content":"å› æ•¸èˆ‡å€æ•¸ï¼šæ•™æå…§å®¹åŒ…å«å› æ•¸ã€å…¬å› æ•¸ã€æœ€å¤§å…¬å› æ•¸ã€åˆ¤æ–·å› æ•¸ã€‚","grade":5},{"unit":"5-2 å› æ•¸èˆ‡å€æ•¸","title":"5-2-2 å€æ•¸èˆ‡å…¬å€æ•¸","content":"å› æ•¸èˆ‡å€æ•¸ï¼šæ•™æå…§å®¹åŒ…å«å€æ•¸ã€å…¬å€æ•¸ã€æ‰¾å€æ•¸ã€æ‰¾å…¬å€æ•¸ã€å…¬å€æ•¸æ‡‰ç”¨é¡Œã€‚","grade":5},{"unit":"5-3 ç•°åˆ†æ¯åˆ†æ•¸çš„åŠ æ¸›","title":"5-3-1 ç­‰å€¼åˆ†æ•¸ã€æ“´åˆ†ã€ç´„åˆ†ã€é€šåˆ†","content":"ç•°åˆ†æ¯åˆ†æ•¸çš„åŠ æ¸›ï¼šæ•™æå…§å®¹åŒ…å«æ“´åˆ†æ‰¾ç­‰å€¼åˆ†æ•¸ã€ç´„åˆ†æ‰¾ç­‰å€¼åˆ†æ•¸ã€é€šåˆ†æ¯”å¤§å°ã€æœ€ç°¡åˆ†æ•¸ã€‚","grade":5},{"unit":"5-3 ç•°åˆ†æ¯åˆ†æ•¸çš„åŠ æ¸›","title":"5-3-2 ç•°åˆ†æ¯åˆ†æ•¸çš„åŠ æ¸›","content":"ç•°åˆ†æ¯åˆ†æ•¸çš„åŠ æ¸›ï¼šæ•™æå…§å®¹åŒ…å«ç•°åˆ†âºŸåŠ æ³•ã€ç•°åˆ†âºŸæ¸›æ³•ã€‚","grade":5},{"unit":"5-4 åˆ†æ•¸çš„ä¹˜èˆ‡é™¤","title":"5-4-1 åˆ†æ•¸çš„ä¹˜æ³•","content":"åˆ†æ•¸çš„ä¹˜èˆ‡é™¤ï¼šæ•™æå…§å®¹åŒ…å«æ•´æ•¸ä¹˜ä»¥åˆ†æ•¸ã€æ•´æ•¸çš„åˆ†æ•¸å€ã€åˆ†æ•¸çš„æ•´æ•¸å€ã€åˆ†æ•¸çš„åˆ†æ•¸å€ã€å‡åˆ†æ•¸çš„åˆ†æ•¸å€ã€‚","grade":5},{"unit":"5-4 åˆ†æ•¸çš„ä¹˜èˆ‡é™¤","title":"5-4-2 åˆ†æ•¸çš„é™¤æ³•","content":"åˆ†æ•¸çš„ä¹˜èˆ‡é™¤ï¼šæ•™æå…§å®¹åŒ…å«çœŸåˆ†æ•¸é™¤ä»¥æ•´æ•¸ã€å‡åˆ†æ•¸é™¤ä»¥æ•´æ•¸ã€å¸¶åˆ†æ•¸é™¤ä»¥æ•´æ•¸ã€‚","grade":5},{"unit":"5-5 å°æ•¸ä¹˜æ³•","title":"5-5-1 å¤šä½å°æ•¸çš„åŠ æ¸›","content":"å°æ•¸ä¹˜æ³•ï¼šæ•™æå…§å®¹åŒ…å«å¤šä½å°æ•¸çš„è®€èˆ‡å¯«ã€å¤šä½å°æ•¸æ¯”å¤§å°ã€å°æ•¸çš„åŠ æ³•ã€å°æ•¸çš„æ¸›æ³•ã€å°æ•¸èˆ‡åˆ†æ•¸æ•¸ç·šã€‚","grade":5},{"unit":"5-5 å°æ•¸ä¹˜æ³•","title":"5-5-2 å¤šä½å°æ•¸çš„ä¹˜æ³•","content":"å°æ•¸ä¹˜æ³•ï¼šæ•™æå…§å®¹åŒ…å«å¤šä½å°æ•¸ä¹˜ä»¥æ•´æ•¸ã€æ•´æ•¸ä¹˜ä»¥â¼€ä½å°æ•¸ã€æ•´æ•¸ä¹˜ä»¥äºŒä½å°æ•¸ã€æ•´æ•¸ä¹˜ä»¥å¤šä½å°æ•¸ã€â¼€ä½å°æ•¸ä¹˜ä»¥â¼€ä½å°æ•¸ã€â¼€ä½å°æ•¸ä¹˜ä»¥äºŒä½å°æ•¸ã€äºŒä½å°æ•¸ä¹˜ä»¥â¼€ä½å°æ•¸ã€äºŒä½å°æ•¸ä¹˜ä»¥äºŒä½å°æ•¸ã€‚","grade":5},{"unit":"5-6 å°æ•¸é™¤æ³•","title":"5-6-1 æ•´æ•¸ã€å°æ•¸é™¤ä»¥æ•´æ•¸","content":"å°æ•¸é™¤æ³•ï¼šæ•™æå…§å®¹åŒ…å«æ•´æ•¸é™¤ä»¥æ•´æ•¸ï¼Œå•†ç‚ºâ¼€ä½â¼©æ•¸ã€æ•´æ•¸é™¤ä»¥æ•´æ•¸ï¼Œå•†ç‚ºäºŒä½â¼©æ•¸ã€æ•´æ•¸é™¤ä»¥æ•´æ•¸ï¼Œå•†ç‚ºä¸‰ä½â¼©æ•¸ã€â¼€ä½â¼©æ•¸é™¤ä»¥â¼€ä½æ•´æ•¸ã€äºŒä½â¼©æ•¸é™¤ä»¥â¼€ä½æ•´æ•¸ã€åˆ†æ•¸æ›æˆâ¼©æ•¸ã€â¼©æ•¸æ›æˆåˆ†æ•¸ã€â¼©æ•¸æ•¸ç·šã€â¼€ã€äºŒä½â¼©æ•¸é™¤ä»¥äºŒä½æ•´æ•¸ã€åˆ†æ•¸æ›æˆâ¼©æ•¸ã€â¼©æ•¸æ›æˆåˆ†æ•¸ã€‚","grade":5},{"unit":"5-6 å°æ•¸é™¤æ³•","title":"5-6-2 èªè­˜æ¯”ç‡","content":"å°æ•¸é™¤æ³•ï¼šæ•™æå…§å®¹åŒ…å«æ¯”ç‡ã€ç™¾åˆ†ç‡ã€â¼©æ•¸èˆ‡ç™¾åˆ†ç‡äº’æ›ã€åˆ†æ•¸èˆ‡ç™¾åˆ†ç‡äº’æ›ã€ç™¾åˆ†ç‡çš„æ‡‰ç”¨ã€‚","grade":5},{"unit":"6-1 æœ€å¤§å…¬å› æ•¸èˆ‡æœ€å°å…¬å€æ•¸","title":"6-1-1 è³ªå› æ•¸åˆ†è§£æ³•","content":"æœ€å¤§å…¬å› æ•¸èˆ‡æœ€å°å…¬å€æ•¸ï¼šæ•™æå…§å®¹åŒ…å«è³ªæ•¸ã€åˆæ•¸ã€è³ªå› æ•¸ã€è³ªå› æ•¸åˆ†è§£æ³•ã€çŸ­é™¤æ³•ã€åˆ¤æ–·è³ªæ•¸ã€çŸ­é™¤æ³•æ‡‰ç”¨é¡Œã€å…©æ•¸ç›¸ä¹˜æ±‚è³ªå› æ•¸åˆ†è§£ã€ç‰¹æ®Šå€æ•¸çš„åˆ¤åˆ¥æ³•ã€‚","grade":6},{"unit":"6-1 æœ€å¤§å…¬å› æ•¸èˆ‡æœ€å°å…¬å€æ•¸","title":"6-1-2 æœ€å¤§å…¬å› æ•¸","content":"æœ€å¤§å…¬å› æ•¸èˆ‡æœ€å°å…¬å€æ•¸ï¼šæ•™æå…§å®¹åŒ…å«äº’è³ªã€æœ€å¤§å…¬å› æ•¸æ‡‰ç”¨é¡Œã€è³ªå› æ•¸åˆ†è§£æ³•æ±‚æœ€å¤§å…¬å› æ•¸ã€ç”¨çŸ­é™¤æ³•æ±‚æœ€å¤§å…¬å› æ•¸ã€åˆ†çµ„ã€å‡åˆ†ã€æ•´é™¤ã€é‚Šâ»‘åˆ†å‰²ã€æœ€ç°¡åˆ†æ•¸ã€‚","grade":6},{"unit":"6-1 æœ€å¤§å…¬å› æ•¸èˆ‡æœ€å°å…¬å€æ•¸","title":"6-1-3 æœ€å°å…¬å€æ•¸","content":"æœ€å¤§å…¬å› æ•¸èˆ‡æœ€å°å…¬å€æ•¸ï¼šæ•™æå…§å®¹åŒ…å«è³ªå› æ•¸åˆ†è§£æ³•æ±‚æœ€å°å…¬å€æ•¸ã€çŸ­é™¤æ³•æ±‚æœ€å°å…¬å€æ•¸ã€å…©æ•¸äº’è³ªæ±‚æœ€å°å…¬å€æ•¸ã€æ™‚é–“é–“éš”ã€æ‹¼æˆæ­£æ–¹å½¢ã€è·é›¢ã€‚","grade":6},{"unit":"6-2 åˆ†æ•¸å°æ•¸å››å‰‡é‹ç®—","title":"6-2-1 åˆ†æ•¸é™¤æ³•","content":"åˆ†æ•¸å°æ•¸å››å‰‡é‹ç®—ï¼šæ•™æå…§å®¹åŒ…å«åŒåˆ†âºŸåˆ†æ•¸çš„é™¤æ³•ã€æ•´æ•¸é™¤ä»¥åˆ†æ•¸ã€ç•°åˆ†âºŸåˆ†æ•¸çš„é™¤æ³•ã€åˆ†æ•¸é™¤æ³•çš„å€’æ•¸ç›¸ä¹˜ã€æœ‰é¤˜æ•¸çš„åˆ†æ•¸é™¤æ³•ã€‚","grade":6},{"unit":"6-2 åˆ†æ•¸å°æ•¸å››å‰‡é‹ç®—","title":"6-2-2 å°æ•¸é™¤æ³•","content":"åˆ†æ•¸å°æ•¸å››å‰‡é‹ç®—ï¼šæ•™æå…§å®¹åŒ…å«æ•´æ•¸é™¤ä»¥â¼€ä½â¼©æ•¸ã€æ•´æ•¸é™¤ä»¥äºŒä½â¼©æ•¸ã€â¼€ä½â¼©æ•¸é™¤ä»¥â¼€ä½â¼©æ•¸ã€äºŒä½â¼©æ•¸é™¤ä»¥â¼€ä½â¼©æ•¸ã€â¼€ä½â¼©æ•¸é™¤ä»¥äºŒä½â¼©æ•¸ã€äºŒä½â¼©æ•¸é™¤ä»¥äºŒä½â¼©æ•¸ã€‚","grade":6},{"unit":"6-3 æ¯”èˆ‡æ¯”å€¼","title":"6-3-1 èªè­˜æ¯”èˆ‡æ¯”å€¼","content":"æ¯”èˆ‡æ¯”å€¼ï¼šæ•™æå…§å®¹åŒ…å«æ¯”ã€æ¯”å€¼ã€ç­‰æ¯”ã€æœ€ç°¡æ•´æ•¸æ¯”ã€ä¸åŒå–®ä½æ±‚æ¯”èˆ‡æ¯”å€¼ã€å¾ç­‰æ¯”æ±‚æœªçŸ¥é …ã€æ¯”çš„åˆ—å¼ã€å€æ•¸æ±‚æœ€ç°¡æ•´æ•¸æ¯”ã€ä¸åŒå–®ä½æ±‚æœ€ç°¡æ•´æ•¸æ¯”åŠæ¯”å€¼ã€æ¯”ä¾‹æ‡‰ç”¨å•é¡Œã€æ¯”ä¾‹åˆ†é…ã€‚","grade":6},{"unit":"6-3 æ¯”èˆ‡æ¯”å€¼","title":"6-3-2 èªè­˜æ­£æ¯”ä¾‹","content":"æ¯”èˆ‡æ¯”å€¼ï¼šæ•™æå…§å®¹åŒ…å«æ­£æ¯”ã€æ­£æ¯”çš„é—œä¿‚åœ–ã€æˆæ­£æ¯”é—œä¿‚ã€‚","grade":6},{"unit":"6-4 æ€æ¨£è§£é¡Œ","title":"6-4-1 åŸºæº–é‡èˆ‡æ¯”è¼ƒé‡","content":"æ€æ¨£è§£é¡Œï¼šæ•™æå…§å®¹åŒ…å«åŸºæº–é‡ã€æ¯”è¼ƒé‡èˆ‡æ¯”å€¼çš„é—œä¿‚ã€æ±‚æ¯”è¼ƒé‡ã€æ±‚åŸºæº–é‡ã€åŸºæº–é‡èˆ‡æ¯”è¼ƒé‡ä¹‹å’Œã€åŸºæº–é‡èˆ‡æ¯”è¼ƒé‡ä¹‹å·®ã€åŸºæº–é‡èˆ‡æ¯”è¼ƒé‡ã€éŠ€è¡Œåˆ©ç‡ã€æˆæœ¬èˆ‡å®šåƒ¹ã€å®šåƒ¹èˆ‡æŠ˜æ‰£ã€æ¯”åŸºæº–é‡å¢åŠ æˆ–æ¸›å°‘ã€ç¸½å’Œæ±‚åŸºæº–é‡èˆ‡æ¯”è¼ƒé‡ã€ã€Œå·®ã€æ±‚åŸºæº–é‡èˆ‡æ¯”è¼ƒé‡ã€‚","grade":6},{"unit":"6-4 æ€æ¨£è§£é¡Œ","title":"6-4-2 ç°¡åŒ–å•é¡Œ","content":"æ€æ¨£è§£é¡Œï¼šæ•™æå…§å®¹åŒ…å«è¦å¾‹é—œä¿‚-ä½ç½®ã€è¦å¾‹é—œä¿‚-æ•¸é‡ã€é›å…”åŒç± ã€å¹´é½¡å•é¡Œã€è¦å¾‹é—œä¿‚-åº§ä½ã€è¦å¾‹é—œä¿‚-æ­£æ–¹å½¢æ•¸ã€å‰ªç¹©å­ã€‚","grade":6},{"unit":"6-4 æ€æ¨£è§£é¡Œ","title":"6-4-3 é–“éš”å•é¡Œ","content":"æ€æ¨£è§£é¡Œï¼šæ•™æå…§å®¹åŒ…å«é ­å°¾éƒ½ç¨®ã€â¼€ç«¯ç¨®ï¼Œâ¼€ç«¯ä¸ç¨®ã€é ­å°¾éƒ½ä¸ç¨®ã€åœ“å‹æ¤æ•¸ã€å›ºå®šè·é›¢æ±‚æ•¸é‡ã€å›ºå®šæ•¸é‡æ±‚é–“éš”è·é›¢ã€æ­£æ–¹å½¢æ¤æ¨¹å•é¡Œã€ç´™å¼µé‡ç–Šã€‚","grade":6},{"unit":"6-5 åˆ—å¼èˆ‡ç­‰å¼","title":"6-5-1 åˆ—å¼èˆ‡ç­‰å¼","content":"åˆ—å¼èˆ‡ç­‰å¼ï¼šæ•™æå…§å®¹åŒ…å«ä»¥ç¬¦è™Ÿä»£è¡¨æ•¸ã€åˆ—å¼-åŠ æ³•ã€åˆ—å¼-æ¸›æ³•ã€åˆ—å¼-ä¹˜æ³•ã€åˆ—å¼-é™¤æ³•ã€ç­‰å¼-åŠ æ³•ã€ç­‰å¼-æ¸›æ³•ã€ç­‰å¼-ä¹˜æ³•ã€ç­‰å¼-é™¤æ³•ã€æ±‚å€¼-è¡¨æ ¼å‹ã€‚","grade":6},{"unit":"6-5 åˆ—å¼èˆ‡ç­‰å¼","title":"6-5-2 ç­‰é‡å…¬ç†","content":"åˆ—å¼èˆ‡ç­‰å¼ï¼šæ•™æå…§å®¹åŒ…å«ç­‰é‡å…¬ç†-åŠ æ¸›ã€ç­‰é‡å…¬ç†-ä¹˜é™¤ã€‚","grade":6},{"unit":"6-6 åˆ†æ•¸å°æ•¸å››å‰‡æ··åˆé‹ç®—","title":"6-6-1 åˆ†æ•¸å…©æ­¥é©Ÿå››å‰‡é‹ç®—","content":"åˆ†æ•¸å°æ•¸æ··åˆå››å‰‡é‹ç®—ï¼šæ•™æå…§å®¹åŒ…å«åŠ æ¸›ã€ä¹˜é™¤ã€å››å‰‡æ··åˆé‹ç®—ã€åˆ†é…ç‡ã€‚","grade":6},{"unit":"6-6 åˆ†æ•¸å°æ•¸å››å‰‡æ··åˆé‹ç®—","title":"6-6-2 å°æ•¸å››å‰‡é‹ç®—","content":"åˆ†æ•¸å°æ•¸æ··åˆå››å‰‡é‹ç®—ï¼šæ•™æå…§å®¹åŒ…å«åŠ æ¸›ã€ä¹˜é™¤ã€å››å‰‡æ··åˆé‹ç®—ã€‚","grade":6},{"unit":"6-6 åˆ†æ•¸å°æ•¸å››å‰‡æ··åˆé‹ç®—","title":"6-6-3 åˆ†æ•¸å°æ•¸æ··å’Œå››å‰‡é‹ç®—","content":"åˆ†æ•¸å°æ•¸æ··åˆå››å‰‡é‹ç®—ï¼šæ•™æå…§å®¹åŒ…å«åŠ æ¸›ã€ä¹˜é™¤ã€å››å‰‡æ··åˆé‹ç®—ã€‚","grade":6},{"unit":"éæ•¸1-5 æ™‚é–“","title":"1-5-1 æ™‚é–“ç”¨èª","content":"æ™‚é–“ï¼šæ•™æå…§å®¹åŒ…å«å¸¸ç”¨æ™‚é–“ç”¨èªã€å ±è®€æ—¥æœŸèˆ‡é˜é¢ä¸Šæ•´é»ã€åŠé»çš„æ™‚åˆ»ã€‚","grade":1},{"unit":"éæ•¸1-5 æ™‚é–“","title":"1-5-2 èªè­˜æ™‚åˆ»","content":"æ™‚é–“ï¼šæ•™æå…§å®¹åŒ…å«å¸¸ç”¨æ™‚é–“ç”¨èªã€å ±è®€æ—¥æœŸèˆ‡é˜é¢ä¸Šæ•´é»ã€åŠé»çš„æ™‚åˆ»ã€‚","grade":1},{"unit":"éæ•¸1-5 æ™‚é–“","title":"1-5-3 æ—¥æ›†èˆ‡æœˆæ›†","content":"æ™‚é–“ï¼šæ•™æå…§å®¹åŒ…å«å¸¸ç”¨æ™‚é–“ç”¨èªã€å ±è®€æ—¥æœŸèˆ‡é˜é¢ä¸Šæ•´é»ã€åŠé»çš„æ™‚åˆ»ã€‚","grade":1},{"unit":"éæ•¸1-6 é•·åº¦èˆ‡ä½ç½®","title":"1-6-1 èªè­˜ç›´ç·šèˆ‡æ›²ç·š","content":"é•·åº¦èˆ‡ä½ç½®ï¼šæ•™æå…§å®¹åŒ…å«ç›´ç·šèˆ‡æ›²ç·šã€‚","grade":1},{"unit":"éæ•¸1-6 é•·åº¦èˆ‡ä½ç½®","title":"1-6-2 é•·åº¦çš„ç›´æ¥æ¯”è¼ƒ","content":"é•·åº¦èˆ‡ä½ç½®ï¼šæ•™æå…§å®¹åŒ…å«èªè­˜â»‘åº¦ä¸¦åšç›´æ¥æ¯”è¼ƒã€‚","grade":1},{"unit":"éæ•¸1-6 é•·åº¦èˆ‡ä½ç½®","title":"1-6-3 é•·åº¦çš„é–“æ¥æ¯”è¼ƒèˆ‡å€‹åˆ¥å–®ä½","content":"é•·åº¦èˆ‡ä½ç½®ï¼šæ•™æå…§å®¹åŒ…å«åˆ©ç”¨é–“æ¥æ¯”è¼ƒæˆ–ä»¥å€‹åˆ¥å–®ä½å¯¦æ¸¬çš„æ–¹æ³•ã€‚","grade":1},{"unit":"éæ•¸1-6 é•·åº¦èˆ‡ä½ç½®","title":"1-6-4 è§€å¯Ÿç‰©çš„ä½ç½®","content":"é•·åº¦èˆ‡ä½ç½®ï¼šæ•™æå…§å®¹åŒ…å«æè¿°æŸç‰©åœ¨è§€å¯Ÿè€…çš„å‰å¾Œã€å·¦å³ã€ä¸Šä¸‹åŠå…©å€‹ç‰©é«”çš„é è¿‘ä½ç½®ã€‚","grade":1},{"unit":"éæ•¸1-7 åœ–å½¢","title":"1-7-1 èªè­˜ç°¡å–®çš„å¹³é¢åœ–å½¢","content":"åœ–å½¢ï¼šæ•™æå…§å®¹åŒ…å«è¾¨èªã€æè¿°èˆ‡åˆ†é¡ç°¡å–®å¹³é¢åœ–å½¢èˆ‡ç«‹é«”å½¢é«”ã€‚","grade":1},{"unit":"éæ•¸1-7 åœ–å½¢","title":"1-7-2 èªè­˜åŸºæœ¬å½¢é«”","content":"åœ–å½¢ï¼šæ•™æå…§å®¹åŒ…å«è¾¨èªã€æè¿°èˆ‡åˆ†é¡ç°¡å–®å¹³é¢åœ–å½¢èˆ‡ç«‹é«”å½¢é«”ã€‚","grade":1},{"unit":"éæ•¸1-7 åœ–å½¢","title":"1-7-3 åœ–å½¢çš„åˆ†é¡èˆ‡çµ±è¨ˆ","content":"åœ–å½¢ï¼šæ•™æå…§å®¹åŒ…å«å°ç”Ÿæ´»ä¸­çš„äº‹ä»¶æˆ–æ´»å‹•åšåˆæ­¥çš„åˆ†é¡èˆ‡ç´€éŒ„ã€å°‡ç´€éŒ„ä»¥çµ±è¨ˆè¡¨å‘ˆç¾ä¸¦èªªæ˜ã€‚","grade":1},{"unit":"éæ•¸2-3 æ™‚é–“","title":"2-3-1 èªè­˜èˆ‡å ±è®€é˜é¢æ™‚åˆ»","content":"æ™‚é–“ï¼šæ•™æå…§å®¹åŒ…å«é˜é¢ä¸Šçš„æ™‚åˆ»æ˜¯å¹¾é»å¹¾åˆ†ã€‚","grade":2},{"unit":"éæ•¸2-3 æ™‚é–“","title":"2-3-2 èªè­˜å¹´èˆ‡æœˆ","content":"æ™‚é–“ï¼šæ•™æå…§å®¹åŒ…å«ã€Œå¹´ã€ã€ã€Œæœˆã€ã€ã€Œæ˜ŸæœŸã€ã€ã€Œæ—¥ã€ï¼Œä¸¦çŸ¥é“ã€ŒæŸæœˆæœ‰å¹¾æ—¥ã€ã€ã€Œä¸€æ˜ŸæœŸæœ‰ä¸ƒå¤©ã€ã€‚","grade":2},{"unit":"éæ•¸2-3 æ™‚é–“","title":"2-3-3 èªè­˜æ˜ŸæœŸ","content":"æ™‚é–“ï¼šæ•™æå…§å®¹åŒ…å«ã€Œå¹´ã€ã€ã€Œæœˆã€ã€ã€Œæ˜ŸæœŸã€ã€ã€Œæ—¥ã€ï¼Œä¸¦çŸ¥é“ã€ŒæŸæœˆæœ‰å¹¾æ—¥ã€ã€ã€Œä¸€æ˜ŸæœŸæœ‰ä¸ƒå¤©ã€ã€‚","grade":2},{"unit":"éæ•¸2-3 æ™‚é–“","title":"2-3-4 èªè­˜å¤©æ•¸","content":"æ™‚é–“ï¼šæ•™æå…§å®¹åŒ…å«ã€Œå¹´ã€ã€ã€Œæœˆã€ã€ã€Œæ˜ŸæœŸã€ã€ã€Œæ—¥ã€ï¼Œä¸¦çŸ¥é“ã€ŒæŸæœˆæœ‰å¹¾æ—¥ã€ã€ã€Œä¸€æ˜ŸæœŸæœ‰ä¸ƒå¤©ã€ã€‚","grade":2},{"unit":"éæ•¸2-4 é•·åº¦ã€è§’èˆ‡å¹³é¢","title":"2-4-1 å…¬åˆ†ã€å…¬å°ºä¼°æ¸¬èˆ‡è¨ˆç®—","content":"é•·åº¦ã€è§’èˆ‡å¹³é¢ï¼šæ•™æå…§å®¹åŒ…å«é•·åº¦å–®ä½ã€Œå…¬åˆ†ã€ã€ã€Œå…¬å°ºã€åŠå…¶é—œä¿‚ï¼Œä¸¦èƒ½åšç›¸é—œçš„å¯¦æ¸¬ã€ä¼°æ¸¬èˆ‡åŒå–®ä½çš„è¨ˆç®—ã€‚ä½¿ç”¨ç›´å°ºç•«å‡ºæŒ‡å®šé•·åº¦çš„ç·šæ®µã€‚","grade":2},{"unit":"éæ•¸2-4 é•·åº¦ã€è§’èˆ‡å¹³é¢","title":"2-4-2 é•·åº¦å–®ä½çš„é‡æ¸¬èˆ‡ä¼°ç®—","content":"é•·åº¦ã€è§’èˆ‡å¹³é¢ï¼šæ•™æå…§å®¹åŒ…å«ç†è§£ç”¨ä¸åŒå€‹åˆ¥å–®ä½æ¸¬é‡åŒä¸€é•·åº¦æ™‚ï¼Œå…¶æ•¸å€¼ä¸åŒï¼Œä¸¦èƒ½èªªæ˜åŸå› ã€‚èªè­˜é•·åº¦å–®ä½ã€Œå…¬åˆ†ã€ã€ã€Œå…¬å°ºã€åŠå…¶é—œä¿‚ï¼Œä¸¦èƒ½åšç›¸é—œçš„å¯¦æ¸¬ã€ä¼°æ¸¬èˆ‡åŒå–®ä½çš„è¨ˆç®—ã€‚","grade":2},{"unit":"éæ•¸2-4 é•·åº¦ã€è§’èˆ‡å¹³é¢","title":"2-4-3 èªè­˜æ°´å¹³é‰›å‚ç¾è±¡ä»¥åŠå¹³è¡Œèˆ‡å‚ç›´çš„é—œä¿‚","content":"é•·åº¦ã€è§’èˆ‡å¹³é¢ï¼šæ•™æå…§å®¹åŒ…å«èªè­˜å‘¨é­ä¸­æ°´å¹³ã€é‰›ç›´ã€å¹³è¡Œèˆ‡å‚ç›´çš„ç¾è±¡ã€‚","grade":2},{"unit":"éæ•¸2-4 é•·åº¦ã€è§’èˆ‡å¹³é¢","title":"2-4-4 è§’å’Œç‰©é«”çš„é‚Šå’Œé¢","content":"é•·åº¦ã€è§’èˆ‡å¹³é¢ï¼šæ•™æå…§å®¹åŒ…å«å‘¨é­ç‰©é«”ä¸Šçš„è§’ã€ç›´ç·šèˆ‡å¹³é¢ã€‚","grade":2},{"unit":"éæ•¸2-4 é•·åº¦ã€è§’èˆ‡å¹³é¢","title":"2-4-5 æ­£æ–¹å½¢æ­£ä¸‰è§’å½¢çš„é‚Šé•·é—œä¿‚èˆ‡èªè­˜æ­£æ–¹é«”å’Œé•·æ–¹é«”çš„é‚Šé•·é—œä¿‚","content":"é•·åº¦ã€è§’èˆ‡å¹³é¢ï¼šæ•™æå…§å®¹åŒ…å«å‘¨é­ç‰©é«”ä¸Šçš„è§’ã€ç›´ç·šèˆ‡å¹³é¢ã€‚","grade":2},{"unit":"éæ•¸2-6 å®¹é‡ã€é¢ç©ã€é‡é‡","title":"2-6-1 èªè­˜é‡é‡ä¸¦åšç›´æ¥æ¯”è¼ƒ","content":"å®¹é‡ã€é¢ç©ã€é‡é‡ï¼šæ•™æå…§å®¹åŒ…å«é‡é‡ï¼Œä¸¦åšç›´æ¥æ¯”è¼ƒã€‚","grade":2},{"unit":"éæ•¸2-6 å®¹é‡ã€é¢ç©ã€é‡é‡","title":"2-6-2 èªè­˜å®¹é‡ä¸¦åšç›´æ¥æ¯”è¼ƒ","content":"å®¹é‡ã€é¢ç©ã€é‡é‡ï¼šæ•™æå…§å®¹åŒ…å«å®¹é‡ï¼Œä¸¦åšç›´æ¥æ¯”è¼ƒã€‚","grade":2},{"unit":"éæ•¸2-6 å®¹é‡ã€é¢ç©ã€é‡é‡","title":"2-6-3 èƒ½èªè­˜é¢ç©ä¸¦åšç›´æ¥æ¯”è¼ƒ","content":"å®¹é‡ã€é¢ç©ã€é‡é‡ï¼šæ•™æå…§å®¹åŒ…å«é¢ç©ï¼Œä¸¦åšç›´æ¥æ¯”è¼ƒã€‚","grade":2},{"unit":"éæ•¸2-6 å®¹é‡ã€é¢ç©ã€é‡é‡","title":"2-6-4 æ•¸é‡å¤§å°é—œä¿‚çš„è¡¨ç¤ºæ–¹å¼","content":"å®¹é‡ã€é¢ç©ã€é‡é‡ï¼šæ•™æå…§å®¹åŒ…å«ç”¨ï¼œã€=èˆ‡ï¼è¡¨ç¤ºæ•¸é‡å¤§å°é—œä¿‚ï¼Œä¸¦åœ¨å…·é«”æƒ…å¢ƒä¸­èªè­˜éç§»å¾‹ã€‚","grade":2},{"unit":"éæ•¸3-2 é‡é‡èˆ‡å®¹é‡","title":"3-2-1 é‡é‡å–®ä½å…¬æ–¤å’Œå…¬å…‹çš„èªè­˜èˆ‡å¯¦æ¸¬","content":"é‡é‡èˆ‡å®¹é‡ï¼šæ•™æå…§å®¹åŒ…å«åˆ©ç”¨é–“æ¥æ¯”è¼ƒæˆ–ä»¥å€‹åˆ¥å–®ä½å¯¦æ¸¬çš„æ–¹å¼æ¯”è¼ƒä¸åŒç‰©é«”çš„é‡é‡ã€‚èªè­˜é‡é‡å–®ä½ã€Œå…¬æ–¤ã€ã€ã€Œå…¬å…‹ã€åŠå…¶é—œä¿‚ï¼Œä¸¦ä½œç›¸é—œçš„å¯¦æ¸¬ã€ä¼°æ¸¬èˆ‡è¨ˆç®—ã€‚","grade":3},{"unit":"éæ•¸3-2 é‡é‡èˆ‡å®¹é‡","title":"3-2-2 è§£æ±ºé‡é‡çš„è¨ˆç®—èˆ‡æ‡‰ç”¨å•é¡Œ","content":"é‡é‡èˆ‡å®¹é‡ï¼šæ•™æå…§å®¹åŒ…å«é‡é‡å–®ä½ã€Œå…¬æ–¤ã€ã€ã€Œå…¬å…‹ã€åŠå…¶é—œä¿‚ï¼Œä¸¦ä½œç›¸é—œçš„å¯¦æ¸¬ã€ä¼°æ¸¬èˆ‡è¨ˆç®—ã€‚","grade":3},{"unit":"éæ•¸3-2 é‡é‡èˆ‡å®¹é‡","title":"3-2-3 å®¹é‡å–®ä½å…¬å‡å’Œæ¯«å‡çš„èªè­˜èˆ‡å¯¦æ¸¬","content":"é‡é‡èˆ‡å®¹é‡ï¼šæ•™æå…§å®¹åŒ…å«åˆ©ç”¨é–“æ¥æ¯”è¼ƒæˆ–ä»¥å€‹åˆ¥å–®ä½å¯¦æ¸¬çš„æ–¹æ³•æ¯”è¼ƒä¸åŒå®¹å™¨çš„å®¹é‡ã€‚èªè­˜é‡é‡å–®ä½ã€Œå…¬æ–¤ã€ã€ã€Œå…¬å…‹ã€åŠå…¶é—œä¿‚ï¼Œä¸¦ä½œç›¸é—œçš„å¯¦æ¸¬ã€ä¼°æ¸¬èˆ‡è¨ˆç®—ã€‚","grade":3},{"unit":"éæ•¸3-2 é‡é‡èˆ‡å®¹é‡","title":"3-2-4 è§£æ±ºå®¹é‡çš„è¨ˆç®—èˆ‡æ‡‰ç”¨å•é¡Œ","content":"é‡é‡èˆ‡å®¹é‡ï¼šæ•™æå…§å®¹åŒ…å«å®¹é‡çš„å–®ä½ã€Œå…¬å‡ã€ã€ã€Œæ¯«å…¬å‡ã€ï¼ˆç°¡ç¨±ã€Œæ¯«å‡ã€ï¼‰åŠå…¶é—œä¿‚ï¼Œä¸¦ä½œç›¸é—œçš„å¯¦æ¸¬ã€ä¼°æ¸¬èˆ‡è¨ˆç®—ã€‚","grade":3},{"unit":"éæ•¸3-5 å¹³é¢åœ–å½¢","title":"3-5-1 å¹³é¢åœ–å½¢å’Œå‘¨é•·çš„èªè­˜","content":"å¹³é¢åœ–å½¢ï¼šæ•™æå…§å®¹åŒ…å«å¹³é¢åœ–å½¢çš„å…§éƒ¨ã€å¤–éƒ¨èˆ‡å…¶å‘¨ç•Œã€‚èªè­˜å‘¨é•·ï¼Œä¸¦å¯¦æ¸¬å‘¨é•·ã€‚","grade":3},{"unit":"éæ•¸3-5 å¹³é¢åœ–å½¢","title":"3-5-2 é¢ç©å–®ä½çš„èªè­˜","content":"å¹³é¢åœ–å½¢ï¼šæ•™æå…§å®¹åŒ…å«åˆ©ç”¨é–“æ¥æ¯”è¼ƒæˆ–ä»¥å€‹åˆ¥å–®ä½å¯¦æ¸¬çš„æ–¹æ³•æ¯”è¼ƒä¸åŒé¢ç©çš„å¤§å°ï¼Œä¸¦èªè­˜é¢ç©å–®ä½å¹³æ–¹å…¬åˆ†ã€‚","grade":3},{"unit":"éæ•¸3-5 å¹³é¢åœ–å½¢","title":"3-5-3 å‘¨é•·èˆ‡é¢ç©çš„æ¯”è¼ƒèˆ‡è¨ˆç®—","content":"å¹³é¢åœ–å½¢ï¼šæ•™æå…§å®¹åŒ…å«åˆ©ç”¨é–“æ¥æ¯”è¼ƒæˆ–ä»¥å€‹åˆ¥å–®ä½å¯¦æ¸¬çš„æ–¹æ³•æ¯”è¼ƒä¸åŒé¢ç©çš„å¤§å°ï¼Œä¸¦èªè­˜é¢ç©å–®ä½å¹³æ–¹å…¬åˆ†ã€‚","grade":3},{"unit":"éæ•¸3-5 å¹³é¢åœ–å½¢","title":"3-5-4 å¹³é¢åœ–å½¢çš„åˆ‡å‰²èˆ‡é‡çµ„","content":"å¹³é¢åœ–å½¢ï¼šæ•™æå…§å®¹åŒ…å«é€éæ“ä½œï¼Œå°‡ç°¡å–®åœ–å½¢åˆ‡å‰²é‡çµ„æˆå¦ä¸€å·²çŸ¥ç°¡å–®åœ–å½¢ã€‚","grade":3},{"unit":"éæ•¸3-7 æ™‚é–“","title":"3-7-1 å ±è®€é˜é¢ä¸Šçš„æ™‚åˆ»ï¼ˆå«ç§’ï¼‰èˆ‡24å°æ™‚åˆ¶çš„èªè­˜","content":"æ™‚é–“ï¼šæ•™æå…§å®¹åŒ…å«æ™‚é–“å–®ä½ã€Œæ—¥ã€ã€ã€Œæ™‚ã€ã€ã€Œåˆ†ã€ã€ã€Œç§’ã€åŠå…¶é–“çš„é—œä¿‚ï¼Œä¸¦ä½œæ™‚æˆ–åˆ†åŒå–®ä½æ™‚é–“é‡çš„åŠ æ¸›è¨ˆç®—ã€‚","grade":3},{"unit":"éæ•¸3-7 æ™‚é–“","title":"3-7-2 æ—¥ã€æ™‚ã€åˆ†ã€ç§’æ™‚é–“å–®ä½çš„æ›ç®—","content":"æ™‚é–“ï¼šæ•™æå…§å®¹åŒ…å«æ™‚é–“å–®ä½ã€Œæ—¥ã€ã€ã€Œæ™‚ã€ã€ã€Œåˆ†ã€ã€ã€Œç§’ã€åŠå…¶é–“çš„é—œä¿‚ï¼Œä¸¦ä½œæ™‚æˆ–åˆ†åŒå–®ä½æ™‚é–“é‡çš„åŠ æ¸›è¨ˆç®—ã€‚","grade":3},{"unit":"éæ•¸3-7 æ™‚é–“","title":"3-7-3 æ™‚åˆ»èˆ‡æ™‚é–“é‡çš„åŠ æ¸›è¨ˆç®—","content":"æ™‚é–“ï¼šæ•™æå…§å®¹åŒ…å«æ™‚é–“å–®ä½ã€Œæ—¥ã€ã€ã€Œæ™‚ã€ã€ã€Œåˆ†ã€ã€ã€Œç§’ã€åŠå…¶é–“çš„é—œä¿‚ï¼Œä¸¦ä½œæ™‚æˆ–åˆ†åŒå–®ä½æ™‚é–“é‡çš„åŠ æ¸›è¨ˆç®—ã€‚","grade":3},{"unit":"éæ•¸3-8 åœ“èˆ‡è§’/çµ±è¨ˆåœ–è¡¨","title":"3-8-1 åœ“çš„èªè­˜","content":"åœ“èˆ‡è§’ã€çµ±è¨ˆåœ–è¡¨ï¼šæ•™æå…§å®¹åŒ…å«ä½¿ç”¨åœ“è¦ç•«åœ“ï¼Œèªè­˜åœ“çš„ã€Œåœ“å¿ƒã€ã€ã€Œåœ“å‘¨ã€ã€ã€ŒåŠå¾‘ã€èˆ‡ã€Œç›´è§’ã€ã€‚","grade":3},{"unit":"éæ•¸3-8 åœ“èˆ‡è§’/çµ±è¨ˆåœ–è¡¨","title":"3-8-2 è§’çš„èªè­˜èˆ‡æ¯”è¼ƒ","content":"åœ“èˆ‡è§’ã€çµ±è¨ˆåœ–è¡¨ï¼šæ•™æå…§å®¹åŒ…å«è§’ã€æ¯”è¼ƒè§’çš„å¤§å°ã€‚","grade":3},{"unit":"éæ•¸3-8 åœ“èˆ‡è§’/çµ±è¨ˆåœ–è¡¨","title":"3-8-3 è¨ˆåœ–è¡¨çš„ç†è§£","content":"åœ“èˆ‡è§’ã€çµ±è¨ˆåœ–è¡¨ï¼šæ•™æå…§å®¹åŒ…å«å ±è®€ç”Ÿæ´»ä¸­å¸¸è¦‹çš„ç›´æ¥å°æ‡‰ï¼ˆä¸€ç¶­ï¼‰è¡¨æ ¼ã€‚å ±è®€ç”Ÿæ´»ä¸­å¸¸è¦‹çš„äº¤å‰å°æ‡‰ï¼ˆäºŒç¶­ï¼‰è¡¨æ ¼ã€‚","grade":3},{"unit":"éæ•¸4-3 å‘¨é•·ã€é¢ç©èˆ‡é«”ç©","title":"4-3-1 é¢ç©å–®ä½çš„èªè­˜-å¹³æ–¹å…¬åˆ†ã€å¹³æ–¹å…¬å°º","content":"å‘¨é•·ã€é¢ç©èˆ‡é«”ç©ï¼šæ•™æå…§å®¹åŒ…å«é¢ç©å–®ä½ã€Œå¹³æ–¹å…¬å°ºã€ï¼ŒåŠã€Œå¹³æ–¹å…¬åˆ†ã€ã€ã€Œå¹³æ–¹å…¬å°ºã€é–“çš„é—œä¿‚ï¼Œä¸¦åšç›¸é—œè¨ˆç®—ã€‚","grade":4},{"unit":"éæ•¸4-3 å‘¨é•·ã€é¢ç©èˆ‡é«”ç©","title":"4-3-2 é¢ç©å…¬å¼èˆ‡å‘¨é•·å…¬å¼çš„è¨ˆç®—","content":"å‘¨é•·ã€é¢ç©èˆ‡é«”ç©ï¼šæ•™æå…§å®¹åŒ…å«ç†è§£é•·æ–¹å½¢å’Œæ­£æ–¹å½¢çš„é¢ç©å…¬å¼èˆ‡å‘¨é•·å…¬å¼ã€‚ç”¨ä¸­æ–‡ç°¡è¨˜å¼è¡¨ç¤ºé•·æ–¹å½¢å’Œæ­£æ–¹å½¢çš„é¢ç©å…¬å¼èˆ‡å‘¨é•·å…¬å¼ã€‚","grade":4},{"unit":"éæ•¸4-3 å‘¨é•·ã€é¢ç©èˆ‡é«”ç©","title":"4-3-3 é«”ç©","content":"å‘¨é•·ã€é¢ç©èˆ‡é«”ç©ï¼šæ•™æå…§å®¹åŒ…å«åˆ©ç”¨é–“æ¥æ¯”è¼ƒæˆ–ä»¥å€‹åˆ¥å–®ä½å¯¦æ¸¬çš„æ–¹æ³•æ¯”è¼ƒä¸åŒé«”ç©çš„å¤§å°ï¼Œä¸¦èªè­˜é«”ç©å–®ä½ã€Œç«‹æ–¹å…¬åˆ†ã€ã€‚","grade":4},{"unit":"éæ•¸4-4 å¹³é¢åœ–å½¢èˆ‡è§’åº¦","title":"4-4-1 è§’èˆ‡é‡è§’å™¨çš„ä½¿ç”¨","content":"å¹³è¡Œåœ–å½¢èˆ‡è§’åº¦ï¼šæ•™æå…§å®¹åŒ…å«è§’åº¦å–®ä½ã€Œåº¦ã€ï¼Œä¸¦ä½¿ç”¨é‡è§’å™¨å¯¦æ¸¬è§’åº¦æˆ–ç•«å‡ºæŒ‡å®šçš„è§’ã€‚èƒ½ç†è§£æ—‹è½‰è§’çš„æ„ç¾©ã€‚","grade":4},{"unit":"éæ•¸4-4 å¹³é¢åœ–å½¢èˆ‡è§’åº¦","title":"4-4-2 ä¸‰è§’å½¢","content":"å¹³è¡Œåœ–å½¢èˆ‡è§’åº¦ï¼šæ•™æå…§å®¹åŒ…å«é‹ç”¨ã€Œè§’ã€èˆ‡ã€Œé‚Šã€ç­‰æ§‹æˆè¦ç´ ï¼Œè¾¨èªç°¡å–®å¹³é¢åœ–å½¢ã€‚é€éæ“ä½œï¼Œèªè­˜åŸºæœ¬ä¸‰è§’å½¢èˆ‡å››é‚Šå½¢çš„ç°¡å–®æ€§è³ªã€‚ç”±ç›´è§’ã€å‚ç›´èˆ‡å¹³è¡Œçš„æ¦‚å¿µï¼Œèªè­˜ç°¡å–®å¹³é¢åœ–å½¢ã€‚åˆ©ç”¨ä¸‰è§’æ¿ç•«å‡ºç›´è§’èˆ‡å…©å¹³è¡Œç·šæ®µï¼Œä¸¦ç”¨ä¾†æç¹ªå¹³é¢åœ–å½¢ã€‚","grade":4},{"unit":"éæ•¸4-4 å¹³é¢åœ–å½¢èˆ‡è§’åº¦","title":"4-4-3 å››é‚Šå½¢","content":"å¹³è¡Œåœ–å½¢èˆ‡è§’åº¦ï¼šæ•™æå…§å®¹åŒ…å«é‹ç”¨ã€Œè§’ã€èˆ‡ã€Œé‚Šã€ç­‰æ§‹æˆè¦ç´ ï¼Œè¾¨èªç°¡å–®å¹³é¢åœ–å½¢ã€‚é€éæ“ä½œï¼Œèªè­˜åŸºæœ¬ä¸‰è§’å½¢èˆ‡å››é‚Šå½¢çš„ç°¡å–®æ€§è³ªã€‚ç”±ç›´è§’ã€å‚ç›´èˆ‡å¹³è¡Œçš„æ¦‚å¿µï¼Œèªè­˜ç°¡å–®å¹³é¢åœ–å½¢ã€‚åˆ©ç”¨ä¸‰è§’æ¿ç•«å‡ºç›´è§’èˆ‡å…©å¹³è¡Œç·šæ®µï¼Œä¸¦ç”¨ä¾†æç¹ªå¹³é¢åœ–å½¢ã€‚","grade":4},{"unit":"éæ•¸4-4 å¹³é¢åœ–å½¢èˆ‡è§’åº¦","title":"4-4-4 å…¨ç­‰","content":"å¹³è¡Œåœ–å½¢èˆ‡è§’åº¦ï¼šæ•™æå…§å®¹åŒ…å«ç†è§£å¹³é¢ä¸Šç›´è§’ã€å‚ç›´èˆ‡å¹³è¡Œçš„æ„ç¾©ã€‚","grade":4},{"unit":"éæ•¸4-7 æ™‚é–“","title":"4-7-1 æŒ‡é‡çš„é—œä¿‚","content":"æ™‚é–“ï¼šæ•™æå…§å®¹åŒ…å«è¤‡åæ•¸çš„æ™‚é–“é‡è¨ˆç®—ï¼Œä»¥åŠæ™‚åˆ»èˆ‡æ™‚é–“é‡çš„åŠ æ¸›å•é¡Œã€‚","grade":4},{"unit":"éæ•¸4-7 æ™‚é–“","title":"4-7-2 è¤‡åæ•¸çš„æ™‚é–“é‡è¨ˆç®—","content":"æ™‚é–“ï¼šæ•™æå…§å®¹åŒ…å«è¤‡åæ•¸çš„æ™‚é–“é‡è¨ˆç®—ï¼Œä»¥åŠæ™‚åˆ»èˆ‡æ™‚é–“é‡çš„åŠ æ¸›å•é¡Œã€‚","grade":4},{"unit":"éæ•¸4-7 æ™‚é–“","title":"4-7-3 æ™‚é–“çš„æ‡‰ç”¨å•é¡Œ","content":"æ™‚é–“ï¼šæ•™æå…§å®¹åŒ…å«è¤‡åæ•¸çš„æ™‚é–“é‡è¨ˆç®—ï¼Œä»¥åŠæ™‚åˆ»èˆ‡æ™‚é–“é‡çš„åŠ æ¸›å•é¡Œã€‚","grade":4},{"unit":"éæ•¸4-8 é•·åº¦èˆ‡çµ±è¨ˆåœ–è¡¨","title":"4-8-1 é•·åº¦å–®ä½çš„èªè­˜â”€å…¬é‡Œ","content":"é•·åº¦èˆ‡çµ±è¨ˆåœ–è¡¨ï¼šæ•™æå…§å®¹åŒ…å«é•·åº¦å–®ä½ã€Œå…¬é‡Œã€ï¼ŒåŠã€Œå…¬é‡Œã€èˆ‡å…¶ä»–é•·åº¦å–®ä½çš„é—œä¿‚ï¼Œä¸¦ä½œç›¸é—œè¨ˆç®—ã€‚","grade":4},{"unit":"éæ•¸4-8 é•·åº¦èˆ‡çµ±è¨ˆåœ–è¡¨","title":"4-8-2 é•·åº¦çš„æ‡‰ç”¨å•é¡Œ","content":"é•·åº¦èˆ‡çµ±è¨ˆåœ–è¡¨ï¼šæ•™æå…§å®¹åŒ…å«é•·åº¦å–®ä½ã€Œå…¬é‡Œã€ï¼ŒåŠã€Œå…¬é‡Œã€èˆ‡å…¶ä»–é•·åº¦å–®ä½çš„é—œä¿‚ï¼Œä¸¦ä½œç›¸é—œè¨ˆç®—ã€‚","grade":4},{"unit":"éæ•¸4-8 é•·åº¦èˆ‡çµ±è¨ˆåœ–è¡¨","title":"4-8-3 é•·æ¢åœ–","content":"é•·åº¦èˆ‡çµ±è¨ˆåœ–è¡¨ï¼šæ•™æå…§å®¹åŒ…å«å ±è®€ç”Ÿæ´»ä¸­è³‡æ–™çš„çµ±è¨ˆåœ–ï¼Œå¦‚é•·æ¢åœ–ã€æŠ˜ç·šåœ–èˆ‡åœ“å½¢åœ–ç­‰ã€‚","grade":4},{"unit":"éæ•¸4-8 é•·åº¦èˆ‡çµ±è¨ˆåœ–è¡¨","title":"4-8-4 æŠ˜ç·šåœ–","content":"é•·åº¦èˆ‡çµ±è¨ˆåœ–è¡¨ï¼šæ•™æå…§å®¹åŒ…å«å ±è®€ç”Ÿæ´»ä¸­è³‡æ–™çš„çµ±è¨ˆåœ–ï¼Œå¦‚é•·æ¢åœ–ã€æŠ˜ç·šåœ–èˆ‡åœ“å½¢åœ–ç­‰ã€‚","grade":4},{"unit":"éæ•¸4-8 é•·åº¦èˆ‡çµ±è¨ˆåœ–è¡¨","title":"4-8-5 åœ“å½¢åœ–","content":"é•·åº¦èˆ‡çµ±è¨ˆåœ–è¡¨ï¼šæ•™æå…§å®¹åŒ…å«å ±è®€ç”Ÿæ´»ä¸­è³‡æ–™çš„çµ±è¨ˆåœ–ï¼Œå¦‚é•·æ¢åœ–ã€æŠ˜ç·šåœ–èˆ‡åœ“å½¢åœ–ç­‰ã€‚","grade":4},{"unit":"éæ•¸4-8 é•·åº¦èˆ‡çµ±è¨ˆåœ–è¡¨","title":"4-8-6 è¤‡é›œçš„é•·æ¢åœ–","content":"é•·åº¦èˆ‡çµ±è¨ˆåœ–è¡¨ï¼šæ•™æå…§å®¹åŒ…å«å ±è®€è¼ƒè¤‡é›œçš„é•·æ¢åœ–ã€‚","grade":4},{"unit":"éæ•¸5-5 æ™‚é–“è¨ˆç®—","title":"5-5-1 æ™‚é–“çš„æ›ç®—","content":"æ™‚é–“è¨ˆç®—ï¼šæ•™æå…§å®¹åŒ…å«æ™‚é–“çš„ä¹˜é™¤è¨ˆç®—å•é¡Œã€‚","grade":5},{"unit":"éæ•¸5-5 æ™‚é–“è¨ˆç®—","title":"5-5-2 æ™‚é–“çš„ä¹˜é™¤èˆ‡æ‡‰ç”¨å•é¡Œ","content":"æ™‚é–“è¨ˆç®—ï¼šæ•™æå…§å®¹åŒ…å«æ™‚é–“çš„ä¹˜é™¤æ‡‰ç”¨å•é¡Œã€‚","grade":5},{"unit":"éæ•¸5-6 å¹³é¢åœ–å½¢èˆ‡é¢ç©","title":"5-6-1 ä¸‰è§’å½¢","content":"å¹³é¢åœ–å½¢èˆ‡é¢ç©ï¼šæ•™æå…§å®¹åŒ…å«ä¸‰è§’å½¢ä»»æ„å…©é‚Šçš„å’Œä¸€å®šå¤§æ–¼ç¬¬ä¸‰é‚Šã€‚ä¸‰è§’å½¢æœ‰ä¸‰å€‹è§’ï¼Œä¸”å…§è§’å’Œç‚º180åº¦ã€‚ä¸‰è§’å½¢æœ€å¤šåªå¯ä»¥æœ‰ä¸€å€‹éˆè§’(å¤§æ–¼90åº¦)æˆ–ç›´è§’è§’(ç­‰æ–¼90åº¦)ã€‚ä¸‰è§’å½¢æœ€å¤šå¯ä»¥æœ‰ä¸‰å€‹éŠ³è§’(å°æ–¼90åº¦)ã€‚ç›´è§’ä¸‰è§’å½¢ã€éˆè§’ä¸‰è§’å½¢ã€éŠ³è§’ä¸‰è§’å½¢ã€æ­£ä¸‰è§’å½¢ã€ç­‰è…°ä¸‰è§’å½¢ã€‚","grade":5},{"unit":"éæ•¸5-6 å¹³é¢åœ–å½¢èˆ‡é¢ç©","title":"5-6-2 æ‰‡å½¢","content":"å¹³é¢åœ–å½¢èˆ‡é¢ç©ï¼šæ•™æå…§å®¹åŒ…å«åœ“å¿ƒè§’ï¼Œç†è§£180åº¦ã€360åº¦çš„æ„ç¾©ï¼Œä¸¦èªè­˜æ‰‡å½¢ã€‚","grade":5},{"unit":"éæ•¸5-6 å¹³é¢åœ–å½¢èˆ‡é¢ç©","title":"5-6-3 ç·šå°ç¨±","content":"å¹³é¢åœ–å½¢èˆ‡é¢ç©ï¼šæ•™æå…§å®¹åŒ…å«ç·šå°ç¨±ï¼Œä¸¦ç†è§£ç°¡å–®å¹³é¢åœ–å½¢çš„ç·šå°ç¨±æ€§è³ªã€‚","grade":5},{"unit":"éæ•¸5-6 å¹³é¢åœ–å½¢èˆ‡é¢ç©","title":"5-6-4 é¢ç©çš„å–®ä½","content":"å¹³é¢åœ–å½¢èˆ‡é¢ç©ï¼šæ•™æå…§å®¹åŒ…å«è¨ˆç®—é¢ç©å–®ä½ã€Œå…¬ç•ã€ã€ã€Œå…¬é ƒã€ã€ã€Œå¹³æ–¹å…¬é‡Œã€åŠå…¶é—œä¿‚ï¼Œä¸¦åšç›¸é—œè¨ˆç®—ã€‚","grade":5},{"unit":"éæ•¸5-6 å¹³é¢åœ–å½¢èˆ‡é¢ç©","title":"5-6-5 ä¸‰è§’å½¢èˆ‡å››é‚Šå½¢","content":"å¹³é¢åœ–å½¢èˆ‡é¢ç©ï¼šæ•™æå…§å®¹åŒ…å«é‹ç”¨åˆ‡å‰²é‡çµ„ï¼Œç†è§£ä¸‰è§’å½¢ã€å¹³è¡Œå››é‚Šå½¢èˆ‡æ¢¯å½¢çš„é¢ç©å…¬å¼ã€‚ç”¨ä¸­æ–‡ç°¡è¨˜å¼è¡¨ç¤ºç°¡å–®å¹³é¢åœ–å½¢çš„é¢ç©ï¼Œä¸¦èªªæ˜åœ–å½¢ä¸­é‚Šé•·æˆ–é«˜è®ŠåŒ–æ™‚å°é¢ç©çš„å½±éŸ¿ã€‚","grade":5},{"unit":"éæ•¸5-7 ç«‹é«”åœ–å½¢èˆ‡é«”ç©","title":"5-7-1 æŸ±é«”èˆ‡éŒé«”","content":"ç«‹é«”åœ–å½¢èˆ‡é«”ç©ï¼šæ•™æå…§å®¹åŒ…å«é‹ç”¨ã€Œé ‚é»ã€ã€ã€Œé‚Šã€èˆ‡ã€Œé¢ã€ç­‰æ§‹æˆè¦ç´ ï¼Œè¾¨èªç°¡å–®ç«‹é«”å½¢é«”ã€‚é¢çš„å¹³è¡Œèˆ‡å‚ç›´ã€æ­£æ–¹é«”èˆ‡é•·æ–¹é«”ä¸­é¢èˆ‡é¢çš„å¹³è¡Œèˆ‡å‚ç›´é—œä¿‚ã€‚","grade":5},{"unit":"éæ•¸5-7 ç«‹é«”åœ–å½¢èˆ‡é«”ç©","title":"5-7-2 é«”ç©çš„è¨ˆç®—","content":"ç«‹é«”åœ–å½¢èˆ‡é«”ç©ï¼šæ•™æå…§å®¹åŒ…å«é•·æ–¹é«”å’Œæ­£æ–¹é«”çš„é«”ç©å…¬å¼ã€‚é«”ç©å–®ä½ã€Œç«‹æ–¹å…¬å°ºã€ï¼ŒåŠã€Œç«‹æ–¹å…¬åˆ†ã€ã€ã€Œç«‹æ–¹å…¬å°ºã€é–“çš„é—œä¿‚ï¼Œä¸¦åšç›¸é—œè¨ˆç®—ã€‚","grade":5},{"unit":"éæ•¸5-8 é‡é‡/å®¹é‡/é•·æ¢åœ–/æŠ˜ç·šåœ–","title":"5-8-1 é‡é‡","content":"é‡é‡èˆ‡å®¹é‡ï¼›é•·æ¢åœ–ã€æŠ˜ç·šåœ–èˆ‡æ¯”ç‡ï¼šæ•™æå…§å®¹åŒ…å«é‡é‡å–®ä½ã€Œå…¬å™¸ã€åŠã€Œå…¬å™¸ã€èˆ‡ã€Œå…¬æ–¤ã€é–“çš„é—œä¿‚ï¼Œä¸¦åšç›¸é—œè¨ˆç®—ã€‚","grade":5},{"unit":"éæ•¸5-8 é‡é‡/å®¹é‡/é•·æ¢åœ–/æŠ˜ç·šåœ–","title":"5-8-2 å®¹ç©èˆ‡å®¹é‡","content":"é‡é‡èˆ‡å®¹é‡ï¼›é•·æ¢åœ–ã€æŠ˜ç·šåœ–èˆ‡æ¯”ç‡ï¼šæ•™æå…§å®¹åŒ…å«å®¹é‡ã€å®¹ç©å’Œé«”ç©é–“çš„é—œä¿‚ã€‚","grade":5},{"unit":"éæ•¸5-8 é‡é‡/å®¹é‡/é•·æ¢åœ–/æŠ˜ç·šåœ–","title":"5-8-3 é•·æ¢åœ–","content":"é‡é‡èˆ‡å®¹é‡ï¼›é•·æ¢åœ–ã€æŠ˜ç·šåœ–èˆ‡æ¯”ç‡ï¼šæ•™æå…§å®¹åŒ…å«æ•´ç†ç”Ÿæ´»ä¸­çš„è³‡æ–™ï¼Œä¸¦è£½æˆé•·æ¢åœ–ã€‚å ±è®€ç”Ÿæ´»ä¸­æœ‰åºè³‡æ–™çš„çµ±è¨ˆåœ–ã€‚","grade":5},{"unit":"éæ•¸5-8 é‡é‡/å®¹é‡/é•·æ¢åœ–/æŠ˜ç·šåœ–","title":"5-8-4 æŠ˜ç·šåœ–","content":"é‡é‡èˆ‡å®¹é‡ï¼›é•·æ¢åœ–ã€æŠ˜ç·šåœ–èˆ‡æ¯”ç‡ï¼šæ•™æå…§å®¹åŒ…å«å ±è®€ç”Ÿæ´»ä¸­æœ‰åºè³‡æ–™çš„çµ±è¨ˆåœ–ã€‚æ•´ç†æœ‰åºè³‡æ–™ï¼Œä¸¦ç¹ªè£½æˆæŠ˜ç·šåœ–ã€‚","grade":5},{"unit":"éæ•¸6-5 åœ“é¢ç©ã€ç«‹é«”åœ–å½¢èˆ‡é«”ç©","title":"6-5-1 åœ“å‘¨é•·èˆ‡æ‰‡å½¢å‘¨é•·","content":"åœ“é¢ç©ã€ç«‹é«”åœ–å½¢èˆ‡é«”ç©ï¼šæ•™æå…§å®¹åŒ…å«åœ“é¢ç©èˆ‡åœ“å‘¨é•·çš„å…¬å¼ï¼Œè¨ˆç®—æ‰‡å½¢é¢ç©ã€‚ä¸­æ–‡ç°¡è¨˜å¼è¡¨ç¤ºåœ“é¢ç©ã€åœ“å‘¨é•·èˆ‡æŸ±é«”çš„é«”ç©å…¬å¼ã€‚","grade":6},{"unit":"éæ•¸6-5 åœ“é¢ç©ã€ç«‹é«”åœ–å½¢èˆ‡é«”ç©","title":"6-5-2 éç›´ç·šé‚Šå¹³é¢å€åŸŸé¢ç©","content":"åœ“é¢ç©ã€ç«‹é«”åœ–å½¢èˆ‡é«”ç©ï¼šæ•™æå…§å®¹åŒ…å«é©ç•¶çš„æ­£æ–¹å½¢å–®ä½ï¼Œå°æ›²ç·šåœæˆçš„å¹³é¢å€åŸŸä¼°ç®—å…¶é¢ç©ã€‚","grade":6},{"unit":"éæ•¸6-5 åœ“é¢ç©ã€ç«‹é«”åœ–å½¢èˆ‡é«”ç©","title":"6-5-3 åœ“é¢ç©èˆ‡æ‰‡å½¢é¢ç©","content":"åœ“é¢ç©ã€ç«‹é«”åœ–å½¢èˆ‡é«”ç©ï¼šæ•™æå…§å®¹åŒ…å«åœ“é¢ç©èˆ‡åœ“å‘¨é•·çš„å…¬å¼ï¼Œè¨ˆç®—æ‰‡å½¢é¢ç©ã€‚ä¸­æ–‡ç°¡è¨˜å¼è¡¨ç¤ºåœ“é¢ç©ã€åœ“å‘¨é•·èˆ‡æŸ±é«”çš„é«”ç©å…¬å¼ã€‚","grade":6},{"unit":"éæ•¸6-5 åœ“é¢ç©ã€ç«‹é«”åœ–å½¢èˆ‡é«”ç©","title":"6-5-4 å¹³é¢è¤‡åˆåœ–å½¢","content":"åœ“é¢ç©ã€ç«‹é«”åœ–å½¢èˆ‡é«”ç©ï¼šæ•™æå…§å®¹åŒ…å«å¹¾ä½•å½¢é«”çš„æ€§è³ªè§£æ±ºç°¡å–®çš„å¹¾ä½•å•é¡Œã€‚","grade":6},{"unit":"éæ•¸6-5 åœ“é¢ç©ã€ç«‹é«”åœ–å½¢èˆ‡é«”ç©","title":"6-5-5 ç«‹é«”åœ–å½¢èˆ‡é«”ç©","content":"åœ“é¢ç©ã€ç«‹é«”åœ–å½¢èˆ‡é«”ç©ï¼šæ•™æå…§å®¹åŒ…å«ç›´åœ“éŒã€ç›´åœ“æŸ±èˆ‡ç›´è§’æŸ±ã€‚ç›´ç«‹æŸ±é«”çš„é«”ç©ç‚ºåº•é¢ç©èˆ‡é«˜çš„ä¹˜ç©ã€‚å¹¾ä½•å½¢é«”çš„æ€§è³ªè§£æ±ºç°¡å–®çš„å¹¾ä½•å•é¡Œã€‚","grade":6},{"unit":"éæ•¸6-5 åœ“é¢ç©ã€ç«‹é«”åœ–å½¢èˆ‡é«”ç©","title":"6-5-6 è¤‡åˆå‹é«”ç©èˆ‡è¡¨é¢ç©","content":"åœ“é¢ç©ã€ç«‹é«”åœ–å½¢èˆ‡é«”ç©ï¼šæ•™æå…§å®¹åŒ…å«å¹¾ä½•å½¢é«”çš„æ€§è³ªè§£æ±ºç°¡å–®çš„å¹¾ä½•å•é¡Œã€‚","grade":6},{"unit":"éæ•¸6-6 é€Ÿç‡","title":"6-6-1 å¹³å‡é€Ÿç‡æ•¸","content":"é€Ÿç‡ï¼šæ•™æå…§å®¹åŒ…å«é€Ÿç‡çš„æ¦‚å¿µèˆ‡æ‡‰ç”¨ï¼Œèªè­˜é€Ÿç‡çš„æ™®éå–®ä½åŠæ›ç®—ï¼Œä¸¦è™•ç†ç›¸é—œçš„è¨ˆç®—å•é¡Œã€‚","grade":6},{"unit":"éæ•¸6-6 é€Ÿç‡","title":"6-6-2 é€Ÿç‡å–®ä½æ›ç®—èˆ‡æ‡‰ç”¨","content":"é€Ÿç‡ï¼šæ•™æå…§å®¹åŒ…å«é€Ÿç‡çš„æ¦‚å¿µèˆ‡æ‡‰ç”¨ï¼Œèªè­˜é€Ÿç‡çš„æ™®éå–®ä½åŠæ›ç®—ï¼Œä¸¦è™•ç†ç›¸é—œçš„è¨ˆç®—å•é¡Œã€‚","grade":6},{"unit":"éæ•¸6-6 é€Ÿç‡","title":"6-6-3 æ™‚é–“ã€è·é›¢ã€é€Ÿç‡çš„é—œä¿‚èˆ‡æ‡‰ç”¨","content":"é€Ÿç‡ï¼šæ•™æå…§å®¹åŒ…å«é€Ÿç‡çš„æ¦‚å¿µèˆ‡æ‡‰ç”¨ï¼Œèªè­˜é€Ÿç‡çš„æ™®éå–®ä½åŠæ›ç®—ï¼Œä¸¦è™•ç†ç›¸é—œçš„è¨ˆç®—å•é¡Œã€‚","grade":6},{"unit":"éæ•¸6-7 åº§æ¨™ã€ç¸®åœ–ã€çµ±è¨ˆåœ–","title":"6-7-1 åº§æ¨™","content":"åæ¨™ã€ç¸®å°åœ–ã€çµ±è¨ˆåœ–ï¼šæ•™æå…§å®¹åŒ…å«é‹ç”¨ç›´è§’åæ¨™ç³»ä¾†æ¨™å®šä½ç½®ã€‚","grade":6},{"unit":"éæ•¸6-7 åº§æ¨™ã€ç¸®åœ–ã€çµ±è¨ˆåœ–","title":"6-7-2 ç¸®åœ–ã€æ”¾å¤§åœ–","content":"åæ¨™ã€ç¸®å°åœ–ã€çµ±è¨ˆåœ–ï¼šæ•™æå…§å®¹åŒ…å«å¹³é¢åœ–å½¢æ”¾å¤§ã€ç¸®å°å°é•·åº¦ã€è§’åº¦èˆ‡é¢ç©çš„å½±éŸ¿ï¼Œä¸¦èªè­˜æ¯”ä¾‹å°ºã€‚","grade":6},{"unit":"éæ•¸6-7 åº§æ¨™ã€ç¸®åœ–ã€çµ±è¨ˆåœ–","title":"6-7-3 æ¯”ä¾‹å°º","content":"åæ¨™ã€ç¸®å°åœ–ã€çµ±è¨ˆåœ–ï¼šæ•™æå…§å®¹åŒ…å«å¹³é¢åœ–å½¢æ”¾å¤§ã€ç¸®å°å°é•·åº¦ã€è§’åº¦èˆ‡é¢ç©çš„å½±éŸ¿ï¼Œä¸¦èªè­˜æ¯”ä¾‹å°ºã€‚","grade":6},{"unit":"éæ•¸6-7 åº§æ¨™ã€ç¸®åœ–ã€çµ±è¨ˆåœ–","title":"6-7-4 é•·æ¢ç™¾åˆ†åœ–å’Œåœ“å½¢åœ–","content":"åæ¨™ã€ç¸®å°åœ–ã€çµ±è¨ˆåœ–ï¼šæ•™æå…§å®¹åŒ…å«æ•´ç†ç”Ÿæ´»ä¸­çš„è³‡æ–™ï¼Œä¸¦è£½æˆåœ“å½¢åœ–ã€‚","grade":6}]'),Ws=JSON.parse('[{"unit":"**å››å‰‡ç¬¬ä¸€ç«  æ­£è² æ•¸èˆ‡å…¶é‹ç®—**","title":"1.1 ç¯€ æ­£æ•¸èˆ‡è² æ•¸","content":"èªè­˜å…·æœ‰ç›¸åæ„ç¾©çš„é‡ï¼Œå¼•å…¥æ­£æ•¸ã€è² æ•¸èˆ‡ 0ã€‚ç†è§£æ•¸ç·šçš„æ§‹æˆï¼ˆåŸé»ã€æ­£å‘ã€å–®ä½é•·ï¼‰ï¼Œä¸¦èƒ½åœ¨æ•¸ç·šä¸Šæ¨™ç¤ºæ­£è² æ•´æ•¸ã€‚ç†è§£ç›¸åæ•¸èˆ‡çµ•å°å€¼çš„æ„ç¾©ã€‚","grade":7},{"unit":"**å››å‰‡ç¬¬ä¸€ç«  æ­£è² æ•¸èˆ‡å…¶é‹ç®—**","title":"1.2 ç¯€ æ­£è² æ•´æ•¸çš„ç°¡å–®åŠ æ¸›","content":"ç†è§£æ­£è² æ•´æ•¸åŠ æ³•èˆ‡æ¸›æ³•åœ¨æ•¸ç·šä¸Šçš„æ„ç¾©ï¼ˆå‘å³ç‚ºåŠ ã€å‘å·¦ç‚ºæ¸›ï¼‰ï¼Œä¸¦ç†Ÿç·´æ•´æ•¸çš„åŠ æ¸›é‹ç®—ã€‚","grade":7},{"unit":"**å››å‰‡ç¬¬ä¸€ç«  æ­£è² æ•¸èˆ‡å…¶é‹ç®—**","title":"1.3 ç¯€ æœ‰æ‹¬å¼§çš„æ­£è² æ•¸åŠ æ¸›","content":"ç†è§£ä¸¦æ‡‰ç”¨å»æ‹¬è™Ÿè¦å‰‡ï¼ˆå¦‚ï¼š-(a+b) = -a-b, a-(-b) = a+bï¼‰ï¼Œä¸¦èƒ½çµåˆåŠ æ³•äº¤æ›å¾‹ã€çµåˆå¾‹ç°¡åŒ–é‹ç®—ã€‚","grade":7},{"unit":"**å››å‰‡ç¬¬ä¸€ç«  æ­£è² æ•¸èˆ‡å…¶é‹ç®—**","title":"1.4 ç¯€ æ•´æ•¸çš„ä¹˜é™¤æ³•","content":"ç†è§£æ­£è² æ•´æ•¸ä¹˜é™¤æ³•çš„é‹ç®—è¦å‰‡ï¼ˆæ­£æ­£å¾—æ­£ã€è² è² å¾—æ­£ã€æ­£è² å¾—è² ï¼‰ï¼Œä¸¦ç†Ÿç·´ä¹˜æ³•èˆ‡é™¤æ³•é‹ç®—ã€‚","grade":7},{"unit":"**å››å‰‡ç¬¬ä¸€ç«  æ­£è² æ•¸èˆ‡å…¶é‹ç®—**","title":"1.5 ç¯€ æ•´æ•¸çš„å››å‰‡é‹ç®—","content":"ç†Ÿç·´æ•´æ•¸çš„å››å‰‡æ··åˆé‹ç®—ï¼ŒåŒ…å«æ‹¬è™Ÿã€å…ˆä¹˜é™¤å¾ŒåŠ æ¸›çš„é‹ç®—è¦å‰‡ï¼Œä¸¦èƒ½æ‡‰ç”¨ä¹˜æ³•å°åŠ æ³•çš„åˆ†é…å¾‹ç°¡åŒ–è¨ˆç®—ã€‚","grade":7},{"unit":"**å››å‰‡ç¬¬äºŒç«  åˆ†æ•¸çš„é‹ç®—**","title":"2.1 ç¯€ å› æ•¸èˆ‡å…¬å› æ•¸","content":"èªè­˜å› æ•¸ã€å€æ•¸ã€è³ªæ•¸ã€åˆæ•¸ã€‚èƒ½é€²è¡Œè³ªå› æ•¸åˆ†è§£ï¼Œä¸¦æ±‚è§£æœ€å¤§å…¬å› æ•¸ï¼ˆGCFï¼‰ã€‚","grade":7},{"unit":"**å››å‰‡ç¬¬äºŒç«  åˆ†æ•¸çš„é‹ç®—**","title":"2.2 ç¯€ å€æ•¸èˆ‡å…¬å€æ•¸","content":"ç†è§£å€æ•¸èˆ‡å…¬å€æ•¸çš„æ„ç¾©ï¼Œä¸¦æ±‚è§£æœ€å°å…¬å€æ•¸ï¼ˆLCMï¼‰ã€‚","grade":7},{"unit":"**å››å‰‡ç¬¬äºŒç«  åˆ†æ•¸çš„é‹ç®—**","title":"2.3 ç¯€ æ¨™æº–åˆ†è§£å¼ï¼šæ±‚æœ€å¤§å…¬å› æ•¸èˆ‡æœ€å°å…¬å€æ•¸","content":"ç†Ÿç·´é‹ç”¨æ¨™æº–åˆ†è§£å¼ä¾†æ±‚è§£å…©å€‹æˆ–å¤šå€‹æ•´æ•¸çš„æœ€å¤§å…¬å› æ•¸ï¼ˆGCFï¼‰èˆ‡æœ€å°å…¬å€æ•¸ï¼ˆLCMï¼‰ã€‚","grade":7},{"unit":"**å››å‰‡ç¬¬äºŒç«  åˆ†æ•¸çš„é‹ç®—**","title":"2.4 ç¯€ ç´„åˆ†èˆ‡æ“´åˆ†","content":"ç†è§£æ“´åˆ†ã€ç´„åˆ†çš„æ¦‚å¿µï¼Œèªè­˜ç­‰å€¼åˆ†æ•¸ï¼Œä¸¦èƒ½å°‡åˆ†æ•¸åŒ–ç‚ºæœ€ç°¡åˆ†æ•¸ã€‚","grade":7},{"unit":"**å››å‰‡ç¬¬äºŒç«  åˆ†æ•¸çš„é‹ç®—**","title":"2.5 ç¯€ é€šåˆ†å’Œæ¯”è¼ƒå…©å€‹æ•¸çš„å¤§å°","content":"å­¸ç¿’ä½¿ç”¨é€šåˆ†ï¼ˆä»¥æœ€å°å…¬å€æ•¸ç‚ºåˆ†æ¯ï¼‰ä¾†æ¯”è¼ƒæ­£åˆ†æ•¸ã€è² åˆ†æ•¸çš„å¤§å°ã€‚","grade":7},{"unit":"**å››å‰‡ç¬¬äºŒç«  åˆ†æ•¸çš„é‹ç®—**","title":"2.6 ç¯€ åˆ†æ•¸çš„åŠ æ¸›","content":"ç†Ÿç·´åˆ†æ•¸çš„åŠ æ¸›é‹ç®—ï¼ŒåŒ…å«ç•°åˆ†æ¯åˆ†æ•¸çš„é€šåˆ†ï¼Œä¸¦èƒ½è™•ç†åŒ…å«æ­£è² åˆ†æ•¸çš„åŠ æ¸›å•é¡Œã€‚","grade":7},{"unit":"**å››å‰‡ç¬¬äºŒç«  åˆ†æ•¸çš„é‹ç®—**","title":"2.7 ç¯€ å¸¶åˆ†æ•¸","content":"ç†è§£å¸¶åˆ†æ•¸èˆ‡å‡åˆ†æ•¸ä¹‹é–“çš„äº’æ›ï¼Œä¸¦èƒ½é€²è¡Œå¸¶åˆ†æ•¸çš„åŠ æ¸›é‹ç®—ã€‚","grade":7},{"unit":"**å››å‰‡ç¬¬äºŒç«  åˆ†æ•¸çš„é‹ç®—**","title":"2.8 ç¯€ åˆ†æ•¸çš„ä¹˜é™¤æ³•èˆ‡å››å‰‡é‹ç®—","content":"ç†Ÿç·´åˆ†æ•¸çš„ä¹˜æ³•ï¼ˆå«å€’æ•¸æ¦‚å¿µï¼‰èˆ‡é™¤æ³•é‹ç®—ï¼Œä¸¦èƒ½è™•ç†åŒ…å«æ­£è² åˆ†æ•¸çš„å››å‰‡æ··åˆé‹ç®—ï¼ˆå«æ‹¬è™Ÿèˆ‡é‹ç®—é †åºï¼‰ã€‚","grade":7},{"unit":"**å››å‰‡ç¬¬ä¸‰ç«  æŒ‡æ•¸èˆ‡ç§‘å­¸è¨˜è™Ÿ**","title":"3.1 ç¯€ ç›¸åŒåº•æ•¸ï¼Œä¸åŒæŒ‡æ•¸","content":"èªè­˜æŒ‡æ•¸è¨˜æ³•ï¼ˆ $a^n$ ï¼‰ï¼Œç†è§£æŒ‡æ•¸å¾‹ $a^m \\\\times a^n = a^{m+n}$ ï¼ˆ $m, n$ ç‚ºæ­£æ•´æ•¸ï¼‰ã€‚","grade":7},{"unit":"**å››å‰‡ç¬¬ä¸‰ç«  æŒ‡æ•¸èˆ‡ç§‘å­¸è¨˜è™Ÿ**","title":"3.2 ç¯€ åº•æ•¸ä¸åŒï¼ŒæŒ‡æ•¸ç›¸åŒ","content":"ç†è§£æŒ‡æ•¸å¾‹ $(a^m)^n = a^{mn}$ åŠ $(ab)^n = a^n b^n$ ï¼ˆ $m, n$ ç‚ºæ­£æ•´æ•¸ï¼‰ã€‚","grade":7},{"unit":"**å››å‰‡ç¬¬ä¸‰ç«  æŒ‡æ•¸èˆ‡ç§‘å­¸è¨˜è™Ÿ**","title":"3.3 ç¯€ æŒ‡æ•¸çš„é™¤æ³•","content":"ç†è§£æŒ‡æ•¸å¾‹ $a^m \\\\div a^n = a^{m-n}$ ï¼ˆ $a \\\\neq 0$ï¼Œ$m, n$ ç‚ºæ­£æ•´æ•¸ï¼‰ï¼Œä¸¦æ“´å±•è‡³ $a^0 = 1$ åŠ $a^{-n} = 1/a^n$ ï¼ˆ $a \\\\neq 0$ï¼Œ$n$ ç‚ºæ­£æ•´æ•¸ï¼‰çš„å®šç¾©èˆ‡æ‡‰ç”¨ã€‚","grade":7},{"unit":"**å››å‰‡ç¬¬ä¸‰ç«  æŒ‡æ•¸èˆ‡ç§‘å­¸è¨˜è™Ÿ**","title":"3.4 ç¯€ ç§‘å­¸è¨˜è™Ÿ","content":"ç†è§£ç§‘å­¸è¨˜è™Ÿ $a \\\\times 10^n$ çš„è¡¨ç¤ºæ³•ï¼ˆå…¶ä¸­ $1 \\\\le |a| < 10$ï¼Œ$n$ ç‚ºæ•´æ•¸ï¼‰ï¼Œä¸¦èƒ½ç”¨ç§‘å­¸è¨˜è™Ÿè¡¨ç¤ºå¤§æ•¸æˆ–å°èªªï¼Œä»¥åŠé€²è¡Œç§‘å­¸è¨˜è™Ÿçš„ç°¡æ˜“é‹ç®—èˆ‡æ¯”è¼ƒå¤§å°ã€‚","grade":7},{"unit":"**å››å‰‡ç¬¬å››ç«  å¹³æ–¹æ ¹çš„é‹ç®—**","title":"4.1 ç¯€ å¹³æ–¹èˆ‡å¹³æ–¹æ ¹","content":"ç†è§£å¹³æ–¹æ ¹çš„æ„ç¾©ï¼ŒçŸ¥é“ä¸€å€‹æ­£æ•¸æœ‰å…©å€‹å¹³æ–¹æ ¹ï¼ˆä¸€æ­£ä¸€è² ï¼Œäº’ç‚ºç›¸åæ•¸ï¼‰ã€‚èªè­˜æ ¹è™Ÿï¼ˆ $\\\\sqrt{}$ ï¼‰çš„ç¬¦è™Ÿï¼Œä¸¦çŸ¥é“ $\\\\sqrt{a}$ ä»£è¡¨ $a$ çš„æ­£å¹³æ–¹æ ¹ã€‚","grade":8},{"unit":"**å››å‰‡ç¬¬å››ç«  å¹³æ–¹æ ¹çš„é‹ç®—**","title":"4.2 ç¯€ é–‹æ ¹è™Ÿ","content":"èƒ½åˆ©ç”¨è³ªå› æ•¸åˆ†è§£ï¼ˆé‡å°å®Œå…¨å¹³æ–¹æ•¸ï¼‰æ±‚å¹³æ–¹æ ¹ã€‚èƒ½åˆ©ç”¨ååˆ†é€¼è¿‘æ³•æˆ–è¨ˆç®—æ©Ÿæ±‚å¹³æ–¹æ ¹çš„è¿‘ä¼¼å€¼ã€‚","grade":8},{"unit":"**å››å‰‡ç¬¬å››ç«  å¹³æ–¹æ ¹çš„é‹ç®—**","title":"4.3 ç¯€ æ¨™æº–åˆ†è§£æ±‚å¹³æ–¹æ ¹","content":"åˆ©ç”¨æ¨™æº–åˆ†è§£å¼åŒ–ç°¡ $\\\\sqrt{a}$ ï¼Œä½¿å…¶æˆç‚ºæœ€ç°¡æ ¹å¼ï¼ˆå¦‚ $\\\\sqrt{12} = \\\\sqrt{2^2 \\\\times 3} = 2\\\\sqrt{3}$ ï¼‰ã€‚","grade":8},{"unit":"**å››å‰‡ç¬¬å››ç«  å¹³æ–¹æ ¹çš„é‹ç®—**","title":"4.4 ç¯€ æ ¹å¼çš„é‹ç®—","content":"ç†Ÿç·´æ ¹å¼çš„å››å‰‡é‹ç®—ï¼ŒåŒ…å«åŒé¡æ–¹æ ¹çš„åˆä½µï¼ˆåŠ æ¸›ï¼‰ã€æ ¹å¼çš„ä¹˜é™¤ï¼ˆ $\\\\sqrt{a}\\\\sqrt{b} = \\\\sqrt{ab}, \\\\sqrt{a}/\\\\sqrt{b} = \\\\sqrt{a/b}$ ï¼‰ï¼Œä»¥åŠåˆ†æ¯æœ‰ç†åŒ–ã€‚","grade":8},{"unit":"**å››å‰‡ç¬¬äº”ç«  æ¯”èˆ‡æ¯”ä¾‹**","title":"5.1 ç¯€ æ¯”èˆ‡æ¯”å€¼çš„å®šç¾©","content":"èªè­˜ã€Œæ¯”ã€ $a:b$ ( $b \\\\neq 0$ ) çš„è¡¨ç¤ºæ³•ï¼Œç†è§£ã€Œæ¯”å€¼ã€ $a/b$ çš„æ„ç¾©ï¼Œä¸¦èƒ½è¨ˆç®—æ¯”å€¼èˆ‡åŒ–ç°¡ã€Œæœ€ç°¡æ•´æ•¸æ¯”ã€ã€‚","grade":7},{"unit":"**å››å‰‡ç¬¬äº”ç«  æ¯”èˆ‡æ¯”ä¾‹**","title":"5-2 ç¯€ æ¯”ä¾‹å¼","content":"ç†è§£æ¯”ä¾‹å¼ $a:b = c:d$ çš„æ„ç¾©ï¼ŒçŸ¥é“ã€Œå…§é …ç©ç­‰æ–¼å¤–é …ç©ã€ $(bc = ad)$ ï¼Œä¸¦èƒ½åˆ©ç”¨æ¯”ä¾‹å¼æ±‚è§£ã€‚èªè­˜é€£æ¯” $a:b:c$ ã€‚","grade":7},{"unit":"**ä»£æ•¸ç¬¬ä¸€ç«  ä¸€å…ƒä¸€æ¬¡æ–¹ç¨‹å¼**","title":"1.1ç¯€ ä»¥ç¬¦è™Ÿä»£è¡¨æœªçŸ¥æ•¸","content":"èƒ½ä»¥ $x, y, a$ ç­‰ç¬¦è™Ÿä»£è¡¨ç”Ÿæ´»æƒ…å¢ƒä¸­çš„æœªçŸ¥æ•¸æˆ–è®Šå‹•çš„é‡ï¼Œä¸¦ä¾é¡Œæ„åˆ—å‡ºå«æœ‰ç¬¦è™Ÿçš„ç®—å¼ï¼ˆä»£æ•¸å¼ï¼‰ã€‚","grade":7},{"unit":"**ä»£æ•¸ç¬¬ä¸€ç«  ä¸€å…ƒä¸€æ¬¡æ–¹ç¨‹å¼**","title":"1.2ç¯€ é‹ç®—å¼çš„åŒ–ç°¡","content":"ç†è§£åŒé¡é …åˆä½µçš„æ„ç¾©ï¼Œç†Ÿç·´ä¸€å…ƒä¸€æ¬¡å¼ï¼ˆå¦‚ $3x - 5 + 2x + 1$ ï¼‰çš„åŒ–ç°¡ï¼ŒåŒ…å«å»æ‹¬è™Ÿèˆ‡åˆ†é…å¾‹çš„æ‡‰ç”¨ã€‚","grade":7},{"unit":"**ä»£æ•¸ç¬¬ä¸€ç«  ä¸€å…ƒä¸€æ¬¡æ–¹ç¨‹å¼**","title":"1.3ç¯€ é‹ç®—å¼çš„å€¼","content":"èƒ½å°‡å…·é«”æ•¸å€¼ä»£å…¥ä¸€å…ƒä¸€æ¬¡å¼ä¸­ï¼Œä¸¦è¨ˆç®—å‡ºä»£æ•¸å¼çš„å€¼ã€‚","grade":7},{"unit":"**ä»£æ•¸ç¬¬ä¸€ç«  ä¸€å…ƒä¸€æ¬¡æ–¹ç¨‹å¼**","title":"1.4ç¯€ ä¸€å…ƒä¸€æ¬¡æ–¹ç¨‹å¼çš„åˆ—å¼èˆ‡è§£æ³•","content":"ç†è§£ã€Œæ–¹ç¨‹å¼ã€èˆ‡ã€Œè§£ã€çš„æ„ç¾©ã€‚èƒ½ä¾é¡Œæ„åˆ—å‡ºä¸€å…ƒä¸€æ¬¡æ–¹ç¨‹å¼ï¼Œä¸¦ç†Ÿç·´é‹ç”¨ç­‰é‡å…¬ç†èˆ‡ç§»é …æ³•å‰‡è§£æ–¹ç¨‹å¼ã€‚","grade":7},{"unit":"**ä»£æ•¸ç¬¬ä¸€ç«  ä¸€å…ƒä¸€æ¬¡æ–¹ç¨‹å¼**","title":"1.5ç¯€ ä¸€å…ƒä¸€æ¬¡æ–¹ç¨‹å¼çš„æ‡‰ç”¨","content":"èƒ½é‹ç”¨ä¸€å…ƒä¸€æ¬¡æ–¹ç¨‹å¼è§£æ±ºç”Ÿæ´»æƒ…å¢ƒä¸­çš„æ‡‰ç”¨å•é¡Œï¼ˆå¦‚åˆ†é…ã€é€Ÿç‡ã€æŠ˜æ‰£å•é¡Œï¼‰ï¼Œä¸¦æª¢é©—è§£çš„åˆç†æ€§ã€‚","grade":7},{"unit":"**ä»£æ•¸ç¬¬äºŒç«  ä¸ç­‰å¼**","title":"2.1ç¯€ åˆ—å‡ºä¸ç­‰å¼","content":"èªè­˜ä¸ç­‰è™Ÿï¼ˆ $>, <, \\\\ge, \\\\le$ ï¼‰ï¼Œä¸¦èƒ½ä¾æ“šç”Ÿæ´»æƒ…å¢ƒï¼ˆå¦‚ã€Œè¶…éã€ã€ã€Œæœªæ»¿ã€ã€ã€Œè‡³å°‘ã€ï¼‰åˆ—å‡ºä¸€å…ƒä¸€æ¬¡ä¸ç­‰å¼ã€‚","grade":9},{"unit":"**ä»£æ•¸ç¬¬äºŒç«  ä¸ç­‰å¼**","title":"2.2ç¯€ ä¸€å…ƒä¸€æ¬¡ä¸ç­‰å¼çš„è§£","content":"ç†è§£ä¸€å…ƒä¸€æ¬¡ä¸ç­‰å¼ã€Œè§£ã€çš„æ„ç¾©ï¼ˆé€šå¸¸ç‚ºä¸€å€‹ç¯„åœï¼‰ï¼Œä¸¦èƒ½åˆ¤æ–·æŸæ•¸æ˜¯å¦ç‚ºä¸ç­‰å¼çš„è§£ã€‚","grade":9},{"unit":"**ä»£æ•¸ç¬¬äºŒç«  ä¸ç­‰å¼**","title":"2.3ç¯€ ä¸€å…ƒä¸€æ¬¡ä¸ç­‰å¼çš„åœ–ç¤ºæ³•","content":"èƒ½åœ¨æ•¸ç·šä¸Šåœ–ç¤ºä¸€å…ƒä¸€æ¬¡ä¸ç­‰å¼çš„è§£ï¼ŒåŒ…å«ç©ºå¿ƒé»ï¼ˆä¸å«ç­‰è™Ÿï¼‰èˆ‡å¯¦å¿ƒé»ï¼ˆåŒ…å«ç­‰è™Ÿï¼‰ã€‚","grade":9},{"unit":"**ä»£æ•¸ç¬¬äºŒç«  ä¸ç­‰å¼**","title":"2.4ç¯€ è§£ä¸€å…ƒä¸€æ¬¡ä¸ç­‰å¼","content":"ç†Ÿç·´é‹ç”¨ä¸ç­‰å¼çš„é‹ç®—å…¬ç†ï¼ˆç§»é …ã€ç­‰é‡å…¬ç†ï¼‰ï¼Œä¸¦ç†è§£ã€ŒåŒä¹˜æˆ–åŒé™¤ä»¥ä¸€è² æ•¸æ™‚ï¼Œä¸ç­‰è™Ÿæ–¹å‘å¿…é ˆæ”¹è®Šã€çš„è¦å‰‡ã€‚","grade":9},{"unit":"**ä»£æ•¸ç¬¬äºŒç«  ä¸ç­‰å¼**","title":"2.5ç¯€ ä¸€å…ƒä¸€æ¬¡ä¸ç­‰å¼çš„æ‡‰ç”¨å•é¡Œ","content":"èƒ½é‹ç”¨ä¸€å…ƒä¸€æ¬¡ä¸ç­‰å¼è§£æ±ºç”Ÿæ´»æƒ…å¢ƒä¸­çš„æ‡‰ç”¨å•é¡Œï¼Œä¸¦ä¾é¡Œæ„è©®é‡‹è§£çš„ç¯„åœï¼ˆå¦‚å–æ•´æ•¸è§£ï¼‰ã€‚","grade":9},{"unit":"**ä»£æ•¸ç¬¬ä¸‰ç«  äºŒå…ƒä¸€æ¬¡è¯ç«‹æ–¹ç¨‹å¼**","title":"3.1ç¯€ äºŒå…ƒä¸€æ¬¡å¼","content":"èƒ½ä»¥ $x, y$ å…©å€‹ç¬¦è™Ÿä»£è¡¨æœªçŸ¥æ•¸ï¼Œä¸¦å­¸ç¿’äºŒå…ƒä¸€æ¬¡å¼çš„åŒ–ç°¡ï¼ˆåŒé¡é …åˆä½µï¼‰åŠæ±‚å€¼ã€‚","grade":7},{"unit":"**ä»£æ•¸ç¬¬ä¸‰ç«  äºŒå…ƒä¸€æ¬¡è¯ç«‹æ–¹ç¨‹å¼**","title":"3.2ç¯€ äºŒå…ƒä¸€æ¬¡æ–¹ç¨‹å¼","content":"èªè­˜äºŒå…ƒä¸€æ¬¡æ–¹ç¨‹å¼ $ax+by=c$ ï¼Œä¸¦ç†è§£å…¶è§£é€šå¸¸æœ‰ç„¡é™å¤šçµ„ï¼Œèƒ½åœ¨åæ¨™å¹³é¢ä¸Šæç¹ªå…¶åœ–å½¢ï¼ˆç›´ç·šï¼‰ã€‚","grade":7},{"unit":"**ä»£æ•¸ç¬¬ä¸‰ç«  äºŒå…ƒä¸€æ¬¡è¯ç«‹æ–¹ç¨‹å¼**","title":"3.3ç¯€ äºŒå…ƒä¸€æ¬¡è¯ç«‹æ–¹ç¨‹å¼","content":"ç†è§£äºŒå…ƒä¸€æ¬¡è¯ç«‹æ–¹ç¨‹å¼çš„æ„ç¾©ï¼Œä¸¦çŸ¥é“å…¶è§£ç‚ºåŒæ™‚æ»¿è¶³æ‰€æœ‰æ–¹ç¨‹å¼çš„ $(x, y)$ æ•¸å°ã€‚","grade":7},{"unit":"**ä»£æ•¸ç¬¬ä¸‰ç«  äºŒå…ƒä¸€æ¬¡è¯ç«‹æ–¹ç¨‹å¼**","title":"3.4ç¯€ ä»£å…¥æ¶ˆå»æ³•æ±‚è§£äºŒå…ƒä¸€æ¬¡è¯ç«‹æ–¹ç¨‹å¼","content":"ç†Ÿç·´é‹ç”¨ã€Œä»£å…¥æ¶ˆå»æ³•ã€å°‡äºŒå…ƒå•é¡Œè½‰åŒ–ç‚ºä¸€å…ƒå•é¡Œï¼Œä»¥æ±‚è§£è¯ç«‹æ–¹ç¨‹å¼ã€‚","grade":7},{"unit":"**ä»£æ•¸ç¬¬ä¸‰ç«  äºŒå…ƒä¸€æ¬¡è¯ç«‹æ–¹ç¨‹å¼**","title":"3.5ç¯€ åŠ æ¸›æ¶ˆå»æ³•æ±‚è§£äºŒå…ƒä¸€æ¬¡è¯ç«‹æ–¹ç¨‹å¼","content":"ç†Ÿç·´é‹ç”¨ã€ŒåŠ æ¸›æ¶ˆå»æ³•ã€ï¼ˆé€éä¿‚æ•¸èª¿æ•´ï¼‰æ¶ˆå»å…¶ä¸­ä¸€å€‹æœªçŸ¥æ•¸ï¼Œä»¥æ±‚è§£è¯ç«‹æ–¹ç¨‹å¼ã€‚","grade":7},{"unit":"**ä»£æ•¸ç¬¬ä¸‰ç«  äºŒå…ƒä¸€æ¬¡è¯ç«‹æ–¹ç¨‹å¼**","title":"3.6ç¯€ è¯ç«‹ä¸ç­‰å¼","content":"æ±‚è§£ä¸€å…ƒä¸€æ¬¡è¯ç«‹ä¸ç­‰å¼ï¼Œä¸¦èƒ½åœ¨æ•¸ç·šä¸Šåœ–ç¤ºå…¶è§£ï¼ˆå³æ»¿è¶³æ‰€æœ‰ä¸ç­‰å¼çš„å…±åŒç¯„åœï¼‰ã€‚","grade":9},{"unit":"**ä»£æ•¸ç¬¬ä¸‰ç«  äºŒå…ƒä¸€æ¬¡è¯ç«‹æ–¹ç¨‹å¼**","title":"3.7ç¯€ äºŒå…ƒä¸€æ¬¡è¯ç«‹æ–¹ç¨‹å¼çš„ç¶œåˆé¡Œèˆ‡æ‡‰ç”¨é¡Œ","content":"èƒ½ä¾æ“šç”Ÿæ´»æƒ…å¢ƒï¼ˆå¦‚è²·è³£ã€é€Ÿç‡ã€å¹´é½¡å•é¡Œï¼‰åˆ—å‡ºäºŒå…ƒä¸€æ¬¡è¯ç«‹æ–¹ç¨‹å¼ï¼Œä¸¦æ±‚è§£èˆ‡æª¢é©—ç­”æ¡ˆçš„åˆç†æ€§ã€‚","grade":7},{"unit":"**ä»£æ•¸ç¬¬å››ç«  ç›´è§’åº§æ¨™èˆ‡äºŒå…ƒä¸€æ¬¡æ–¹ç¨‹å¼**","title":"4.1ç¯€ å¹³é¢ä¸Šçš„ç›´è§’åº§æ¨™","content":"èªè­˜ç›´è§’åæ¨™å¹³é¢ï¼ˆ $x$ è»¸ã€$y$ è»¸ã€åŸé»ã€è±¡é™ï¼‰ï¼Œä¸¦èƒ½æ¨™ç¤ºé» $P(a, b)$ çš„ä½ç½®åŠè®€å–åæ¨™ã€‚","grade":7},{"unit":"**ä»£æ•¸ç¬¬å››ç«  ç›´è§’åº§æ¨™èˆ‡äºŒå…ƒä¸€æ¬¡æ–¹ç¨‹å¼**","title":"4.2ç¯€ äºŒå…ƒä¸€æ¬¡æ–¹ç¨‹å¼çš„åœ–å½¢","content":"ç†è§£äºŒå…ƒä¸€æ¬¡æ–¹ç¨‹å¼ $ax+by=c$ çš„åœ–å½¢ç‚ºä¸€æ¢ç›´ç·šã€‚èƒ½åˆ©ç”¨æé»æ³•ï¼ˆè‡³å°‘å…©é»ï¼‰ç¹ªè£½ç›´ç·šåœ–å½¢ï¼Œä¸¦èªè­˜æ°´å¹³ç·šï¼ˆ $y=k$ ï¼‰èˆ‡å‚ç›´ç·šï¼ˆ $x=h$ ï¼‰ã€‚","grade":7},{"unit":"**ä»£æ•¸ç¬¬å››ç«  ç›´è§’åº§æ¨™èˆ‡äºŒå…ƒä¸€æ¬¡æ–¹ç¨‹å¼**","title":"4.3ç¯€ ç›´è§’åº§æ¨™çš„æ‡‰ç”¨é¡Œèˆ‡ç¶œåˆé¡Œ","content":"èƒ½é‹ç”¨ç›´è§’åæ¨™è¡¨ç¤ºä½ç½®ï¼Œä¸¦è¨ˆç®—åæ¨™å¹³é¢ä¸Šå…©é»é–“çš„è·é›¢ï¼ˆé™æ°´å¹³æˆ–å‚ç›´è·é›¢ï¼‰ï¼Œä»¥åŠæ‡‰ç”¨æ–¼ç°¡æ˜“å¹¾ä½•åœ–å½¢ï¼ˆå¦‚å‘¨é•·ã€é¢ç©ï¼‰ã€‚","grade":7},{"unit":"**ä»£æ•¸ç¬¬äº”ç«  å¤šé …å¼**","title":"5.1ç¯€ å¤šé …å¼","content":"èªè­˜ $x$ çš„å¤šé …å¼ï¼ŒåŒ…å«é …ã€ä¿‚æ•¸ã€æ¬¡æ•¸ã€å¸¸æ•¸é …ã€‚å­¸ç¿’å¤šé …å¼çš„å‡å†ªèˆ‡é™å†ªæ’åˆ—ã€‚","grade":8},{"unit":"**ä»£æ•¸ç¬¬äº”ç«  å¤šé …å¼**","title":"5.2ç¯€ å¤šé …å¼çš„å››å‰‡é‹ç®—","content":"ç†Ÿç·´å¤šé …å¼çš„åŠ æ³•ã€æ¸›æ³•ï¼ˆåŒé¡é …åˆä½µï¼‰èˆ‡ä¹˜æ³•ï¼ˆåˆ†é…å¾‹ï¼‰ã€‚ç†è§£å¤šé …å¼é™¤æ³•ï¼ˆé•·é™¤æ³•ï¼‰ï¼Œä¸¦çŸ¥é“ $A = B \\\\times Q + R$ çš„é—œä¿‚ï¼ˆ $A, B, Q, R$ ç‚ºå¤šé …å¼ï¼Œ $B \\\\neq 0$ ï¼‰ã€‚","grade":8},{"unit":"**ä»£æ•¸ç¬¬äº”ç«  å¤šé …å¼**","title":"5.3ç¯€ å¤šé …å¼çš„ä¹˜æ³•å…¬å¼","content":"ç†Ÿç·´ä¸¦æ‡‰ç”¨ä¹˜æ³•å…¬å¼ï¼šï¼ˆ $a+b)^2 = a^2 + 2ab + b^2$ ï¼Œ $(a-b)^2 = a^2 - 2ab + b^2$ ï¼Œ $(a+b)(a-b) = a^2 - b^2$ ã€‚","grade":8},{"unit":"**ä»£æ•¸ç¬¬äº”ç«  å¤šé …å¼**","title":"5.4ç¯€ ä¹˜æ³•å…¬å¼åœ¨æ ¹è™Ÿçš„æ‡‰ç”¨","content":"èƒ½é‹ç”¨ä¹˜æ³•å…¬å¼å”åŠ©æ ¹å¼çš„é‹ç®—ï¼Œç‰¹åˆ¥æ˜¯åˆ†æ¯æœ‰ç†åŒ–ï¼ˆå¦‚ $1/(\\\\sqrt{a}+\\\\sqrt{b})$ ï¼‰ã€‚","grade":8},{"unit":"**ä»£æ•¸ç¬¬äº”ç«  å¤šé …å¼**","title":"5.5ç¯€ å¤šé …å¼èˆ‡ä¹˜æ³•å…¬å¼çš„æ‡‰ç”¨é¡Œèˆ‡ç¶œåˆé¡Œ","content":"èƒ½é‹ç”¨å¤šé …å¼é‹ç®—èˆ‡ä¹˜æ³•å…¬å¼ç°¡åŒ–è¨ˆç®—ï¼Œæˆ–è§£æ±ºå¹¾ä½•åœ–å½¢ï¼ˆé¢ç©ã€é«”ç©ï¼‰çš„æ‡‰ç”¨å•é¡Œã€‚","grade":8},{"unit":"**ä»£æ•¸ç¬¬å…­ç«  å› å¼åˆ†è§£**","title":"6.1ç¯€ åˆ©ç”¨é•·é™¤æ³•åˆ¤åˆ¥å› å¼èˆ‡å› å¼åˆ†è§£","content":"ç†è§£å› å¼èˆ‡å€å¼çš„æ„ç¾©ã€‚èƒ½åˆ©ç”¨é•·é™¤æ³•åˆ¤æ–·ä¸€å€‹å¤šé …å¼æ˜¯å¦ç‚ºå¦ä¸€å€‹å¤šé …å¼çš„å› å¼ï¼ˆé¤˜å¼ç‚º 0ï¼‰ã€‚","grade":8},{"unit":"**ä»£æ•¸ç¬¬å…­ç«  å› å¼åˆ†è§£**","title":"6.2ç¯€ æå‡ºå…¬å› å¼åšå› å¼åˆ†è§£","content":"ç†Ÿç·´é‹ç”¨ã€Œæå‡ºå…¬å› å¼æ³•ã€é€²è¡Œå¤šé …å¼çš„å› å¼åˆ†è§£ï¼ŒåŒ…å«å–®é …å…¬å› å¼èˆ‡å¤šé …å¼å…¬å› å¼ï¼ˆåˆ†çµ„æå‡ºï¼‰ã€‚","grade":8},{"unit":"**ä»£æ•¸ç¬¬å…­ç«  å› å¼åˆ†è§£**","title":"6.3ç¯€ åˆ©ç”¨ä¹˜æ³•å…¬å¼åšå› å¼åˆ†è§£","content":"ç†Ÿç·´é‹ç”¨ä¹˜æ³•å…¬å¼ï¼ˆå¹³æ–¹å·® $a^2 - b^2$ ã€å®Œå…¨å¹³æ–¹å’Œ $a^2 + 2ab + b^2$ ã€å®Œå…¨å¹³æ–¹å·® $a^2 - 2ab + b^2$ ï¼‰é€²è¡Œå¤šé …å¼çš„å› å¼åˆ†è§£ã€‚","grade":8},{"unit":"**ä»£æ•¸ç¬¬å…­ç«  å› å¼åˆ†è§£**","title":"6.4ç¯€ åˆ©ç”¨åå­—äº¤ä¹˜æ³•åšå› å¼åˆ†è§£","content":"ç†Ÿç·´é‹ç”¨ã€Œåå­—äº¤ä¹˜æ³•ã€å°‡ $x^2 + px + q$ æˆ– $ax^2 + bx + c$ å‹æ…‹çš„å¤šé …å¼é€²è¡Œå› å¼åˆ†è§£ã€‚","grade":8},{"unit":"**ä»£æ•¸ç¬¬ä¸ƒç«  ä¸€å…ƒäºŒæ¬¡æ–¹ç¨‹å¼çš„è§£æ³•**","title":"7.1ç¯€ èªè­˜ä¸€å…ƒäºŒæ¬¡æ–¹ç¨‹å¼","content":"èªè­˜ä¸€å…ƒäºŒæ¬¡æ–¹ç¨‹å¼ $ax^2+bx+c=0$ ( $a \\\\neq 0$ )ï¼Œä¸¦ç†è§£å…¶ã€Œè§£ã€ï¼ˆæˆ–æ ¹ï¼‰çš„æ„ç¾©ã€‚","grade":8},{"unit":"**ä»£æ•¸ç¬¬ä¸ƒç«  ä¸€å…ƒäºŒæ¬¡æ–¹ç¨‹å¼çš„è§£æ³•**","title":"7.2ç¯€ ç”¨å› å¼åˆ†è§£è§£ä¸€å…ƒäºŒæ¬¡æ–¹ç¨‹å¼","content":"èƒ½åˆ©ç”¨å› å¼åˆ†è§£ï¼ˆæå…¬å› å¼ã€ä¹˜æ³•å…¬å¼ã€åå­—äº¤ä¹˜ï¼‰é…åˆ $A \\\\times B = 0 \\\\implies A=0$ æˆ– $B=0$ çš„åŸå‰‡ï¼Œæ±‚è§£ä¸€å…ƒäºŒæ¬¡æ–¹ç¨‹å¼ã€‚","grade":8},{"unit":"**ä»£æ•¸ç¬¬ä¸ƒç«  ä¸€å…ƒäºŒæ¬¡æ–¹ç¨‹å¼çš„è§£æ³•**","title":"7.3ç¯€ ç”¨é…æ–¹æ³•è§£ä¸€å…ƒäºŒæ¬¡æ–¹ç¨‹å¼","content":"ç†è§£ã€Œé…æ–¹æ³•ã€çš„åŸç†ï¼ˆé…æˆå®Œå…¨å¹³æ–¹å¼ï¼‰ï¼Œä¸¦èƒ½é‹ç”¨é…æ–¹æ³•æ±‚è§£ä¸€å…ƒäºŒæ¬¡æ–¹ç¨‹å¼ã€‚","grade":8},{"unit":"**ä»£æ•¸ç¬¬ä¸ƒç«  ä¸€å…ƒäºŒæ¬¡æ–¹ç¨‹å¼çš„è§£æ³•**","title":"7.4ç¯€ ä¸€å…ƒäºŒæ¬¡æ–¹ç¨‹å¼çš„å…¬å¼è§£","content":"èƒ½æ¨å°ä¸¦ç†Ÿç·´æ‡‰ç”¨ä¸€å…ƒäºŒæ¬¡æ–¹ç¨‹å¼çš„å…¬å¼è§£ $x = (-b \\\\pm \\\\sqrt{b^2-4ac}) / 2a$ ã€‚ä¸¦èƒ½åˆ©ç”¨åˆ¤åˆ¥å¼ $b^2-4ac$ åˆ¤æ–·è§£çš„æ€§è³ªï¼ˆå…©ç›¸ç•°å¯¦æ ¹ã€é‡æ ¹ã€ç„¡å¯¦æ ¹ï¼‰ã€‚","grade":8},{"unit":"**ä»£æ•¸ç¬¬å…«ç«  ä¸€æ¬¡å‡½æ•¸**","title":"8.1ç¯€ è®Šæ•¸èˆ‡å‡½æ•¸","content":"èªè­˜è®Šæ•¸ï¼ˆè‡ªè®Šæ•¸ $x$ ï¼‰èˆ‡æ‡‰è®Šæ•¸ï¼ˆ $y$ ï¼‰ã€‚ç†è§£å‡½æ•¸çš„å®šç¾©ï¼šå°æ–¼æ¯ä¸€å€‹ $x$ å€¼ï¼Œéƒ½æ°å¥½æœ‰ä¸€å€‹ $y$ å€¼èˆ‡ä¹‹å°æ‡‰ã€‚å­¸ç¿’å‡½æ•¸ $f(x)$ çš„è¨˜è™Ÿï¼Œä¸¦èƒ½è¨ˆç®—å‡½æ•¸å€¼ã€‚","grade":9},{"unit":"**ä»£æ•¸ç¬¬å…«ç«  ä¸€æ¬¡å‡½æ•¸**","title":"8.2ç¯€ ä¸€æ¬¡å‡½æ•¸çš„åœ–å½¢","content":"èªè­˜ç·šå‹å‡½æ•¸ $y=f(x)=ax+b$ ï¼ŒåŒ…å«ä¸€æ¬¡å‡½æ•¸ï¼ˆ $a \\\\neq 0$ ï¼‰èˆ‡å¸¸æ•¸å‡½æ•¸ï¼ˆ $a=0$ ï¼‰ã€‚ç†è§£å…¶åœ–å½¢ç‚ºä¸€ç›´ç·šï¼Œä¸¦èƒ½ç¹ªè£½å…¶åœ–å½¢ã€‚","grade":9},{"unit":"**ä»£æ•¸ç¬¬å…«ç«  ä¸€æ¬¡å‡½æ•¸**","title":"8.3ç¯€ ä¸€æ¬¡å‡½æ•¸çš„æ‡‰ç”¨","content":"èƒ½ä¾æ“šç”Ÿæ´»æƒ…å¢ƒï¼ˆå¦‚è¨ˆç¨‹è»Šè²»ç‡ã€æº«åº¦è½‰æ›ã€åˆ†æ®µå‡½æ•¸ï¼‰åˆ—å‡ºä¸€æ¬¡å‡½æ•¸ï¼Œä¸¦åˆ©ç”¨å‡½æ•¸åœ–å½¢æˆ–ä»£æ•¸æ–¹æ³•è§£æ±ºå•é¡Œã€‚","grade":9},{"unit":"**ä»£æ•¸ç¬¬ä¹ç«  äºŒæ¬¡å‡½æ•¸**","title":"9.1ç¯€ äºŒæ¬¡å‡½æ•¸åŠå…¶åœ–å½¢","content":"èªè­˜äºŒæ¬¡å‡½æ•¸ $y=ax^2+bx+c$ ( $a \\\\neq 0$ )ã€‚ç†è§£å…¶åœ–å½¢ç‚ºæ‹‹ç‰©ç·šï¼Œä¸¦èªè­˜é–‹å£æ–¹å‘ï¼ˆç”± $a$ æ±ºå®šï¼‰ã€é ‚é»ã€å°ç¨±è»¸ã€‚","grade":9},{"unit":"**ä»£æ•¸ç¬¬ä¹ç«  äºŒæ¬¡å‡½æ•¸**","title":"9.2ç¯€ äºŒæ¬¡å‡½æ•¸åœ–å½¢çš„ç§»å‹•","content":"ç†è§£ $y=a(x-h)^2+k$ çš„åœ–å½¢èˆ‡ $y=ax^2$ åœ–å½¢çš„å¹³ç§»é—œä¿‚ï¼ˆé ‚é» $(h, k)$ ï¼Œå°ç¨±è»¸ $x=h$ ï¼‰ã€‚èƒ½åˆ©ç”¨é…æ–¹æ³•å°‡ $y=ax^2+bx+c$ è½‰æ›ç‚ºé ‚é»å¼ã€‚","grade":9},{"unit":"**ä»£æ•¸ç¬¬ä¹ç«  äºŒæ¬¡å‡½æ•¸**","title":"9.3ç¯€ äºŒæ¬¡å‡½æ•¸çš„æœ€å¤§å€¼èˆ‡æœ€å°å€¼","content":"èƒ½åˆ©ç”¨äºŒæ¬¡å‡½æ•¸çš„é ‚é»åæ¨™ï¼Œåˆ¤æ–·å‡½æ•¸åœ¨ $x$ ç‚ºä»»æ„å¯¦æ•¸æ™‚çš„æœ€å¤§å€¼ï¼ˆ $a<0$ ï¼‰æˆ–æœ€å°å€¼ï¼ˆ $a>0$ ï¼‰ã€‚","grade":9},{"unit":"**ä»£æ•¸ç¬¬ä¹ç«  äºŒæ¬¡å‡½æ•¸**","title":"9.4ç¯€ äºŒæ¬¡å‡½æ•¸çš„ç¶œåˆé¡Œèˆ‡æ‡‰ç”¨é¡Œ","content":"èƒ½é‹ç”¨äºŒæ¬¡å‡½æ•¸ï¼ˆé…æ–¹æ³•ã€æ±‚é ‚é»ï¼‰è§£æ±ºç”Ÿæ´»æƒ…å¢ƒä¸­çš„æœ€å¤§å€¼æˆ–æœ€å°å€¼å•é¡Œï¼ˆå¦‚éŠ·å”®åˆ©æ½¤ã€æŠ•æ“²ç‰©é«”è·¯å¾‘ã€å¹¾ä½•é¢ç©ï¼‰ã€‚","grade":9},{"unit":"**ä»£æ•¸ç¬¬åç«  ç­‰å·®æ•¸åˆ—**","title":"10.1ç¯€ ç­‰å·®æ•¸åˆ—","content":"èªè­˜æ•¸åˆ—ï¼Œä¸¦ç†è§£ç­‰å·®æ•¸åˆ—çš„å®šç¾©ï¼ˆå…¬å·® $d$ ï¼‰ã€‚èƒ½ç†Ÿç·´é‹ç”¨ç¬¬ $n$ é …å…¬å¼ $a_n = a_1 + (n-1)d$ æ±‚è§£ç›¸é—œå•é¡Œï¼ˆå«ç­‰å·®ä¸­é …ï¼‰ã€‚","grade":9},{"unit":"**ä»£æ•¸ç¬¬åç«  ç­‰å·®æ•¸åˆ—**","title":"10.2ç¯€ ç­‰å·®ç´šæ•¸","content":"èªè­˜ç´šæ•¸ï¼ˆæ•¸åˆ—æ±‚å’Œï¼‰ã€‚ç†è§£ç­‰å·®ç´šæ•¸çš„æ„ç¾©ï¼Œä¸¦ç†Ÿç·´é‹ç”¨å‰ $n$ é …å’Œå…¬å¼ $S_n = n(a_1+a_n)/2 = n[2a_1+(n-1)d]/2$ ã€‚","grade":9},{"unit":"**ä»£æ•¸ç¬¬åç«  ç­‰å·®æ•¸åˆ—**","title":"10.3ç¯€ ç­‰å·®æ•¸åˆ—çš„æ‡‰ç”¨","content":"èƒ½é‹ç”¨ç­‰å·®æ•¸åˆ—èˆ‡ç­‰å·®ç´šæ•¸å…¬å¼ï¼Œè§£æ±ºç”Ÿæ´»æƒ…å¢ƒä¸­çš„æ‡‰ç”¨å•é¡Œï¼ˆå¦‚åº§ä½æ’åˆ—ã€è¦å¾‹åœ–å½¢ã€é€£çºŒæ•´æ•¸å’Œï¼‰ã€‚","grade":9},{"unit":"**å¹¾ä½•ç¬¬ä¸€ç«  å¹¾ä½•åŸºæœ¬å…ƒç´ **","title":"1.1 ç¯€ é»èˆ‡ç·š","content":"èªè­˜å¹¾ä½•ä¸­çš„åŸºæœ¬å…ƒç´ ï¼šé»ã€ç·šï¼ˆç›´ç·šã€å°„ç·šã€ç·šæ®µï¼‰ã€é¢ã€‚ç†è§£ã€Œå…©é»æ±ºå®šä¸€ç›´ç·šã€ã€ã€Œä¸‰é»å…±ç·šã€ç­‰åŸºæœ¬æ¦‚å¿µã€‚","grade":8},{"unit":"**å¹¾ä½•ç¬¬ä¸€ç«  å¹¾ä½•åŸºæœ¬å…ƒç´ **","title":"1.2 ç¯€ è§’","content":"èªè­˜è§’çš„çµ„æˆï¼ˆé ‚é»ã€é‚Šï¼‰ã€‚ç†è§£è§’çš„åº¦é‡ï¼ˆåº¦ï¼‰ï¼Œä¸¦èƒ½åˆ†é¡è§’ï¼šéŠ³è§’ã€ç›´è§’ã€éˆè§’ã€å¹³è§’ã€å‘¨è§’ã€‚","grade":8},{"unit":"**å¹¾ä½•ç¬¬ä¸€ç«  å¹¾ä½•åŸºæœ¬å…ƒç´ **","title":"1.3 ç¯€ è§’èˆ‡è§’ä¹‹é–“çš„é—œä¿‚","content":"ç†è§£ä¸¦æ‡‰ç”¨ã€Œé¤˜è§’ã€ï¼ˆå…©è§’å’Œ 90Â°ï¼‰ã€ã€Œè£œè§’ã€ï¼ˆå…©è§’å’Œ 180Â°ï¼‰èˆ‡ã€Œå°é ‚è§’ã€çš„å®šç¾©èˆ‡æ€§è³ªã€‚","grade":8},{"unit":"**å¹¾ä½•ç¬¬ä¸€ç«  å¹¾ä½•åŸºæœ¬å…ƒç´ **","title":"1.5 ç¯€ å¹¾ä½•å­¸çš„åŸºæœ¬å…¬ç†","content":"èªè­˜å¹¾ä½•è«–è­‰çš„åŸºæœ¬æ¦‚å¿µï¼Œå¦‚æ­å¹¾é‡Œå¾—å…¬è¨­ï¼ˆå¦‚éç·šå¤–ä¸€é»èƒ½ä½œå”¯ä¸€å¹³è¡Œç·šï¼‰èˆ‡åŸºæœ¬å…¬ç†ï¼ˆå¦‚å…©é»æ±ºå®šç›´ç·šï¼‰ã€‚","grade":8},{"unit":"**å¹¾ä½•ç¬¬ä¸€ç«  å¹¾ä½•åŸºæœ¬å…ƒç´ **","title":"1.6 ç¯€ æœ‰é—œè§’çš„ä¸€äº›åŸºæœ¬å®šç†","content":"èƒ½åˆ©ç”¨å®šç¾©æˆ–å…¬ç†è­‰æ˜ã€Œå°é ‚è§’ç›¸ç­‰ã€åŠã€Œå¹³è§’çš„è£œè§’ã€ç­‰åŸºæœ¬æ€§è³ªã€‚","grade":8},{"unit":"**å¹¾ä½•ç¬¬ä¸€ç«  å¹¾ä½•åŸºæœ¬å…ƒç´ **","title":"1.7 ç¯€ åœ“","content":"èªè­˜åœ“çš„åŸºæœ¬å®šç¾©ï¼ˆåœ“å¿ƒã€åŠå¾‘ã€ç›´å¾‘ã€å¼¦ã€å¼§ã€åœ“å‘¨ï¼‰ã€‚ç†è§£åœ“å¿ƒè§’èˆ‡å…¶æ‰€å°æ‡‰çš„å¼§é•·ã€æ‰‡å½¢é¢ç©çš„é—œä¿‚ã€‚","grade":9},{"unit":"**å¹¾ä½•ç¬¬äºŒç«  ä¸‰è§’å½¢**","title":"2.1ç¯€ ä¸‰è§’å½¢çš„é‡è¦åŸºæœ¬è§€å¿µ","content":"èªè­˜ä¸‰è§’å½¢çš„å…§è§’ã€å¤–è§’ã€å…§å°è§’ã€‚èƒ½ä¾é‚Šé•·ï¼ˆç­‰è…°ã€æ­£ä¸‰è§’å½¢ï¼‰æˆ–å…§è§’ï¼ˆéŠ³è§’ã€ç›´è§’ã€éˆè§’ï¼‰å°‡ä¸‰è§’å½¢åˆ†é¡ã€‚","grade":8},{"unit":"**å¹¾ä½•ç¬¬äºŒç«  ä¸‰è§’å½¢**","title":"2.2ç¯€ å…©é‚Šå¤¾ä¸€è§’ä¸‰è§’å½¢å…¨ç­‰å®šç† ï¼ˆS.A.S.ä¸‰è§’å½¢å…¨ç­‰å®šç†ï¼‰","content":"ç†è§£ä¸¦æ‡‰ç”¨ SAS ä¸‰è§’å½¢å…¨ç­‰æ€§è³ªï¼Œé€²è¡Œå¹¾ä½•æ¨ç†èˆ‡è­‰æ˜ã€‚","grade":8},{"unit":"**å¹¾ä½•ç¬¬äºŒç«  ä¸‰è§’å½¢**","title":"2.3ç¯€ å…©è§’å¤¾ä¸€é‚Šä¸‰è§’å½¢å…¨ç­‰å®šç† ï¼ˆA.S.A. ä¸‰è§’å½¢å…¨ç­‰å®šç†ï¼‰","content":"ç†è§£ä¸¦æ‡‰ç”¨ ASA ä¸‰è§’å½¢å…¨ç­‰æ€§è³ªï¼Œé€²è¡Œå¹¾ä½•æ¨ç†èˆ‡è­‰æ˜ã€‚","grade":8},{"unit":"**å¹¾ä½•ç¬¬äºŒç«  ä¸‰è§’å½¢**","title":"2.4ç¯€ S. S. S.ä¸‰è§’å½¢å…¨ç­‰å®šç†","content":"ç†è§£ä¸¦æ‡‰ç”¨ SSS ä¸‰è§’å½¢å…¨ç­‰æ€§è³ªï¼Œé€²è¡Œå¹¾ä½•æ¨ç†èˆ‡è­‰æ˜ã€‚","grade":8},{"unit":"**å¹¾ä½•ç¬¬äºŒç«  ä¸‰è§’å½¢**","title":"2.5ç¯€ ä¸‰è§’å½¢çš„é‚Šè§’é—œä¿‚","content":"ç†è§£ä¸‰è§’å½¢ä¸‰é‚Šé•·çš„é—œä¿‚ï¼ˆå…©é‚Šä¹‹å’Œå¤§æ–¼ç¬¬ä¸‰é‚Šï¼Œå…©é‚Šä¹‹å·®å°æ–¼ç¬¬ä¸‰é‚Šï¼‰ã€‚ç†è§£ã€Œå¤§é‚Šå°å¤§è§’ã€èˆ‡ã€Œå¤§è§’å°å¤§é‚Šã€çš„æ€§è³ªã€‚","grade":8},{"unit":"**å¹¾ä½•ç¬¬ä¸‰ç«  å‚ç›´ç·šèˆ‡å¹³è¡Œç·š**","title":"3.1 ç¯€ å‚ç›´ç·š","content":"èªè­˜å‚ç›´ç·šçš„å®šç¾©ï¼ˆäº¤è§’ 90Â°ï¼‰ã€‚ç†è§£ã€Œå‚è¶³ã€ã€ã€Œé»åˆ°ç›´ç·šçš„è·é›¢ã€ï¼ˆå‚ç·šæ®µæœ€çŸ­ï¼‰ã€‚","grade":8},{"unit":"**å¹¾ä½•ç¬¬ä¸‰ç«  å‚ç›´ç·šèˆ‡å¹³è¡Œç·š**","title":"3.2 ç¯€ å¹³è¡Œç·š","content":"èªè­˜å¹³è¡Œç·šçš„å®šç¾©ã€‚ç†è§£æˆªç·šæ‰€å½¢æˆçš„ã€ŒåŒä½è§’ã€ã€ã€Œå…§éŒ¯è§’ã€ã€ã€ŒåŒå´å…§è§’ã€çš„æ„ç¾©ï¼Œä¸¦ç†Ÿç·´å¹³è¡Œç·šçš„åˆ¤åˆ¥æ€§è³ªèˆ‡æˆªè§’æ€§è³ªã€‚","grade":8},{"unit":"**å¹¾ä½•ç¬¬ä¸‰ç«  å‚ç›´ç·šèˆ‡å¹³è¡Œç·š**","title":"3.3 ç¯€ å°ç¨±åœ–å½¢","content":"èªè­˜ç·šå°ç¨±åœ–å½¢çš„æ„ç¾©ï¼Œç†è§£ã€Œå°ç¨±è»¸ã€èˆ‡ã€Œå°ç¨±é»ã€çš„é—œä¿‚ã€‚èƒ½åˆ¤æ–·åŸºæœ¬åœ–å½¢ï¼ˆå¦‚ç­‰è…°ä¸‰è§’å½¢ã€ç®å½¢ã€è±å½¢ï¼‰çš„å°ç¨±è»¸ã€‚","grade":8},{"unit":"**å¹¾ä½•ç¬¬å››ç«  æ›´å¤šä¸‰è§’å½¢çš„æ€§è³ª**","title":"4.1 ç¯€ ä¸‰è§’å½¢ä¸‰å…§è§’ä¹‹å’Œ","content":"èƒ½è­‰æ˜ä¸¦æ‡‰ç”¨ã€Œä¸‰è§’å½¢å…§è§’å’Œç‚º 180Â°ã€ä»¥åŠã€Œä¸‰è§’å½¢çš„å¤–è§’ç­‰æ–¼å…¶å…©å…§å°è§’ä¹‹å’Œã€ã€‚èªè­˜ AAS å…¨ç­‰æ€§è³ªã€‚","grade":8},{"unit":"**å¹¾ä½•ç¬¬å››ç«  æ›´å¤šä¸‰è§’å½¢çš„æ€§è³ª**","title":"4.2 ç¯€ æœ‰é—œç›´è§’ä¸‰è§’å½¢çš„å®šç†ï¼ˆR. H. S.å®šç†ï¼‰","content":"ç†è§£ä¸¦æ‡‰ç”¨ RHS ç›´è§’ä¸‰è§’å½¢å…¨ç­‰æ€§è³ªã€‚èªè­˜ 30Â°-60Â°-90Â° èˆ‡ 45Â°-45Â°-90Â° ç‰¹æ®Šç›´è§’ä¸‰è§’å½¢çš„é‚Šé•·æ¯”ä¾‹é—œä¿‚ã€‚","grade":8},{"unit":"**å¹¾ä½•ç¬¬å››ç«  æ›´å¤šä¸‰è§’å½¢çš„æ€§è³ª**","title":"4.3 ç¯€ ä¸‰è§’å½¢çš„å¿ƒ","content":"èªè­˜ä¸‰è§’å½¢çš„ã€Œå¤–å¿ƒã€ï¼ˆä¸‰é‚Šä¸­å‚ç·šäº¤é»ï¼‰ã€ã€Œå…§å¿ƒã€ï¼ˆä¸‰å…§è§’å¹³åˆ†ç·šäº¤é»ï¼‰ã€ã€Œé‡å¿ƒã€ï¼ˆä¸‰ä¸­ç·šäº¤é»ï¼‰çš„å®šç¾©ã€ä½ç½®èˆ‡ç›¸é—œæ€§è³ªï¼ˆå¦‚å¤–æ¥åœ“ã€å…§åˆ‡åœ“ã€é‡å¿ƒ2:1ï¼‰ã€‚","grade":9},{"unit":"**å¹¾ä½•ç¬¬äº”ç«  å¹¾ä½•ä½œåœ–**","title":"5.1 ç¯€ å¹³åˆ†ä½œåœ–","content":"èƒ½åˆ©ç”¨å°ºè¦ä½œåœ–ï¼Œå®Œæˆã€Œè§’å¹³åˆ†ç·šã€ä½œåœ–ã€‚","grade":8},{"unit":"**å¹¾ä½•ç¬¬äº”ç«  å¹¾ä½•ä½œåœ–**","title":"5.2 ç¯€ å‚ç›´ç·šä½œåœ–","content":"èƒ½åˆ©ç”¨å°ºè¦ä½œåœ–ï¼Œå®Œæˆã€Œä¸­å‚ç·šã€ï¼ˆå‚ç›´å¹³åˆ†ç·šï¼‰ä½œåœ–ï¼Œä»¥åŠã€Œéç·šä¸Šä¸€é»ä½œå‚ç·šã€èˆ‡ã€Œéç·šå¤–ä¸€é»ä½œå‚ç·šã€ã€‚","grade":8},{"unit":"**å¹¾ä½•ç¬¬äº”ç«  å¹¾ä½•ä½œåœ–**","title":"5.3 ç¯€ å¹³è¡Œç·šä½œåœ–","content":"èƒ½åˆ©ç”¨å°ºè¦ä½œåœ–ï¼Œå®Œæˆã€Œéç·šå¤–ä¸€é»ä½œå¹³è¡Œç·šã€ä½œåœ–ã€‚","grade":8},{"unit":"**å¹¾ä½•ç¬¬äº”ç«  å¹¾ä½•ä½œåœ–**","title":"5.4 ç¯€ ä¸‰è§’å½¢ä½œåœ–","content":"èƒ½åˆ©ç”¨å°ºè¦ä½œåœ–ï¼Œä¾æ“š SSS, SAS, ASA æ¢ä»¶ä½œå‡ºå…¨ç­‰çš„ä¸‰è§’å½¢ã€‚","grade":8},{"unit":"**å¹¾ä½•ç¬¬äº”ç«  å¹¾ä½•ä½œåœ–**","title":"5.5 ç¯€ å°ç¨±åœ–å½¢ä½œåœ–","content":"èƒ½åˆ©ç”¨å°ºè¦ä½œåœ–ï¼Œä½œå‡ºä¸€å€‹é»é—œæ–¼ä¸€æ¢ç›´ç·šçš„å°ç¨±é»ï¼Œä¸¦å®Œæˆç·šå°ç¨±åœ–å½¢çš„ä½œåœ–ã€‚","grade":8},{"unit":"**å¹¾ä½•ç¬¬å…­ç«  å¤šé‚Šå½¢**","title":"6.1 ç¯€ å››é‚Šå½¢","content":"èªè­˜å‡¸å››é‚Šå½¢ï¼Œä¸¦ä¾é‚Šã€è§’ã€å°è§’ç·šæ€§è³ªèªè­˜ç‰¹æ®Šå››é‚Šå½¢ï¼ˆå¹³è¡Œå››é‚Šå½¢ã€çŸ©å½¢ã€è±å½¢ã€æ­£æ–¹å½¢ã€æ¢¯å½¢ã€ç®å½¢ï¼‰ã€‚","grade":8},{"unit":"**å¹¾ä½•ç¬¬å…­ç«  å¤šé‚Šå½¢**","title":"6.2 ç¯€ å¹³è¡Œå››é‚Šå½¢çš„æ€§è³ª","content":"ç†è§£å¹³è¡Œå››é‚Šå½¢çš„å®šç¾©èˆ‡æ€§è³ªï¼ˆå°é‚Šç­‰é•·ã€å°è§’ç›¸ç­‰ã€é„°è§’äº’è£œã€å°è§’ç·šäº’ç›¸å¹³åˆ†ï¼‰ï¼Œä¸¦èƒ½æ‡‰ç”¨æ–¼è­‰æ˜èˆ‡è¨ˆç®—ã€‚","grade":8},{"unit":"**å¹¾ä½•ç¬¬å…­ç«  å¤šé‚Šå½¢**","title":"6.3 ç¯€ æ¢¯å½¢çš„æ€§è³ª","content":"èªè­˜æ¢¯å½¢ï¼ˆå«ç­‰è…°æ¢¯å½¢ï¼‰çš„å®šç¾©èˆ‡æ€§è³ªã€‚ç†è§£æ¢¯å½¢ä¸­ç·šï¼ˆå…©è…°ä¸­é»é€£ç·šï¼‰çš„æ€§è³ªï¼ˆå¹³è¡Œåº•é‚Šä¸”é•·åº¦ç‚ºå…©åº•å’Œä¹‹åŠï¼‰ã€‚","grade":8},{"unit":"**å¹¾ä½•ç¬¬å…­ç«  å¤šé‚Šå½¢**","title":"6.4 ç¯€ å¤šé‚Šå½¢çš„æ€§è³ª","content":"èƒ½æ¨å°ä¸¦æ‡‰ç”¨ $n$ é‚Šå½¢çš„å…§è§’å’Œå…¬å¼ $(n-2) \\\\times 180Â°$ ã€‚ç†è§£ $n$ é‚Šå½¢çš„å¤–è§’å’Œï¼ˆå¿…å®šç‚º 360Â°ï¼‰ä¸¦æ‡‰ç”¨ã€‚","grade":8},{"unit":"**å¹¾ä½•ç¬¬ä¸ƒç«  åœ“å½¢**","title":"7.1ç¯€ åœ“çš„åŸºæœ¬æ€§è³ª","content":"ç†è§£åœ“çš„å°ç¨±æ€§ï¼ˆç·šå°ç¨±ã€é»å°ç¨±ï¼‰ã€‚èªè­˜é»ã€ç›´ç·šã€å…©åœ“èˆ‡åœ“çš„ä½ç½®é—œä¿‚ï¼ˆå¦‚å¤–é›¢ã€ç›¸åˆ‡ã€ç›¸äº¤ï¼‰ã€‚","grade":9},{"unit":"**å¹¾ä½•ç¬¬ä¸ƒç«  åœ“å½¢**","title":"7.2ç¯€ å¼¦èˆ‡å¼§","content":"ç†è§£åœ“å¿ƒè§’ã€åœ“å‘¨è§’ã€å¼¦åˆ‡è§’çš„å®šç¾©èˆ‡åº¦æ•¸è¨ˆç®—ã€‚èªè­˜å¼§é•·ã€æ‰‡å½¢é¢ç©ï¼Œä¸¦ç†è§£å¼¦å¿ƒè·çš„æ€§è³ªï¼ˆå¼¦å¿ƒè·å‚ç›´å¹³åˆ†å¼¦ï¼‰ã€‚","grade":9},{"unit":"**å¹¾ä½•ç¬¬ä¸ƒç«  åœ“å½¢**","title":"7.3ç¯€ å‰²ç·šèˆ‡åˆ‡ç·š","content":"èªè­˜å‰²ç·šèˆ‡åˆ‡ç·šã€‚ç†è§£åˆ‡ç·šçš„æ€§è³ªï¼ˆåˆ‡ç·šå‚ç›´æ–¼éåˆ‡é»çš„åŠå¾‘ã€åœ“å¤–ä¸€é»åˆ°åœ“çš„å…©åˆ‡ç·šæ®µç­‰é•·ï¼‰ã€‚èªè­˜ä¸¦è¨ˆç®—åœ“å…§è§’èˆ‡åœ“å¤–è§’çš„åº¦æ•¸ã€‚","grade":9},{"unit":"**å¹¾ä½•ç¬¬ä¸ƒç«  åœ“å½¢**","title":"7.4ç¯€ åœ“çš„å…§æ¥åŠå¤–åˆ‡å¤šé‚Šå½¢","content":"ç†è§£åœ“å…§æ¥å¤šé‚Šå½¢ï¼ˆå¦‚åœ“å…§æ¥å››é‚Šå½¢å°è§’äº’è£œï¼‰èˆ‡åœ“å¤–åˆ‡å¤šé‚Šå½¢ï¼ˆå¦‚åœ“å¤–åˆ‡å››é‚Šå½¢å°é‚Šå’Œç›¸ç­‰ï¼‰çš„æ€§è³ªã€‚","grade":9},{"unit":"**å¹¾ä½•ç¬¬å…«ç«  æ¯”ä¾‹èˆ‡ç›¸ä¼¼å½¢**","title":"8.1 ç¯€ æ¯”ä¾‹","content":"è¤‡ç¿’æ¯”ã€æ¯”å€¼èˆ‡æ¯”ä¾‹å¼ï¼ˆå…§é …ç©ç­‰æ–¼å¤–é …ç©ï¼‰ã€‚ç†è§£æ­£æ¯” $(y=kx)$ èˆ‡åæ¯” $(xy=k)$ çš„å®šç¾©ã€é—œä¿‚å¼èˆ‡åœ–å½¢ï¼Œä¸¦èƒ½æ‡‰ç”¨æ–¼è§£é¡Œã€‚","grade":7},{"unit":"**å¹¾ä½•ç¬¬å…«ç«  æ¯”ä¾‹èˆ‡ç›¸ä¼¼å½¢**","title":"8.2 ç¯€ ç›¸ä¼¼å½¢","content":"ç†è§£ã€Œæ¯”ä¾‹ç·šæ®µã€ã€‚ç†è§£ç›¸ä¼¼å¤šé‚Šå½¢çš„å®šç¾©ï¼ˆå°æ‡‰è§’ç›¸ç­‰ã€å°æ‡‰é‚Šæˆæ¯”ä¾‹ï¼‰ã€‚ç†Ÿç·´æ‡‰ç”¨ä¸‰è§’å½¢çš„ç›¸ä¼¼æ€§è³ªï¼ˆAA, SAS, SSS ç›¸ä¼¼ï¼‰ã€‚","grade":9},{"unit":"**å¹¾ä½•ç¬¬å…«ç«  æ¯”ä¾‹èˆ‡ç›¸ä¼¼å½¢**","title":"8.3 ç¯€ å‹¾è‚¡å®šç†(ç•¢æ°å®šç†)","content":"ç†è§£ä¸¦èƒ½è­‰æ˜ç•¢æ°å®šç†ï¼ˆå‹¾è‚¡å®šç†ï¼‰ï¼šç›´è§’ä¸‰è§’å½¢ä¸­ï¼Œ $a^2 + b^2 = c^2$ ã€‚èƒ½æ‡‰ç”¨ç•¢æ°å®šç†è¨ˆç®—é•·åº¦ï¼Œä¸¦èªè­˜å…¶é€†å®šç†ã€‚","grade":8},{"unit":"**å¹¾ä½•ç¬¬ä¹ç«  é¢ç©å‘¨é•·èˆ‡é«”ç©**","title":"9.1 ç¯€ å¤šé‚Šå½¢é¢ç©","content":"è¤‡ç¿’ä¸¦æ‡‰ç”¨ä¸‰è§’å½¢ã€å¹³è¡Œå››é‚Šå½¢ã€æ¢¯å½¢ã€ç®å½¢çš„é¢ç©å…¬å¼ï¼Œä¸¦èƒ½åˆ©ç”¨åˆ‡å‰²èˆ‡å¡«è£œæ³•è¨ˆç®—çµ„åˆåœ–å½¢çš„é¢ç©ã€‚","grade":7},{"unit":"**å¹¾ä½•ç¬¬ä¹ç«  é¢ç©å‘¨é•·èˆ‡é«”ç©**","title":"9.2 ç¯€ æ­£å¤šé‚Šå½¢èˆ‡åœ“å½¢é¢ç©","content":"è¨ˆç®—åœ“å‘¨é•· $(2\\\\pi r)$ èˆ‡åœ“é¢ç© $(\\\\pi r^2)$ ã€‚ç†è§£æ‰‡å½¢çš„å¼§é•· $( (x/360) \\\\times 2\\\\pi r )$ èˆ‡æ‰‡å½¢é¢ç© $( (x/360) \\\\times \\\\pi r^2 )$ çš„è¨ˆç®—æ–¹å¼ã€‚","grade":7},{"unit":"**å¹¾ä½•ç¬¬ä¹ç«  é¢ç©å‘¨é•·èˆ‡é«”ç©**","title":"9.3 ç¯€ ç«‹é«”çš„è¡¨é¢ç©èˆ‡é«”ç©","content":"èªè­˜è§’æŸ±ï¼ˆå«ç›´è§’æŸ±ï¼‰èˆ‡åœ“æŸ±ã€‚ç†è§£åº•é¢ç©ã€å´é¢ç©èˆ‡è¡¨é¢ç©çš„è¨ˆç®—ã€‚ç†Ÿç·´è¨ˆç®—æŸ±é«”ï¼ˆå«åœ“æŸ±ï¼‰çš„é«”ç©ã€‚èªè­˜è§’éŒã€åœ“éŒåŠå…¶é«”ç©å…¬å¼ã€‚","grade":9},{"unit":"**å¹¾ä½•ç¬¬åç«  å¹³é¢åº§æ¨™**","title":"10.1 ç¯€ ç›´è§’åº§æ¨™","content":"èªè­˜ç›´è§’åæ¨™å¹³é¢ï¼ˆ $x$ è»¸ã€$y$ è»¸ã€åŸé»ã€è±¡é™ï¼‰ï¼Œä¸¦èƒ½æ¨™ç¤ºé» $P(a, b)$ çš„ä½ç½®åŠè®€å–åæ¨™ã€‚","grade":7},{"unit":"**å¹¾ä½•ç¬¬åç«  å¹³é¢åº§æ¨™**","title":"10.2 ç¯€ åº§æ¨™å¹³é¢èˆ‡å¹¾ä½•æ€§è³ª","content":"èƒ½åœ¨åæ¨™å¹³é¢ä¸Šï¼Œè¨ˆç®—å…©é»é–“çš„æ°´å¹³æˆ–å‚ç›´è·é›¢ã€‚èƒ½åˆ©ç”¨åæ¨™è¡¨ç¤ºå¹³ç§»ï¼Œä¸¦è¨ˆç®—ç°¡æ˜“åœ–å½¢ï¼ˆå¦‚çŸ©å½¢ã€ä¸‰è§’å½¢ï¼‰çš„é¢ç©ã€‚","grade":7}]'),Ds=[{unit:"ç¬¬ä¸€èª²",title:"å®¶äºº",content:"ä¸»è¦å­¸ç¿’**å®¶åº­æˆå“¡**çš„åŸºç¤è©å½™ï¼ŒåŒ…æ‹¬çˆ¸çˆ¸ (father)ã€åª½åª½ (mother)ã€å…’å­ (son)ã€å¥³å…’ (daughter)ã€å“¥å“¥ (brother)ã€å§Šå§Š (sister)ã€å¼Ÿå¼Ÿ/å¦¹å¦¹ (brother/sister)ã€‚åŒæ™‚ç·´ç¿’ä½¿ç”¨**ä¸å®šå† è©** `a` (ä¸€å€‹) å’Œ**é€£æ¥è©** `and` (å’Œ)ï¼Œä¾†çµ„æˆæè¿°æ€§è©çµ„ï¼ˆä¾‹å¦‚ï¼ša mother and a boy, a father and a girlï¼‰ã€‚",grade:3},{unit:"ç¬¬äºŒèª²",title:"ä½ ã€æˆ‘ã€ä»–",content:"è‘—é‡æ–¼**äººç¨±ä»£åè©**ï¼šæˆ‘ (I)ã€ä½ /ä½ å€‘ (You)ã€ä»– (He)ã€å¥¹ (She)ã€ç‰  (It)ã€æˆ‘å€‘ (We)ã€ä»–å€‘ (They)ã€‚æ ¸å¿ƒæ–‡æ³•æ˜¯**Beå‹•è©** (am, is, are) çš„åŸºæœ¬ç”¨æ³•ï¼Œä»¥åŠ Beå‹•è©èˆ‡å„äººç¨±ä»£åè©çš„æ­é…ï¼ˆä¾‹å¦‚ï¼šI am, You are, She is, We are, It isï¼‰ã€‚èª²ç¨‹ä¹Ÿæ¶µè“‹**åè©çš„å–®è¤‡æ•¸**æ¦‚å¿µï¼ˆä¾‹å¦‚ï¼ša cat å°æ¯” They are dogsï¼‰ã€‚",grade:3},{unit:"ç¬¬ä¸‰èª²",title:"æœ‰",content:"ä»‹ç´¹**æ“æœ‰**çš„å‹•è© `have` (æœ‰)ï¼Œä¸¦å­¸ç¿’å…¶åœ¨**ç¾åœ¨å¼è‚¯å®šå¥**ä¸­çš„è®ŠåŒ–ï¼ŒåŒ…æ‹¬ **ç¬¬ä¸‰äººç¨±å–®æ•¸** ä¸»è©éœ€ä½¿ç”¨ `has` (ä¾‹å¦‚ï¼šHe has a sister, She has a daughter)ã€‚ç›¸é—œè©å½™åŒ…æ‹¬ï¼šè€å¸« (teacher)ã€å­¸ç”Ÿ (student)ã€å¾ˆå¤š (many)ã€æ›¸ (book)ã€æˆ¿å­ (house)ã€‚",grade:3},{unit:"ç¬¬å››èª²",title:"æ•¸å­—",content:"æ¶µè“‹**æ•¸å­—** 0 (zero) åˆ° 10 (ten) çš„æ‹¼å¯«èˆ‡æ‡‰ç”¨ã€‚é‡é»åœ¨æ–¼å°‡æ•¸å­—æˆ–æ•¸é‡è© `many` (å¾ˆå¤š) ç”¨æ–¼å¥å­ä¸­ï¼Œä¸¦ç¢ºä¿å¾Œæ¥çš„**åè©ä½¿ç”¨è¤‡æ•¸å½¢å¼**ï¼ˆä¾‹å¦‚ï¼šfive girls, nine dogsï¼‰ã€‚",grade:3},{unit:"ç¬¬äº”èª²",title:"æ‰€æœ‰æ ¼-ã€Œæˆ‘çš„ã€ä½ çš„ã€ä»–çš„ã€",content:"æ ¸å¿ƒç‚ºå­¸ç¿’å’Œä½¿ç”¨**æ‰€æœ‰æ ¼å½¢å®¹è©**ï¼ŒåŒ…æ‹¬æˆ‘çš„ (my)ã€ä½ çš„/ä½ å€‘çš„ (your)ã€ä»–çš„ (his)ã€å¥¹çš„ (her)ã€ç‰ çš„ (its)ã€æˆ‘å€‘çš„ (our)ã€ä»–å€‘çš„ (their)ã€‚æ–‡æ³•çµæ§‹ä¸Šï¼Œæ‰€æœ‰æ ¼èˆ‡ Beå‹•è©å’Œ `has/have` æ­é…ï¼Œä¾‹å¦‚ï¼šMy sisters have a dog æˆ– Your son is a studentã€‚",grade:4},{unit:"ç¬¬å…­èª²",title:"è‚¯å®šå’Œå¦å®š(æ˜¯ã€ä¸æ˜¯)",content:"å°ˆæ³¨æ–¼**Beå‹•è©çš„è‚¯å®šå¥å’Œå¦å®šå¥**ã€‚å¦å®šå¥çš„çµæ§‹ç‚º `Beå‹•è© + not`ï¼ˆä¾‹å¦‚ï¼šam not, is not/isn't, are not/aren'tï¼‰ã€‚åŒæ™‚ç·´ç¿’èˆ‡è·æ¥­ç›¸é—œçš„è©å½™ï¼Œå¦‚é†«ç”Ÿ (doctor)ã€è­·å£« (nurse)ã€æ¼”å“¡ (actor)ã€æ­Œæ˜Ÿ (singer)ã€‚",grade:4},{unit:"ç¬¬ä¸ƒèª²",title:"è‚¯å®šå’Œå¦å®š(æœ‰ã€æ²’æœ‰)",content:"å°ˆæ³¨æ–¼**ä¸€èˆ¬å‹•è©åœ¨ç¾åœ¨å¼çš„å¦å®šå¥**ï¼Œç‰¹åˆ¥æ˜¯è¡¨ç¤ºã€Œæ“æœ‰ã€çš„å‹•è© `have` çš„å¦å®šå½¢å¼ã€‚ä½¿ç”¨åŠ©å‹•è© `do` æˆ– `does` åŠ ä¸Š `not`ï¼ˆ`don't have` æˆ– `doesn't have`ï¼‰ã€‚å¼·èª¿**ç¬¬ä¸‰äººç¨±å–®æ•¸** (She/He/It) éœ€ä½¿ç”¨ `doesn't`ã€‚ç›¸é—œè©å½™åŒ…æ‹¬ï¼šè»Š (car)ã€è…³è¸è»Š (bicycle/bike)ã€é›»è…¦ (computer)ã€ç‰›å¥¶ (milk)ã€‚",grade:4},{unit:"ç¬¬å…«èª²",title:"å‹•è©",content:"ä»‹ç´¹**ä¸€èˆ¬å‹•è©**åœ¨**ç¾åœ¨å¼è‚¯å®šå¥å’Œå¦å®šå¥**ä¸­çš„æ‡‰ç”¨ï¼Œä¸¦å¼·èª¿**ç¬¬ä¸‰äººç¨±å–®æ•¸**ä¸»è©å¾Œå‹•è©éœ€è¦åŠ  `-s` æˆ– `-es` (ä¾‹å¦‚ï¼šHe reads, She goes)ã€‚å¦å®šå¥ä½¿ç”¨ `don't` æˆ– `doesn't` æ­é…å‹•è©åŸå½¢ã€‚è©å½™æ¶µè“‹æ—¥å¸¸æ´»å‹•å’Œåå¥½ï¼Œå¦‚ï¼šå–œæ­¡ (like)ã€åƒ (eat)ã€å– (drink)ã€è®€ (read)ã€ä¸Šå­¸ (go to school)ã€åˆé¤ (lunch)ã€æ™šé¤ (dinner)ã€‚",grade:4},{unit:"ç¬¬ä¹èª²",title:"å•å¥(Beå‹•è©å•å¥)",content:"æ¶µè“‹**Beå‹•è©çš„ Yes/No ç–‘å•å¥**ï¼Œçµæ§‹ç‚ºå°‡ Beå‹•è©ç§»è‡³ä¸»è©ä¹‹å‰ï¼ˆä¾‹å¦‚ï¼šIs he a doctor? Are your sisters students?ï¼‰ã€‚åŒæ™‚ç·´ç¿’ä½¿ç”¨ **`or` (æˆ–)** æå•é¸æ“‡æ€§å•é¡Œï¼ˆä¾‹å¦‚ï¼šIs she an engineer or a doctor?ï¼‰ï¼Œä¸¦å­¸ç¿’å¦‚ä½•çµ¦äºˆç°¡çŸ­å›ç­” (Yes/No)ã€‚",grade:4},{unit:"ç¬¬åèª²",title:"å•å¥(å‹•è©å•å¥)",content:"æ¶µè“‹**ä¸€èˆ¬å‹•è©çš„ Yes/No ç–‘å•å¥**ï¼Œçµæ§‹ç‚ºä½¿ç”¨åŠ©å‹•è© `Do` æˆ– `Does` æ–¼å¥é¦–ï¼Œå¾Œæ¥ä¸»è©å’Œå‹•è©åŸå½¢ã€‚å¼·èª¿åŠ©å‹•è©éœ€èˆ‡ä¸»è©ä¿æŒä¸€è‡´ï¼ˆä¾‹å¦‚ï¼šDo you like that book? Does she like this movie?ï¼‰ã€‚ä¸¦ç·´ç¿’å¸¶æœ‰ `or` çš„é¸æ“‡æ€§å‹•è©å•å¥ï¼ˆä¾‹å¦‚ï¼šDoes his brother eat lunch or dinner?ï¼‰ã€‚",grade:4},{unit:"ç¬¬åä¸€èª²",title:"å•å¥(Whå‹å•å¥)-1",content:"ä»‹ç´¹**ç–‘å•è©** `Who` (èª°)ã€`What` (ä»€éº¼) å’Œ `When` (ä»€éº¼æ™‚å€™) çš„ç”¨æ³•ã€‚ä¸»è¦ç·´ç¿’è©¢å•**èº«ä»½æˆ–è·æ¥­** (Who is that girl? What does your father do?)ï¼Œä»¥åŠè©¢å•**æ™‚é–“** (When does your son eat dinner?ï¼‰ã€‚",grade:5},{unit:"ç¬¬åä¸€èª²",title:"å•å¥(Whå‹å•å¥)-2",content:"ä»‹ç´¹**ç–‘å•è©** `Where` (å“ªè£¡)ã€`How` (å¦‚ä½•) å’Œ `Which` (å“ªä¸€å€‹) çš„ç”¨æ³•ã€‚ä¸»è¦ç·´ç¿’è©¢å•**åœ°é»** (Where does your teacher live?)ï¼Œè©¢å•**æ–¹å¼**ï¼ˆä¾‹å¦‚ï¼šæ­ä¹˜ (by) äº¤é€šå·¥å…·å»ä¸Šå­¸ï¼ŒHow does the girl go to school?ï¼‰ï¼Œä»¥åŠè©¢å•**é¸æ“‡** (Which book is your book?)ã€‚",grade:5},{unit:"ç¬¬åäºŒèª²",title:"ç¾åœ¨å¼å’Œç¾åœ¨é€²è¡Œå¼",content:"å°æ¯”**ç¾åœ¨å¼**ï¼ˆè¡¨ç¤ºç¿’æ…£æˆ–äº‹å¯¦ï¼Œæ­é… `every day`ï¼‰å’Œ**ç¾åœ¨é€²è¡Œå¼**ï¼ˆè¡¨ç¤ºç•¶å‰æ­£åœ¨ç™¼ç”Ÿçš„å‹•ä½œï¼Œæ­é… `now`ï¼‰ã€‚å­¸ç¿’ç¾åœ¨é€²è¡Œå¼çš„æ§‹æˆï¼š`Beå‹•è© + V-ing`ï¼ˆä¾‹å¦‚ï¼šShe is listening to music, They are playing computer games nowï¼‰ã€‚ä¸¦ç·´ç¿’å€åˆ†å…©è€…åœ¨è‚¯å®šå¥ã€å¦å®šå¥å’Œç–‘å•å¥ä¸­çš„ç”¨æ³•ã€‚",grade:5},{unit:"ç¬¬åä¸‰èª²",title:"éå»å¼(è‚¯å®šå¥)",content:"ä»‹ç´¹**ç°¡å–®éå»å¼è‚¯å®šå¥**ï¼Œæ­é…éå»æ™‚é–“æ¨™è¨˜å¦‚ï¼šæ˜¨å¤© (yesterday)ã€æ˜¨æ™š (last night)ã€ä¸Šæ˜ŸæœŸ (last week)ã€å»å¹´ (last year)ã€ä»¥å‰ (before)ã€‚å­¸ç¿’ä¸€èˆ¬å‹•è©çš„éå»å¼å½¢å¼ï¼ŒåŒ…æ‹¬**è¦å‰‡å‹•è©**ï¼ˆä¾‹å¦‚ï¼šwatched, playedï¼‰å’Œ**ä¸è¦å‰‡å‹•è©**ï¼ˆä¾‹å¦‚ï¼šate, drank, went, was/wereï¼‰ã€‚",grade:5},{unit:"ç¬¬åå››èª²",title:"éå»å¼ (Beå‹•è©å¦å®šå¥å’Œå•å¥)",content:"å°ˆæ³¨æ–¼**éå»å¼ Beå‹•è©** (was/were) çš„**å¦å®šå¥** (`wasn't`, `weren't`) å’Œ **Yes/No ç–‘å•å¥**ã€‚é‡é»æ˜¯ä¸»è©èˆ‡éå»å¼ Beå‹•è©çš„æ­£ç¢ºåŒ¹é…ï¼ˆä¾‹å¦‚ï¼šShe wasn't our teacher, Were you happy last month?ï¼‰ã€‚",grade:5},{unit:"ç¬¬åäº”èª²",title:"éå»å¼(å‹•è©å¦å®šå¥å’Œå•å¥)",content:"å°ˆæ³¨æ–¼**éå»å¼ä¸€èˆ¬å‹•è©**çš„**å¦å®šå¥** (`didn't + å‹•è©åŸå½¢`) å’Œ **Yes/No ç–‘å•å¥** (`Did + ä¸»è© + å‹•è©åŸå½¢`)ã€‚å¼·èª¿ç„¡è«–ä¸»è©ç‚ºä½•ï¼ŒåŠ©å‹•è©éƒ½ä½¿ç”¨ `did/didn't`ï¼Œä¸”å…¶å¾Œçš„å‹•è©å¿…é ˆæ˜¯**åŸå½¢**ï¼ˆä¾‹å¦‚ï¼šDid you play basketball yesterday? She didnâ€™t like music last year.ï¼‰ã€‚",grade:5},{unit:"ç¬¬åå…­èª²",title:"æœªä¾†å¼(è‚¯å®šå¥ã€å¦å®šå¥ã€å•å¥)",content:"ä»‹ç´¹**æœªä¾†å¼**çš„è¡¨é”ï¼Œä½¿ç”¨åŠ©å‹•è© `will` (å°‡æœƒ)ï¼Œæ­é…æœªä¾†æ™‚é–“æ¨™è¨˜å¦‚ï¼šå¾…æœƒå…’ (later)ã€æ˜å¤© (tomorrow)ã€ä¸‹æ˜ŸæœŸ (next week)ã€‚å­¸ç¿’å…¶**è‚¯å®šå¥** (`will + å‹•è©åŸå½¢`)ã€**å¦å®šå¥** (`will not / won't + å‹•è©åŸå½¢`) å’Œ **Yes/No ç–‘å•å¥** (`Will + ä¸»è© + å‹•è©åŸå½¢`)ã€‚",grade:6},{unit:"ç¬¬åä¸ƒèª²",title:"æ‰“æ‹›å‘¼",content:"æ¶µè“‹å„ç¨®**æ‰“æ‹›å‘¼å’Œå‘Šåˆ¥ç”¨èª**ï¼ŒåŒ…æ‹¬ï¼šGood morning/afternoon/evening/night (æ—©ä¸Šå¥½/åˆå®‰/æ™šä¸Šå¥½/æ™šå®‰)ï¼Œä»¥åŠç¥ç¦èªï¼ˆä¾‹å¦‚ï¼šHave a nice day/dream/trip, Have fun!ï¼‰ã€‚æ­¤å¤–ï¼Œä¹Ÿå­¸ç¿’ä½¿ç”¨**å‰¯è© `too` (ä¹Ÿ)** ä¾†è¡¨é”ã€ŒåŒæ¨£åœ°ã€ï¼Œä¸¦ç·´ç¿’æ™‚é–“ä»‹è© `in the evening` å’Œ `at night`ã€‚",grade:6},{unit:"ç¬¬åå…«èª²",title:"ä»‹ç´¹",content:"é‡é»åœ¨æ–¼**è©¢å•åŠé™³è¿°åå­—** (What is your name? Her name is Wendy) åŠ**è©¢å•åœ‹ç±æˆ–æ‰€åœ¨åœ°** (Where are you from? They are from Taiwan)ã€‚åŒæ™‚å­¸ç¿’ä»‹ç´¹ä»–äºº (That is my aunt) å’Œä½¿ç”¨ç¦®è²Œæ€§ç”¨èª (Nice to meet you, too)ã€‚",grade:6},{unit:"ç¬¬åä¹èª²",title:"ä½ æœƒå—?",content:"ä»‹ç´¹**æƒ…æ…‹åŠ©å‹•è© `can` (èƒ½)**ï¼Œè¡¨ç¤ºèƒ½åŠ›ã€‚å­¸ç¿’å…¶**è‚¯å®šå¥ã€å¦å®šå¥** (`can't`) åŠ **Yes/No ç–‘å•å¥**ã€‚é‡è¦æ–‡æ³•è¦å‰‡æ˜¯ `can/can't` å¾Œé¢çš„å‹•è©å¿…é ˆä½¿ç”¨**åŸå½¢**ã€‚è©å½™æ¶µè“‹å„é¡é‹å‹•ï¼ˆæ£’çƒã€è¶³çƒã€ç±ƒçƒï¼‰ã€æ¨‚å™¨ï¼ˆé‹¼ç´ã€å‰ä»–ï¼‰å’Œèªè¨€ï¼ˆè‹±æ–‡ï¼‰ã€‚",grade:6},{unit:"ç¬¬äºŒåèª²",title:"æ˜ŸæœŸå¹¾?",content:"æ¶µè“‹**æ˜ŸæœŸå¹¾**çš„è©å½™ï¼ˆSunday åˆ° Fridayï¼‰ï¼Œä¸¦å­¸ç¿’è©¢å•å’Œé™³è¿°æ—¥æœŸ (What day is today? Tomorrow is Tuesday)ã€‚æ–‡æ³•é‡é»æ˜¯è¡¨é”åœ¨ç‰¹å®šæ—¥æœŸæˆ–é€±æœ«é€²è¡Œçš„æ´»å‹•ï¼Œä½¿ç”¨ä»‹è© `on` æˆ– `on weekends`ã€‚",grade:6},{unit:"ç¬¬äºŒåä¸€èª²",title:"è³¼ç‰©",content:"ä¸»è¦å­¸ç¿’**è³¼ç‰©å’Œå°‹æ±‚å”åŠ©**çš„ç›¸é—œç”¨èªï¼ŒåŒ…æ‹¬ï¼šè©¢å•**åƒ¹æ ¼** (How much...)ï¼Œè©¢å•å’Œè¡¨é”**é¡˜æœ›æˆ–é¡è‰²åå¥½** (I would like yellow, What color would you like?)ï¼Œä»¥åŠè©¢å•**å°ºå¯¸** (What is your size?)ã€‚è©å½™åŒ…æ‹¬ï¼šå°ºå¯¸ (size)ã€è¥¯è¡« (shirt)ã€å°å¹£ (NT dollar)ã€è—è‰² (blue)ã€å°‹æ‰¾ (look for)ã€‚",grade:6},{unit:"ç¬¬äºŒåäºŒèª²",title:"æ¯”è¼ƒ",content:"ä»‹ç´¹**å½¢å®¹è©çš„æ¯”è¼ƒç´š**ï¼Œç”¨æ–¼æ¯”è¼ƒå…©è€…ä¹‹é–“çš„å·®ç•°ï¼ˆä¾‹å¦‚ï¼šolder than, shorter than, heavier thanï¼‰ã€‚å­¸ç¿’æ¯”è¼ƒç´šçš„æ§‹æˆè¦å‰‡ï¼ˆä¾‹å¦‚ï¼šbig $\rightarrow$ bigger, light $\rightarrow$ lighterï¼‰ï¼Œä»¥åŠä½¿ç”¨ `so` (é€™éº¼çš„) ä¾†å¼·èª¿å½¢å®¹è©ã€‚",grade:6},{unit:"ç¬¬äºŒåä¸‰èª²",title:"è¡¨ç¤ºå–œæ­¡æˆ–ä¸å–œæ­¡",content:"å­¸ç¿’å¦‚ä½•**è©¢å•ä»–äººå°äº‹ç‰©çš„çœ‹æ³•** (How do you like...?)ï¼Œä»¥åŠè¡¨é”**å¼·çƒˆçš„å–œæ­¡æˆ–ä¸å–œæ­¡**ï¼Œä½¿ç”¨ `very much` (å¾ˆå–œæ­¡) å’Œ `not at all` (ä¸€é»ä¹Ÿä¸å–œæ­¡)ã€‚è©å½™åŒ…æ‹¬ï¼šå¯æ„› (cute)ã€ç„¡èŠ (boring)ã€æ™®é€š (O.K.)ã€‚",grade:6},{unit:"ç¬¬äºŒåå››èª²",title:"å½¢å®¹é•·ç›¸",content:"æ ¸å¿ƒæ–‡æ³•æ˜¯è©¢å•**å¤–è²Œç‰¹å¾µ**çš„å¥å‹ `What does... look like?`ã€‚å­¸ç¿’ä½¿ç”¨å‹•è© `have/has` ä¾†æè¿°èº«é«”éƒ¨ä½ï¼ˆä¾‹å¦‚ï¼šShe has long legs, He has a big headï¼‰ã€‚åŒæ™‚ç·´ç¿’ä½¿ç”¨å‹•è© `like` è¡¨ç¤ºã€Œ**é•·å¾—åƒ**ã€ï¼ˆä¾‹å¦‚ï¼šHe is like my fatherï¼‰ï¼Œä»¥åŠæ¯”è¼ƒèº«é«˜ (She is taller than I)ã€‚è©å½™æ¶µè“‹è‡‰ (face)ã€çœ¼ç› (eye)ã€é ­é«® (hair)ã€æ‰‹ (hand) ç­‰èº«é«”éƒ¨ä½ã€‚",grade:6}],Vs=JSON.parse(`[{"unit":"**I-1 Be å‹•è©ç¾åœ¨å¼**","title":"I-1 (1) åŸºç¤è‚¯å®šå¥å’Œå–®è¤‡æ•¸ Be å‹•è©æ‡‰ç”¨","content":"**Be å‹•è© (am, is, are)** çš„ç¾åœ¨å¼åŸºæœ¬ç”¨æ³•ï¼›**æŒ‡ç¤ºä»£åè©/å½¢å®¹è©** (this, that, these, those) çš„å–®è¤‡æ•¸ç”¨æ³•ï¼›**åè©çš„å–®è¤‡æ•¸è®ŠåŒ–**ï¼›**æ‰€æœ‰æ ¼** (å¦‚ \`teacher\` vs. \`teacher's\` vs. \`their teacher\`)ã€‚","grade":7},{"unit":"**I-1 Be å‹•è©ç¾åœ¨å¼**","title":"I-1 (2) ç–‘å•å¥èˆ‡å¦å®šå¥çµæ§‹åŠæ‰€æœ‰æ ¼ä»£åè©","content":"**Be å‹•è©çš„å¦å®šå¥** (is not, are not)ï¼›**Be å‹•è©çš„ä¸€èˆ¬ç–‘å•å¥å’Œç°¡ç­”** (å¦‚ Are you...?, Yes, they are.)ï¼›**æ‰€æœ‰æ ¼ä»£åè©æˆ–æ‰€æœ‰æ ¼å½¢å®¹è©çš„æ”¹å¯«** (å¦‚ My name æ”¹ç‚º Her name)ã€‚","grade":7},{"unit":"**I-2 ä¸€èˆ¬å‹•è©ç¾åœ¨å¼å’ŒWhå•å¥**","title":"I-2 (1) ä¸€èˆ¬å‹•è©ç¾åœ¨å¼åŸºæœ¬ç”¨æ³•èˆ‡å¦å®šå¥","content":"**ä¸€èˆ¬å‹•è©ç¾åœ¨å¼** (Simple Present Tense) çš„è‚¯å®šå¥ç”¨æ³•ï¼Œæ³¨æ„**ç¬¬ä¸‰äººç¨±å–®æ•¸å‹•è©è®ŠåŒ–** (V/Vs)ï¼›**å¦å®šå¥çµæ§‹** (do/does not + åŸå½¢å‹•è©)ï¼›**ä»‹ç³»è©** (in, at) çš„åŸºæœ¬æ™‚é–“å’Œåœ°é»ç”¨æ³•ã€‚","grade":7},{"unit":"**I-2 ä¸€èˆ¬å‹•è©ç¾åœ¨å¼å’ŒWhå•å¥**","title":"I-2 (2) ä¸€èˆ¬å‹•è©ç–‘å•å¥èˆ‡ Wh-å•å¥","content":"**ä¸€èˆ¬å‹•è©çš„ä¸€èˆ¬ç–‘å•å¥èˆ‡ç°¡ç­”** (Do/Does + S + V?)ï¼›**Wh-å•å¥** (What, Where, Who) çš„è©¢å•ä¸»è©ã€è·æ¥­æˆ–åœ°é»ç­‰ç”¨æ³•ï¼›**Wh-å•å¥çš„å›ç­”æ–¹å¼**ã€‚","grade":7},{"unit":"**I-3 ç¥ˆä½¿å¥èˆ‡ç¾åœ¨é€²è¡Œå¼**","title":"I-3 (1) ç¥ˆä½¿å¥å’ŒåŸºç¤é€£æ¥è©","content":"**ç¥ˆä½¿å¥** (Imperatives) çš„è‚¯å®šå’Œå¦å®šç”¨æ³• (å¦‚ Please be, Do the dishes, Don't V)ï¼›**Let's å¥å‹**ï¼›**å°ç­‰é€£æ¥è©** (and, but, or) é€£çµå¥å­æˆ–å–®å­—ã€‚","grade":7},{"unit":"**I-3 ç¥ˆä½¿å¥èˆ‡ç¾åœ¨é€²è¡Œå¼**","title":"I-3 (2) ç¾åœ¨é€²è¡Œå¼ (Present Continuous) çµæ§‹èˆ‡æ‡‰ç”¨","content":"**ç¾åœ¨é€²è¡Œå¼** (Be + V-ing) çš„è‚¯å®šã€å¦å®šåŠç–‘å•å¥çµæ§‹ï¼›**åœ°é»å‰¯è© (Where) æ­é…ç¾åœ¨é€²è¡Œå¼** çš„å•ç­”ï¼›**è¡¨ç¤ºå› æœçš„å°ç­‰é€£æ¥è©** (so) çš„ç”¨æ³•ã€‚","grade":7},{"unit":"**I-4 æ•¸é‡è©å’Œå­˜åœ¨è© there be**","title":"I-4 (1) åŸºç¤æ•¸é‡è¡¨é”èˆ‡å­˜åœ¨å¥","content":"**å­˜åœ¨å¥** (There is / There are) çš„åŸºæœ¬è‚¯å®šã€å¦å®šå’Œç–‘å•å¥çµæ§‹ï¼›**æ•¸è©** (å¦‚ three hundred) å’Œ**åºæ•¸** (å¦‚ the thirty-first, the first)ï¼›**å¯æ•¸åè©çš„æ•¸é‡è©** (å¦‚ two eggs, a few, many)ã€‚","grade":7},{"unit":"**I-4 æ•¸é‡è©å’Œå­˜åœ¨è© there be**","title":"I-4 (2) ä¸å¯æ•¸åè©çš„æ•¸é‡è¡¨é”å’Œé›†åˆæ•¸é‡è©","content":"**ä¸å¯æ•¸åè©çš„æ•¸é‡è©** (a little, much)ï¼›**å–®ä½é‡è©** (a bottle of, a cup of, a bowl of)ï¼›**ä¸å®šæ•¸é‡è©** (a lot of)ï¼›**é›†åˆæ•¸é‡è©** (both, all, one of)ã€‚","grade":7},{"unit":"**I-5 How old + What time + How many / much**","title":"I-5 (1) è©¢å•æ™‚é–“ã€å¹´é½¡èˆ‡åŸºæœ¬æ•¸é‡è©","content":"**è©¢å•å¹´é½¡** (How old are you/is N?) åŠå›ç­”ï¼›**è©¢å•æ™‚é–“** (What time is it?)ï¼›**è©¢å•å¯æ•¸åè©æ•¸é‡** (How many Ns do you have?)ï¼›**è©¢å•ä¸å¯æ•¸åè©æ•¸é‡** (How much N do you want?)ã€‚","grade":7},{"unit":"**I-5 How old + What time + How many / much**","title":"I-5 (2) æ­é…ä¸€èˆ¬å‹•è©çš„ Wh- å•å¥èˆ‡å›ç­”","content":"**è©¢å•å‹•ä½œæ™‚é–“** (What time / When do/does S + V?)ï¼›**è©¢å•åœ°é»** (Where is / Where do S + V?)ï¼›**è©¢å•æ–¹å¼** (How do you V?)ï¼›**æ­é…å­˜åœ¨å¥çš„ How many** (How many Ns are there?)ã€‚","grade":7},{"unit":"**I-6 éå»å¼èˆ‡æ˜“æ··æ·†å‹•è©**","title":"I-6 (1) ä¸€èˆ¬å‹•è©éå»å¼èˆ‡å¦å®šç–‘å•å¥","content":"**ä¸€èˆ¬å‹•è©çš„éå»å¼** (è¦å‰‡å’Œä¸è¦å‰‡è®ŠåŒ–ï¼Œå¦‚ played, ran, read, took)ï¼›**éå»å¼æ™‚é–“å‰¯è©** (yesterday, last night/Sunday/month/year, days/minutes ago) çš„æ‡‰ç”¨ï¼›**éå»å¼çš„å¦å®šå¥** (did not + V)ï¼›**éå»å¼çš„ä¸€èˆ¬ç–‘å•å¥** (Did you V?)ã€‚","grade":7},{"unit":"**I-6 éå»å¼èˆ‡æ˜“æ··æ·†å‹•è©**","title":"I-6 (2) Be å‹•è©éå»å¼èˆ‡æ˜“æ··æ·†å‹•è©","content":"**Be å‹•è©çš„éå»å¼** (was, were)ï¼›**éå»å¼çš„ Wh- å•å¥** (Who did you talk to?)ï¼›**æ˜“æ··æ·†å‹•è©** çš„åŸºç¤æ‡‰ç”¨ (å¦‚ see vs. watch)ï¼›**ç¥ˆä½¿å¥** (Watch out!)ã€‚","grade":7},{"unit":"**I-7 éå»é€²è¡Œå¼èˆ‡æ˜“æ··æ·†å‹•è©**","title":"I-7 (1) éå»é€²è¡Œå¼çš„çµæ§‹èˆ‡æ™‚é–“é»æ‡‰ç”¨","content":"**éå»é€²è¡Œå¼** (was/were + V-ing) çš„è‚¯å®šå’Œå¦å®šå¥çµæ§‹ï¼›**æ­é…ç‰¹å®šéå»æ™‚é–“é»** (then, at that time, at 19:00 last Tuesday) è¡¨ç¤ºç•¶æ™‚æ­£åœ¨ç™¼ç”Ÿçš„å‹•ä½œï¼›**éå»é€²è¡Œå¼èˆ‡éå»ç°¡å–®å¼** çš„å€åˆ¥æ‡‰ç”¨ã€‚","grade":7},{"unit":"**I-7 éå»é€²è¡Œå¼èˆ‡æ˜“æ··æ·†å‹•è©**","title":"I-7 (2) éå»é€²è¡Œå¼çš„ç–‘å•å¥èˆ‡ Wh- å•å¥","content":"**éå»é€²è¡Œå¼çš„ä¸€èˆ¬ç–‘å•å¥èˆ‡ç°¡ç­”** (Were you doing...?)ï¼›**éå»é€²è¡Œå¼çš„ Wh- å•å¥** (What was S doing?, Who was S talking to?)ï¼›**æ˜“æ··æ·†å‹•è©** (Did S tell V?) çš„æ‡‰ç”¨ï¼›**ç¥ˆä½¿å¥** (Say hello to everyone!)ã€‚","grade":7},{"unit":"**I-8 æœªä¾†å¼èˆ‡not only...but also**","title":"I-8 (1) åŸºç¤æœªä¾†å¼ (will / be going to) çš„æ‡‰ç”¨","content":"**æœªä¾†å¼åŠ©å‹•è© will** çš„è‚¯å®šã€å¦å®šåŠç–‘å•å¥çµæ§‹ï¼›**æœªä¾†å¼ be going to** çš„è‚¯å®šã€å¦å®šåŠç–‘å•å¥çµæ§‹ï¼›**æœªä¾†å¼æ™‚é–“å‰¯è©** (tomorrow, next summer/month/Monday)ã€‚","grade":7},{"unit":"**I-8 æœªä¾†å¼èˆ‡not only...but also**","title":"I-8 (2) è¤‡åˆå¥å‹ not only...but also çš„æ‡‰ç”¨","content":"**not only...but also (ä¸åƒ…â‹¯â‹¯è€Œä¸”â‹¯â‹¯)** çš„é€£æ¥åè©æˆ–å‹•è©çš„ç”¨æ³•ï¼›**éå»ç°¡å–®å¼** åœ¨æœªä¾†å¼èªå¢ƒä¸­çš„å°æ¯”ä½¿ç”¨ã€‚","grade":7},{"unit":"**II-1 åŠ©å‹•è©èˆ‡have to / had betteråŠä¸å®šä»£åè©one / ones**","title":"II-1 (1) åŸºç¤åŠ©å‹•è© (Modals) Can/Could, Will/Would, Should, Must","content":"**åŠ©å‹•è© Can (èƒ½åŠ›)** çš„æ‡‰ç”¨ï¼›**åŠ©å‹•è© Will/Would** çš„ç–‘å•å¥èˆ‡ç¦®è²Œè©¢å•ç”¨æ³•ï¼›**åŠ©å‹•è© Should (å»ºè­°)** çš„æ‡‰ç”¨ï¼›**åŠ©å‹•è© Must (ç¾©å‹™/æ¨æ¸¬)** çš„æ‡‰ç”¨ã€‚","grade":8},{"unit":"**II-1 åŠ©å‹•è©èˆ‡have to / had betteråŠä¸å®šä»£åè©one / ones**","title":"II-1 (2) have to, had better ç­‰ç‰¹æ®Šç‰‡èª","content":"**è¡¨é”å¿…è¦æ€§ have to/had to**ï¼›**è¡¨é”å»ºè­°/è­¦å‘Š had better**ï¼›**åŠ©å‹•è© Could (éå»å¼/æ¨æ¸¬/ç¦®è²Œ)** çš„æ‡‰ç”¨ï¼›**æ­é…åŠ©å‹•è©çš„å¦å®šå¥** (cannot, wouldn't, couldn't)ã€‚","grade":8},{"unit":"**II-1 åŠ©å‹•è©èˆ‡have to / had betteråŠä¸å®šä»£åè©one / ones**","title":"II-1 (3) ä¸å®šä»£åè© one / ones","content":"**ä¸å®šä»£åè© one / ones** ç”¨ä»¥å–ä»£å‰é¢æåˆ°çš„å–®æ•¸æˆ–è¤‡æ•¸åè©ï¼Œé¿å…é‡è¤‡ï¼›**ä¸å®šä»£åè©çš„å½¢å®¹è©ä¿®é£¾** (a new one, the blue one)ã€‚","grade":8},{"unit":"**II-2 å½¢å®¹è©æ¯”è¼ƒå¥å‹èˆ‡å¾å±¬é€£æ¥è©because**","title":"II-2 (1) æ¯”è¼ƒç´šå’Œæœ€é«˜ç´šå½¢å®¹è©èˆ‡å‰¯è©","content":"**å½¢å®¹è©/å‰¯è©çš„æ¯”è¼ƒç´š** (faster, more boring, worse)ï¼›**æœ€é«˜ç´š** (the most important, the tallest, the hottest)ï¼›**æ¯”è¼ƒç´šçš„ä¿®é£¾èª** (much more)ï¼›**æ¯”è¼ƒç´šæ­é…ä¸å®šä»£åè© one/ones**ã€‚","grade":8},{"unit":"**II-2 å½¢å®¹è©æ¯”è¼ƒå¥å‹èˆ‡å¾å±¬é€£æ¥è©because**","title":"II-2 (2) åŒç´šæ¯”è¼ƒèˆ‡å¾å±¬é€£æ¥è© because","content":"**åŒç´šæ¯”è¼ƒ** (as + Adj/Adv + as)ï¼›**æ•¸é‡æ¯”è¼ƒè©** (more noodles/food)ï¼›**å¾å±¬é€£æ¥è© because** (å› ç‚º) å¼•èµ·çš„å­å¥ï¼Œç”¨æ–¼é€£æ¥å› æœé—œä¿‚ï¼›**ä»‹è©ç‰‡èª more than / less than**ã€‚","grade":8},{"unit":"**II-3 å‰¯è©èˆ‡æ™‚é–“å¾å±¬é€£æ¥è©**","title":"II-3 (1) å‰¯è©çš„ä½ç½®èˆ‡é¡å‹","content":"**å‰¯è©ä¿®é£¾å‹•è©** (quietly, busily, happily)ï¼›**é »ç‡å‰¯è©** (always, usually, often, sometimes, seldom, never) çš„å¥ä¸­ä½ç½®ï¼›**é™„å’Œå¥** (..., too. / ..., either.)ã€‚","grade":8},{"unit":"**II-3 å‰¯è©èˆ‡æ™‚é–“å¾å±¬é€£æ¥è©**","title":"II-3 (2) æ™‚é–“å¾å±¬é€£æ¥è© before / after","content":"**æ™‚é–“å¾å±¬é€£æ¥è© before/after** å¼•å°çš„å­å¥æˆ–ç‰‡èªï¼›**ä½¿ç”¨ V-ing ç°¡åŒ–æ™‚é–“å¾å±¬å­å¥** (Before going to bed, After drinking milk)ï¼›**æœªä¾†æ™‚é–“çš„å¾å±¬å­å¥éœ€ç”¨ç¾åœ¨å¼**ã€‚","grade":8},{"unit":"**II-3 å‰¯è©èˆ‡æ™‚é–“å¾å±¬é€£æ¥è©**","title":"II-3 (3) æ™‚é–“å¾å±¬é€£æ¥è© when èˆ‡å…¶ä»–ç‰¹æ®Šå¥å‹","content":"**æ™‚é–“å¾å±¬é€£æ¥è© when** çš„æ‡‰ç”¨ï¼›**ç‰¹æ®Šå‰¯è©å¥å‹** (There it is)ï¼›**æƒ…æ…‹åŠ©å‹•è©** (Would you like to V?)ã€‚","grade":8},{"unit":"**II-4 å‹•åè©èˆ‡ä¸å®šè©åŠè™›ä¸»è© It**","title":"II-4 (1) å‹•åè©èˆ‡ä¸å®šè©ä½œä¸»è©åŠç‰¹å®šå‹•è©å¾Œç”¨æ³•","content":"**å‹•åè© (V-ing) ä½œä¸»è©**ï¼›**å‹•åè©ä½œå—è©** (enjoy V-ing, stop V-ing, couldn't help V-ing, How about V-ing)ï¼›**ä¸å®šè© (To V) ä½œå—è©** (agree to take, decide to watch, want to plant)ã€‚","grade":8},{"unit":"**II-4 å‹•åè©èˆ‡ä¸å®šè©åŠè™›ä¸»è© It**","title":"II-4 (2) è™›ä¸»è© It çš„æ‡‰ç”¨èˆ‡ä¸å®šè©ä½œå—è©è£œèª","content":"**è™›ä¸»è© It** çš„å¥å‹ (It is + Adj + of N + to V, It is + Adj + for N + to V)ï¼›**ä¸å®šè©ä½œå—è©è£œèª** (ask N to V)ï¼›**ä¸å®šè©è¡¨ç¤ºç›®çš„** (enough time to V)ï¼›**too... to V å¥å‹**ã€‚","grade":8},{"unit":"**II-4 å‹•åè©èˆ‡ä¸å®šè©åŠè™›ä¸»è© It**","title":"II-4 (3) æ…£ç”¨èªèˆ‡å‹•åè©/ä¸å®šè©çš„é€²éšæ‡‰ç”¨","content":"**å‹•åè©æ…£ç”¨èª** (have a good time V-ing, remember V-ing)ï¼›**å‹•è©æ­é… to V æˆ– V-ing** (like to play / likes playing)ï¼›**It takes æ™‚é–“ to V** çš„å¥å‹ã€‚","grade":8},{"unit":"**II-5 ä½¿å½¹èˆ‡æˆäºˆå‹•è©åŠæ˜“æ··æ·†å‹•è©**","title":"II-5 (1) ä½¿å½¹å‹•è© make, let, have çš„åŸºç¤ç”¨æ³•","content":"**ä½¿å½¹å‹•è© make** (make N V)ï¼›**ä½¿å½¹å‹•è© let** (let N V)ï¼›**ä½¿å½¹å‹•è© have** (have N V)ã€‚ä½¿å½¹å‹•è©å¾Œçš„å‹•è©éœ€ç‚º**åŸå½¢å‹•è©**ã€‚","grade":8},{"unit":"**II-5 ä½¿å½¹èˆ‡æˆäºˆå‹•è©åŠæ˜“æ··æ·†å‹•è©**","title":"II-5 (2) æˆäºˆå‹•è© (Ditransitive Verbs) èˆ‡ to/for çš„å€åˆ¥","content":"**æˆäºˆå‹•è©** çš„å…©ç¨®å¥å‹ (V N1 N2 / V N2 to/for N1)ï¼›**ä»‹è© for** (å¦‚ buy a car for N) çš„æ‡‰ç”¨ï¼›**é–“æ¥å—è©ä»£åè©åŒ–** çš„ä½ç½® (give it to me)ã€‚","grade":8},{"unit":"**II-5 ä½¿å½¹èˆ‡æˆäºˆå‹•è©åŠæ˜“æ··æ·†å‹•è©**","title":"II-5 (3) æ˜“æ··æ·†å‹•è© cost, spend, take","content":"**å‹•è© cost (èŠ±è²»é‡‘éŒ¢)** çš„æ‡‰ç”¨ï¼›**å‹•è© spend (èŠ±è²»é‡‘éŒ¢/æ™‚é–“)** (spend N on N / spend time V-ing)ï¼›**å‹•è© take (èŠ±è²»æ™‚é–“)** (It takes N time to V)ï¼›**ä¸å®šè© to V ä½œç‚ºå—è©** (forget to buy N)ã€‚","grade":8},{"unit":"**II-6 é€£ç¶´èˆ‡æ„Ÿå®˜å‹•è©åŠso...that...çš„ç”¨æ³•**","title":"II-6 (1) é€£ç¶´å‹•è© (Linking Verbs) çš„ç”¨æ³•","content":"**é€£ç¶´å‹•è©** (smell, taste, feel, look) ä¹‹å¾Œæ¥**å½¢å®¹è©** (good, happy)ï¼›**é€£ç¶´å‹•è© look** æ­é… **like + N** è¡¨ç¤ºã€Œçœ‹èµ·ä¾†åƒã€ï¼›**é€£ç¶´å‹•è© turn + Adj**ã€‚","grade":8},{"unit":"**II-6 é€£ç¶´èˆ‡æ„Ÿå®˜å‹•è©åŠso...that...çš„ç”¨æ³•**","title":"II-6 (2) æ„Ÿå®˜å‹•è© (Sensory Verbs) èˆ‡ so...that...å¥å‹","content":"**æ„Ÿå®˜å‹•è©** (hear, see, notice, feel) ä¹‹å¾Œæ¥**å—è© + åŸå½¢å‹•è© (V)** æˆ–**ç¾åœ¨åˆ†è© (V-ing)**ï¼›**ã€Œå¦‚æ­¤â‹¯â‹¯ä»¥è‡´æ–¼â‹¯â‹¯ã€å¥å‹** (so + Adj/Adv + that + å­å¥)ã€‚","grade":8},{"unit":"**II-7 ç¾åœ¨å®Œæˆå¼åŠæ‰€æœ‰æ ¼ä»£åè©èˆ‡åèº«ä»£åè©**","title":"II-7 (1) ç¾åœ¨å®Œæˆå¼ (Present Perfect Tense) çš„ç¶“é©—èˆ‡æŒçºŒç”¨æ³•","content":"**ç¾åœ¨å®Œæˆå¼** (has/have + Vp.p.) çš„åŸºæœ¬çµæ§‹ï¼›**æ­é…å‰¯è©** (ever, never) è¡¨ç¤ºç¶“é©—ï¼›**æ­é…å‰¯è©** (for, since) è¡¨ç¤ºå‹•ä½œæŒçºŒæ™‚é–“ï¼›**å¥å‹ It has been + æ™‚é–“ + since + S + V(éå»å¼)**ã€‚","grade":8},{"unit":"**II-7 ç¾åœ¨å®Œæˆå¼åŠæ‰€æœ‰æ ¼ä»£åè©èˆ‡åèº«ä»£åè©**","title":"II-7 (2) ç¾åœ¨å®Œæˆå¼çš„çµæœç”¨æ³•èˆ‡æ™‚é–“å‰¯è© yet/already","content":"**ç¾åœ¨å®Œæˆå¼** è¡¨ç¤º**çµæœ** (has gone to the library)ï¼›**æ­é… yet/already** è©¢å•æˆ–è¡¨ç¤ºæ˜¯å¦å·²ç¶“å®Œæˆ (Hasn't finished... yet)ï¼›**å‹•åè© (V-ing)** ä½œç‚ºä»‹è©ç‰‡èªä¸­çš„å—è©ã€‚","grade":8},{"unit":"**II-7 ç¾åœ¨å®Œæˆå¼åŠæ‰€æœ‰æ ¼ä»£åè©èˆ‡åèº«ä»£åè©**","title":"II-7 (3) æ‰€æœ‰æ ¼ä»£åè©èˆ‡åèº«ä»£åè©","content":"**æ‰€æœ‰æ ¼ä»£åè©** (mine, hers, yours, ours, theirs) å–ä»£æ‰€æœ‰æ ¼å½¢å®¹è© + åè©ï¼›**åèº«ä»£åè©** (herself, themselves, by oneself) è¡¨ç¤ºå‹•ä½œçš„å°è±¡æ˜¯ä¸»è©è‡ªå·±æˆ–ç¨è‡ªå®Œæˆï¼›**åŒç´šæ¯”è¼ƒ as tall as ours**ã€‚","grade":8},{"unit":"**II-8 é™„åŠ å•å¥åŠæ„Ÿå˜†å¥**","title":"II-8 (1) é™„åŠ å•å¥ (Tag Questions) çš„åŸºæœ¬åŸå‰‡","content":"**é™„åŠ å•å¥** çš„åŸºæœ¬çµæ§‹ï¼šå‰è‚¯å®šå¾Œå¦å®šï¼Œå‰å¦å®šå¾Œè‚¯å®šï¼›**Be å‹•è©**ã€**ä¸€èˆ¬å‹•è©**ã€**åŠ©å‹•è© (have to)**ã€**ç¾åœ¨é€²è¡Œå¼** çš„é™„åŠ å•å¥ç”¨æ³•ï¼›**ç‰¹æ®Šé™„åŠ å•å¥** (There be, I am) çš„ç”¨æ³•ã€‚","grade":8},{"unit":"**II-8 é™„åŠ å•å¥åŠæ„Ÿå˜†å¥**","title":"II-8 (2) æ„Ÿå˜†å¥ (Exclamatory Sentences) çš„ç”¨æ³•","content":"**How é–‹é ­çš„æ„Ÿå˜†å¥** (How + Adj/Adv + S + V!)ï¼›**What é–‹é ­çš„æ„Ÿå˜†å¥** (What a(n) + Adj + N + S + V!)ï¼›**So/Such çš„æ„Ÿå˜†ç”¨æ³•** (So difficult!, Such a good N!)ï¼›**Not only... but also** çš„é€²éšæ‡‰ç”¨ã€‚","grade":8},{"unit":"**III-1 è¢«å‹•èªæ…‹ã€åˆ†è©ç•¶å½¢å®¹è©åŠéå»/ç¾åœ¨ç¿’æ…£ç”¨èª**","title":"III-1 (1) è¢«å‹•èªæ…‹ (Passive Voice) çš„ç¾åœ¨å¼èˆ‡éå»å¼","content":"**è¢«å‹•èªæ…‹åŸºæœ¬çµæ§‹** (Be + Vp.p.)ï¼›**ç¾åœ¨ç°¡å–®å¼è¢«å‹•** (is/are + Vp.p.)ï¼›**éå»ç°¡å–®å¼è¢«å‹•** (was/were + Vp.p.)ï¼›**å‹•ä½œåŸ·è¡Œè€…** (by + N)ã€‚","grade":9},{"unit":"**III-1 è¢«å‹•èªæ…‹ã€åˆ†è©ç•¶å½¢å®¹è©åŠéå»/ç¾åœ¨ç¿’æ…£ç”¨èª**","title":"III-1 (2) è¢«å‹•èªæ…‹çš„åŠ©å‹•è©èˆ‡æœªä¾†å¼","content":"**è¢«å‹•èªæ…‹æ­é…åŠ©å‹•è©** (can be answered, will be sold, must be followed)ï¼›**æœªä¾†å¼è¢«å‹•èªæ…‹** (will be Vp.p. / is going to be Vp.p.)ã€‚","grade":9},{"unit":"**III-1 è¢«å‹•èªæ…‹ã€åˆ†è©ç•¶å½¢å®¹è©åŠéå»/ç¾åœ¨ç¿’æ…£ç”¨èª**","title":"III-1 (3) åˆ†è©ç•¶å½¢å®¹è© (Participles as Adjectives)","content":"**ç¾åœ¨åˆ†è© (-ing)** ä½œå½¢å®¹è©è¡¨ç¤ºã€Œä»¤äººæ„Ÿåˆ°...ã€ (touching, surprising, interesting)ï¼›**éå»åˆ†è© (-ed)** ä½œå½¢å®¹è©è¡¨ç¤ºã€Œæ„Ÿåˆ°...ã€ (touched, surprised, tired, excited, scared, interested)ã€‚","grade":9},{"unit":"**III-1 è¢«å‹•èªæ…‹ã€åˆ†è©ç•¶å½¢å®¹è©åŠéå»/ç¾åœ¨ç¿’æ…£ç”¨èª**","title":"III-1 (4) éå»/ç¾åœ¨ç¿’æ…£ç”¨èª","content":"**ç¾åœ¨çš„ç¿’æ…£** (is used to V-ing)ï¼›**éå»çš„ç¿’æ…£** (did not have to V, liked to eat N before)ã€‚","grade":9},{"unit":"**III-2 é—œä¿‚ä»£åè©èˆ‡å…¶å­å¥å¥å‹**","title":"III-2 (1) é—œä¿‚ä»£åè© who / whom / which / that çš„ä¸»è©èˆ‡å—è©ç”¨æ³•","content":"**é—œä¿‚ä»£åè© who / that** ä½œ**ä¸»è©** (The boy who/that won...)ï¼›**é—œä¿‚ä»£åè© which / that / x** ä½œ**å—è©** (The cake which/that/x I bought...)ï¼›é—œä¿‚å­å¥ä¸­çš„**å‹•è©æ™‚æ…‹ä¸€è‡´æ€§**ã€‚","grade":9},{"unit":"**III-2 é—œä¿‚ä»£åè©èˆ‡å…¶å­å¥å¥å‹**","title":"III-2 (2) é—œä¿‚ä»£åè© whose èˆ‡æ­é…ä»‹ç³»è©çš„é—œä¿‚ä»£åè©","content":"**æ‰€æœ‰æ ¼é—œä¿‚ä»£åè© whose** (a friend whose mom is...)ï¼›**ä»‹ç³»è© + which/whom** çš„ç”¨æ³• (at which we had dinner)ã€‚","grade":9},{"unit":"**III-2 é—œä¿‚ä»£åè©èˆ‡å…¶å­å¥å¥å‹**","title":"III-2 (3) é—œä¿‚å‰¯è© when / where çš„ç”¨æ³•","content":"**é—œä¿‚å‰¯è© where** å–ä»£åœ°é» (The house where... / The park where...)ï¼›**é—œä¿‚å‰¯è© when** å–ä»£æ™‚é–“ (the moment when... / the date when...)ã€‚","grade":9},{"unit":"**III-2 é—œä¿‚ä»£åè©èˆ‡å…¶å­å¥å¥å‹**","title":"III-2 (4) åè©å­å¥ What çš„ç”¨æ³•","content":"**åè©å­å¥ what** å¼•å°çš„å­å¥ä½œä¸»è©æˆ–å—è©ï¼ŒæŒ‡ç¨±ã€Œ...çš„äº‹ç‰©ã€ (what I bought, what he said)ã€‚","grade":9},{"unit":"**III-3 æ¢ä»¶å¥ifèˆ‡é¡˜æœ›è¡¨é”å‹•è©**","title":"III-3 (1) äº‹å¯¦æ¢ä»¶å¥ (If S V, S will V)","content":"**äº‹å¯¦æ¢ä»¶å¥** (Real Conditionals)ï¼šå¦‚æœæ¢ä»¶æ˜¯äº‹å¯¦æˆ–å¯èƒ½ç™¼ç”Ÿï¼Œä¸»å¥ç”¨æœªä¾†å¼æˆ–åŠ©å‹•è© (will, may, can)ï¼›**æ¢ä»¶å­å¥ç”¨ç¾åœ¨ç°¡å–®å¼** (If S don't/doesn't V)ï¼›**ç¥ˆä½¿å¥åœ¨æ¢ä»¶å¥ä¸»å¥** (If S calls, tell him...)ã€‚","grade":9},{"unit":"**III-3 æ¢ä»¶å¥ifèˆ‡é¡˜æœ›è¡¨é”å‹•è©**","title":"III-3 (2) èˆ‡ç¾åœ¨äº‹å¯¦ç›¸åçš„å‡è¨­èªæ°£ (If S were, S would V)","content":"**èˆ‡ç¾åœ¨äº‹å¯¦ç›¸åçš„å‡è¨­èªæ°£** (Unreal Conditionals)ï¼šæ¢ä»¶å­å¥ç”¨**éå»å¼å‹•è©**æˆ– **were** (If S were/V(past)...)ï¼›**ä¸»è¦å­å¥ç”¨ would/could + åŸå½¢å‹•è©** (S would/could V)ã€‚","grade":9},{"unit":"**III-3 æ¢ä»¶å¥ifèˆ‡é¡˜æœ›è¡¨é”å‹•è©**","title":"III-3 (3) é¡˜æœ›è¡¨é”å‹•è© Hope èˆ‡ Wish","content":"**å‹•è© hope** (å¸Œæœ›æœªä¾†æˆ–å¯èƒ½ç™¼ç”Ÿçš„äº‹)ï¼›**å‹•è© wish** (å¸Œæœ›ç¾åœ¨æˆ–éå»äº‹å¯¦ç›¸åçš„äº‹ï¼Œå¾Œæ¥éå»å¼å‹•è©)ã€‚","grade":9},{"unit":"**III-4 å…¶ä»–å¾å±¬é€£æ¥è©èˆ‡å…¶å­å¥å¥å‹åŠé€£æ¥è©ç‰‡èª**","title":"III-4 (1) è®“æ­¥å¾å±¬é€£æ¥è© (Though/Although) èˆ‡åè©å­å¥ (that)","content":"**è®“æ­¥å¾å±¬é€£æ¥è© though/although** (é›–ç„¶...ä½†æ˜¯...)ï¼›**åè©å­å¥ that** å¼•å°å­å¥ä½œå—è© (hope that, say that)ï¼›**é€£ç¶´å‹•è©æ­é… that å­å¥** (We were sorry that...)ã€‚","grade":9},{"unit":"**III-4 å…¶ä»–å¾å±¬é€£æ¥è©èˆ‡å…¶å­å¥å¥å‹åŠé€£æ¥è©ç‰‡èª**","title":"III-4 (2) åè©å­å¥ (Wh- Clauses)","content":"**Wh- å•å¥è½‰ç‚ºåè©å­å¥ä½œå—è©** (tell me where/how)ï¼›åè©å­å¥å‹•è©çš„**é †åº**ï¼›**ä¸å®šè©ç°¡åŒ–ç–‘å•è©å­å¥** (where to V)ã€‚","grade":9},{"unit":"**III-4 å…¶ä»–å¾å±¬é€£æ¥è©èˆ‡å…¶å­å¥å¥å‹åŠé€£æ¥è©ç‰‡èª**","title":"III-4 (3) é€£æ¥è©ç‰‡èª (Either...or / Neither...nor)","content":"**é€£æ¥è©ç‰‡èª either...or (é A å³ B)**ï¼›**é€£æ¥è©ç‰‡èª neither...nor (æ—¢ä¸ A ä¹Ÿä¸ B)**ï¼›**é€£æ¥è©ç‰‡èªçš„ä¸»è©å‹•è©å–®è¤‡æ•¸ä¸€è‡´æ€§** (å°±è¿‘åŸå‰‡)ã€‚","grade":9},{"unit":"**III-4 å…¶ä»–å¾å±¬é€£æ¥è©èˆ‡å…¶å­å¥å¥å‹åŠé€£æ¥è©ç‰‡èª**","title":"III-4 (4) åè©å­å¥ (if/whether)","content":"**åè©å­å¥ if/whether** (æ˜¯å¦) çš„æ‡‰ç”¨ï¼›**å‹•åè© as ä¸»è©** (being safe)ï¼›**æ­é…å½¢å®¹è©çš„ä»‹ç³»è©** (be afraid that/of)ã€‚","grade":9}]`),jt=({subject:t,studentGrade:c,selectedMaterials:a,onSelectionChange:x})=>{const[l,d]=r.useState(new Set),n=r.useMemo(()=>{let p=[];t==="math"?p=[...Bs,...Ws]:p=[...Ds,...Vs];const b=[];switch(c){case"preschool":b.push(1);break;case"elementary_low":b.push(1,2);break;case"elementary_mid":b.push(3,4);break;case"elementary_high":b.push(5,6);break;case"junior_7":b.push(7);break;case"junior_8":b.push(8);break;case"junior_9":b.push(9);break;case"high_school_review":b.push(7,8,9);break}return p.filter(s=>b.includes(s.grade))},[t,c]),m=r.useMemo(()=>{const p={};return n.forEach(b=>{p[b.unit]||(p[b.unit]=[]),p[b.unit].push(b)}),p},[n]);r.useEffect(()=>{const p=Object.keys(m);p.length>0&&l.size===0&&d(new Set([p[0]]))},[m,l]);const g=p=>{const b=new Set(l);b.has(p)?b.delete(p):b.add(p),d(b)},h=p=>{const s=a.some(o=>o.title===p.title)?a.filter(o=>o.title!==p.title):[...a,p];x(s)},f=(p,b)=>{if(b.every(o=>a.some(i=>i.title===o.title))){const o=b.map(i=>i.title);x(a.filter(i=>!o.includes(i.title)))}else{const o=b.filter(i=>!a.some(v=>v.title===i.title));x([...a,...o])}};return n.length===0?e.jsx("div",{className:"p-4 text-center text-gray-500 bg-gray-50 rounded-lg border border-gray-200",children:"æ­¤å¹´ç´šç„¡å°æ‡‰çš„åšå¹¼æ•™æè³‡æ–™ã€‚"}):e.jsx("div",{className:"space-y-4 max-h-[60vh] overflow-y-auto pr-2 custom-scrollbar",children:Object.entries(m).map(([p,b])=>{const s=l.has(p),o=b.filter(S=>a.some(C=>C.title===S.title)).length,i=o===b.length,v=o>0&&!i;return e.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"bg-gray-50 px-4 py-3 flex items-center justify-between cursor-pointer hover:bg-gray-100 transition-colors",onClick:()=>g(p),children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"p-1 hover:bg-gray-200 rounded",onClick:S=>{S.stopPropagation(),f(p,b)},children:e.jsxs("div",{className:`w-5 h-5 border rounded flex items-center justify-center transition-colors ${i?"bg-indigo-600 border-indigo-600":v?"bg-indigo-100 border-indigo-400":"bg-white border-gray-300"}`,children:[i&&e.jsx("svg",{className:"w-3.5 h-3.5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})}),v&&e.jsx("div",{className:"w-3 h-0.5 bg-indigo-600 rounded-full"})]})}),e.jsx("span",{className:"font-medium text-gray-800 select-none",children:p}),e.jsxs("span",{className:"text-xs text-gray-500 bg-gray-200 px-2 py-0.5 rounded-full",children:[o,"/",b.length]})]}),e.jsx("svg",{className:`w-5 h-5 text-gray-500 transition-transform ${s?"transform rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),s&&e.jsx("div",{className:"divide-y divide-gray-100 border-t border-gray-200",children:b.map(S=>{const C=a.some(I=>I.title===S.title);return e.jsxs("div",{className:`px-4 py-3 flex items-start space-x-3 cursor-pointer transition-colors ${C?"bg-indigo-50/50":"hover:bg-gray-50"}`,onClick:()=>h(S),children:[e.jsx("div",{className:`mt-0.5 w-5 h-5 border rounded flex-shrink-0 flex items-center justify-center transition-colors ${C?"bg-indigo-600 border-indigo-600":"bg-white border-gray-300"}`,children:C&&e.jsx("svg",{className:"w-3.5 h-3.5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:`text-sm font-medium ${C?"text-indigo-900":"text-gray-700"}`,children:S.title}),e.jsx("div",{className:"text-xs text-gray-500 mt-1 line-clamp-2",children:S.content})]})]},S.title)})})]},p)})})},vt=({objectives:t,onObjectivesChange:c,isGenerating:a})=>{const[x,l]=r.useState(null),[d,n]=r.useState({objective:"",description:"",teachingExample:""}),m=s=>{l(s),n(t[s])},g=s=>{const o=[...t];o[s]=d,c(o),l(null)},h=()=>{l(null)},f=s=>{if(window.confirm("ç¢ºå®šè¦åˆªé™¤é€™å€‹å­¸ç¿’ç›®æ¨™å—ï¼Ÿ")){const o=t.filter((i,v)=>v!==s);c(o)}},p=()=>{const s={objective:"æ–°çš„å­¸ç¿’ç›®æ¨™",description:"è«‹è¼¸å…¥ç›®æ¨™æè¿°",teachingExample:"è«‹è¼¸å…¥æ•™å­¸ç¯„ä¾‹"},o=[...t,s];c(o),l(o.length-1),n(s)},b=(s,o)=>{n(i=>({...i,[s]:o}))};return a?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 space-y-4",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"}),e.jsx("p",{className:"text-lg text-slate-600 font-medium",children:"æ­£åœ¨ç”Ÿæˆå­¸ç¿’ç›®æ¨™..."}),e.jsx("p",{className:"text-sm text-slate-500",children:"AI æ­£åœ¨åˆ†ææ‚¨çš„éœ€æ±‚ä¸¦è¦åŠƒèª²ç¨‹æ¶æ§‹"})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4 mb-6",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-blue-700",children:"é€™æ˜¯ AI ç‚ºæ‚¨ç”Ÿæˆçš„å­¸ç¿’ç›®æ¨™ã€‚æ‚¨å¯ä»¥æª¢è¦–ã€ä¿®æ”¹æˆ–åˆªé™¤é€™äº›ç›®æ¨™ï¼Œç¢ºèªç„¡èª¤å¾Œå†ç¹¼çºŒç”Ÿæˆå®Œæ•´çš„æ•™æå…§å®¹ã€‚"})})]})}),e.jsxs("div",{className:"space-y-4",children:[t.map((s,o)=>e.jsx("div",{className:"bg-white border border-slate-200 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow",children:x===o?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"ç›®æ¨™æ¨™é¡Œ"}),e.jsx("input",{type:"text",value:d.objective,onChange:i=>b("objective",i.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"è©³ç´°æè¿°"}),e.jsx("textarea",{value:d.description,onChange:i=>b("description",i.target.value),rows:3,className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"æ•™å­¸ç¯„ä¾‹"}),e.jsx("textarea",{value:d.teachingExample||"",onChange:i=>b("teachingExample",i.target.value),rows:2,className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:ring-indigo-500 focus:border-indigo-500"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[e.jsx("button",{onClick:h,className:"px-4 py-2 text-sm font-medium text-slate-600 hover:text-slate-800",children:"å–æ¶ˆ"}),e.jsx("button",{onClick:()=>g(o),className:"px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-md hover:bg-indigo-700",children:"å„²å­˜ä¿®æ”¹"})]})]}):e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:s.objective}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>m(o),className:"text-slate-400 hover:text-indigo-600 transition-colors",title:"ç·¨è¼¯",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),e.jsx("button",{onClick:()=>f(o),className:"text-slate-400 hover:text-red-600 transition-colors",title:"åˆªé™¤",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})]}),e.jsx("p",{className:"text-slate-600 mb-3",children:s.description}),s.teachingExample&&e.jsxs("div",{className:"bg-slate-50 rounded p-3 text-sm text-slate-500 border border-slate-100",children:[e.jsx("span",{className:"font-medium text-slate-700",children:"ç¯„ä¾‹ï¼š"}),s.teachingExample]})]})},o)),e.jsxs("button",{onClick:p,className:"w-full py-3 border-2 border-dashed border-slate-300 rounded-lg text-slate-500 hover:border-indigo-500 hover:text-indigo-600 transition-colors flex items-center justify-center font-medium",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"æ–°å¢å­¸ç¿’ç›®æ¨™"]})]})]})},Os=[{id:"visual",title:"è¦–è¦ºåŒ–æ•™å­¸ (Visual)",description:"åˆ©ç”¨åœ–è¡¨ã€å¹¾ä½•åœ–å½¢å’Œè¦–è¦ºè¼”åŠ©å·¥å…·ä¾†è§£é‡‹æ•¸å­¸æ¦‚å¿µï¼Œå¹«åŠ©å­¸ç”Ÿå»ºç«‹ç›´è§€ç†è§£ã€‚"},{id:"cpa",title:"CPA æ•™å­¸æ³•",description:"å…·é«” (Concrete) -> åœ–åƒ (Pictorial) -> æŠ½è±¡ (Abstract) çš„ä¸‰éšæ®µæ•™å­¸ï¼Œå¾ªåºæ¼¸é€²å»ºç«‹æ¦‚å¿µã€‚"},{id:"concept_oriented",title:"æ¦‚å¿µå°å‘ (Concept-oriented)",description:"å¼·èª¿æ•¸å­¸æ ¸å¿ƒæ¦‚å¿µçš„ç†è§£èˆ‡é€£çµï¼Œè€Œéåƒ…åƒ…è¨˜æ†¶å…¬å¼æˆ–è§£é¡Œæ­¥é©Ÿã€‚"},{id:"discovery",title:"ç™¼ç¾å¼å­¸ç¿’ (Discovery)",description:"å¼•å°å­¸ç”Ÿé€éè§€å¯Ÿã€å¯¦é©—å’Œæ¨ç†ï¼Œè‡ªå·±ç™¼ç¾æ•¸å­¸è¦å¾‹å’Œå®šç†ã€‚"},{id:"gamification",title:"éŠæˆ²åŒ–æ•™å­¸ (Gamification)",description:"å°‡æ•¸å­¸ç·´ç¿’èå…¥éŠæˆ²æ©Ÿåˆ¶ä¸­ï¼Œæé«˜å­¸ç¿’å‹•æ©Ÿå’Œåƒèˆ‡åº¦ã€‚"},{id:"contextual",title:"æƒ…å¢ƒå¼æ•™å­¸ (Contextual)",description:"å°‡æ•¸å­¸å•é¡Œç½®æ–¼çœŸå¯¦ç”Ÿæ´»æƒ…å¢ƒä¸­ï¼Œè®“å­¸ç”Ÿç†è§£æ•¸å­¸çš„å¯¦éš›æ‡‰ç”¨åƒ¹å€¼ã€‚"}],Hs=[{id:"preschool",label:"å­¸é½¡å‰ (Preschool)"},{id:"elementary_low",label:"åœ‹å°ä½å¹´ç´š (1-2å¹´ç´š)"},{id:"elementary_mid",label:"åœ‹å°ä¸­å¹´ç´š (3-4å¹´ç´š)"},{id:"elementary_high",label:"åœ‹å°é«˜å¹´ç´š (5-6å¹´ç´š)"},{id:"junior_7",label:"åœ‹ä¸­ä¸ƒå¹´ç´š"},{id:"junior_8",label:"åœ‹ä¸­å…«å¹´ç´š"},{id:"junior_9",label:"åœ‹ä¸­ä¹å¹´ç´š"},{id:"high_school_review",label:"é«˜ä¸­è¤‡ç¿’"}],qs=({onComplete:t,apiKey:c})=>{const a=Re(),[x,l]=r.useState(1),[d,n]=r.useState(!1),[m,g]=r.useState(!1),[h,f]=r.useState(null),[p,b]=r.useState(1),[s,o]=r.useState(45),[i,v]=r.useState("physical"),[S,C]=r.useState("none"),[I,A]=r.useState("elementary_mid"),[k,j]=r.useState([]),[y,$]=r.useState("concept_oriented"),[T,z]=r.useState([]),[D,L]=r.useState(""),u=async()=>await Be()?"provider-system-placeholder-key":c,R=async()=>{if(x===2){n(!0),f(null);try{const w=await u();if(!w)throw new Error("è«‹å…ˆè¨­å®š API Key æˆ–é…ç½® AI Provider");const K=await Dt({studentCount:p,classDuration:s,teachingContext:i,priorExperience:S,studentGrade:I,selectedMaterials:k,teachingMethod:y},w);z(K.learningObjectives),L(K.topic),l(3)}catch(w){console.error("Error generating objectives:",w),f(w.message||"ç”Ÿæˆå­¸ç¿’ç›®æ¨™æ™‚ç™¼ç”ŸéŒ¯èª¤")}finally{n(!1)}}else l(x+1)},V=()=>{l(x-1)},N=async()=>{g(!0),f(null);try{const w=await u();if(!w)throw new Error("è«‹å…ˆè¨­å®š API Key æˆ–é…ç½® AI Provider");const Z=await Wt(D,T,w),K=`Math: ${k.map(Y=>Y.title).join(", ")}`;await t(Z,K),a("/")}catch(w){console.error("Error generating content:",w),f(w.message||"ç”Ÿæˆæ•™æå…§å®¹æ™‚ç™¼ç”ŸéŒ¯èª¤")}finally{g(!1)}},M=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["å­¸ç”Ÿäººæ•¸: ",p," äºº"]}),e.jsx("input",{type:"range",min:"1",max:"50",value:p,onChange:w=>b(parseInt(w.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"1äºº (å®¶æ•™)"}),e.jsx("span",{children:"50äºº (å¤§ç­)"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["èª²ç¨‹æ™‚é–“: ",s," åˆ†é˜"]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>o(Math.max(15,s-15)),className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200 text-gray-600",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),e.jsx("input",{type:"number",value:s,onChange:w=>o(Math.max(1,parseInt(w.target.value)||0)),className:"block w-24 text-center rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm border p-2"}),e.jsx("button",{type:"button",onClick:()=>o(s+15),className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200 text-gray-600",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"å­¸ç”Ÿå¹´ç´š"}),e.jsx("select",{value:I,onChange:w=>A(w.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md border",children:Hs.map(w=>e.jsx("option",{value:w.id,children:w.label},w.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"æ•™å­¸å ´æ™¯"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:`border rounded-lg p-4 cursor-pointer flex flex-col items-center justify-center text-center transition-colors ${i==="physical"?"bg-indigo-50 border-indigo-500 text-indigo-700":"hover:bg-gray-50 border-gray-200"}`,onClick:()=>v("physical"),children:[e.jsx("span",{className:"text-lg mb-1",children:"ğŸ«"}),e.jsx("span",{className:"font-medium",children:"å¯¦é«”æ•™å®¤"})]}),e.jsxs("div",{className:`border rounded-lg p-4 cursor-pointer flex flex-col items-center justify-center text-center transition-colors ${i==="online"?"bg-indigo-50 border-indigo-500 text-indigo-700":"hover:bg-gray-50 border-gray-200"}`,onClick:()=>v("online"),children:[e.jsx("span",{className:"text-lg mb-1",children:"ğŸ’»"}),e.jsx("span",{className:"font-medium",children:"ç·šä¸Šæ•™å­¸"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"å­¸ç”Ÿå…ˆå‚™ç¶“é©— / ç‰¹æ®Šéœ€æ±‚"}),e.jsx("div",{className:"space-y-2",children:[{id:"none",label:"ç„¡ç‰¹æ®Šç¶“é©— (ä¸€èˆ¬å­¸ç”Ÿ)"},{id:"partial",label:"éƒ¨åˆ†å…ˆå‚™çŸ¥è­˜ (éœ€è¤‡ç¿’)"},{id:"special_needs",label:"ç‰¹æ®Šå­¸ç¿’éœ€æ±‚ (éœ€æ›´å¤šå¼•å°)"}].map(w=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:`exp-${w.id}`,name:"priorExperience",type:"radio",checked:S===w.id,onChange:()=>C(w.id),className:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300"}),e.jsx("label",{htmlFor:`exp-${w.id}`,className:"ml-3 block text-sm font-medium text-gray-700",children:w.label})]},w.id))})]})]}),P=()=>e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"é¸æ“‡åšå¹¼æ•™æå–®å…ƒ"}),e.jsx(jt,{subject:"math",studentGrade:I,selectedMaterials:k,onSelectionChange:j}),k.length===0&&e.jsx("p",{className:"text-sm text-red-500 mt-2",children:"* è«‹è‡³å°‘é¸æ“‡ä¸€å€‹æ•™æå–®å…ƒ"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"é¸æ“‡æ•™å­¸æ³•"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Os.map(w=>e.jsx(ft,{id:w.id,title:w.title,description:w.description,selected:y===w.id,onSelect:()=>$(w.id)},w.id))})]})]}),E=()=>e.jsx(vt,{objectives:T,onObjectivesChange:z,isGenerating:d});return e.jsxs("div",{className:"max-w-4xl mx-auto",children:[h&&e.jsx("div",{className:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg",children:h}),e.jsxs(bt,{currentStep:x,totalSteps:3,title:"æ•¸å­¸æ•™æç”Ÿæˆè¨­å®š",onNext:R,onPrev:V,onSubmit:N,canNext:x===1||x===2&&k.length>0,canFinish:x===3&&T.length>0,isSubmitting:d||m,children:[x===1&&M(),x===2&&P(),x===3&&E()]})]})},Gs=[{id:"clt",title:"æºé€šå¼æ•™å­¸ (CLT)",description:"å¼·èª¿èªè¨€çš„åŠŸèƒ½æ€§ï¼Œé€éçœŸå¯¦æƒ…å¢ƒçš„äº’å‹•èˆ‡æºé€šä¾†å­¸ç¿’è‹±èªã€‚"},{id:"tpr",title:"å…¨èº«åæ‡‰æ•™å­¸æ³• (TPR)",description:"çµåˆè‚¢é«”å‹•ä½œèˆ‡èªè¨€æŒ‡ä»¤ï¼Œå¹«åŠ©å­¸ç”Ÿå»ºç«‹è½åŠ›ç†è§£èˆ‡å‹•ä½œçš„é€£çµï¼Œé™ä½å­¸ç¿’ç„¦æ…®ã€‚"},{id:"phonics",title:"è‡ªç„¶ç™¼éŸ³æ³• (Phonics)",description:"æ•™æˆå­—æ¯èˆ‡ç™¼éŸ³çš„å°æ‡‰è¦å‰‡ï¼Œå¹«åŠ©å­¸ç”Ÿè¦‹å­—è®€éŸ³ã€è½éŸ³æ‹¼å­—ã€‚"},{id:"scaffolding",title:"é·¹æ¶ç†è«– (Scaffolding)",description:"æä¾›é©ç•¶çš„è¼”åŠ©èˆ‡å¼•å°ï¼Œå”åŠ©å­¸ç”Ÿè·¨è¶Šå­¸ç¿’é›£é»ï¼Œé€æ­¥é”æˆå­¸ç¿’ç›®æ¨™ã€‚"},{id:"gamification",title:"éŠæˆ²åŒ–æ•™å­¸ (Gamification)",description:"é‹ç”¨éŠæˆ²å…ƒç´ èˆ‡æ©Ÿåˆ¶ï¼Œæå‡å­¸ç”Ÿçš„å­¸ç¿’å‹•æ©Ÿèˆ‡åƒèˆ‡åº¦ã€‚"},{id:"ppp",title:"PPP æ•™å­¸æ³•",description:"å‘ˆç¾ (Presentation) -> ç·´ç¿’ (Practice) -> ç”¢å‡º (Production) çš„ç¶“å…¸æ•™å­¸æµç¨‹ã€‚"},{id:"tbl",title:"ä»»å‹™å°å‘å­¸ç¿’ (TBL)",description:"ä»¥å®Œæˆç‰¹å®šä»»å‹™ç‚ºæ ¸å¿ƒï¼Œè®“å­¸ç”Ÿåœ¨éç¨‹ä¸­é‹ç”¨è‹±èªè§£æ±ºå•é¡Œã€‚"},{id:"cooperative",title:"åˆä½œå­¸ç¿’ (Cooperative)",description:"é€éå°çµ„åˆä½œå®Œæˆå­¸ç¿’ä»»å‹™ï¼Œä¿ƒé€²åŒå„•äº’å‹•èˆ‡äº’åŠ©ã€‚"}],Ks=[{id:"preschool",label:"å­¸é½¡å‰ (Preschool)"},{id:"elementary_low",label:"åœ‹å°ä½å¹´ç´š (1-2å¹´ç´š)"},{id:"elementary_mid",label:"åœ‹å°ä¸­å¹´ç´š (3-4å¹´ç´š)"},{id:"elementary_high",label:"åœ‹å°é«˜å¹´ç´š (5-6å¹´ç´š)"},{id:"junior_7",label:"åœ‹ä¸­ä¸ƒå¹´ç´š"},{id:"junior_8",label:"åœ‹ä¸­å…«å¹´ç´š"},{id:"junior_9",label:"åœ‹ä¸­ä¹å¹´ç´š"},{id:"high_school_review",label:"é«˜ä¸­è¤‡ç¿’"}],Fs=({onComplete:t,apiKey:c})=>{const a=Re(),[x,l]=r.useState(1),[d,n]=r.useState(!1),[m,g]=r.useState(!1),[h,f]=r.useState(null),[p,b]=r.useState(1),[s,o]=r.useState(45),[i,v]=r.useState("physical"),[S,C]=r.useState("none"),[I,A]=r.useState("elementary_mid"),[k,j]=r.useState([]),[y,$]=r.useState("clt"),[T,z]=r.useState([]),[D,L]=r.useState(""),u=async()=>await Be()?"provider-system-placeholder-key":c,R=async()=>{if(x===2){n(!0),f(null);try{const w=await u();if(!w)throw new Error("è«‹å…ˆè¨­å®š API Key æˆ–é…ç½® AI Provider");const K=await Ot({studentCount:p,classDuration:s,teachingContext:i,priorExperience:S,studentGrade:I,selectedMaterials:k,teachingMethod:y},w);z(K.learningObjectives),L(K.topic),l(3)}catch(w){console.error("Error generating objectives:",w),f(w.message||"ç”Ÿæˆå­¸ç¿’ç›®æ¨™æ™‚ç™¼ç”ŸéŒ¯èª¤")}finally{n(!1)}}else l(x+1)},V=()=>{l(x-1)},N=async()=>{g(!0),f(null);try{const w=await u();if(!w)throw new Error("è«‹å…ˆè¨­å®š API Key æˆ–é…ç½® AI Provider");const Z=await Vt(D,T,w),K=`English: ${k.map(Y=>Y.title).join(", ")}`;await t(Z,K),a("/")}catch(w){console.error("Error generating content:",w),f(w.message||"ç”Ÿæˆæ•™æå…§å®¹æ™‚ç™¼ç”ŸéŒ¯èª¤")}finally{g(!1)}},M=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["å­¸ç”Ÿäººæ•¸: ",p," äºº"]}),e.jsx("input",{type:"range",min:"1",max:"50",value:p,onChange:w=>b(parseInt(w.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsx("span",{children:"1äºº (å®¶æ•™)"}),e.jsx("span",{children:"50äºº (å¤§ç­)"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["èª²ç¨‹æ™‚é–“: ",s," åˆ†é˜"]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{type:"button",onClick:()=>o(Math.max(15,s-15)),className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200 text-gray-600",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),e.jsx("input",{type:"number",value:s,onChange:w=>o(Math.max(1,parseInt(w.target.value)||0)),className:"block w-24 text-center rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm border p-2"}),e.jsx("button",{type:"button",onClick:()=>o(s+15),className:"p-2 rounded-full bg-gray-100 hover:bg-gray-200 text-gray-600",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"å­¸ç”Ÿå¹´ç´š"}),e.jsx("select",{value:I,onChange:w=>A(w.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md border",children:Ks.map(w=>e.jsx("option",{value:w.id,children:w.label},w.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"æ•™å­¸å ´æ™¯"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:`border rounded-lg p-4 cursor-pointer flex flex-col items-center justify-center text-center transition-colors ${i==="physical"?"bg-indigo-50 border-indigo-500 text-indigo-700":"hover:bg-gray-50 border-gray-200"}`,onClick:()=>v("physical"),children:[e.jsx("span",{className:"text-lg mb-1",children:"ğŸ«"}),e.jsx("span",{className:"font-medium",children:"å¯¦é«”æ•™å®¤"})]}),e.jsxs("div",{className:`border rounded-lg p-4 cursor-pointer flex flex-col items-center justify-center text-center transition-colors ${i==="online"?"bg-indigo-50 border-indigo-500 text-indigo-700":"hover:bg-gray-50 border-gray-200"}`,onClick:()=>v("online"),children:[e.jsx("span",{className:"text-lg mb-1",children:"ğŸ’»"}),e.jsx("span",{className:"font-medium",children:"ç·šä¸Šæ•™å­¸"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"å­¸ç”Ÿå…ˆå‚™ç¶“é©— / ç‰¹æ®Šéœ€æ±‚"}),e.jsx("div",{className:"space-y-2",children:[{id:"none",label:"ç„¡ç‰¹æ®Šç¶“é©— (ä¸€èˆ¬å­¸ç”Ÿ)"},{id:"partial",label:"éƒ¨åˆ†å…ˆå‚™çŸ¥è­˜ (éœ€è¤‡ç¿’)"},{id:"special_needs",label:"ç‰¹æ®Šå­¸ç¿’éœ€æ±‚ (éœ€æ›´å¤šå¼•å°)"}].map(w=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:`exp-${w.id}`,name:"priorExperience",type:"radio",checked:S===w.id,onChange:()=>C(w.id),className:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300"}),e.jsx("label",{htmlFor:`exp-${w.id}`,className:"ml-3 block text-sm font-medium text-gray-700",children:w.label})]},w.id))})]})]}),P=()=>e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"é¸æ“‡åšå¹¼æ•™æå–®å…ƒ"}),e.jsx(jt,{subject:"english",studentGrade:I,selectedMaterials:k,onSelectionChange:j}),k.length===0&&e.jsx("p",{className:"text-sm text-red-500 mt-2",children:"* è«‹è‡³å°‘é¸æ“‡ä¸€å€‹æ•™æå–®å…ƒ"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"é¸æ“‡æ•™å­¸æ³•"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Gs.map(w=>e.jsx(ft,{id:w.id,title:w.title,description:w.description,selected:y===w.id,onSelect:()=>$(w.id)},w.id))})]})]}),E=()=>e.jsx(vt,{objectives:T,onObjectivesChange:z,isGenerating:d});return e.jsxs("div",{className:"max-w-4xl mx-auto",children:[h&&e.jsx("div",{className:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg",children:h}),e.jsxs(bt,{currentStep:x,totalSteps:3,title:"è‹±èªæ•™æç”Ÿæˆè¨­å®š",onNext:R,onPrev:V,onSubmit:N,canNext:x===1||x===2&&k.length>0,canFinish:x===3&&T.length>0,isSubmitting:d||m,children:[x===1&&M(),x===2&&P(),x===3&&E()]})]})},_s=({quiz:t,topic:c,apiKey:a,supportsDiagnostic:x=!1,quizBinId:l})=>{const[d,n]=r.useState(re.Easy),[m,g]=r.useState([]),[h,f]=r.useState(!1),[p,b]=r.useState(""),[s,o]=r.useState(!1),[i,v]=r.useState(""),[S,C]=r.useState(!1),[I,A]=r.useState(!1),k=r.useCallback((u,R,V,N,M,P)=>{if(!x)return;const E=`${d}-${u}-${R}`,w={questionId:E,questionType:u,difficulty:d.toLowerCase(),userAnswer:V,correctAnswer:N,isCorrect:M,responseTime:P,attempts:1};g(Z=>{const K=Z.findIndex(Y=>Y.questionId===E);if(K>=0){const Y=[...Z];return Y[K]={...Y[K],userAnswer:V,isCorrect:M,attempts:(Y[K].attempts||1)+1},Y}return[...Z,w]})},[d,x]),j=(u,R)=>{switch(u){case"trueFalse":return R.isTrue;case"multipleChoice":return R.options[R.correctAnswerIndex];case"fillInTheBlanks":return R.correctAnswers;case"sentenceScramble":return R.originalSentence;case"memoryCardGame":return R.pairs;default:return null}},y=()=>{const u=d.toLowerCase();return m.filter(R=>R.difficulty===u)},$=r.useCallback(async()=>{const R=(()=>{const V=d.toLowerCase();return m.filter(N=>N.difficulty===V)})();if(R.length===0){alert("è«‹å…ˆå®Œæˆä¸€äº›é¡Œç›®å†åˆ†äº«çµæœï¼");return}if(!p.trim()){C(!0);return}o(!0);try{const V=ss(R),N=d===re.Easy?"ç°¡å–®":d===re.Normal?"æ™®é€š":"å›°é›£",M=t?.[d]||{},P=await rs({studentName:p.trim(),topic:c,difficulty:N,responses:R,overallScore:V,completedAt:new Date().toISOString(),quizBinId:l,quizContent:M,metadata:{totalQuestions:R.length,correctAnswers:R.filter(Z=>Z.isCorrect).length,selectedDifficulty:d}}),w=`${window.location.origin}/ai-page-gen/student-results?binId=${P}`;v(w),navigator.clipboard&&window.isSecureContext?(await navigator.clipboard.writeText(w),alert("ä½œç­”çµæœå·²åˆ†äº«ï¼é€£çµå·²è¤‡è£½åˆ°å‰ªè²¼ç°¿ï¼Œå¯ä»¥å‚³é€çµ¦è€å¸«ã€‚")):alert("ä½œç­”çµæœå·²åˆ†äº«ï¼è«‹è¤‡è£½ä¸‹æ–¹é€£çµå‚³é€çµ¦è€å¸«ã€‚")}catch(V){console.error("åˆ†äº«å¤±æ•—:",V),alert("åˆ†äº«å¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦ã€‚")}finally{o(!1)}},[m,p,c,d,l,t]);if(h&&x&&a&&y().length>0)return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(be,{className:"w-8 h-8 text-indigo-600"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"å­¸ç¿’è¨ºæ–·å ±å‘Š"}),e.jsxs("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-800 text-sm font-medium rounded-full",children:[d===re.Easy?"ç°¡å–®":d===re.Normal?"æ™®é€š":"å›°é›£"," é›£åº¦"]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(oe,{className:"w-5 h-5"}),e.jsx("span",{className:"text-lg font-medium",children:c})]})]})}),e.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:e.jsx(qe,{topic:`${c} (${d===re.Easy?"ç°¡å–®":d===re.Normal?"æ™®é€š":"å›°é›£"}é›£åº¦)`,apiKey:a,mode:"student",initialResponses:y(),onClose:()=>f(!1),onRetakeQuiz:()=>{const u=d.toLowerCase();g(R=>R.filter(V=>V.difficulty!==u)),f(!1)},onContinueLearning:()=>f(!1)})})]});if(!t)return e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ye,{className:"w-16 h-16 text-slate-400 mx-auto mb-4"}),e.jsx("p",{className:"text-slate-600 text-lg",children:"æ²’æœ‰å¯ç”¨çš„æ¸¬é©—è³‡æ–™"})]});const T=t[d],z=[{key:re.Easy,label:"ç°¡å–®",color:"bg-green-500 hover:bg-green-600"},{key:re.Normal,label:"æ™®é€š",color:"bg-yellow-500 hover:bg-yellow-600"},{key:re.Hard,label:"å›°é›£",color:"bg-red-500 hover:bg-red-600"}],D={trueFalse:"æ˜¯éé¡Œ",multipleChoice:"é¸æ“‡é¡Œ",fillInTheBlanks:"å¡«ç©ºé¡Œ",sentenceScramble:"å¥å­é‡çµ„",memoryCardGame:"ç¿»å¡ç‰Œè¨˜æ†¶éŠæˆ²"},L=(u,R)=>{if(!R||!Array.isArray(R)||R.length===0)return null;const V=N=>x?(M,P,E)=>{const w=j(u,R[N]);k(u,N,M,w,P,E)}:void 0;switch(u){case"trueFalse":return e.jsx("div",{className:"space-y-4",children:R.map((N,M)=>e.jsx(We,{question:N,itemNumber:M+1,onAnswer:V(M)},`${d}-tf-${M}`))});case"multipleChoice":return e.jsx("div",{className:"space-y-4",children:R.map((N,M)=>e.jsx(De,{question:N,itemNumber:M+1,onAnswer:V(M)},`${d}-mc-${M}`))});case"fillInTheBlanks":return e.jsx("div",{className:"space-y-4",children:R.map((N,M)=>e.jsx(ct,{question:N,itemNumber:M+1,onAnswer:V(M)},`${d}-fb-${M}`))});case"sentenceScramble":return e.jsx("div",{className:"space-y-4",children:R.map((N,M)=>e.jsx(xt,{question:N,itemNumber:M+1,onAnswer:V(M)},`${d}-ss-${M}`))});case"memoryCardGame":return e.jsx("div",{className:"space-y-4",children:R.map((N,M)=>e.jsx(Ve,{question:N,itemNumber:M+1,onAnswer:V(M)},`${d}-mcg-${M}`))});default:return null}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ye,{className:"w-8 h-8 text-indigo-600"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"äº’å‹•æ¸¬é©—"})]}),e.jsxs("a",{href:"/ai-page-gen/",className:"flex items-center gap-2 px-4 py-2 text-indigo-600 bg-indigo-50 border border-indigo-200 rounded-lg hover:bg-indigo-100 transition-colors",children:[e.jsx(ge,{className:"w-4 h-4"}),"è¿”å›é¦–é "]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[e.jsx(oe,{className:"w-5 h-5"}),e.jsx("span",{className:"text-lg font-medium",children:c}),x&&e.jsx("span",{className:"ml-2 px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full",children:"æ”¯æ´ AI è¨ºæ–·"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[x&&y().length>0&&e.jsxs("button",{onClick:()=>f(!0),className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:[e.jsx(be,{className:"w-5 h-5"}),"æŸ¥çœ‹å­¸ç¿’è¨ºæ–· (",y().length,")"]}),y().length>0&&e.jsxs("button",{onClick:$,disabled:s,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-11.314a2.25 2.25 0 1 0 3.935-2.186 2.25 2.25 0 0 0-3.935 2.186Z"})}),s?"åˆ†äº«ä¸­...":`åˆ†äº«çµæœçµ¦è€å¸« (${y().length})`]})]})]})]})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[x&&e.jsx("div",{className:"mb-6 p-4 bg-blue-50 border-l-4 border-blue-400 rounded-r-lg",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(be,{className:"w-5 h-5 text-blue-400 mt-0.5"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm text-blue-700 font-medium",children:"æ­¤æ¸¬é©—æ”¯æ´ AI å­¸ç¿’è¨ºæ–·åŠŸèƒ½"}),e.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"å®Œæˆé¡Œç›®å¾Œå¯æŸ¥çœ‹å€‹äººåŒ–å­¸ç¿’å»ºè­°ã€‚æ‚¨çš„ç­”é¡Œè³‡æ–™åƒ…ç”¨æ–¼ç”Ÿæˆå­¸ç¿’è¨ºæ–·å ±å‘Šã€‚"})]})]})}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"é¸æ“‡é›£åº¦ç­‰ç´š"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:z.map(({key:u,label:R,color:V})=>e.jsx("button",{onClick:()=>n(u),className:`px-6 py-3 rounded-lg text-white font-medium transition-all transform hover:scale-105 shadow-md
                  ${d===u?`${V} ring-4 ring-opacity-50`:"bg-gray-400 hover:bg-gray-500"}
                `,children:R},u))})]}),T&&e.jsx("div",{className:"space-y-8",children:Object.keys(D).map(u=>{const R=T[u],V=L(u,R??[]);return V?e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6 pb-3 border-b border-gray-200",children:[e.jsx("div",{className:"w-3 h-3 bg-indigo-500 rounded-full"}),e.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:D[u]})]}),V]},u):null})}),(!T||Object.values(T).every(u=>!u||u.length===0))&&e.jsx("div",{className:"text-center py-12",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[e.jsx(ye,{className:"w-16 h-16 text-slate-400 mx-auto mb-4"}),e.jsx("p",{className:"text-slate-600 text-lg",children:"æ­¤é›£åº¦ç­‰ç´šæš«ç„¡æ¸¬é©—é¡Œç›®"}),e.jsx("p",{className:"text-slate-500 text-sm mt-2",children:"è«‹é¸æ“‡å…¶ä»–é›£åº¦ç­‰ç´š"})]})})]}),S&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:u=>{u.target===u.currentTarget&&C(!1)},children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"åˆ†äº«ä½œç­”çµæœçµ¦è€å¸«"}),e.jsx("button",{onClick:()=>C(!1),className:"text-gray-400 hover:text-gray-600 transition-colors","aria-label":"é—œé–‰",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("p",{className:"text-gray-600 mb-4",children:"è«‹è¼¸å…¥æ‚¨çš„å§“åï¼Œè®“è€å¸«çŸ¥é“é€™æ˜¯èª°çš„ä½œç­”çµæœï¼š"}),e.jsx("input",{type:"text",value:p,onChange:u=>b(u.target.value),placeholder:"è«‹è¼¸å…¥å§“å",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent mb-4",onKeyPress:u=>u.key==="Enter"&&$()}),e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx("button",{onClick:()=>C(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"å–æ¶ˆ"}),e.jsx("button",{onClick:$,disabled:!p.trim()||s,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s?"åˆ†äº«ä¸­...":"åˆ†äº«çµæœ"})]})]})}),i&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:u=>{u.target===u.currentTarget&&(v(""),A(!1))},children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"âœ… ä½œç­”çµæœå·²åˆ†äº«æˆåŠŸï¼"}),e.jsx("button",{onClick:()=>{v(""),A(!1)},className:"text-gray-400 hover:text-gray-600 transition-colors","aria-label":"é—œé–‰",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("p",{className:"text-gray-600 mb-4",children:"è«‹å°‡ä¸‹æ–¹é€£çµå‚³é€çµ¦æ‚¨çš„è€å¸«ï¼Œè€å¸«å¯ä»¥æŸ¥çœ‹æ‚¨çš„ä½œç­”çµæœä¸¦æä¾›å­¸ç¿’å»ºè­°ï¼š"}),e.jsx("div",{className:"bg-gray-50 p-3 rounded-lg mb-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("input",{type:"text",value:i,readOnly:!0,className:"w-full px-3 py-2 bg-white border border-gray-300 rounded text-sm"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:[e.jsx("button",{onClick:async()=>{navigator.clipboard&&window.isSecureContext&&(await navigator.clipboard.writeText(i),alert("é€£çµå·²è¤‡è£½åˆ°å‰ªè²¼ç°¿ï¼"))},className:"flex-1 px-3 py-2 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors",children:"è¤‡è£½é€£çµ"}),e.jsxs("button",{onClick:()=>A(!I),className:"flex-1 px-3 py-2 bg-green-600 text-white rounded text-sm hover:bg-green-700 transition-colors flex items-center justify-center gap-1",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 3.75 9.375v-4.5ZM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5ZM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 13.5 9.375v-4.5Z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 6.75h.75v.75h-.75v-.75ZM6.75 16.5h.75v.75h-.75v-.75ZM16.5 6.75h.75v.75h-.75v-.75ZM13.5 13.5H8.25v1.5H13.5V13.5ZM13.5 16.5H8.25V18H13.5v-1.5ZM16.5 16.5h1.5V18h-1.5v-1.5ZM16.5 13.5h1.5v1.5h-1.5v-1.5Z"})]}),"é¡¯ç¤º QR Code"]})]})]})}),I&&e.jsx("div",{className:"mb-4 flex justify-center",children:e.jsx(ue,{url:i,title:"ä½œç­”çµæœåˆ†äº« QR Code",size:200,className:"bg-white"})}),e.jsx("div",{className:"bg-blue-50 p-3 rounded-lg mb-4",children:e.jsxs("p",{className:"text-sm text-blue-700",children:["ğŸ’¡ ",e.jsx("strong",{children:"çµ¦è€å¸«çš„èªªæ˜ï¼š"}),e.jsx("br",{}),"è€å¸«æ‰“é–‹é€£çµå¾Œå¯ä»¥çœ‹åˆ° ",p," åœ¨ã€Œ",c,"ã€(",d===re.Easy?"ç°¡å–®":d===re.Normal?"æ™®é€š":"å›°é›£","é›£åº¦) çš„ä½œç­”çµæœï¼Œä¸¦å¯ä½¿ç”¨ AI é€²è¡Œè©³ç´°çš„å­¸ç¿’åˆ†æã€‚"]})}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:()=>{v(""),A(!1)},className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"é—œé–‰"})})]})}),e.jsx("footer",{className:"bg-white border-t mt-12 py-6",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 text-center",children:e.jsx("p",{className:"text-sm text-gray-500",children:"ç”± AI å­¸ç¿’é é¢ç”¢ç”Ÿå™¨å‰µå»º â€¢ ç¥ä½ å­¸ç¿’æ„‰å¿«ï¼"})})})]})},Qs=()=>{const[t]=ke(),c=t.get("binId"),[a,x]=G.useState(null),[l,d]=G.useState(""),[n,m]=G.useState(""),[g,h]=G.useState(!1),[f,p]=G.useState(!1),[b,s]=G.useState("");return G.useEffect(()=>{if(!c){s("ç¼ºå°‘æ¸¬é©—IDåƒæ•¸");return}(async()=>{p(!0);try{const i=await ns(c);x(i.quiz),d(i.topic);let v=i.apiKey||"";try{const S=await ut(t);S&&(v=S,console.log("ä½¿ç”¨ URL ä¸­çš„ API Key é€²è¡Œå­¸ç¿’è¨ºæ–·"))}catch(S){console.warn("è§£æ URL API Key å¤±æ•—:",S)}m(v),h(!!v)}catch(i){s(i.message||"è¼‰å…¥æ¸¬é©—å¤±æ•—")}finally{p(!1)}})()},[c,t]),f?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(de,{}),e.jsx("p",{className:"mt-4 text-gray-600",children:"è¼‰å…¥æ¸¬é©—ä¸­..."})]})}):b?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md mx-4 text-center",children:[e.jsx("div",{className:"text-red-500 text-6xl mb-4",children:"âš ï¸"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"æ¸¬é©—è¼‰å…¥å¤±æ•—"}),e.jsx("p",{className:"text-gray-600 mb-4",children:b}),e.jsx("p",{className:"text-sm text-gray-500",children:"è«‹ç¢ºèªé€£çµæ˜¯å¦æ­£ç¢ºï¼Œæˆ–è¯ç¹«æ‚¨çš„è€å¸«"})]})}):!a||!l?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md mx-4 text-center",children:[e.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"ğŸ”"}),e.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"æ‰¾ä¸åˆ°æ¸¬é©—å…§å®¹"}),e.jsx("p",{className:"text-gray-600",children:"è«‹æª¢æŸ¥é€£çµæ˜¯å¦æ­£ç¢º"})]})}):e.jsx(_s,{quiz:a,topic:l,apiKey:n,supportsDiagnostic:g,quizBinId:c??void 0})},Zs=()=>{const[t]=ke(),[c,a]=r.useState(null),[x,l]=r.useState(!0),[d,n]=r.useState(null),[m,g]=r.useState(""),[h,f]=r.useState("manual"),p=t.get("binId");r.useEffect(()=>{(async()=>{if(!p){n("ç¼ºå°‘å…§å®¹ ID"),l(!1);return}try{l(!0);const o=await as(p);a(o.writingPractice);try{const i=await ut(t);i&&(g(i),f("url"),localStorage.setItem("gemini_api_key",i),console.log("ä½¿ç”¨ URL ä¸­çš„ API Key é€²è¡Œ AI æ‰¹æ”¹"))}catch(i){console.warn("è§£æ URL API Key å¤±æ•—:",i)}}catch(o){console.error("è¼‰å…¥åˆ†äº«å…§å®¹å¤±æ•—:",o),n("è¼‰å…¥åˆ†äº«å…§å®¹å¤±æ•—ï¼Œè«‹æª¢æŸ¥é€£çµæ˜¯å¦æ­£ç¢º")}finally{l(!1)}})()},[p,t]),r.useEffect(()=>{if(!m){const s=localStorage.getItem("gemini_api_key");s&&(g(s),f("localStorage"))}},[m]);const b=s=>{s.preventDefault();const o=m.trim();o&&(localStorage.setItem("gemini_api_key",o),g(o),f("manual"))};return x?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(de,{}),e.jsx("p",{className:"mt-4 text-gray-600",children:"è¼‰å…¥å¯«ä½œç·´ç¿’å…§å®¹ä¸­..."})]})}):d?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-100 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-16 h-16 text-red-500 mx-auto mb-4",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})}),e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"è¼‰å…¥å¤±æ•—"}),e.jsx("p",{className:"text-gray-600 mb-6",children:d}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"é‡æ–°è¼‰å…¥"})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-100",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex-1 text-center",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-12 h-12 text-blue-600",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"ğŸ“ å¯«ä½œç·´ç¿’å¹³å°"}),e.jsx("p",{className:"text-gray-600",children:"å®Œæˆç·´ç¿’å¾Œå¯ç²å¾— AI å³æ™‚æ‰¹æ”¹å›é¥‹"})]}),e.jsxs("a",{href:"/ai-page-gen/",className:"flex items-center gap-2 px-4 py-2 text-indigo-600 bg-indigo-50 border border-indigo-200 rounded-lg hover:bg-indigo-100 transition-colors",children:[e.jsx(ge,{className:"w-4 h-4"}),"è¿”å›é¦–é "]})]}),!m&&e.jsxs("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-yellow-600 mt-0.5 flex-shrink-0",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-yellow-800 mb-1",children:"è¨­å®š API Key ä»¥ä½¿ç”¨ AI æ‰¹æ”¹åŠŸèƒ½"}),e.jsxs("p",{className:"text-sm text-yellow-700 mb-3",children:["è¼¸å…¥æ‚¨çš„ Google Gemini API Key ä¾†å•Ÿç”¨ AI è‡ªå‹•æ‰¹æ”¹åŠŸèƒ½ã€‚",e.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"underline ml-1",children:"é»æ­¤å–å¾— API Key"})]})]})]}),e.jsxs("form",{onSubmit:b,className:"flex gap-3",children:[e.jsx("input",{type:"password",value:m,onChange:s=>g(s.target.value),placeholder:"è«‹è¼¸å…¥æ‚¨çš„ Gemini API Key",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsx("button",{type:"submit",disabled:!m.trim(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"è¨­å®š"})]})]}),m&&e.jsx("div",{className:"mt-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium",children:"API Key å·²è¨­å®šï¼Œå¯ä»¥ä½¿ç”¨ AI æ‰¹æ”¹åŠŸèƒ½"}),h==="url"&&e.jsxs("div",{className:"text-xs text-green-600 mt-1 flex items-center gap-1",children:[e.jsx("span",{children:"ğŸ”—"}),e.jsx("span",{children:"ä¾†è‡ªåˆ†äº«é€£çµ - è€å¸«å·²ç‚ºæ‚¨é…ç½®å¥½ AI åŠŸèƒ½"})]}),h==="localStorage"&&e.jsxs("div",{className:"text-xs text-green-600 mt-1 flex items-center gap-1",children:[e.jsx("span",{children:"ğŸ’¾"}),e.jsx("span",{children:"ä¾†è‡ªæœ¬åœ°å­˜å„²"})]})]})]}),e.jsx("button",{onClick:()=>{localStorage.removeItem("gemini_api_key"),g(""),f("manual")},className:"text-sm text-green-600 hover:text-green-800 underline",children:"é‡æ–°è¨­å®š"})]})})]}),c&&e.jsx(mt,{content:c,apiKey:m,isStudentMode:!0}),e.jsxs("div",{className:"mt-8 text-center text-sm text-gray-500",children:[e.jsx("p",{children:"ğŸ¤– æœ¬å¹³å°ä½¿ç”¨ Google Gemini AI æä¾›æ™ºèƒ½æ‰¹æ”¹å›é¥‹"}),e.jsx("p",{className:"mt-1",children:"ğŸ’¡ å»ºè­°ï¼šå®Œæˆç·´ç¿’å¾Œé»æ“Šã€Œç²å¾— AI æ‰¹æ”¹ã€æŒ‰éˆ•ï¼Œå³å¯ç²å¾—è©³ç´°çš„å­¸ç¿’å»ºè­°"})]})]})})},Us=({responses:t,quizContent:c})=>{const a=(n,m)=>{if(!c)return null;const g=n.questionType,h=c[g];if(!h||!Array.isArray(h))return null;let f=m;if(n.questionId&&typeof n.questionId=="string"){const p=n.questionId.match(/\d+$/);p&&(f=parseInt(p[0]))}return h[f]||null},x=(n,m)=>{if(!n)return e.jsx("div",{className:"text-gray-400 italic",children:"æ‰¾ä¸åˆ°åŸå§‹é¡Œç›®"});switch(m){case"trueFalse":return e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"font-medium",children:"ğŸ“ é¡Œç›®é™³è¿°:"}),e.jsx("div",{className:"bg-blue-50 p-3 rounded text-gray-800",children:n.statement}),n.explanation&&e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("div",{className:"font-medium",children:"èªªæ˜: "}),e.jsx("div",{children:n.explanation})]})]});case"multipleChoice":return e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"font-medium",children:"â“ é¡Œç›®:"}),e.jsx("div",{className:"bg-blue-50 p-3 rounded text-gray-800",children:n.question}),e.jsx("div",{className:"font-medium",children:"é¸é …:"}),e.jsx("div",{className:"space-y-1",children:n.options?.map((g,h)=>e.jsxs("div",{className:`p-2 rounded text-sm ${h===n.correctAnswerIndex?"bg-green-100 border border-green-300":"bg-gray-50"}`,children:[String.fromCharCode(65+h),". ",g,h===n.correctAnswerIndex&&e.jsx("span",{className:"ml-2 text-green-600",children:"âœ“ æ­£ç¢ºç­”æ¡ˆ"})]},h))})]});case"fillInTheBlanks":return e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"font-medium",children:"âœï¸ å¡«ç©ºé¡Œ:"}),e.jsx("div",{className:"bg-blue-50 p-3 rounded text-gray-800",children:n.sentence}),e.jsxs("div",{className:"text-sm text-green-700",children:[e.jsx("span",{className:"font-medium",children:"æ­£ç¢ºç­”æ¡ˆ: "}),Array.isArray(n.correctAnswers)?n.correctAnswers.join(", "):n.correctAnswers]})]});case"sentenceScramble":return e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"font-medium",children:"ğŸ”€ å¥å­é‡çµ„:"}),e.jsx("div",{className:"text-sm text-gray-600",children:"æ‰“äº‚çš„è©çµ„:"}),e.jsx("div",{className:"bg-yellow-50 p-2 rounded text-sm",children:Array.isArray(n.scrambledWords)?n.scrambledWords.join(" | "):"ç„¡è©çµ„è³‡æ–™"}),e.jsxs("div",{className:"text-sm text-green-700",children:[e.jsx("span",{className:"font-medium",children:"æ­£ç¢ºé †åº: "}),n.correctSentence]})]});case"memoryCardGame":return e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"font-medium",children:"ğŸƒ è¨˜æ†¶å¡éŠæˆ²:"}),n.instructions&&e.jsx("div",{className:"text-sm text-sky-700 bg-sky-50 p-2 rounded",children:n.instructions}),e.jsx("div",{className:"space-y-1",children:n.pairs?.map((g,h)=>e.jsxs("div",{className:"flex items-center justify-between bg-purple-50 p-2 rounded text-sm",children:[e.jsxs("span",{children:["ğŸƒ ",g.question]}),e.jsx("span",{className:"text-purple-600",children:"â†”ï¸"}),e.jsxs("span",{children:["ğŸƒŠ ",g.answer]})]},h))})]});default:return e.jsx("pre",{className:"text-xs bg-gray-100 p-2 rounded",children:JSON.stringify(n,null,2)})}},l=(n,m)=>m==="memoryCardGame"&&typeof n=="number"?`å®ŒæˆéŠæˆ²ï¼Œç¸½å˜—è©¦æ¬¡æ•¸: ${n}`:m==="multipleChoice"&&typeof n=="number"?`é¸é … ${String.fromCharCode(65+n)} (${n})`:typeof n=="object"?JSON.stringify(n,null,2):String(n),d={trueFalse:"æ˜¯éé¡Œ",multipleChoice:"é¸æ“‡é¡Œ",fillInTheBlanks:"å¡«ç©ºé¡Œ",sentenceScramble:"å¥å­é‡çµ„",memoryCardGame:"ç¿½å¡é…å°éŠæˆ²"};return e.jsx("div",{className:"space-y-6",children:t.map((n,m)=>{const g=a(n,m);return e.jsxs("div",{className:`p-6 rounded-lg border-2 ${n.isCorrect?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[n.isCorrect?e.jsx(Oe,{className:"w-5 h-5 text-green-600"}):e.jsx(He,{className:"w-5 h-5 text-red-600"}),e.jsxs("span",{className:"font-bold text-lg text-gray-800",children:["ç¬¬ ",m+1," é¡Œ - ",d[n.questionType]||n.questionType]})]}),e.jsx("div",{className:"text-sm text-gray-500",children:n.attempts&&n.attempts>1&&`å˜—è©¦ ${n.attempts} æ¬¡`})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"ğŸ“– åŸå§‹é¡Œç›®å…§å®¹:"}),e.jsx("div",{className:"border-l-4 border-blue-300 pl-4",children:x(g,n.questionType)})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t border-gray-200",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"ğŸ‘¨â€ğŸ“ å­¸ç”Ÿä½œç­”:"}),e.jsx("div",{className:"bg-white p-3 rounded border",children:l(n.userAnswer,n.questionType)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:n.isCorrect?"âœ… ç­”é¡Œæ­£ç¢º":"âŒ ç­”é¡ŒéŒ¯èª¤"}),e.jsx("div",{className:`p-3 rounded border ${n.isCorrect?"bg-green-100 border-green-300":"bg-red-100 border-red-300"}`,children:n.isCorrect?"å­¸ç”Ÿç­”æ¡ˆæ­£ç¢ºï¼":"éœ€è¦é€²ä¸€æ­¥æŒ‡å°"})]})]})]},n.questionId||m)})})},Js=()=>{const[t]=ke(),c=t.get("binId"),[a,x]=r.useState(null),[l,d]=r.useState(!0),[n,m]=r.useState(null),[g,h]=r.useState(""),[f,p]=r.useState(!1),[b,s]=r.useState(!1),[o,i]=r.useState(!1);r.useEffect(()=>{(async()=>{if(!c){m("ç¼ºå°‘å­¸ç”Ÿä½œç­”çµæœIDåƒæ•¸"),d(!1);return}try{d(!0);const y=await ls(c);x(y),p(!!y.diagnosticReport)}catch(y){console.error("è¼‰å…¥å­¸ç”Ÿä½œç­”çµæœå¤±æ•—:",y),m(y instanceof Error?y.message:"è¼‰å…¥å­¸ç”Ÿä½œç­”çµæœå¤±æ•—")}finally{d(!1)}})()},[c]),r.useEffect(()=>{const j=localStorage.getItem("gemini_api_key");j?(h(j),console.log("å·²å¾ localStorage è®€å– API Key")):console.log("æœªæ‰¾åˆ°å·²å­˜å„²çš„ API Key")},[]);const v=j=>{j.preventDefault();const y=g.trim();y&&(localStorage.setItem("gemini_api_key",y),h(y),i(!1))},S=()=>{if(!g){i(!0);return}s(!0)},C=()=>{a?.diagnosticReport&&s(!0)};if(l)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(de,{}),e.jsx("p",{className:"mt-4 text-gray-600",children:"è¼‰å…¥å­¸ç”Ÿä½œç­”çµæœä¸­..."})]})});if(n)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-pink-100 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-16 h-16 text-red-500 mx-auto mb-4",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})}),e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"è¼‰å…¥å¤±æ•—"}),e.jsx("p",{className:"text-gray-600 mb-6",children:n}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"é‡æ–°è¼‰å…¥"})]})});if(b&&a)return e.jsx(qe,{topic:`${a.topic} (${a.difficulty}é›£åº¦) - ${a.studentName}`,apiKey:g,mode:"teacher",initialResponses:a.responses,existingReport:a.diagnosticReport,resultsBinId:c??void 0,onClose:()=>s(!1),onReportSaved:j=>{x(y=>y?{...y,diagnosticReport:j}:null),p(!0)}});if(!a)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-16 h-16 text-gray-400 mx-auto mb-4",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})}),e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"æ‰¾ä¸åˆ°å­¸ç”Ÿä½œç­”çµæœ"}),e.jsx("p",{className:"text-gray-600",children:"è«‹æª¢æŸ¥é€£çµæ˜¯å¦æ­£ç¢º"})]})});const I=a.responses.filter(j=>j.isCorrect).length,A=a.responses.length,k=new Date(a.completedAt).toLocaleString("zh-TW");return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-100",children:[e.jsx("div",{className:"bg-white shadow-sm border-b",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(oe,{className:"w-8 h-8 text-blue-600"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"å­¸ç”Ÿä½œç­”çµæœæª¢è¦–"})]}),e.jsxs("a",{href:"/ai-page-gen/",className:"flex items-center gap-2 px-4 py-2 text-indigo-600 bg-indigo-50 border border-indigo-200 rounded-lg hover:bg-indigo-100 transition-colors",children:[e.jsx(ge,{className:"w-4 h-4"}),"è¿”å›é¦–é "]})]}),e.jsx("div",{className:"flex items-center gap-2 text-gray-600",children:e.jsx("span",{className:"text-lg font-medium",children:"æ•™å¸«ç‰ˆåˆ†æå·¥å…·"})})]})}),e.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:["ğŸ“ ",a.studentName||"åŒ¿åå­¸ç”Ÿ"," çš„ä½œç­”çµæœ"]}),e.jsxs("div",{className:"flex items-center gap-4 text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(oe,{className:"w-4 h-4"}),e.jsxs("span",{children:["ä¸»é¡Œï¼š",a.topic]})]}),e.jsx("div",{className:"flex items-center gap-1",children:e.jsxs("span",{children:["é›£åº¦ï¼š",a.difficulty]})}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Te,{className:"w-4 h-4"}),e.jsxs("span",{children:["å®Œæˆæ™‚é–“ï¼š",k]})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-3xl font-bold text-blue-600 mb-1",children:[a.overallScore,"%"]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[I,"/",A," ç­”å°"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Oe,{className:"w-8 h-8 text-green-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-green-700",children:I}),e.jsx("div",{className:"text-sm text-green-600",children:"ç­”å°é¡Œæ•¸"})]})]})}),e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(He,{className:"w-8 h-8 text-red-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-red-700",children:A-I}),e.jsx("div",{className:"text-sm text-red-600",children:"ç­”éŒ¯é¡Œæ•¸"})]})]})}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(be,{className:"w-8 h-8 text-blue-600"}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-2xl font-bold text-blue-700",children:[a.overallScore,"%"]}),e.jsx("div",{className:"text-sm text-blue-600",children:"ç¸½é«”æ­£ç¢ºç‡"})]})]})})]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex gap-4 items-center",children:[f?e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:C,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg hover:from-green-700 hover:to-emerald-700 transition-all font-medium",children:[e.jsx(be,{className:"w-5 h-5"}),"æŸ¥çœ‹ AI è¨ºæ–·å ±å‘Š"]}),e.jsx("button",{onClick:S,className:"flex items-center gap-2 px-4 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg hover:from-indigo-700 hover:to-purple-700 transition-all font-medium text-sm",children:"ğŸ”„ é‡æ–°ç”Ÿæˆ"})]}):e.jsxs("button",{onClick:S,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg hover:from-indigo-700 hover:to-purple-700 transition-all font-medium",children:[e.jsx(be,{className:"w-5 h-5"}),"ç”Ÿæˆ AI å­¸ç¿’è¨ºæ–·å ±å‘Š"]}),g?e.jsx("div",{className:"text-sm text-green-600 flex items-center gap-1",children:"âœ… API Key å·²è¨­å®šï¼Œå¯ä½¿ç”¨ AI è¨ºæ–·åŠŸèƒ½"}):e.jsx("div",{className:"text-sm text-amber-600 flex items-center gap-1",children:"âš ï¸ éœ€è¦è¨­å®š API Key æ‰èƒ½ä½¿ç”¨ AI è¨ºæ–·åŠŸèƒ½"})]}),e.jsx("div",{className:"text-xs text-gray-500",children:f?e.jsx("span",{children:"ğŸ“Š å·²å„²å­˜è¨ºæ–·å ±å‘Šï¼Œå¯éš¨æ™‚æŸ¥çœ‹æˆ–é‡æ–°ç”Ÿæˆæ–°çš„åˆ†æ"}):g?e.jsx("span",{children:"ğŸ’¡ å°æç¤ºï¼šå¦‚éœ€æ›´æ›´æ› API Keyï¼Œè«‹é»æ“Šä¸Šæ–¹æŒ‰éˆ•å¾Œåœ¨å½ˆå‡ºè¦–çª—ä¸­é‡æ–°è¨­å®š"}):null})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"ğŸ“‹ è©³ç´°ä½œç­”è¨˜éŒ„ (å«åŸå§‹é¡Œç›®)"}),e.jsx(Us,{responses:a.responses,quizContent:a.quizContent})]})]}),o&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:j=>{j.target===j.currentTarget&&i(!1)},children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"è¨­å®š API Key"}),e.jsx("button",{onClick:()=>i(!1),className:"text-gray-400 hover:text-gray-600 transition-colors","aria-label":"é—œé–‰",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("p",{className:"text-gray-600 mb-4",children:["è¦ä½¿ç”¨ AI å­¸ç¿’è¨ºæ–·åŠŸèƒ½ï¼Œè«‹è¼¸å…¥æ‚¨çš„ Google Gemini API Keyã€‚",e.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"underline text-blue-600 ml-1",children:"é»æ­¤å–å¾— API Key"})]}),e.jsxs("form",{onSubmit:v,children:[e.jsx("input",{type:"password",value:g,onChange:j=>h(j.target.value),placeholder:"è«‹è¼¸å…¥æ‚¨çš„ Gemini API Key",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent mb-4"}),e.jsxs("div",{className:"flex gap-3 justify-end",children:[e.jsx("button",{type:"button",onClick:()=>i(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"å–æ¶ˆ"}),e.jsx("button",{type:"submit",disabled:!g.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"è¨­å®š"})]})]})]})})]})},Ys=()=>{const[t,c]=r.useState([]),[a,x]=r.useState(!0),[l,d]=r.useState(null),[n,m]=r.useState(""),[g,h]=r.useState(null),[f,p]=r.useState("list"),[b,s]=r.useState(null),[o,i]=r.useState(null);r.useEffect(()=>{const y=localStorage.getItem("gemini_api_key");i(y),v()},[]);const v=async()=>{try{x(!0),d(null),await ie.init();const y=await ie.getAllLessonPlans();c(y)}catch(y){console.error("è¼‰å…¥æ•™æ¡ˆå¤±æ•—:",y),d("è¼‰å…¥æ•™æ¡ˆå¤±æ•—ï¼Œè«‹é‡è©¦ã€‚")}finally{x(!1)}},S=async()=>{if(!n.trim()){await v();return}try{x(!0);const y=await ie.searchLessonPlans(n);c(y)}catch(y){console.error("æœç´¢å¤±æ•—:",y),d("æœç´¢å¤±æ•—ï¼Œè«‹é‡è©¦ã€‚")}finally{x(!1)}},C=async y=>{h(y),p("view");try{await ie.updateLastAccessed(y.id)}catch($){console.error("æ›´æ–°è¨ªå•æ™‚é–“å¤±æ•—:",$)}},I=async y=>{if(!o){alert("è«‹å…ˆè¨­å®š API Key æ‰èƒ½åˆ†äº«æ•™æ¡ˆã€‚");return}s(y.id);try{const $={...y.content,topic:y.topic,selectedLevel:y.content.selectedLevel||null,selectedVocabularyLevel:y.content.selectedVocabularyLevel||null},T=await Me($),z=`${window.location.origin}/ai-page-gen/share?binId=${T}`;if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(z),alert("åˆ†äº«é€£çµå·²è¤‡è£½åˆ°å‰ªè²¼ç°¿ï¼");else{const D=document.createElement("textarea");D.value=z,document.body.appendChild(D),D.select(),document.execCommand("copy"),document.body.removeChild(D),alert(`åˆ†äº«é€£çµå·²è¤‡è£½ï¼\\n${z}`)}await ie.updateLastAccessed(y.id)}catch($){console.error("åˆ†äº«å¤±æ•—:",$),alert("åˆ†äº«å¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦ã€‚")}finally{s(null)}},A=async y=>{if(confirm(`ç¢ºå®šè¦åˆªé™¤æ•™æ¡ˆã€Œ${y.topic}ã€å—ï¼Ÿæ­¤æ“ä½œç„¡æ³•å¾©åŸã€‚`))try{await ie.deleteLessonPlan(y.id),await v()}catch($){console.error("åˆªé™¤å¤±æ•—:",$),alert("åˆªé™¤å¤±æ•—ï¼Œè«‹é‡è©¦ã€‚")}},k=y=>new Date(y).toLocaleString("zh-TW",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),j=n.trim()?t.filter(y=>y.topic.toLowerCase().includes(n.toLowerCase())):t;return f==="view"&&g?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b sticky top-0 z-10",children:e.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("button",{onClick:()=>{p("list"),h(null)},className:"flex items-center gap-2 px-3 py-2 text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})}),"è¿”å›æ•™æ¡ˆåˆ—è¡¨"]}),e.jsxs("a",{href:"/ai-page-gen/",className:"flex items-center gap-2 px-3 py-2 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",children:[e.jsx(ge,{className:"w-4 h-4"}),"è¿”å›é¦–é "]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:g.topic}),e.jsxs("p",{className:"text-sm text-gray-600",children:["å‰µå»ºæ–¼ ",k(g.createdAt)]})]}),e.jsxs("button",{onClick:()=>I(g),disabled:b===g.id,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[b===g.id?e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):e.jsx(Ae,{className:"w-4 h-4"}),"åˆ†äº«æ•™æ¡ˆ"]})]})})}),e.jsx("div",{className:"max-w-6xl mx-auto px-4 py-8",children:e.jsx(Ke,{content:g.content,topic:g.topic,selectedLevel:g.content.selectedLevel||null,selectedVocabularyLevel:g.content.selectedVocabularyLevel||null,apiKey:o||void 0,onContentUpdate:async y=>{const $={...g,content:y,lastAccessedAt:new Date().toISOString()};h($);try{await ie.saveLessonPlan($),console.log("æ•™æ¡ˆå·²æ›´æ–°åˆ° IndexedDB")}catch(T){console.error("æ›´æ–°æ•™æ¡ˆåˆ° IndexedDB å¤±æ•—:",T)}}})})]}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(oe,{className:"w-8 h-8 text-indigo-600"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"æˆ‘çš„æ•™æ¡ˆåº«"})]}),e.jsxs("a",{href:"/ai-page-gen/",className:"flex items-center gap-2 px-4 py-2 text-indigo-600 bg-indigo-50 border border-indigo-200 rounded-lg hover:bg-indigo-100 transition-colors",children:[e.jsx(ge,{className:"w-5 h-5"}),"è¿”å›é¦–é "]})]}),e.jsx("p",{className:"text-gray-600",children:"ç®¡ç†æ‚¨ä¹‹å‰ç”Ÿæˆçš„æ‰€æœ‰æ•™æ¡ˆï¼Œéš¨æ™‚æŸ¥çœ‹å’Œåˆ†äº«"})]})}),e.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("input",{type:"text",value:n,onChange:y=>m(y.target.value),placeholder:"æœç´¢æ•™æ¡ˆä¸»é¡Œ...",className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",onKeyPress:y=>y.key==="Enter"&&S()}),e.jsx("button",{onClick:S,className:"px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"æœç´¢"}),e.jsx("button",{onClick:v,className:"px-4 py-3 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:"é‡ç½®"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-indigo-100 rounded-lg",children:e.jsx(oe,{className:"w-6 h-6 text-indigo-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.length}),e.jsx("p",{className:"text-gray-600",children:"ç¸½æ•™æ¡ˆæ•¸"})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx(Te,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.filter(y=>y.metadata?.hasQuiz).length}),e.jsx("p",{className:"text-gray-600",children:"åŒ…å«æ¸¬é©—"})]})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-purple-600",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.filter(y=>y.metadata?.hasWriting).length}),e.jsx("p",{className:"text-gray-600",children:"åŒ…å«å¯«ä½œ"})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:n.trim()?`æœç´¢çµæœ (${j.length})`:"æ‰€æœ‰æ•™æ¡ˆ"})}),a?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(de,{}),e.jsx("p",{className:"mt-4 text-gray-600",children:"è¼‰å…¥ä¸­..."})]}):l?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("p",{className:"text-red-600 mb-4",children:l}),e.jsx("button",{onClick:v,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"é‡è©¦"})]}):j.length===0?e.jsxs("div",{className:"p-8 text-center",children:[e.jsx(oe,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 text-lg mb-2",children:n.trim()?"æœªæ‰¾åˆ°åŒ¹é…çš„æ•™æ¡ˆ":"é‚„æ²’æœ‰ä¿å­˜çš„æ•™æ¡ˆ"}),e.jsx("p",{className:"text-gray-500",children:n.trim()?"å˜—è©¦å…¶ä»–é—œéµè©":"ç”Ÿæˆç¬¬ä¸€å€‹æ•™æ¡ˆä¾†é–‹å§‹ä½¿ç”¨ï¼"})]}):e.jsx("div",{className:"divide-y divide-gray-200",children:j.map(y=>e.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:y.topic}),y.metadata?.isShared&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[e.jsx(Ae,{className:"w-3 h-3"}),"åˆ†äº«çš„æ•™æ¡ˆ"]})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-2",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Te,{className:"w-4 h-4"}),"å‰µå»ºï¼š",k(y.createdAt)]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Xe,{className:"w-4 h-4"}),"è¨ªå•ï¼š",k(y.lastAccessedAt)]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"px-2 py-1 bg-indigo-100 text-indigo-800 text-xs font-medium rounded-full",children:[y.metadata?.totalSections||0," å€‹éƒ¨åˆ†"]}),y.metadata?.hasQuiz&&e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs font-medium rounded-full",children:"åŒ…å«æ¸¬é©—"}),y.metadata?.hasWriting&&e.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 text-xs font-medium rounded-full",children:"åŒ…å«å¯«ä½œ"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[e.jsxs("button",{onClick:()=>C(y),className:"flex items-center gap-2 px-3 py-2 text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",children:[e.jsx(Xe,{className:"w-4 h-4"}),"æŸ¥çœ‹"]}),e.jsxs("a",{href:`/ai-page-gen/teacher-interactive-prep?contentId=${y.id}`,className:"flex items-center gap-2 px-3 py-2 text-emerald-600 hover:bg-emerald-50 rounded-lg transition-colors",target:"_blank",rel:"noopener noreferrer",children:[e.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a6.759 6.759 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]}),"æº–å‚™äº’å‹•æ•™æ"]}),e.jsxs("button",{onClick:()=>I(y),disabled:b===y.id,className:"flex items-center gap-2 px-3 py-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[b===y.id?e.jsx("div",{className:"w-4 h-4 border-2 border-green-600 border-t-transparent rounded-full animate-spin"}):e.jsx(Ae,{className:"w-4 h-4"}),"åˆ†äº«"]}),e.jsxs("button",{onClick:()=>A(y),className:"flex items-center gap-2 px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[e.jsx(gs,{className:"w-4 h-4"}),"åˆªé™¤"]})]})]})},y.id))})]})]})]})},Xs=()=>{const[t]=ke(),c=t.get("binId"),[a,x]=r.useState(null),[l,d]=r.useState(!0),[n,m]=r.useState(null),[g,h]=r.useState(null),[f,p]=r.useState(0),[b,s]=r.useState([]),[o,i]=r.useState(!1),[v,S]=r.useState(null);r.useEffect(()=>{c?(async()=>{try{d(!0),m(null);const E=await dt(c);if(!E.isInteractive)throw new Error("æ­¤å…§å®¹å°šæœªæº–å‚™ç‚ºäº’å‹•æ•™æ");x(E),C(E)}catch(E){console.error("è¼‰å…¥äº’å‹•å…§å®¹å¤±æ•—:",E),m(E.message||"è¼‰å…¥äº’å‹•å…§å®¹æ™‚ç™¼ç”ŸéŒ¯èª¤")}finally{d(!1)}})():(m("ç¼ºå°‘å¿…è¦åƒæ•¸ï¼šbinId"),d(!1))},[c]),r.useEffect(()=>{const P=E=>{const w=`student_interactive_${c}`;try{const Z=localStorage.getItem(w);if(Z){const K=JSON.parse(Z);h(K);const Y=K.progress.currentObjectiveIndex||0,X=Math.min(Math.max(0,Y),b.length-1);p(X)}else{const K={contentId:c||"unknown",topic:E.topic||"äº’å‹•å­¸ç¿’",progress:{currentObjectiveIndex:0,completedObjectives:[],timeSpent:0,interactionCount:0,startTime:Date.now(),lastUpdateTime:Date.now(),completedActivities:[]},interactions:[],createdAt:Date.now(),updatedAt:Date.now()};h(K),localStorage.setItem(w,JSON.stringify(K))}}catch(Z){console.error("åˆå§‹åŒ–å­¸ç¿’æœƒè©±å¤±æ•—:",Z)}};a&&b.length>0&&P(a)},[a,b,c]);const C=P=>{const E=[],w=P.transformedData||{};console.log("Initial content:",P),console.log("Transformed data keys:",Object.keys(w)),console.log("Transformed data:",w),P.originalContent&&console.log("Original content from JSON:",P.originalContent);const Z=Object.keys(w).sort((X,B)=>{const O=parseInt(X.replace("step_","")),F=parseInt(B.replace("step_",""));return O-F});console.log("Sorted step IDs:",Z);const K=P.includedSteps||Object.keys(w);console.log("Included steps:",K);const Y={};if(P.originalContent)console.log("Using originalContent from JSON for mapping"),Object.keys(P.originalContent).forEach(X=>{const B=P.originalContent[X];B&&K.includes(X)&&(Y[X]={content:B.content,type:B.type,index:B.index||0})});else{console.log("Using fallback method to build original content mapping");const X=[];P.learningObjectives&&P.learningObjectives.forEach((B,O)=>{X.push({content:B,type:"objective",typeIndex:O})}),P.contentBreakdown&&P.contentBreakdown.forEach((B,O)=>{X.push({content:B,type:"breakdown",typeIndex:O})}),P.confusingPoints&&P.confusingPoints.forEach((B,O)=>{X.push({content:B,type:"confusing",typeIndex:O})}),console.log("All original content (fallback):",X),K.forEach((B,O)=>{if(O<X.length){const F=X[O];Y[B]={content:F.content,type:F.type,index:F.typeIndex},console.log(`Mapping ${B} to original content at index ${O}:`,F)}})}console.log("Original lookup:",Y),Z.forEach(X=>{const B=w[X],O=Y[X];if(B&&O){let F="",ee="",H="";switch(O.type){case"objective":F=`ğŸ“š å­¸ç¿’ç›®æ¨™ ${O.index+1}`,ee="ğŸ¯",H=B.objective?.length>50?`${B.objective.substring(0,50)}...`:B.objective||O.content.objective;break;case"breakdown":F=`ğŸ” æ·±åº¦å­¸ç¿’ ${O.index+1}`,ee="ğŸ“–",H=B.title?.length>50?`${B.title.substring(0,50)}...`:B.title||O.content.topic;break;case"confusing":F=`âš¡ é‡è¦æé†’ ${O.index+1}`,ee="ğŸ’¡",H=B.title?.length>50?`${B.title.substring(0,50)}...`:B.title||O.content.point;break}console.log(`Creating step: ${X}, type: ${O.type}, title: ${F}`),E.push({id:X,title:F,type:O.type,icon:ee,description:H,content:B,originalIndex:O.index})}}),E.length>0&&E.push({id:"summary",title:"ğŸ¯ å­¸ç¿’å®Œæˆ",type:"summary",icon:"ğŸ†",description:"æ­å–œå®Œæˆå­¸ç¿’ï¼Œé–‹å§‹å¯¦è¸æ‡‰ç”¨ï¼",content:null}),console.log("Final steps:",E),s(E)},I=P=>{const E=`student_interactive_${c}`;P.updatedAt=Date.now(),P.progress.lastUpdateTime=Date.now(),h(P),localStorage.setItem(E,JSON.stringify(P))},A=P=>{if(!g)return;const E={...g};E.progress.completedObjectives.includes(P)||(E.progress.completedObjectives.push(P),E.progress.interactionCount+=1),I(E)},k=P=>{if(P>=0&&P<b.length&&b[P]&&(p(P),window.scrollTo({top:0,behavior:"smooth"}),g)){const E={...g};E.progress.currentObjectiveIndex=P,I(E)}},j=()=>{f<b.length-1&&k(f+1)},y=()=>{f>0&&k(f-1)},$=()=>{const P=b[f];if(!P||!a?.stepQuizData)return;const E=a.stepQuizData[P.id];E&&(S(E),i(!0))},T=()=>{i(!1),S(null)},z=()=>{const P=b[f];return P&&a?.stepQuizData&&a.stepQuizData[P.id]},D=P=>P?[/#+\s/,/\*\*.*\*\*/,/\*.*\*/,/`.*`/,/^\s*[-*+]\s/m,/^\s*\d+\.\s/m,/\[.*\]\(.*\)/,/^\s*>/m,/```[\s\S]*?```/,/\n\s*\n/].some(w=>w.test(P)):!1,L=(P,E)=>D(P)?e.jsx(us,{content:P,className:E}):e.jsx("span",{className:E,children:P});if(l)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-sky-50 to-indigo-100 py-8 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"flex justify-center items-center min-h-[50vh]",children:e.jsx(de,{})})});if(n)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-sky-50 to-indigo-100 py-8 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg shadow-md",children:[e.jsx("h3",{className:"font-bold text-lg mb-2",children:"è¼‰å…¥éŒ¯èª¤"}),e.jsx("p",{children:n})]})})});if(!a||!g||b.length===0)return null;const u=b[f];if(!u)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-sky-50 to-indigo-100 py-8 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsxs("div",{className:"bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded-lg shadow-md",children:[e.jsx("h3",{className:"font-bold text-lg mb-2",children:"æ²’æœ‰å¯ç”¨çš„å­¸ç¿’æ­¥é©Ÿ"}),e.jsx("p",{children:"æ­¤äº’å‹•æ•™æå¯èƒ½é‚„æ²’æœ‰è½‰æ›ä»»ä½•å…§å®¹ï¼Œæˆ–è€…å…§å®¹è¼‰å…¥æœ‰å•é¡Œã€‚"}),e.jsx("p",{className:"mt-2 text-sm",children:"è«‹ç¢ºèªæ•™å¸«å·²ç¶“è½‰æ›ä¸¦ç™¼å¸ƒäº†å­¸ç¿’å…§å®¹ã€‚"})]})})});const R=g.progress.completedObjectives.length,V=b.length-1,N=V>0?R/V*100:0,M=()=>{const P=g.progress.completedObjectives.includes(u.id);switch(u.type){case"objective":return e.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[e.jsxs("div",{className:"bg-gradient-to-br from-indigo-500 to-sky-500 rounded-3xl shadow-2xl p-12 text-white text-center",children:[e.jsx("div",{className:"text-6xl mb-6",children:"ğŸ¯"}),e.jsx("div",{className:"text-4xl font-bold mb-6 leading-tight",children:L(u.content.objective,"text-4xl font-bold leading-tight text-white")}),u.content.description&&e.jsx("div",{className:"text-xl text-indigo-100 leading-relaxed max-w-3xl mx-auto",children:L(u.content.description,"text-xl text-indigo-100 leading-relaxed")})]}),e.jsxs("div",{className:"space-y-6",children:[u.content.personalRelevance&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[e.jsxs("h3",{className:"text-2xl font-bold text-purple-700 mb-6 flex items-center",children:[e.jsx("span",{className:"text-3xl mr-3",children:"ğŸŒŸ"}),"é€™å°ä½ å¾ˆé‡è¦"]}),e.jsx("div",{className:"bg-purple-50 rounded-xl p-6 text-lg leading-relaxed text-purple-900",children:L(u.content.personalRelevance,"text-lg leading-relaxed text-purple-900")})]}),u.content.teachingExample&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[e.jsxs("h3",{className:"text-2xl font-bold text-green-700 mb-6 flex items-center",children:[e.jsx("span",{className:"text-3xl mr-3",children:"ğŸ“"}),"å¯¦éš›æ‡‰ç”¨"]}),e.jsx("div",{className:"bg-green-50 rounded-xl p-6 text-lg leading-relaxed text-green-900",children:L(u.content.teachingExample,"text-lg leading-relaxed text-green-900")})]}),u.content.encouragement&&e.jsxs("div",{className:"bg-gradient-to-r from-sky-50 to-indigo-50 rounded-2xl p-8",children:[e.jsxs("h3",{className:"text-2xl font-bold text-sky-700 mb-6 flex items-center",children:[e.jsx("span",{className:"text-3xl mr-3",children:"ğŸ’ª"}),"ç‚ºä½ åŠ æ²¹"]}),e.jsx("div",{className:"text-lg leading-relaxed text-sky-900 font-medium",children:L(u.content.encouragement,"text-lg leading-relaxed text-sky-900 font-medium")})]})]}),e.jsxs("div",{className:"text-center space-y-4",children:[P?e.jsxs("div",{className:"bg-green-50 border-2 border-green-200 rounded-2xl p-8",children:[e.jsx("div",{className:"text-5xl mb-4",children:"âœ…"}),e.jsx("h4",{className:"text-2xl font-bold text-green-700 mb-2",children:"å¤ªæ£’äº†ï¼"}),e.jsx("p",{className:"text-green-600",children:"ä½ å·²ç¶“æŒæ¡äº†é€™å€‹å­¸ç¿’ç›®æ¨™ï¼"})]}):e.jsxs("div",{className:"bg-slate-50 rounded-2xl p-8",children:[e.jsx("h4",{className:"text-xl font-semibold text-slate-700 mb-4",children:"ç†è§£äº†å—ï¼Ÿ"}),e.jsxs("button",{onClick:()=>A(u.id),className:"px-8 py-4 bg-green-500 hover:bg-green-600 text-white font-bold text-lg rounded-xl transition-colors flex items-center gap-3 mx-auto",children:[e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),"æˆ‘ç†è§£äº†ï¼"]})]}),z()&&e.jsxs("div",{className:"bg-orange-50 border-2 border-orange-200 rounded-2xl p-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-orange-700 mb-3",children:"æƒ³æ¸¬è©¦ä¸€ä¸‹ä½ çš„ç†è§£å—ï¼Ÿ"}),e.jsxs("button",{onClick:$,className:"px-6 py-3 bg-orange-500 hover:bg-orange-600 text-white font-medium text-lg rounded-xl transition-colors flex items-center gap-2 mx-auto",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),"é–‹å§‹ç·´ç¿’æ¸¬é©—"]})]})]})]});case"breakdown":return e.jsxs("div",{className:"max-w-5xl mx-auto space-y-8",children:[e.jsxs("div",{className:"bg-gradient-to-br from-sky-500 to-blue-500 rounded-3xl shadow-2xl p-12 text-white text-center",children:[e.jsx("div",{className:"text-6xl mb-6",children:"ğŸ“–"}),e.jsx("div",{className:"text-4xl font-bold mb-6 leading-tight",children:L(u.content.title||u.content.topic,"text-4xl font-bold leading-tight text-white")}),u.content.introduction&&e.jsx("div",{className:"text-xl text-sky-100 leading-relaxed max-w-3xl mx-auto",children:L(u.content.introduction,"text-xl text-sky-100 leading-relaxed")})]}),e.jsxs("div",{className:"space-y-6",children:[u.content.keyPoints&&u.content.keyPoints.length>0&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[e.jsxs("h3",{className:"text-2xl font-bold text-indigo-700 mb-6 flex items-center",children:[e.jsx("span",{className:"text-3xl mr-3",children:"ğŸ’¡"}),"é‡é»æ¦‚å¿µ"]}),e.jsx("div",{className:"bg-indigo-50 rounded-xl p-6",children:e.jsx("div",{className:"space-y-4",children:u.content.keyPoints.map((E,w)=>e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"flex-shrink-0 w-8 h-8 bg-indigo-500 text-white rounded-full flex items-center justify-center text-sm font-bold mr-4",children:w+1}),e.jsx("div",{className:"text-lg text-indigo-900 leading-relaxed",children:L(E,"text-lg text-indigo-900 leading-relaxed")})]},w))})})]}),u.content.realLifeExamples&&u.content.realLifeExamples.length>0&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[e.jsxs("h3",{className:"text-2xl font-bold text-green-700 mb-6 flex items-center",children:[e.jsx("span",{className:"text-3xl mr-3",children:"ğŸŒŸ"}),"ç”Ÿæ´»ä¸­çš„ä¾‹å­"]}),e.jsx("div",{className:"bg-green-50 rounded-xl p-6",children:e.jsx("div",{className:"space-y-4",children:u.content.realLifeExamples.map((E,w)=>e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"flex-shrink-0 w-8 h-8 bg-green-500 text-white rounded-full flex items-center justify-center text-sm font-bold mr-4",children:w+1}),e.jsx("div",{className:"text-lg text-green-900 leading-relaxed",children:L(E,"text-lg text-green-900 leading-relaxed")})]},w))})})]}),u.content.learningTips&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[e.jsxs("h3",{className:"text-2xl font-bold text-purple-700 mb-6 flex items-center",children:[e.jsx("span",{className:"text-3xl mr-3",children:"ğŸ¯"}),"å­¸ç¿’å°æŠ€å·§"]}),e.jsx("div",{className:"bg-purple-50 rounded-xl p-6 text-lg leading-relaxed text-purple-900",children:L(u.content.learningTips,"text-lg leading-relaxed text-purple-900")})]}),u.content.nextSteps&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[e.jsxs("h3",{className:"text-2xl font-bold text-orange-700 mb-6 flex items-center",children:[e.jsx("span",{className:"text-3xl mr-3",children:"ğŸš€"}),"ä¸‹ä¸€æ­¥æŒ‘æˆ°"]}),e.jsx("div",{className:"bg-orange-50 rounded-xl p-6 text-lg leading-relaxed text-orange-900",children:L(u.content.nextSteps,"text-lg leading-relaxed text-orange-900")})]}),u.content.encouragement&&e.jsxs("div",{className:"bg-gradient-to-r from-pink-50 to-rose-50 rounded-2xl p-8",children:[e.jsxs("h3",{className:"text-2xl font-bold text-pink-700 mb-6 flex items-center",children:[e.jsx("span",{className:"text-3xl mr-3",children:"ğŸ’ª"}),"çµ¦ä½ çš„é¼“å‹µ"]}),e.jsx("div",{className:"text-lg leading-relaxed text-pink-900 font-medium",children:L(u.content.encouragement,"text-lg leading-relaxed text-pink-900 font-medium")})]})]}),e.jsxs("div",{className:"text-center space-y-4",children:[P?e.jsxs("div",{className:"bg-green-50 border-2 border-green-200 rounded-2xl p-8",children:[e.jsx("div",{className:"text-5xl mb-4",children:"âœ…"}),e.jsx("h4",{className:"text-2xl font-bold text-green-700 mb-2",children:"å­¸æœƒäº†ï¼"}),e.jsx("p",{className:"text-green-600",children:"ä½ å·²ç¶“ç†è§£äº†é€™å€‹æ¦‚å¿µï¼"})]}):e.jsxs("div",{className:"bg-slate-50 rounded-2xl p-8",children:[e.jsx("h4",{className:"text-xl font-semibold text-slate-700 mb-4",children:"æŒæ¡äº†é€™äº›æ¦‚å¿µå—ï¼Ÿ"}),e.jsxs("button",{onClick:()=>A(u.id),className:"px-8 py-4 bg-blue-500 hover:bg-blue-600 text-white font-bold text-lg rounded-xl transition-colors flex items-center gap-3 mx-auto",children:[e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),"æˆ‘å­¸æœƒäº†ï¼"]})]}),z()&&e.jsxs("div",{className:"bg-orange-50 border-2 border-orange-200 rounded-2xl p-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-orange-700 mb-3",children:"æƒ³æ¸¬è©¦ä¸€ä¸‹ä½ çš„ç†è§£å—ï¼Ÿ"}),e.jsxs("button",{onClick:$,className:"px-6 py-3 bg-orange-500 hover:bg-orange-600 text-white font-medium text-lg rounded-xl transition-colors flex items-center gap-2 mx-auto",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),"é–‹å§‹ç·´ç¿’æ¸¬é©—"]})]})]})]});case"confusing":return e.jsxs("div",{className:"max-w-5xl mx-auto space-y-8",children:[e.jsxs("div",{className:"bg-gradient-to-br from-amber-500 to-orange-500 rounded-3xl shadow-2xl p-12 text-white text-center",children:[e.jsx("div",{className:"text-6xl mb-6",children:"ğŸ’¡"}),e.jsx("div",{className:"text-4xl font-bold mb-6 leading-tight",children:L(u.content.title||u.content.point,"text-4xl font-bold leading-tight text-white")}),u.content.normalizeConfusion&&e.jsx("div",{className:"text-xl text-amber-100 leading-relaxed max-w-3xl mx-auto",children:L(u.content.normalizeConfusion,"text-xl text-amber-100 leading-relaxed")})]}),e.jsxs("div",{className:"space-y-6",children:[u.content.commonMistake&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[e.jsxs("h3",{className:"text-2xl font-bold text-red-700 mb-6 flex items-center",children:[e.jsx("span",{className:"text-3xl mr-3",children:"âš ï¸"}),"å¸¸è¦‹éŒ¯èª¤"]}),e.jsx("div",{className:"bg-red-50 rounded-xl p-6 text-lg leading-relaxed text-red-900",children:L(u.content.commonMistake,"text-lg leading-relaxed text-red-900")})]}),u.content.whyItHappens&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[e.jsxs("h3",{className:"text-2xl font-bold text-amber-700 mb-6 flex items-center",children:[e.jsx("span",{className:"text-3xl mr-3",children:"ğŸ¤”"}),"ç‚ºä»€éº¼æœƒææ··ï¼Ÿ"]}),e.jsx("div",{className:"bg-amber-50 rounded-xl p-6 text-lg leading-relaxed text-amber-900",children:L(u.content.whyItHappens,"text-lg leading-relaxed text-amber-900")})]}),u.content.clearExplanation&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[e.jsxs("h3",{className:"text-2xl font-bold text-green-700 mb-6 flex items-center",children:[e.jsx("span",{className:"text-3xl mr-3",children:"âœ¨"}),"æ­£ç¢ºçš„ç†è§£"]}),e.jsx("div",{className:"bg-green-50 rounded-xl p-6 text-lg leading-relaxed text-green-900",children:L(u.content.clearExplanation,"text-lg leading-relaxed text-green-900")})]}),u.content.practiceExamples&&u.content.practiceExamples.length>0&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[e.jsxs("h3",{className:"text-2xl font-bold text-blue-700 mb-6 flex items-center",children:[e.jsx("span",{className:"text-3xl mr-3",children:"ğŸ“"}),"ç·´ç¿’ç¯„ä¾‹"]}),e.jsx("div",{className:"bg-blue-50 rounded-xl p-6",children:e.jsx("div",{className:"space-y-6",children:u.content.practiceExamples.map((E,w)=>e.jsx("div",{className:"border-l-4 border-blue-400 pl-4",children:e.jsxs("div",{className:"flex items-start mb-3",children:[e.jsx("span",{className:"flex-shrink-0 w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center text-sm font-bold mr-4",children:w+1}),e.jsx("div",{className:"flex-1",children:typeof E=="string"?e.jsx("div",{className:"text-lg text-blue-900 leading-relaxed",children:L(E,"text-lg text-blue-900 leading-relaxed")}):e.jsxs("div",{className:"space-y-3",children:[E.situation&&e.jsxs("div",{children:[e.jsx("strong",{className:"text-blue-800",children:"æƒ…å¢ƒï¼š"}),e.jsx("span",{className:"text-blue-900 ml-2",children:L(E.situation,"text-blue-900")})]}),E.wrongThinking&&e.jsxs("div",{children:[e.jsx("strong",{className:"text-red-600",children:"âŒ éŒ¯èª¤æƒ³æ³•ï¼š"}),e.jsx("span",{className:"text-red-700 ml-2",children:L(E.wrongThinking,"text-red-700")})]}),E.rightThinking&&e.jsxs("div",{children:[e.jsx("strong",{className:"text-green-600",children:"âœ… æ­£ç¢ºæƒ³æ³•ï¼š"}),e.jsx("span",{className:"text-green-700 ml-2",children:L(E.rightThinking,"text-green-700")})]}),E.explanation&&e.jsxs("div",{children:[e.jsx("strong",{className:"text-purple-600",children:"ğŸ’¡ è§£é‡‹ï¼š"}),e.jsx("span",{className:"text-purple-700 ml-2",children:L(E.explanation,"text-purple-700")})]})]})})]})},w))})})]}),u.content.rememberingTricks&&u.content.rememberingTricks.length>0&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[e.jsxs("h3",{className:"text-2xl font-bold text-purple-700 mb-6 flex items-center",children:[e.jsx("span",{className:"text-3xl mr-3",children:"ğŸ¯"}),"è¨˜æ†¶å°æŠ€å·§"]}),e.jsx("div",{className:"bg-purple-50 rounded-xl p-6",children:e.jsx("div",{className:"space-y-4",children:u.content.rememberingTricks.map((E,w)=>e.jsxs("div",{className:"flex items-start",children:[e.jsx("span",{className:"flex-shrink-0 w-8 h-8 bg-purple-500 text-white rounded-full flex items-center justify-center text-sm font-bold mr-4",children:w+1}),e.jsx("div",{className:"text-lg text-purple-900 leading-relaxed",children:L(E,"text-lg text-purple-900 leading-relaxed")})]},w))})})]}),u.content.confidenceBooster&&e.jsxs("div",{className:"bg-gradient-to-r from-sky-50 to-indigo-50 rounded-2xl p-8",children:[e.jsxs("h3",{className:"text-2xl font-bold text-sky-700 mb-6 flex items-center",children:[e.jsx("span",{className:"text-3xl mr-3",children:"ğŸ’ª"}),"ä½ å¯ä»¥çš„ï¼"]}),e.jsx("div",{className:"text-lg leading-relaxed text-sky-900 font-medium",children:L(u.content.confidenceBooster,"text-lg leading-relaxed text-sky-900 font-medium")})]})]}),e.jsxs("div",{className:"text-center space-y-4",children:[P?e.jsxs("div",{className:"bg-green-50 border-2 border-green-200 rounded-2xl p-8",children:[e.jsx("div",{className:"text-5xl mb-4",children:"âœ…"}),e.jsx("h4",{className:"text-2xl font-bold text-green-700 mb-2",children:"è¨˜ä½äº†ï¼"}),e.jsx("p",{className:"text-green-600",children:"ä½ å·²ç¶“æŒæ¡äº†é€™å€‹é‡é»ï¼"})]}):e.jsxs("div",{className:"bg-slate-50 rounded-2xl p-8",children:[e.jsx("h4",{className:"text-xl font-semibold text-slate-700 mb-4",children:"è¨˜ä½é€™äº›é‡é»äº†å—ï¼Ÿ"}),e.jsxs("button",{onClick:()=>A(u.id),className:"px-8 py-4 bg-amber-500 hover:bg-amber-600 text-white font-bold text-lg rounded-xl transition-colors flex items-center gap-3 mx-auto",children:[e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),"æˆ‘è¨˜ä½äº†ï¼"]})]}),z()&&e.jsxs("div",{className:"bg-orange-50 border-2 border-orange-200 rounded-2xl p-6",children:[e.jsx("h4",{className:"text-lg font-semibold text-orange-700 mb-3",children:"æƒ³æ¸¬è©¦ä¸€ä¸‹ä½ çš„è¨˜æ†¶å—ï¼Ÿ"}),e.jsxs("button",{onClick:$,className:"px-6 py-3 bg-orange-500 hover:bg-orange-600 text-white font-medium text-lg rounded-xl transition-colors flex items-center gap-2 mx-auto",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),"é–‹å§‹ç·´ç¿’æ¸¬é©—"]})]})]})]});case"summary":return e.jsxs("div",{className:"text-center space-y-8",children:[e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-2xl p-12",children:[e.jsx("div",{className:"text-6xl mb-6",children:"ğŸ‰"}),e.jsx("h3",{className:"text-3xl font-bold text-green-700 mb-4",children:"æ­å–œå®Œæˆå­¸ç¿’ï¼"}),e.jsxs("p",{className:"text-lg text-slate-600 mb-8",children:["ä½ å·²ç¶“å®Œæˆäº†ã€Œ",a.topic,"ã€çš„å­¸ç¿’æ—…ç¨‹"]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md",children:[e.jsx("div",{className:"text-3xl text-indigo-600 mb-2",children:"ğŸ“š"}),e.jsx("div",{className:"text-2xl font-bold text-slate-800",children:R}),e.jsx("div",{className:"text-sm text-slate-600",children:"å­¸ç¿’æ­¥é©Ÿå®Œæˆ"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md",children:[e.jsx("div",{className:"text-3xl text-sky-600 mb-2",children:"â±ï¸"}),e.jsx("div",{className:"text-2xl font-bold text-slate-800",children:Math.round((Date.now()-g.progress.startTime)/6e4)}),e.jsx("div",{className:"text-sm text-slate-600",children:"åˆ†é˜å­¸ç¿’æ™‚é–“"})]}),e.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md",children:[e.jsx("div",{className:"text-3xl text-green-600 mb-2",children:"ğŸ¯"}),e.jsxs("div",{className:"text-2xl font-bold text-slate-800",children:[Math.round(N),"%"]}),e.jsx("div",{className:"text-sm text-slate-600",children:"å­¸ç¿’å®Œæˆåº¦"})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 rounded-2xl p-8",children:[e.jsx("h4",{className:"text-2xl font-semibold text-purple-700 mb-6",children:"ğŸš€ ç¹¼çºŒæŒ‘æˆ°è‡ªå·±"}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[a.onlineInteractiveQuiz&&e.jsxs("a",{href:`/ai-page-gen/quiz?binId=${c}`,className:"px-8 py-4 bg-orange-500 text-white font-medium rounded-xl hover:bg-orange-600 transition-colors flex items-center gap-3 text-lg",target:"_blank",rel:"noopener noreferrer",children:[e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),"æŒ‘æˆ°äº’å‹•æ¸¬é©—"]}),a.writingPractice&&e.jsxs("a",{href:`/ai-page-gen/writing?binId=${c}`,className:"px-8 py-4 bg-purple-500 text-white font-medium rounded-xl hover:bg-purple-600 transition-colors flex items-center gap-3 text-lg",target:"_blank",rel:"noopener noreferrer",children:[e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),"ç·´ç¿’å¯«ä½œæŠ€èƒ½"]})]})]})]});default:return e.jsx("div",{children:"æœªçŸ¥æ­¥é©Ÿé¡å‹"})}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-sky-50 to-indigo-100",children:[e.jsx("div",{className:"sticky top-0 z-10 bg-white/95 backdrop-blur-sm border-b border-slate-200 shadow-sm",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-lg font-semibold text-slate-800",children:a.topic}),e.jsxs("p",{className:"text-xs text-slate-500",children:["ç¬¬ ",f+1," æ­¥ï¼Œå…± ",b.length," æ­¥"]})]}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-500",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),Math.round((Date.now()-g.progress.startTime)/6e4)," åˆ†é˜"]})]}),e.jsx("div",{className:"w-full bg-slate-200 rounded-full h-1.5 mb-1",children:e.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-sky-500 h-1.5 rounded-full transition-all duration-500 ease-out",style:{width:`${(f+1)/b.length*100}%`}})}),e.jsx("div",{className:"text-center",children:e.jsxs("span",{className:"text-xs text-slate-400",children:["å®Œæˆ ",R,"/",V," â€¢ ",Math.round(N),"%"]})})]})}),e.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"text-5xl mb-4",children:u.icon}),e.jsx("h2",{className:"text-3xl font-bold text-slate-800 mb-2",children:u.title}),e.jsx("div",{className:"text-lg text-slate-600",children:L(u.description,"text-lg text-slate-600")})]}),e.jsx("div",{className:"mb-8",children:M()}),e.jsxs("div",{className:"flex items-center justify-between pt-8 border-t border-slate-200",children:[e.jsxs("button",{onClick:y,disabled:f===0,className:"flex items-center gap-2 px-6 py-3 bg-slate-500 text-white font-medium rounded-lg hover:bg-slate-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})}),"ä¸Šä¸€æ­¥"]}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-sm text-slate-600",children:[f+1," / ",b.length]})}),e.jsxs("button",{onClick:j,disabled:f===b.length-1,className:"flex items-center gap-2 px-6 py-3 bg-indigo-500 text-white font-medium rounded-lg hover:bg-indigo-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:["ä¸‹ä¸€æ­¥",e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})]})]})]}),o&&v&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"sticky top-0 bg-white border-b p-6 flex items-center justify-between rounded-t-2xl",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"ğŸ“ æ­¥é©Ÿç·´ç¿’æ¸¬é©—"}),e.jsx("button",{onClick:T,className:"p-2 hover:bg-slate-100 rounded-full transition-colors",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("div",{className:"p-6 space-y-8",children:[v.trueFalse&&v.trueFalse.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-semibold text-slate-700 mb-4 flex items-center gap-2",children:[e.jsx("span",{children:"âœ“"})," æ˜¯éåˆ¤æ–·é¡Œ"]}),e.jsx("div",{className:"space-y-4",children:v.trueFalse.map((P,E)=>e.jsx(We,{question:P,itemNumber:E+1},`tf-${E}`))})]}),v.multipleChoice&&v.multipleChoice.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-semibold text-slate-700 mb-4 flex items-center gap-2",children:[e.jsx("span",{children:"ğŸ“"})," é¸æ“‡é¡Œ"]}),e.jsx("div",{className:"space-y-4",children:v.multipleChoice.map((P,E)=>e.jsx(De,{question:P,itemNumber:E+1},`mc-${E}`))})]}),v.memoryCardGame&&v.memoryCardGame.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl font-semibold text-slate-700 mb-4 flex items-center gap-2",children:[e.jsx("span",{children:"ğŸ§ "})," è¨˜æ†¶å¡é…å°"]}),e.jsx("div",{className:"space-y-4",children:v.memoryCardGame.map((P,E)=>e.jsx(Ve,{question:P,itemNumber:E+1},`mcg-${E}`))})]})]}),e.jsx("div",{className:"sticky bottom-0 bg-slate-50 p-6 border-t rounded-b-2xl",children:e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:T,className:"px-8 py-3 bg-indigo-500 hover:bg-indigo-600 text-white font-medium rounded-xl transition-colors",children:"å®Œæˆç·´ç¿’"})})})]})})]})},yt=({turn:t,isCurrentTurn:c,isStudentTurn:a,onPlayComplete:x,showTranslation:l=!1,showHints:d=!1,voiceSettings:n={}})=>{const[m,g]=r.useState(!1),[h,f]=r.useState(!1),[p,b]=r.useState(l),[s,o]=r.useState(d),i=r.useCallback(async()=>{if(m){pe.stopSpeaking();return}try{g(!0),await pe.speak(t.text,{lang:"en-US",rate:.9,...n},void 0,()=>{g(!1),x?.()},C=>{console.error("Speech playback error:",C),g(!1)})}catch(C){console.error("Failed to play speech:",C),g(!1)}},[t.text,m,n,x]),v=C=>{switch(C){case"easy":return"text-green-600 bg-green-50 border-green-200";case"normal":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"hard":return"text-red-600 bg-red-50 border-red-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},S=(C,I)=>{let A=C;return I.forEach(k=>{const j=new RegExp(`\\b(${k.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")})\\b`,"gi");A=A.replace(j,'<mark class="bg-yellow-200 px-1 rounded">$1</mark>')}),A};return e.jsxs("div",{className:`
      relative rounded-lg border-2 transition-all duration-300 mb-4
      ${c?"border-blue-400 shadow-lg bg-blue-50":"border-gray-200 bg-white"}
      ${a&&c?"border-green-400 bg-green-50":""}
    `,children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`
            w-10 h-10 rounded-full flex items-center justify-center text-white font-medium
            ${a?"bg-green-500":t.speaker==="Teacher"||t.speaker==="è€å¸«"?"bg-blue-500":"bg-gray-500"}
          `,children:t.speaker.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium text-gray-900",children:[t.speaker,a&&e.jsx("span",{className:"ml-2 text-sm text-green-600 font-normal",children:"(Your turn)"})]}),c&&e.jsx("div",{className:"text-sm text-blue-600",children:"Current conversation turn"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`
            px-2 py-1 text-xs font-medium rounded-full border
            ${v(t.difficulty)}
          `,children:t.difficulty}),e.jsx("button",{onClick:i,disabled:a,className:`
              p-2 rounded-full transition-colors
              ${a?"bg-gray-100 text-gray-400 cursor-not-allowed":m?"bg-red-500 text-white hover:bg-red-600":"bg-blue-500 text-white hover:bg-blue-600"}
            `,title:a?"It's your turn to speak":m?"Stop":"Play audio",children:m?e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"})}):e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M8 5v14l11-7z"})})}),e.jsx("button",{onClick:()=>f(!h),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full",title:"Show/hide details",children:e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})})})]})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"text-lg text-gray-900 leading-relaxed mb-3",children:t.keyWords?.length>0?e.jsx("div",{dangerouslySetInnerHTML:{__html:S(t.text,t.keyWords)}}):t.text}),e.jsx("div",{className:"flex items-center space-x-2 mb-3",children:e.jsx("button",{onClick:()=>b(!p),className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:p?"éš±è—ç¿»è­¯":"é¡¯ç¤ºç¿»è­¯"})}),p&&e.jsx("div",{className:"text-gray-600 bg-gray-50 p-3 rounded-lg mb-3 border border-gray-200",children:t.translation}),a&&t.expectedResponseHints&&t.expectedResponseHints.length>0&&e.jsxs("div",{className:"mb-3",children:[e.jsx("button",{onClick:()=>o(!s),className:"text-sm text-green-600 hover:text-green-800 font-medium mb-2",children:s?"éš±è—æç¤º":"éœ€è¦æç¤ºï¼Ÿ"}),s&&e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm font-medium text-green-800 mb-2",children:"ğŸ’¡ Response hints:"}),e.jsx("ul",{className:"text-sm text-green-700 space-y-1",children:t.expectedResponseHints.map((C,I)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-green-500 mr-2",children:"â€¢"}),e.jsx("span",{children:C})]},I))})]})]}),h&&e.jsxs("div",{className:"border-t border-gray-200 pt-3 mt-3 space-y-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-700 mb-1",children:"ğŸ“š Practice Point:"}),e.jsx("div",{className:"text-sm text-gray-600 bg-blue-50 p-2 rounded border border-blue-200",children:t.practicePoint})]}),t.keyWords?.length>0&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-700 mb-1",children:"ğŸ”‘ Key Words:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.keyWords.map((C,I)=>e.jsx("span",{className:"px-2 py-1 text-sm bg-yellow-100 text-yellow-800 rounded-full border border-yellow-300",children:C},I))})]}),t.pronunciation&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-700 mb-1",children:"ğŸ”Š Pronunciation:"}),e.jsx("div",{className:"text-sm text-gray-600 font-mono bg-gray-50 p-2 rounded border border-gray-200",children:t.pronunciation})]})]})]}),c&&e.jsx("div",{className:"absolute -left-1 top-1/2 transform -translate-y-1/2",children:e.jsx("div",{className:"w-2 h-8 bg-blue-400 rounded-r"})}),a&&c&&e.jsx("div",{className:"absolute top-2 right-2",children:e.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse"})})]})},er=()=>{const[t,c]=r.useState({topic:"",scenario:"",difficulty:"normal",participantCount:2,duration:10,focusAreas:[],culturalContext:""}),[a,x]=r.useState(""),[l,d]=r.useState(!1),[n,m]=r.useState(null),[g,h]=r.useState(null),[f,p]=r.useState(!1),[b,s]=r.useState(""),[o,i]=r.useState(0),v=Se.getConversationTemplates(),S=Se.getDifficultyLevels();r.useEffect(()=>{const j=localStorage.getItem("gemini_api_key");j&&x(j)},[]);const C=j=>{c({...t,topic:j.title,scenario:j.scenario,difficulty:j.suggestedDifficulty,participantCount:j.participants.length})},I=async()=>{if(!a.trim()){m("Please enter your Gemini API key");return}if(!t.topic.trim()||!t.scenario.trim()){m("Please provide both topic and scenario");return}d(!0),m(null);try{localStorage.setItem("gemini_api_key",a);const j=await Se.generateConversationPractice(t);h(j),i(0)}catch(j){console.error("Failed to generate conversation:",j),m("Failed to generate conversation. Please check your API key and try again.")}finally{d(!1)}},A=async()=>{if(g){p(!0),m(null);try{const j={practice:g,metadata:{createdBy:"AI Page Gen",generatedAt:new Date().toISOString()}},y=await ot(j),$=`${window.location.origin}/ai-page-gen/conversation-practice/${y}`;s($)}catch(j){console.error("Failed to share conversation:",j),m("Failed to create shareable link")}finally{p(!1)}}},k=()=>{navigator.clipboard.writeText(b)};return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto px-4",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{className:"text-center flex-1",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"è‹±æ–‡å°è©±ç·´ç¿’ç”Ÿæˆå™¨"}),e.jsx("p",{className:"text-gray-600",children:"Create interactive English conversation practices for your students"})]}),e.jsxs("a",{href:"/ai-page-gen/",className:"flex items-center gap-2 px-4 py-2 text-indigo-600 bg-white border border-indigo-200 rounded-lg hover:bg-indigo-50 transition-colors shadow-sm",children:[e.jsx(ge,{className:"w-4 h-4"}),"è¿”å›é¦–é "]})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"API Configuration"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gemini API Key"}),e.jsx("input",{type:"password",value:a,onChange:j=>x(j.target.value),placeholder:"Enter your Gemini API key",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Templates"}),e.jsx("div",{className:"space-y-4",children:v.map(j=>e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:j.category}),e.jsx("div",{className:"grid grid-cols-1 gap-2",children:j.scenarios.slice(0,2).map((y,$)=>e.jsxs("button",{onClick:()=>C(y),className:"text-left p-3 bg-gray-50 hover:bg-gray-100 rounded-lg border border-gray-200 transition-colors",children:[e.jsx("div",{className:"font-medium text-gray-900 text-sm",children:y.title}),e.jsxs("div",{className:"text-xs text-gray-600 mt-1",children:[y.scenario.substring(0,60),"..."]})]},$))})]},j.category))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Conversation Settings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Topic *"}),e.jsx("input",{type:"text",value:t.topic,onChange:j=>c({...t,topic:j.target.value}),placeholder:"e.g., Ordering food at a restaurant",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Scenario *"}),e.jsx("textarea",{value:t.scenario,onChange:j=>c({...t,scenario:j.target.value}),placeholder:"Detailed description of the conversation context",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Difficulty Level"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:S.map(j=>e.jsxs("button",{onClick:()=>c({...t,difficulty:j.level}),className:`p-3 rounded-lg border text-sm transition-colors ${t.difficulty===j.level?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 bg-white hover:bg-gray-50"}`,children:[e.jsx("div",{className:"font-medium",children:j.level}),e.jsx("div",{className:"text-xs opacity-75 mt-1",children:j.description.split(" - ")[0]})]},j.level))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Participants"}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{onClick:()=>c({...t,participantCount:2}),className:`px-4 py-2 rounded-lg border transition-colors ${t.participantCount===2?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 bg-white hover:bg-gray-50"}`,children:"2 People"}),e.jsx("button",{onClick:()=>c({...t,participantCount:3}),className:`px-4 py-2 rounded-lg border transition-colors ${t.participantCount===3?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 bg-white hover:bg-gray-50"}`,children:"3 People"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Target Duration (minutes)"}),e.jsx("input",{type:"number",min:"5",max:"30",value:t.duration,onChange:j=>c({...t,duration:parseInt(j.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Focus Areas (optional)"}),e.jsx("input",{type:"text",value:t.focusAreas?.join(", ")||"",onChange:j=>c({...t,focusAreas:j.target.value.split(",").map(y=>y.trim()).filter(y=>y)}),placeholder:"e.g., pronunciation, grammar, vocabulary",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{onClick:I,disabled:l||!a.trim(),className:"w-full px-4 py-3 bg-blue-500 hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed text-white font-medium rounded-lg transition-colors flex items-center justify-center space-x-2",children:l?e.jsxs(e.Fragment,{children:[e.jsx(de,{}),e.jsx("span",{children:"Generating..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})}),e.jsx("span",{children:"Generate Conversation"})]})})})]}),n&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("svg",{className:"w-5 h-5 text-red-400 mt-0.5",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("div",{className:"text-sm font-medium text-red-800",children:"Error"}),e.jsx("div",{className:"text-sm text-red-700 mt-1",children:n})]})]})})]}),e.jsx("div",{className:"space-y-6",children:g?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Generated Conversation"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200",children:[e.jsx("div",{className:"text-sm font-medium text-blue-800",children:"Title"}),e.jsx("div",{className:"text-blue-700",children:g.title})]}),e.jsxs("div",{className:"bg-green-50 p-3 rounded-lg border border-green-200",children:[e.jsx("div",{className:"text-sm font-medium text-green-800",children:"Difficulty"}),e.jsx("div",{className:"text-green-700",children:g.difficulty})]}),e.jsxs("div",{className:"bg-purple-50 p-3 rounded-lg border border-purple-200",children:[e.jsx("div",{className:"text-sm font-medium text-purple-800",children:"Duration"}),e.jsxs("div",{className:"text-purple-700",children:[g.duration," min"]})]}),e.jsxs("div",{className:"bg-orange-50 p-3 rounded-lg border border-orange-200",children:[e.jsx("div",{className:"text-sm font-medium text-orange-800",children:"Turns"}),e.jsx("div",{className:"text-orange-700",children:g.dialogue.length})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Participants"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:g.participants.map((j,y)=>e.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-800 rounded-full text-sm",children:j},y))})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Description"}),e.jsx("div",{className:"text-gray-600 text-sm",children:g.description})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Preview"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:()=>i(Math.max(0,o-1)),disabled:o===0,className:"p-2 text-gray-500 hover:text-gray-700 disabled:text-gray-300 disabled:cursor-not-allowed",children:e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})})}),e.jsxs("span",{className:"text-sm text-gray-600",children:[o+1," / ",g.dialogue.length]}),e.jsx("button",{onClick:()=>i(Math.min(g.dialogue.length-1,o+1)),disabled:o===g.dialogue.length-1,className:"p-2 text-gray-500 hover:text-gray-700 disabled:text-gray-300 disabled:cursor-not-allowed",children:e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})})})]})]}),e.jsx(yt,{turn:g.dialogue[o],isCurrentTurn:!0,isStudentTurn:!1,showTranslation:!0,showHints:!0})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Share with Students"}),b?e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Shareable Link"}),e.jsxs("div",{className:"flex",children:[e.jsx("input",{type:"text",value:b,readOnly:!0,className:"flex-1 px-3 py-2 border border-gray-300 rounded-l-lg bg-gray-50"}),e.jsx("button",{onClick:k,className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white font-medium rounded-r-lg",children:"Copy"})]}),e.jsx("div",{className:"text-sm text-gray-600 mt-2",children:"Students can use this link to practice the conversation"})]}):e.jsx("button",{onClick:A,disabled:f,className:"w-full px-4 py-3 bg-green-500 hover:bg-green-600 disabled:bg-gray-300 text-white font-medium rounded-lg transition-colors flex items-center justify-center space-x-2",children:f?e.jsxs(e.Fragment,{children:[e.jsx(de,{}),e.jsx("span",{children:"Creating Share Link..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.50-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92s2.92-1.31 2.92-2.92S19.61 16.08 18 16.08z"})}),e.jsx("span",{children:"Create Share Link"})]})})]})]}):e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[e.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"ğŸ’¬"}),e.jsx("div",{className:"text-gray-600",children:"Generate a conversation to see the preview"})]})})]})]})})},tr=({targetText:t,onRecordingComplete:c,onRecordingStart:a,onRecordingStop:x,disabled:l=!1,language:d="en-US",placeholder:n="Click to start recording..."})=>{const[m,g]=r.useState(!1),[h,f]=r.useState(""),[p,b]=r.useState(0),[s,o]=r.useState(!0),[i,v]=r.useState(null),[S,C]=r.useState(0),I=r.useRef(null),A=r.useRef([]),k=r.useRef(0),j=r.useRef({text:"",confidence:0});r.useEffect(()=>{const D=pe.getSupportStatus();return o(D.sttSupported),D.sttSupported||v("Your browser does not support speech recognition"),()=>{k.current&&cancelAnimationFrame(k.current)}},[]);const y=async()=>{if(!(!s||l))try{v(null),f(""),b(0),A.current=[];const D=await navigator.mediaDevices.getUserMedia({audio:!0}),L=new MediaRecorder(D);I.current=L,L.ondataavailable=u=>{u.data.size>0&&A.current.push(u.data)},L.start(),await pe.startRecording({lang:d,continuous:!1,interimResults:!0},u=>{f(u.text),b(u.confidence),j.current={text:u.text,confidence:u.confidence},console.log("VoiceRecorder: Speech recognition result:",u)},u=>{console.error("Speech recognition error:",u),v("Speech recognition failed. Please try again."),$()},()=>{a?.(),g(!0)},()=>{g(!1),x?.(),setTimeout(()=>{const u=j.current.text,R=j.current.confidence;console.log("ğŸ”´ VoiceRecorder: Preparing callback with:",{finalText:u,finalConfidence:R}),console.log("ğŸ”´ VoiceRecorder: About to call onRecordingComplete"),console.log("ğŸ”´ VoiceRecorder: Triggering onRecordingComplete NOW"),c({text:u,confidence:R,audioBlob:void 0}),I.current&&I.current.state!=="inactive"&&(I.current.stop(),I.current.onstop=()=>{const V=A.current.length>0?new Blob(A.current,{type:"audio/wav"}):void 0;V&&(console.log("VoiceRecorder: Updating with audio blob"),c({text:u,confidence:R,audioBlob:V}))})},200)}),T(D)}catch(D){console.error("Failed to start recording:",D),v("Failed to access microphone. Please check permissions.")}},$=()=>{m&&(pe.stopRecording(),C(0),k.current&&cancelAnimationFrame(k.current))},T=D=>{const L=new AudioContext,u=L.createAnalyser();L.createMediaStreamSource(D).connect(u),u.fftSize=256;const V=u.frequencyBinCount,N=new Uint8Array(V),M=()=>{if(!m)return;u.getByteFrequencyData(N);const P=N.reduce((E,w)=>E+w,0)/V;C(P/255),k.current=requestAnimationFrame(M)};M()},z=()=>{const D="relative flex items-center justify-center w-16 h-16 rounded-full transition-all duration-200 focus:outline-none focus:ring-4 focus:ring-offset-2";return l?e.jsx("button",{className:`${D} bg-gray-300 cursor-not-allowed`,disabled:!0,children:e.jsx("svg",{className:"w-6 h-6 text-gray-500",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"})})}):m?e.jsxs("button",{onClick:$,className:`${D} bg-red-500 hover:bg-red-600 text-white focus:ring-red-300 animate-pulse`,style:{transform:`scale(${1+S*.3})`},children:[e.jsx("div",{className:"w-4 h-4 bg-white rounded-sm"}),e.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-red-300",style:{transform:`scale(${1.2+S*.5})`,opacity:S*.7}})]}):e.jsx("button",{onClick:y,className:`${D} bg-blue-500 hover:bg-blue-600 text-white focus:ring-blue-300`,children:e.jsx("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"})})})};return s?e.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[z(),e.jsx("div",{className:"text-sm text-gray-600 text-center",children:m?e.jsx("span",{className:"text-red-600 font-medium",children:"Recording..."}):n})]}),h&&e.jsx("div",{className:"w-full max-w-md",children:e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 border",children:[e.jsx("div",{className:"text-sm font-medium text-gray-700 mb-1",children:"You said:"}),e.jsxs("div",{className:"text-gray-900",children:['"',h,'"']}),p>0&&e.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Confidence:"}),e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${p>.8?"bg-green-500":p>.6?"bg-yellow-500":"bg-red-500"}`,style:{width:`${p*100}%`}})}),e.jsxs("span",{className:"text-xs text-gray-500",children:[Math.round(p*100),"%"]})]})]})}),i&&e.jsx("div",{className:"text-red-600 text-sm bg-red-50 px-3 py-2 rounded-lg border border-red-200",children:i}),t&&h&&e.jsxs("div",{className:"w-full max-w-md text-xs text-gray-500 bg-blue-50 p-3 rounded-lg border border-blue-200",children:[e.jsx("div",{className:"font-medium mb-1",children:"Expected:"}),e.jsxs("div",{className:"text-blue-700",children:['"',t,'"']})]})]}):e.jsxs("div",{className:"flex flex-col items-center space-y-2 p-4 bg-red-50 rounded-lg border border-red-200",children:[e.jsx("div",{className:"text-red-600 text-sm font-medium",children:"Speech recognition not supported"}),e.jsx("div",{className:"text-red-500 text-xs text-center",children:"Please use Chrome, Edge, or Safari for voice recording"})]})},sr=()=>{const{binId:t}=Et(),c=Re(),[a,x]=r.useState(null),[l,d]=r.useState(null),[n,m]=r.useState(!0),[g,h]=r.useState(null),[f,p]=r.useState(0),[b,s]=r.useState(!1),[o,i]=r.useState(null),[v,S]=r.useState(!1),[C,I]=r.useState(""),[A,k]=r.useState(""),[j,y]=r.useState(null),[$,T]=r.useState([]),[z,D]=r.useState(0),L=(B,O)=>{const F=me=>me.toLowerCase().replace(/[^\w\s]/g,"").trim(),ee=F(B).split(/\s+/),H=F(O).split(/\s+/);if(ee.length===0||H.length===0)return 0;let q=0;const _=new Set(ee);H.forEach(me=>{_.has(me)?q++:ee.forEach(fe=>{fe.length>=3&&me.length>=3&&(fe.includes(me)||me.includes(fe))&&(q+=.5)})});const U=Math.max(ee.length,H.length);return Math.min(q/U,1)},u=async B=>{try{await pe.speak(B,{lang:"en-US",rate:.8,pitch:1,volume:1})}catch(O){console.error("Failed to play demonstration:",O)}},R=()=>{j?.audioBlob&&new Audio(URL.createObjectURL(j.audioBlob)).play().catch(O=>{console.error("Failed to play recording:",O)})},V=B=>B>=.8?"text-green-600":B>=.6?"text-yellow-600":"text-red-600",N=B=>{const O=B.split(/[.!?]+/).filter(H=>H.trim().length>0),F=[];for(const H of O){const q=H.trim();if(q.length>50){const _=q.split(",").filter(U=>U.trim().length>0);_.length>1?F.push(..._.map(U=>U.trim())):F.push(q)}else q.length>0&&F.push(q)}return F.length>0?F:[B.trim()]},M=r.useCallback(async()=>{if(!t){h("No practice ID provided"),m(!1);return}try{const B=await is(t);if(B.type!=="conversation-practice"){h("This is not a conversation practice link"),m(!1);return}x(B.practice),B.practice.participants.length>0&&I(B.practice.participants[0]),m(!1)}catch(B){console.error("Failed to load conversation practice:",B),h("Failed to load conversation practice"),m(!1)}},[t]);r.useEffect(()=>{M()},[M]),r.useEffect(()=>{const B=O=>{if(!a||!l)return;const F=a.dialogue[O];if(!F||F.speaker!==l.studentRole)return;const ee=N(F.text),H=$.length===0||JSON.stringify(ee)!==JSON.stringify($);T(ee),H&&(D(0),ee.length>0&&k(ee[0]))};if(l&&a&&a.dialogue.length>0){const O=a.dialogue[f];O&&O.speaker===l.studentRole?B(f):(T([]),D(0),k(""))}},[$,l,a,f]);const P=()=>{if(!a||!C)return;const B={practiceId:a.id,startTime:Date.now(),currentTurnIndex:0,studentRole:C,responses:[],completed:!1};d(B),p(0),s(!1)},E=B=>!a||!l?!1:a.dialogue[B]?.speaker===l.studentRole,w=async B=>{const O=$.length>0?$[z]:A;if(!(!a||!l||!O)){S(!0);try{const F=L(O,B.text),ee={text:B.text,audioBlob:B.audioBlob,similarity:F};y(ee);const q={turnId:a.dialogue[f].id,text:B.text,confidence:B.confidence,audioBlob:B.audioBlob,timestamp:Date.now()},_={...l,responses:[...l.responses,q]};d(_)}catch(F){console.error("Failed to process student response:",F)}finally{S(!1)}}},Z=()=>{if(!(!a||!l)){if(s(!1),i(null),z<$.length-1){const B=z+1,O=$[B];y(null),D(B),k(O);return}if(f<a.dialogue.length-1){const B=f+1;y(null),T([]),D(0),k(""),p(B)}else K()}},K=()=>{if(!l)return;const B={...l,completed:!0};d(B)};if(n)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(de,{}),e.jsx("div",{className:"mt-4 text-gray-600",children:"Loading conversation practice..."})]})});if(g)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center max-w-md mx-auto p-6",children:[e.jsx("div",{className:"text-red-600 text-lg font-medium mb-2",children:"Error"}),e.jsx("div",{className:"text-gray-600 mb-4",children:g}),e.jsx("button",{onClick:()=>c("/"),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Back to Home"})]})});if(!a)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx("div",{className:"text-center",children:e.jsx("div",{className:"text-gray-600",children:"No conversation found"})})});if(!l)return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:a.title}),e.jsxs("div",{className:"flex items-center justify-center space-x-4 text-sm text-gray-600",children:[e.jsxs("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:["é›£åº¦ï¼š",a.difficulty==="easy"?"ç°¡å–®":a.difficulty==="normal"?"æ™®é€š":"å›°é›£"]}),e.jsxs("span",{children:[a.duration," åˆ†é˜"]}),e.jsxs("span",{children:[a.dialogue.length," å€‹å°è©±è¼ªæ¬¡"]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"ğŸ“– æƒ…å¢ƒèªªæ˜"}),e.jsx("p",{className:"text-gray-700 mb-4",children:a.scenario}),e.jsx("p",{className:"text-gray-600",children:a.description})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"ğŸ­ é¸æ“‡æ‚¨çš„è§’è‰²"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.participants.map(B=>e.jsxs("button",{onClick:()=>I(B),className:`p-4 border rounded-lg text-left transition-all ${C===B?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("div",{className:"font-medium text-gray-900",children:B}),e.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:["æ‚¨å°‡æ‰®æ¼” ",B," çš„è§’è‰²"]})]},B))})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"ğŸ¯ å­¸ç¿’ç›®æ¨™"}),e.jsx("ul",{className:"space-y-2",children:a.practiceGoals.map((B,O)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-green-500 mr-2 mt-0.5",children:"âœ“"}),e.jsx("span",{className:"text-gray-700",children:B})]},O))})]}),e.jsx("div",{className:"text-center",children:e.jsx("button",{onClick:P,disabled:!C,className:`px-8 py-3 rounded-lg font-medium transition-colors ${C?"bg-blue-500 hover:bg-blue-600 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:"é–‹å§‹ç·´ç¿’"})})]})});if(l.completed)return e.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 text-center",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8",children:[e.jsx("div",{className:"text-green-600 text-6xl mb-4",children:"ğŸ‰"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"æ­å–œå®Œæˆï¼"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"æ‚¨å·²ç¶“å®Œæˆäº†è‹±æ–‡å°è©±ç·´ç¿’ï¼Œè¡¨ç¾å¾ˆæ£’ï¼"}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:l.responses.length}),e.jsx("div",{className:"text-sm text-gray-600",children:"å›ç­”æ¬¡æ•¸"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:Math.round((Date.now()-l.startTime)/1e3/60)}),e.jsx("div",{className:"text-sm text-gray-600",children:"ç·´ç¿’åˆ†é˜"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:a.difficulty==="easy"?"ç°¡å–®":a.difficulty==="normal"?"æ™®é€š":"å›°é›£"}),e.jsx("div",{className:"text-sm text-gray-600",children:"é›£åº¦ç­‰ç´š"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:l.studentRole}),e.jsx("div",{className:"text-sm text-gray-600",children:"æ‰®æ¼”è§’è‰²"})]})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row justify-center space-y-2 sm:space-y-0 sm:space-x-4",children:[e.jsx("button",{onClick:()=>{d(null),p(0)},className:"px-6 py-3 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium",children:"å†ç·´ç¿’ä¸€æ¬¡"}),e.jsx("button",{onClick:()=>c("/"),className:"px-6 py-3 bg-gray-500 hover:bg-gray-600 text-white rounded-lg font-medium",children:"è¿”å›é¦–é "})]})]})})});const Y=a.dialogue[f],X=E(f);return e.jsx("div",{className:"min-h-screen bg-gray-50 py-4",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h1",{className:"font-semibold text-gray-900",children:a.title}),e.jsxs("span",{className:"text-sm text-gray-600",children:[f+1," / ",a.dialogue.length]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${(f+1)/a.dialogue.length*100}%`}})})]}),e.jsx(yt,{turn:Y,isCurrentTurn:!0,isStudentTurn:X,showTranslation:!1,showHints:X}),X?e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"ğŸ¤ è¼ªåˆ°æ‚¨é–‹å£èªªè©±äº†"}),$.length>1&&e.jsxs("p",{className:"text-blue-600 text-sm mb-2",children:["ç¬¬ ",z+1," æ®µ / å…± ",$.length," æ®µ"]}),e.jsx("p",{className:"text-gray-600",children:"é»æ“Šä¸‹æ–¹å¥å­ç·´ç¿’ç™¼éŸ³ï¼Œç„¶å¾ŒéŒ„éŸ³"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-md font-medium text-gray-800 mb-3",children:"ğŸ“ è«‹ç·´ç¿’é€™å€‹å¥å­ï¼š"}),$.length>1&&e.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx("div",{className:"text-sm text-blue-700 mb-1",children:"å®Œæ•´å¥å­ï¼š"}),e.jsx("div",{className:"text-blue-900",children:Y.text})]}),A?e.jsx("div",{className:"p-4 border-2 border-green-500 bg-green-50 rounded-lg cursor-pointer transition-colors",onClick:()=>k(A),children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-900 text-lg font-medium",children:A}),e.jsx("div",{className:"flex gap-2",children:e.jsx("button",{onClick:B=>{B.stopPropagation(),u(A)},className:"p-2 text-blue-500 hover:bg-blue-100 rounded-full transition-colors",title:"æ’­æ”¾ç¤ºç¯„ç™¼éŸ³",children:e.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M8 5v14l11-7z"})})})})]})}):e.jsx("div",{className:"p-4 border-2 border-gray-300 bg-gray-50 rounded-lg",children:e.jsx("div",{className:"text-gray-500 text-center",children:"æ­£åœ¨è¼‰å…¥å¥å­..."})}),Y.translation&&e.jsxs("div",{className:"mt-3 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsx("div",{className:"text-sm text-yellow-700 mb-1",children:"ğŸ’¡ ä¸­æ–‡æ„æ€ï¼š"}),e.jsx("div",{className:"text-yellow-900",children:Y.translation})]})]}),A&&e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h5",{className:"text-sm font-medium text-gray-700 mb-3",children:"ğŸ™ï¸ é–‹å§‹éŒ„éŸ³ç·´ç¿’"}),e.jsx(tr,{targetText:$.length>0?$[z]:A,onRecordingComplete:w,onRecordingStart:()=>{},onRecordingStop:()=>{},disabled:v,language:"en-US",placeholder:"é»æ“ŠéŒ„éŸ³æŒ‰éˆ•é–‹å§‹ç·´ç¿’"})]}),j&&e.jsxs("div",{className:"mt-4 p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"ğŸ“ æ‚¨èªªçš„å…§å®¹ï¼š"}),j.audioBlob&&e.jsxs("button",{onClick:R,className:"px-3 py-1 bg-blue-500 text-white text-sm rounded hover:bg-blue-600 flex items-center gap-1",children:[e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M8 5v14l11-7z"})}),"æ’­æ”¾éŒ„éŸ³"]})]}),e.jsxs("div",{className:"text-gray-800 mb-3 p-2 bg-white rounded border",children:['"',j.text,'"']}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-gray-600 mr-2",children:"ç™¼éŸ³æº–ç¢ºåº¦ï¼š"}),e.jsxs("span",{className:`font-medium ${V(j.similarity||0)}`,children:[Math.round((j.similarity||0)*100),"%"]}),(j.similarity||0)>=.8&&e.jsx("span",{className:"ml-2",children:"ğŸ‰ å¾ˆæ£’ï¼"}),(j.similarity||0)>=.6&&(j.similarity||0)<.8&&e.jsx("span",{className:"ml-2",children:"ğŸ‘ ä¸éŒ¯ï¼"}),(j.similarity||0)<.6&&e.jsx("span",{className:"ml-2",children:"ğŸ’ª å†åŠ æ²¹ï¼"})]}),!j.audioBlob&&e.jsx("div",{className:"text-xs text-red-500 mt-2",children:"éŒ„éŸ³éŸ³é »ä¸å¯ç”¨"})]}),j&&(j.similarity||0)>=.6&&e.jsx("div",{className:"mt-4",children:e.jsxs("button",{onClick:Z,className:"px-6 py-3 bg-green-500 hover:bg-green-600 text-white font-medium rounded-lg transition-colors flex items-center gap-2 mx-auto",children:[e.jsx("span",{children:"âœ… å¾ˆå¥½ï¼"}),e.jsx("span",{children:(()=>{const B=z>=$.length-1,O=f>=(a?.dialogue.length||0)-1;return B?O?"å®Œæˆæ‰€æœ‰ç·´ç¿’":"å®Œæˆé€™è¼ªï¼Œç¹¼çºŒä¸‹ä¸€è¼ªå°è©±":`ç·´ç¿’ä¸‹ä¸€æ®µ (${z+2}/${$.length})`})()})]})}),j&&(j.similarity||0)<.6&&e.jsxs("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsx("div",{className:"text-sm text-yellow-800 mb-3",children:"ğŸ¯ å»ºè­°ï¼šè«‹å†æ¬¡è½å–ç¤ºç¯„ç™¼éŸ³ï¼Œä¸¦å˜—è©¦æ›´æ¸…æ¥šåœ°èªªå‡ºå¥å­"}),e.jsx("button",{onClick:()=>y(null),className:"px-4 py-2 bg-yellow-500 hover:bg-yellow-600 text-white text-sm rounded transition-colors",children:"ğŸ”„ é‡æ–°éŒ„éŸ³"})]})]})]}):e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 text-center",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:["ğŸ§ è†è½ ",Y.speaker," èªªè©±"]}),e.jsx("p",{className:"text-gray-600 mb-4",children:"è«‹ä»”ç´°è½å°æ–¹çš„ç™¼éŸ³å’Œèªèª¿ï¼Œç‚ºä¸‹æ¬¡ç·´ç¿’åšæº–å‚™"}),e.jsxs("button",{onClick:Z,className:"px-6 py-3 bg-blue-500 hover:bg-blue-600 text-white rounded-lg font-medium flex items-center gap-2 mx-auto",children:[e.jsx("span",{children:"ğŸ‘‚ æˆ‘è½æ¸…æ¥šäº†"}),e.jsx("span",{children:"â†’"}),e.jsx("span",{children:"ç¹¼çºŒ"})]})]}),v&&e.jsxs("div",{className:"text-center mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx(de,{}),e.jsx("div",{className:"text-sm text-blue-600 mt-2",children:"ğŸ”„ æ­£åœ¨åˆ†ææ‚¨çš„ç™¼éŸ³..."})]})]})})},rr=({isOpen:t,onClose:c,providers:a,onShareCreated:x})=>{const[l,d]=r.useState(""),[n,m]=r.useState(""),[g,h]=r.useState(""),[f,p]=r.useState([]),[b,s]=r.useState(!1),[o,i]=r.useState(""),[v,S]=r.useState("");G.useEffect(()=>{if(a.length>0&&f.length===0){const z=a.filter(D=>D.enabled&&D.apiKey);p(z.map(D=>D.id))}},[a,f.length]);const C=G.useMemo(()=>Ye.validatePasswordStrength(g),[g]),I=r.useCallback(()=>{const z=Ye.generateRandomPassword();h(z)},[]),A=r.useCallback(z=>{p(D=>D.includes(z)?D.filter(L=>L!==z):[...D,z])},[]),k=r.useCallback(async()=>{if(!l.trim()){S("è«‹è¼¸å…¥åˆ†äº«åç¨±");return}if(!g){S("è«‹è¨­å®šåˆ†äº«å¯†ç¢¼");return}if(!C.isValid){S("å¯†ç¢¼å¼·åº¦ä¸è¶³");return}if(f.length===0){S("è«‹è‡³å°‘é¸æ“‡ä¸€å€‹ Provider");return}s(!0),S("");try{const z=a.filter(u=>f.includes(u.id)),D=await he.createEncryptedShare(z,l,g,n||void 0),L=he.generateShareUrl(D);i(L),x?.(L)}catch(z){S(z.message||"å‰µå»ºåˆ†äº«å¤±æ•—")}finally{s(!1)}},[l,g,n,f,a,C.isValid,x]),j=r.useCallback(async()=>{try{await navigator.clipboard.writeText(o)}catch(z){console.error("è¤‡è£½å¤±æ•—:",z)}},[o]),y=r.useCallback(async()=>{try{await navigator.clipboard.writeText(g)}catch(z){console.error("è¤‡è£½å¯†ç¢¼å¤±æ•—:",z)}},[g]);if(!t)return null;const $=a.filter(z=>z.enabled&&z.apiKey),T=he.generateShareStats(a.filter(z=>f.includes(z.id)));return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"åˆ†äº« Provider é…ç½®"}),e.jsx("button",{onClick:c,className:"text-gray-400 hover:text-gray-600 text-2xl",children:"Ã—"})]}),o?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"åˆ†äº«å‰µå»ºæˆåŠŸï¼"}),e.jsx("p",{className:"text-gray-600",children:"æ‚¨çš„ Provider é…ç½®å·²å®‰å…¨åŠ å¯†ä¸¦æº–å‚™åˆ†äº«"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"åˆ†äº«é€£çµ"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:o,readOnly:!0,className:"flex-1 px-3 py-2 bg-gray-50 border border-gray-300 rounded-lg text-sm"}),e.jsx("button",{onClick:j,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-medium",children:"è¤‡è£½"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"è§£å¯†å¯†ç¢¼"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:g,readOnly:!0,className:"flex-1 px-3 py-2 bg-gray-50 border border-gray-300 rounded-lg text-sm font-mono"}),e.jsx("button",{onClick:y,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 text-sm font-medium",children:"è¤‡è£½"})]})]})]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("svg",{className:"w-5 h-5 text-yellow-600 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 15.5c-.77.833.192 2.5 1.732 2.5z"})}),e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-medium text-yellow-800 mb-1",children:"é‡è¦æé†’"}),e.jsxs("ul",{className:"text-yellow-700 space-y-1",children:[e.jsx("li",{children:"â€¢ è«‹å°‡åˆ†äº«é€£çµå’Œå¯†ç¢¼åˆ†åˆ¥å‚³é€çµ¦æ¥æ”¶è€…"}),e.jsx("li",{children:"â€¢ å¯†ç¢¼åŒ…å«æ•æ„Ÿçš„ API Key ä¿¡æ¯ï¼Œè«‹å¦¥å–„ä¿ç®¡"}),e.jsx("li",{children:"â€¢ å»ºè­°é€šéå®‰å…¨é€šé“ï¼ˆå¦‚åŠ å¯†èŠå¤©ï¼‰åˆ†äº«å¯†ç¢¼"})]})]})]})}),e.jsx("div",{className:"flex gap-3",children:e.jsx("button",{onClick:c,className:"flex-1 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 font-medium",children:"å®Œæˆ"})})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"åˆ†äº«åç¨± *"}),e.jsx("input",{type:"text",value:l,onChange:z=>d(z.target.value),placeholder:"ä¾‹å¦‚ï¼šæˆ‘çš„ AI åŠ©æ‰‹é…ç½®",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"åˆ†äº«æè¿°ï¼ˆå¯é¸ï¼‰"}),e.jsx("textarea",{value:n,onChange:z=>m(z.target.value),placeholder:"æè¿°é€™å€‹é…ç½®çš„ç”¨é€”å’Œç‰¹é»...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"åˆ†äº«å¯†ç¢¼ *"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"password",value:g,onChange:z=>h(z.target.value),placeholder:"è¨­å®šä¸€å€‹å¼·å¯†ç¢¼ä¾†ä¿è­·æ‚¨çš„é…ç½®",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsx("button",{onClick:I,className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:"ç”Ÿæˆ"}),e.jsx("button",{onClick:y,className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg text-sm font-medium",children:"è¤‡è£½"})]}),g&&e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all ${C.score>=4?"bg-green-500":C.score>=3?"bg-yellow-500":"bg-red-500"}`,style:{width:`${C.score/5*100}%`}})}),e.jsx("span",{className:`text-sm font-medium ${C.score>=4?"text-green-600":C.score>=3?"text-yellow-600":"text-red-600"}`,children:C.score>=4?"å¼·":C.score>=3?"ä¸­":"å¼±"})]}),C.feedback.length>0&&e.jsx("ul",{className:"mt-1 text-xs text-gray-600",children:C.feedback.map((z,D)=>e.jsxs("li",{children:["â€¢ ",z]},D))})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"é¸æ“‡è¦åˆ†äº«çš„ Provider"}),e.jsxs("span",{className:"text-sm text-gray-500",children:["å·²é¸æ“‡ ",f.length," / ",$.length]})]}),e.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:$.map(z=>e.jsxs("label",{className:"flex items-center gap-3 p-3 border rounded-lg cursor-pointer hover:bg-gray-50",children:[e.jsx("input",{type:"checkbox",checked:f.includes(z.id),onChange:()=>A(z.id),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:z.name}),e.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded",children:z.type})]}),z.description&&e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:z.description})]})]},z.id))}),$.length===0&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("p",{children:"æ²’æœ‰å¯ç”¨çš„ Provider é…ç½®"}),e.jsx("p",{className:"text-sm mt-1",children:"è«‹å…ˆé…ç½®è‡³å°‘ä¸€å€‹ Provider ä¸¦ç¢ºä¿å·²å•Ÿç”¨"})]})]}),f.length>0&&e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[e.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:"åˆ†äº«é è¦½"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700",children:"Provider æ•¸é‡:"}),e.jsx("span",{className:"ml-2 font-medium",children:T.totalProviders})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700",children:"å®‰å…¨ç´šåˆ¥:"}),e.jsx("span",{className:"ml-2 font-medium text-green-600",children:T.securityLevel==="high"?"é«˜":"ä¸­"})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("span",{className:"text-blue-700",children:"åŒ…å«é¡å‹:"}),e.jsx("span",{className:"ml-2",children:Object.keys(T.providerTypes).join(", ")})]})]})]}),v&&e.jsx("div",{className:"p-3 bg-red-100 border border-red-400 text-red-700 rounded-lg",children:v}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{onClick:c,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 font-medium",children:"å–æ¶ˆ"}),e.jsx("button",{onClick:k,disabled:b||f.length===0||!C.isValid,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:b?"å‰µå»ºä¸­...":"å‰µå»ºåˆ†äº«"})]})]})]})})})},Nt=({binId:t,onProviderImported:c,onClose:a})=>{const[x,l]=r.useState(""),[d,n]=r.useState(!1),[m,g]=r.useState(""),[h,f]=r.useState(null),[p,b]=r.useState(null),[s,o]=r.useState(0),[i,v]=r.useState("preview");G.useEffect(()=>{(async()=>{try{n(!0);const j=await he.getSharePreview(t);f(j),v("password")}catch(j){g(j.message||"è¼‰å…¥åˆ†äº«ä¿¡æ¯å¤±æ•—")}finally{n(!1)}})()},[t]);const S=r.useCallback(async()=>{if(!x.trim()){g("è«‹è¼¸å…¥åˆ†äº«å¯†ç¢¼");return}n(!0),g("");try{const k=await he.loadEncryptedShare(t,x),j=he.validateShareData(k);if(!j.isValid)throw new Error(`åˆ†äº«æ•¸æ“šç„¡æ•ˆ: ${j.errors.join(", ")}`);b(k),v("import")}catch(k){g(k.message||"è§£å¯†å¤±æ•—ï¼Œè«‹æª¢æŸ¥å¯†ç¢¼æ˜¯å¦æ­£ç¢º")}finally{n(!1)}},[t,x]),C=r.useCallback(async()=>{if(p){n(!0),g("");try{const k=he.createProviderConfigsFromShare(p);let j=0;for(const y of k)try{await ae.addProvider(y),j++}catch($){console.error(`å°å…¥ Provider ${y.name} å¤±æ•—:`,$)}o(j),v("success"),c?.(j)}catch(k){g(k.message||"å°å…¥ Provider é…ç½®å¤±æ•—")}finally{n(!1)}}},[p,c]),I=k=>new Date(k).toLocaleString("zh-TW"),A=k=>{switch(k){case"gemini":return"Google Gemini";case"openrouter":return"OpenRouter";default:return k}};return i==="preview"&&d?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-sky-50 to-indigo-100 py-8 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsx("div",{className:"bg-white rounded-lg shadow-lg p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"è¼‰å…¥åˆ†äº«ä¿¡æ¯ä¸­..."})]})})})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-sky-50 to-indigo-100 py-8 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"max-w-2xl mx-auto",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"æ¥æ”¶ Provider é…ç½®åˆ†äº«"}),e.jsx("p",{className:"text-gray-600",children:"å®‰å…¨åœ°å°å…¥ä»–äººåˆ†äº«çš„ AI Provider é…ç½®"})]}),m&&e.jsx("div",{className:"mb-6 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg",children:m}),e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:`flex items-center gap-2 ${i==="password"?"text-blue-600":i==="import"||i==="success"?"text-green-600":"text-gray-400"}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${i==="password"?"bg-blue-600 text-white":i==="import"||i==="success"?"bg-green-600 text-white":"bg-gray-300"}`,children:"1"}),e.jsx("span",{className:"text-sm font-medium",children:"è¼¸å…¥å¯†ç¢¼"})]}),e.jsx("div",{className:`w-12 h-0.5 ${i==="import"||i==="success"?"bg-green-600":"bg-gray-300"}`}),e.jsxs("div",{className:`flex items-center gap-2 ${i==="import"?"text-blue-600":i==="success"?"text-green-600":"text-gray-400"}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${i==="import"?"bg-blue-600 text-white":i==="success"?"bg-green-600 text-white":"bg-gray-300"}`,children:"2"}),e.jsx("span",{className:"text-sm font-medium",children:"ç¢ºèªå°å…¥"})]}),e.jsx("div",{className:`w-12 h-0.5 ${i==="success"?"bg-green-600":"bg-gray-300"}`}),e.jsxs("div",{className:`flex items-center gap-2 ${i==="success"?"text-green-600":"text-gray-400"}`,children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${i==="success"?"bg-green-600 text-white":"bg-gray-300"}`,children:"3"}),e.jsx("span",{className:"text-sm font-medium",children:"å®Œæˆ"})]})]})}),h&&e.jsxs("div",{className:"mb-6 bg-blue-50 rounded-lg p-4",children:[e.jsx("h3",{className:"font-medium text-blue-900 mb-3",children:"åˆ†äº«ä¿¡æ¯"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700",children:"åˆ†äº«åç¨±:"}),e.jsx("span",{className:"ml-2 font-medium",children:h.name})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700",children:"Provider æ•¸é‡:"}),e.jsx("span",{className:"ml-2 font-medium",children:h.providerCount})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700",children:"åˆ†äº«æ™‚é–“:"}),e.jsx("span",{className:"ml-2",children:I(h.createdAt)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-700",children:"å®‰å…¨æ€§:"}),e.jsx("span",{className:"ml-2 text-green-600 font-medium",children:h.hasEncryption?"âœ“ å·²åŠ å¯†":"âš ï¸ æœªåŠ å¯†"})]}),h.description&&e.jsxs("div",{className:"col-span-1 sm:col-span-2",children:[e.jsx("span",{className:"text-blue-700",children:"æè¿°:"}),e.jsx("p",{className:"ml-2 mt-1",children:h.description})]}),e.jsxs("div",{className:"col-span-1 sm:col-span-2",children:[e.jsx("span",{className:"text-blue-700",children:"åŒ…å«é¡å‹:"}),e.jsx("div",{className:"ml-2 mt-1 flex flex-wrap gap-1",children:h.providerTypes.map(k=>e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded",children:A(k)},k))})]})]})]}),i==="password"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"è«‹è¼¸å…¥åˆ†äº«å¯†ç¢¼"}),e.jsx("input",{type:"password",value:x,onChange:k=>l(k.target.value),placeholder:"è¼¸å…¥åˆ†äº«è€…æä¾›çš„å¯†ç¢¼",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",onKeyPress:k=>k.key==="Enter"&&S()}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"å¯†ç¢¼ç”¨æ–¼è§£å¯† Provider é…ç½®ä¸­çš„ API Key ç­‰æ•æ„Ÿä¿¡æ¯"})]}),e.jsxs("div",{className:"flex gap-3",children:[a&&e.jsx("button",{onClick:a,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 font-medium",children:"å–æ¶ˆ"}),e.jsx("button",{onClick:S,disabled:d||!x.trim(),className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:d?"è§£å¯†ä¸­...":"è§£å¯†ä¸¦é è¦½"})]})]}),i==="import"&&p&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-4",children:"ç¢ºèªè¦å°å…¥çš„ Provider é…ç½®"}),e.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:p.providers.map((k,j)=>e.jsxs("div",{className:"border rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded",children:A(k.type)}),e.jsx("span",{className:"font-medium",children:k.name}),e.jsxs("span",{className:"text-sm text-gray-500",children:["(",k.model,")"]})]}),k.description&&e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:k.description}),e.jsx("div",{className:"mt-2 text-xs text-green-600",children:"âœ“ API Key å·²åŒ…å«ä¸¦åŠ å¯†ä¿è­·"})]},j))})]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("svg",{className:"w-5 h-5 text-yellow-600 mt-0.5 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 15.5c-.77.833.192 2.5 1.732 2.5z"})}),e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-medium text-yellow-800 mb-1",children:"å°å…¥èªªæ˜"}),e.jsxs("ul",{className:"text-yellow-700 space-y-1",children:[e.jsx("li",{children:"â€¢ é€™äº›é…ç½®å°‡æ·»åŠ åˆ°æ‚¨ç¾æœ‰çš„ Provider åˆ—è¡¨ä¸­"}),e.jsx("li",{children:'â€¢ å¦‚æœå·²å­˜åœ¨åŒåé…ç½®ï¼Œå°‡å‰µå»ºå¸¶æœ‰"åˆ†äº«çš„"å‰ç¶´çš„æ–°é…ç½®'}),e.jsx("li",{children:"â€¢ æ‚¨å¯ä»¥åœ¨å°å…¥å¾Œä¿®æ”¹æˆ–åˆªé™¤é€™äº›é…ç½®"})]})]})]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>v("password"),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 font-medium",children:"è¿”å›"}),e.jsx("button",{onClick:C,disabled:d,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed font-medium",children:d?"å°å…¥ä¸­...":"ç¢ºèªå°å…¥"})]})]}),i==="success"&&e.jsxs("div",{className:"text-center space-y-6",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto",children:e.jsx("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"å°å…¥æˆåŠŸï¼"}),e.jsxs("p",{className:"text-gray-600",children:["å·²æˆåŠŸå°å…¥ ",s," å€‹ Provider é…ç½®"]})]}),e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsx("p",{className:"text-sm text-green-700",children:"æ‚¨ç¾åœ¨å¯ä»¥åœ¨ Provider è¨­å®šä¸­æŸ¥çœ‹å’Œä½¿ç”¨é€™äº›æ–°é…ç½®ã€‚ å»ºè­°æ‚¨æª¢æŸ¥ä¸¦æ¸¬è©¦é€™äº›é…ç½®ä»¥ç¢ºä¿æ­£å¸¸å·¥ä½œã€‚"})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("a",{href:"/ai-page-gen/",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium text-center",children:"è¿”å›é¦–é "}),a&&e.jsx("button",{onClick:a,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 font-medium",children:"é—œé–‰"})]})]})]})})})};class se extends r.Component{constructor(c){super(c),this.state={hasError:!1}}static getDerivedStateFromError(c){return{hasError:!0,error:c}}componentDidCatch(c,a){console.error("Error Boundary caught an error:",c,a),this.setState({error:c,errorInfo:a})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"max-w-2xl w-full bg-white rounded-lg shadow-lg p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-8 w-8 text-red-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.5 0L4.268 19.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"æ‡‰ç”¨ç¨‹å¼ç™¼ç”ŸéŒ¯èª¤"}),e.jsx("p",{className:"text-sm text-gray-500",children:"å¾ˆæŠ±æ­‰ï¼Œé é¢é‡åˆ°äº†æœªé æœŸçš„éŒ¯èª¤"})]})]}),e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 mb-4",children:[e.jsx("h4",{className:"text-sm font-medium text-red-800 mb-2",children:"éŒ¯èª¤è©³æƒ…ï¼š"}),e.jsx("p",{className:"text-sm text-red-700 font-mono break-all",children:this.state.error?.message||"æœªçŸ¥éŒ¯èª¤"})]}),this.state.errorInfo&&e.jsxs("details",{className:"mb-4",children:[e.jsx("summary",{className:"text-sm font-medium text-gray-700 cursor-pointer hover:text-gray-900",children:"è©³ç´°éŒ¯èª¤å †ç–Š (é»æ“Šå±•é–‹)"}),e.jsx("pre",{className:"mt-2 text-xs text-gray-600 bg-gray-50 p-3 rounded border overflow-auto max-h-40",children:this.state.errorInfo.componentStack})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>window.location.reload(),className:"flex-1 bg-indigo-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500",children:"é‡æ–°è¼‰å…¥é é¢"}),e.jsx("button",{onClick:()=>this.setState({hasError:!1,error:void 0,errorInfo:void 0}),className:"flex-1 bg-gray-200 text-gray-800 px-4 py-2 rounded-md text-sm font-medium hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"é‡è©¦"})]}),e.jsxs("div",{className:"mt-4 text-xs text-gray-500",children:[e.jsx("p",{children:"å¦‚æœå•é¡ŒæŒçºŒç™¼ç”Ÿï¼Œè«‹æª¢æŸ¥ï¼š"}),e.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[e.jsx("li",{children:"ç€è¦½å™¨æ§åˆ¶å°æ˜¯å¦æœ‰å…¶ä»–éŒ¯èª¤è¨Šæ¯"}),e.jsx("li",{children:"ç¶²è·¯é€£æ¥æ˜¯å¦æ­£å¸¸"}),e.jsx("li",{children:"API è¨­å®šæ˜¯å¦æ­£ç¢º"})]})]})]})}):this.props.children}}const we="gemini_api_key";let at=!1;const lt=()=>{const[t]=ke(),c=t.get("binId"),a=t.get("provider_share"),[x,l]=G.useState(null),[d,n]=G.useState(!1),[m,g]=G.useState(""),[h,f]=G.useState(null),[p,b]=G.useState(!1);G.useEffect(()=>{if(!a){if(!c){g("ç¼ºå°‘ binId");return}n(!0),dt(c).then(i=>{l(i),s(i,c)}).catch(i=>g(i.message||"è®€å–å¤±æ•—")).finally(()=>n(!1))}},[c,a]);const s=async(i,v)=>{try{if(await ie.init(),await ie.getLessonPlan(`shared_${v} `)){await ie.updateLastAccessed(`shared_${v} `);return}const C={id:`shared_${v} `,topic:i.topic||"åˆ†äº«çš„æ•™æ¡ˆ",createdAt:new Date().toISOString(),lastAccessedAt:new Date().toISOString(),content:{learningObjectives:i.learningObjectives,contentBreakdown:i.contentBreakdown,confusingPoints:i.confusingPoints,classroomActivities:i.classroomActivities,quiz:i.onlineInteractiveQuiz,writingPractice:i.writingPractice},metadata:{totalSections:[i.learningObjectives,i.contentBreakdown,i.confusingPoints,i.classroomActivities,i.onlineInteractiveQuiz,i.writingPractice].filter(Boolean).length,hasQuiz:!!i.onlineInteractiveQuiz,hasWriting:!!i.writingPractice,isShared:!0,sharedBinId:v}};await ie.saveLessonPlan(C),console.log(`åˆ†äº«æ•™æ¡ˆå·²å„²å­˜åˆ°æœ¬åœ°: ${i.topic||"åˆ†äº«çš„æ•™æ¡ˆ"} (${v})`)}catch(S){console.error("å„²å­˜åˆ†äº«æ•™æ¡ˆåˆ°æœ¬åœ°å­˜å„²å¤±æ•—:",S)}};G.useEffect(()=>{const i=localStorage.getItem(we);i?f(i):b(!0)},[]);const o=i=>{localStorage.setItem(we,i),f(i),b(!1)};return d?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-sky-50 to-indigo-100 py-8 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"flex justify-center my-10",children:e.jsx(de,{})})}):m?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-sky-50 to-indigo-100 py-8 px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"max-w-4xl mx-auto",children:e.jsx("div",{className:"my-6 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg shadow-md",children:m})})}):a?e.jsx(se,{children:e.jsx(Nt,{binId:a,onProviderImported:i=>{console.log(`å·²å°å…¥ ${i} å€‹ Provider é…ç½®`)}})}):x?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-sky-50 to-indigo-100 py-8 px-4 sm:px-6 lg:px-8",children:[e.jsx(pt,{isOpen:p,onSave:o}),e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("div",{className:"mb-6",children:e.jsxs("a",{href:"/ai-page-gen/ ",className:"inline-flex items-center gap-2 px-4 py-2 text-indigo-600 bg-white border border-indigo-200 rounded-lg hover:bg-indigo-50 transition-colors shadow-sm",children:[e.jsx(ge,{className:"w-4 h-4"}),"è¿”å›é¦–é "]})}),!h&&!p&&e.jsx("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-yellow-600 mt-0.5 flex-shrink-0",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m0 0c.652-.286 1.323-.443 2.25-.443 1.38 0 2.652.24 3.75.697v-6a6 6 0 0 0-6 2.243M12 15.75V21m0-5.25c1.38 0 2.652-.24 3.75-.697v6a6 6 0 0 1-3.75-2.243M12 15.75L9 12"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-yellow-800 font-medium text-sm",children:"éœ€è¦è¨­å®š API Key ä»¥ä½¿ç”¨åˆ†äº«åŠŸèƒ½"}),e.jsx("p",{className:"text-yellow-700 text-xs mt-1",children:"è¨­å®šå¾Œå¯åˆ†äº«æ¸¬é©—å’Œå¯«ä½œç·´ç¿’çµ¦å­¸ç”Ÿï¼ŒåŒ…å« AI åŠŸèƒ½"})]})]}),e.jsx("button",{onClick:()=>b(!0),className:"px-3 py-1 bg-yellow-600 text-white rounded hover:bg-yellow-700 text-sm",children:"è¨­å®š API Key"})]})}),e.jsx(se,{children:e.jsx(Ke,{content:x,topic:x.topic||"",selectedLevel:x.selectedLevel||null,selectedVocabularyLevel:x.selectedVocabularyLevel,apiKey:h||void 0,onContentUpdate:l})})]})]}):null},nr=()=>{const[t,c]=r.useState(""),[a,x]=r.useState(null),[l,d]=r.useState(!1),[n,m]=r.useState(null),[g,h]=r.useState(null),[f,p]=r.useState(!1),[b,s]=r.useState(null),[o,i]=r.useState(!1),[v,S]=r.useState([]),[C,I]=r.useState(null),[A,k]=r.useState(null),[j,y]=r.useState(!1),[$,T]=r.useState(Ne[0]),[z,D]=r.useState(!1),[L,u]=r.useState(!1),[R,V]=r.useState(null),[N,M]=r.useState(!1);G.useEffect(()=>{(async()=>{const q=he.parseShareUrl();if(q.type==="legacy"&&q.value){localStorage.setItem(we,q.value),h(q.value),p(!1);const U=window.location.origin+window.location.pathname;window.history.replaceState({},document.title,U);return}if(!at)try{await _t(),at=!0}catch(U){console.error("Provider ç³»çµ±åˆå§‹åŒ–å¤±æ•—:",U)}if(q.type==="provider"&&q.value){V(q.value);try{const U=await ae.getProviders();S(U)}catch(U){console.error("è¼‰å…¥ Providers å¤±æ•—:",U)}return}const _=localStorage.getItem(we);_?h(_):await Be().catch(()=>!1)||p(!0);try{const U=await ae.getProviders();S(U)}catch(U){console.error("è¼‰å…¥ Providers å¤±æ•—:",U)}})()},[]);const P=H=>{localStorage.setItem(we,H),h(H),p(!1)},E=async(H,q)=>{try{await ie.init();const _=os(q,H);await ie.saveLessonPlan(_)}catch(_){console.error("ä¿å­˜æ•™æ¡ˆåˆ°æœ¬åœ°å­˜å„²å¤±æ•—:",_)}},w=r.useCallback(async()=>{if(!t.trim()){m("è«‹è¼¸å…¥å­¸ç¿’ä¸»é¡Œã€‚");return}const H=await ae.hasConfiguredProviders();if(!H&&!g){m("è«‹å…ˆé…ç½® AI Provider æˆ–è¨­å®š API é‡‘é‘°ã€‚"),p(!0);return}d(!0),m(null),I(null),x(null),k(null),T(Ne[0]),D(!1);const q=Ht(t);u(q);try{const U=await qt(t,H?"provider-system-placeholder-key":"");I(U),y(!0),q&&D(!0)}catch(_){console.error(_),m(_.message||"ç”¢ç”Ÿå­¸ç¿’ç¨‹åº¦å»ºè­°æ™‚ç™¼ç”ŸæœªçŸ¥éŒ¯èª¤ã€‚")}finally{d(!1)}},[t,g]),Z=r.useCallback(async H=>{const q=await ae.hasConfiguredProviders();if(!q&&!g){m("è«‹å…ˆé…ç½® AI Provider æˆ–è¨­å®š API é‡‘é‘°ã€‚"),p(!0);return}if(L&&!$){m("è«‹å…ˆé¸æ“‡è‹±èªå–®å­—ç¨‹åº¦ã€‚");return}d(!0),m(null),k(H),x(null);try{let _;const U=q?"provider-system-placeholder-key":g;if(U===null)throw new Error("ç„¡API KEY å¯ç”¨ï¼");L&&$?_=await Gt(t,H,$,U):_=await Kt(t,H,U),x(_),y(!1),D(!1),await E(_,t)}catch(_){console.error(_),m(_.message||"ç”¢ç”Ÿå­¸ç¿’å…§å®¹æ™‚ç™¼ç”ŸæœªçŸ¥éŒ¯èª¤ã€‚")}finally{d(!1)}},[t,g,L,$]),K=r.useCallback(async()=>{if(!t.trim()){m("è«‹è¼¸å…¥å­¸ç¿’ä¸»é¡Œã€‚");return}const H=await ae.hasConfiguredProviders();if(!H&&!g){m("è«‹å…ˆé…ç½® AI Provider æˆ–è¨­å®š API é‡‘é‘°ã€‚"),p(!0);return}d(!0),m(null),x(null),y(!1),D(!1),u(!1);try{const _=await Ft(t,H?"provider-system-placeholder-key":"");x(_),await E(_,t)}catch(q){console.error(q),m(q.message||"ç”¢ç”Ÿå…§å®¹æ™‚ç™¼ç”ŸæœªçŸ¥éŒ¯èª¤ã€‚"),x(null)}finally{d(!1)}},[t,g]),Y=r.useCallback(async(H,q)=>{x(H),c(q),await E(H,q),d(!1)},[]),X=r.useCallback(async(H,q)=>{x(H),c(q),u(!0),await E(H,q),d(!1)},[]),B=async()=>{if(!g){s("è«‹å…ˆè¨­å®š API é‡‘é‘°");return}const H=he.createLegacyShare(g);try{await navigator.clipboard.writeText(H),s("å·²è¤‡è£½åˆ†äº«é€£çµï¼")}catch{s("è¤‡è£½å¤±æ•—ï¼Œè«‹æ‰‹å‹•è¤‡è£½")}setTimeout(()=>s(null),2e3)},O=r.useCallback(()=>{i(!0)},[]),F=r.useCallback(H=>{s("Provider é…ç½®åˆ†äº«å·²å‰µå»ºï¼"),i(!1),setTimeout(()=>s(null),3e3)},[]),ee=r.useCallback(H=>{console.log(`å·²å°å…¥ ${H} å€‹ Provider é…ç½®`),window.location.href=`${window.location.origin}/ai-page-gen/ `},[]);return R?e.jsx(se,{children:e.jsx(Nt,{binId:R,onProviderImported:ee,onClose:()=>{window.location.href=`${window.location.origin}/ai-page-gen/ `}})}):e.jsx(Tt,{basename:"/ai-page-gen/",children:e.jsx(se,{children:e.jsxs(zt,{children:[e.jsx(le,{path:"share",element:e.jsx(se,{children:e.jsx(lt,{})})}),e.jsx(le,{path:"provider-share",element:e.jsx(se,{children:e.jsx(lt,{})})}),e.jsx(le,{path:"quiz",element:e.jsx(se,{children:e.jsx(Qs,{})})}),e.jsx(le,{path:"writing",element:e.jsx(se,{children:e.jsx(Zs,{})})}),e.jsx(le,{path:"student-results",element:e.jsx(se,{children:e.jsx(Js,{})})}),e.jsx(le,{path:"lesson-plans",element:e.jsx(se,{children:e.jsx(Ys,{})})}),e.jsx(le,{path:"interactive-learning",element:e.jsx(se,{children:e.jsx(ps,{})})}),e.jsx(le,{path:"teacher-interactive-prep",element:e.jsx(se,{children:e.jsx(bs,{})})}),e.jsx(le,{path:"student-interactive",element:e.jsx(se,{children:e.jsx(Xs,{})})}),e.jsx(le,{path:"conversation-prep",element:e.jsx(se,{children:e.jsx(er,{})})}),e.jsx(le,{path:"conversation-practice/:binId",element:e.jsx(se,{children:e.jsx(sr,{})})}),e.jsx(le,{path:"math",element:e.jsx(se,{children:e.jsx(qs,{onComplete:Y,apiKey:g||""})})}),e.jsx(le,{path:"english",element:e.jsx(se,{children:e.jsx(Fs,{onComplete:X,apiKey:g||""})})}),e.jsx(le,{path:"/",element:e.jsx(se,{children:e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-sky-50 to-indigo-100 py-8 px-4 sm:px-6 lg:px-8",children:[e.jsx(pt,{isOpen:f,onSave:P}),e.jsxs("header",{className:"text-center mb-10",children:[e.jsxs("h1",{className:"text-4xl sm:text-5xl font-extrabold text-sky-700 tracking-tight",children:["AI å­¸ç¿’é é¢ ",e.jsx("span",{className:"text-indigo-600",children:"ç”¢ç”Ÿå™¨"})]}),e.jsx("p",{className:"mt-3 text-lg text-slate-600 max-w-2xl mx-auto",children:"è¼¸å…¥ä¸€å€‹ä¸»é¡Œï¼Œè®“ AI ç‚ºæ‚¨æ‰“é€ åŒ…å«äº’å‹•æ¸¬é©—çš„çµæ§‹åŒ–å­¸ç¿’è¨ˆåŠƒï¼"}),e.jsxs("div",{className:"mt-6 max-w-2xl mx-auto bg-yellow-50 border-l-4 border-yellow-400 rounded-lg p-4 text-left shadow-sm",children:[e.jsxs("div",{className:"flex items-start mb-2",children:[e.jsx("svg",{className:"w-6 h-6 text-yellow-500 mr-2 flex-shrink-0",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M12 20a8 8 0 100-16 8 8 0 000 16z"})}),e.jsx("span",{className:"font-semibold text-yellow-800 text-base",children:"ä½¿ç”¨æ³¨æ„äº‹é …"})]}),e.jsxs("ul",{className:"list-disc pl-8 text-yellow-900 text-sm space-y-1",children:[e.jsx("li",{children:"å…§å®¹å¯©æŸ¥ï¼šè«‹åœ¨åˆ†äº«AIç”Ÿæˆå…§å®¹çµ¦å­¸ç”Ÿå‰ä»”ç´°æª¢æŸ¥ï¼Œç¢ºä¿å…§å®¹é©åˆä¸”ç„¡èª¤"}),e.jsx("li",{children:"éš±ç§ä¿è­·ï¼šè«‹å‹¿è¼¸å…¥å­¸ç”Ÿå€‹äººè­˜åˆ¥è³‡è¨Š"})]})]})]}),e.jsx("div",{className:"max-w-6xl mx-auto mb-6",children:e.jsx("div",{className:"flex justify-center",children:e.jsx(Rs,{compact:!0})})}),e.jsx(rr,{isOpen:o,onClose:()=>i(!1),providers:v,onShareCreated:F}),e.jsxs("main",{className:"max-w-4xl mx-auto",children:[!a&&!j&&!z&&e.jsx(e.Fragment,{children:N?e.jsxs("div",{className:"animate-fade-in",children:[e.jsxs("button",{onClick:()=>M(!1),className:"mb-4 flex items-center text-slate-500 hover:text-indigo-600 transition-colors",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 mr-1",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"})}),"è¿”å›åŠŸèƒ½é¸å–®"]}),e.jsxs("div",{className:"mb-6 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"é€šç”¨ä¸»é¡Œæ•™æ¡ˆç”Ÿæˆ"}),e.jsx("p",{className:"text-slate-600",children:"è¼¸å…¥ä»»ä½•æ‚¨æƒ³æ•™å­¸çš„ä¸»é¡Œï¼ŒAI ç‚ºæ‚¨è¦åŠƒå®Œæ•´æ•™æ¡ˆ"})]}),e.jsx(fs,{topic:t,setTopic:c,onGenerate:K,onGenerateWithLevels:w,isLoading:l})]}):e.jsxs("div",{className:"mt-8 animate-fade-in",children:[e.jsx("h3",{className:"text-xl font-semibold text-slate-700 mb-6 text-center",children:"è«‹é¸æ“‡æ‚¨è¦ä½¿ç”¨çš„å­¸ç¿’å·¥å…·"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("button",{onClick:()=>M(!0),className:"flex items-center p-4 bg-white border border-indigo-100 rounded-xl hover:shadow-md hover:border-indigo-300 transition-all group text-left w-full",children:[e.jsx("div",{className:"p-3 bg-indigo-50 text-indigo-600 rounded-lg group-hover:bg-indigo-600 group-hover:text-white transition-colors",children:e.jsx(Ie,{className:"w-6 h-6"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h4",{className:"font-medium text-slate-900",children:"é€šç”¨ä¸»é¡Œæ•™æ¡ˆ"}),e.jsx("p",{className:"text-sm text-slate-500",children:"è¼¸å…¥ä»»æ„ä¸»é¡Œç”¢ç”Ÿå®Œæ•´æ•™æ¡ˆ"})]})]}),e.jsxs(Ue,{to:"/math",className:"flex items-center p-4 bg-white border border-blue-100 rounded-xl hover:shadow-md hover:border-blue-300 transition-all group",children:[e.jsx("div",{className:"p-3 bg-blue-50 text-blue-600 rounded-lg group-hover:bg-blue-600 group-hover:text-white transition-colors",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h4",{className:"font-medium text-slate-900",children:"æ•¸å­¸æ•™æç”Ÿæˆ"}),e.jsx("p",{className:"text-sm text-slate-500",children:"é é¸åšå¹¼æ•™å­¸ç›®æ¨™ç”¢ç”Ÿæ•™æ¡ˆæ•™æ"})]})]}),e.jsxs(Ue,{to:"/english",className:"flex items-center p-4 bg-white border border-teal-100 rounded-xl hover:shadow-md hover:border-teal-300 transition-all group",children:[e.jsx("div",{className:"p-3 bg-teal-50 text-teal-600 rounded-lg group-hover:bg-teal-600 group-hover:text-white transition-colors",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h4",{className:"font-medium text-slate-900",children:"è‹±èªæ•™æç”Ÿæˆ"}),e.jsx("p",{className:"text-sm text-slate-500",children:"é é¸åšå¹¼æ•™å­¸ç›®æ¨™ç”¢ç”Ÿæ•™æ¡ˆæ•™æ"})]})]}),e.jsxs("a",{href:"/ai-page-gen/conversation-prep",className:"flex items-center p-4 bg-white border border-emerald-100 rounded-xl hover:shadow-md hover:border-emerald-300 transition-all group",children:[e.jsx("div",{className:"p-3 bg-emerald-50 text-emerald-600 rounded-lg group-hover:bg-emerald-600 group-hover:text-white transition-colors",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18.75a6 6 0 0 0 6-6v-1.5m-6 7.5a6 6 0 0 1-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15.75a3 3 0 0 1-3-3V4.5a3 3 0 1 1 6 0v8.25a3 3 0 0 1-3 3Z"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h4",{className:"font-medium text-slate-900",children:"è‹±æ–‡å°è©±ç·´ç¿’"}),e.jsx("p",{className:"text-sm text-slate-500",children:"æƒ…å¢ƒæ¨¡æ“¬å°è©±"})]})]}),e.jsxs("a",{href:"/ai-page-gen/lesson-plans",className:"flex items-center p-4 bg-white border border-indigo-100 rounded-xl hover:shadow-md hover:border-indigo-300 transition-all group",children:[e.jsx("div",{className:"p-3 bg-indigo-50 text-indigo-600 rounded-lg group-hover:bg-indigo-600 group-hover:text-white transition-colors",children:e.jsx(oe,{className:"w-6 h-6"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h4",{className:"font-medium text-slate-900",children:"æˆ‘çš„æ•™æ¡ˆåº«"}),e.jsx("p",{className:"text-sm text-slate-500",children:"æŸ¥çœ‹å·²å„²å­˜çš„æ•™æ¡ˆ"})]})]})]}),e.jsxs("div",{className:"mt-12 flex justify-center gap-4",children:[e.jsxs("button",{onClick:O,className:"text-sm text-slate-500 hover:text-purple-600 flex items-center gap-1 transition-colors",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-11.314a2.25 2.25 0 1 0 3.935-2.186 2.25 2.25 0 0 0-3.935 2.186Z"})}),"åˆ†äº« Provider é…ç½®"]}),e.jsx("span",{className:"text-slate-300",children:"|"}),e.jsxs("button",{onClick:B,className:"text-sm text-slate-500 hover:text-indigo-600 flex items-center gap-1 transition-colors",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.19 8.688a4.5 4.5 0 0 1 1.242 7.244l-4.5 4.5a4.5 4.5 0 0 1-6.364-6.364l1.757-1.757m13.35-.622 1.757-1.757a4.5 4.5 0 0 0-6.364-6.364l-4.5 4.5a4.5 4.5 0 0 0 1.242 7.244"})}),"åˆ†äº«æ‡‰ç”¨ç¨‹å¼é€£çµ"]})]})]})}),n&&!l&&e.jsxs("div",{className:"my-6 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg shadow-md",children:[e.jsxs("h3",{className:"font-bold text-lg mb-2 flex items-center",children:[e.jsx(Ie,{className:"w-6 h-6 mr-2 text-red-600"}),"ç”¢ç”Ÿå…§å®¹æ™‚ç™¼ç”ŸéŒ¯èª¤"]}),e.jsx("p",{children:n}),e.jsx("p",{className:"mt-2 text-sm",children:"è«‹å˜—è©¦ä¿®æ”¹æ‚¨çš„ä¸»é¡Œæˆ–é‡è©¦ã€‚å¦‚æœå•é¡ŒæŒçºŒå­˜åœ¨ï¼ŒAI æ¨¡å‹å¯èƒ½æš«æ™‚ä¸å¯ç”¨ï¼Œæˆ–è€… API é‡‘é‘°å¯èƒ½å­˜åœ¨å•é¡Œã€‚"}),e.jsx("button",{onClick:()=>{m(null),y(!1),D(!1)},className:"mt-4 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors",children:"é‡è©¦"})]}),l&&e.jsxs("div",{className:"flex flex-col items-center justify-center my-20",children:[e.jsx(de,{}),e.jsx("p",{className:"mt-4 text-slate-500 animate-pulse",children:"æ­£åœ¨ç‚ºæ‚¨ç²¾å¿ƒè£½ä½œæ•™æ¡ˆ..."})]}),j&&C&&!l&&!n&&e.jsxs("div",{className:"animate-fade-in",children:[e.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"é¸æ“‡é©åˆçš„ç¨‹åº¦"}),e.jsx("button",{onClick:()=>y(!1),className:"text-slate-500 hover:text-slate-700 px-3 py-1 rounded hover:bg-slate-100 transition-colors",children:"è¿”å›ä¿®æ”¹ä¸»é¡Œ"})]}),e.jsx(Ms,{learningLevels:C,onLevelSelect:k,onGenerateWithLevel:Z,selectedLevelId:A?.id,isLoading:l})]}),z&&L&&!l&&!n&&e.jsxs("div",{className:"animate-fade-in",children:[e.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"é¸æ“‡å–®å­—é›£æ˜“åº¦"}),e.jsx("button",{onClick:()=>{D(!1),y(!0)},className:"text-slate-500 hover:text-slate-700 px-3 py-1 rounded hover:bg-slate-100 transition-colors",children:"è¿”å›ä¸Šä¸€æ­¥"})]}),e.jsx(Es,{onVocabularyLevelSelect:T,selectedLevel:$,isVisible:!0}),e.jsx("div",{className:"mt-8 flex justify-center",children:e.jsx("button",{onClick:()=>Z(A),className:"px-8 py-3 bg-indigo-600 text-white text-lg font-semibold rounded-full shadow-lg hover:bg-indigo-700 hover:shadow-xl transition-all transform hover:-translate-y-1",children:"é–‹å§‹ç”¢ç”Ÿæ•™æ¡ˆ"})})]}),a&&!l&&!n&&!j&&!z&&e.jsxs("div",{className:"animate-fade-in",children:[e.jsxs("div",{className:"mb-8 flex justify-between items-center bg-white p-4 rounded-xl shadow-sm border border-indigo-100",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-indigo-100 text-indigo-600 rounded-lg",children:e.jsx(oe,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-slate-800 text-lg",children:t}),e.jsxs("p",{className:"text-sm text-slate-500",children:[A?`${A.description} Â· `:"",new Date().toLocaleDateString()]})]})]}),e.jsxs("button",{onClick:()=>{x(null),c(""),I(null),k(null),M(!1)},className:"flex items-center gap-2 px-4 py-2 bg-slate-100 text-slate-700 font-medium rounded-lg hover:bg-slate-200 transition-colors",children:[e.jsx(ge,{className:"w-4 h-4"}),"å›é¦–é é‡æ–°ç”¢ç”Ÿ"]})]}),e.jsx(se,{children:e.jsx(Ke,{content:a,topic:t,selectedLevel:A,selectedVocabularyLevel:$,apiKey:g||void 0,onContentUpdate:x})})]})]}),e.jsxs("footer",{className:"text-center mt-12 py-6 border-t border-slate-300",children:[e.jsx("p",{className:"text-sm text-slate-500",children:"ç”± Gemini API é©…å‹•ã€‚AI è¨­è¨ˆï¼Œç‚ºå­¸ç¿’è€Œç”Ÿã€‚"}),e.jsx("button",{className:"mt-4 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded shadow transition",onClick:B,disabled:!g,children:"ç”¢ç”Ÿåˆ†äº«é€£çµä¸¦è¤‡è£½"}),b&&e.jsx("div",{className:"mt-2 text-green-600 text-sm",children:b})]})]})})})]})})})},wt=document.getElementById("root");if(!wt)throw new Error("Could not find root element to mount to");const ar=Rt.createRoot(wt);ar.render(e.jsx(G.StrictMode,{children:e.jsx(nr,{})}));
