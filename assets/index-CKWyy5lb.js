(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const f of r)if(f.type==="childList")for(const m of f.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function l(r){const f={};return r.integrity&&(f.integrity=r.integrity),r.referrerPolicy&&(f.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?f.credentials="include":r.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function o(r){if(r.ep)return;r.ep=!0;const f=l(r);fetch(r.href,f)}})();function hg(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Pu={exports:{}},_o={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xp;function k0(){if(xp)return _o;xp=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function l(o,r,f){var m=null;if(f!==void 0&&(m=""+f),r.key!==void 0&&(m=""+r.key),"key"in r){f={};for(var h in r)h!=="key"&&(f[h]=r[h])}else f=r;return r=f.ref,{$$typeof:n,type:o,key:m,ref:r!==void 0?r:null,props:f}}return _o.Fragment=e,_o.jsx=l,_o.jsxs=l,_o}var Ep;function I0(){return Ep||(Ep=1,Pu.exports=k0()),Pu.exports}var E=I0(),Gu={exports:{}},ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ap;function U0(){if(Ap)return ge;Ap=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),m=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),C=Symbol.iterator;function _(M){return M===null||typeof M!="object"?null:(M=C&&M[C]||M["@@iterator"],typeof M=="function"?M:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,D={};function q(M,H,W){this.props=M,this.context=H,this.refs=D,this.updater=W||x}q.prototype.isReactComponent={},q.prototype.setState=function(M,H){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,H,"setState")},q.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function N(){}N.prototype=q.prototype;function B(M,H,W){this.props=M,this.context=H,this.refs=D,this.updater=W||x}var F=B.prototype=new N;F.constructor=B,b(F,q.prototype),F.isPureReactComponent=!0;var J=Array.isArray,Y={H:null,A:null,T:null,S:null,V:null},te=Object.prototype.hasOwnProperty;function ne(M,H,W,K,ae,Ae){return W=Ae.ref,{$$typeof:n,type:M,key:H,ref:W!==void 0?W:null,props:Ae}}function he(M,H){return ne(M.type,H,void 0,void 0,void 0,M.props)}function Z(M){return typeof M=="object"&&M!==null&&M.$$typeof===n}function oe(M){var H={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(W){return H[W]})}var Ce=/\/+/g;function Qe(M,H){return typeof M=="object"&&M!==null&&M.key!=null?oe(""+M.key):H.toString(36)}function Yt(){}function lt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(Yt,Yt):(M.status="pending",M.then(function(H){M.status==="pending"&&(M.status="fulfilled",M.value=H)},function(H){M.status==="pending"&&(M.status="rejected",M.reason=H)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Je(M,H,W,K,ae){var Ae=typeof M;(Ae==="undefined"||Ae==="boolean")&&(M=null);var pe=!1;if(M===null)pe=!0;else switch(Ae){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(M.$$typeof){case n:case e:pe=!0;break;case v:return pe=M._init,Je(pe(M._payload),H,W,K,ae)}}if(pe)return ae=ae(M),pe=K===""?"."+Qe(M,0):K,J(ae)?(W="",pe!=null&&(W=pe.replace(Ce,"$&/")+"/"),Je(ae,H,W,"",function(An){return An})):ae!=null&&(Z(ae)&&(ae=he(ae,W+(ae.key==null||M&&M.key===ae.key?"":(""+ae.key).replace(Ce,"$&/")+"/")+pe)),H.push(ae)),1;pe=0;var Tt=K===""?".":K+":";if(J(M))for(var Be=0;Be<M.length;Be++)K=M[Be],Ae=Tt+Qe(K,Be),pe+=Je(K,H,W,Ae,ae);else if(Be=_(M),typeof Be=="function")for(M=Be.call(M),Be=0;!(K=M.next()).done;)K=K.value,Ae=Tt+Qe(K,Be++),pe+=Je(K,H,W,Ae,ae);else if(Ae==="object"){if(typeof M.then=="function")return Je(lt(M),H,W,K,ae);throw H=String(M),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return pe}function z(M,H,W){if(M==null)return M;var K=[],ae=0;return Je(M,K,"","",function(Ae){return H.call(W,Ae,ae++)}),K}function X(M){if(M._status===-1){var H=M._result;H=H(),H.then(function(W){(M._status===0||M._status===-1)&&(M._status=1,M._result=W)},function(W){(M._status===0||M._status===-1)&&(M._status=2,M._result=W)}),M._status===-1&&(M._status=0,M._result=H)}if(M._status===1)return M._result.default;throw M._result}var ue=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function Ue(){}return ge.Children={map:z,forEach:function(M,H,W){z(M,function(){H.apply(this,arguments)},W)},count:function(M){var H=0;return z(M,function(){H++}),H},toArray:function(M){return z(M,function(H){return H})||[]},only:function(M){if(!Z(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},ge.Component=q,ge.Fragment=l,ge.Profiler=r,ge.PureComponent=B,ge.StrictMode=o,ge.Suspense=y,ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Y,ge.__COMPILER_RUNTIME={__proto__:null,c:function(M){return Y.H.useMemoCache(M)}},ge.cache=function(M){return function(){return M.apply(null,arguments)}},ge.cloneElement=function(M,H,W){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var K=b({},M.props),ae=M.key,Ae=void 0;if(H!=null)for(pe in H.ref!==void 0&&(Ae=void 0),H.key!==void 0&&(ae=""+H.key),H)!te.call(H,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&H.ref===void 0||(K[pe]=H[pe]);var pe=arguments.length-2;if(pe===1)K.children=W;else if(1<pe){for(var Tt=Array(pe),Be=0;Be<pe;Be++)Tt[Be]=arguments[Be+2];K.children=Tt}return ne(M.type,ae,void 0,void 0,Ae,K)},ge.createContext=function(M){return M={$$typeof:m,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:f,_context:M},M},ge.createElement=function(M,H,W){var K,ae={},Ae=null;if(H!=null)for(K in H.key!==void 0&&(Ae=""+H.key),H)te.call(H,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(ae[K]=H[K]);var pe=arguments.length-2;if(pe===1)ae.children=W;else if(1<pe){for(var Tt=Array(pe),Be=0;Be<pe;Be++)Tt[Be]=arguments[Be+2];ae.children=Tt}if(M&&M.defaultProps)for(K in pe=M.defaultProps,pe)ae[K]===void 0&&(ae[K]=pe[K]);return ne(M,Ae,void 0,void 0,null,ae)},ge.createRef=function(){return{current:null}},ge.forwardRef=function(M){return{$$typeof:h,render:M}},ge.isValidElement=Z,ge.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:X}},ge.memo=function(M,H){return{$$typeof:p,type:M,compare:H===void 0?null:H}},ge.startTransition=function(M){var H=Y.T,W={};Y.T=W;try{var K=M(),ae=Y.S;ae!==null&&ae(W,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(Ue,ue)}catch(Ae){ue(Ae)}finally{Y.T=H}},ge.unstable_useCacheRefresh=function(){return Y.H.useCacheRefresh()},ge.use=function(M){return Y.H.use(M)},ge.useActionState=function(M,H,W){return Y.H.useActionState(M,H,W)},ge.useCallback=function(M,H){return Y.H.useCallback(M,H)},ge.useContext=function(M){return Y.H.useContext(M)},ge.useDebugValue=function(){},ge.useDeferredValue=function(M,H){return Y.H.useDeferredValue(M,H)},ge.useEffect=function(M,H,W){var K=Y.H;if(typeof W=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return K.useEffect(M,H)},ge.useId=function(){return Y.H.useId()},ge.useImperativeHandle=function(M,H,W){return Y.H.useImperativeHandle(M,H,W)},ge.useInsertionEffect=function(M,H){return Y.H.useInsertionEffect(M,H)},ge.useLayoutEffect=function(M,H){return Y.H.useLayoutEffect(M,H)},ge.useMemo=function(M,H){return Y.H.useMemo(M,H)},ge.useOptimistic=function(M,H){return Y.H.useOptimistic(M,H)},ge.useReducer=function(M,H,W){return Y.H.useReducer(M,H,W)},ge.useRef=function(M){return Y.H.useRef(M)},ge.useState=function(M){return Y.H.useState(M)},ge.useSyncExternalStore=function(M,H,W){return Y.H.useSyncExternalStore(M,H,W)},ge.useTransition=function(){return Y.H.useTransition()},ge.version="19.1.0",ge}var bp;function Tc(){return bp||(bp=1,Gu.exports=U0()),Gu.exports}var L=Tc();const Ot=hg(L);var Hu={exports:{}},xo={},Fu={exports:{}},Yu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mp;function L0(){return Mp||(Mp=1,function(n){function e(z,X){var ue=z.length;z.push(X);e:for(;0<ue;){var Ue=ue-1>>>1,M=z[Ue];if(0<r(M,X))z[Ue]=X,z[ue]=M,ue=Ue;else break e}}function l(z){return z.length===0?null:z[0]}function o(z){if(z.length===0)return null;var X=z[0],ue=z.pop();if(ue!==X){z[0]=ue;e:for(var Ue=0,M=z.length,H=M>>>1;Ue<H;){var W=2*(Ue+1)-1,K=z[W],ae=W+1,Ae=z[ae];if(0>r(K,ue))ae<M&&0>r(Ae,K)?(z[Ue]=Ae,z[ae]=ue,Ue=ae):(z[Ue]=K,z[W]=ue,Ue=W);else if(ae<M&&0>r(Ae,ue))z[Ue]=Ae,z[ae]=ue,Ue=ae;else break e}}return X}function r(z,X){var ue=z.sortIndex-X.sortIndex;return ue!==0?ue:z.id-X.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;n.unstable_now=function(){return f.now()}}else{var m=Date,h=m.now();n.unstable_now=function(){return m.now()-h}}var y=[],p=[],v=1,C=null,_=3,x=!1,b=!1,D=!1,q=!1,N=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function J(z){for(var X=l(p);X!==null;){if(X.callback===null)o(p);else if(X.startTime<=z)o(p),X.sortIndex=X.expirationTime,e(y,X);else break;X=l(p)}}function Y(z){if(D=!1,J(z),!b)if(l(y)!==null)b=!0,te||(te=!0,Qe());else{var X=l(p);X!==null&&Je(Y,X.startTime-z)}}var te=!1,ne=-1,he=5,Z=-1;function oe(){return q?!0:!(n.unstable_now()-Z<he)}function Ce(){if(q=!1,te){var z=n.unstable_now();Z=z;var X=!0;try{e:{b=!1,D&&(D=!1,B(ne),ne=-1),x=!0;var ue=_;try{t:{for(J(z),C=l(y);C!==null&&!(C.expirationTime>z&&oe());){var Ue=C.callback;if(typeof Ue=="function"){C.callback=null,_=C.priorityLevel;var M=Ue(C.expirationTime<=z);if(z=n.unstable_now(),typeof M=="function"){C.callback=M,J(z),X=!0;break t}C===l(y)&&o(y),J(z)}else o(y);C=l(y)}if(C!==null)X=!0;else{var H=l(p);H!==null&&Je(Y,H.startTime-z),X=!1}}break e}finally{C=null,_=ue,x=!1}X=void 0}}finally{X?Qe():te=!1}}}var Qe;if(typeof F=="function")Qe=function(){F(Ce)};else if(typeof MessageChannel<"u"){var Yt=new MessageChannel,lt=Yt.port2;Yt.port1.onmessage=Ce,Qe=function(){lt.postMessage(null)}}else Qe=function(){N(Ce,0)};function Je(z,X){ne=N(function(){z(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(z){z.callback=null},n.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):he=0<z?Math.floor(1e3/z):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_next=function(z){switch(_){case 1:case 2:case 3:var X=3;break;default:X=_}var ue=_;_=X;try{return z()}finally{_=ue}},n.unstable_requestPaint=function(){q=!0},n.unstable_runWithPriority=function(z,X){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var ue=_;_=z;try{return X()}finally{_=ue}},n.unstable_scheduleCallback=function(z,X,ue){var Ue=n.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?Ue+ue:Ue):ue=Ue,z){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=ue+M,z={id:v++,callback:X,priorityLevel:z,startTime:ue,expirationTime:M,sortIndex:-1},ue>Ue?(z.sortIndex=ue,e(p,z),l(y)===null&&z===l(p)&&(D?(B(ne),ne=-1):D=!0,Je(Y,ue-Ue))):(z.sortIndex=M,e(y,z),b||x||(b=!0,te||(te=!0,Qe()))),z},n.unstable_shouldYield=oe,n.unstable_wrapCallback=function(z){var X=_;return function(){var ue=_;_=X;try{return z.apply(this,arguments)}finally{_=ue}}}}(Yu)),Yu}var Rp;function V0(){return Rp||(Rp=1,Fu.exports=L0()),Fu.exports}var $u={exports:{}},ct={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wp;function q0(){if(wp)return ct;wp=1;var n=Tc();function e(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var o={d:{f:l,r:function(){throw Error(e(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},r=Symbol.for("react.portal");function f(y,p,v){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:C==null?null:""+C,children:y,containerInfo:p,implementation:v}}var m=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ct.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,ct.createPortal=function(y,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return f(y,p,null,v)},ct.flushSync=function(y){var p=m.T,v=o.p;try{if(m.T=null,o.p=2,y)return y()}finally{m.T=p,o.p=v,o.d.f()}},ct.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,o.d.C(y,p))},ct.prefetchDNS=function(y){typeof y=="string"&&o.d.D(y)},ct.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var v=p.as,C=h(v,p.crossOrigin),_=typeof p.integrity=="string"?p.integrity:void 0,x=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?o.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:C,integrity:_,fetchPriority:x}):v==="script"&&o.d.X(y,{crossOrigin:C,integrity:_,fetchPriority:x,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ct.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=h(p.as,p.crossOrigin);o.d.M(y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&o.d.M(y)},ct.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,C=h(v,p.crossOrigin);o.d.L(y,v,{crossOrigin:C,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ct.preloadModule=function(y,p){if(typeof y=="string")if(p){var v=h(p.as,p.crossOrigin);o.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else o.d.m(y)},ct.requestFormReset=function(y){o.d.r(y)},ct.unstable_batchedUpdates=function(y,p){return y(p)},ct.useFormState=function(y,p,v){return m.H.useFormState(y,p,v)},ct.useFormStatus=function(){return m.H.useHostTransitionStatus()},ct.version="19.1.0",ct}var Np;function O0(){if(Np)return $u.exports;Np=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),$u.exports=q0(),$u.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dp;function B0(){if(Dp)return xo;Dp=1;var n=V0(),e=Tc(),l=O0();function o(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function m(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function h(t){if(f(t)!==t)throw Error(o(188))}function y(t){var i=t.alternate;if(!i){if(i=f(t),i===null)throw Error(o(188));return i!==t?null:t}for(var a=t,s=i;;){var d=a.return;if(d===null)break;var g=d.alternate;if(g===null){if(s=d.return,s!==null){a=s;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===a)return h(d),t;if(g===s)return h(d),i;g=g.sibling}throw Error(o(188))}if(a.return!==s.return)a=d,s=g;else{for(var T=!1,S=d.child;S;){if(S===a){T=!0,a=d,s=g;break}if(S===s){T=!0,s=d,a=g;break}S=S.sibling}if(!T){for(S=g.child;S;){if(S===a){T=!0,a=g,s=d;break}if(S===s){T=!0,s=g,a=d;break}S=S.sibling}if(!T)throw Error(o(189))}}if(a.alternate!==s)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?t:i}function p(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=p(t),i!==null)return i;t=t.sibling}return null}var v=Object.assign,C=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),B=Symbol.for("react.consumer"),F=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),ne=Symbol.for("react.memo"),he=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),oe=Symbol.for("react.memo_cache_sentinel"),Ce=Symbol.iterator;function Qe(t){return t===null||typeof t!="object"?null:(t=Ce&&t[Ce]||t["@@iterator"],typeof t=="function"?t:null)}var Yt=Symbol.for("react.client.reference");function lt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Yt?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case b:return"Fragment";case q:return"Profiler";case D:return"StrictMode";case Y:return"Suspense";case te:return"SuspenseList";case Z:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case x:return"Portal";case F:return(t.displayName||"Context")+".Provider";case B:return(t._context.displayName||"Context")+".Consumer";case J:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ne:return i=t.displayName||null,i!==null?i:lt(t.type)||"Memo";case he:i=t._payload,t=t._init;try{return lt(t(i))}catch{}}return null}var Je=Array.isArray,z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},Ue=[],M=-1;function H(t){return{current:t}}function W(t){0>M||(t.current=Ue[M],Ue[M]=null,M--)}function K(t,i){M++,Ue[M]=t.current,t.current=i}var ae=H(null),Ae=H(null),pe=H(null),Tt=H(null);function Be(t,i){switch(K(pe,i),K(Ae,t),K(ae,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Qm(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Qm(i),t=Wm(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}W(ae),K(ae,t)}function An(){W(ae),W(Ae),W(pe)}function br(t){t.memoizedState!==null&&K(Tt,t);var i=ae.current,a=Wm(i,t.type);i!==a&&(K(Ae,t),K(ae,a))}function zo(t){Ae.current===t&&(W(ae),W(Ae)),Tt.current===t&&(W(Tt),yo._currentValue=ue)}var Mr=Object.prototype.hasOwnProperty,Rr=n.unstable_scheduleCallback,wr=n.unstable_cancelCallback,cy=n.unstable_shouldYield,fy=n.unstable_requestPaint,$t=n.unstable_now,dy=n.unstable_getCurrentPriorityLevel,Nc=n.unstable_ImmediatePriority,Dc=n.unstable_UserBlockingPriority,Po=n.unstable_NormalPriority,my=n.unstable_LowPriority,kc=n.unstable_IdlePriority,py=n.log,hy=n.unstable_setDisableYieldValue,El=null,Ct=null;function bn(t){if(typeof py=="function"&&hy(t),Ct&&typeof Ct.setStrictMode=="function")try{Ct.setStrictMode(El,t)}catch{}}var St=Math.clz32?Math.clz32:vy,gy=Math.log,yy=Math.LN2;function vy(t){return t>>>=0,t===0?32:31-(gy(t)/yy|0)|0}var Go=256,Ho=4194304;function ti(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Fo(t,i,a){var s=t.pendingLanes;if(s===0)return 0;var d=0,g=t.suspendedLanes,T=t.pingedLanes;t=t.warmLanes;var S=s&134217727;return S!==0?(s=S&~g,s!==0?d=ti(s):(T&=S,T!==0?d=ti(T):a||(a=S&~t,a!==0&&(d=ti(a))))):(S=s&~g,S!==0?d=ti(S):T!==0?d=ti(T):a||(a=s&~t,a!==0&&(d=ti(a)))),d===0?0:i!==0&&i!==d&&(i&g)===0&&(g=d&-d,a=i&-i,g>=a||g===32&&(a&4194048)!==0)?i:d}function Al(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Ty(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ic(){var t=Go;return Go<<=1,(Go&4194048)===0&&(Go=256),t}function Uc(){var t=Ho;return Ho<<=1,(Ho&62914560)===0&&(Ho=4194304),t}function Nr(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function bl(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Cy(t,i,a,s,d,g){var T=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,A=t.expirationTimes,I=t.hiddenUpdates;for(a=T&~a;0<a;){var O=31-St(a),G=1<<O;S[O]=0,A[O]=-1;var U=I[O];if(U!==null)for(I[O]=null,O=0;O<U.length;O++){var V=U[O];V!==null&&(V.lane&=-536870913)}a&=~G}s!==0&&Lc(t,s,0),g!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=g&~(T&~i))}function Lc(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var s=31-St(i);t.entangledLanes|=i,t.entanglements[s]=t.entanglements[s]|1073741824|a&4194090}function Vc(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var s=31-St(a),d=1<<s;d&i|t[s]&i&&(t[s]|=i),a&=~d}}function Dr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function kr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function qc(){var t=X.p;return t!==0?t:(t=window.event,t===void 0?32:yp(t.type))}function Sy(t,i){var a=X.p;try{return X.p=t,i()}finally{X.p=a}}var Mn=Math.random().toString(36).slice(2),st="__reactFiber$"+Mn,pt="__reactProps$"+Mn,xi="__reactContainer$"+Mn,Ir="__reactEvents$"+Mn,_y="__reactListeners$"+Mn,xy="__reactHandles$"+Mn,Oc="__reactResources$"+Mn,Ml="__reactMarker$"+Mn;function Ur(t){delete t[st],delete t[pt],delete t[Ir],delete t[_y],delete t[xy]}function Ei(t){var i=t[st];if(i)return i;for(var a=t.parentNode;a;){if(i=a[xi]||a[st]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=np(t);t!==null;){if(a=t[st])return a;t=np(t)}return i}t=a,a=t.parentNode}return null}function Ai(t){if(t=t[st]||t[xi]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Rl(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(o(33))}function bi(t){var i=t[Oc];return i||(i=t[Oc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function et(t){t[Ml]=!0}var Bc=new Set,zc={};function ni(t,i){Mi(t,i),Mi(t+"Capture",i)}function Mi(t,i){for(zc[t]=i,t=0;t<i.length;t++)Bc.add(i[t])}var Ey=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pc={},Gc={};function Ay(t){return Mr.call(Gc,t)?!0:Mr.call(Pc,t)?!1:Ey.test(t)?Gc[t]=!0:(Pc[t]=!0,!1)}function Yo(t,i,a){if(Ay(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var s=i.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function $o(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function ln(t,i,a,s){if(s===null)t.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+s)}}var Lr,Hc;function Ri(t){if(Lr===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Lr=i&&i[1]||"",Hc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Lr+t+Hc}var Vr=!1;function qr(t,i){if(!t||Vr)return"";Vr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(i){var G=function(){throw Error()};if(Object.defineProperty(G.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(G,[])}catch(V){var U=V}Reflect.construct(t,[],G)}else{try{G.call()}catch(V){U=V}t.call(G.prototype)}}else{try{throw Error()}catch(V){U=V}(G=t())&&typeof G.catch=="function"&&G.catch(function(){})}}catch(V){if(V&&U&&typeof V.stack=="string")return[V.stack,U.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=s.DetermineComponentFrameRoot(),T=g[0],S=g[1];if(T&&S){var A=T.split(`
`),I=S.split(`
`);for(d=s=0;s<A.length&&!A[s].includes("DetermineComponentFrameRoot");)s++;for(;d<I.length&&!I[d].includes("DetermineComponentFrameRoot");)d++;if(s===A.length||d===I.length)for(s=A.length-1,d=I.length-1;1<=s&&0<=d&&A[s]!==I[d];)d--;for(;1<=s&&0<=d;s--,d--)if(A[s]!==I[d]){if(s!==1||d!==1)do if(s--,d--,0>d||A[s]!==I[d]){var O=`
`+A[s].replace(" at new "," at ");return t.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",t.displayName)),O}while(1<=s&&0<=d);break}}}finally{Vr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ri(a):""}function by(t){switch(t.tag){case 26:case 27:case 5:return Ri(t.type);case 16:return Ri("Lazy");case 13:return Ri("Suspense");case 19:return Ri("SuspenseList");case 0:case 15:return qr(t.type,!1);case 11:return qr(t.type.render,!1);case 1:return qr(t.type,!0);case 31:return Ri("Activity");default:return""}}function Fc(t){try{var i="";do i+=by(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function wt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Yc(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function My(t){var i=Yc(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),s=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,g=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return d.call(this)},set:function(T){s=""+T,g.call(this,T)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return s},setValue:function(T){s=""+T},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Jo(t){t._valueTracker||(t._valueTracker=My(t))}function $c(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),s="";return t&&(s=Yc(t)?t.checked?"true":"false":t.value),t=s,t!==a?(i.setValue(t),!0):!1}function Zo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ry=/[\n"\\]/g;function Nt(t){return t.replace(Ry,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Or(t,i,a,s,d,g,T,S){t.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.type=T:t.removeAttribute("type"),i!=null?T==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+wt(i)):t.value!==""+wt(i)&&(t.value=""+wt(i)):T!=="submit"&&T!=="reset"||t.removeAttribute("value"),i!=null?Br(t,T,wt(i)):a!=null?Br(t,T,wt(a)):s!=null&&t.removeAttribute("value"),d==null&&g!=null&&(t.defaultChecked=!!g),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+wt(S):t.removeAttribute("name")}function Jc(t,i,a,s,d,g,T,S){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.type=g),i!=null||a!=null){if(!(g!=="submit"&&g!=="reset"||i!=null))return;a=a!=null?""+wt(a):"",i=i!=null?""+wt(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}s=s??d,s=typeof s!="function"&&typeof s!="symbol"&&!!s,t.checked=S?t.checked:!!s,t.defaultChecked=!!s,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(t.name=T)}function Br(t,i,a){i==="number"&&Zo(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function wi(t,i,a,s){if(t=t.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=i.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&s&&(t[a].defaultSelected=!0)}else{for(a=""+wt(a),i=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,s&&(t[d].defaultSelected=!0);return}i!==null||t[d].disabled||(i=t[d])}i!==null&&(i.selected=!0)}}function Zc(t,i,a){if(i!=null&&(i=""+wt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+wt(a):""}function Kc(t,i,a,s){if(i==null){if(s!=null){if(a!=null)throw Error(o(92));if(Je(s)){if(1<s.length)throw Error(o(93));s=s[0]}a=s}a==null&&(a=""),i=a}a=wt(i),t.defaultValue=a,s=t.textContent,s===a&&s!==""&&s!==null&&(t.value=s)}function Ni(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var wy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xc(t,i,a){var s=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":s?t.setProperty(i,a):typeof a!="number"||a===0||wy.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Qc(t,i,a){if(i!=null&&typeof i!="object")throw Error(o(62));if(t=t.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||i!=null&&i.hasOwnProperty(s)||(s.indexOf("--")===0?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="");for(var d in i)s=i[d],i.hasOwnProperty(d)&&a[d]!==s&&Xc(t,d,s)}else for(var g in i)i.hasOwnProperty(g)&&Xc(t,g,i[g])}function zr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ny=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ko(t){return Dy.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Pr=null;function Gr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Di=null,ki=null;function Wc(t){var i=Ai(t);if(i&&(t=i.stateNode)){var a=t[pt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Or(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Nt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var s=a[i];if(s!==t&&s.form===t.form){var d=s[pt]||null;if(!d)throw Error(o(90));Or(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(i=0;i<a.length;i++)s=a[i],s.form===t.form&&$c(s)}break e;case"textarea":Zc(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&wi(t,!!a.multiple,i,!1)}}}var Hr=!1;function jc(t,i,a){if(Hr)return t(i,a);Hr=!0;try{var s=t(i);return s}finally{if(Hr=!1,(Di!==null||ki!==null)&&(Ua(),Di&&(i=Di,t=ki,ki=Di=null,Wc(i),t)))for(i=0;i<t.length;i++)Wc(t[i])}}function wl(t,i){var a=t.stateNode;if(a===null)return null;var s=a[pt]||null;if(s===null)return null;a=s[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(o(231,i,typeof a));return a}var on=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fr=!1;if(on)try{var Nl={};Object.defineProperty(Nl,"passive",{get:function(){Fr=!0}}),window.addEventListener("test",Nl,Nl),window.removeEventListener("test",Nl,Nl)}catch{Fr=!1}var Rn=null,Yr=null,Xo=null;function ef(){if(Xo)return Xo;var t,i=Yr,a=i.length,s,d="value"in Rn?Rn.value:Rn.textContent,g=d.length;for(t=0;t<a&&i[t]===d[t];t++);var T=a-t;for(s=1;s<=T&&i[a-s]===d[g-s];s++);return Xo=d.slice(t,1<s?1-s:void 0)}function Qo(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Wo(){return!0}function tf(){return!1}function ht(t){function i(a,s,d,g,T){this._reactName=a,this._targetInst=d,this.type=s,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(g):g[S]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Wo:tf,this.isPropagationStopped=tf,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Wo)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Wo)},persist:function(){},isPersistent:Wo}),i}var ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jo=ht(ii),Dl=v({},ii,{view:0,detail:0}),ky=ht(Dl),$r,Jr,kl,ea=v({},Dl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==kl&&(kl&&t.type==="mousemove"?($r=t.screenX-kl.screenX,Jr=t.screenY-kl.screenY):Jr=$r=0,kl=t),$r)},movementY:function(t){return"movementY"in t?t.movementY:Jr}}),nf=ht(ea),Iy=v({},ea,{dataTransfer:0}),Uy=ht(Iy),Ly=v({},Dl,{relatedTarget:0}),Zr=ht(Ly),Vy=v({},ii,{animationName:0,elapsedTime:0,pseudoElement:0}),qy=ht(Vy),Oy=v({},ii,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),By=ht(Oy),zy=v({},ii,{data:0}),lf=ht(zy),Py={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fy(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Hy[t])?!!i[t]:!1}function Kr(){return Fy}var Yy=v({},Dl,{key:function(t){if(t.key){var i=Py[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Qo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Gy[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kr,charCode:function(t){return t.type==="keypress"?Qo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$y=ht(Yy),Jy=v({},ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),of=ht(Jy),Zy=v({},Dl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kr}),Ky=ht(Zy),Xy=v({},ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qy=ht(Xy),Wy=v({},ea,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),jy=ht(Wy),ev=v({},ii,{newState:0,oldState:0}),tv=ht(ev),nv=[9,13,27,32],Xr=on&&"CompositionEvent"in window,Il=null;on&&"documentMode"in document&&(Il=document.documentMode);var iv=on&&"TextEvent"in window&&!Il,af=on&&(!Xr||Il&&8<Il&&11>=Il),rf=" ",sf=!1;function uf(t,i){switch(t){case"keyup":return nv.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ii=!1;function lv(t,i){switch(t){case"compositionend":return cf(i);case"keypress":return i.which!==32?null:(sf=!0,rf);case"textInput":return t=i.data,t===rf&&sf?null:t;default:return null}}function ov(t,i){if(Ii)return t==="compositionend"||!Xr&&uf(t,i)?(t=ef(),Xo=Yr=Rn=null,Ii=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return af&&i.locale!=="ko"?null:i.data;default:return null}}var av={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ff(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!av[t.type]:i==="textarea"}function df(t,i,a,s){Di?ki?ki.push(s):ki=[s]:Di=s,i=za(i,"onChange"),0<i.length&&(a=new jo("onChange","change",null,a,s),t.push({event:a,listeners:i}))}var Ul=null,Ll=null;function rv(t){$m(t,0)}function ta(t){var i=Rl(t);if($c(i))return t}function mf(t,i){if(t==="change")return i}var pf=!1;if(on){var Qr;if(on){var Wr="oninput"in document;if(!Wr){var hf=document.createElement("div");hf.setAttribute("oninput","return;"),Wr=typeof hf.oninput=="function"}Qr=Wr}else Qr=!1;pf=Qr&&(!document.documentMode||9<document.documentMode)}function gf(){Ul&&(Ul.detachEvent("onpropertychange",yf),Ll=Ul=null)}function yf(t){if(t.propertyName==="value"&&ta(Ll)){var i=[];df(i,Ll,t,Gr(t)),jc(rv,i)}}function sv(t,i,a){t==="focusin"?(gf(),Ul=i,Ll=a,Ul.attachEvent("onpropertychange",yf)):t==="focusout"&&gf()}function uv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ta(Ll)}function cv(t,i){if(t==="click")return ta(i)}function fv(t,i){if(t==="input"||t==="change")return ta(i)}function dv(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var _t=typeof Object.is=="function"?Object.is:dv;function Vl(t,i){if(_t(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),s=Object.keys(i);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var d=a[s];if(!Mr.call(i,d)||!_t(t[d],i[d]))return!1}return!0}function vf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Tf(t,i){var a=vf(t);t=0;for(var s;a;){if(a.nodeType===3){if(s=t+a.textContent.length,t<=i&&s>=i)return{node:a,offset:i-t};t=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=vf(a)}}function Cf(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Cf(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Sf(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Zo(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Zo(t.document)}return i}function jr(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var mv=on&&"documentMode"in document&&11>=document.documentMode,Ui=null,es=null,ql=null,ts=!1;function _f(t,i,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ts||Ui==null||Ui!==Zo(s)||(s=Ui,"selectionStart"in s&&jr(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),ql&&Vl(ql,s)||(ql=s,s=za(es,"onSelect"),0<s.length&&(i=new jo("onSelect","select",null,i,a),t.push({event:i,listeners:s}),i.target=Ui)))}function li(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Li={animationend:li("Animation","AnimationEnd"),animationiteration:li("Animation","AnimationIteration"),animationstart:li("Animation","AnimationStart"),transitionrun:li("Transition","TransitionRun"),transitionstart:li("Transition","TransitionStart"),transitioncancel:li("Transition","TransitionCancel"),transitionend:li("Transition","TransitionEnd")},ns={},xf={};on&&(xf=document.createElement("div").style,"AnimationEvent"in window||(delete Li.animationend.animation,delete Li.animationiteration.animation,delete Li.animationstart.animation),"TransitionEvent"in window||delete Li.transitionend.transition);function oi(t){if(ns[t])return ns[t];if(!Li[t])return t;var i=Li[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in xf)return ns[t]=i[a];return t}var Ef=oi("animationend"),Af=oi("animationiteration"),bf=oi("animationstart"),pv=oi("transitionrun"),hv=oi("transitionstart"),gv=oi("transitioncancel"),Mf=oi("transitionend"),Rf=new Map,is="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");is.push("scrollEnd");function zt(t,i){Rf.set(t,i),ni(i,[t])}var wf=new WeakMap;function Dt(t,i){if(typeof t=="object"&&t!==null){var a=wf.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Fc(i)},wf.set(t,i),i)}return{value:t,source:i,stack:Fc(i)}}var kt=[],Vi=0,ls=0;function na(){for(var t=Vi,i=ls=Vi=0;i<t;){var a=kt[i];kt[i++]=null;var s=kt[i];kt[i++]=null;var d=kt[i];kt[i++]=null;var g=kt[i];if(kt[i++]=null,s!==null&&d!==null){var T=s.pending;T===null?d.next=d:(d.next=T.next,T.next=d),s.pending=d}g!==0&&Nf(a,d,g)}}function ia(t,i,a,s){kt[Vi++]=t,kt[Vi++]=i,kt[Vi++]=a,kt[Vi++]=s,ls|=s,t.lanes|=s,t=t.alternate,t!==null&&(t.lanes|=s)}function os(t,i,a,s){return ia(t,i,a,s),la(t)}function qi(t,i){return ia(t,null,null,i),la(t)}function Nf(t,i,a){t.lanes|=a;var s=t.alternate;s!==null&&(s.lanes|=a);for(var d=!1,g=t.return;g!==null;)g.childLanes|=a,s=g.alternate,s!==null&&(s.childLanes|=a),g.tag===22&&(t=g.stateNode,t===null||t._visibility&1||(d=!0)),t=g,g=g.return;return t.tag===3?(g=t.stateNode,d&&i!==null&&(d=31-St(a),t=g.hiddenUpdates,s=t[d],s===null?t[d]=[i]:s.push(i),i.lane=a|536870912),g):null}function la(t){if(50<so)throw so=0,fu=null,Error(o(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Oi={};function yv(t,i,a,s){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xt(t,i,a,s){return new yv(t,i,a,s)}function as(t){return t=t.prototype,!(!t||!t.isReactComponent)}function an(t,i){var a=t.alternate;return a===null?(a=xt(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Df(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function oa(t,i,a,s,d,g){var T=0;if(s=t,typeof t=="function")as(t)&&(T=1);else if(typeof t=="string")T=T0(t,a,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Z:return t=xt(31,a,i,d),t.elementType=Z,t.lanes=g,t;case b:return ai(a.children,d,g,i);case D:T=8,d|=24;break;case q:return t=xt(12,a,i,d|2),t.elementType=q,t.lanes=g,t;case Y:return t=xt(13,a,i,d),t.elementType=Y,t.lanes=g,t;case te:return t=xt(19,a,i,d),t.elementType=te,t.lanes=g,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case N:case F:T=10;break e;case B:T=9;break e;case J:T=11;break e;case ne:T=14;break e;case he:T=16,s=null;break e}T=29,a=Error(o(130,t===null?"null":typeof t,"")),s=null}return i=xt(T,a,i,d),i.elementType=t,i.type=s,i.lanes=g,i}function ai(t,i,a,s){return t=xt(7,t,s,i),t.lanes=a,t}function rs(t,i,a){return t=xt(6,t,null,i),t.lanes=a,t}function ss(t,i,a){return i=xt(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Bi=[],zi=0,aa=null,ra=0,It=[],Ut=0,ri=null,rn=1,sn="";function si(t,i){Bi[zi++]=ra,Bi[zi++]=aa,aa=t,ra=i}function kf(t,i,a){It[Ut++]=rn,It[Ut++]=sn,It[Ut++]=ri,ri=t;var s=rn;t=sn;var d=32-St(s)-1;s&=~(1<<d),a+=1;var g=32-St(i)+d;if(30<g){var T=d-d%5;g=(s&(1<<T)-1).toString(32),s>>=T,d-=T,rn=1<<32-St(i)+d|a<<d|s,sn=g+t}else rn=1<<g|a<<d|s,sn=t}function us(t){t.return!==null&&(si(t,1),kf(t,1,0))}function cs(t){for(;t===aa;)aa=Bi[--zi],Bi[zi]=null,ra=Bi[--zi],Bi[zi]=null;for(;t===ri;)ri=It[--Ut],It[Ut]=null,sn=It[--Ut],It[Ut]=null,rn=It[--Ut],It[Ut]=null}var ft=null,He=null,Re=!1,ui=null,Jt=!1,fs=Error(o(519));function ci(t){var i=Error(o(418,""));throw zl(Dt(i,t)),fs}function If(t){var i=t.stateNode,a=t.type,s=t.memoizedProps;switch(i[st]=t,i[pt]=s,a){case"dialog":_e("cancel",i),_e("close",i);break;case"iframe":case"object":case"embed":_e("load",i);break;case"video":case"audio":for(a=0;a<co.length;a++)_e(co[a],i);break;case"source":_e("error",i);break;case"img":case"image":case"link":_e("error",i),_e("load",i);break;case"details":_e("toggle",i);break;case"input":_e("invalid",i),Jc(i,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),Jo(i);break;case"select":_e("invalid",i);break;case"textarea":_e("invalid",i),Kc(i,s.value,s.defaultValue,s.children),Jo(i)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||s.suppressHydrationWarning===!0||Xm(i.textContent,a)?(s.popover!=null&&(_e("beforetoggle",i),_e("toggle",i)),s.onScroll!=null&&_e("scroll",i),s.onScrollEnd!=null&&_e("scrollend",i),s.onClick!=null&&(i.onclick=Pa),i=!0):i=!1,i||ci(t)}function Uf(t){for(ft=t.return;ft;)switch(ft.tag){case 5:case 13:Jt=!1;return;case 27:case 3:Jt=!0;return;default:ft=ft.return}}function Ol(t){if(t!==ft)return!1;if(!Re)return Uf(t),Re=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Mu(t.type,t.memoizedProps)),a=!a),a&&He&&ci(t),Uf(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){He=Gt(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}He=null}}else i===27?(i=He,Fn(t.type)?(t=Du,Du=null,He=t):He=i):He=ft?Gt(t.stateNode.nextSibling):null;return!0}function Bl(){He=ft=null,Re=!1}function Lf(){var t=ui;return t!==null&&(vt===null?vt=t:vt.push.apply(vt,t),ui=null),t}function zl(t){ui===null?ui=[t]:ui.push(t)}var ds=H(null),fi=null,un=null;function wn(t,i,a){K(ds,i._currentValue),i._currentValue=a}function cn(t){t._currentValue=ds.current,W(ds)}function ms(t,i,a){for(;t!==null;){var s=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,s!==null&&(s.childLanes|=i)):s!==null&&(s.childLanes&i)!==i&&(s.childLanes|=i),t===a)break;t=t.return}}function ps(t,i,a,s){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var g=d.dependencies;if(g!==null){var T=d.child;g=g.firstContext;e:for(;g!==null;){var S=g;g=d;for(var A=0;A<i.length;A++)if(S.context===i[A]){g.lanes|=a,S=g.alternate,S!==null&&(S.lanes|=a),ms(g.return,a,t),s||(T=null);break e}g=S.next}}else if(d.tag===18){if(T=d.return,T===null)throw Error(o(341));T.lanes|=a,g=T.alternate,g!==null&&(g.lanes|=a),ms(T,a,t),T=null}else T=d.child;if(T!==null)T.return=d;else for(T=d;T!==null;){if(T===t){T=null;break}if(d=T.sibling,d!==null){d.return=T.return,T=d;break}T=T.return}d=T}}function Pl(t,i,a,s){t=null;for(var d=i,g=!1;d!==null;){if(!g){if((d.flags&524288)!==0)g=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var T=d.alternate;if(T===null)throw Error(o(387));if(T=T.memoizedProps,T!==null){var S=d.type;_t(d.pendingProps.value,T.value)||(t!==null?t.push(S):t=[S])}}else if(d===Tt.current){if(T=d.alternate,T===null)throw Error(o(387));T.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(yo):t=[yo])}d=d.return}t!==null&&ps(i,t,a,s),i.flags|=262144}function sa(t){for(t=t.firstContext;t!==null;){if(!_t(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function di(t){fi=t,un=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ut(t){return Vf(fi,t)}function ua(t,i){return fi===null&&di(t),Vf(t,i)}function Vf(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},un===null){if(t===null)throw Error(o(308));un=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else un=un.next=i;return a}var vv=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,s){t.push(s)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},Tv=n.unstable_scheduleCallback,Cv=n.unstable_NormalPriority,We={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hs(){return{controller:new vv,data:new Map,refCount:0}}function Gl(t){t.refCount--,t.refCount===0&&Tv(Cv,function(){t.controller.abort()})}var Hl=null,gs=0,Pi=0,Gi=null;function Sv(t,i){if(Hl===null){var a=Hl=[];gs=0,Pi=vu(),Gi={status:"pending",value:void 0,then:function(s){a.push(s)}}}return gs++,i.then(qf,qf),i}function qf(){if(--gs===0&&Hl!==null){Gi!==null&&(Gi.status="fulfilled");var t=Hl;Hl=null,Pi=0,Gi=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function _v(t,i){var a=[],s={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return t.then(function(){s.status="fulfilled",s.value=i;for(var d=0;d<a.length;d++)(0,a[d])(i)},function(d){for(s.status="rejected",s.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),s}var Of=z.S;z.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&Sv(t,i),Of!==null&&Of(t,i)};var mi=H(null);function ys(){var t=mi.current;return t!==null?t:Ve.pooledCache}function ca(t,i){i===null?K(mi,mi.current):K(mi,i.pool)}function Bf(){var t=ys();return t===null?null:{parent:We._currentValue,pool:t}}var Fl=Error(o(460)),zf=Error(o(474)),fa=Error(o(542)),vs={then:function(){}};function Pf(t){return t=t.status,t==="fulfilled"||t==="rejected"}function da(){}function Gf(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(da,da),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ff(t),t;default:if(typeof i.status=="string")i.then(da,da);else{if(t=Ve,t!==null&&100<t.shellSuspendCounter)throw Error(o(482));t=i,t.status="pending",t.then(function(s){if(i.status==="pending"){var d=i;d.status="fulfilled",d.value=s}},function(s){if(i.status==="pending"){var d=i;d.status="rejected",d.reason=s}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ff(t),t}throw Yl=i,Fl}}var Yl=null;function Hf(){if(Yl===null)throw Error(o(459));var t=Yl;return Yl=null,t}function Ff(t){if(t===Fl||t===fa)throw Error(o(483))}var Nn=!1;function Ts(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cs(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Dn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function kn(t,i,a){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,(we&2)!==0){var d=s.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),s.pending=i,i=la(t),Nf(t,null,a),i}return ia(t,s,i,a),la(t)}function $l(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var s=i.lanes;s&=t.pendingLanes,a|=s,i.lanes=a,Vc(t,a)}}function Ss(t,i){var a=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var d=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};g===null?d=g=T:g=g.next=T,a=a.next}while(a!==null);g===null?d=g=i:g=g.next=i}else d=g=i;a={baseState:s.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:s.shared,callbacks:s.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var _s=!1;function Jl(){if(_s){var t=Gi;if(t!==null)throw t}}function Zl(t,i,a,s){_s=!1;var d=t.updateQueue;Nn=!1;var g=d.firstBaseUpdate,T=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var A=S,I=A.next;A.next=null,T===null?g=I:T.next=I,T=A;var O=t.alternate;O!==null&&(O=O.updateQueue,S=O.lastBaseUpdate,S!==T&&(S===null?O.firstBaseUpdate=I:S.next=I,O.lastBaseUpdate=A))}if(g!==null){var G=d.baseState;T=0,O=I=A=null,S=g;do{var U=S.lane&-536870913,V=U!==S.lane;if(V?(Ee&U)===U:(s&U)===U){U!==0&&U===Pi&&(_s=!0),O!==null&&(O=O.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ce=t,re=S;U=i;var Ie=a;switch(re.tag){case 1:if(ce=re.payload,typeof ce=="function"){G=ce.call(Ie,G,U);break e}G=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=re.payload,U=typeof ce=="function"?ce.call(Ie,G,U):ce,U==null)break e;G=v({},G,U);break e;case 2:Nn=!0}}U=S.callback,U!==null&&(t.flags|=64,V&&(t.flags|=8192),V=d.callbacks,V===null?d.callbacks=[U]:V.push(U))}else V={lane:U,tag:S.tag,payload:S.payload,callback:S.callback,next:null},O===null?(I=O=V,A=G):O=O.next=V,T|=U;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;V=S,S=V.next,V.next=null,d.lastBaseUpdate=V,d.shared.pending=null}}while(!0);O===null&&(A=G),d.baseState=A,d.firstBaseUpdate=I,d.lastBaseUpdate=O,g===null&&(d.shared.lanes=0),zn|=T,t.lanes=T,t.memoizedState=G}}function Yf(t,i){if(typeof t!="function")throw Error(o(191,t));t.call(i)}function $f(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Yf(a[t],i)}var Hi=H(null),ma=H(0);function Jf(t,i){t=yn,K(ma,t),K(Hi,i),yn=t|i.baseLanes}function xs(){K(ma,yn),K(Hi,Hi.current)}function Es(){yn=ma.current,W(Hi),W(ma)}var In=0,ve=null,De=null,Ze=null,pa=!1,Fi=!1,pi=!1,ha=0,Kl=0,Yi=null,xv=0;function Ye(){throw Error(o(321))}function As(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!_t(t[a],i[a]))return!1;return!0}function bs(t,i,a,s,d,g){return In=g,ve=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,z.H=t===null||t.memoizedState===null?Nd:Dd,pi=!1,g=a(s,d),pi=!1,Fi&&(g=Kf(i,a,s,d)),Zf(t),g}function Zf(t){z.H=Sa;var i=De!==null&&De.next!==null;if(In=0,Ze=De=ve=null,pa=!1,Kl=0,Yi=null,i)throw Error(o(300));t===null||tt||(t=t.dependencies,t!==null&&sa(t)&&(tt=!0))}function Kf(t,i,a,s){ve=t;var d=0;do{if(Fi&&(Yi=null),Kl=0,Fi=!1,25<=d)throw Error(o(301));if(d+=1,Ze=De=null,t.updateQueue!=null){var g=t.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}z.H=Nv,g=i(a,s)}while(Fi);return g}function Ev(){var t=z.H,i=t.useState()[0];return i=typeof i.then=="function"?Xl(i):i,t=t.useState()[0],(De!==null?De.memoizedState:null)!==t&&(ve.flags|=1024),i}function Ms(){var t=ha!==0;return ha=0,t}function Rs(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function ws(t){if(pa){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}pa=!1}In=0,Ze=De=ve=null,Fi=!1,Kl=ha=0,Yi=null}function gt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ze===null?ve.memoizedState=Ze=t:Ze=Ze.next=t,Ze}function Ke(){if(De===null){var t=ve.alternate;t=t!==null?t.memoizedState:null}else t=De.next;var i=Ze===null?ve.memoizedState:Ze.next;if(i!==null)Ze=i,De=t;else{if(t===null)throw ve.alternate===null?Error(o(467)):Error(o(310));De=t,t={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Ze===null?ve.memoizedState=Ze=t:Ze=Ze.next=t}return Ze}function Ns(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xl(t){var i=Kl;return Kl+=1,Yi===null&&(Yi=[]),t=Gf(Yi,t,i),i=ve,(Ze===null?i.memoizedState:Ze.next)===null&&(i=i.alternate,z.H=i===null||i.memoizedState===null?Nd:Dd),t}function ga(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Xl(t);if(t.$$typeof===F)return ut(t)}throw Error(o(438,String(t)))}function Ds(t){var i=null,a=ve.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var s=ve.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(i={data:s.data.map(function(d){return d.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Ns(),ve.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),s=0;s<t;s++)a[s]=oe;return i.index++,a}function fn(t,i){return typeof i=="function"?i(t):i}function ya(t){var i=Ke();return ks(i,De,t)}function ks(t,i,a){var s=t.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=a;var d=t.baseQueue,g=s.pending;if(g!==null){if(d!==null){var T=d.next;d.next=g.next,g.next=T}i.baseQueue=d=g,s.pending=null}if(g=t.baseState,d===null)t.memoizedState=g;else{i=d.next;var S=T=null,A=null,I=i,O=!1;do{var G=I.lane&-536870913;if(G!==I.lane?(Ee&G)===G:(In&G)===G){var U=I.revertLane;if(U===0)A!==null&&(A=A.next={lane:0,revertLane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),G===Pi&&(O=!0);else if((In&U)===U){I=I.next,U===Pi&&(O=!0);continue}else G={lane:0,revertLane:I.revertLane,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},A===null?(S=A=G,T=g):A=A.next=G,ve.lanes|=U,zn|=U;G=I.action,pi&&a(g,G),g=I.hasEagerState?I.eagerState:a(g,G)}else U={lane:G,revertLane:I.revertLane,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},A===null?(S=A=U,T=g):A=A.next=U,ve.lanes|=G,zn|=G;I=I.next}while(I!==null&&I!==i);if(A===null?T=g:A.next=S,!_t(g,t.memoizedState)&&(tt=!0,O&&(a=Gi,a!==null)))throw a;t.memoizedState=g,t.baseState=T,t.baseQueue=A,s.lastRenderedState=g}return d===null&&(s.lanes=0),[t.memoizedState,s.dispatch]}function Is(t){var i=Ke(),a=i.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=t;var s=a.dispatch,d=a.pending,g=i.memoizedState;if(d!==null){a.pending=null;var T=d=d.next;do g=t(g,T.action),T=T.next;while(T!==d);_t(g,i.memoizedState)||(tt=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),a.lastRenderedState=g}return[g,s]}function Xf(t,i,a){var s=ve,d=Ke(),g=Re;if(g){if(a===void 0)throw Error(o(407));a=a()}else a=i();var T=!_t((De||d).memoizedState,a);T&&(d.memoizedState=a,tt=!0),d=d.queue;var S=jf.bind(null,s,d,t);if(Ql(2048,8,S,[t]),d.getSnapshot!==i||T||Ze!==null&&Ze.memoizedState.tag&1){if(s.flags|=2048,$i(9,va(),Wf.bind(null,s,d,a,i),null),Ve===null)throw Error(o(349));g||(In&124)!==0||Qf(s,i,a)}return a}function Qf(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=ve.updateQueue,i===null?(i=Ns(),ve.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Wf(t,i,a,s){i.value=a,i.getSnapshot=s,ed(i)&&td(t)}function jf(t,i,a){return a(function(){ed(i)&&td(t)})}function ed(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!_t(t,a)}catch{return!0}}function td(t){var i=qi(t,2);i!==null&&Rt(i,t,2)}function Us(t){var i=gt();if(typeof t=="function"){var a=t;if(t=a(),pi){bn(!0);try{a()}finally{bn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:t},i}function nd(t,i,a,s){return t.baseState=a,ks(t,De,typeof s=="function"?s:fn)}function Av(t,i,a,s,d){if(Ca(t))throw Error(o(485));if(t=i.action,t!==null){var g={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};z.T!==null?a(!0):g.isTransition=!1,s(g),a=i.pending,a===null?(g.next=i.pending=g,id(i,g)):(g.next=a.next,i.pending=a.next=g)}}function id(t,i){var a=i.action,s=i.payload,d=t.state;if(i.isTransition){var g=z.T,T={};z.T=T;try{var S=a(d,s),A=z.S;A!==null&&A(T,S),ld(t,i,S)}catch(I){Ls(t,i,I)}finally{z.T=g}}else try{g=a(d,s),ld(t,i,g)}catch(I){Ls(t,i,I)}}function ld(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){od(t,i,s)},function(s){return Ls(t,i,s)}):od(t,i,a)}function od(t,i,a){i.status="fulfilled",i.value=a,ad(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,id(t,a)))}function Ls(t,i,a){var s=t.pending;if(t.pending=null,s!==null){s=s.next;do i.status="rejected",i.reason=a,ad(i),i=i.next;while(i!==s)}t.action=null}function ad(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function rd(t,i){return i}function sd(t,i){if(Re){var a=Ve.formState;if(a!==null){e:{var s=ve;if(Re){if(He){t:{for(var d=He,g=Jt;d.nodeType!==8;){if(!g){d=null;break t}if(d=Gt(d.nextSibling),d===null){d=null;break t}}g=d.data,d=g==="F!"||g==="F"?d:null}if(d){He=Gt(d.nextSibling),s=d.data==="F!";break e}}ci(s)}s=!1}s&&(i=a[0])}}return a=gt(),a.memoizedState=a.baseState=i,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rd,lastRenderedState:i},a.queue=s,a=Md.bind(null,ve,s),s.dispatch=a,s=Us(!1),g=zs.bind(null,ve,!1,s.queue),s=gt(),d={state:i,dispatch:null,action:t,pending:null},s.queue=d,a=Av.bind(null,ve,d,g,a),d.dispatch=a,s.memoizedState=t,[i,a,!1]}function ud(t){var i=Ke();return cd(i,De,t)}function cd(t,i,a){if(i=ks(t,i,rd)[0],t=ya(fn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var s=Xl(i)}catch(T){throw T===Fl?fa:T}else s=i;i=Ke();var d=i.queue,g=d.dispatch;return a!==i.memoizedState&&(ve.flags|=2048,$i(9,va(),bv.bind(null,d,a),null)),[s,g,t]}function bv(t,i){t.action=i}function fd(t){var i=Ke(),a=De;if(a!==null)return cd(i,a,t);Ke(),i=i.memoizedState,a=Ke();var s=a.queue.dispatch;return a.memoizedState=t,[i,s,!1]}function $i(t,i,a,s){return t={tag:t,create:a,deps:s,inst:i,next:null},i=ve.updateQueue,i===null&&(i=Ns(),ve.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(s=a.next,a.next=t,t.next=s,i.lastEffect=t),t}function va(){return{destroy:void 0,resource:void 0}}function dd(){return Ke().memoizedState}function Ta(t,i,a,s){var d=gt();s=s===void 0?null:s,ve.flags|=t,d.memoizedState=$i(1|i,va(),a,s)}function Ql(t,i,a,s){var d=Ke();s=s===void 0?null:s;var g=d.memoizedState.inst;De!==null&&s!==null&&As(s,De.memoizedState.deps)?d.memoizedState=$i(i,g,a,s):(ve.flags|=t,d.memoizedState=$i(1|i,g,a,s))}function md(t,i){Ta(8390656,8,t,i)}function pd(t,i){Ql(2048,8,t,i)}function hd(t,i){return Ql(4,2,t,i)}function gd(t,i){return Ql(4,4,t,i)}function yd(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function vd(t,i,a){a=a!=null?a.concat([t]):null,Ql(4,4,yd.bind(null,i,t),a)}function Vs(){}function Td(t,i){var a=Ke();i=i===void 0?null:i;var s=a.memoizedState;return i!==null&&As(i,s[1])?s[0]:(a.memoizedState=[t,i],t)}function Cd(t,i){var a=Ke();i=i===void 0?null:i;var s=a.memoizedState;if(i!==null&&As(i,s[1]))return s[0];if(s=t(),pi){bn(!0);try{t()}finally{bn(!1)}}return a.memoizedState=[s,i],s}function qs(t,i,a){return a===void 0||(In&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=xm(),ve.lanes|=t,zn|=t,a)}function Sd(t,i,a,s){return _t(a,i)?a:Hi.current!==null?(t=qs(t,a,s),_t(t,i)||(tt=!0),t):(In&42)===0?(tt=!0,t.memoizedState=a):(t=xm(),ve.lanes|=t,zn|=t,i)}function _d(t,i,a,s,d){var g=X.p;X.p=g!==0&&8>g?g:8;var T=z.T,S={};z.T=S,zs(t,!1,i,a);try{var A=d(),I=z.S;if(I!==null&&I(S,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var O=_v(A,s);Wl(t,i,O,Mt(t))}else Wl(t,i,s,Mt(t))}catch(G){Wl(t,i,{then:function(){},status:"rejected",reason:G},Mt())}finally{X.p=g,z.T=T}}function Mv(){}function Os(t,i,a,s){if(t.tag!==5)throw Error(o(476));var d=xd(t).queue;_d(t,d,i,ue,a===null?Mv:function(){return Ed(t),a(s)})}function xd(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:ue},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fn,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Ed(t){var i=xd(t).next.queue;Wl(t,i,{},Mt())}function Bs(){return ut(yo)}function Ad(){return Ke().memoizedState}function bd(){return Ke().memoizedState}function Rv(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Mt();t=Dn(a);var s=kn(i,t,a);s!==null&&(Rt(s,i,a),$l(s,i,a)),i={cache:hs()},t.payload=i;return}i=i.return}}function wv(t,i,a){var s=Mt();a={lane:s,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Ca(t)?Rd(i,a):(a=os(t,i,a,s),a!==null&&(Rt(a,t,s),wd(a,i,s)))}function Md(t,i,a){var s=Mt();Wl(t,i,a,s)}function Wl(t,i,a,s){var d={lane:s,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ca(t))Rd(i,d);else{var g=t.alternate;if(t.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var T=i.lastRenderedState,S=g(T,a);if(d.hasEagerState=!0,d.eagerState=S,_t(S,T))return ia(t,i,d,0),Ve===null&&na(),!1}catch{}finally{}if(a=os(t,i,d,s),a!==null)return Rt(a,t,s),wd(a,i,s),!0}return!1}function zs(t,i,a,s){if(s={lane:2,revertLane:vu(),action:s,hasEagerState:!1,eagerState:null,next:null},Ca(t)){if(i)throw Error(o(479))}else i=os(t,a,s,2),i!==null&&Rt(i,t,2)}function Ca(t){var i=t.alternate;return t===ve||i!==null&&i===ve}function Rd(t,i){Fi=pa=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function wd(t,i,a){if((a&4194048)!==0){var s=i.lanes;s&=t.pendingLanes,a|=s,i.lanes=a,Vc(t,a)}}var Sa={readContext:ut,use:ga,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useLayoutEffect:Ye,useInsertionEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useSyncExternalStore:Ye,useId:Ye,useHostTransitionStatus:Ye,useFormState:Ye,useActionState:Ye,useOptimistic:Ye,useMemoCache:Ye,useCacheRefresh:Ye},Nd={readContext:ut,use:ga,useCallback:function(t,i){return gt().memoizedState=[t,i===void 0?null:i],t},useContext:ut,useEffect:md,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Ta(4194308,4,yd.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Ta(4194308,4,t,i)},useInsertionEffect:function(t,i){Ta(4,2,t,i)},useMemo:function(t,i){var a=gt();i=i===void 0?null:i;var s=t();if(pi){bn(!0);try{t()}finally{bn(!1)}}return a.memoizedState=[s,i],s},useReducer:function(t,i,a){var s=gt();if(a!==void 0){var d=a(i);if(pi){bn(!0);try{a(i)}finally{bn(!1)}}}else d=i;return s.memoizedState=s.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},s.queue=t,t=t.dispatch=wv.bind(null,ve,t),[s.memoizedState,t]},useRef:function(t){var i=gt();return t={current:t},i.memoizedState=t},useState:function(t){t=Us(t);var i=t.queue,a=Md.bind(null,ve,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Vs,useDeferredValue:function(t,i){var a=gt();return qs(a,t,i)},useTransition:function(){var t=Us(!1);return t=_d.bind(null,ve,t.queue,!0,!1),gt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var s=ve,d=gt();if(Re){if(a===void 0)throw Error(o(407));a=a()}else{if(a=i(),Ve===null)throw Error(o(349));(Ee&124)!==0||Qf(s,i,a)}d.memoizedState=a;var g={value:a,getSnapshot:i};return d.queue=g,md(jf.bind(null,s,g,t),[t]),s.flags|=2048,$i(9,va(),Wf.bind(null,s,g,a,i),null),a},useId:function(){var t=gt(),i=Ve.identifierPrefix;if(Re){var a=sn,s=rn;a=(s&~(1<<32-St(s)-1)).toString(32)+a,i="«"+i+"R"+a,a=ha++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=xv++,i="«"+i+"r"+a.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:Bs,useFormState:sd,useActionState:sd,useOptimistic:function(t){var i=gt();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=zs.bind(null,ve,!0,a),a.dispatch=i,[t,i]},useMemoCache:Ds,useCacheRefresh:function(){return gt().memoizedState=Rv.bind(null,ve)}},Dd={readContext:ut,use:ga,useCallback:Td,useContext:ut,useEffect:pd,useImperativeHandle:vd,useInsertionEffect:hd,useLayoutEffect:gd,useMemo:Cd,useReducer:ya,useRef:dd,useState:function(){return ya(fn)},useDebugValue:Vs,useDeferredValue:function(t,i){var a=Ke();return Sd(a,De.memoizedState,t,i)},useTransition:function(){var t=ya(fn)[0],i=Ke().memoizedState;return[typeof t=="boolean"?t:Xl(t),i]},useSyncExternalStore:Xf,useId:Ad,useHostTransitionStatus:Bs,useFormState:ud,useActionState:ud,useOptimistic:function(t,i){var a=Ke();return nd(a,De,t,i)},useMemoCache:Ds,useCacheRefresh:bd},Nv={readContext:ut,use:ga,useCallback:Td,useContext:ut,useEffect:pd,useImperativeHandle:vd,useInsertionEffect:hd,useLayoutEffect:gd,useMemo:Cd,useReducer:Is,useRef:dd,useState:function(){return Is(fn)},useDebugValue:Vs,useDeferredValue:function(t,i){var a=Ke();return De===null?qs(a,t,i):Sd(a,De.memoizedState,t,i)},useTransition:function(){var t=Is(fn)[0],i=Ke().memoizedState;return[typeof t=="boolean"?t:Xl(t),i]},useSyncExternalStore:Xf,useId:Ad,useHostTransitionStatus:Bs,useFormState:fd,useActionState:fd,useOptimistic:function(t,i){var a=Ke();return De!==null?nd(a,De,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Ds,useCacheRefresh:bd},Ji=null,jl=0;function _a(t){var i=jl;return jl+=1,Ji===null&&(Ji=[]),Gf(Ji,t,i)}function eo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function xa(t,i){throw i.$$typeof===C?Error(o(525)):(t=Object.prototype.toString.call(i),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function kd(t){var i=t._init;return i(t._payload)}function Id(t){function i(w,R){if(t){var k=w.deletions;k===null?(w.deletions=[R],w.flags|=16):k.push(R)}}function a(w,R){if(!t)return null;for(;R!==null;)i(w,R),R=R.sibling;return null}function s(w){for(var R=new Map;w!==null;)w.key!==null?R.set(w.key,w):R.set(w.index,w),w=w.sibling;return R}function d(w,R){return w=an(w,R),w.index=0,w.sibling=null,w}function g(w,R,k){return w.index=k,t?(k=w.alternate,k!==null?(k=k.index,k<R?(w.flags|=67108866,R):k):(w.flags|=67108866,R)):(w.flags|=1048576,R)}function T(w){return t&&w.alternate===null&&(w.flags|=67108866),w}function S(w,R,k,P){return R===null||R.tag!==6?(R=rs(k,w.mode,P),R.return=w,R):(R=d(R,k),R.return=w,R)}function A(w,R,k,P){var j=k.type;return j===b?O(w,R,k.props.children,P,k.key):R!==null&&(R.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===he&&kd(j)===R.type)?(R=d(R,k.props),eo(R,k),R.return=w,R):(R=oa(k.type,k.key,k.props,null,w.mode,P),eo(R,k),R.return=w,R)}function I(w,R,k,P){return R===null||R.tag!==4||R.stateNode.containerInfo!==k.containerInfo||R.stateNode.implementation!==k.implementation?(R=ss(k,w.mode,P),R.return=w,R):(R=d(R,k.children||[]),R.return=w,R)}function O(w,R,k,P,j){return R===null||R.tag!==7?(R=ai(k,w.mode,P,j),R.return=w,R):(R=d(R,k),R.return=w,R)}function G(w,R,k){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=rs(""+R,w.mode,k),R.return=w,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case _:return k=oa(R.type,R.key,R.props,null,w.mode,k),eo(k,R),k.return=w,k;case x:return R=ss(R,w.mode,k),R.return=w,R;case he:var P=R._init;return R=P(R._payload),G(w,R,k)}if(Je(R)||Qe(R))return R=ai(R,w.mode,k,null),R.return=w,R;if(typeof R.then=="function")return G(w,_a(R),k);if(R.$$typeof===F)return G(w,ua(w,R),k);xa(w,R)}return null}function U(w,R,k,P){var j=R!==null?R.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return j!==null?null:S(w,R,""+k,P);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case _:return k.key===j?A(w,R,k,P):null;case x:return k.key===j?I(w,R,k,P):null;case he:return j=k._init,k=j(k._payload),U(w,R,k,P)}if(Je(k)||Qe(k))return j!==null?null:O(w,R,k,P,null);if(typeof k.then=="function")return U(w,R,_a(k),P);if(k.$$typeof===F)return U(w,R,ua(w,k),P);xa(w,k)}return null}function V(w,R,k,P,j){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return w=w.get(k)||null,S(R,w,""+P,j);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case _:return w=w.get(P.key===null?k:P.key)||null,A(R,w,P,j);case x:return w=w.get(P.key===null?k:P.key)||null,I(R,w,P,j);case he:var Te=P._init;return P=Te(P._payload),V(w,R,k,P,j)}if(Je(P)||Qe(P))return w=w.get(k)||null,O(R,w,P,j,null);if(typeof P.then=="function")return V(w,R,k,_a(P),j);if(P.$$typeof===F)return V(w,R,k,ua(R,P),j);xa(R,P)}return null}function ce(w,R,k,P){for(var j=null,Te=null,le=R,se=R=0,it=null;le!==null&&se<k.length;se++){le.index>se?(it=le,le=null):it=le.sibling;var be=U(w,le,k[se],P);if(be===null){le===null&&(le=it);break}t&&le&&be.alternate===null&&i(w,le),R=g(be,R,se),Te===null?j=be:Te.sibling=be,Te=be,le=it}if(se===k.length)return a(w,le),Re&&si(w,se),j;if(le===null){for(;se<k.length;se++)le=G(w,k[se],P),le!==null&&(R=g(le,R,se),Te===null?j=le:Te.sibling=le,Te=le);return Re&&si(w,se),j}for(le=s(le);se<k.length;se++)it=V(le,w,se,k[se],P),it!==null&&(t&&it.alternate!==null&&le.delete(it.key===null?se:it.key),R=g(it,R,se),Te===null?j=it:Te.sibling=it,Te=it);return t&&le.forEach(function(Kn){return i(w,Kn)}),Re&&si(w,se),j}function re(w,R,k,P){if(k==null)throw Error(o(151));for(var j=null,Te=null,le=R,se=R=0,it=null,be=k.next();le!==null&&!be.done;se++,be=k.next()){le.index>se?(it=le,le=null):it=le.sibling;var Kn=U(w,le,be.value,P);if(Kn===null){le===null&&(le=it);break}t&&le&&Kn.alternate===null&&i(w,le),R=g(Kn,R,se),Te===null?j=Kn:Te.sibling=Kn,Te=Kn,le=it}if(be.done)return a(w,le),Re&&si(w,se),j;if(le===null){for(;!be.done;se++,be=k.next())be=G(w,be.value,P),be!==null&&(R=g(be,R,se),Te===null?j=be:Te.sibling=be,Te=be);return Re&&si(w,se),j}for(le=s(le);!be.done;se++,be=k.next())be=V(le,w,se,be.value,P),be!==null&&(t&&be.alternate!==null&&le.delete(be.key===null?se:be.key),R=g(be,R,se),Te===null?j=be:Te.sibling=be,Te=be);return t&&le.forEach(function(D0){return i(w,D0)}),Re&&si(w,se),j}function Ie(w,R,k,P){if(typeof k=="object"&&k!==null&&k.type===b&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case _:e:{for(var j=k.key;R!==null;){if(R.key===j){if(j=k.type,j===b){if(R.tag===7){a(w,R.sibling),P=d(R,k.props.children),P.return=w,w=P;break e}}else if(R.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===he&&kd(j)===R.type){a(w,R.sibling),P=d(R,k.props),eo(P,k),P.return=w,w=P;break e}a(w,R);break}else i(w,R);R=R.sibling}k.type===b?(P=ai(k.props.children,w.mode,P,k.key),P.return=w,w=P):(P=oa(k.type,k.key,k.props,null,w.mode,P),eo(P,k),P.return=w,w=P)}return T(w);case x:e:{for(j=k.key;R!==null;){if(R.key===j)if(R.tag===4&&R.stateNode.containerInfo===k.containerInfo&&R.stateNode.implementation===k.implementation){a(w,R.sibling),P=d(R,k.children||[]),P.return=w,w=P;break e}else{a(w,R);break}else i(w,R);R=R.sibling}P=ss(k,w.mode,P),P.return=w,w=P}return T(w);case he:return j=k._init,k=j(k._payload),Ie(w,R,k,P)}if(Je(k))return ce(w,R,k,P);if(Qe(k)){if(j=Qe(k),typeof j!="function")throw Error(o(150));return k=j.call(k),re(w,R,k,P)}if(typeof k.then=="function")return Ie(w,R,_a(k),P);if(k.$$typeof===F)return Ie(w,R,ua(w,k),P);xa(w,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,R!==null&&R.tag===6?(a(w,R.sibling),P=d(R,k),P.return=w,w=P):(a(w,R),P=rs(k,w.mode,P),P.return=w,w=P),T(w)):a(w,R)}return function(w,R,k,P){try{jl=0;var j=Ie(w,R,k,P);return Ji=null,j}catch(le){if(le===Fl||le===fa)throw le;var Te=xt(29,le,null,w.mode);return Te.lanes=P,Te.return=w,Te}finally{}}}var Zi=Id(!0),Ud=Id(!1),Lt=H(null),Zt=null;function Un(t){var i=t.alternate;K(je,je.current&1),K(Lt,t),Zt===null&&(i===null||Hi.current!==null||i.memoizedState!==null)&&(Zt=t)}function Ld(t){if(t.tag===22){if(K(je,je.current),K(Lt,t),Zt===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(Zt=t)}}else Ln()}function Ln(){K(je,je.current),K(Lt,Lt.current)}function dn(t){W(Lt),Zt===t&&(Zt=null),W(je)}var je=H(0);function Ea(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Nu(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Ps(t,i,a,s){i=t.memoizedState,a=a(s,i),a=a==null?i:v({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Gs={enqueueSetState:function(t,i,a){t=t._reactInternals;var s=Mt(),d=Dn(s);d.payload=i,a!=null&&(d.callback=a),i=kn(t,d,s),i!==null&&(Rt(i,t,s),$l(i,t,s))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var s=Mt(),d=Dn(s);d.tag=1,d.payload=i,a!=null&&(d.callback=a),i=kn(t,d,s),i!==null&&(Rt(i,t,s),$l(i,t,s))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Mt(),s=Dn(a);s.tag=2,i!=null&&(s.callback=i),i=kn(t,s,a),i!==null&&(Rt(i,t,a),$l(i,t,a))}};function Vd(t,i,a,s,d,g,T){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,g,T):i.prototype&&i.prototype.isPureReactComponent?!Vl(a,s)||!Vl(d,g):!0}function qd(t,i,a,s){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,s),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,s),i.state!==t&&Gs.enqueueReplaceState(i,i.state,null)}function hi(t,i){var a=i;if("ref"in i){a={};for(var s in i)s!=="ref"&&(a[s]=i[s])}if(t=t.defaultProps){a===i&&(a=v({},a));for(var d in t)a[d]===void 0&&(a[d]=t[d])}return a}var Aa=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Od(t){Aa(t)}function Bd(t){console.error(t)}function zd(t){Aa(t)}function ba(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(s){setTimeout(function(){throw s})}}function Pd(t,i,a){try{var s=t.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Hs(t,i,a){return a=Dn(a),a.tag=3,a.payload={element:null},a.callback=function(){ba(t,i)},a}function Gd(t){return t=Dn(t),t.tag=3,t}function Hd(t,i,a,s){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var g=s.value;t.payload=function(){return d(g)},t.callback=function(){Pd(i,a,s)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(t.callback=function(){Pd(i,a,s),typeof d!="function"&&(Pn===null?Pn=new Set([this]):Pn.add(this));var S=s.stack;this.componentDidCatch(s.value,{componentStack:S!==null?S:""})})}function Dv(t,i,a,s,d){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(i=a.alternate,i!==null&&Pl(i,a,d,!0),a=Lt.current,a!==null){switch(a.tag){case 13:return Zt===null?mu():a.alternate===null&&Fe===0&&(Fe=3),a.flags&=-257,a.flags|=65536,a.lanes=d,s===vs?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([s]):i.add(s),hu(t,s,d)),!1;case 22:return a.flags|=65536,s===vs?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([s]):a.add(s)),hu(t,s,d)),!1}throw Error(o(435,a.tag))}return hu(t,s,d),mu(),!1}if(Re)return i=Lt.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=d,s!==fs&&(t=Error(o(422),{cause:s}),zl(Dt(t,a)))):(s!==fs&&(i=Error(o(423),{cause:s}),zl(Dt(i,a))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,s=Dt(s,a),d=Hs(t.stateNode,s,d),Ss(t,d),Fe!==4&&(Fe=2)),!1;var g=Error(o(520),{cause:s});if(g=Dt(g,a),ro===null?ro=[g]:ro.push(g),Fe!==4&&(Fe=2),i===null)return!0;s=Dt(s,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=d&-d,a.lanes|=t,t=Hs(a.stateNode,s,t),Ss(a,t),!1;case 1:if(i=a.type,g=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Pn===null||!Pn.has(g))))return a.flags|=65536,d&=-d,a.lanes|=d,d=Gd(d),Hd(d,t,a,s),Ss(a,d),!1}a=a.return}while(a!==null);return!1}var Fd=Error(o(461)),tt=!1;function ot(t,i,a,s){i.child=t===null?Ud(i,null,a,s):Zi(i,t.child,a,s)}function Yd(t,i,a,s,d){a=a.render;var g=i.ref;if("ref"in s){var T={};for(var S in s)S!=="ref"&&(T[S]=s[S])}else T=s;return di(i),s=bs(t,i,a,T,g,d),S=Ms(),t!==null&&!tt?(Rs(t,i,d),mn(t,i,d)):(Re&&S&&us(i),i.flags|=1,ot(t,i,s,d),i.child)}function $d(t,i,a,s,d){if(t===null){var g=a.type;return typeof g=="function"&&!as(g)&&g.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=g,Jd(t,i,g,s,d)):(t=oa(a.type,null,s,i,i.mode,d),t.ref=i.ref,t.return=i,i.child=t)}if(g=t.child,!Qs(t,d)){var T=g.memoizedProps;if(a=a.compare,a=a!==null?a:Vl,a(T,s)&&t.ref===i.ref)return mn(t,i,d)}return i.flags|=1,t=an(g,s),t.ref=i.ref,t.return=i,i.child=t}function Jd(t,i,a,s,d){if(t!==null){var g=t.memoizedProps;if(Vl(g,s)&&t.ref===i.ref)if(tt=!1,i.pendingProps=s=g,Qs(t,d))(t.flags&131072)!==0&&(tt=!0);else return i.lanes=t.lanes,mn(t,i,d)}return Fs(t,i,a,s,d)}function Zd(t,i,a){var s=i.pendingProps,d=s.children,g=t!==null?t.memoizedState:null;if(s.mode==="hidden"){if((i.flags&128)!==0){if(s=g!==null?g.baseLanes|a:a,t!==null){for(d=i.child=t.child,g=0;d!==null;)g=g|d.lanes|d.childLanes,d=d.sibling;i.childLanes=g&~s}else i.childLanes=0,i.child=null;return Kd(t,i,s,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&ca(i,g!==null?g.cachePool:null),g!==null?Jf(i,g):xs(),Ld(i);else return i.lanes=i.childLanes=536870912,Kd(t,i,g!==null?g.baseLanes|a:a,a)}else g!==null?(ca(i,g.cachePool),Jf(i,g),Ln(),i.memoizedState=null):(t!==null&&ca(i,null),xs(),Ln());return ot(t,i,d,a),i.child}function Kd(t,i,a,s){var d=ys();return d=d===null?null:{parent:We._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&ca(i,null),xs(),Ld(i),t!==null&&Pl(t,i,s,!0),null}function Ma(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Fs(t,i,a,s,d){return di(i),a=bs(t,i,a,s,void 0,d),s=Ms(),t!==null&&!tt?(Rs(t,i,d),mn(t,i,d)):(Re&&s&&us(i),i.flags|=1,ot(t,i,a,d),i.child)}function Xd(t,i,a,s,d,g){return di(i),i.updateQueue=null,a=Kf(i,s,a,d),Zf(t),s=Ms(),t!==null&&!tt?(Rs(t,i,g),mn(t,i,g)):(Re&&s&&us(i),i.flags|=1,ot(t,i,a,g),i.child)}function Qd(t,i,a,s,d){if(di(i),i.stateNode===null){var g=Oi,T=a.contextType;typeof T=="object"&&T!==null&&(g=ut(T)),g=new a(s,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Gs,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=s,g.state=i.memoizedState,g.refs={},Ts(i),T=a.contextType,g.context=typeof T=="object"&&T!==null?ut(T):Oi,g.state=i.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(Ps(i,a,T,s),g.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&Gs.enqueueReplaceState(g,g.state,null),Zl(i,s,g,d),Jl(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),s=!0}else if(t===null){g=i.stateNode;var S=i.memoizedProps,A=hi(a,S);g.props=A;var I=g.context,O=a.contextType;T=Oi,typeof O=="object"&&O!==null&&(T=ut(O));var G=a.getDerivedStateFromProps;O=typeof G=="function"||typeof g.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,O||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S||I!==T)&&qd(i,g,s,T),Nn=!1;var U=i.memoizedState;g.state=U,Zl(i,s,g,d),Jl(),I=i.memoizedState,S||U!==I||Nn?(typeof G=="function"&&(Ps(i,a,G,s),I=i.memoizedState),(A=Nn||Vd(i,a,A,s,U,I,T))?(O||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=s,i.memoizedState=I),g.props=s,g.state=I,g.context=T,s=A):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),s=!1)}else{g=i.stateNode,Cs(t,i),T=i.memoizedProps,O=hi(a,T),g.props=O,G=i.pendingProps,U=g.context,I=a.contextType,A=Oi,typeof I=="object"&&I!==null&&(A=ut(I)),S=a.getDerivedStateFromProps,(I=typeof S=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==G||U!==A)&&qd(i,g,s,A),Nn=!1,U=i.memoizedState,g.state=U,Zl(i,s,g,d),Jl();var V=i.memoizedState;T!==G||U!==V||Nn||t!==null&&t.dependencies!==null&&sa(t.dependencies)?(typeof S=="function"&&(Ps(i,a,S,s),V=i.memoizedState),(O=Nn||Vd(i,a,O,s,U,V,A)||t!==null&&t.dependencies!==null&&sa(t.dependencies))?(I||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(s,V,A),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(s,V,A)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===t.memoizedProps&&U===t.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&U===t.memoizedState||(i.flags|=1024),i.memoizedProps=s,i.memoizedState=V),g.props=s,g.state=V,g.context=A,s=O):(typeof g.componentDidUpdate!="function"||T===t.memoizedProps&&U===t.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===t.memoizedProps&&U===t.memoizedState||(i.flags|=1024),s=!1)}return g=s,Ma(t,i),s=(i.flags&128)!==0,g||s?(g=i.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,t!==null&&s?(i.child=Zi(i,t.child,null,d),i.child=Zi(i,null,a,d)):ot(t,i,a,d),i.memoizedState=g.state,t=i.child):t=mn(t,i,d),t}function Wd(t,i,a,s){return Bl(),i.flags|=256,ot(t,i,a,s),i.child}var Ys={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $s(t){return{baseLanes:t,cachePool:Bf()}}function Js(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Vt),t}function jd(t,i,a){var s=i.pendingProps,d=!1,g=(i.flags&128)!==0,T;if((T=g)||(T=t!==null&&t.memoizedState===null?!1:(je.current&2)!==0),T&&(d=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,t===null){if(Re){if(d?Un(i):Ln(),Re){var S=He,A;if(A=S){e:{for(A=S,S=Jt;A.nodeType!==8;){if(!S){S=null;break e}if(A=Gt(A.nextSibling),A===null){S=null;break e}}S=A}S!==null?(i.memoizedState={dehydrated:S,treeContext:ri!==null?{id:rn,overflow:sn}:null,retryLane:536870912,hydrationErrors:null},A=xt(18,null,null,0),A.stateNode=S,A.return=i,i.child=A,ft=i,He=null,A=!0):A=!1}A||ci(i)}if(S=i.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return Nu(S)?i.lanes=32:i.lanes=536870912,null;dn(i)}return S=s.children,s=s.fallback,d?(Ln(),d=i.mode,S=Ra({mode:"hidden",children:S},d),s=ai(s,d,a,null),S.return=i,s.return=i,S.sibling=s,i.child=S,d=i.child,d.memoizedState=$s(a),d.childLanes=Js(t,T,a),i.memoizedState=Ys,s):(Un(i),Zs(i,S))}if(A=t.memoizedState,A!==null&&(S=A.dehydrated,S!==null)){if(g)i.flags&256?(Un(i),i.flags&=-257,i=Ks(t,i,a)):i.memoizedState!==null?(Ln(),i.child=t.child,i.flags|=128,i=null):(Ln(),d=s.fallback,S=i.mode,s=Ra({mode:"visible",children:s.children},S),d=ai(d,S,a,null),d.flags|=2,s.return=i,d.return=i,s.sibling=d,i.child=s,Zi(i,t.child,null,a),s=i.child,s.memoizedState=$s(a),s.childLanes=Js(t,T,a),i.memoizedState=Ys,i=d);else if(Un(i),Nu(S)){if(T=S.nextSibling&&S.nextSibling.dataset,T)var I=T.dgst;T=I,s=Error(o(419)),s.stack="",s.digest=T,zl({value:s,source:null,stack:null}),i=Ks(t,i,a)}else if(tt||Pl(t,i,a,!1),T=(a&t.childLanes)!==0,tt||T){if(T=Ve,T!==null&&(s=a&-a,s=(s&42)!==0?1:Dr(s),s=(s&(T.suspendedLanes|a))!==0?0:s,s!==0&&s!==A.retryLane))throw A.retryLane=s,qi(t,s),Rt(T,t,s),Fd;S.data==="$?"||mu(),i=Ks(t,i,a)}else S.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=A.treeContext,He=Gt(S.nextSibling),ft=i,Re=!0,ui=null,Jt=!1,t!==null&&(It[Ut++]=rn,It[Ut++]=sn,It[Ut++]=ri,rn=t.id,sn=t.overflow,ri=i),i=Zs(i,s.children),i.flags|=4096);return i}return d?(Ln(),d=s.fallback,S=i.mode,A=t.child,I=A.sibling,s=an(A,{mode:"hidden",children:s.children}),s.subtreeFlags=A.subtreeFlags&65011712,I!==null?d=an(I,d):(d=ai(d,S,a,null),d.flags|=2),d.return=i,s.return=i,s.sibling=d,i.child=s,s=d,d=i.child,S=t.child.memoizedState,S===null?S=$s(a):(A=S.cachePool,A!==null?(I=We._currentValue,A=A.parent!==I?{parent:I,pool:I}:A):A=Bf(),S={baseLanes:S.baseLanes|a,cachePool:A}),d.memoizedState=S,d.childLanes=Js(t,T,a),i.memoizedState=Ys,s):(Un(i),a=t.child,t=a.sibling,a=an(a,{mode:"visible",children:s.children}),a.return=i,a.sibling=null,t!==null&&(T=i.deletions,T===null?(i.deletions=[t],i.flags|=16):T.push(t)),i.child=a,i.memoizedState=null,a)}function Zs(t,i){return i=Ra({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Ra(t,i){return t=xt(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Ks(t,i,a){return Zi(i,t.child,null,a),t=Zs(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function em(t,i,a){t.lanes|=i;var s=t.alternate;s!==null&&(s.lanes|=i),ms(t.return,i,a)}function Xs(t,i,a,s,d){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:d}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=s,g.tail=a,g.tailMode=d)}function tm(t,i,a){var s=i.pendingProps,d=s.revealOrder,g=s.tail;if(ot(t,i,s.children,a),s=je.current,(s&2)!==0)s=s&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&em(t,a,i);else if(t.tag===19)em(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}switch(K(je,s),d){case"forwards":for(a=i.child,d=null;a!==null;)t=a.alternate,t!==null&&Ea(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),Xs(i,!1,d,a,g);break;case"backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(t=d.alternate,t!==null&&Ea(t)===null){i.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}Xs(i,!0,a,null,g);break;case"together":Xs(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function mn(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),zn|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Pl(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(o(153));if(i.child!==null){for(t=i.child,a=an(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=an(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Qs(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&sa(t)))}function kv(t,i,a){switch(i.tag){case 3:Be(i,i.stateNode.containerInfo),wn(i,We,t.memoizedState.cache),Bl();break;case 27:case 5:br(i);break;case 4:Be(i,i.stateNode.containerInfo);break;case 10:wn(i,i.type,i.memoizedProps.value);break;case 13:var s=i.memoizedState;if(s!==null)return s.dehydrated!==null?(Un(i),i.flags|=128,null):(a&i.child.childLanes)!==0?jd(t,i,a):(Un(i),t=mn(t,i,a),t!==null?t.sibling:null);Un(i);break;case 19:var d=(t.flags&128)!==0;if(s=(a&i.childLanes)!==0,s||(Pl(t,i,a,!1),s=(a&i.childLanes)!==0),d){if(s)return tm(t,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),K(je,je.current),s)break;return null;case 22:case 23:return i.lanes=0,Zd(t,i,a);case 24:wn(i,We,t.memoizedState.cache)}return mn(t,i,a)}function nm(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)tt=!0;else{if(!Qs(t,a)&&(i.flags&128)===0)return tt=!1,kv(t,i,a);tt=(t.flags&131072)!==0}else tt=!1,Re&&(i.flags&1048576)!==0&&kf(i,ra,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var s=i.elementType,d=s._init;if(s=d(s._payload),i.type=s,typeof s=="function")as(s)?(t=hi(s,t),i.tag=1,i=Qd(null,i,s,t,a)):(i.tag=0,i=Fs(null,i,s,t,a));else{if(s!=null){if(d=s.$$typeof,d===J){i.tag=11,i=Yd(null,i,s,t,a);break e}else if(d===ne){i.tag=14,i=$d(null,i,s,t,a);break e}}throw i=lt(s)||s,Error(o(306,i,""))}}return i;case 0:return Fs(t,i,i.type,i.pendingProps,a);case 1:return s=i.type,d=hi(s,i.pendingProps),Qd(t,i,s,d,a);case 3:e:{if(Be(i,i.stateNode.containerInfo),t===null)throw Error(o(387));s=i.pendingProps;var g=i.memoizedState;d=g.element,Cs(t,i),Zl(i,s,null,a);var T=i.memoizedState;if(s=T.cache,wn(i,We,s),s!==g.cache&&ps(i,[We],a,!0),Jl(),s=T.element,g.isDehydrated)if(g={element:s,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=Wd(t,i,s,a);break e}else if(s!==d){d=Dt(Error(o(424)),i),zl(d),i=Wd(t,i,s,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(He=Gt(t.firstChild),ft=i,Re=!0,ui=null,Jt=!0,a=Ud(i,null,s,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Bl(),s===d){i=mn(t,i,a);break e}ot(t,i,s,a)}i=i.child}return i;case 26:return Ma(t,i),t===null?(a=ap(i.type,null,i.pendingProps,null))?i.memoizedState=a:Re||(a=i.type,t=i.pendingProps,s=Ga(pe.current).createElement(a),s[st]=i,s[pt]=t,rt(s,a,t),et(s),i.stateNode=s):i.memoizedState=ap(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return br(i),t===null&&Re&&(s=i.stateNode=ip(i.type,i.pendingProps,pe.current),ft=i,Jt=!0,d=He,Fn(i.type)?(Du=d,He=Gt(s.firstChild)):He=d),ot(t,i,i.pendingProps.children,a),Ma(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Re&&((d=s=He)&&(s=a0(s,i.type,i.pendingProps,Jt),s!==null?(i.stateNode=s,ft=i,He=Gt(s.firstChild),Jt=!1,d=!0):d=!1),d||ci(i)),br(i),d=i.type,g=i.pendingProps,T=t!==null?t.memoizedProps:null,s=g.children,Mu(d,g)?s=null:T!==null&&Mu(d,T)&&(i.flags|=32),i.memoizedState!==null&&(d=bs(t,i,Ev,null,null,a),yo._currentValue=d),Ma(t,i),ot(t,i,s,a),i.child;case 6:return t===null&&Re&&((t=a=He)&&(a=r0(a,i.pendingProps,Jt),a!==null?(i.stateNode=a,ft=i,He=null,t=!0):t=!1),t||ci(i)),null;case 13:return jd(t,i,a);case 4:return Be(i,i.stateNode.containerInfo),s=i.pendingProps,t===null?i.child=Zi(i,null,s,a):ot(t,i,s,a),i.child;case 11:return Yd(t,i,i.type,i.pendingProps,a);case 7:return ot(t,i,i.pendingProps,a),i.child;case 8:return ot(t,i,i.pendingProps.children,a),i.child;case 12:return ot(t,i,i.pendingProps.children,a),i.child;case 10:return s=i.pendingProps,wn(i,i.type,s.value),ot(t,i,s.children,a),i.child;case 9:return d=i.type._context,s=i.pendingProps.children,di(i),d=ut(d),s=s(d),i.flags|=1,ot(t,i,s,a),i.child;case 14:return $d(t,i,i.type,i.pendingProps,a);case 15:return Jd(t,i,i.type,i.pendingProps,a);case 19:return tm(t,i,a);case 31:return s=i.pendingProps,a=i.mode,s={mode:s.mode,children:s.children},t===null?(a=Ra(s,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=an(t.child,s),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Zd(t,i,a);case 24:return di(i),s=ut(We),t===null?(d=ys(),d===null&&(d=Ve,g=hs(),d.pooledCache=g,g.refCount++,g!==null&&(d.pooledCacheLanes|=a),d=g),i.memoizedState={parent:s,cache:d},Ts(i),wn(i,We,d)):((t.lanes&a)!==0&&(Cs(t,i),Zl(i,null,null,a),Jl()),d=t.memoizedState,g=i.memoizedState,d.parent!==s?(d={parent:s,cache:s},i.memoizedState=d,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=d),wn(i,We,s)):(s=g.cache,wn(i,We,s),s!==d.cache&&ps(i,[We],a,!0))),ot(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(o(156,i.tag))}function pn(t){t.flags|=4}function im(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!fp(i)){if(i=Lt.current,i!==null&&((Ee&4194048)===Ee?Zt!==null:(Ee&62914560)!==Ee&&(Ee&536870912)===0||i!==Zt))throw Yl=vs,zf;t.flags|=8192}}function wa(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Uc():536870912,t.lanes|=i,Wi|=i)}function to(t,i){if(!Re)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function Pe(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,s=0;if(i)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,s|=d.subtreeFlags&65011712,s|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,s|=d.subtreeFlags,s|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=s,t.childLanes=a,i}function Iv(t,i,a){var s=i.pendingProps;switch(cs(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(i),null;case 1:return Pe(i),null;case 3:return a=i.stateNode,s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),cn(We),An(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ol(i)?pn(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Lf())),Pe(i),null;case 26:return a=i.memoizedState,t===null?(pn(i),a!==null?(Pe(i),im(i,a)):(Pe(i),i.flags&=-16777217)):a?a!==t.memoizedState?(pn(i),Pe(i),im(i,a)):(Pe(i),i.flags&=-16777217):(t.memoizedProps!==s&&pn(i),Pe(i),i.flags&=-16777217),null;case 27:zo(i),a=pe.current;var d=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==s&&pn(i);else{if(!s){if(i.stateNode===null)throw Error(o(166));return Pe(i),null}t=ae.current,Ol(i)?If(i):(t=ip(d,s,a),i.stateNode=t,pn(i))}return Pe(i),null;case 5:if(zo(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==s&&pn(i);else{if(!s){if(i.stateNode===null)throw Error(o(166));return Pe(i),null}if(t=ae.current,Ol(i))If(i);else{switch(d=Ga(pe.current),t){case 1:t=d.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=d.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=d.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof s.is=="string"?d.createElement("select",{is:s.is}):d.createElement("select"),s.multiple?t.multiple=!0:s.size&&(t.size=s.size);break;default:t=typeof s.is=="string"?d.createElement(a,{is:s.is}):d.createElement(a)}}t[st]=i,t[pt]=s;e:for(d=i.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===i)break e;for(;d.sibling===null;){if(d.return===null||d.return===i)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}i.stateNode=t;e:switch(rt(t,a,s),a){case"button":case"input":case"select":case"textarea":t=!!s.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&pn(i)}}return Pe(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==s&&pn(i);else{if(typeof s!="string"&&i.stateNode===null)throw Error(o(166));if(t=pe.current,Ol(i)){if(t=i.stateNode,a=i.memoizedProps,s=null,d=ft,d!==null)switch(d.tag){case 27:case 5:s=d.memoizedProps}t[st]=i,t=!!(t.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||Xm(t.nodeValue,a)),t||ci(i)}else t=Ga(t).createTextNode(s),t[st]=i,i.stateNode=t}return Pe(i),null;case 13:if(s=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=Ol(i),s!==null&&s.dehydrated!==null){if(t===null){if(!d)throw Error(o(318));if(d=i.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));d[st]=i}else Bl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Pe(i),d=!1}else d=Lf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return i.flags&256?(dn(i),i):(dn(i),null)}if(dn(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=s!==null,t=t!==null&&t.memoizedState!==null,a){s=i.child,d=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(d=s.alternate.memoizedState.cachePool.pool);var g=null;s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(g=s.memoizedState.cachePool.pool),g!==d&&(s.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),wa(i,i.updateQueue),Pe(i),null;case 4:return An(),t===null&&_u(i.stateNode.containerInfo),Pe(i),null;case 10:return cn(i.type),Pe(i),null;case 19:if(W(je),d=i.memoizedState,d===null)return Pe(i),null;if(s=(i.flags&128)!==0,g=d.rendering,g===null)if(s)to(d,!1);else{if(Fe!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(g=Ea(t),g!==null){for(i.flags|=128,to(d,!1),t=g.updateQueue,i.updateQueue=t,wa(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Df(a,t),a=a.sibling;return K(je,je.current&1|2),i.child}t=t.sibling}d.tail!==null&&$t()>ka&&(i.flags|=128,s=!0,to(d,!1),i.lanes=4194304)}else{if(!s)if(t=Ea(g),t!==null){if(i.flags|=128,s=!0,t=t.updateQueue,i.updateQueue=t,wa(i,t),to(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!Re)return Pe(i),null}else 2*$t()-d.renderingStartTime>ka&&a!==536870912&&(i.flags|=128,s=!0,to(d,!1),i.lanes=4194304);d.isBackwards?(g.sibling=i.child,i.child=g):(t=d.last,t!==null?t.sibling=g:i.child=g,d.last=g)}return d.tail!==null?(i=d.tail,d.rendering=i,d.tail=i.sibling,d.renderingStartTime=$t(),i.sibling=null,t=je.current,K(je,s?t&1|2:t&1),i):(Pe(i),null);case 22:case 23:return dn(i),Es(),s=i.memoizedState!==null,t!==null?t.memoizedState!==null!==s&&(i.flags|=8192):s&&(i.flags|=8192),s?(a&536870912)!==0&&(i.flags&128)===0&&(Pe(i),i.subtreeFlags&6&&(i.flags|=8192)):Pe(i),a=i.updateQueue,a!==null&&wa(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),s=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==a&&(i.flags|=2048),t!==null&&W(mi),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),cn(We),Pe(i),null;case 25:return null;case 30:return null}throw Error(o(156,i.tag))}function Uv(t,i){switch(cs(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return cn(We),An(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return zo(i),null;case 13:if(dn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(o(340));Bl()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return W(je),null;case 4:return An(),null;case 10:return cn(i.type),null;case 22:case 23:return dn(i),Es(),t!==null&&W(mi),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return cn(We),null;case 25:return null;default:return null}}function lm(t,i){switch(cs(i),i.tag){case 3:cn(We),An();break;case 26:case 27:case 5:zo(i);break;case 4:An();break;case 13:dn(i);break;case 19:W(je);break;case 10:cn(i.type);break;case 22:case 23:dn(i),Es(),t!==null&&W(mi);break;case 24:cn(We)}}function no(t,i){try{var a=i.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var d=s.next;a=d;do{if((a.tag&t)===t){s=void 0;var g=a.create,T=a.inst;s=g(),T.destroy=s}a=a.next}while(a!==d)}}catch(S){Le(i,i.return,S)}}function Vn(t,i,a){try{var s=i.updateQueue,d=s!==null?s.lastEffect:null;if(d!==null){var g=d.next;s=g;do{if((s.tag&t)===t){var T=s.inst,S=T.destroy;if(S!==void 0){T.destroy=void 0,d=i;var A=a,I=S;try{I()}catch(O){Le(d,A,O)}}}s=s.next}while(s!==g)}}catch(O){Le(i,i.return,O)}}function om(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{$f(i,a)}catch(s){Le(t,t.return,s)}}}function am(t,i,a){a.props=hi(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(s){Le(t,i,s)}}function io(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var s=t.stateNode;break;case 30:s=t.stateNode;break;default:s=t.stateNode}typeof a=="function"?t.refCleanup=a(s):a.current=s}}catch(d){Le(t,i,d)}}function Kt(t,i){var a=t.ref,s=t.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(d){Le(t,i,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){Le(t,i,d)}else a.current=null}function rm(t){var i=t.type,a=t.memoizedProps,s=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(d){Le(t,t.return,d)}}function Ws(t,i,a){try{var s=t.stateNode;t0(s,t.type,a,i),s[pt]=i}catch(d){Le(t,t.return,d)}}function sm(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Fn(t.type)||t.tag===4}function js(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||sm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Fn(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function eu(t,i,a){var s=t.tag;if(s===5||s===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Pa));else if(s!==4&&(s===27&&Fn(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(eu(t,i,a),t=t.sibling;t!==null;)eu(t,i,a),t=t.sibling}function Na(t,i,a){var s=t.tag;if(s===5||s===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(s!==4&&(s===27&&Fn(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Na(t,i,a),t=t.sibling;t!==null;)Na(t,i,a),t=t.sibling}function um(t){var i=t.stateNode,a=t.memoizedProps;try{for(var s=t.type,d=i.attributes;d.length;)i.removeAttributeNode(d[0]);rt(i,s,a),i[st]=t,i[pt]=a}catch(g){Le(t,t.return,g)}}var hn=!1,$e=!1,tu=!1,cm=typeof WeakSet=="function"?WeakSet:Set,nt=null;function Lv(t,i){if(t=t.containerInfo,Au=Za,t=Sf(t),jr(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var d=s.anchorOffset,g=s.focusNode;s=s.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var T=0,S=-1,A=-1,I=0,O=0,G=t,U=null;t:for(;;){for(var V;G!==a||d!==0&&G.nodeType!==3||(S=T+d),G!==g||s!==0&&G.nodeType!==3||(A=T+s),G.nodeType===3&&(T+=G.nodeValue.length),(V=G.firstChild)!==null;)U=G,G=V;for(;;){if(G===t)break t;if(U===a&&++I===d&&(S=T),U===g&&++O===s&&(A=T),(V=G.nextSibling)!==null)break;G=U,U=G.parentNode}G=V}a=S===-1||A===-1?null:{start:S,end:A}}else a=null}a=a||{start:0,end:0}}else a=null;for(bu={focusedElem:t,selectionRange:a},Za=!1,nt=i;nt!==null;)if(i=nt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,nt=t;else for(;nt!==null;){switch(i=nt,g=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&g!==null){t=void 0,a=i,d=g.memoizedProps,g=g.memoizedState,s=a.stateNode;try{var ce=hi(a.type,d,a.elementType===a.type);t=s.getSnapshotBeforeUpdate(ce,g),s.__reactInternalSnapshotBeforeUpdate=t}catch(re){Le(a,a.return,re)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)wu(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":wu(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(o(163))}if(t=i.sibling,t!==null){t.return=i.return,nt=t;break}nt=i.return}}function fm(t,i,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:qn(t,a),s&4&&no(5,a);break;case 1:if(qn(t,a),s&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(T){Le(a,a.return,T)}else{var d=hi(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(d,i,t.__reactInternalSnapshotBeforeUpdate)}catch(T){Le(a,a.return,T)}}s&64&&om(a),s&512&&io(a,a.return);break;case 3:if(qn(t,a),s&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{$f(t,i)}catch(T){Le(a,a.return,T)}}break;case 27:i===null&&s&4&&um(a);case 26:case 5:qn(t,a),i===null&&s&4&&rm(a),s&512&&io(a,a.return);break;case 12:qn(t,a);break;case 13:qn(t,a),s&4&&pm(t,a),s&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Fv.bind(null,a),s0(t,a))));break;case 22:if(s=a.memoizedState!==null||hn,!s){i=i!==null&&i.memoizedState!==null||$e,d=hn;var g=$e;hn=s,($e=i)&&!g?On(t,a,(a.subtreeFlags&8772)!==0):qn(t,a),hn=d,$e=g}break;case 30:break;default:qn(t,a)}}function dm(t){var i=t.alternate;i!==null&&(t.alternate=null,dm(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Ur(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ze=null,yt=!1;function gn(t,i,a){for(a=a.child;a!==null;)mm(t,i,a),a=a.sibling}function mm(t,i,a){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(El,a)}catch{}switch(a.tag){case 26:$e||Kt(a,i),gn(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:$e||Kt(a,i);var s=ze,d=yt;Fn(a.type)&&(ze=a.stateNode,yt=!1),gn(t,i,a),mo(a.stateNode),ze=s,yt=d;break;case 5:$e||Kt(a,i);case 6:if(s=ze,d=yt,ze=null,gn(t,i,a),ze=s,yt=d,ze!==null)if(yt)try{(ze.nodeType===9?ze.body:ze.nodeName==="HTML"?ze.ownerDocument.body:ze).removeChild(a.stateNode)}catch(g){Le(a,i,g)}else try{ze.removeChild(a.stateNode)}catch(g){Le(a,i,g)}break;case 18:ze!==null&&(yt?(t=ze,tp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),So(t)):tp(ze,a.stateNode));break;case 4:s=ze,d=yt,ze=a.stateNode.containerInfo,yt=!0,gn(t,i,a),ze=s,yt=d;break;case 0:case 11:case 14:case 15:$e||Vn(2,a,i),$e||Vn(4,a,i),gn(t,i,a);break;case 1:$e||(Kt(a,i),s=a.stateNode,typeof s.componentWillUnmount=="function"&&am(a,i,s)),gn(t,i,a);break;case 21:gn(t,i,a);break;case 22:$e=(s=$e)||a.memoizedState!==null,gn(t,i,a),$e=s;break;default:gn(t,i,a)}}function pm(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{So(t)}catch(a){Le(i,i.return,a)}}function Vv(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new cm),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new cm),i;default:throw Error(o(435,t.tag))}}function nu(t,i){var a=Vv(t);i.forEach(function(s){var d=Yv.bind(null,t,s);a.has(s)||(a.add(s),s.then(d,d))})}function Et(t,i){var a=i.deletions;if(a!==null)for(var s=0;s<a.length;s++){var d=a[s],g=t,T=i,S=T;e:for(;S!==null;){switch(S.tag){case 27:if(Fn(S.type)){ze=S.stateNode,yt=!1;break e}break;case 5:ze=S.stateNode,yt=!1;break e;case 3:case 4:ze=S.stateNode.containerInfo,yt=!0;break e}S=S.return}if(ze===null)throw Error(o(160));mm(g,T,d),ze=null,yt=!1,g=d.alternate,g!==null&&(g.return=null),d.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)hm(i,t),i=i.sibling}var Pt=null;function hm(t,i){var a=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Et(i,t),At(t),s&4&&(Vn(3,t,t.return),no(3,t),Vn(5,t,t.return));break;case 1:Et(i,t),At(t),s&512&&($e||a===null||Kt(a,a.return)),s&64&&hn&&(t=t.updateQueue,t!==null&&(s=t.callbacks,s!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var d=Pt;if(Et(i,t),At(t),s&512&&($e||a===null||Kt(a,a.return)),s&4){var g=a!==null?a.memoizedState:null;if(s=t.memoizedState,a===null)if(s===null)if(t.stateNode===null){e:{s=t.type,a=t.memoizedProps,d=d.ownerDocument||d;t:switch(s){case"title":g=d.getElementsByTagName("title")[0],(!g||g[Ml]||g[st]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=d.createElement(s),d.head.insertBefore(g,d.querySelector("head > title"))),rt(g,s,a),g[st]=t,et(g),s=g;break e;case"link":var T=up("link","href",d).get(s+(a.href||""));if(T){for(var S=0;S<T.length;S++)if(g=T[S],g.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&g.getAttribute("rel")===(a.rel==null?null:a.rel)&&g.getAttribute("title")===(a.title==null?null:a.title)&&g.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(S,1);break t}}g=d.createElement(s),rt(g,s,a),d.head.appendChild(g);break;case"meta":if(T=up("meta","content",d).get(s+(a.content||""))){for(S=0;S<T.length;S++)if(g=T[S],g.getAttribute("content")===(a.content==null?null:""+a.content)&&g.getAttribute("name")===(a.name==null?null:a.name)&&g.getAttribute("property")===(a.property==null?null:a.property)&&g.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&g.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(S,1);break t}}g=d.createElement(s),rt(g,s,a),d.head.appendChild(g);break;default:throw Error(o(468,s))}g[st]=t,et(g),s=g}t.stateNode=s}else cp(d,t.type,t.stateNode);else t.stateNode=sp(d,s,t.memoizedProps);else g!==s?(g===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):g.count--,s===null?cp(d,t.type,t.stateNode):sp(d,s,t.memoizedProps)):s===null&&t.stateNode!==null&&Ws(t,t.memoizedProps,a.memoizedProps)}break;case 27:Et(i,t),At(t),s&512&&($e||a===null||Kt(a,a.return)),a!==null&&s&4&&Ws(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Et(i,t),At(t),s&512&&($e||a===null||Kt(a,a.return)),t.flags&32){d=t.stateNode;try{Ni(d,"")}catch(V){Le(t,t.return,V)}}s&4&&t.stateNode!=null&&(d=t.memoizedProps,Ws(t,d,a!==null?a.memoizedProps:d)),s&1024&&(tu=!0);break;case 6:if(Et(i,t),At(t),s&4){if(t.stateNode===null)throw Error(o(162));s=t.memoizedProps,a=t.stateNode;try{a.nodeValue=s}catch(V){Le(t,t.return,V)}}break;case 3:if(Ya=null,d=Pt,Pt=Ha(i.containerInfo),Et(i,t),Pt=d,At(t),s&4&&a!==null&&a.memoizedState.isDehydrated)try{So(i.containerInfo)}catch(V){Le(t,t.return,V)}tu&&(tu=!1,gm(t));break;case 4:s=Pt,Pt=Ha(t.stateNode.containerInfo),Et(i,t),At(t),Pt=s;break;case 12:Et(i,t),At(t);break;case 13:Et(i,t),At(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(su=$t()),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,nu(t,s)));break;case 22:d=t.memoizedState!==null;var A=a!==null&&a.memoizedState!==null,I=hn,O=$e;if(hn=I||d,$e=O||A,Et(i,t),$e=O,hn=I,At(t),s&8192)e:for(i=t.stateNode,i._visibility=d?i._visibility&-2:i._visibility|1,d&&(a===null||A||hn||$e||gi(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){A=a=i;try{if(g=A.stateNode,d)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{S=A.stateNode;var G=A.memoizedProps.style,U=G!=null&&G.hasOwnProperty("display")?G.display:null;S.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(V){Le(A,A.return,V)}}}else if(i.tag===6){if(a===null){A=i;try{A.stateNode.nodeValue=d?"":A.memoizedProps}catch(V){Le(A,A.return,V)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}s&4&&(s=t.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,nu(t,a))));break;case 19:Et(i,t),At(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,nu(t,s)));break;case 30:break;case 21:break;default:Et(i,t),At(t)}}function At(t){var i=t.flags;if(i&2){try{for(var a,s=t.return;s!==null;){if(sm(s)){a=s;break}s=s.return}if(a==null)throw Error(o(160));switch(a.tag){case 27:var d=a.stateNode,g=js(t);Na(t,g,d);break;case 5:var T=a.stateNode;a.flags&32&&(Ni(T,""),a.flags&=-33);var S=js(t);Na(t,S,T);break;case 3:case 4:var A=a.stateNode.containerInfo,I=js(t);eu(t,I,A);break;default:throw Error(o(161))}}catch(O){Le(t,t.return,O)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function gm(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;gm(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function qn(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)fm(t,i.alternate,i),i=i.sibling}function gi(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Vn(4,i,i.return),gi(i);break;case 1:Kt(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&am(i,i.return,a),gi(i);break;case 27:mo(i.stateNode);case 26:case 5:Kt(i,i.return),gi(i);break;case 22:i.memoizedState===null&&gi(i);break;case 30:gi(i);break;default:gi(i)}t=t.sibling}}function On(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var s=i.alternate,d=t,g=i,T=g.flags;switch(g.tag){case 0:case 11:case 15:On(d,g,a),no(4,g);break;case 1:if(On(d,g,a),s=g,d=s.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(I){Le(s,s.return,I)}if(s=g,d=s.updateQueue,d!==null){var S=s.stateNode;try{var A=d.shared.hiddenCallbacks;if(A!==null)for(d.shared.hiddenCallbacks=null,d=0;d<A.length;d++)Yf(A[d],S)}catch(I){Le(s,s.return,I)}}a&&T&64&&om(g),io(g,g.return);break;case 27:um(g);case 26:case 5:On(d,g,a),a&&s===null&&T&4&&rm(g),io(g,g.return);break;case 12:On(d,g,a);break;case 13:On(d,g,a),a&&T&4&&pm(d,g);break;case 22:g.memoizedState===null&&On(d,g,a),io(g,g.return);break;case 30:break;default:On(d,g,a)}i=i.sibling}}function iu(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Gl(a))}function lu(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Gl(t))}function Xt(t,i,a,s){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)ym(t,i,a,s),i=i.sibling}function ym(t,i,a,s){var d=i.flags;switch(i.tag){case 0:case 11:case 15:Xt(t,i,a,s),d&2048&&no(9,i);break;case 1:Xt(t,i,a,s);break;case 3:Xt(t,i,a,s),d&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Gl(t)));break;case 12:if(d&2048){Xt(t,i,a,s),t=i.stateNode;try{var g=i.memoizedProps,T=g.id,S=g.onPostCommit;typeof S=="function"&&S(T,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(A){Le(i,i.return,A)}}else Xt(t,i,a,s);break;case 13:Xt(t,i,a,s);break;case 23:break;case 22:g=i.stateNode,T=i.alternate,i.memoizedState!==null?g._visibility&2?Xt(t,i,a,s):lo(t,i):g._visibility&2?Xt(t,i,a,s):(g._visibility|=2,Ki(t,i,a,s,(i.subtreeFlags&10256)!==0)),d&2048&&iu(T,i);break;case 24:Xt(t,i,a,s),d&2048&&lu(i.alternate,i);break;default:Xt(t,i,a,s)}}function Ki(t,i,a,s,d){for(d=d&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var g=t,T=i,S=a,A=s,I=T.flags;switch(T.tag){case 0:case 11:case 15:Ki(g,T,S,A,d),no(8,T);break;case 23:break;case 22:var O=T.stateNode;T.memoizedState!==null?O._visibility&2?Ki(g,T,S,A,d):lo(g,T):(O._visibility|=2,Ki(g,T,S,A,d)),d&&I&2048&&iu(T.alternate,T);break;case 24:Ki(g,T,S,A,d),d&&I&2048&&lu(T.alternate,T);break;default:Ki(g,T,S,A,d)}i=i.sibling}}function lo(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,s=i,d=s.flags;switch(s.tag){case 22:lo(a,s),d&2048&&iu(s.alternate,s);break;case 24:lo(a,s),d&2048&&lu(s.alternate,s);break;default:lo(a,s)}i=i.sibling}}var oo=8192;function Xi(t){if(t.subtreeFlags&oo)for(t=t.child;t!==null;)vm(t),t=t.sibling}function vm(t){switch(t.tag){case 26:Xi(t),t.flags&oo&&t.memoizedState!==null&&S0(Pt,t.memoizedState,t.memoizedProps);break;case 5:Xi(t);break;case 3:case 4:var i=Pt;Pt=Ha(t.stateNode.containerInfo),Xi(t),Pt=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=oo,oo=16777216,Xi(t),oo=i):Xi(t));break;default:Xi(t)}}function Tm(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function ao(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var s=i[a];nt=s,Sm(s,t)}Tm(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Cm(t),t=t.sibling}function Cm(t){switch(t.tag){case 0:case 11:case 15:ao(t),t.flags&2048&&Vn(9,t,t.return);break;case 3:ao(t);break;case 12:ao(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Da(t)):ao(t);break;default:ao(t)}}function Da(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var s=i[a];nt=s,Sm(s,t)}Tm(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Vn(8,i,i.return),Da(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Da(i));break;default:Da(i)}t=t.sibling}}function Sm(t,i){for(;nt!==null;){var a=nt;switch(a.tag){case 0:case 11:case 15:Vn(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Gl(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,nt=s;else e:for(a=t;nt!==null;){s=nt;var d=s.sibling,g=s.return;if(dm(s),s===a){nt=null;break e}if(d!==null){d.return=g,nt=d;break e}nt=g}}}var qv={getCacheForType:function(t){var i=ut(We),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},Ov=typeof WeakMap=="function"?WeakMap:Map,we=0,Ve=null,Se=null,Ee=0,Ne=0,bt=null,Bn=!1,Qi=!1,ou=!1,yn=0,Fe=0,zn=0,yi=0,au=0,Vt=0,Wi=0,ro=null,vt=null,ru=!1,su=0,ka=1/0,Ia=null,Pn=null,at=0,Gn=null,ji=null,el=0,uu=0,cu=null,_m=null,so=0,fu=null;function Mt(){if((we&2)!==0&&Ee!==0)return Ee&-Ee;if(z.T!==null){var t=Pi;return t!==0?t:vu()}return qc()}function xm(){Vt===0&&(Vt=(Ee&536870912)===0||Re?Ic():536870912);var t=Lt.current;return t!==null&&(t.flags|=32),Vt}function Rt(t,i,a){(t===Ve&&(Ne===2||Ne===9)||t.cancelPendingCommit!==null)&&(tl(t,0),Hn(t,Ee,Vt,!1)),bl(t,a),((we&2)===0||t!==Ve)&&(t===Ve&&((we&2)===0&&(yi|=a),Fe===4&&Hn(t,Ee,Vt,!1)),Qt(t))}function Em(t,i,a){if((we&6)!==0)throw Error(o(327));var s=!a&&(i&124)===0&&(i&t.expiredLanes)===0||Al(t,i),d=s?Pv(t,i):pu(t,i,!0),g=s;do{if(d===0){Qi&&!s&&Hn(t,i,0,!1);break}else{if(a=t.current.alternate,g&&!Bv(a)){d=pu(t,i,!1),g=!1;continue}if(d===2){if(g=i,t.errorRecoveryDisabledLanes&g)var T=0;else T=t.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var S=t;d=ro;var A=S.current.memoizedState.isDehydrated;if(A&&(tl(S,T).flags|=256),T=pu(S,T,!1),T!==2){if(ou&&!A){S.errorRecoveryDisabledLanes|=g,yi|=g,d=4;break e}g=vt,vt=d,g!==null&&(vt===null?vt=g:vt.push.apply(vt,g))}d=T}if(g=!1,d!==2)continue}}if(d===1){tl(t,0),Hn(t,i,0,!0);break}e:{switch(s=t,g=d,g){case 0:case 1:throw Error(o(345));case 4:if((i&4194048)!==i)break;case 6:Hn(s,i,Vt,!Bn);break e;case 2:vt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((i&62914560)===i&&(d=su+300-$t(),10<d)){if(Hn(s,i,Vt,!Bn),Fo(s,0,!0)!==0)break e;s.timeoutHandle=jm(Am.bind(null,s,a,vt,Ia,ru,i,Vt,yi,Wi,Bn,g,2,-0,0),d);break e}Am(s,a,vt,Ia,ru,i,Vt,yi,Wi,Bn,g,0,-0,0)}}break}while(!0);Qt(t)}function Am(t,i,a,s,d,g,T,S,A,I,O,G,U,V){if(t.timeoutHandle=-1,G=i.subtreeFlags,(G&8192||(G&16785408)===16785408)&&(go={stylesheets:null,count:0,unsuspend:C0},vm(i),G=_0(),G!==null)){t.cancelPendingCommit=G(km.bind(null,t,i,g,a,s,d,T,S,A,O,1,U,V)),Hn(t,g,T,!I);return}km(t,i,g,a,s,d,T,S,A)}function Bv(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var d=a[s],g=d.getSnapshot;d=d.value;try{if(!_t(g(),d))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Hn(t,i,a,s){i&=~au,i&=~yi,t.suspendedLanes|=i,t.pingedLanes&=~i,s&&(t.warmLanes|=i),s=t.expirationTimes;for(var d=i;0<d;){var g=31-St(d),T=1<<g;s[g]=-1,d&=~T}a!==0&&Lc(t,a,i)}function Ua(){return(we&6)===0?(uo(0),!1):!0}function du(){if(Se!==null){if(Ne===0)var t=Se.return;else t=Se,un=fi=null,ws(t),Ji=null,jl=0,t=Se;for(;t!==null;)lm(t.alternate,t),t=t.return;Se=null}}function tl(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,i0(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),du(),Ve=t,Se=a=an(t.current,null),Ee=i,Ne=0,bt=null,Bn=!1,Qi=Al(t,i),ou=!1,Wi=Vt=au=yi=zn=Fe=0,vt=ro=null,ru=!1,(i&8)!==0&&(i|=i&32);var s=t.entangledLanes;if(s!==0)for(t=t.entanglements,s&=i;0<s;){var d=31-St(s),g=1<<d;i|=t[d],s&=~g}return yn=i,na(),a}function bm(t,i){ve=null,z.H=Sa,i===Fl||i===fa?(i=Hf(),Ne=3):i===zf?(i=Hf(),Ne=4):Ne=i===Fd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,bt=i,Se===null&&(Fe=1,ba(t,Dt(i,t.current)))}function Mm(){var t=z.H;return z.H=Sa,t===null?Sa:t}function Rm(){var t=z.A;return z.A=qv,t}function mu(){Fe=4,Bn||(Ee&4194048)!==Ee&&Lt.current!==null||(Qi=!0),(zn&134217727)===0&&(yi&134217727)===0||Ve===null||Hn(Ve,Ee,Vt,!1)}function pu(t,i,a){var s=we;we|=2;var d=Mm(),g=Rm();(Ve!==t||Ee!==i)&&(Ia=null,tl(t,i)),i=!1;var T=Fe;e:do try{if(Ne!==0&&Se!==null){var S=Se,A=bt;switch(Ne){case 8:du(),T=6;break e;case 3:case 2:case 9:case 6:Lt.current===null&&(i=!0);var I=Ne;if(Ne=0,bt=null,nl(t,S,A,I),a&&Qi){T=0;break e}break;default:I=Ne,Ne=0,bt=null,nl(t,S,A,I)}}zv(),T=Fe;break}catch(O){bm(t,O)}while(!0);return i&&t.shellSuspendCounter++,un=fi=null,we=s,z.H=d,z.A=g,Se===null&&(Ve=null,Ee=0,na()),T}function zv(){for(;Se!==null;)wm(Se)}function Pv(t,i){var a=we;we|=2;var s=Mm(),d=Rm();Ve!==t||Ee!==i?(Ia=null,ka=$t()+500,tl(t,i)):Qi=Al(t,i);e:do try{if(Ne!==0&&Se!==null){i=Se;var g=bt;t:switch(Ne){case 1:Ne=0,bt=null,nl(t,i,g,1);break;case 2:case 9:if(Pf(g)){Ne=0,bt=null,Nm(i);break}i=function(){Ne!==2&&Ne!==9||Ve!==t||(Ne=7),Qt(t)},g.then(i,i);break e;case 3:Ne=7;break e;case 4:Ne=5;break e;case 7:Pf(g)?(Ne=0,bt=null,Nm(i)):(Ne=0,bt=null,nl(t,i,g,7));break;case 5:var T=null;switch(Se.tag){case 26:T=Se.memoizedState;case 5:case 27:var S=Se;if(!T||fp(T)){Ne=0,bt=null;var A=S.sibling;if(A!==null)Se=A;else{var I=S.return;I!==null?(Se=I,La(I)):Se=null}break t}}Ne=0,bt=null,nl(t,i,g,5);break;case 6:Ne=0,bt=null,nl(t,i,g,6);break;case 8:du(),Fe=6;break e;default:throw Error(o(462))}}Gv();break}catch(O){bm(t,O)}while(!0);return un=fi=null,z.H=s,z.A=d,we=a,Se!==null?0:(Ve=null,Ee=0,na(),Fe)}function Gv(){for(;Se!==null&&!cy();)wm(Se)}function wm(t){var i=nm(t.alternate,t,yn);t.memoizedProps=t.pendingProps,i===null?La(t):Se=i}function Nm(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Xd(a,i,i.pendingProps,i.type,void 0,Ee);break;case 11:i=Xd(a,i,i.pendingProps,i.type.render,i.ref,Ee);break;case 5:ws(i);default:lm(a,i),i=Se=Df(i,yn),i=nm(a,i,yn)}t.memoizedProps=t.pendingProps,i===null?La(t):Se=i}function nl(t,i,a,s){un=fi=null,ws(i),Ji=null,jl=0;var d=i.return;try{if(Dv(t,d,i,a,Ee)){Fe=1,ba(t,Dt(a,t.current)),Se=null;return}}catch(g){if(d!==null)throw Se=d,g;Fe=1,ba(t,Dt(a,t.current)),Se=null;return}i.flags&32768?(Re||s===1?t=!0:Qi||(Ee&536870912)!==0?t=!1:(Bn=t=!0,(s===2||s===9||s===3||s===6)&&(s=Lt.current,s!==null&&s.tag===13&&(s.flags|=16384))),Dm(i,t)):La(i)}function La(t){var i=t;do{if((i.flags&32768)!==0){Dm(i,Bn);return}t=i.return;var a=Iv(i.alternate,i,yn);if(a!==null){Se=a;return}if(i=i.sibling,i!==null){Se=i;return}Se=i=t}while(i!==null);Fe===0&&(Fe=5)}function Dm(t,i){do{var a=Uv(t.alternate,t);if(a!==null){a.flags&=32767,Se=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Se=t;return}Se=t=a}while(t!==null);Fe=6,Se=null}function km(t,i,a,s,d,g,T,S,A){t.cancelPendingCommit=null;do Va();while(at!==0);if((we&6)!==0)throw Error(o(327));if(i!==null){if(i===t.current)throw Error(o(177));if(g=i.lanes|i.childLanes,g|=ls,Cy(t,a,g,T,S,A),t===Ve&&(Se=Ve=null,Ee=0),ji=i,Gn=t,el=a,uu=g,cu=d,_m=s,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,$v(Po,function(){return qm(),null})):(t.callbackNode=null,t.callbackPriority=0),s=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||s){s=z.T,z.T=null,d=X.p,X.p=2,T=we,we|=4;try{Lv(t,i,a)}finally{we=T,X.p=d,z.T=s}}at=1,Im(),Um(),Lm()}}function Im(){if(at===1){at=0;var t=Gn,i=ji,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=z.T,z.T=null;var s=X.p;X.p=2;var d=we;we|=4;try{hm(i,t);var g=bu,T=Sf(t.containerInfo),S=g.focusedElem,A=g.selectionRange;if(T!==S&&S&&S.ownerDocument&&Cf(S.ownerDocument.documentElement,S)){if(A!==null&&jr(S)){var I=A.start,O=A.end;if(O===void 0&&(O=I),"selectionStart"in S)S.selectionStart=I,S.selectionEnd=Math.min(O,S.value.length);else{var G=S.ownerDocument||document,U=G&&G.defaultView||window;if(U.getSelection){var V=U.getSelection(),ce=S.textContent.length,re=Math.min(A.start,ce),Ie=A.end===void 0?re:Math.min(A.end,ce);!V.extend&&re>Ie&&(T=Ie,Ie=re,re=T);var w=Tf(S,re),R=Tf(S,Ie);if(w&&R&&(V.rangeCount!==1||V.anchorNode!==w.node||V.anchorOffset!==w.offset||V.focusNode!==R.node||V.focusOffset!==R.offset)){var k=G.createRange();k.setStart(w.node,w.offset),V.removeAllRanges(),re>Ie?(V.addRange(k),V.extend(R.node,R.offset)):(k.setEnd(R.node,R.offset),V.addRange(k))}}}}for(G=[],V=S;V=V.parentNode;)V.nodeType===1&&G.push({element:V,left:V.scrollLeft,top:V.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<G.length;S++){var P=G[S];P.element.scrollLeft=P.left,P.element.scrollTop=P.top}}Za=!!Au,bu=Au=null}finally{we=d,X.p=s,z.T=a}}t.current=i,at=2}}function Um(){if(at===2){at=0;var t=Gn,i=ji,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=z.T,z.T=null;var s=X.p;X.p=2;var d=we;we|=4;try{fm(t,i.alternate,i)}finally{we=d,X.p=s,z.T=a}}at=3}}function Lm(){if(at===4||at===3){at=0,fy();var t=Gn,i=ji,a=el,s=_m;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?at=5:(at=0,ji=Gn=null,Vm(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(Pn=null),kr(a),i=i.stateNode,Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(El,i,void 0,(i.current.flags&128)===128)}catch{}if(s!==null){i=z.T,d=X.p,X.p=2,z.T=null;try{for(var g=t.onRecoverableError,T=0;T<s.length;T++){var S=s[T];g(S.value,{componentStack:S.stack})}}finally{z.T=i,X.p=d}}(el&3)!==0&&Va(),Qt(t),d=t.pendingLanes,(a&4194090)!==0&&(d&42)!==0?t===fu?so++:(so=0,fu=t):so=0,uo(0)}}function Vm(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Gl(i)))}function Va(t){return Im(),Um(),Lm(),qm()}function qm(){if(at!==5)return!1;var t=Gn,i=uu;uu=0;var a=kr(el),s=z.T,d=X.p;try{X.p=32>a?32:a,z.T=null,a=cu,cu=null;var g=Gn,T=el;if(at=0,ji=Gn=null,el=0,(we&6)!==0)throw Error(o(331));var S=we;if(we|=4,Cm(g.current),ym(g,g.current,T,a),we=S,uo(0,!1),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(El,g)}catch{}return!0}finally{X.p=d,z.T=s,Vm(t,i)}}function Om(t,i,a){i=Dt(a,i),i=Hs(t.stateNode,i,2),t=kn(t,i,2),t!==null&&(bl(t,2),Qt(t))}function Le(t,i,a){if(t.tag===3)Om(t,t,a);else for(;i!==null;){if(i.tag===3){Om(i,t,a);break}else if(i.tag===1){var s=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Pn===null||!Pn.has(s))){t=Dt(a,t),a=Gd(2),s=kn(i,a,2),s!==null&&(Hd(a,s,i,t),bl(s,2),Qt(s));break}}i=i.return}}function hu(t,i,a){var s=t.pingCache;if(s===null){s=t.pingCache=new Ov;var d=new Set;s.set(i,d)}else d=s.get(i),d===void 0&&(d=new Set,s.set(i,d));d.has(a)||(ou=!0,d.add(a),t=Hv.bind(null,t,i,a),i.then(t,t))}function Hv(t,i,a){var s=t.pingCache;s!==null&&s.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Ve===t&&(Ee&a)===a&&(Fe===4||Fe===3&&(Ee&62914560)===Ee&&300>$t()-su?(we&2)===0&&tl(t,0):au|=a,Wi===Ee&&(Wi=0)),Qt(t)}function Bm(t,i){i===0&&(i=Uc()),t=qi(t,i),t!==null&&(bl(t,i),Qt(t))}function Fv(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Bm(t,a)}function Yv(t,i){var a=0;switch(t.tag){case 13:var s=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:s=t.stateNode;break;case 22:s=t.stateNode._retryCache;break;default:throw Error(o(314))}s!==null&&s.delete(i),Bm(t,a)}function $v(t,i){return Rr(t,i)}var qa=null,il=null,gu=!1,Oa=!1,yu=!1,vi=0;function Qt(t){t!==il&&t.next===null&&(il===null?qa=il=t:il=il.next=t),Oa=!0,gu||(gu=!0,Zv())}function uo(t,i){if(!yu&&Oa){yu=!0;do for(var a=!1,s=qa;s!==null;){if(t!==0){var d=s.pendingLanes;if(d===0)var g=0;else{var T=s.suspendedLanes,S=s.pingedLanes;g=(1<<31-St(42|t)+1)-1,g&=d&~(T&~S),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(a=!0,Hm(s,g))}else g=Ee,g=Fo(s,s===Ve?g:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(g&3)===0||Al(s,g)||(a=!0,Hm(s,g));s=s.next}while(a);yu=!1}}function Jv(){zm()}function zm(){Oa=gu=!1;var t=0;vi!==0&&(n0()&&(t=vi),vi=0);for(var i=$t(),a=null,s=qa;s!==null;){var d=s.next,g=Pm(s,i);g===0?(s.next=null,a===null?qa=d:a.next=d,d===null&&(il=a)):(a=s,(t!==0||(g&3)!==0)&&(Oa=!0)),s=d}uo(t)}function Pm(t,i){for(var a=t.suspendedLanes,s=t.pingedLanes,d=t.expirationTimes,g=t.pendingLanes&-62914561;0<g;){var T=31-St(g),S=1<<T,A=d[T];A===-1?((S&a)===0||(S&s)!==0)&&(d[T]=Ty(S,i)):A<=i&&(t.expiredLanes|=S),g&=~S}if(i=Ve,a=Ee,a=Fo(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s=t.callbackNode,a===0||t===i&&(Ne===2||Ne===9)||t.cancelPendingCommit!==null)return s!==null&&s!==null&&wr(s),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Al(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(s!==null&&wr(s),kr(a)){case 2:case 8:a=Dc;break;case 32:a=Po;break;case 268435456:a=kc;break;default:a=Po}return s=Gm.bind(null,t),a=Rr(a,s),t.callbackPriority=i,t.callbackNode=a,i}return s!==null&&s!==null&&wr(s),t.callbackPriority=2,t.callbackNode=null,2}function Gm(t,i){if(at!==0&&at!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Va()&&t.callbackNode!==a)return null;var s=Ee;return s=Fo(t,t===Ve?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s===0?null:(Em(t,s,i),Pm(t,$t()),t.callbackNode!=null&&t.callbackNode===a?Gm.bind(null,t):null)}function Hm(t,i){if(Va())return null;Em(t,i,!0)}function Zv(){l0(function(){(we&6)!==0?Rr(Nc,Jv):zm()})}function vu(){return vi===0&&(vi=Ic()),vi}function Fm(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ko(""+t)}function Ym(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function Kv(t,i,a,s,d){if(i==="submit"&&a&&a.stateNode===d){var g=Fm((d[pt]||null).action),T=s.submitter;T&&(i=(i=T[pt]||null)?Fm(i.formAction):T.getAttribute("formAction"),i!==null&&(g=i,T=null));var S=new jo("action","action",null,s,d);t.push({event:S,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(vi!==0){var A=T?Ym(d,T):new FormData(d);Os(a,{pending:!0,data:A,method:d.method,action:g},null,A)}}else typeof g=="function"&&(S.preventDefault(),A=T?Ym(d,T):new FormData(d),Os(a,{pending:!0,data:A,method:d.method,action:g},g,A))},currentTarget:d}]})}}for(var Tu=0;Tu<is.length;Tu++){var Cu=is[Tu],Xv=Cu.toLowerCase(),Qv=Cu[0].toUpperCase()+Cu.slice(1);zt(Xv,"on"+Qv)}zt(Ef,"onAnimationEnd"),zt(Af,"onAnimationIteration"),zt(bf,"onAnimationStart"),zt("dblclick","onDoubleClick"),zt("focusin","onFocus"),zt("focusout","onBlur"),zt(pv,"onTransitionRun"),zt(hv,"onTransitionStart"),zt(gv,"onTransitionCancel"),zt(Mf,"onTransitionEnd"),Mi("onMouseEnter",["mouseout","mouseover"]),Mi("onMouseLeave",["mouseout","mouseover"]),Mi("onPointerEnter",["pointerout","pointerover"]),Mi("onPointerLeave",["pointerout","pointerover"]),ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var co="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(co));function $m(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var s=t[a],d=s.event;s=s.listeners;e:{var g=void 0;if(i)for(var T=s.length-1;0<=T;T--){var S=s[T],A=S.instance,I=S.currentTarget;if(S=S.listener,A!==g&&d.isPropagationStopped())break e;g=S,d.currentTarget=I;try{g(d)}catch(O){Aa(O)}d.currentTarget=null,g=A}else for(T=0;T<s.length;T++){if(S=s[T],A=S.instance,I=S.currentTarget,S=S.listener,A!==g&&d.isPropagationStopped())break e;g=S,d.currentTarget=I;try{g(d)}catch(O){Aa(O)}d.currentTarget=null,g=A}}}}function _e(t,i){var a=i[Ir];a===void 0&&(a=i[Ir]=new Set);var s=t+"__bubble";a.has(s)||(Jm(i,t,2,!1),a.add(s))}function Su(t,i,a){var s=0;i&&(s|=4),Jm(a,t,s,i)}var Ba="_reactListening"+Math.random().toString(36).slice(2);function _u(t){if(!t[Ba]){t[Ba]=!0,Bc.forEach(function(a){a!=="selectionchange"&&(Wv.has(a)||Su(a,!1,t),Su(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Ba]||(i[Ba]=!0,Su("selectionchange",!1,i))}}function Jm(t,i,a,s){switch(yp(i)){case 2:var d=A0;break;case 8:d=b0;break;default:d=Vu}a=d.bind(null,i,a,t),d=void 0,!Fr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),s?d!==void 0?t.addEventListener(i,a,{capture:!0,passive:d}):t.addEventListener(i,a,!0):d!==void 0?t.addEventListener(i,a,{passive:d}):t.addEventListener(i,a,!1)}function xu(t,i,a,s,d){var g=s;if((i&1)===0&&(i&2)===0&&s!==null)e:for(;;){if(s===null)return;var T=s.tag;if(T===3||T===4){var S=s.stateNode.containerInfo;if(S===d)break;if(T===4)for(T=s.return;T!==null;){var A=T.tag;if((A===3||A===4)&&T.stateNode.containerInfo===d)return;T=T.return}for(;S!==null;){if(T=Ei(S),T===null)return;if(A=T.tag,A===5||A===6||A===26||A===27){s=g=T;continue e}S=S.parentNode}}s=s.return}jc(function(){var I=g,O=Gr(a),G=[];e:{var U=Rf.get(t);if(U!==void 0){var V=jo,ce=t;switch(t){case"keypress":if(Qo(a)===0)break e;case"keydown":case"keyup":V=$y;break;case"focusin":ce="focus",V=Zr;break;case"focusout":ce="blur",V=Zr;break;case"beforeblur":case"afterblur":V=Zr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=nf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=Uy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=Ky;break;case Ef:case Af:case bf:V=qy;break;case Mf:V=Qy;break;case"scroll":case"scrollend":V=ky;break;case"wheel":V=jy;break;case"copy":case"cut":case"paste":V=By;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=of;break;case"toggle":case"beforetoggle":V=tv}var re=(i&4)!==0,Ie=!re&&(t==="scroll"||t==="scrollend"),w=re?U!==null?U+"Capture":null:U;re=[];for(var R=I,k;R!==null;){var P=R;if(k=P.stateNode,P=P.tag,P!==5&&P!==26&&P!==27||k===null||w===null||(P=wl(R,w),P!=null&&re.push(fo(R,P,k))),Ie)break;R=R.return}0<re.length&&(U=new V(U,ce,null,a,O),G.push({event:U,listeners:re}))}}if((i&7)===0){e:{if(U=t==="mouseover"||t==="pointerover",V=t==="mouseout"||t==="pointerout",U&&a!==Pr&&(ce=a.relatedTarget||a.fromElement)&&(Ei(ce)||ce[xi]))break e;if((V||U)&&(U=O.window===O?O:(U=O.ownerDocument)?U.defaultView||U.parentWindow:window,V?(ce=a.relatedTarget||a.toElement,V=I,ce=ce?Ei(ce):null,ce!==null&&(Ie=f(ce),re=ce.tag,ce!==Ie||re!==5&&re!==27&&re!==6)&&(ce=null)):(V=null,ce=I),V!==ce)){if(re=nf,P="onMouseLeave",w="onMouseEnter",R="mouse",(t==="pointerout"||t==="pointerover")&&(re=of,P="onPointerLeave",w="onPointerEnter",R="pointer"),Ie=V==null?U:Rl(V),k=ce==null?U:Rl(ce),U=new re(P,R+"leave",V,a,O),U.target=Ie,U.relatedTarget=k,P=null,Ei(O)===I&&(re=new re(w,R+"enter",ce,a,O),re.target=k,re.relatedTarget=Ie,P=re),Ie=P,V&&ce)t:{for(re=V,w=ce,R=0,k=re;k;k=ll(k))R++;for(k=0,P=w;P;P=ll(P))k++;for(;0<R-k;)re=ll(re),R--;for(;0<k-R;)w=ll(w),k--;for(;R--;){if(re===w||w!==null&&re===w.alternate)break t;re=ll(re),w=ll(w)}re=null}else re=null;V!==null&&Zm(G,U,V,re,!1),ce!==null&&Ie!==null&&Zm(G,Ie,ce,re,!0)}}e:{if(U=I?Rl(I):window,V=U.nodeName&&U.nodeName.toLowerCase(),V==="select"||V==="input"&&U.type==="file")var j=mf;else if(ff(U))if(pf)j=fv;else{j=uv;var Te=sv}else V=U.nodeName,!V||V.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?I&&zr(I.elementType)&&(j=mf):j=cv;if(j&&(j=j(t,I))){df(G,j,a,O);break e}Te&&Te(t,U,I),t==="focusout"&&I&&U.type==="number"&&I.memoizedProps.value!=null&&Br(U,"number",U.value)}switch(Te=I?Rl(I):window,t){case"focusin":(ff(Te)||Te.contentEditable==="true")&&(Ui=Te,es=I,ql=null);break;case"focusout":ql=es=Ui=null;break;case"mousedown":ts=!0;break;case"contextmenu":case"mouseup":case"dragend":ts=!1,_f(G,a,O);break;case"selectionchange":if(mv)break;case"keydown":case"keyup":_f(G,a,O)}var le;if(Xr)e:{switch(t){case"compositionstart":var se="onCompositionStart";break e;case"compositionend":se="onCompositionEnd";break e;case"compositionupdate":se="onCompositionUpdate";break e}se=void 0}else Ii?uf(t,a)&&(se="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(se="onCompositionStart");se&&(af&&a.locale!=="ko"&&(Ii||se!=="onCompositionStart"?se==="onCompositionEnd"&&Ii&&(le=ef()):(Rn=O,Yr="value"in Rn?Rn.value:Rn.textContent,Ii=!0)),Te=za(I,se),0<Te.length&&(se=new lf(se,t,null,a,O),G.push({event:se,listeners:Te}),le?se.data=le:(le=cf(a),le!==null&&(se.data=le)))),(le=iv?lv(t,a):ov(t,a))&&(se=za(I,"onBeforeInput"),0<se.length&&(Te=new lf("onBeforeInput","beforeinput",null,a,O),G.push({event:Te,listeners:se}),Te.data=le)),Kv(G,t,I,a,O)}$m(G,i)})}function fo(t,i,a){return{instance:t,listener:i,currentTarget:a}}function za(t,i){for(var a=i+"Capture",s=[];t!==null;){var d=t,g=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||g===null||(d=wl(t,a),d!=null&&s.unshift(fo(t,d,g)),d=wl(t,i),d!=null&&s.push(fo(t,d,g))),t.tag===3)return s;t=t.return}return[]}function ll(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Zm(t,i,a,s,d){for(var g=i._reactName,T=[];a!==null&&a!==s;){var S=a,A=S.alternate,I=S.stateNode;if(S=S.tag,A!==null&&A===s)break;S!==5&&S!==26&&S!==27||I===null||(A=I,d?(I=wl(a,g),I!=null&&T.unshift(fo(a,I,A))):d||(I=wl(a,g),I!=null&&T.push(fo(a,I,A)))),a=a.return}T.length!==0&&t.push({event:i,listeners:T})}var jv=/\r\n?/g,e0=/\u0000|\uFFFD/g;function Km(t){return(typeof t=="string"?t:""+t).replace(jv,`
`).replace(e0,"")}function Xm(t,i){return i=Km(i),Km(t)===i}function Pa(){}function ke(t,i,a,s,d,g){switch(a){case"children":typeof s=="string"?i==="body"||i==="textarea"&&s===""||Ni(t,s):(typeof s=="number"||typeof s=="bigint")&&i!=="body"&&Ni(t,""+s);break;case"className":$o(t,"class",s);break;case"tabIndex":$o(t,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":$o(t,a,s);break;case"style":Qc(t,s,g);break;case"data":if(i!=="object"){$o(t,"data",s);break}case"src":case"href":if(s===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(a);break}s=Ko(""+s),t.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(a==="formAction"?(i!=="input"&&ke(t,i,"name",d.name,d,null),ke(t,i,"formEncType",d.formEncType,d,null),ke(t,i,"formMethod",d.formMethod,d,null),ke(t,i,"formTarget",d.formTarget,d,null)):(ke(t,i,"encType",d.encType,d,null),ke(t,i,"method",d.method,d,null),ke(t,i,"target",d.target,d,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(a);break}s=Ko(""+s),t.setAttribute(a,s);break;case"onClick":s!=null&&(t.onclick=Pa);break;case"onScroll":s!=null&&_e("scroll",t);break;case"onScrollEnd":s!=null&&_e("scrollend",t);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(o(61));if(a=s.__html,a!=null){if(d.children!=null)throw Error(o(60));t.innerHTML=a}}break;case"multiple":t.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":t.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){t.removeAttribute("xlink:href");break}a=Ko(""+s),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(a,""+s):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":s===!0?t.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(a,s):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?t.setAttribute(a,s):t.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?t.removeAttribute(a):t.setAttribute(a,s);break;case"popover":_e("beforetoggle",t),_e("toggle",t),Yo(t,"popover",s);break;case"xlinkActuate":ln(t,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":ln(t,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":ln(t,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":ln(t,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":ln(t,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":ln(t,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":ln(t,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":ln(t,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":ln(t,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Yo(t,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ny.get(a)||a,Yo(t,a,s))}}function Eu(t,i,a,s,d,g){switch(a){case"style":Qc(t,s,g);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(o(61));if(a=s.__html,a!=null){if(d.children!=null)throw Error(o(60));t.innerHTML=a}}break;case"children":typeof s=="string"?Ni(t,s):(typeof s=="number"||typeof s=="bigint")&&Ni(t,""+s);break;case"onScroll":s!=null&&_e("scroll",t);break;case"onScrollEnd":s!=null&&_e("scrollend",t);break;case"onClick":s!=null&&(t.onclick=Pa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zc.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),i=a.slice(2,d?a.length-7:void 0),g=t[pt]||null,g=g!=null?g[a]:null,typeof g=="function"&&t.removeEventListener(i,g,d),typeof s=="function")){typeof g!="function"&&g!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,s,d);break e}a in t?t[a]=s:s===!0?t.setAttribute(a,""):Yo(t,a,s)}}}function rt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_e("error",t),_e("load",t);var s=!1,d=!1,g;for(g in a)if(a.hasOwnProperty(g)){var T=a[g];if(T!=null)switch(g){case"src":s=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:ke(t,i,g,T,a,null)}}d&&ke(t,i,"srcSet",a.srcSet,a,null),s&&ke(t,i,"src",a.src,a,null);return;case"input":_e("invalid",t);var S=g=T=d=null,A=null,I=null;for(s in a)if(a.hasOwnProperty(s)){var O=a[s];if(O!=null)switch(s){case"name":d=O;break;case"type":T=O;break;case"checked":A=O;break;case"defaultChecked":I=O;break;case"value":g=O;break;case"defaultValue":S=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(o(137,i));break;default:ke(t,i,s,O,a,null)}}Jc(t,g,S,A,I,T,d,!1),Jo(t);return;case"select":_e("invalid",t),s=T=g=null;for(d in a)if(a.hasOwnProperty(d)&&(S=a[d],S!=null))switch(d){case"value":g=S;break;case"defaultValue":T=S;break;case"multiple":s=S;default:ke(t,i,d,S,a,null)}i=g,a=T,t.multiple=!!s,i!=null?wi(t,!!s,i,!1):a!=null&&wi(t,!!s,a,!0);return;case"textarea":_e("invalid",t),g=d=s=null;for(T in a)if(a.hasOwnProperty(T)&&(S=a[T],S!=null))switch(T){case"value":s=S;break;case"defaultValue":d=S;break;case"children":g=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(o(91));break;default:ke(t,i,T,S,a,null)}Kc(t,s,d,g),Jo(t);return;case"option":for(A in a)if(a.hasOwnProperty(A)&&(s=a[A],s!=null))switch(A){case"selected":t.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:ke(t,i,A,s,a,null)}return;case"dialog":_e("beforetoggle",t),_e("toggle",t),_e("cancel",t),_e("close",t);break;case"iframe":case"object":_e("load",t);break;case"video":case"audio":for(s=0;s<co.length;s++)_e(co[s],t);break;case"image":_e("error",t),_e("load",t);break;case"details":_e("toggle",t);break;case"embed":case"source":case"link":_e("error",t),_e("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(I in a)if(a.hasOwnProperty(I)&&(s=a[I],s!=null))switch(I){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:ke(t,i,I,s,a,null)}return;default:if(zr(i)){for(O in a)a.hasOwnProperty(O)&&(s=a[O],s!==void 0&&Eu(t,i,O,s,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(s=a[S],s!=null&&ke(t,i,S,s,a,null))}function t0(t,i,a,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,g=null,T=null,S=null,A=null,I=null,O=null;for(V in a){var G=a[V];if(a.hasOwnProperty(V)&&G!=null)switch(V){case"checked":break;case"value":break;case"defaultValue":A=G;default:s.hasOwnProperty(V)||ke(t,i,V,null,s,G)}}for(var U in s){var V=s[U];if(G=a[U],s.hasOwnProperty(U)&&(V!=null||G!=null))switch(U){case"type":g=V;break;case"name":d=V;break;case"checked":I=V;break;case"defaultChecked":O=V;break;case"value":T=V;break;case"defaultValue":S=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(o(137,i));break;default:V!==G&&ke(t,i,U,V,s,G)}}Or(t,T,S,A,I,O,g,d);return;case"select":V=T=S=U=null;for(g in a)if(A=a[g],a.hasOwnProperty(g)&&A!=null)switch(g){case"value":break;case"multiple":V=A;default:s.hasOwnProperty(g)||ke(t,i,g,null,s,A)}for(d in s)if(g=s[d],A=a[d],s.hasOwnProperty(d)&&(g!=null||A!=null))switch(d){case"value":U=g;break;case"defaultValue":S=g;break;case"multiple":T=g;default:g!==A&&ke(t,i,d,g,s,A)}i=S,a=T,s=V,U!=null?wi(t,!!a,U,!1):!!s!=!!a&&(i!=null?wi(t,!!a,i,!0):wi(t,!!a,a?[]:"",!1));return;case"textarea":V=U=null;for(S in a)if(d=a[S],a.hasOwnProperty(S)&&d!=null&&!s.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:ke(t,i,S,null,s,d)}for(T in s)if(d=s[T],g=a[T],s.hasOwnProperty(T)&&(d!=null||g!=null))switch(T){case"value":U=d;break;case"defaultValue":V=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(o(91));break;default:d!==g&&ke(t,i,T,d,s,g)}Zc(t,U,V);return;case"option":for(var ce in a)if(U=a[ce],a.hasOwnProperty(ce)&&U!=null&&!s.hasOwnProperty(ce))switch(ce){case"selected":t.selected=!1;break;default:ke(t,i,ce,null,s,U)}for(A in s)if(U=s[A],V=a[A],s.hasOwnProperty(A)&&U!==V&&(U!=null||V!=null))switch(A){case"selected":t.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:ke(t,i,A,U,s,V)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var re in a)U=a[re],a.hasOwnProperty(re)&&U!=null&&!s.hasOwnProperty(re)&&ke(t,i,re,null,s,U);for(I in s)if(U=s[I],V=a[I],s.hasOwnProperty(I)&&U!==V&&(U!=null||V!=null))switch(I){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(o(137,i));break;default:ke(t,i,I,U,s,V)}return;default:if(zr(i)){for(var Ie in a)U=a[Ie],a.hasOwnProperty(Ie)&&U!==void 0&&!s.hasOwnProperty(Ie)&&Eu(t,i,Ie,void 0,s,U);for(O in s)U=s[O],V=a[O],!s.hasOwnProperty(O)||U===V||U===void 0&&V===void 0||Eu(t,i,O,U,s,V);return}}for(var w in a)U=a[w],a.hasOwnProperty(w)&&U!=null&&!s.hasOwnProperty(w)&&ke(t,i,w,null,s,U);for(G in s)U=s[G],V=a[G],!s.hasOwnProperty(G)||U===V||U==null&&V==null||ke(t,i,G,U,s,V)}var Au=null,bu=null;function Ga(t){return t.nodeType===9?t:t.ownerDocument}function Qm(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wm(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Mu(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ru=null;function n0(){var t=window.event;return t&&t.type==="popstate"?t===Ru?!1:(Ru=t,!0):(Ru=null,!1)}var jm=typeof setTimeout=="function"?setTimeout:void 0,i0=typeof clearTimeout=="function"?clearTimeout:void 0,ep=typeof Promise=="function"?Promise:void 0,l0=typeof queueMicrotask=="function"?queueMicrotask:typeof ep<"u"?function(t){return ep.resolve(null).then(t).catch(o0)}:jm;function o0(t){setTimeout(function(){throw t})}function Fn(t){return t==="head"}function tp(t,i){var a=i,s=0,d=0;do{var g=a.nextSibling;if(t.removeChild(a),g&&g.nodeType===8)if(a=g.data,a==="/$"){if(0<s&&8>s){a=s;var T=t.ownerDocument;if(a&1&&mo(T.documentElement),a&2&&mo(T.body),a&4)for(a=T.head,mo(a),T=a.firstChild;T;){var S=T.nextSibling,A=T.nodeName;T[Ml]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&T.rel.toLowerCase()==="stylesheet"||a.removeChild(T),T=S}}if(d===0){t.removeChild(g),So(i);return}d--}else a==="$"||a==="$?"||a==="$!"?d++:s=a.charCodeAt(0)-48;else s=0;a=g}while(a);So(i)}function wu(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":wu(a),Ur(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function a0(t,i,a,s){for(;t.nodeType===1;){var d=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!s&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(s){if(!t[Ml])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(g=t.getAttribute("rel"),g==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(g!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(g=t.getAttribute("src"),(g!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&g&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var g=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===g)return t}else return t;if(t=Gt(t.nextSibling),t===null)break}return null}function r0(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Gt(t.nextSibling),t===null))return null;return t}function Nu(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function s0(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var s=function(){i(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),t._reactRetry=s}}function Gt(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Du=null;function np(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function ip(t,i,a){switch(i=Ga(a),t){case"html":if(t=i.documentElement,!t)throw Error(o(452));return t;case"head":if(t=i.head,!t)throw Error(o(453));return t;case"body":if(t=i.body,!t)throw Error(o(454));return t;default:throw Error(o(451))}}function mo(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ur(t)}var qt=new Map,lp=new Set;function Ha(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var vn=X.d;X.d={f:u0,r:c0,D:f0,C:d0,L:m0,m:p0,X:g0,S:h0,M:y0};function u0(){var t=vn.f(),i=Ua();return t||i}function c0(t){var i=Ai(t);i!==null&&i.tag===5&&i.type==="form"?Ed(i):vn.r(t)}var ol=typeof document>"u"?null:document;function op(t,i,a){var s=ol;if(s&&typeof i=="string"&&i){var d=Nt(i);d='link[rel="'+t+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),lp.has(d)||(lp.add(d),t={rel:t,crossOrigin:a,href:i},s.querySelector(d)===null&&(i=s.createElement("link"),rt(i,"link",t),et(i),s.head.appendChild(i)))}}function f0(t){vn.D(t),op("dns-prefetch",t,null)}function d0(t,i){vn.C(t,i),op("preconnect",t,i)}function m0(t,i,a){vn.L(t,i,a);var s=ol;if(s&&t&&i){var d='link[rel="preload"][as="'+Nt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+Nt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+Nt(a.imageSizes)+'"]')):d+='[href="'+Nt(t)+'"]';var g=d;switch(i){case"style":g=al(t);break;case"script":g=rl(t)}qt.has(g)||(t=v({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),qt.set(g,t),s.querySelector(d)!==null||i==="style"&&s.querySelector(po(g))||i==="script"&&s.querySelector(ho(g))||(i=s.createElement("link"),rt(i,"link",t),et(i),s.head.appendChild(i)))}}function p0(t,i){vn.m(t,i);var a=ol;if(a&&t){var s=i&&typeof i.as=="string"?i.as:"script",d='link[rel="modulepreload"][as="'+Nt(s)+'"][href="'+Nt(t)+'"]',g=d;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=rl(t)}if(!qt.has(g)&&(t=v({rel:"modulepreload",href:t},i),qt.set(g,t),a.querySelector(d)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ho(g)))return}s=a.createElement("link"),rt(s,"link",t),et(s),a.head.appendChild(s)}}}function h0(t,i,a){vn.S(t,i,a);var s=ol;if(s&&t){var d=bi(s).hoistableStyles,g=al(t);i=i||"default";var T=d.get(g);if(!T){var S={loading:0,preload:null};if(T=s.querySelector(po(g)))S.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":i},a),(a=qt.get(g))&&ku(t,a);var A=T=s.createElement("link");et(A),rt(A,"link",t),A._p=new Promise(function(I,O){A.onload=I,A.onerror=O}),A.addEventListener("load",function(){S.loading|=1}),A.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Fa(T,i,s)}T={type:"stylesheet",instance:T,count:1,state:S},d.set(g,T)}}}function g0(t,i){vn.X(t,i);var a=ol;if(a&&t){var s=bi(a).hoistableScripts,d=rl(t),g=s.get(d);g||(g=a.querySelector(ho(d)),g||(t=v({src:t,async:!0},i),(i=qt.get(d))&&Iu(t,i),g=a.createElement("script"),et(g),rt(g,"link",t),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},s.set(d,g))}}function y0(t,i){vn.M(t,i);var a=ol;if(a&&t){var s=bi(a).hoistableScripts,d=rl(t),g=s.get(d);g||(g=a.querySelector(ho(d)),g||(t=v({src:t,async:!0,type:"module"},i),(i=qt.get(d))&&Iu(t,i),g=a.createElement("script"),et(g),rt(g,"link",t),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},s.set(d,g))}}function ap(t,i,a,s){var d=(d=pe.current)?Ha(d):null;if(!d)throw Error(o(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=al(a.href),a=bi(d).hoistableStyles,s=a.get(i),s||(s={type:"style",instance:null,count:0,state:null},a.set(i,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=al(a.href);var g=bi(d).hoistableStyles,T=g.get(t);if(T||(d=d.ownerDocument||d,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(t,T),(g=d.querySelector(po(t)))&&!g._p&&(T.instance=g,T.state.loading=5),qt.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},qt.set(t,a),g||v0(d,t,a,T.state))),i&&s===null)throw Error(o(528,""));return T}if(i&&s!==null)throw Error(o(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=rl(a),a=bi(d).hoistableScripts,s=a.get(i),s||(s={type:"script",instance:null,count:0,state:null},a.set(i,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,t))}}function al(t){return'href="'+Nt(t)+'"'}function po(t){return'link[rel="stylesheet"]['+t+"]"}function rp(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function v0(t,i,a,s){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?s.loading=1:(i=t.createElement("link"),s.preload=i,i.addEventListener("load",function(){return s.loading|=1}),i.addEventListener("error",function(){return s.loading|=2}),rt(i,"link",a),et(i),t.head.appendChild(i))}function rl(t){return'[src="'+Nt(t)+'"]'}function ho(t){return"script[async]"+t}function sp(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var s=t.querySelector('style[data-href~="'+Nt(a.href)+'"]');if(s)return i.instance=s,et(s),s;var d=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(t.ownerDocument||t).createElement("style"),et(s),rt(s,"style",d),Fa(s,a.precedence,t),i.instance=s;case"stylesheet":d=al(a.href);var g=t.querySelector(po(d));if(g)return i.state.loading|=4,i.instance=g,et(g),g;s=rp(a),(d=qt.get(d))&&ku(s,d),g=(t.ownerDocument||t).createElement("link"),et(g);var T=g;return T._p=new Promise(function(S,A){T.onload=S,T.onerror=A}),rt(g,"link",s),i.state.loading|=4,Fa(g,a.precedence,t),i.instance=g;case"script":return g=rl(a.src),(d=t.querySelector(ho(g)))?(i.instance=d,et(d),d):(s=a,(d=qt.get(g))&&(s=v({},a),Iu(s,d)),t=t.ownerDocument||t,d=t.createElement("script"),et(d),rt(d,"link",s),t.head.appendChild(d),i.instance=d);case"void":return null;default:throw Error(o(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(s=i.instance,i.state.loading|=4,Fa(s,a.precedence,t));return i.instance}function Fa(t,i,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=s.length?s[s.length-1]:null,g=d,T=0;T<s.length;T++){var S=s[T];if(S.dataset.precedence===i)g=S;else if(g!==d)break}g?g.parentNode.insertBefore(t,g.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function ku(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Iu(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Ya=null;function up(t,i,a){if(Ya===null){var s=new Map,d=Ya=new Map;d.set(a,s)}else d=Ya,s=d.get(a),s||(s=new Map,d.set(a,s));if(s.has(t))return s;for(s.set(t,null),a=a.getElementsByTagName(t),d=0;d<a.length;d++){var g=a[d];if(!(g[Ml]||g[st]||t==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(i)||"";T=t+T;var S=s.get(T);S?S.push(g):s.set(T,[g])}}return s}function cp(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function T0(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function fp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var go=null;function C0(){}function S0(t,i,a){if(go===null)throw Error(o(475));var s=go;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var d=al(a.href),g=t.querySelector(po(d));if(g){t=g._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(s.count++,s=$a.bind(s),t.then(s,s)),i.state.loading|=4,i.instance=g,et(g);return}g=t.ownerDocument||t,a=rp(a),(d=qt.get(d))&&ku(a,d),g=g.createElement("link"),et(g);var T=g;T._p=new Promise(function(S,A){T.onload=S,T.onerror=A}),rt(g,"link",a),i.instance=g}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(s.count++,i=$a.bind(s),t.addEventListener("load",i),t.addEventListener("error",i))}}function _0(){if(go===null)throw Error(o(475));var t=go;return t.stylesheets&&t.count===0&&Uu(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&Uu(t,t.stylesheets),t.unsuspend){var s=t.unsuspend;t.unsuspend=null,s()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function $a(){if(this.count--,this.count===0){if(this.stylesheets)Uu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ja=null;function Uu(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ja=new Map,i.forEach(x0,t),Ja=null,$a.call(t))}function x0(t,i){if(!(i.state.loading&4)){var a=Ja.get(t);if(a)var s=a.get(null);else{a=new Map,Ja.set(t,a);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<d.length;g++){var T=d[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),s=T)}s&&a.set(null,s)}d=i.instance,T=d.getAttribute("data-precedence"),g=a.get(T)||s,g===s&&a.set(null,d),a.set(T,d),this.count++,s=$a.bind(this),d.addEventListener("load",s),d.addEventListener("error",s),g?g.parentNode.insertBefore(d,g.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),i.state.loading|=4}}var yo={$$typeof:F,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function E0(t,i,a,s,d,g,T,S){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Nr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nr(0),this.hiddenUpdates=Nr(null),this.identifierPrefix=s,this.onUncaughtError=d,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function dp(t,i,a,s,d,g,T,S,A,I,O,G){return t=new E0(t,i,a,T,S,A,I,G),i=1,g===!0&&(i|=24),g=xt(3,null,null,i),t.current=g,g.stateNode=t,i=hs(),i.refCount++,t.pooledCache=i,i.refCount++,g.memoizedState={element:s,isDehydrated:a,cache:i},Ts(g),t}function mp(t){return t?(t=Oi,t):Oi}function pp(t,i,a,s,d,g){d=mp(d),s.context===null?s.context=d:s.pendingContext=d,s=Dn(i),s.payload={element:a},g=g===void 0?null:g,g!==null&&(s.callback=g),a=kn(t,s,i),a!==null&&(Rt(a,t,i),$l(a,t,i))}function hp(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Lu(t,i){hp(t,i),(t=t.alternate)&&hp(t,i)}function gp(t){if(t.tag===13){var i=qi(t,67108864);i!==null&&Rt(i,t,67108864),Lu(t,67108864)}}var Za=!0;function A0(t,i,a,s){var d=z.T;z.T=null;var g=X.p;try{X.p=2,Vu(t,i,a,s)}finally{X.p=g,z.T=d}}function b0(t,i,a,s){var d=z.T;z.T=null;var g=X.p;try{X.p=8,Vu(t,i,a,s)}finally{X.p=g,z.T=d}}function Vu(t,i,a,s){if(Za){var d=qu(s);if(d===null)xu(t,i,s,Ka,a),vp(t,s);else if(R0(d,t,i,a,s))s.stopPropagation();else if(vp(t,s),i&4&&-1<M0.indexOf(t)){for(;d!==null;){var g=Ai(d);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=ti(g.pendingLanes);if(T!==0){var S=g;for(S.pendingLanes|=2,S.entangledLanes|=2;T;){var A=1<<31-St(T);S.entanglements[1]|=A,T&=~A}Qt(g),(we&6)===0&&(ka=$t()+500,uo(0))}}break;case 13:S=qi(g,2),S!==null&&Rt(S,g,2),Ua(),Lu(g,2)}if(g=qu(s),g===null&&xu(t,i,s,Ka,a),g===d)break;d=g}d!==null&&s.stopPropagation()}else xu(t,i,s,null,a)}}function qu(t){return t=Gr(t),Ou(t)}var Ka=null;function Ou(t){if(Ka=null,t=Ei(t),t!==null){var i=f(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Ka=t,null}function yp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dy()){case Nc:return 2;case Dc:return 8;case Po:case my:return 32;case kc:return 268435456;default:return 32}default:return 32}}var Bu=!1,Yn=null,$n=null,Jn=null,vo=new Map,To=new Map,Zn=[],M0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vp(t,i){switch(t){case"focusin":case"focusout":Yn=null;break;case"dragenter":case"dragleave":$n=null;break;case"mouseover":case"mouseout":Jn=null;break;case"pointerover":case"pointerout":vo.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":To.delete(i.pointerId)}}function Co(t,i,a,s,d,g){return t===null||t.nativeEvent!==g?(t={blockedOn:i,domEventName:a,eventSystemFlags:s,nativeEvent:g,targetContainers:[d]},i!==null&&(i=Ai(i),i!==null&&gp(i)),t):(t.eventSystemFlags|=s,i=t.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),t)}function R0(t,i,a,s,d){switch(i){case"focusin":return Yn=Co(Yn,t,i,a,s,d),!0;case"dragenter":return $n=Co($n,t,i,a,s,d),!0;case"mouseover":return Jn=Co(Jn,t,i,a,s,d),!0;case"pointerover":var g=d.pointerId;return vo.set(g,Co(vo.get(g)||null,t,i,a,s,d)),!0;case"gotpointercapture":return g=d.pointerId,To.set(g,Co(To.get(g)||null,t,i,a,s,d)),!0}return!1}function Tp(t){var i=Ei(t.target);if(i!==null){var a=f(i);if(a!==null){if(i=a.tag,i===13){if(i=m(a),i!==null){t.blockedOn=i,Sy(t.priority,function(){if(a.tag===13){var s=Mt();s=Dr(s);var d=qi(a,s);d!==null&&Rt(d,a,s),Lu(a,s)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xa(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=qu(t.nativeEvent);if(a===null){a=t.nativeEvent;var s=new a.constructor(a.type,a);Pr=s,a.target.dispatchEvent(s),Pr=null}else return i=Ai(a),i!==null&&gp(i),t.blockedOn=a,!1;i.shift()}return!0}function Cp(t,i,a){Xa(t)&&a.delete(i)}function w0(){Bu=!1,Yn!==null&&Xa(Yn)&&(Yn=null),$n!==null&&Xa($n)&&($n=null),Jn!==null&&Xa(Jn)&&(Jn=null),vo.forEach(Cp),To.forEach(Cp)}function Qa(t,i){t.blockedOn===i&&(t.blockedOn=null,Bu||(Bu=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,w0)))}var Wa=null;function Sp(t){Wa!==t&&(Wa=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Wa===t&&(Wa=null);for(var i=0;i<t.length;i+=3){var a=t[i],s=t[i+1],d=t[i+2];if(typeof s!="function"){if(Ou(s||a)===null)continue;break}var g=Ai(a);g!==null&&(t.splice(i,3),i-=3,Os(g,{pending:!0,data:d,method:a.method,action:s},s,d))}}))}function So(t){function i(A){return Qa(A,t)}Yn!==null&&Qa(Yn,t),$n!==null&&Qa($n,t),Jn!==null&&Qa(Jn,t),vo.forEach(i),To.forEach(i);for(var a=0;a<Zn.length;a++){var s=Zn[a];s.blockedOn===t&&(s.blockedOn=null)}for(;0<Zn.length&&(a=Zn[0],a.blockedOn===null);)Tp(a),a.blockedOn===null&&Zn.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var d=a[s],g=a[s+1],T=d[pt]||null;if(typeof g=="function")T||Sp(a);else if(T){var S=null;if(g&&g.hasAttribute("formAction")){if(d=g,T=g[pt]||null)S=T.formAction;else if(Ou(d)!==null)continue}else S=T.action;typeof S=="function"?a[s+1]=S:(a.splice(s,3),s-=3),Sp(a)}}}function zu(t){this._internalRoot=t}ja.prototype.render=zu.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(o(409));var a=i.current,s=Mt();pp(a,s,t,i,null,null)},ja.prototype.unmount=zu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;pp(t.current,2,null,t,null,null),Ua(),i[xi]=null}};function ja(t){this._internalRoot=t}ja.prototype.unstable_scheduleHydration=function(t){if(t){var i=qc();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Zn.length&&i!==0&&i<Zn[a].priority;a++);Zn.splice(a,0,t),a===0&&Tp(t)}};var _p=e.version;if(_p!=="19.1.0")throw Error(o(527,_p,"19.1.0"));X.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=y(i),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var N0={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var er=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!er.isDisabled&&er.supportsFiber)try{El=er.inject(N0),Ct=er}catch{}}return xo.createRoot=function(t,i){if(!r(t))throw Error(o(299));var a=!1,s="",d=Od,g=Bd,T=zd,S=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(s=i.identifierPrefix),i.onUncaughtError!==void 0&&(d=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks)),i=dp(t,1,!1,null,null,a,s,d,g,T,S,null),t[xi]=i.current,_u(t),new zu(i)},xo.hydrateRoot=function(t,i,a){if(!r(t))throw Error(o(299));var s=!1,d="",g=Od,T=Bd,S=zd,A=null,I=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(A=a.unstable_transitionCallbacks),a.formState!==void 0&&(I=a.formState)),i=dp(t,1,!0,i,a??null,s,d,g,T,S,A,I),i.context=mp(null),a=i.current,s=Mt(),s=Dr(s),d=Dn(s),d.callback=null,kn(a,d,s),a=s,i.current.lanes=a,bl(i,a),Qt(i),t[xi]=i.current,_u(t),new ja(i)},xo.version="19.1.0",xo}var kp;function z0(){if(kp)return Hu.exports;kp=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Hu.exports=B0(),Hu.exports}var P0=z0();const G0=hg(P0);var Me;(function(n){n.assertEqual=r=>{};function e(r){}n.assertIs=e;function l(r){throw new Error}n.assertNever=l,n.arrayToEnum=r=>{const f={};for(const m of r)f[m]=m;return f},n.getValidEnumValues=r=>{const f=n.objectKeys(r).filter(h=>typeof r[r[h]]!="number"),m={};for(const h of f)m[h]=r[h];return n.objectValues(m)},n.objectValues=r=>n.objectKeys(r).map(function(f){return r[f]}),n.objectKeys=typeof Object.keys=="function"?r=>Object.keys(r):r=>{const f=[];for(const m in r)Object.prototype.hasOwnProperty.call(r,m)&&f.push(m);return f},n.find=(r,f)=>{for(const m of r)if(f(m))return m},n.isInteger=typeof Number.isInteger=="function"?r=>Number.isInteger(r):r=>typeof r=="number"&&Number.isFinite(r)&&Math.floor(r)===r;function o(r,f=" | "){return r.map(m=>typeof m=="string"?`'${m}'`:m).join(f)}n.joinValues=o,n.jsonStringifyReplacer=(r,f)=>typeof f=="bigint"?f.toString():f})(Me||(Me={}));var Ip;(function(n){n.mergeShapes=(e,l)=>({...e,...l})})(Ip||(Ip={}));const ee=Me.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Xn=n=>{switch(typeof n){case"undefined":return ee.undefined;case"string":return ee.string;case"number":return Number.isNaN(n)?ee.nan:ee.number;case"boolean":return ee.boolean;case"function":return ee.function;case"bigint":return ee.bigint;case"symbol":return ee.symbol;case"object":return Array.isArray(n)?ee.array:n===null?ee.null:n.then&&typeof n.then=="function"&&n.catch&&typeof n.catch=="function"?ee.promise:typeof Map<"u"&&n instanceof Map?ee.map:typeof Set<"u"&&n instanceof Set?ee.set:typeof Date<"u"&&n instanceof Date?ee.date:ee.object;default:return ee.unknown}},$=Me.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Sn extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=o=>{this.issues=[...this.issues,o]},this.addIssues=(o=[])=>{this.issues=[...this.issues,...o]};const l=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,l):this.__proto__=l,this.name="ZodError",this.issues=e}format(e){const l=e||function(f){return f.message},o={_errors:[]},r=f=>{for(const m of f.issues)if(m.code==="invalid_union")m.unionErrors.map(r);else if(m.code==="invalid_return_type")r(m.returnTypeError);else if(m.code==="invalid_arguments")r(m.argumentsError);else if(m.path.length===0)o._errors.push(l(m));else{let h=o,y=0;for(;y<m.path.length;){const p=m.path[y];y===m.path.length-1?(h[p]=h[p]||{_errors:[]},h[p]._errors.push(l(m))):h[p]=h[p]||{_errors:[]},h=h[p],y++}}};return r(this),o}static assert(e){if(!(e instanceof Sn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Me.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=l=>l.message){const l={},o=[];for(const r of this.issues)r.path.length>0?(l[r.path[0]]=l[r.path[0]]||[],l[r.path[0]].push(e(r))):o.push(e(r));return{formErrors:o,fieldErrors:l}}get formErrors(){return this.flatten()}}Sn.create=n=>new Sn(n);const Wu=(n,e)=>{let l;switch(n.code){case $.invalid_type:n.received===ee.undefined?l="Required":l=`Expected ${n.expected}, received ${n.received}`;break;case $.invalid_literal:l=`Invalid literal value, expected ${JSON.stringify(n.expected,Me.jsonStringifyReplacer)}`;break;case $.unrecognized_keys:l=`Unrecognized key(s) in object: ${Me.joinValues(n.keys,", ")}`;break;case $.invalid_union:l="Invalid input";break;case $.invalid_union_discriminator:l=`Invalid discriminator value. Expected ${Me.joinValues(n.options)}`;break;case $.invalid_enum_value:l=`Invalid enum value. Expected ${Me.joinValues(n.options)}, received '${n.received}'`;break;case $.invalid_arguments:l="Invalid function arguments";break;case $.invalid_return_type:l="Invalid function return type";break;case $.invalid_date:l="Invalid date";break;case $.invalid_string:typeof n.validation=="object"?"includes"in n.validation?(l=`Invalid input: must include "${n.validation.includes}"`,typeof n.validation.position=="number"&&(l=`${l} at one or more positions greater than or equal to ${n.validation.position}`)):"startsWith"in n.validation?l=`Invalid input: must start with "${n.validation.startsWith}"`:"endsWith"in n.validation?l=`Invalid input: must end with "${n.validation.endsWith}"`:Me.assertNever(n.validation):n.validation!=="regex"?l=`Invalid ${n.validation}`:l="Invalid";break;case $.too_small:n.type==="array"?l=`Array must contain ${n.exact?"exactly":n.inclusive?"at least":"more than"} ${n.minimum} element(s)`:n.type==="string"?l=`String must contain ${n.exact?"exactly":n.inclusive?"at least":"over"} ${n.minimum} character(s)`:n.type==="number"?l=`Number must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${n.minimum}`:n.type==="date"?l=`Date must be ${n.exact?"exactly equal to ":n.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(n.minimum))}`:l="Invalid input";break;case $.too_big:n.type==="array"?l=`Array must contain ${n.exact?"exactly":n.inclusive?"at most":"less than"} ${n.maximum} element(s)`:n.type==="string"?l=`String must contain ${n.exact?"exactly":n.inclusive?"at most":"under"} ${n.maximum} character(s)`:n.type==="number"?l=`Number must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="bigint"?l=`BigInt must be ${n.exact?"exactly":n.inclusive?"less than or equal to":"less than"} ${n.maximum}`:n.type==="date"?l=`Date must be ${n.exact?"exactly":n.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(n.maximum))}`:l="Invalid input";break;case $.custom:l="Invalid input";break;case $.invalid_intersection_types:l="Intersection results could not be merged";break;case $.not_multiple_of:l=`Number must be a multiple of ${n.multipleOf}`;break;case $.not_finite:l="Number must be finite";break;default:l=e.defaultError,Me.assertNever(n)}return{message:l}};let H0=Wu;function F0(){return H0}const Y0=n=>{const{data:e,path:l,errorMaps:o,issueData:r}=n,f=[...l,...r.path||[]],m={...r,path:f};if(r.message!==void 0)return{...r,path:f,message:r.message};let h="";const y=o.filter(p=>!!p).slice().reverse();for(const p of y)h=p(m,{data:e,defaultError:h}).message;return{...r,path:f,message:h}};function Q(n,e){const l=F0(),o=Y0({issueData:e,data:n.data,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,l,l===Wu?void 0:Wu].filter(r=>!!r)});n.common.issues.push(o)}class mt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,l){const o=[];for(const r of l){if(r.status==="aborted")return me;r.status==="dirty"&&e.dirty(),o.push(r.value)}return{status:e.value,value:o}}static async mergeObjectAsync(e,l){const o=[];for(const r of l){const f=await r.key,m=await r.value;o.push({key:f,value:m})}return mt.mergeObjectSync(e,o)}static mergeObjectSync(e,l){const o={};for(const r of l){const{key:f,value:m}=r;if(f.status==="aborted"||m.status==="aborted")return me;f.status==="dirty"&&e.dirty(),m.status==="dirty"&&e.dirty(),f.value!=="__proto__"&&(typeof m.value<"u"||r.alwaysSet)&&(o[f.value]=m.value)}return{status:e.value,value:o}}}const me=Object.freeze({status:"aborted"}),Mo=n=>({status:"dirty",value:n}),Bt=n=>({status:"valid",value:n}),Up=n=>n.status==="aborted",Lp=n=>n.status==="dirty",ml=n=>n.status==="valid",ur=n=>typeof Promise<"u"&&n instanceof Promise;var ie;(function(n){n.errToObj=e=>typeof e=="string"?{message:e}:e||{},n.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ie||(ie={}));class tn{constructor(e,l,o,r){this._cachedPath=[],this.parent=e,this.data=l,this._path=o,this._key=r}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Vp=(n,e)=>{if(ml(e))return{success:!0,data:e.value};if(!n.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const l=new Sn(n.common.issues);return this._error=l,this._error}}};function ye(n){if(!n)return{};const{errorMap:e,invalid_type_error:l,required_error:o,description:r}=n;if(e&&(l||o))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:r}:{errorMap:(m,h)=>{const{message:y}=n;return m.code==="invalid_enum_value"?{message:y??h.defaultError}:typeof h.data>"u"?{message:y??o??h.defaultError}:m.code!=="invalid_type"?{message:h.defaultError}:{message:y??l??h.defaultError}},description:r}}class xe{get description(){return this._def.description}_getType(e){return Xn(e.data)}_getOrReturnCtx(e,l){return l||{common:e.parent.common,data:e.data,parsedType:Xn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new mt,ctx:{common:e.parent.common,data:e.data,parsedType:Xn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const l=this._parse(e);if(ur(l))throw new Error("Synchronous parse encountered promise.");return l}_parseAsync(e){const l=this._parse(e);return Promise.resolve(l)}parse(e,l){const o=this.safeParse(e,l);if(o.success)return o.data;throw o.error}safeParse(e,l){const o={common:{issues:[],async:(l==null?void 0:l.async)??!1,contextualErrorMap:l==null?void 0:l.errorMap},path:(l==null?void 0:l.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Xn(e)},r=this._parseSync({data:e,path:o.path,parent:o});return Vp(o,r)}"~validate"(e){var o,r;const l={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Xn(e)};if(!this["~standard"].async)try{const f=this._parseSync({data:e,path:[],parent:l});return ml(f)?{value:f.value}:{issues:l.common.issues}}catch(f){(r=(o=f==null?void 0:f.message)==null?void 0:o.toLowerCase())!=null&&r.includes("encountered")&&(this["~standard"].async=!0),l.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:l}).then(f=>ml(f)?{value:f.value}:{issues:l.common.issues})}async parseAsync(e,l){const o=await this.safeParseAsync(e,l);if(o.success)return o.data;throw o.error}async safeParseAsync(e,l){const o={common:{issues:[],contextualErrorMap:l==null?void 0:l.errorMap,async:!0},path:(l==null?void 0:l.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Xn(e)},r=this._parse({data:e,path:o.path,parent:o}),f=await(ur(r)?r:Promise.resolve(r));return Vp(o,f)}refine(e,l){const o=r=>typeof l=="string"||typeof l>"u"?{message:l}:typeof l=="function"?l(r):l;return this._refinement((r,f)=>{const m=e(r),h=()=>f.addIssue({code:$.custom,...o(r)});return typeof Promise<"u"&&m instanceof Promise?m.then(y=>y?!0:(h(),!1)):m?!0:(h(),!1)})}refinement(e,l){return this._refinement((o,r)=>e(o)?!0:(r.addIssue(typeof l=="function"?l(o,r):l),!1))}_refinement(e){return new gl({schema:this,typeName:de.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:l=>this["~validate"](l)}}optional(){return Qn.create(this,this._def)}nullable(){return yl.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return en.create(this)}promise(){return pr.create(this,this._def)}or(e){return fr.create([this,e],this._def)}and(e){return dr.create(this,e,this._def)}transform(e){return new gl({...ye(this._def),schema:this,typeName:de.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const l=typeof e=="function"?e:()=>e;return new nc({...ye(this._def),innerType:this,defaultValue:l,typeName:de.ZodDefault})}brand(){return new pT({typeName:de.ZodBranded,type:this,...ye(this._def)})}catch(e){const l=typeof e=="function"?e:()=>e;return new ic({...ye(this._def),innerType:this,catchValue:l,typeName:de.ZodCatch})}describe(e){const l=this.constructor;return new l({...this._def,description:e})}pipe(e){return Cc.create(this,e)}readonly(){return lc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const $0=/^c[^\s-]{8,}$/i,J0=/^[0-9a-z]+$/,Z0=/^[0-9A-HJKMNP-TV-Z]{26}$/i,K0=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,X0=/^[a-z0-9_-]{21}$/i,Q0=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,W0=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,j0=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,eT="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ju;const tT=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,nT=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,iT=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,lT=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,oT=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,aT=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,gg="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",rT=new RegExp(`^${gg}$`);function yg(n){let e="[0-5]\\d";n.precision?e=`${e}\\.\\d{${n.precision}}`:n.precision==null&&(e=`${e}(\\.\\d+)?`);const l=n.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${l}`}function sT(n){return new RegExp(`^${yg(n)}$`)}function uT(n){let e=`${gg}T${yg(n)}`;const l=[];return l.push(n.local?"Z?":"Z"),n.offset&&l.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${l.join("|")})`,new RegExp(`^${e}$`)}function cT(n,e){return!!((e==="v4"||!e)&&tT.test(n)||(e==="v6"||!e)&&iT.test(n))}function fT(n,e){if(!Q0.test(n))return!1;try{const[l]=n.split("."),o=l.replace(/-/g,"+").replace(/_/g,"/").padEnd(l.length+(4-l.length%4)%4,"="),r=JSON.parse(atob(o));return!(typeof r!="object"||r===null||"typ"in r&&(r==null?void 0:r.typ)!=="JWT"||!r.alg||e&&r.alg!==e)}catch{return!1}}function dT(n,e){return!!((e==="v4"||!e)&&nT.test(n)||(e==="v6"||!e)&&lT.test(n))}class Wt extends xe{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ee.string){const f=this._getOrReturnCtx(e);return Q(f,{code:$.invalid_type,expected:ee.string,received:f.parsedType}),me}const o=new mt;let r;for(const f of this._def.checks)if(f.kind==="min")e.data.length<f.value&&(r=this._getOrReturnCtx(e,r),Q(r,{code:$.too_small,minimum:f.value,type:"string",inclusive:!0,exact:!1,message:f.message}),o.dirty());else if(f.kind==="max")e.data.length>f.value&&(r=this._getOrReturnCtx(e,r),Q(r,{code:$.too_big,maximum:f.value,type:"string",inclusive:!0,exact:!1,message:f.message}),o.dirty());else if(f.kind==="length"){const m=e.data.length>f.value,h=e.data.length<f.value;(m||h)&&(r=this._getOrReturnCtx(e,r),m?Q(r,{code:$.too_big,maximum:f.value,type:"string",inclusive:!0,exact:!0,message:f.message}):h&&Q(r,{code:$.too_small,minimum:f.value,type:"string",inclusive:!0,exact:!0,message:f.message}),o.dirty())}else if(f.kind==="email")j0.test(e.data)||(r=this._getOrReturnCtx(e,r),Q(r,{validation:"email",code:$.invalid_string,message:f.message}),o.dirty());else if(f.kind==="emoji")Ju||(Ju=new RegExp(eT,"u")),Ju.test(e.data)||(r=this._getOrReturnCtx(e,r),Q(r,{validation:"emoji",code:$.invalid_string,message:f.message}),o.dirty());else if(f.kind==="uuid")K0.test(e.data)||(r=this._getOrReturnCtx(e,r),Q(r,{validation:"uuid",code:$.invalid_string,message:f.message}),o.dirty());else if(f.kind==="nanoid")X0.test(e.data)||(r=this._getOrReturnCtx(e,r),Q(r,{validation:"nanoid",code:$.invalid_string,message:f.message}),o.dirty());else if(f.kind==="cuid")$0.test(e.data)||(r=this._getOrReturnCtx(e,r),Q(r,{validation:"cuid",code:$.invalid_string,message:f.message}),o.dirty());else if(f.kind==="cuid2")J0.test(e.data)||(r=this._getOrReturnCtx(e,r),Q(r,{validation:"cuid2",code:$.invalid_string,message:f.message}),o.dirty());else if(f.kind==="ulid")Z0.test(e.data)||(r=this._getOrReturnCtx(e,r),Q(r,{validation:"ulid",code:$.invalid_string,message:f.message}),o.dirty());else if(f.kind==="url")try{new URL(e.data)}catch{r=this._getOrReturnCtx(e,r),Q(r,{validation:"url",code:$.invalid_string,message:f.message}),o.dirty()}else f.kind==="regex"?(f.regex.lastIndex=0,f.regex.test(e.data)||(r=this._getOrReturnCtx(e,r),Q(r,{validation:"regex",code:$.invalid_string,message:f.message}),o.dirty())):f.kind==="trim"?e.data=e.data.trim():f.kind==="includes"?e.data.includes(f.value,f.position)||(r=this._getOrReturnCtx(e,r),Q(r,{code:$.invalid_string,validation:{includes:f.value,position:f.position},message:f.message}),o.dirty()):f.kind==="toLowerCase"?e.data=e.data.toLowerCase():f.kind==="toUpperCase"?e.data=e.data.toUpperCase():f.kind==="startsWith"?e.data.startsWith(f.value)||(r=this._getOrReturnCtx(e,r),Q(r,{code:$.invalid_string,validation:{startsWith:f.value},message:f.message}),o.dirty()):f.kind==="endsWith"?e.data.endsWith(f.value)||(r=this._getOrReturnCtx(e,r),Q(r,{code:$.invalid_string,validation:{endsWith:f.value},message:f.message}),o.dirty()):f.kind==="datetime"?uT(f).test(e.data)||(r=this._getOrReturnCtx(e,r),Q(r,{code:$.invalid_string,validation:"datetime",message:f.message}),o.dirty()):f.kind==="date"?rT.test(e.data)||(r=this._getOrReturnCtx(e,r),Q(r,{code:$.invalid_string,validation:"date",message:f.message}),o.dirty()):f.kind==="time"?sT(f).test(e.data)||(r=this._getOrReturnCtx(e,r),Q(r,{code:$.invalid_string,validation:"time",message:f.message}),o.dirty()):f.kind==="duration"?W0.test(e.data)||(r=this._getOrReturnCtx(e,r),Q(r,{validation:"duration",code:$.invalid_string,message:f.message}),o.dirty()):f.kind==="ip"?cT(e.data,f.version)||(r=this._getOrReturnCtx(e,r),Q(r,{validation:"ip",code:$.invalid_string,message:f.message}),o.dirty()):f.kind==="jwt"?fT(e.data,f.alg)||(r=this._getOrReturnCtx(e,r),Q(r,{validation:"jwt",code:$.invalid_string,message:f.message}),o.dirty()):f.kind==="cidr"?dT(e.data,f.version)||(r=this._getOrReturnCtx(e,r),Q(r,{validation:"cidr",code:$.invalid_string,message:f.message}),o.dirty()):f.kind==="base64"?oT.test(e.data)||(r=this._getOrReturnCtx(e,r),Q(r,{validation:"base64",code:$.invalid_string,message:f.message}),o.dirty()):f.kind==="base64url"?aT.test(e.data)||(r=this._getOrReturnCtx(e,r),Q(r,{validation:"base64url",code:$.invalid_string,message:f.message}),o.dirty()):Me.assertNever(f);return{status:o.value,value:e.data}}_regex(e,l,o){return this.refinement(r=>e.test(r),{validation:l,code:$.invalid_string,...ie.errToObj(o)})}_addCheck(e){return new Wt({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ie.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ie.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ie.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ie.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ie.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ie.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ie.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ie.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ie.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ie.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ie.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ie.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ie.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...ie.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ie.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ie.errToObj(e)})}regex(e,l){return this._addCheck({kind:"regex",regex:e,...ie.errToObj(l)})}includes(e,l){return this._addCheck({kind:"includes",value:e,position:l==null?void 0:l.position,...ie.errToObj(l==null?void 0:l.message)})}startsWith(e,l){return this._addCheck({kind:"startsWith",value:e,...ie.errToObj(l)})}endsWith(e,l){return this._addCheck({kind:"endsWith",value:e,...ie.errToObj(l)})}min(e,l){return this._addCheck({kind:"min",value:e,...ie.errToObj(l)})}max(e,l){return this._addCheck({kind:"max",value:e,...ie.errToObj(l)})}length(e,l){return this._addCheck({kind:"length",value:e,...ie.errToObj(l)})}nonempty(e){return this.min(1,ie.errToObj(e))}trim(){return new Wt({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Wt({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Wt({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const l of this._def.checks)l.kind==="min"&&(e===null||l.value>e)&&(e=l.value);return e}get maxLength(){let e=null;for(const l of this._def.checks)l.kind==="max"&&(e===null||l.value<e)&&(e=l.value);return e}}Wt.create=n=>new Wt({checks:[],typeName:de.ZodString,coerce:(n==null?void 0:n.coerce)??!1,...ye(n)});function mT(n,e){const l=(n.toString().split(".")[1]||"").length,o=(e.toString().split(".")[1]||"").length,r=l>o?l:o,f=Number.parseInt(n.toFixed(r).replace(".","")),m=Number.parseInt(e.toFixed(r).replace(".",""));return f%m/10**r}class Ci extends xe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ee.number){const f=this._getOrReturnCtx(e);return Q(f,{code:$.invalid_type,expected:ee.number,received:f.parsedType}),me}let o;const r=new mt;for(const f of this._def.checks)f.kind==="int"?Me.isInteger(e.data)||(o=this._getOrReturnCtx(e,o),Q(o,{code:$.invalid_type,expected:"integer",received:"float",message:f.message}),r.dirty()):f.kind==="min"?(f.inclusive?e.data<f.value:e.data<=f.value)&&(o=this._getOrReturnCtx(e,o),Q(o,{code:$.too_small,minimum:f.value,type:"number",inclusive:f.inclusive,exact:!1,message:f.message}),r.dirty()):f.kind==="max"?(f.inclusive?e.data>f.value:e.data>=f.value)&&(o=this._getOrReturnCtx(e,o),Q(o,{code:$.too_big,maximum:f.value,type:"number",inclusive:f.inclusive,exact:!1,message:f.message}),r.dirty()):f.kind==="multipleOf"?mT(e.data,f.value)!==0&&(o=this._getOrReturnCtx(e,o),Q(o,{code:$.not_multiple_of,multipleOf:f.value,message:f.message}),r.dirty()):f.kind==="finite"?Number.isFinite(e.data)||(o=this._getOrReturnCtx(e,o),Q(o,{code:$.not_finite,message:f.message}),r.dirty()):Me.assertNever(f);return{status:r.value,value:e.data}}gte(e,l){return this.setLimit("min",e,!0,ie.toString(l))}gt(e,l){return this.setLimit("min",e,!1,ie.toString(l))}lte(e,l){return this.setLimit("max",e,!0,ie.toString(l))}lt(e,l){return this.setLimit("max",e,!1,ie.toString(l))}setLimit(e,l,o,r){return new Ci({...this._def,checks:[...this._def.checks,{kind:e,value:l,inclusive:o,message:ie.toString(r)}]})}_addCheck(e){return new Ci({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ie.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ie.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ie.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ie.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ie.toString(e)})}multipleOf(e,l){return this._addCheck({kind:"multipleOf",value:e,message:ie.toString(l)})}finite(e){return this._addCheck({kind:"finite",message:ie.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ie.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ie.toString(e)})}get minValue(){let e=null;for(const l of this._def.checks)l.kind==="min"&&(e===null||l.value>e)&&(e=l.value);return e}get maxValue(){let e=null;for(const l of this._def.checks)l.kind==="max"&&(e===null||l.value<e)&&(e=l.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Me.isInteger(e.value))}get isFinite(){let e=null,l=null;for(const o of this._def.checks){if(o.kind==="finite"||o.kind==="int"||o.kind==="multipleOf")return!0;o.kind==="min"?(l===null||o.value>l)&&(l=o.value):o.kind==="max"&&(e===null||o.value<e)&&(e=o.value)}return Number.isFinite(l)&&Number.isFinite(e)}}Ci.create=n=>new Ci({checks:[],typeName:de.ZodNumber,coerce:(n==null?void 0:n.coerce)||!1,...ye(n)});class Si extends xe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ee.bigint)return this._getInvalidInput(e);let o;const r=new mt;for(const f of this._def.checks)f.kind==="min"?(f.inclusive?e.data<f.value:e.data<=f.value)&&(o=this._getOrReturnCtx(e,o),Q(o,{code:$.too_small,type:"bigint",minimum:f.value,inclusive:f.inclusive,message:f.message}),r.dirty()):f.kind==="max"?(f.inclusive?e.data>f.value:e.data>=f.value)&&(o=this._getOrReturnCtx(e,o),Q(o,{code:$.too_big,type:"bigint",maximum:f.value,inclusive:f.inclusive,message:f.message}),r.dirty()):f.kind==="multipleOf"?e.data%f.value!==BigInt(0)&&(o=this._getOrReturnCtx(e,o),Q(o,{code:$.not_multiple_of,multipleOf:f.value,message:f.message}),r.dirty()):Me.assertNever(f);return{status:r.value,value:e.data}}_getInvalidInput(e){const l=this._getOrReturnCtx(e);return Q(l,{code:$.invalid_type,expected:ee.bigint,received:l.parsedType}),me}gte(e,l){return this.setLimit("min",e,!0,ie.toString(l))}gt(e,l){return this.setLimit("min",e,!1,ie.toString(l))}lte(e,l){return this.setLimit("max",e,!0,ie.toString(l))}lt(e,l){return this.setLimit("max",e,!1,ie.toString(l))}setLimit(e,l,o,r){return new Si({...this._def,checks:[...this._def.checks,{kind:e,value:l,inclusive:o,message:ie.toString(r)}]})}_addCheck(e){return new Si({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ie.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ie.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ie.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ie.toString(e)})}multipleOf(e,l){return this._addCheck({kind:"multipleOf",value:e,message:ie.toString(l)})}get minValue(){let e=null;for(const l of this._def.checks)l.kind==="min"&&(e===null||l.value>e)&&(e=l.value);return e}get maxValue(){let e=null;for(const l of this._def.checks)l.kind==="max"&&(e===null||l.value<e)&&(e=l.value);return e}}Si.create=n=>new Si({checks:[],typeName:de.ZodBigInt,coerce:(n==null?void 0:n.coerce)??!1,...ye(n)});class cr extends xe{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ee.boolean){const o=this._getOrReturnCtx(e);return Q(o,{code:$.invalid_type,expected:ee.boolean,received:o.parsedType}),me}return Bt(e.data)}}cr.create=n=>new cr({typeName:de.ZodBoolean,coerce:(n==null?void 0:n.coerce)||!1,...ye(n)});class pl extends xe{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ee.date){const f=this._getOrReturnCtx(e);return Q(f,{code:$.invalid_type,expected:ee.date,received:f.parsedType}),me}if(Number.isNaN(e.data.getTime())){const f=this._getOrReturnCtx(e);return Q(f,{code:$.invalid_date}),me}const o=new mt;let r;for(const f of this._def.checks)f.kind==="min"?e.data.getTime()<f.value&&(r=this._getOrReturnCtx(e,r),Q(r,{code:$.too_small,message:f.message,inclusive:!0,exact:!1,minimum:f.value,type:"date"}),o.dirty()):f.kind==="max"?e.data.getTime()>f.value&&(r=this._getOrReturnCtx(e,r),Q(r,{code:$.too_big,message:f.message,inclusive:!0,exact:!1,maximum:f.value,type:"date"}),o.dirty()):Me.assertNever(f);return{status:o.value,value:new Date(e.data.getTime())}}_addCheck(e){return new pl({...this._def,checks:[...this._def.checks,e]})}min(e,l){return this._addCheck({kind:"min",value:e.getTime(),message:ie.toString(l)})}max(e,l){return this._addCheck({kind:"max",value:e.getTime(),message:ie.toString(l)})}get minDate(){let e=null;for(const l of this._def.checks)l.kind==="min"&&(e===null||l.value>e)&&(e=l.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const l of this._def.checks)l.kind==="max"&&(e===null||l.value<e)&&(e=l.value);return e!=null?new Date(e):null}}pl.create=n=>new pl({checks:[],coerce:(n==null?void 0:n.coerce)||!1,typeName:de.ZodDate,...ye(n)});class qp extends xe{_parse(e){if(this._getType(e)!==ee.symbol){const o=this._getOrReturnCtx(e);return Q(o,{code:$.invalid_type,expected:ee.symbol,received:o.parsedType}),me}return Bt(e.data)}}qp.create=n=>new qp({typeName:de.ZodSymbol,...ye(n)});class Op extends xe{_parse(e){if(this._getType(e)!==ee.undefined){const o=this._getOrReturnCtx(e);return Q(o,{code:$.invalid_type,expected:ee.undefined,received:o.parsedType}),me}return Bt(e.data)}}Op.create=n=>new Op({typeName:de.ZodUndefined,...ye(n)});class Bp extends xe{_parse(e){if(this._getType(e)!==ee.null){const o=this._getOrReturnCtx(e);return Q(o,{code:$.invalid_type,expected:ee.null,received:o.parsedType}),me}return Bt(e.data)}}Bp.create=n=>new Bp({typeName:de.ZodNull,...ye(n)});class zp extends xe{constructor(){super(...arguments),this._any=!0}_parse(e){return Bt(e.data)}}zp.create=n=>new zp({typeName:de.ZodAny,...ye(n)});class ju extends xe{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Bt(e.data)}}ju.create=n=>new ju({typeName:de.ZodUnknown,...ye(n)});class Wn extends xe{_parse(e){const l=this._getOrReturnCtx(e);return Q(l,{code:$.invalid_type,expected:ee.never,received:l.parsedType}),me}}Wn.create=n=>new Wn({typeName:de.ZodNever,...ye(n)});class Pp extends xe{_parse(e){if(this._getType(e)!==ee.undefined){const o=this._getOrReturnCtx(e);return Q(o,{code:$.invalid_type,expected:ee.void,received:o.parsedType}),me}return Bt(e.data)}}Pp.create=n=>new Pp({typeName:de.ZodVoid,...ye(n)});class en extends xe{_parse(e){const{ctx:l,status:o}=this._processInputParams(e),r=this._def;if(l.parsedType!==ee.array)return Q(l,{code:$.invalid_type,expected:ee.array,received:l.parsedType}),me;if(r.exactLength!==null){const m=l.data.length>r.exactLength.value,h=l.data.length<r.exactLength.value;(m||h)&&(Q(l,{code:m?$.too_big:$.too_small,minimum:h?r.exactLength.value:void 0,maximum:m?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),o.dirty())}if(r.minLength!==null&&l.data.length<r.minLength.value&&(Q(l,{code:$.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),o.dirty()),r.maxLength!==null&&l.data.length>r.maxLength.value&&(Q(l,{code:$.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),o.dirty()),l.common.async)return Promise.all([...l.data].map((m,h)=>r.type._parseAsync(new tn(l,m,l.path,h)))).then(m=>mt.mergeArray(o,m));const f=[...l.data].map((m,h)=>r.type._parseSync(new tn(l,m,l.path,h)));return mt.mergeArray(o,f)}get element(){return this._def.type}min(e,l){return new en({...this._def,minLength:{value:e,message:ie.toString(l)}})}max(e,l){return new en({...this._def,maxLength:{value:e,message:ie.toString(l)}})}length(e,l){return new en({...this._def,exactLength:{value:e,message:ie.toString(l)}})}nonempty(e){return this.min(1,e)}}en.create=(n,e)=>new en({type:n,minLength:null,maxLength:null,exactLength:null,typeName:de.ZodArray,...ye(e)});function ul(n){if(n instanceof Xe){const e={};for(const l in n.shape){const o=n.shape[l];e[l]=Qn.create(ul(o))}return new Xe({...n._def,shape:()=>e})}else return n instanceof en?new en({...n._def,type:ul(n.element)}):n instanceof Qn?Qn.create(ul(n.unwrap())):n instanceof yl?yl.create(ul(n.unwrap())):n instanceof _i?_i.create(n.items.map(e=>ul(e))):n}class Xe extends xe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),l=Me.objectKeys(e);return this._cached={shape:e,keys:l},this._cached}_parse(e){if(this._getType(e)!==ee.object){const p=this._getOrReturnCtx(e);return Q(p,{code:$.invalid_type,expected:ee.object,received:p.parsedType}),me}const{status:o,ctx:r}=this._processInputParams(e),{shape:f,keys:m}=this._getCached(),h=[];if(!(this._def.catchall instanceof Wn&&this._def.unknownKeys==="strip"))for(const p in r.data)m.includes(p)||h.push(p);const y=[];for(const p of m){const v=f[p],C=r.data[p];y.push({key:{status:"valid",value:p},value:v._parse(new tn(r,C,r.path,p)),alwaysSet:p in r.data})}if(this._def.catchall instanceof Wn){const p=this._def.unknownKeys;if(p==="passthrough")for(const v of h)y.push({key:{status:"valid",value:v},value:{status:"valid",value:r.data[v]}});else if(p==="strict")h.length>0&&(Q(r,{code:$.unrecognized_keys,keys:h}),o.dirty());else if(p!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const p=this._def.catchall;for(const v of h){const C=r.data[v];y.push({key:{status:"valid",value:v},value:p._parse(new tn(r,C,r.path,v)),alwaysSet:v in r.data})}}return r.common.async?Promise.resolve().then(async()=>{const p=[];for(const v of y){const C=await v.key,_=await v.value;p.push({key:C,value:_,alwaysSet:v.alwaysSet})}return p}).then(p=>mt.mergeObjectSync(o,p)):mt.mergeObjectSync(o,y)}get shape(){return this._def.shape()}strict(e){return ie.errToObj,new Xe({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(l,o)=>{var f,m;const r=((m=(f=this._def).errorMap)==null?void 0:m.call(f,l,o).message)??o.defaultError;return l.code==="unrecognized_keys"?{message:ie.errToObj(e).message??r}:{message:r}}}:{}})}strip(){return new Xe({...this._def,unknownKeys:"strip"})}passthrough(){return new Xe({...this._def,unknownKeys:"passthrough"})}extend(e){return new Xe({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Xe({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:de.ZodObject})}setKey(e,l){return this.augment({[e]:l})}catchall(e){return new Xe({...this._def,catchall:e})}pick(e){const l={};for(const o of Me.objectKeys(e))e[o]&&this.shape[o]&&(l[o]=this.shape[o]);return new Xe({...this._def,shape:()=>l})}omit(e){const l={};for(const o of Me.objectKeys(this.shape))e[o]||(l[o]=this.shape[o]);return new Xe({...this._def,shape:()=>l})}deepPartial(){return ul(this)}partial(e){const l={};for(const o of Me.objectKeys(this.shape)){const r=this.shape[o];e&&!e[o]?l[o]=r:l[o]=r.optional()}return new Xe({...this._def,shape:()=>l})}required(e){const l={};for(const o of Me.objectKeys(this.shape))if(e&&!e[o])l[o]=this.shape[o];else{let f=this.shape[o];for(;f instanceof Qn;)f=f._def.innerType;l[o]=f}return new Xe({...this._def,shape:()=>l})}keyof(){return vg(Me.objectKeys(this.shape))}}Xe.create=(n,e)=>new Xe({shape:()=>n,unknownKeys:"strip",catchall:Wn.create(),typeName:de.ZodObject,...ye(e)});Xe.strictCreate=(n,e)=>new Xe({shape:()=>n,unknownKeys:"strict",catchall:Wn.create(),typeName:de.ZodObject,...ye(e)});Xe.lazycreate=(n,e)=>new Xe({shape:n,unknownKeys:"strip",catchall:Wn.create(),typeName:de.ZodObject,...ye(e)});class fr extends xe{_parse(e){const{ctx:l}=this._processInputParams(e),o=this._def.options;function r(f){for(const h of f)if(h.result.status==="valid")return h.result;for(const h of f)if(h.result.status==="dirty")return l.common.issues.push(...h.ctx.common.issues),h.result;const m=f.map(h=>new Sn(h.ctx.common.issues));return Q(l,{code:$.invalid_union,unionErrors:m}),me}if(l.common.async)return Promise.all(o.map(async f=>{const m={...l,common:{...l.common,issues:[]},parent:null};return{result:await f._parseAsync({data:l.data,path:l.path,parent:m}),ctx:m}})).then(r);{let f;const m=[];for(const y of o){const p={...l,common:{...l.common,issues:[]},parent:null},v=y._parseSync({data:l.data,path:l.path,parent:p});if(v.status==="valid")return v;v.status==="dirty"&&!f&&(f={result:v,ctx:p}),p.common.issues.length&&m.push(p.common.issues)}if(f)return l.common.issues.push(...f.ctx.common.issues),f.result;const h=m.map(y=>new Sn(y));return Q(l,{code:$.invalid_union,unionErrors:h}),me}}get options(){return this._def.options}}fr.create=(n,e)=>new fr({options:n,typeName:de.ZodUnion,...ye(e)});function ec(n,e){const l=Xn(n),o=Xn(e);if(n===e)return{valid:!0,data:n};if(l===ee.object&&o===ee.object){const r=Me.objectKeys(e),f=Me.objectKeys(n).filter(h=>r.indexOf(h)!==-1),m={...n,...e};for(const h of f){const y=ec(n[h],e[h]);if(!y.valid)return{valid:!1};m[h]=y.data}return{valid:!0,data:m}}else if(l===ee.array&&o===ee.array){if(n.length!==e.length)return{valid:!1};const r=[];for(let f=0;f<n.length;f++){const m=n[f],h=e[f],y=ec(m,h);if(!y.valid)return{valid:!1};r.push(y.data)}return{valid:!0,data:r}}else return l===ee.date&&o===ee.date&&+n==+e?{valid:!0,data:n}:{valid:!1}}class dr extends xe{_parse(e){const{status:l,ctx:o}=this._processInputParams(e),r=(f,m)=>{if(Up(f)||Up(m))return me;const h=ec(f.value,m.value);return h.valid?((Lp(f)||Lp(m))&&l.dirty(),{status:l.value,value:h.data}):(Q(o,{code:$.invalid_intersection_types}),me)};return o.common.async?Promise.all([this._def.left._parseAsync({data:o.data,path:o.path,parent:o}),this._def.right._parseAsync({data:o.data,path:o.path,parent:o})]).then(([f,m])=>r(f,m)):r(this._def.left._parseSync({data:o.data,path:o.path,parent:o}),this._def.right._parseSync({data:o.data,path:o.path,parent:o}))}}dr.create=(n,e,l)=>new dr({left:n,right:e,typeName:de.ZodIntersection,...ye(l)});class _i extends xe{_parse(e){const{status:l,ctx:o}=this._processInputParams(e);if(o.parsedType!==ee.array)return Q(o,{code:$.invalid_type,expected:ee.array,received:o.parsedType}),me;if(o.data.length<this._def.items.length)return Q(o,{code:$.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),me;!this._def.rest&&o.data.length>this._def.items.length&&(Q(o,{code:$.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),l.dirty());const f=[...o.data].map((m,h)=>{const y=this._def.items[h]||this._def.rest;return y?y._parse(new tn(o,m,o.path,h)):null}).filter(m=>!!m);return o.common.async?Promise.all(f).then(m=>mt.mergeArray(l,m)):mt.mergeArray(l,f)}get items(){return this._def.items}rest(e){return new _i({...this._def,rest:e})}}_i.create=(n,e)=>{if(!Array.isArray(n))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new _i({items:n,typeName:de.ZodTuple,rest:null,...ye(e)})};class mr extends xe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:l,ctx:o}=this._processInputParams(e);if(o.parsedType!==ee.object)return Q(o,{code:$.invalid_type,expected:ee.object,received:o.parsedType}),me;const r=[],f=this._def.keyType,m=this._def.valueType;for(const h in o.data)r.push({key:f._parse(new tn(o,h,o.path,h)),value:m._parse(new tn(o,o.data[h],o.path,h)),alwaysSet:h in o.data});return o.common.async?mt.mergeObjectAsync(l,r):mt.mergeObjectSync(l,r)}get element(){return this._def.valueType}static create(e,l,o){return l instanceof xe?new mr({keyType:e,valueType:l,typeName:de.ZodRecord,...ye(o)}):new mr({keyType:Wt.create(),valueType:e,typeName:de.ZodRecord,...ye(l)})}}class Gp extends xe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:l,ctx:o}=this._processInputParams(e);if(o.parsedType!==ee.map)return Q(o,{code:$.invalid_type,expected:ee.map,received:o.parsedType}),me;const r=this._def.keyType,f=this._def.valueType,m=[...o.data.entries()].map(([h,y],p)=>({key:r._parse(new tn(o,h,o.path,[p,"key"])),value:f._parse(new tn(o,y,o.path,[p,"value"]))}));if(o.common.async){const h=new Map;return Promise.resolve().then(async()=>{for(const y of m){const p=await y.key,v=await y.value;if(p.status==="aborted"||v.status==="aborted")return me;(p.status==="dirty"||v.status==="dirty")&&l.dirty(),h.set(p.value,v.value)}return{status:l.value,value:h}})}else{const h=new Map;for(const y of m){const p=y.key,v=y.value;if(p.status==="aborted"||v.status==="aborted")return me;(p.status==="dirty"||v.status==="dirty")&&l.dirty(),h.set(p.value,v.value)}return{status:l.value,value:h}}}}Gp.create=(n,e,l)=>new Gp({valueType:e,keyType:n,typeName:de.ZodMap,...ye(l)});class Do extends xe{_parse(e){const{status:l,ctx:o}=this._processInputParams(e);if(o.parsedType!==ee.set)return Q(o,{code:$.invalid_type,expected:ee.set,received:o.parsedType}),me;const r=this._def;r.minSize!==null&&o.data.size<r.minSize.value&&(Q(o,{code:$.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),l.dirty()),r.maxSize!==null&&o.data.size>r.maxSize.value&&(Q(o,{code:$.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),l.dirty());const f=this._def.valueType;function m(y){const p=new Set;for(const v of y){if(v.status==="aborted")return me;v.status==="dirty"&&l.dirty(),p.add(v.value)}return{status:l.value,value:p}}const h=[...o.data.values()].map((y,p)=>f._parse(new tn(o,y,o.path,p)));return o.common.async?Promise.all(h).then(y=>m(y)):m(h)}min(e,l){return new Do({...this._def,minSize:{value:e,message:ie.toString(l)}})}max(e,l){return new Do({...this._def,maxSize:{value:e,message:ie.toString(l)}})}size(e,l){return this.min(e,l).max(e,l)}nonempty(e){return this.min(1,e)}}Do.create=(n,e)=>new Do({valueType:n,minSize:null,maxSize:null,typeName:de.ZodSet,...ye(e)});class tc extends xe{get schema(){return this._def.getter()}_parse(e){const{ctx:l}=this._processInputParams(e);return this._def.getter()._parse({data:l.data,path:l.path,parent:l})}}tc.create=(n,e)=>new tc({getter:n,typeName:de.ZodLazy,...ye(e)});class Hp extends xe{_parse(e){if(e.data!==this._def.value){const l=this._getOrReturnCtx(e);return Q(l,{received:l.data,code:$.invalid_literal,expected:this._def.value}),me}return{status:"valid",value:e.data}}get value(){return this._def.value}}Hp.create=(n,e)=>new Hp({value:n,typeName:de.ZodLiteral,...ye(e)});function vg(n,e){return new hl({values:n,typeName:de.ZodEnum,...ye(e)})}class hl extends xe{_parse(e){if(typeof e.data!="string"){const l=this._getOrReturnCtx(e),o=this._def.values;return Q(l,{expected:Me.joinValues(o),received:l.parsedType,code:$.invalid_type}),me}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const l=this._getOrReturnCtx(e),o=this._def.values;return Q(l,{received:l.data,code:$.invalid_enum_value,options:o}),me}return Bt(e.data)}get options(){return this._def.values}get enum(){const e={};for(const l of this._def.values)e[l]=l;return e}get Values(){const e={};for(const l of this._def.values)e[l]=l;return e}get Enum(){const e={};for(const l of this._def.values)e[l]=l;return e}extract(e,l=this._def){return hl.create(e,{...this._def,...l})}exclude(e,l=this._def){return hl.create(this.options.filter(o=>!e.includes(o)),{...this._def,...l})}}hl.create=vg;class Fp extends xe{_parse(e){const l=Me.getValidEnumValues(this._def.values),o=this._getOrReturnCtx(e);if(o.parsedType!==ee.string&&o.parsedType!==ee.number){const r=Me.objectValues(l);return Q(o,{expected:Me.joinValues(r),received:o.parsedType,code:$.invalid_type}),me}if(this._cache||(this._cache=new Set(Me.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const r=Me.objectValues(l);return Q(o,{received:o.data,code:$.invalid_enum_value,options:r}),me}return Bt(e.data)}get enum(){return this._def.values}}Fp.create=(n,e)=>new Fp({values:n,typeName:de.ZodNativeEnum,...ye(e)});class pr extends xe{unwrap(){return this._def.type}_parse(e){const{ctx:l}=this._processInputParams(e);if(l.parsedType!==ee.promise&&l.common.async===!1)return Q(l,{code:$.invalid_type,expected:ee.promise,received:l.parsedType}),me;const o=l.parsedType===ee.promise?l.data:Promise.resolve(l.data);return Bt(o.then(r=>this._def.type.parseAsync(r,{path:l.path,errorMap:l.common.contextualErrorMap})))}}pr.create=(n,e)=>new pr({type:n,typeName:de.ZodPromise,...ye(e)});class gl extends xe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===de.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:l,ctx:o}=this._processInputParams(e),r=this._def.effect||null,f={addIssue:m=>{Q(o,m),m.fatal?l.abort():l.dirty()},get path(){return o.path}};if(f.addIssue=f.addIssue.bind(f),r.type==="preprocess"){const m=r.transform(o.data,f);if(o.common.async)return Promise.resolve(m).then(async h=>{if(l.value==="aborted")return me;const y=await this._def.schema._parseAsync({data:h,path:o.path,parent:o});return y.status==="aborted"?me:y.status==="dirty"||l.value==="dirty"?Mo(y.value):y});{if(l.value==="aborted")return me;const h=this._def.schema._parseSync({data:m,path:o.path,parent:o});return h.status==="aborted"?me:h.status==="dirty"||l.value==="dirty"?Mo(h.value):h}}if(r.type==="refinement"){const m=h=>{const y=r.refinement(h,f);if(o.common.async)return Promise.resolve(y);if(y instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return h};if(o.common.async===!1){const h=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});return h.status==="aborted"?me:(h.status==="dirty"&&l.dirty(),m(h.value),{status:l.value,value:h.value})}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(h=>h.status==="aborted"?me:(h.status==="dirty"&&l.dirty(),m(h.value).then(()=>({status:l.value,value:h.value}))))}if(r.type==="transform")if(o.common.async===!1){const m=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});if(!ml(m))return me;const h=r.transform(m.value,f);if(h instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:l.value,value:h}}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(m=>ml(m)?Promise.resolve(r.transform(m.value,f)).then(h=>({status:l.value,value:h})):me);Me.assertNever(r)}}gl.create=(n,e,l)=>new gl({schema:n,typeName:de.ZodEffects,effect:e,...ye(l)});gl.createWithPreprocess=(n,e,l)=>new gl({schema:e,effect:{type:"preprocess",transform:n},typeName:de.ZodEffects,...ye(l)});class Qn extends xe{_parse(e){return this._getType(e)===ee.undefined?Bt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Qn.create=(n,e)=>new Qn({innerType:n,typeName:de.ZodOptional,...ye(e)});class yl extends xe{_parse(e){return this._getType(e)===ee.null?Bt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}yl.create=(n,e)=>new yl({innerType:n,typeName:de.ZodNullable,...ye(e)});class nc extends xe{_parse(e){const{ctx:l}=this._processInputParams(e);let o=l.data;return l.parsedType===ee.undefined&&(o=this._def.defaultValue()),this._def.innerType._parse({data:o,path:l.path,parent:l})}removeDefault(){return this._def.innerType}}nc.create=(n,e)=>new nc({innerType:n,typeName:de.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ye(e)});class ic extends xe{_parse(e){const{ctx:l}=this._processInputParams(e),o={...l,common:{...l.common,issues:[]}},r=this._def.innerType._parse({data:o.data,path:o.path,parent:{...o}});return ur(r)?r.then(f=>({status:"valid",value:f.status==="valid"?f.value:this._def.catchValue({get error(){return new Sn(o.common.issues)},input:o.data})})):{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new Sn(o.common.issues)},input:o.data})}}removeCatch(){return this._def.innerType}}ic.create=(n,e)=>new ic({innerType:n,typeName:de.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ye(e)});class Yp extends xe{_parse(e){if(this._getType(e)!==ee.nan){const o=this._getOrReturnCtx(e);return Q(o,{code:$.invalid_type,expected:ee.nan,received:o.parsedType}),me}return{status:"valid",value:e.data}}}Yp.create=n=>new Yp({typeName:de.ZodNaN,...ye(n)});class pT extends xe{_parse(e){const{ctx:l}=this._processInputParams(e),o=l.data;return this._def.type._parse({data:o,path:l.path,parent:l})}unwrap(){return this._def.type}}class Cc extends xe{_parse(e){const{status:l,ctx:o}=this._processInputParams(e);if(o.common.async)return(async()=>{const f=await this._def.in._parseAsync({data:o.data,path:o.path,parent:o});return f.status==="aborted"?me:f.status==="dirty"?(l.dirty(),Mo(f.value)):this._def.out._parseAsync({data:f.value,path:o.path,parent:o})})();{const r=this._def.in._parseSync({data:o.data,path:o.path,parent:o});return r.status==="aborted"?me:r.status==="dirty"?(l.dirty(),{status:"dirty",value:r.value}):this._def.out._parseSync({data:r.value,path:o.path,parent:o})}}static create(e,l){return new Cc({in:e,out:l,typeName:de.ZodPipeline})}}class lc extends xe{_parse(e){const l=this._def.innerType._parse(e),o=r=>(ml(r)&&(r.value=Object.freeze(r.value)),r);return ur(l)?l.then(r=>o(r)):o(l)}unwrap(){return this._def.innerType}}lc.create=(n,e)=>new lc({innerType:n,typeName:de.ZodReadonly,...ye(e)});var de;(function(n){n.ZodString="ZodString",n.ZodNumber="ZodNumber",n.ZodNaN="ZodNaN",n.ZodBigInt="ZodBigInt",n.ZodBoolean="ZodBoolean",n.ZodDate="ZodDate",n.ZodSymbol="ZodSymbol",n.ZodUndefined="ZodUndefined",n.ZodNull="ZodNull",n.ZodAny="ZodAny",n.ZodUnknown="ZodUnknown",n.ZodNever="ZodNever",n.ZodVoid="ZodVoid",n.ZodArray="ZodArray",n.ZodObject="ZodObject",n.ZodUnion="ZodUnion",n.ZodDiscriminatedUnion="ZodDiscriminatedUnion",n.ZodIntersection="ZodIntersection",n.ZodTuple="ZodTuple",n.ZodRecord="ZodRecord",n.ZodMap="ZodMap",n.ZodSet="ZodSet",n.ZodFunction="ZodFunction",n.ZodLazy="ZodLazy",n.ZodLiteral="ZodLiteral",n.ZodEnum="ZodEnum",n.ZodEffects="ZodEffects",n.ZodNativeEnum="ZodNativeEnum",n.ZodOptional="ZodOptional",n.ZodNullable="ZodNullable",n.ZodDefault="ZodDefault",n.ZodCatch="ZodCatch",n.ZodPromise="ZodPromise",n.ZodBranded="ZodBranded",n.ZodPipeline="ZodPipeline",n.ZodReadonly="ZodReadonly"})(de||(de={}));const Ti=Wt.create,$p=Ci.create;Si.create;const hT=cr.create;pl.create;const Jp=ju.create;Wn.create;const Ro=en.create,gT=Xe.create,yT=fr.create;dr.create;_i.create;const vT=mr.create,TT=tc.create,CT=hl.create;pr.create;Qn.create;yl.create;const sl={string:n=>Wt.create({...n,coerce:!0}),number:n=>Ci.create({...n,coerce:!0}),boolean:n=>cr.create({...n,coerce:!0}),bigint:n=>Si.create({...n,coerce:!0}),date:n=>pl.create({...n,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let ST,_T;function xT(){return{geminiUrl:ST,vertexUrl:_T}}function ET(n,e,l){var o,r,f;if(!(!((o=n.httpOptions)===null||o===void 0)&&o.baseUrl)){const m=xT();return n.vertexai?(r=m.vertexUrl)!==null&&r!==void 0?r:e:(f=m.geminiUrl)!==null&&f!==void 0?f:l}return n.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Tl{}function fe(n,e){const l=/\{([^}]+)\}/g;return n.replace(l,(o,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const f=e[r];return f!=null?String(f):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function c(n,e,l){for(let f=0;f<e.length-1;f++){const m=e[f];if(m.endsWith("[]")){const h=m.slice(0,-2);if(!(h in n))if(Array.isArray(l))n[h]=Array.from({length:l.length},()=>({}));else throw new Error(`Value must be a list given an array path ${m}`);if(Array.isArray(n[h])){const y=n[h];if(Array.isArray(l))for(let p=0;p<y.length;p++){const v=y[p];c(v,e.slice(f+1),l[p])}else for(const p of y)c(p,e.slice(f+1),l)}return}else if(m.endsWith("[0]")){const h=m.slice(0,-3);h in n||(n[h]=[{}]);const y=n[h];c(y[0],e.slice(f+1),l);return}(!n[m]||typeof n[m]!="object")&&(n[m]={}),n=n[m]}const o=e[e.length-1],r=n[o];if(r!==void 0){if(!l||typeof l=="object"&&Object.keys(l).length===0||l===r)return;if(typeof r=="object"&&typeof l=="object"&&r!==null&&l!==null)Object.assign(r,l);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else n[o]=l}function u(n,e){try{if(e.length===1&&e[0]==="_self")return n;for(let l=0;l<e.length;l++){if(typeof n!="object"||n===null)return;const o=e[l];if(o.endsWith("[]")){const r=o.slice(0,-2);if(r in n){const f=n[r];return Array.isArray(f)?f.map(m=>u(m,e.slice(l+1))):void 0}else return}else n=n[o]}return n}catch(l){if(l instanceof TypeError)return;throw l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Zp;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Zp||(Zp={}));var Kp;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(Kp||(Kp={}));var jt;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(jt||(jt={}));var Xp;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Xp||(Xp={}));var Qp;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(Qp||(Qp={}));var Wp;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(Wp||(Wp={}));var jp;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(jp||(jp={}));var eh;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(eh||(eh={}));var th;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(th||(th={}));var nh;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(nh||(nh={}));var ih;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(ih||(ih={}));var lh;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(lh||(lh={}));var oh;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(oh||(oh={}));var hr;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(hr||(hr={}));var ah;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(ah||(ah={}));var oc;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(oc||(oc={}));var rh;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(rh||(rh={}));var sh;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(sh||(sh={}));var uh;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(uh||(uh={}));var ch;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(ch||(ch={}));var fh;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE"})(fh||(fh={}));var dh;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(dh||(dh={}));var mh;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(mh||(mh={}));var ph;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(ph||(ph={}));var hh;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi"})(hh||(hh={}));var gh;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(gh||(gh={}));var yh;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(yh||(yh={}));var vh;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(vh||(vh={}));var Th;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Th||(Th={}));var Ch;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(Ch||(Ch={}));var Sh;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(Sh||(Sh={}));var _h;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(_h||(_h={}));var xh;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(xh||(xh={}));var Eh;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Eh||(Eh={}));var Ah;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(Ah||(Ah={}));var bh;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(bh||(bh={}));var Mh;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(Mh||(Mh={}));var Rh;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Rh||(Rh={}));var cl;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(cl||(cl={}));class ac{constructor(e){const l={};for(const o of e.headers.entries())l[o[0]]=o[1];this.headers=l,this.responseInternal=e}json(){return this.responseInternal.json()}}class Eo{get text(){var e,l,o,r,f,m,h,y;if(((r=(o=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",v=!1;const C=[];for(const _ of(y=(h=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[x,b]of Object.entries(_))x!=="text"&&x!=="thought"&&(b!==null||b!==void 0)&&C.push(x);if(typeof _.text=="string"){if(typeof _.thought=="boolean"&&_.thought)continue;v=!0,p+=_.text}}return C.length>0&&console.warn(`there are non-text parts ${C} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?p:void 0}get data(){var e,l,o,r,f,m,h,y;if(((r=(o=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const v=[];for(const C of(y=(h=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[_,x]of Object.entries(C))_!=="inlineData"&&(x!==null||x!==void 0)&&v.push(_);C.inlineData&&typeof C.inlineData.data=="string"&&(p+=atob(C.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var e,l,o,r,f,m,h,y;if(((r=(o=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(y=(h=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((p==null?void 0:p.length)!==0)return p}get executableCode(){var e,l,o,r,f,m,h,y,p;if(((r=(o=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(h=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(C=>C.executableCode).map(C=>C.executableCode).filter(C=>C!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var e,l,o,r,f,m,h,y,p;if(((r=(o=(l=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||l===void 0?void 0:l.content)===null||o===void 0?void 0:o.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(h=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(C=>C.codeExecutionResult).map(C=>C.codeExecutionResult).filter(C=>C!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.output}}class wh{}class Nh{}class AT{}class bT{}class Dh{}class kh{}class Ih{}class MT{}class Uh{}class Lh{}class Vh{}class RT{}class wT{}class NT{}class DT{get text(){var e,l,o;let r="",f=!1;const m=[];for(const h of(o=(l=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&o!==void 0?o:[]){for(const[y,p]of Object.entries(h))y!=="text"&&y!=="thought"&&p!==null&&m.push(y);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;f=!0,r+=h.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?r:void 0}get data(){var e,l,o;let r="";const f=[];for(const m of(o=(l=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&o!==void 0?o:[]){for(const[h,y]of Object.entries(m))h!=="inlineData"&&y!==null&&f.push(h);m.inlineData&&typeof m.inlineData.data=="string"&&(r+=atob(m.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class kT{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qe(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const l=e.split("/",2);return`publishers/${l[0]}/models/${l[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Tg(n,e){const l=qe(n,e);return l?l.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${l}`:l.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${l}`:l:""}function Cg(n){return Array.isArray(n)?n.map(e=>gr(e)):[gr(n)]}function gr(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function IT(n){const e=gr(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function UT(n){const e=gr(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function qh(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function Sg(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>qh(e)):[qh(n)]}function rc(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function Oh(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function Bh(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function dt(n){if(n==null)throw new Error("ContentUnion is required");return rc(n)?n:{role:"user",parts:Sg(n)}}function _g(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(l=>{const o=dt(l);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(n.isVertexAI()){const l=dt(e);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]}return Array.isArray(e)?e.map(l=>dt(l)):[dt(e)]}function Ht(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(Oh(n)||Bh(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[dt(n)]}const e=[],l=[],o=rc(n[0]);for(const r of n){const f=rc(r);if(f!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(f)e.push(r);else{if(Oh(r)||Bh(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");l.push(r)}}return o||e.push({role:"user",parts:Sg(l)}),e}const LT=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),zh=CT(["string","number","integer","object","array","boolean","null"]),VT=yT([zh,Ro(zh)]);function qT(n=!0){const e=TT(()=>{const l=gT({type:VT.optional(),format:Ti().optional(),title:Ti().optional(),description:Ti().optional(),default:Jp().optional(),items:e.optional(),minItems:sl.string().optional(),maxItems:sl.string().optional(),enum:Ro(Jp()).optional(),properties:vT(Ti(),e).optional(),required:Ro(Ti()).optional(),minProperties:sl.string().optional(),maxProperties:sl.string().optional(),propertyOrdering:Ro(Ti()).optional(),minimum:$p().optional(),maximum:$p().optional(),minLength:sl.string().optional(),maxLength:sl.string().optional(),pattern:Ti().optional(),anyOf:Ro(e).optional(),additionalProperties:hT().optional()});return n?l.strict():l});return e}function OT(n,e){n.includes("null")&&(e.nullable=!0);const l=n.filter(o=>o!=="null");if(l.length===1)e.type=Object.values(jt).includes(l[0].toUpperCase())?l[0].toUpperCase():jt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of l)e.anyOf.push({type:Object.values(jt).includes(o.toUpperCase())?o.toUpperCase():jt.TYPE_UNSPECIFIED})}}function fl(n){const e={},l=["items"],o=["anyOf"],r=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const f=n.anyOf;f!=null&&f.length==2&&(f[0].type==="null"?(e.nullable=!0,n=f[1]):f[1].type==="null"&&(e.nullable=!0,n=f[0])),n.type instanceof Array&&OT(n.type,e);for(const[m,h]of Object.entries(n))if(h!=null)if(m=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;e.type=Object.values(jt).includes(h.toUpperCase())?h.toUpperCase():jt.TYPE_UNSPECIFIED}else if(l.includes(m))e[m]=fl(h);else if(o.includes(m)){const y=[];for(const p of h){if(p.type=="null"){e.nullable=!0;continue}y.push(fl(p))}e[m]=y}else if(r.includes(m)){const y={};for(const[p,v]of Object.entries(h))y[p]=fl(v);e[m]=y}else{if(m==="additionalProperties")continue;e[m]=h}return e}function yr(n){if(Object.keys(n).includes("$schema")){delete n.$schema;const e=qT().parse(n);return fl(e)}else return fl(n)}function xg(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function Sc(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function Io(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(e.parameters=yr(e.parameters)),e.response&&(e.response=yr(e.response));return n}function Uo(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const l of n)e.push(l);return e}function BT(n,e,l,o=1){const r=!e.startsWith(`${l}/`)&&e.split("/").length===o;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${l}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:r?`projects/${n.getProject()}/locations/${n.getLocation()}/${l}/${e}`:e:r?`${l}/${e}`:e}function jn(n,e){if(typeof e!="string")throw new Error("name must be a string");return BT(n,e,"cachedContents")}function Eg(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function xn(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}function zT(n){return n!=null&&typeof n=="object"&&"name"in n}function PT(n){return n!=null&&typeof n=="object"&&"video"in n}function GT(n){return n!=null&&typeof n=="object"&&"uri"in n}function Ag(n){var e;let l;if(zT(n)&&(l=n.name),!(GT(n)&&(l=n.uri,l===void 0))&&!(PT(n)&&(l=(e=n.video)===null||e===void 0?void 0:e.uri,l===void 0))){if(typeof n=="string"&&(l=n),l===void 0)throw new Error("Could not extract file name from the provided input.");if(l.startsWith("https://")){const r=l.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${l}`);l=r[0]}else l.startsWith("files/")&&(l=l.split("files/")[1]);return l}}function bg(n,e){let l;return n.isVertexAI()?l=e?"publishers/google/models":"models":l=e?"models":"tunedModels",l}function Mg(n){for(const e of["models","tunedModels","publisherModels"])if(HT(n,e))return n[e];return[]}function HT(n,e){return n!==null&&typeof n=="object"&&e in n}function FT(n,e={}){const l=n,o={name:l.name,description:l.description,parameters:fl(Tr(l.inputSchema))};return e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function YT(n,e={}){const l=[],o=new Set;for(const r of n){const f=r.name;if(o.has(f))throw new Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);o.add(f);const m=FT(r,e);m.functionDeclarations&&l.push(...m.functionDeclarations)}return{functionDeclarations:l}}function $T(n){const e=[];for(const l of n)e.push(Tr(l));return e}function JT(n){const e={};for(const[l,o]of Object.entries(n)){const r=o;e[l]=Tr(r)}return e}function Tr(n){const e=new Set(["items"]),l=new Set(["anyOf"]),o=new Set(["properties"]),r={};for(const[f,m]of Object.entries(n))if(e.has(f))r[f]=Tr(m);else if(l.has(f))r[f]=$T(m);else if(o.has(f))r[f]=JT(m);else if(f==="type"){const h=m.toUpperCase();r[f]=Object.values(jt).includes(h)?h:jt.TYPE_UNSPECIFIED}else LT.has(f)&&(r[f]=m);return r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZT(n){const e={},l=u(n,["fps"]);l!=null&&c(e,["fps"],l);const o=u(n,["endOffset"]);o!=null&&c(e,["endOffset"],o);const r=u(n,["startOffset"]);return r!=null&&c(e,["startOffset"],r),e}function KT(n){const e={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(n,["data"]);l!=null&&c(e,["data"],l);const o=u(n,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function XT(n){const e={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(n,["fileUri"]);l!=null&&c(e,["fileUri"],l);const o=u(n,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function QT(n){const e={},l=u(n,["videoMetadata"]);l!=null&&c(e,["videoMetadata"],ZT(l));const o=u(n,["thought"]);o!=null&&c(e,["thought"],o);const r=u(n,["inlineData"]);r!=null&&c(e,["inlineData"],KT(r));const f=u(n,["fileData"]);f!=null&&c(e,["fileData"],XT(f));const m=u(n,["thoughtSignature"]);m!=null&&c(e,["thoughtSignature"],m);const h=u(n,["codeExecutionResult"]);h!=null&&c(e,["codeExecutionResult"],h);const y=u(n,["executableCode"]);y!=null&&c(e,["executableCode"],y);const p=u(n,["functionCall"]);p!=null&&c(e,["functionCall"],p);const v=u(n,["functionResponse"]);v!=null&&c(e,["functionResponse"],v);const C=u(n,["text"]);return C!=null&&c(e,["text"],C),e}function Ph(n){const e={},l=u(n,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>QT(f))),c(e,["parts"],r)}const o=u(n,["role"]);return o!=null&&c(e,["role"],o),e}function WT(n){const e={},l=u(n,["behavior"]);l!=null&&c(e,["behavior"],l);const o=u(n,["description"]);o!=null&&c(e,["description"],o);const r=u(n,["name"]);r!=null&&c(e,["name"],r);const f=u(n,["parameters"]);f!=null&&c(e,["parameters"],f);const m=u(n,["parametersJsonSchema"]);m!=null&&c(e,["parametersJsonSchema"],m);const h=u(n,["response"]);h!=null&&c(e,["response"],h);const y=u(n,["responseJsonSchema"]);return y!=null&&c(e,["responseJsonSchema"],y),e}function jT(n){const e={},l=u(n,["startTime"]);l!=null&&c(e,["startTime"],l);const o=u(n,["endTime"]);return o!=null&&c(e,["endTime"],o),e}function eC(n){const e={},l=u(n,["timeRangeFilter"]);return l!=null&&c(e,["timeRangeFilter"],jT(l)),e}function tC(n){const e={},l=u(n,["mode"]);l!=null&&c(e,["mode"],l);const o=u(n,["dynamicThreshold"]);return o!=null&&c(e,["dynamicThreshold"],o),e}function nC(n){const e={},l=u(n,["dynamicRetrievalConfig"]);return l!=null&&c(e,["dynamicRetrievalConfig"],tC(l)),e}function iC(){return{}}function lC(n){const e={},l=u(n,["functionDeclarations"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(y=>WT(y))),c(e,["functionDeclarations"],h)}if(u(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(n,["googleSearch"]);o!=null&&c(e,["googleSearch"],eC(o));const r=u(n,["googleSearchRetrieval"]);if(r!=null&&c(e,["googleSearchRetrieval"],nC(r)),u(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(n,["urlContext"])!=null&&c(e,["urlContext"],iC());const m=u(n,["codeExecution"]);return m!=null&&c(e,["codeExecution"],m),e}function oC(n){const e={},l=u(n,["mode"]);l!=null&&c(e,["mode"],l);const o=u(n,["allowedFunctionNames"]);return o!=null&&c(e,["allowedFunctionNames"],o),e}function aC(n){const e={},l=u(n,["latitude"]);l!=null&&c(e,["latitude"],l);const o=u(n,["longitude"]);return o!=null&&c(e,["longitude"],o),e}function rC(n){const e={},l=u(n,["latLng"]);l!=null&&c(e,["latLng"],aC(l));const o=u(n,["languageCode"]);return o!=null&&c(e,["languageCode"],o),e}function sC(n){const e={},l=u(n,["functionCallingConfig"]);l!=null&&c(e,["functionCallingConfig"],oC(l));const o=u(n,["retrievalConfig"]);return o!=null&&c(e,["retrievalConfig"],rC(o)),e}function uC(n,e){const l={},o=u(n,["ttl"]);e!==void 0&&o!=null&&c(e,["ttl"],o);const r=u(n,["expireTime"]);e!==void 0&&r!=null&&c(e,["expireTime"],r);const f=u(n,["displayName"]);e!==void 0&&f!=null&&c(e,["displayName"],f);const m=u(n,["contents"]);if(e!==void 0&&m!=null){let v=Ht(m);Array.isArray(v)&&(v=v.map(C=>Ph(C))),c(e,["contents"],v)}const h=u(n,["systemInstruction"]);e!==void 0&&h!=null&&c(e,["systemInstruction"],Ph(dt(h)));const y=u(n,["tools"]);if(e!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(C=>lC(C))),c(e,["tools"],v)}const p=u(n,["toolConfig"]);if(e!==void 0&&p!=null&&c(e,["toolConfig"],sC(p)),u(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return l}function cC(n,e){const l={},o=u(e,["model"]);o!=null&&c(l,["model"],Tg(n,o));const r=u(e,["config"]);return r!=null&&c(l,["config"],uC(r,l)),l}function fC(n,e){const l={},o=u(e,["name"]);o!=null&&c(l,["_url","name"],jn(n,o));const r=u(e,["config"]);return r!=null&&c(l,["config"],r),l}function dC(n,e){const l={},o=u(e,["name"]);o!=null&&c(l,["_url","name"],jn(n,o));const r=u(e,["config"]);return r!=null&&c(l,["config"],r),l}function mC(n,e){const l={},o=u(n,["ttl"]);e!==void 0&&o!=null&&c(e,["ttl"],o);const r=u(n,["expireTime"]);return e!==void 0&&r!=null&&c(e,["expireTime"],r),l}function pC(n,e){const l={},o=u(e,["name"]);o!=null&&c(l,["_url","name"],jn(n,o));const r=u(e,["config"]);return r!=null&&c(l,["config"],mC(r,l)),l}function hC(n,e){const l={},o=u(n,["pageSize"]);e!==void 0&&o!=null&&c(e,["_query","pageSize"],o);const r=u(n,["pageToken"]);return e!==void 0&&r!=null&&c(e,["_query","pageToken"],r),l}function gC(n){const e={},l=u(n,["config"]);return l!=null&&c(e,["config"],hC(l,e)),e}function yC(n){const e={},l=u(n,["fps"]);l!=null&&c(e,["fps"],l);const o=u(n,["endOffset"]);o!=null&&c(e,["endOffset"],o);const r=u(n,["startOffset"]);return r!=null&&c(e,["startOffset"],r),e}function vC(n){const e={},l=u(n,["displayName"]);l!=null&&c(e,["displayName"],l);const o=u(n,["data"]);o!=null&&c(e,["data"],o);const r=u(n,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function TC(n){const e={},l=u(n,["displayName"]);l!=null&&c(e,["displayName"],l);const o=u(n,["fileUri"]);o!=null&&c(e,["fileUri"],o);const r=u(n,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function CC(n){const e={},l=u(n,["videoMetadata"]);l!=null&&c(e,["videoMetadata"],yC(l));const o=u(n,["thought"]);o!=null&&c(e,["thought"],o);const r=u(n,["inlineData"]);r!=null&&c(e,["inlineData"],vC(r));const f=u(n,["fileData"]);f!=null&&c(e,["fileData"],TC(f));const m=u(n,["thoughtSignature"]);m!=null&&c(e,["thoughtSignature"],m);const h=u(n,["codeExecutionResult"]);h!=null&&c(e,["codeExecutionResult"],h);const y=u(n,["executableCode"]);y!=null&&c(e,["executableCode"],y);const p=u(n,["functionCall"]);p!=null&&c(e,["functionCall"],p);const v=u(n,["functionResponse"]);v!=null&&c(e,["functionResponse"],v);const C=u(n,["text"]);return C!=null&&c(e,["text"],C),e}function Gh(n){const e={},l=u(n,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>CC(f))),c(e,["parts"],r)}const o=u(n,["role"]);return o!=null&&c(e,["role"],o),e}function SC(n){const e={};if(u(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=u(n,["description"]);l!=null&&c(e,["description"],l);const o=u(n,["name"]);o!=null&&c(e,["name"],o);const r=u(n,["parameters"]);r!=null&&c(e,["parameters"],r);const f=u(n,["parametersJsonSchema"]);f!=null&&c(e,["parametersJsonSchema"],f);const m=u(n,["response"]);m!=null&&c(e,["response"],m);const h=u(n,["responseJsonSchema"]);return h!=null&&c(e,["responseJsonSchema"],h),e}function _C(n){const e={},l=u(n,["startTime"]);l!=null&&c(e,["startTime"],l);const o=u(n,["endTime"]);return o!=null&&c(e,["endTime"],o),e}function xC(n){const e={},l=u(n,["timeRangeFilter"]);return l!=null&&c(e,["timeRangeFilter"],_C(l)),e}function EC(n){const e={},l=u(n,["mode"]);l!=null&&c(e,["mode"],l);const o=u(n,["dynamicThreshold"]);return o!=null&&c(e,["dynamicThreshold"],o),e}function AC(n){const e={},l=u(n,["dynamicRetrievalConfig"]);return l!=null&&c(e,["dynamicRetrievalConfig"],EC(l)),e}function bC(){return{}}function MC(n){const e={},l=u(n,["apiKeyString"]);return l!=null&&c(e,["apiKeyString"],l),e}function RC(n){const e={},l=u(n,["apiKeyConfig"]);l!=null&&c(e,["apiKeyConfig"],MC(l));const o=u(n,["authType"]);o!=null&&c(e,["authType"],o);const r=u(n,["googleServiceAccountConfig"]);r!=null&&c(e,["googleServiceAccountConfig"],r);const f=u(n,["httpBasicAuthConfig"]);f!=null&&c(e,["httpBasicAuthConfig"],f);const m=u(n,["oauthConfig"]);m!=null&&c(e,["oauthConfig"],m);const h=u(n,["oidcConfig"]);return h!=null&&c(e,["oidcConfig"],h),e}function wC(n){const e={},l=u(n,["authConfig"]);return l!=null&&c(e,["authConfig"],RC(l)),e}function NC(){return{}}function DC(n){const e={},l=u(n,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(C=>SC(C))),c(e,["functionDeclarations"],v)}const o=u(n,["retrieval"]);o!=null&&c(e,["retrieval"],o);const r=u(n,["googleSearch"]);r!=null&&c(e,["googleSearch"],xC(r));const f=u(n,["googleSearchRetrieval"]);f!=null&&c(e,["googleSearchRetrieval"],AC(f)),u(n,["enterpriseWebSearch"])!=null&&c(e,["enterpriseWebSearch"],bC());const h=u(n,["googleMaps"]);h!=null&&c(e,["googleMaps"],wC(h)),u(n,["urlContext"])!=null&&c(e,["urlContext"],NC());const p=u(n,["codeExecution"]);return p!=null&&c(e,["codeExecution"],p),e}function kC(n){const e={},l=u(n,["mode"]);l!=null&&c(e,["mode"],l);const o=u(n,["allowedFunctionNames"]);return o!=null&&c(e,["allowedFunctionNames"],o),e}function IC(n){const e={},l=u(n,["latitude"]);l!=null&&c(e,["latitude"],l);const o=u(n,["longitude"]);return o!=null&&c(e,["longitude"],o),e}function UC(n){const e={},l=u(n,["latLng"]);l!=null&&c(e,["latLng"],IC(l));const o=u(n,["languageCode"]);return o!=null&&c(e,["languageCode"],o),e}function LC(n){const e={},l=u(n,["functionCallingConfig"]);l!=null&&c(e,["functionCallingConfig"],kC(l));const o=u(n,["retrievalConfig"]);return o!=null&&c(e,["retrievalConfig"],UC(o)),e}function VC(n,e){const l={},o=u(n,["ttl"]);e!==void 0&&o!=null&&c(e,["ttl"],o);const r=u(n,["expireTime"]);e!==void 0&&r!=null&&c(e,["expireTime"],r);const f=u(n,["displayName"]);e!==void 0&&f!=null&&c(e,["displayName"],f);const m=u(n,["contents"]);if(e!==void 0&&m!=null){let C=Ht(m);Array.isArray(C)&&(C=C.map(_=>Gh(_))),c(e,["contents"],C)}const h=u(n,["systemInstruction"]);e!==void 0&&h!=null&&c(e,["systemInstruction"],Gh(dt(h)));const y=u(n,["tools"]);if(e!==void 0&&y!=null){let C=y;Array.isArray(C)&&(C=C.map(_=>DC(_))),c(e,["tools"],C)}const p=u(n,["toolConfig"]);e!==void 0&&p!=null&&c(e,["toolConfig"],LC(p));const v=u(n,["kmsKeyName"]);return e!==void 0&&v!=null&&c(e,["encryption_spec","kmsKeyName"],v),l}function qC(n,e){const l={},o=u(e,["model"]);o!=null&&c(l,["model"],Tg(n,o));const r=u(e,["config"]);return r!=null&&c(l,["config"],VC(r,l)),l}function OC(n,e){const l={},o=u(e,["name"]);o!=null&&c(l,["_url","name"],jn(n,o));const r=u(e,["config"]);return r!=null&&c(l,["config"],r),l}function BC(n,e){const l={},o=u(e,["name"]);o!=null&&c(l,["_url","name"],jn(n,o));const r=u(e,["config"]);return r!=null&&c(l,["config"],r),l}function zC(n,e){const l={},o=u(n,["ttl"]);e!==void 0&&o!=null&&c(e,["ttl"],o);const r=u(n,["expireTime"]);return e!==void 0&&r!=null&&c(e,["expireTime"],r),l}function PC(n,e){const l={},o=u(e,["name"]);o!=null&&c(l,["_url","name"],jn(n,o));const r=u(e,["config"]);return r!=null&&c(l,["config"],zC(r,l)),l}function GC(n,e){const l={},o=u(n,["pageSize"]);e!==void 0&&o!=null&&c(e,["_query","pageSize"],o);const r=u(n,["pageToken"]);return e!==void 0&&r!=null&&c(e,["_query","pageToken"],r),l}function HC(n){const e={},l=u(n,["config"]);return l!=null&&c(e,["config"],GC(l,e)),e}function lr(n){const e={},l=u(n,["name"]);l!=null&&c(e,["name"],l);const o=u(n,["displayName"]);o!=null&&c(e,["displayName"],o);const r=u(n,["model"]);r!=null&&c(e,["model"],r);const f=u(n,["createTime"]);f!=null&&c(e,["createTime"],f);const m=u(n,["updateTime"]);m!=null&&c(e,["updateTime"],m);const h=u(n,["expireTime"]);h!=null&&c(e,["expireTime"],h);const y=u(n,["usageMetadata"]);return y!=null&&c(e,["usageMetadata"],y),e}function FC(){return{}}function YC(n){const e={},l=u(n,["nextPageToken"]);l!=null&&c(e,["nextPageToken"],l);const o=u(n,["cachedContents"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>lr(f))),c(e,["cachedContents"],r)}return e}function or(n){const e={},l=u(n,["name"]);l!=null&&c(e,["name"],l);const o=u(n,["displayName"]);o!=null&&c(e,["displayName"],o);const r=u(n,["model"]);r!=null&&c(e,["model"],r);const f=u(n,["createTime"]);f!=null&&c(e,["createTime"],f);const m=u(n,["updateTime"]);m!=null&&c(e,["updateTime"],m);const h=u(n,["expireTime"]);h!=null&&c(e,["expireTime"],h);const y=u(n,["usageMetadata"]);return y!=null&&c(e,["usageMetadata"],y),e}function $C(){return{}}function JC(n){const e={},l=u(n,["nextPageToken"]);l!=null&&c(e,["nextPageToken"],l);const o=u(n,["cachedContents"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>or(f))),c(e,["cachedContents"],r)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var vl;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(vl||(vl={}));class Cr{constructor(e,l,o,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=l,this.init(e,o,r)}init(e,l,o){var r,f;this.nameInternal=e,this.pageInternal=l[this.nameInternal]||[],this.idxInternal=0;let m={config:{}};o?typeof o=="object"?m=Object.assign({},o):m=o:m={config:{}},m.config&&(m.config.pageToken=l.nextPageToken),this.paramsInternal=m,this.pageInternalSize=(f=(r=m.config)===null||r===void 0?void 0:r.pageSize)!==null&&f!==void 0?f:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZC extends Tl{constructor(e){super(),this.apiClient=e,this.list=async(l={})=>new Cr(vl.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(l),l)}async create(e){var l,o,r,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=qC(this.apiClient,e);return h=fe("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>or(v))}else{const p=cC(this.apiClient,e);return h=fe("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>lr(v))}}async get(e){var l,o,r,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=OC(this.apiClient,e);return h=fe("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>or(v))}else{const p=fC(this.apiClient,e);return h=fe("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>lr(v))}}async delete(e){var l,o,r,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=BC(this.apiClient,e);return h=fe("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(()=>{const v=$C(),C=new Lh;return Object.assign(C,v),C})}else{const p=dC(this.apiClient,e);return h=fe("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(()=>{const v=FC(),C=new Lh;return Object.assign(C,v),C})}}async update(e){var l,o,r,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=PC(this.apiClient,e);return h=fe("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>or(v))}else{const p=pC(this.apiClient,e);return h=fe("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>lr(v))}}async listInternal(e){var l,o,r,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=HC(e);return h=fe("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>{const C=JC(v),_=new Vh;return Object.assign(_,C),_})}else{const p=gC(e);return h=fe("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>{const C=YC(v),_=new Vh;return Object.assign(_,C),_})}}}function Hh(n){var e=typeof Symbol=="function"&&Symbol.iterator,l=e&&n[e],o=0;if(l)return l.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Oe(n){return this instanceof Oe?(this.v=n,this):new Oe(n)}function dl(n,e,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=l.apply(n,e||[]),r,f=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",m),r[Symbol.asyncIterator]=function(){return this},r;function m(x){return function(b){return Promise.resolve(b).then(x,C)}}function h(x,b){o[x]&&(r[x]=function(D){return new Promise(function(q,N){f.push([x,D,q,N])>1||y(x,D)})},b&&(r[x]=b(r[x])))}function y(x,b){try{p(o[x](b))}catch(D){_(f[0][3],D)}}function p(x){x.value instanceof Oe?Promise.resolve(x.value.v).then(v,C):_(f[0][2],x)}function v(x){y("next",x)}function C(x){y("throw",x)}function _(x,b){x(b),f.shift(),f.length&&y(f[0][0],f[0][1])}}function No(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],l;return e?e.call(n):(n=typeof Hh=="function"?Hh(n):n[Symbol.iterator](),l={},o("next"),o("throw"),o("return"),l[Symbol.asyncIterator]=function(){return this},l);function o(f){l[f]=n[f]&&function(m){return new Promise(function(h,y){m=n[f](m),r(h,y,m.done,m.value)})}}function r(f,m,h,y){Promise.resolve(y).then(function(p){f({value:p,done:h})},m)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KC(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const l=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return l===void 0?!1:Rg(l)}function Rg(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function XC(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Fh(n){if(n===void 0||n.length===0)return[];const e=[],l=n.length;let o=0;for(;o<l;)if(n[o].role==="user")e.push(n[o]),o++;else{const r=[];let f=!0;for(;o<l&&n[o].role==="model";)r.push(n[o]),f&&!Rg(n[o])&&(f=!1),o++;f?e.push(...r):e.pop()}return e}class QC{constructor(e,l){this.modelsModule=e,this.apiClient=l}create(e){return new WC(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class WC{constructor(e,l,o,r={},f=[]){this.apiClient=e,this.modelsModule=l,this.model=o,this.config=r,this.history=f,this.sendPromise=Promise.resolve(),XC(f)}async sendMessage(e){var l;await this.sendPromise;const o=dt(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(l=e.config)!==null&&l!==void 0?l:this.config});return this.sendPromise=(async()=>{var f,m,h;const y=await r,p=(m=(f=y.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content,v=y.automaticFunctionCallingHistory,C=this.getHistory(!0).length;let _=[];v!=null&&(_=(h=v.slice(C))!==null&&h!==void 0?h:[]);const x=p?[p]:[];this.recordHistory(o,x,_)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var l;await this.sendPromise;const o=dt(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(l=e.config)!==null&&l!==void 0?l:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const f=await r;return this.processStreamResponse(f,o)}getHistory(e=!1){const l=e?Fh(this.history):this.history;return structuredClone(l)}processStreamResponse(e,l){var o,r;return dl(this,arguments,function*(){var m,h,y,p;const v=[];try{for(var C=!0,_=No(e),x;x=yield Oe(_.next()),m=x.done,!m;C=!0){p=x.value,C=!1;const b=p;if(KC(b)){const D=(r=(o=b.candidates)===null||o===void 0?void 0:o[0])===null||r===void 0?void 0:r.content;D!==void 0&&v.push(D)}yield yield Oe(b)}}catch(b){h={error:b}}finally{try{!C&&!m&&(y=_.return)&&(yield Oe(y.call(_)))}finally{if(h)throw h.error}}this.recordHistory(l,v)})}recordHistory(e,l,o){let r=[];l.length>0&&l.every(f=>f.role!==void 0)?r=l:r.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...Fh(o)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sr extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Sr.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jC(n,e){const l={},o=u(n,["pageSize"]);e!==void 0&&o!=null&&c(e,["_query","pageSize"],o);const r=u(n,["pageToken"]);return e!==void 0&&r!=null&&c(e,["_query","pageToken"],r),l}function eS(n){const e={},l=u(n,["config"]);return l!=null&&c(e,["config"],jC(l,e)),e}function tS(n){const e={},l=u(n,["details"]);l!=null&&c(e,["details"],l);const o=u(n,["message"]);o!=null&&c(e,["message"],o);const r=u(n,["code"]);return r!=null&&c(e,["code"],r),e}function nS(n){const e={},l=u(n,["name"]);l!=null&&c(e,["name"],l);const o=u(n,["displayName"]);o!=null&&c(e,["displayName"],o);const r=u(n,["mimeType"]);r!=null&&c(e,["mimeType"],r);const f=u(n,["sizeBytes"]);f!=null&&c(e,["sizeBytes"],f);const m=u(n,["createTime"]);m!=null&&c(e,["createTime"],m);const h=u(n,["expirationTime"]);h!=null&&c(e,["expirationTime"],h);const y=u(n,["updateTime"]);y!=null&&c(e,["updateTime"],y);const p=u(n,["sha256Hash"]);p!=null&&c(e,["sha256Hash"],p);const v=u(n,["uri"]);v!=null&&c(e,["uri"],v);const C=u(n,["downloadUri"]);C!=null&&c(e,["downloadUri"],C);const _=u(n,["state"]);_!=null&&c(e,["state"],_);const x=u(n,["source"]);x!=null&&c(e,["source"],x);const b=u(n,["videoMetadata"]);b!=null&&c(e,["videoMetadata"],b);const D=u(n,["error"]);return D!=null&&c(e,["error"],tS(D)),e}function iS(n){const e={},l=u(n,["file"]);l!=null&&c(e,["file"],nS(l));const o=u(n,["config"]);return o!=null&&c(e,["config"],o),e}function lS(n){const e={},l=u(n,["name"]);l!=null&&c(e,["_url","file"],Ag(l));const o=u(n,["config"]);return o!=null&&c(e,["config"],o),e}function oS(n){const e={},l=u(n,["name"]);l!=null&&c(e,["_url","file"],Ag(l));const o=u(n,["config"]);return o!=null&&c(e,["config"],o),e}function aS(n){const e={},l=u(n,["details"]);l!=null&&c(e,["details"],l);const o=u(n,["message"]);o!=null&&c(e,["message"],o);const r=u(n,["code"]);return r!=null&&c(e,["code"],r),e}function sc(n){const e={},l=u(n,["name"]);l!=null&&c(e,["name"],l);const o=u(n,["displayName"]);o!=null&&c(e,["displayName"],o);const r=u(n,["mimeType"]);r!=null&&c(e,["mimeType"],r);const f=u(n,["sizeBytes"]);f!=null&&c(e,["sizeBytes"],f);const m=u(n,["createTime"]);m!=null&&c(e,["createTime"],m);const h=u(n,["expirationTime"]);h!=null&&c(e,["expirationTime"],h);const y=u(n,["updateTime"]);y!=null&&c(e,["updateTime"],y);const p=u(n,["sha256Hash"]);p!=null&&c(e,["sha256Hash"],p);const v=u(n,["uri"]);v!=null&&c(e,["uri"],v);const C=u(n,["downloadUri"]);C!=null&&c(e,["downloadUri"],C);const _=u(n,["state"]);_!=null&&c(e,["state"],_);const x=u(n,["source"]);x!=null&&c(e,["source"],x);const b=u(n,["videoMetadata"]);b!=null&&c(e,["videoMetadata"],b);const D=u(n,["error"]);return D!=null&&c(e,["error"],aS(D)),e}function rS(n){const e={},l=u(n,["nextPageToken"]);l!=null&&c(e,["nextPageToken"],l);const o=u(n,["files"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>sc(f))),c(e,["files"],r)}return e}function sS(){return{}}function uS(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cS extends Tl{constructor(e){super(),this.apiClient=e,this.list=async(l={})=>new Cr(vl.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(l),l)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(l=>sc(l))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=eS(e);return f=fe("files",h._url),m=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>{const p=rS(y),v=new RT;return Object.assign(v,p),v})}}async createInternal(e){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=iS(e);return f=fe("upload/v1beta/files",h._url),m=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(()=>{const y=sS(),p=new wT;return Object.assign(p,y),p})}}async get(e){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=lS(e);return f=fe("files/{file}",h._url),m=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>sc(y))}}async delete(e){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=oS(e);return f=fe("files/{file}",h._url),m=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(()=>{const y=uS(),p=new NT;return Object.assign(p,y),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fS(n){const e={},l=u(n,["voiceName"]);return l!=null&&c(e,["voiceName"],l),e}function dS(n){const e={},l=u(n,["voiceName"]);return l!=null&&c(e,["voiceName"],l),e}function wg(n){const e={},l=u(n,["prebuiltVoiceConfig"]);return l!=null&&c(e,["prebuiltVoiceConfig"],fS(l)),e}function mS(n){const e={},l=u(n,["prebuiltVoiceConfig"]);return l!=null&&c(e,["prebuiltVoiceConfig"],dS(l)),e}function pS(n){const e={},l=u(n,["speaker"]);l!=null&&c(e,["speaker"],l);const o=u(n,["voiceConfig"]);return o!=null&&c(e,["voiceConfig"],wg(o)),e}function hS(n){const e={},l=u(n,["speakerVoiceConfigs"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>pS(r))),c(e,["speakerVoiceConfigs"],o)}return e}function gS(n){const e={},l=u(n,["voiceConfig"]);l!=null&&c(e,["voiceConfig"],wg(l));const o=u(n,["multiSpeakerVoiceConfig"]);o!=null&&c(e,["multiSpeakerVoiceConfig"],hS(o));const r=u(n,["languageCode"]);return r!=null&&c(e,["languageCode"],r),e}function yS(n){const e={},l=u(n,["voiceConfig"]);if(l!=null&&c(e,["voiceConfig"],mS(l)),u(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=u(n,["languageCode"]);return o!=null&&c(e,["languageCode"],o),e}function vS(n){const e={},l=u(n,["fps"]);l!=null&&c(e,["fps"],l);const o=u(n,["endOffset"]);o!=null&&c(e,["endOffset"],o);const r=u(n,["startOffset"]);return r!=null&&c(e,["startOffset"],r),e}function TS(n){const e={},l=u(n,["fps"]);l!=null&&c(e,["fps"],l);const o=u(n,["endOffset"]);o!=null&&c(e,["endOffset"],o);const r=u(n,["startOffset"]);return r!=null&&c(e,["startOffset"],r),e}function CS(n){const e={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(n,["data"]);l!=null&&c(e,["data"],l);const o=u(n,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function SS(n){const e={},l=u(n,["displayName"]);l!=null&&c(e,["displayName"],l);const o=u(n,["data"]);o!=null&&c(e,["data"],o);const r=u(n,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function _S(n){const e={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(n,["fileUri"]);l!=null&&c(e,["fileUri"],l);const o=u(n,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function xS(n){const e={},l=u(n,["displayName"]);l!=null&&c(e,["displayName"],l);const o=u(n,["fileUri"]);o!=null&&c(e,["fileUri"],o);const r=u(n,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function ES(n){const e={},l=u(n,["videoMetadata"]);l!=null&&c(e,["videoMetadata"],vS(l));const o=u(n,["thought"]);o!=null&&c(e,["thought"],o);const r=u(n,["inlineData"]);r!=null&&c(e,["inlineData"],CS(r));const f=u(n,["fileData"]);f!=null&&c(e,["fileData"],_S(f));const m=u(n,["thoughtSignature"]);m!=null&&c(e,["thoughtSignature"],m);const h=u(n,["codeExecutionResult"]);h!=null&&c(e,["codeExecutionResult"],h);const y=u(n,["executableCode"]);y!=null&&c(e,["executableCode"],y);const p=u(n,["functionCall"]);p!=null&&c(e,["functionCall"],p);const v=u(n,["functionResponse"]);v!=null&&c(e,["functionResponse"],v);const C=u(n,["text"]);return C!=null&&c(e,["text"],C),e}function AS(n){const e={},l=u(n,["videoMetadata"]);l!=null&&c(e,["videoMetadata"],TS(l));const o=u(n,["thought"]);o!=null&&c(e,["thought"],o);const r=u(n,["inlineData"]);r!=null&&c(e,["inlineData"],SS(r));const f=u(n,["fileData"]);f!=null&&c(e,["fileData"],xS(f));const m=u(n,["thoughtSignature"]);m!=null&&c(e,["thoughtSignature"],m);const h=u(n,["codeExecutionResult"]);h!=null&&c(e,["codeExecutionResult"],h);const y=u(n,["executableCode"]);y!=null&&c(e,["executableCode"],y);const p=u(n,["functionCall"]);p!=null&&c(e,["functionCall"],p);const v=u(n,["functionResponse"]);v!=null&&c(e,["functionResponse"],v);const C=u(n,["text"]);return C!=null&&c(e,["text"],C),e}function bS(n){const e={},l=u(n,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>ES(f))),c(e,["parts"],r)}const o=u(n,["role"]);return o!=null&&c(e,["role"],o),e}function MS(n){const e={},l=u(n,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>AS(f))),c(e,["parts"],r)}const o=u(n,["role"]);return o!=null&&c(e,["role"],o),e}function RS(n){const e={},l=u(n,["behavior"]);l!=null&&c(e,["behavior"],l);const o=u(n,["description"]);o!=null&&c(e,["description"],o);const r=u(n,["name"]);r!=null&&c(e,["name"],r);const f=u(n,["parameters"]);f!=null&&c(e,["parameters"],f);const m=u(n,["parametersJsonSchema"]);m!=null&&c(e,["parametersJsonSchema"],m);const h=u(n,["response"]);h!=null&&c(e,["response"],h);const y=u(n,["responseJsonSchema"]);return y!=null&&c(e,["responseJsonSchema"],y),e}function wS(n){const e={};if(u(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=u(n,["description"]);l!=null&&c(e,["description"],l);const o=u(n,["name"]);o!=null&&c(e,["name"],o);const r=u(n,["parameters"]);r!=null&&c(e,["parameters"],r);const f=u(n,["parametersJsonSchema"]);f!=null&&c(e,["parametersJsonSchema"],f);const m=u(n,["response"]);m!=null&&c(e,["response"],m);const h=u(n,["responseJsonSchema"]);return h!=null&&c(e,["responseJsonSchema"],h),e}function NS(n){const e={},l=u(n,["startTime"]);l!=null&&c(e,["startTime"],l);const o=u(n,["endTime"]);return o!=null&&c(e,["endTime"],o),e}function DS(n){const e={},l=u(n,["startTime"]);l!=null&&c(e,["startTime"],l);const o=u(n,["endTime"]);return o!=null&&c(e,["endTime"],o),e}function kS(n){const e={},l=u(n,["timeRangeFilter"]);return l!=null&&c(e,["timeRangeFilter"],NS(l)),e}function IS(n){const e={},l=u(n,["timeRangeFilter"]);return l!=null&&c(e,["timeRangeFilter"],DS(l)),e}function US(n){const e={},l=u(n,["mode"]);l!=null&&c(e,["mode"],l);const o=u(n,["dynamicThreshold"]);return o!=null&&c(e,["dynamicThreshold"],o),e}function LS(n){const e={},l=u(n,["mode"]);l!=null&&c(e,["mode"],l);const o=u(n,["dynamicThreshold"]);return o!=null&&c(e,["dynamicThreshold"],o),e}function VS(n){const e={},l=u(n,["dynamicRetrievalConfig"]);return l!=null&&c(e,["dynamicRetrievalConfig"],US(l)),e}function qS(n){const e={},l=u(n,["dynamicRetrievalConfig"]);return l!=null&&c(e,["dynamicRetrievalConfig"],LS(l)),e}function OS(){return{}}function BS(n){const e={},l=u(n,["apiKeyString"]);return l!=null&&c(e,["apiKeyString"],l),e}function zS(n){const e={},l=u(n,["apiKeyConfig"]);l!=null&&c(e,["apiKeyConfig"],BS(l));const o=u(n,["authType"]);o!=null&&c(e,["authType"],o);const r=u(n,["googleServiceAccountConfig"]);r!=null&&c(e,["googleServiceAccountConfig"],r);const f=u(n,["httpBasicAuthConfig"]);f!=null&&c(e,["httpBasicAuthConfig"],f);const m=u(n,["oauthConfig"]);m!=null&&c(e,["oauthConfig"],m);const h=u(n,["oidcConfig"]);return h!=null&&c(e,["oidcConfig"],h),e}function PS(n){const e={},l=u(n,["authConfig"]);return l!=null&&c(e,["authConfig"],zS(l)),e}function GS(){return{}}function HS(){return{}}function FS(n){const e={},l=u(n,["functionDeclarations"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(y=>RS(y))),c(e,["functionDeclarations"],h)}if(u(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(n,["googleSearch"]);o!=null&&c(e,["googleSearch"],kS(o));const r=u(n,["googleSearchRetrieval"]);if(r!=null&&c(e,["googleSearchRetrieval"],VS(r)),u(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(n,["urlContext"])!=null&&c(e,["urlContext"],GS());const m=u(n,["codeExecution"]);return m!=null&&c(e,["codeExecution"],m),e}function YS(n){const e={},l=u(n,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(C=>wS(C))),c(e,["functionDeclarations"],v)}const o=u(n,["retrieval"]);o!=null&&c(e,["retrieval"],o);const r=u(n,["googleSearch"]);r!=null&&c(e,["googleSearch"],IS(r));const f=u(n,["googleSearchRetrieval"]);f!=null&&c(e,["googleSearchRetrieval"],qS(f)),u(n,["enterpriseWebSearch"])!=null&&c(e,["enterpriseWebSearch"],OS());const h=u(n,["googleMaps"]);h!=null&&c(e,["googleMaps"],PS(h)),u(n,["urlContext"])!=null&&c(e,["urlContext"],HS());const p=u(n,["codeExecution"]);return p!=null&&c(e,["codeExecution"],p),e}function $S(n){const e={},l=u(n,["handle"]);if(l!=null&&c(e,["handle"],l),u(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function JS(n){const e={},l=u(n,["handle"]);l!=null&&c(e,["handle"],l);const o=u(n,["transparent"]);return o!=null&&c(e,["transparent"],o),e}function Yh(){return{}}function $h(){return{}}function ZS(n){const e={},l=u(n,["disabled"]);l!=null&&c(e,["disabled"],l);const o=u(n,["startOfSpeechSensitivity"]);o!=null&&c(e,["startOfSpeechSensitivity"],o);const r=u(n,["endOfSpeechSensitivity"]);r!=null&&c(e,["endOfSpeechSensitivity"],r);const f=u(n,["prefixPaddingMs"]);f!=null&&c(e,["prefixPaddingMs"],f);const m=u(n,["silenceDurationMs"]);return m!=null&&c(e,["silenceDurationMs"],m),e}function KS(n){const e={},l=u(n,["disabled"]);l!=null&&c(e,["disabled"],l);const o=u(n,["startOfSpeechSensitivity"]);o!=null&&c(e,["startOfSpeechSensitivity"],o);const r=u(n,["endOfSpeechSensitivity"]);r!=null&&c(e,["endOfSpeechSensitivity"],r);const f=u(n,["prefixPaddingMs"]);f!=null&&c(e,["prefixPaddingMs"],f);const m=u(n,["silenceDurationMs"]);return m!=null&&c(e,["silenceDurationMs"],m),e}function XS(n){const e={},l=u(n,["automaticActivityDetection"]);l!=null&&c(e,["automaticActivityDetection"],ZS(l));const o=u(n,["activityHandling"]);o!=null&&c(e,["activityHandling"],o);const r=u(n,["turnCoverage"]);return r!=null&&c(e,["turnCoverage"],r),e}function QS(n){const e={},l=u(n,["automaticActivityDetection"]);l!=null&&c(e,["automaticActivityDetection"],KS(l));const o=u(n,["activityHandling"]);o!=null&&c(e,["activityHandling"],o);const r=u(n,["turnCoverage"]);return r!=null&&c(e,["turnCoverage"],r),e}function WS(n){const e={},l=u(n,["targetTokens"]);return l!=null&&c(e,["targetTokens"],l),e}function jS(n){const e={},l=u(n,["targetTokens"]);return l!=null&&c(e,["targetTokens"],l),e}function e_(n){const e={},l=u(n,["triggerTokens"]);l!=null&&c(e,["triggerTokens"],l);const o=u(n,["slidingWindow"]);return o!=null&&c(e,["slidingWindow"],WS(o)),e}function t_(n){const e={},l=u(n,["triggerTokens"]);l!=null&&c(e,["triggerTokens"],l);const o=u(n,["slidingWindow"]);return o!=null&&c(e,["slidingWindow"],jS(o)),e}function n_(n){const e={},l=u(n,["proactiveAudio"]);return l!=null&&c(e,["proactiveAudio"],l),e}function i_(n){const e={},l=u(n,["proactiveAudio"]);return l!=null&&c(e,["proactiveAudio"],l),e}function l_(n,e){const l={},o=u(n,["generationConfig"]);e!==void 0&&o!=null&&c(e,["setup","generationConfig"],o);const r=u(n,["responseModalities"]);e!==void 0&&r!=null&&c(e,["setup","generationConfig","responseModalities"],r);const f=u(n,["temperature"]);e!==void 0&&f!=null&&c(e,["setup","generationConfig","temperature"],f);const m=u(n,["topP"]);e!==void 0&&m!=null&&c(e,["setup","generationConfig","topP"],m);const h=u(n,["topK"]);e!==void 0&&h!=null&&c(e,["setup","generationConfig","topK"],h);const y=u(n,["maxOutputTokens"]);e!==void 0&&y!=null&&c(e,["setup","generationConfig","maxOutputTokens"],y);const p=u(n,["mediaResolution"]);e!==void 0&&p!=null&&c(e,["setup","generationConfig","mediaResolution"],p);const v=u(n,["seed"]);e!==void 0&&v!=null&&c(e,["setup","generationConfig","seed"],v);const C=u(n,["speechConfig"]);e!==void 0&&C!=null&&c(e,["setup","generationConfig","speechConfig"],gS(Sc(C)));const _=u(n,["enableAffectiveDialog"]);e!==void 0&&_!=null&&c(e,["setup","generationConfig","enableAffectiveDialog"],_);const x=u(n,["systemInstruction"]);e!==void 0&&x!=null&&c(e,["setup","systemInstruction"],bS(dt(x)));const b=u(n,["tools"]);if(e!==void 0&&b!=null){let Y=Uo(b);Array.isArray(Y)&&(Y=Y.map(te=>FS(Io(te)))),c(e,["setup","tools"],Y)}const D=u(n,["sessionResumption"]);e!==void 0&&D!=null&&c(e,["setup","sessionResumption"],$S(D));const q=u(n,["inputAudioTranscription"]);e!==void 0&&q!=null&&c(e,["setup","inputAudioTranscription"],Yh());const N=u(n,["outputAudioTranscription"]);e!==void 0&&N!=null&&c(e,["setup","outputAudioTranscription"],Yh());const B=u(n,["realtimeInputConfig"]);e!==void 0&&B!=null&&c(e,["setup","realtimeInputConfig"],XS(B));const F=u(n,["contextWindowCompression"]);e!==void 0&&F!=null&&c(e,["setup","contextWindowCompression"],e_(F));const J=u(n,["proactivity"]);return e!==void 0&&J!=null&&c(e,["setup","proactivity"],n_(J)),l}function o_(n,e){const l={},o=u(n,["generationConfig"]);e!==void 0&&o!=null&&c(e,["setup","generationConfig"],o);const r=u(n,["responseModalities"]);e!==void 0&&r!=null&&c(e,["setup","generationConfig","responseModalities"],r);const f=u(n,["temperature"]);e!==void 0&&f!=null&&c(e,["setup","generationConfig","temperature"],f);const m=u(n,["topP"]);e!==void 0&&m!=null&&c(e,["setup","generationConfig","topP"],m);const h=u(n,["topK"]);e!==void 0&&h!=null&&c(e,["setup","generationConfig","topK"],h);const y=u(n,["maxOutputTokens"]);e!==void 0&&y!=null&&c(e,["setup","generationConfig","maxOutputTokens"],y);const p=u(n,["mediaResolution"]);e!==void 0&&p!=null&&c(e,["setup","generationConfig","mediaResolution"],p);const v=u(n,["seed"]);e!==void 0&&v!=null&&c(e,["setup","generationConfig","seed"],v);const C=u(n,["speechConfig"]);e!==void 0&&C!=null&&c(e,["setup","generationConfig","speechConfig"],yS(Sc(C)));const _=u(n,["enableAffectiveDialog"]);e!==void 0&&_!=null&&c(e,["setup","generationConfig","enableAffectiveDialog"],_);const x=u(n,["systemInstruction"]);e!==void 0&&x!=null&&c(e,["setup","systemInstruction"],MS(dt(x)));const b=u(n,["tools"]);if(e!==void 0&&b!=null){let Y=Uo(b);Array.isArray(Y)&&(Y=Y.map(te=>YS(Io(te)))),c(e,["setup","tools"],Y)}const D=u(n,["sessionResumption"]);e!==void 0&&D!=null&&c(e,["setup","sessionResumption"],JS(D));const q=u(n,["inputAudioTranscription"]);e!==void 0&&q!=null&&c(e,["setup","inputAudioTranscription"],$h());const N=u(n,["outputAudioTranscription"]);e!==void 0&&N!=null&&c(e,["setup","outputAudioTranscription"],$h());const B=u(n,["realtimeInputConfig"]);e!==void 0&&B!=null&&c(e,["setup","realtimeInputConfig"],QS(B));const F=u(n,["contextWindowCompression"]);e!==void 0&&F!=null&&c(e,["setup","contextWindowCompression"],t_(F));const J=u(n,["proactivity"]);return e!==void 0&&J!=null&&c(e,["setup","proactivity"],i_(J)),l}function a_(n,e){const l={},o=u(e,["model"]);o!=null&&c(l,["setup","model"],qe(n,o));const r=u(e,["config"]);return r!=null&&c(l,["config"],l_(r,l)),l}function r_(n,e){const l={},o=u(e,["model"]);o!=null&&c(l,["setup","model"],qe(n,o));const r=u(e,["config"]);return r!=null&&c(l,["config"],o_(r,l)),l}function s_(){return{}}function u_(){return{}}function c_(){return{}}function f_(){return{}}function d_(n){const e={},l=u(n,["media"]);l!=null&&c(e,["mediaChunks"],Cg(l));const o=u(n,["audio"]);o!=null&&c(e,["audio"],UT(o));const r=u(n,["audioStreamEnd"]);r!=null&&c(e,["audioStreamEnd"],r);const f=u(n,["video"]);f!=null&&c(e,["video"],IT(f));const m=u(n,["text"]);return m!=null&&c(e,["text"],m),u(n,["activityStart"])!=null&&c(e,["activityStart"],s_()),u(n,["activityEnd"])!=null&&c(e,["activityEnd"],c_()),e}function m_(n){const e={},l=u(n,["media"]);if(l!=null&&c(e,["mediaChunks"],Cg(l)),u(n,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const o=u(n,["audioStreamEnd"]);if(o!=null&&c(e,["audioStreamEnd"],o),u(n,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(u(n,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return u(n,["activityStart"])!=null&&c(e,["activityStart"],u_()),u(n,["activityEnd"])!=null&&c(e,["activityEnd"],f_()),e}function Ng(n){const e={},l=u(n,["text"]);l!=null&&c(e,["text"],l);const o=u(n,["weight"]);return o!=null&&c(e,["weight"],o),e}function p_(n){const e={},l=u(n,["weightedPrompts"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>Ng(r))),c(e,["weightedPrompts"],o)}return e}function Dg(n){const e={},l=u(n,["temperature"]);l!=null&&c(e,["temperature"],l);const o=u(n,["topK"]);o!=null&&c(e,["topK"],o);const r=u(n,["seed"]);r!=null&&c(e,["seed"],r);const f=u(n,["guidance"]);f!=null&&c(e,["guidance"],f);const m=u(n,["bpm"]);m!=null&&c(e,["bpm"],m);const h=u(n,["density"]);h!=null&&c(e,["density"],h);const y=u(n,["brightness"]);y!=null&&c(e,["brightness"],y);const p=u(n,["scale"]);p!=null&&c(e,["scale"],p);const v=u(n,["muteBass"]);v!=null&&c(e,["muteBass"],v);const C=u(n,["muteDrums"]);C!=null&&c(e,["muteDrums"],C);const _=u(n,["onlyBassAndDrums"]);return _!=null&&c(e,["onlyBassAndDrums"],_),e}function h_(n){const e={},l=u(n,["musicGenerationConfig"]);return l!=null&&c(e,["musicGenerationConfig"],Dg(l)),e}function kg(n){const e={},l=u(n,["model"]);return l!=null&&c(e,["model"],l),e}function Ig(n){const e={},l=u(n,["weightedPrompts"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>Ng(r))),c(e,["weightedPrompts"],o)}return e}function uc(n){const e={},l=u(n,["setup"]);l!=null&&c(e,["setup"],kg(l));const o=u(n,["clientContent"]);o!=null&&c(e,["clientContent"],Ig(o));const r=u(n,["musicGenerationConfig"]);r!=null&&c(e,["musicGenerationConfig"],Dg(r));const f=u(n,["playbackControl"]);return f!=null&&c(e,["playbackControl"],f),e}function g_(){return{}}function y_(){return{}}function v_(n){const e={},l=u(n,["fps"]);l!=null&&c(e,["fps"],l);const o=u(n,["endOffset"]);o!=null&&c(e,["endOffset"],o);const r=u(n,["startOffset"]);return r!=null&&c(e,["startOffset"],r),e}function T_(n){const e={},l=u(n,["fps"]);l!=null&&c(e,["fps"],l);const o=u(n,["endOffset"]);o!=null&&c(e,["endOffset"],o);const r=u(n,["startOffset"]);return r!=null&&c(e,["startOffset"],r),e}function C_(n){const e={},l=u(n,["data"]);l!=null&&c(e,["data"],l);const o=u(n,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function S_(n){const e={},l=u(n,["displayName"]);l!=null&&c(e,["displayName"],l);const o=u(n,["data"]);o!=null&&c(e,["data"],o);const r=u(n,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function __(n){const e={},l=u(n,["fileUri"]);l!=null&&c(e,["fileUri"],l);const o=u(n,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function x_(n){const e={},l=u(n,["displayName"]);l!=null&&c(e,["displayName"],l);const o=u(n,["fileUri"]);o!=null&&c(e,["fileUri"],o);const r=u(n,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function E_(n){const e={},l=u(n,["videoMetadata"]);l!=null&&c(e,["videoMetadata"],v_(l));const o=u(n,["thought"]);o!=null&&c(e,["thought"],o);const r=u(n,["inlineData"]);r!=null&&c(e,["inlineData"],C_(r));const f=u(n,["fileData"]);f!=null&&c(e,["fileData"],__(f));const m=u(n,["thoughtSignature"]);m!=null&&c(e,["thoughtSignature"],m);const h=u(n,["codeExecutionResult"]);h!=null&&c(e,["codeExecutionResult"],h);const y=u(n,["executableCode"]);y!=null&&c(e,["executableCode"],y);const p=u(n,["functionCall"]);p!=null&&c(e,["functionCall"],p);const v=u(n,["functionResponse"]);v!=null&&c(e,["functionResponse"],v);const C=u(n,["text"]);return C!=null&&c(e,["text"],C),e}function A_(n){const e={},l=u(n,["videoMetadata"]);l!=null&&c(e,["videoMetadata"],T_(l));const o=u(n,["thought"]);o!=null&&c(e,["thought"],o);const r=u(n,["inlineData"]);r!=null&&c(e,["inlineData"],S_(r));const f=u(n,["fileData"]);f!=null&&c(e,["fileData"],x_(f));const m=u(n,["thoughtSignature"]);m!=null&&c(e,["thoughtSignature"],m);const h=u(n,["codeExecutionResult"]);h!=null&&c(e,["codeExecutionResult"],h);const y=u(n,["executableCode"]);y!=null&&c(e,["executableCode"],y);const p=u(n,["functionCall"]);p!=null&&c(e,["functionCall"],p);const v=u(n,["functionResponse"]);v!=null&&c(e,["functionResponse"],v);const C=u(n,["text"]);return C!=null&&c(e,["text"],C),e}function b_(n){const e={},l=u(n,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>E_(f))),c(e,["parts"],r)}const o=u(n,["role"]);return o!=null&&c(e,["role"],o),e}function M_(n){const e={},l=u(n,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>A_(f))),c(e,["parts"],r)}const o=u(n,["role"]);return o!=null&&c(e,["role"],o),e}function Jh(n){const e={},l=u(n,["text"]);l!=null&&c(e,["text"],l);const o=u(n,["finished"]);return o!=null&&c(e,["finished"],o),e}function Zh(n){const e={},l=u(n,["text"]);l!=null&&c(e,["text"],l);const o=u(n,["finished"]);return o!=null&&c(e,["finished"],o),e}function R_(n){const e={},l=u(n,["retrievedUrl"]);l!=null&&c(e,["retrievedUrl"],l);const o=u(n,["urlRetrievalStatus"]);return o!=null&&c(e,["urlRetrievalStatus"],o),e}function w_(n){const e={},l=u(n,["urlMetadata"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>R_(r))),c(e,["urlMetadata"],o)}return e}function N_(n){const e={},l=u(n,["modelTurn"]);l!=null&&c(e,["modelTurn"],b_(l));const o=u(n,["turnComplete"]);o!=null&&c(e,["turnComplete"],o);const r=u(n,["interrupted"]);r!=null&&c(e,["interrupted"],r);const f=u(n,["groundingMetadata"]);f!=null&&c(e,["groundingMetadata"],f);const m=u(n,["generationComplete"]);m!=null&&c(e,["generationComplete"],m);const h=u(n,["inputTranscription"]);h!=null&&c(e,["inputTranscription"],Jh(h));const y=u(n,["outputTranscription"]);y!=null&&c(e,["outputTranscription"],Jh(y));const p=u(n,["urlContextMetadata"]);return p!=null&&c(e,["urlContextMetadata"],w_(p)),e}function D_(n){const e={},l=u(n,["modelTurn"]);l!=null&&c(e,["modelTurn"],M_(l));const o=u(n,["turnComplete"]);o!=null&&c(e,["turnComplete"],o);const r=u(n,["interrupted"]);r!=null&&c(e,["interrupted"],r);const f=u(n,["groundingMetadata"]);f!=null&&c(e,["groundingMetadata"],f);const m=u(n,["generationComplete"]);m!=null&&c(e,["generationComplete"],m);const h=u(n,["inputTranscription"]);h!=null&&c(e,["inputTranscription"],Zh(h));const y=u(n,["outputTranscription"]);return y!=null&&c(e,["outputTranscription"],Zh(y)),e}function k_(n){const e={},l=u(n,["id"]);l!=null&&c(e,["id"],l);const o=u(n,["args"]);o!=null&&c(e,["args"],o);const r=u(n,["name"]);return r!=null&&c(e,["name"],r),e}function I_(n){const e={},l=u(n,["args"]);l!=null&&c(e,["args"],l);const o=u(n,["name"]);return o!=null&&c(e,["name"],o),e}function U_(n){const e={},l=u(n,["functionCalls"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>k_(r))),c(e,["functionCalls"],o)}return e}function L_(n){const e={},l=u(n,["functionCalls"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>I_(r))),c(e,["functionCalls"],o)}return e}function V_(n){const e={},l=u(n,["ids"]);return l!=null&&c(e,["ids"],l),e}function q_(n){const e={},l=u(n,["ids"]);return l!=null&&c(e,["ids"],l),e}function tr(n){const e={},l=u(n,["modality"]);l!=null&&c(e,["modality"],l);const o=u(n,["tokenCount"]);return o!=null&&c(e,["tokenCount"],o),e}function nr(n){const e={},l=u(n,["modality"]);l!=null&&c(e,["modality"],l);const o=u(n,["tokenCount"]);return o!=null&&c(e,["tokenCount"],o),e}function O_(n){const e={},l=u(n,["promptTokenCount"]);l!=null&&c(e,["promptTokenCount"],l);const o=u(n,["cachedContentTokenCount"]);o!=null&&c(e,["cachedContentTokenCount"],o);const r=u(n,["responseTokenCount"]);r!=null&&c(e,["responseTokenCount"],r);const f=u(n,["toolUsePromptTokenCount"]);f!=null&&c(e,["toolUsePromptTokenCount"],f);const m=u(n,["thoughtsTokenCount"]);m!=null&&c(e,["thoughtsTokenCount"],m);const h=u(n,["totalTokenCount"]);h!=null&&c(e,["totalTokenCount"],h);const y=u(n,["promptTokensDetails"]);if(y!=null){let _=y;Array.isArray(_)&&(_=_.map(x=>tr(x))),c(e,["promptTokensDetails"],_)}const p=u(n,["cacheTokensDetails"]);if(p!=null){let _=p;Array.isArray(_)&&(_=_.map(x=>tr(x))),c(e,["cacheTokensDetails"],_)}const v=u(n,["responseTokensDetails"]);if(v!=null){let _=v;Array.isArray(_)&&(_=_.map(x=>tr(x))),c(e,["responseTokensDetails"],_)}const C=u(n,["toolUsePromptTokensDetails"]);if(C!=null){let _=C;Array.isArray(_)&&(_=_.map(x=>tr(x))),c(e,["toolUsePromptTokensDetails"],_)}return e}function B_(n){const e={},l=u(n,["promptTokenCount"]);l!=null&&c(e,["promptTokenCount"],l);const o=u(n,["cachedContentTokenCount"]);o!=null&&c(e,["cachedContentTokenCount"],o);const r=u(n,["candidatesTokenCount"]);r!=null&&c(e,["responseTokenCount"],r);const f=u(n,["toolUsePromptTokenCount"]);f!=null&&c(e,["toolUsePromptTokenCount"],f);const m=u(n,["thoughtsTokenCount"]);m!=null&&c(e,["thoughtsTokenCount"],m);const h=u(n,["totalTokenCount"]);h!=null&&c(e,["totalTokenCount"],h);const y=u(n,["promptTokensDetails"]);if(y!=null){let x=y;Array.isArray(x)&&(x=x.map(b=>nr(b))),c(e,["promptTokensDetails"],x)}const p=u(n,["cacheTokensDetails"]);if(p!=null){let x=p;Array.isArray(x)&&(x=x.map(b=>nr(b))),c(e,["cacheTokensDetails"],x)}const v=u(n,["candidatesTokensDetails"]);if(v!=null){let x=v;Array.isArray(x)&&(x=x.map(b=>nr(b))),c(e,["responseTokensDetails"],x)}const C=u(n,["toolUsePromptTokensDetails"]);if(C!=null){let x=C;Array.isArray(x)&&(x=x.map(b=>nr(b))),c(e,["toolUsePromptTokensDetails"],x)}const _=u(n,["trafficType"]);return _!=null&&c(e,["trafficType"],_),e}function z_(n){const e={},l=u(n,["timeLeft"]);return l!=null&&c(e,["timeLeft"],l),e}function P_(n){const e={},l=u(n,["timeLeft"]);return l!=null&&c(e,["timeLeft"],l),e}function G_(n){const e={},l=u(n,["newHandle"]);l!=null&&c(e,["newHandle"],l);const o=u(n,["resumable"]);o!=null&&c(e,["resumable"],o);const r=u(n,["lastConsumedClientMessageIndex"]);return r!=null&&c(e,["lastConsumedClientMessageIndex"],r),e}function H_(n){const e={},l=u(n,["newHandle"]);l!=null&&c(e,["newHandle"],l);const o=u(n,["resumable"]);o!=null&&c(e,["resumable"],o);const r=u(n,["lastConsumedClientMessageIndex"]);return r!=null&&c(e,["lastConsumedClientMessageIndex"],r),e}function F_(n){const e={};u(n,["setupComplete"])!=null&&c(e,["setupComplete"],g_());const o=u(n,["serverContent"]);o!=null&&c(e,["serverContent"],N_(o));const r=u(n,["toolCall"]);r!=null&&c(e,["toolCall"],U_(r));const f=u(n,["toolCallCancellation"]);f!=null&&c(e,["toolCallCancellation"],V_(f));const m=u(n,["usageMetadata"]);m!=null&&c(e,["usageMetadata"],O_(m));const h=u(n,["goAway"]);h!=null&&c(e,["goAway"],z_(h));const y=u(n,["sessionResumptionUpdate"]);return y!=null&&c(e,["sessionResumptionUpdate"],G_(y)),e}function Y_(n){const e={};u(n,["setupComplete"])!=null&&c(e,["setupComplete"],y_());const o=u(n,["serverContent"]);o!=null&&c(e,["serverContent"],D_(o));const r=u(n,["toolCall"]);r!=null&&c(e,["toolCall"],L_(r));const f=u(n,["toolCallCancellation"]);f!=null&&c(e,["toolCallCancellation"],q_(f));const m=u(n,["usageMetadata"]);m!=null&&c(e,["usageMetadata"],B_(m));const h=u(n,["goAway"]);h!=null&&c(e,["goAway"],P_(h));const y=u(n,["sessionResumptionUpdate"]);return y!=null&&c(e,["sessionResumptionUpdate"],H_(y)),e}function $_(){return{}}function J_(n){const e={},l=u(n,["text"]);l!=null&&c(e,["text"],l);const o=u(n,["weight"]);return o!=null&&c(e,["weight"],o),e}function Z_(n){const e={},l=u(n,["weightedPrompts"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>J_(r))),c(e,["weightedPrompts"],o)}return e}function K_(n){const e={},l=u(n,["temperature"]);l!=null&&c(e,["temperature"],l);const o=u(n,["topK"]);o!=null&&c(e,["topK"],o);const r=u(n,["seed"]);r!=null&&c(e,["seed"],r);const f=u(n,["guidance"]);f!=null&&c(e,["guidance"],f);const m=u(n,["bpm"]);m!=null&&c(e,["bpm"],m);const h=u(n,["density"]);h!=null&&c(e,["density"],h);const y=u(n,["brightness"]);y!=null&&c(e,["brightness"],y);const p=u(n,["scale"]);p!=null&&c(e,["scale"],p);const v=u(n,["muteBass"]);v!=null&&c(e,["muteBass"],v);const C=u(n,["muteDrums"]);C!=null&&c(e,["muteDrums"],C);const _=u(n,["onlyBassAndDrums"]);return _!=null&&c(e,["onlyBassAndDrums"],_),e}function X_(n){const e={},l=u(n,["clientContent"]);l!=null&&c(e,["clientContent"],Z_(l));const o=u(n,["musicGenerationConfig"]);return o!=null&&c(e,["musicGenerationConfig"],K_(o)),e}function Q_(n){const e={},l=u(n,["data"]);l!=null&&c(e,["data"],l);const o=u(n,["mimeType"]);o!=null&&c(e,["mimeType"],o);const r=u(n,["sourceMetadata"]);return r!=null&&c(e,["sourceMetadata"],X_(r)),e}function W_(n){const e={},l=u(n,["audioChunks"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>Q_(r))),c(e,["audioChunks"],o)}return e}function j_(n){const e={},l=u(n,["text"]);l!=null&&c(e,["text"],l);const o=u(n,["filteredReason"]);return o!=null&&c(e,["filteredReason"],o),e}function ex(n){const e={};u(n,["setupComplete"])!=null&&c(e,["setupComplete"],$_());const o=u(n,["serverContent"]);o!=null&&c(e,["serverContent"],W_(o));const r=u(n,["filteredPrompt"]);return r!=null&&c(e,["filteredPrompt"],j_(r)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tx(n){const e={},l=u(n,["fps"]);l!=null&&c(e,["fps"],l);const o=u(n,["endOffset"]);o!=null&&c(e,["endOffset"],o);const r=u(n,["startOffset"]);return r!=null&&c(e,["startOffset"],r),e}function nx(n){const e={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(n,["data"]);l!=null&&c(e,["data"],l);const o=u(n,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function ix(n){const e={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(n,["fileUri"]);l!=null&&c(e,["fileUri"],l);const o=u(n,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function lx(n){const e={},l=u(n,["videoMetadata"]);l!=null&&c(e,["videoMetadata"],tx(l));const o=u(n,["thought"]);o!=null&&c(e,["thought"],o);const r=u(n,["inlineData"]);r!=null&&c(e,["inlineData"],nx(r));const f=u(n,["fileData"]);f!=null&&c(e,["fileData"],ix(f));const m=u(n,["thoughtSignature"]);m!=null&&c(e,["thoughtSignature"],m);const h=u(n,["codeExecutionResult"]);h!=null&&c(e,["codeExecutionResult"],h);const y=u(n,["executableCode"]);y!=null&&c(e,["executableCode"],y);const p=u(n,["functionCall"]);p!=null&&c(e,["functionCall"],p);const v=u(n,["functionResponse"]);v!=null&&c(e,["functionResponse"],v);const C=u(n,["text"]);return C!=null&&c(e,["text"],C),e}function _r(n){const e={},l=u(n,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>lx(f))),c(e,["parts"],r)}const o=u(n,["role"]);return o!=null&&c(e,["role"],o),e}function ox(n){const e={},l=u(n,["anyOf"]);l!=null&&c(e,["anyOf"],l);const o=u(n,["default"]);o!=null&&c(e,["default"],o);const r=u(n,["description"]);r!=null&&c(e,["description"],r);const f=u(n,["enum"]);f!=null&&c(e,["enum"],f);const m=u(n,["example"]);m!=null&&c(e,["example"],m);const h=u(n,["format"]);h!=null&&c(e,["format"],h);const y=u(n,["items"]);y!=null&&c(e,["items"],y);const p=u(n,["maxItems"]);p!=null&&c(e,["maxItems"],p);const v=u(n,["maxLength"]);v!=null&&c(e,["maxLength"],v);const C=u(n,["maxProperties"]);C!=null&&c(e,["maxProperties"],C);const _=u(n,["maximum"]);_!=null&&c(e,["maximum"],_);const x=u(n,["minItems"]);x!=null&&c(e,["minItems"],x);const b=u(n,["minLength"]);b!=null&&c(e,["minLength"],b);const D=u(n,["minProperties"]);D!=null&&c(e,["minProperties"],D);const q=u(n,["minimum"]);q!=null&&c(e,["minimum"],q);const N=u(n,["nullable"]);N!=null&&c(e,["nullable"],N);const B=u(n,["pattern"]);B!=null&&c(e,["pattern"],B);const F=u(n,["properties"]);F!=null&&c(e,["properties"],F);const J=u(n,["propertyOrdering"]);J!=null&&c(e,["propertyOrdering"],J);const Y=u(n,["required"]);Y!=null&&c(e,["required"],Y);const te=u(n,["title"]);te!=null&&c(e,["title"],te);const ne=u(n,["type"]);return ne!=null&&c(e,["type"],ne),e}function ax(n){const e={};if(u(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const l=u(n,["category"]);l!=null&&c(e,["category"],l);const o=u(n,["threshold"]);return o!=null&&c(e,["threshold"],o),e}function rx(n){const e={},l=u(n,["behavior"]);l!=null&&c(e,["behavior"],l);const o=u(n,["description"]);o!=null&&c(e,["description"],o);const r=u(n,["name"]);r!=null&&c(e,["name"],r);const f=u(n,["parameters"]);f!=null&&c(e,["parameters"],f);const m=u(n,["parametersJsonSchema"]);m!=null&&c(e,["parametersJsonSchema"],m);const h=u(n,["response"]);h!=null&&c(e,["response"],h);const y=u(n,["responseJsonSchema"]);return y!=null&&c(e,["responseJsonSchema"],y),e}function sx(n){const e={},l=u(n,["startTime"]);l!=null&&c(e,["startTime"],l);const o=u(n,["endTime"]);return o!=null&&c(e,["endTime"],o),e}function ux(n){const e={},l=u(n,["timeRangeFilter"]);return l!=null&&c(e,["timeRangeFilter"],sx(l)),e}function cx(n){const e={},l=u(n,["mode"]);l!=null&&c(e,["mode"],l);const o=u(n,["dynamicThreshold"]);return o!=null&&c(e,["dynamicThreshold"],o),e}function fx(n){const e={},l=u(n,["dynamicRetrievalConfig"]);return l!=null&&c(e,["dynamicRetrievalConfig"],cx(l)),e}function dx(){return{}}function mx(n){const e={},l=u(n,["functionDeclarations"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(y=>rx(y))),c(e,["functionDeclarations"],h)}if(u(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(n,["googleSearch"]);o!=null&&c(e,["googleSearch"],ux(o));const r=u(n,["googleSearchRetrieval"]);if(r!=null&&c(e,["googleSearchRetrieval"],fx(r)),u(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(n,["urlContext"])!=null&&c(e,["urlContext"],dx());const m=u(n,["codeExecution"]);return m!=null&&c(e,["codeExecution"],m),e}function px(n){const e={},l=u(n,["mode"]);l!=null&&c(e,["mode"],l);const o=u(n,["allowedFunctionNames"]);return o!=null&&c(e,["allowedFunctionNames"],o),e}function hx(n){const e={},l=u(n,["latitude"]);l!=null&&c(e,["latitude"],l);const o=u(n,["longitude"]);return o!=null&&c(e,["longitude"],o),e}function gx(n){const e={},l=u(n,["latLng"]);l!=null&&c(e,["latLng"],hx(l));const o=u(n,["languageCode"]);return o!=null&&c(e,["languageCode"],o),e}function yx(n){const e={},l=u(n,["functionCallingConfig"]);l!=null&&c(e,["functionCallingConfig"],px(l));const o=u(n,["retrievalConfig"]);return o!=null&&c(e,["retrievalConfig"],gx(o)),e}function vx(n){const e={},l=u(n,["voiceName"]);return l!=null&&c(e,["voiceName"],l),e}function Ug(n){const e={},l=u(n,["prebuiltVoiceConfig"]);return l!=null&&c(e,["prebuiltVoiceConfig"],vx(l)),e}function Tx(n){const e={},l=u(n,["speaker"]);l!=null&&c(e,["speaker"],l);const o=u(n,["voiceConfig"]);return o!=null&&c(e,["voiceConfig"],Ug(o)),e}function Cx(n){const e={},l=u(n,["speakerVoiceConfigs"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>Tx(r))),c(e,["speakerVoiceConfigs"],o)}return e}function Sx(n){const e={},l=u(n,["voiceConfig"]);l!=null&&c(e,["voiceConfig"],Ug(l));const o=u(n,["multiSpeakerVoiceConfig"]);o!=null&&c(e,["multiSpeakerVoiceConfig"],Cx(o));const r=u(n,["languageCode"]);return r!=null&&c(e,["languageCode"],r),e}function _x(n){const e={},l=u(n,["includeThoughts"]);l!=null&&c(e,["includeThoughts"],l);const o=u(n,["thinkingBudget"]);return o!=null&&c(e,["thinkingBudget"],o),e}function xx(n,e,l){const o={},r=u(e,["systemInstruction"]);l!==void 0&&r!=null&&c(l,["systemInstruction"],_r(dt(r)));const f=u(e,["temperature"]);f!=null&&c(o,["temperature"],f);const m=u(e,["topP"]);m!=null&&c(o,["topP"],m);const h=u(e,["topK"]);h!=null&&c(o,["topK"],h);const y=u(e,["candidateCount"]);y!=null&&c(o,["candidateCount"],y);const p=u(e,["maxOutputTokens"]);p!=null&&c(o,["maxOutputTokens"],p);const v=u(e,["stopSequences"]);v!=null&&c(o,["stopSequences"],v);const C=u(e,["responseLogprobs"]);C!=null&&c(o,["responseLogprobs"],C);const _=u(e,["logprobs"]);_!=null&&c(o,["logprobs"],_);const x=u(e,["presencePenalty"]);x!=null&&c(o,["presencePenalty"],x);const b=u(e,["frequencyPenalty"]);b!=null&&c(o,["frequencyPenalty"],b);const D=u(e,["seed"]);D!=null&&c(o,["seed"],D);const q=u(e,["responseMimeType"]);q!=null&&c(o,["responseMimeType"],q);const N=u(e,["responseSchema"]);if(N!=null&&c(o,["responseSchema"],ox(yr(N))),u(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const B=u(e,["safetySettings"]);if(l!==void 0&&B!=null){let oe=B;Array.isArray(oe)&&(oe=oe.map(Ce=>ax(Ce))),c(l,["safetySettings"],oe)}const F=u(e,["tools"]);if(l!==void 0&&F!=null){let oe=Uo(F);Array.isArray(oe)&&(oe=oe.map(Ce=>mx(Io(Ce)))),c(l,["tools"],oe)}const J=u(e,["toolConfig"]);if(l!==void 0&&J!=null&&c(l,["toolConfig"],yx(J)),u(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Y=u(e,["cachedContent"]);l!==void 0&&Y!=null&&c(l,["cachedContent"],jn(n,Y));const te=u(e,["responseModalities"]);te!=null&&c(o,["responseModalities"],te);const ne=u(e,["mediaResolution"]);ne!=null&&c(o,["mediaResolution"],ne);const he=u(e,["speechConfig"]);if(he!=null&&c(o,["speechConfig"],Sx(xg(he))),u(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const Z=u(e,["thinkingConfig"]);return Z!=null&&c(o,["thinkingConfig"],_x(Z)),o}function Kh(n,e){const l={},o=u(e,["model"]);o!=null&&c(l,["_url","model"],qe(n,o));const r=u(e,["contents"]);if(r!=null){let m=Ht(r);Array.isArray(m)&&(m=m.map(h=>_r(h))),c(l,["contents"],m)}const f=u(e,["config"]);return f!=null&&c(l,["generationConfig"],xx(n,f,l)),l}function Ex(n,e){const l={},o=u(n,["taskType"]);e!==void 0&&o!=null&&c(e,["requests[]","taskType"],o);const r=u(n,["title"]);e!==void 0&&r!=null&&c(e,["requests[]","title"],r);const f=u(n,["outputDimensionality"]);if(e!==void 0&&f!=null&&c(e,["requests[]","outputDimensionality"],f),u(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function Ax(n,e){const l={},o=u(e,["model"]);o!=null&&c(l,["_url","model"],qe(n,o));const r=u(e,["contents"]);r!=null&&c(l,["requests[]","content"],_g(n,r));const f=u(e,["config"]);f!=null&&c(l,["config"],Ex(f,l));const m=u(e,["model"]);return m!==void 0&&c(l,["requests[]","model"],qe(n,m)),l}function bx(n,e){const l={};if(u(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=u(n,["numberOfImages"]);e!==void 0&&o!=null&&c(e,["parameters","sampleCount"],o);const r=u(n,["aspectRatio"]);e!==void 0&&r!=null&&c(e,["parameters","aspectRatio"],r);const f=u(n,["guidanceScale"]);if(e!==void 0&&f!=null&&c(e,["parameters","guidanceScale"],f),u(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=u(n,["safetyFilterLevel"]);e!==void 0&&m!=null&&c(e,["parameters","safetySetting"],m);const h=u(n,["personGeneration"]);e!==void 0&&h!=null&&c(e,["parameters","personGeneration"],h);const y=u(n,["includeSafetyAttributes"]);e!==void 0&&y!=null&&c(e,["parameters","includeSafetyAttributes"],y);const p=u(n,["includeRaiReason"]);e!==void 0&&p!=null&&c(e,["parameters","includeRaiReason"],p);const v=u(n,["language"]);e!==void 0&&v!=null&&c(e,["parameters","language"],v);const C=u(n,["outputMimeType"]);e!==void 0&&C!=null&&c(e,["parameters","outputOptions","mimeType"],C);const _=u(n,["outputCompressionQuality"]);if(e!==void 0&&_!=null&&c(e,["parameters","outputOptions","compressionQuality"],_),u(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return l}function Mx(n,e){const l={},o=u(e,["model"]);o!=null&&c(l,["_url","model"],qe(n,o));const r=u(e,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(e,["config"]);return f!=null&&c(l,["config"],bx(f,l)),l}function Rx(n,e){const l={},o=u(e,["model"]);o!=null&&c(l,["_url","name"],qe(n,o));const r=u(e,["config"]);return r!=null&&c(l,["config"],r),l}function wx(n,e,l){const o={},r=u(e,["pageSize"]);l!==void 0&&r!=null&&c(l,["_query","pageSize"],r);const f=u(e,["pageToken"]);l!==void 0&&f!=null&&c(l,["_query","pageToken"],f);const m=u(e,["filter"]);l!==void 0&&m!=null&&c(l,["_query","filter"],m);const h=u(e,["queryBase"]);return l!==void 0&&h!=null&&c(l,["_url","models_url"],bg(n,h)),o}function Nx(n,e){const l={},o=u(e,["config"]);return o!=null&&c(l,["config"],wx(n,o,l)),l}function Dx(n,e){const l={},o=u(n,["displayName"]);e!==void 0&&o!=null&&c(e,["displayName"],o);const r=u(n,["description"]);e!==void 0&&r!=null&&c(e,["description"],r);const f=u(n,["defaultCheckpointId"]);return e!==void 0&&f!=null&&c(e,["defaultCheckpointId"],f),l}function kx(n,e){const l={},o=u(e,["model"]);o!=null&&c(l,["_url","name"],qe(n,o));const r=u(e,["config"]);return r!=null&&c(l,["config"],Dx(r,l)),l}function Ix(n,e){const l={},o=u(e,["model"]);o!=null&&c(l,["_url","name"],qe(n,o));const r=u(e,["config"]);return r!=null&&c(l,["config"],r),l}function Ux(n){const e={};if(u(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Lx(n,e){const l={},o=u(e,["model"]);o!=null&&c(l,["_url","model"],qe(n,o));const r=u(e,["contents"]);if(r!=null){let m=Ht(r);Array.isArray(m)&&(m=m.map(h=>_r(h))),c(l,["contents"],m)}const f=u(e,["config"]);return f!=null&&c(l,["config"],Ux(f)),l}function Vx(n){const e={};if(u(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const l=u(n,["imageBytes"]);l!=null&&c(e,["bytesBase64Encoded"],xn(l));const o=u(n,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function qx(n,e){const l={},o=u(n,["numberOfVideos"]);if(e!==void 0&&o!=null&&c(e,["parameters","sampleCount"],o),u(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=u(n,["durationSeconds"]);if(e!==void 0&&r!=null&&c(e,["parameters","durationSeconds"],r),u(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=u(n,["aspectRatio"]);if(e!==void 0&&f!=null&&c(e,["parameters","aspectRatio"],f),u(n,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const m=u(n,["personGeneration"]);if(e!==void 0&&m!=null&&c(e,["parameters","personGeneration"],m),u(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const h=u(n,["negativePrompt"]);e!==void 0&&h!=null&&c(e,["parameters","negativePrompt"],h);const y=u(n,["enhancePrompt"]);if(e!==void 0&&y!=null&&c(e,["parameters","enhancePrompt"],y),u(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(u(n,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");return l}function Ox(n,e){const l={},o=u(e,["model"]);o!=null&&c(l,["_url","model"],qe(n,o));const r=u(e,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(e,["image"]);if(f!=null&&c(l,["instances[0]","image"],Vx(f)),u(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const m=u(e,["config"]);return m!=null&&c(l,["config"],qx(m,l)),l}function Bx(n){const e={},l=u(n,["fps"]);l!=null&&c(e,["fps"],l);const o=u(n,["endOffset"]);o!=null&&c(e,["endOffset"],o);const r=u(n,["startOffset"]);return r!=null&&c(e,["startOffset"],r),e}function zx(n){const e={},l=u(n,["displayName"]);l!=null&&c(e,["displayName"],l);const o=u(n,["data"]);o!=null&&c(e,["data"],o);const r=u(n,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function Px(n){const e={},l=u(n,["displayName"]);l!=null&&c(e,["displayName"],l);const o=u(n,["fileUri"]);o!=null&&c(e,["fileUri"],o);const r=u(n,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function Gx(n){const e={},l=u(n,["videoMetadata"]);l!=null&&c(e,["videoMetadata"],Bx(l));const o=u(n,["thought"]);o!=null&&c(e,["thought"],o);const r=u(n,["inlineData"]);r!=null&&c(e,["inlineData"],zx(r));const f=u(n,["fileData"]);f!=null&&c(e,["fileData"],Px(f));const m=u(n,["thoughtSignature"]);m!=null&&c(e,["thoughtSignature"],m);const h=u(n,["codeExecutionResult"]);h!=null&&c(e,["codeExecutionResult"],h);const y=u(n,["executableCode"]);y!=null&&c(e,["executableCode"],y);const p=u(n,["functionCall"]);p!=null&&c(e,["functionCall"],p);const v=u(n,["functionResponse"]);v!=null&&c(e,["functionResponse"],v);const C=u(n,["text"]);return C!=null&&c(e,["text"],C),e}function Cl(n){const e={},l=u(n,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>Gx(f))),c(e,["parts"],r)}const o=u(n,["role"]);return o!=null&&c(e,["role"],o),e}function Hx(n){const e={},l=u(n,["anyOf"]);l!=null&&c(e,["anyOf"],l);const o=u(n,["default"]);o!=null&&c(e,["default"],o);const r=u(n,["description"]);r!=null&&c(e,["description"],r);const f=u(n,["enum"]);f!=null&&c(e,["enum"],f);const m=u(n,["example"]);m!=null&&c(e,["example"],m);const h=u(n,["format"]);h!=null&&c(e,["format"],h);const y=u(n,["items"]);y!=null&&c(e,["items"],y);const p=u(n,["maxItems"]);p!=null&&c(e,["maxItems"],p);const v=u(n,["maxLength"]);v!=null&&c(e,["maxLength"],v);const C=u(n,["maxProperties"]);C!=null&&c(e,["maxProperties"],C);const _=u(n,["maximum"]);_!=null&&c(e,["maximum"],_);const x=u(n,["minItems"]);x!=null&&c(e,["minItems"],x);const b=u(n,["minLength"]);b!=null&&c(e,["minLength"],b);const D=u(n,["minProperties"]);D!=null&&c(e,["minProperties"],D);const q=u(n,["minimum"]);q!=null&&c(e,["minimum"],q);const N=u(n,["nullable"]);N!=null&&c(e,["nullable"],N);const B=u(n,["pattern"]);B!=null&&c(e,["pattern"],B);const F=u(n,["properties"]);F!=null&&c(e,["properties"],F);const J=u(n,["propertyOrdering"]);J!=null&&c(e,["propertyOrdering"],J);const Y=u(n,["required"]);Y!=null&&c(e,["required"],Y);const te=u(n,["title"]);te!=null&&c(e,["title"],te);const ne=u(n,["type"]);return ne!=null&&c(e,["type"],ne),e}function Fx(n){const e={},l=u(n,["featureSelectionPreference"]);return l!=null&&c(e,["featureSelectionPreference"],l),e}function Yx(n){const e={},l=u(n,["method"]);l!=null&&c(e,["method"],l);const o=u(n,["category"]);o!=null&&c(e,["category"],o);const r=u(n,["threshold"]);return r!=null&&c(e,["threshold"],r),e}function $x(n){const e={};if(u(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const l=u(n,["description"]);l!=null&&c(e,["description"],l);const o=u(n,["name"]);o!=null&&c(e,["name"],o);const r=u(n,["parameters"]);r!=null&&c(e,["parameters"],r);const f=u(n,["parametersJsonSchema"]);f!=null&&c(e,["parametersJsonSchema"],f);const m=u(n,["response"]);m!=null&&c(e,["response"],m);const h=u(n,["responseJsonSchema"]);return h!=null&&c(e,["responseJsonSchema"],h),e}function Jx(n){const e={},l=u(n,["startTime"]);l!=null&&c(e,["startTime"],l);const o=u(n,["endTime"]);return o!=null&&c(e,["endTime"],o),e}function Zx(n){const e={},l=u(n,["timeRangeFilter"]);return l!=null&&c(e,["timeRangeFilter"],Jx(l)),e}function Kx(n){const e={},l=u(n,["mode"]);l!=null&&c(e,["mode"],l);const o=u(n,["dynamicThreshold"]);return o!=null&&c(e,["dynamicThreshold"],o),e}function Xx(n){const e={},l=u(n,["dynamicRetrievalConfig"]);return l!=null&&c(e,["dynamicRetrievalConfig"],Kx(l)),e}function Qx(){return{}}function Wx(n){const e={},l=u(n,["apiKeyString"]);return l!=null&&c(e,["apiKeyString"],l),e}function jx(n){const e={},l=u(n,["apiKeyConfig"]);l!=null&&c(e,["apiKeyConfig"],Wx(l));const o=u(n,["authType"]);o!=null&&c(e,["authType"],o);const r=u(n,["googleServiceAccountConfig"]);r!=null&&c(e,["googleServiceAccountConfig"],r);const f=u(n,["httpBasicAuthConfig"]);f!=null&&c(e,["httpBasicAuthConfig"],f);const m=u(n,["oauthConfig"]);m!=null&&c(e,["oauthConfig"],m);const h=u(n,["oidcConfig"]);return h!=null&&c(e,["oidcConfig"],h),e}function eE(n){const e={},l=u(n,["authConfig"]);return l!=null&&c(e,["authConfig"],jx(l)),e}function tE(){return{}}function Lg(n){const e={},l=u(n,["functionDeclarations"]);if(l!=null){let v=l;Array.isArray(v)&&(v=v.map(C=>$x(C))),c(e,["functionDeclarations"],v)}const o=u(n,["retrieval"]);o!=null&&c(e,["retrieval"],o);const r=u(n,["googleSearch"]);r!=null&&c(e,["googleSearch"],Zx(r));const f=u(n,["googleSearchRetrieval"]);f!=null&&c(e,["googleSearchRetrieval"],Xx(f)),u(n,["enterpriseWebSearch"])!=null&&c(e,["enterpriseWebSearch"],Qx());const h=u(n,["googleMaps"]);h!=null&&c(e,["googleMaps"],eE(h)),u(n,["urlContext"])!=null&&c(e,["urlContext"],tE());const p=u(n,["codeExecution"]);return p!=null&&c(e,["codeExecution"],p),e}function nE(n){const e={},l=u(n,["mode"]);l!=null&&c(e,["mode"],l);const o=u(n,["allowedFunctionNames"]);return o!=null&&c(e,["allowedFunctionNames"],o),e}function iE(n){const e={},l=u(n,["latitude"]);l!=null&&c(e,["latitude"],l);const o=u(n,["longitude"]);return o!=null&&c(e,["longitude"],o),e}function lE(n){const e={},l=u(n,["latLng"]);l!=null&&c(e,["latLng"],iE(l));const o=u(n,["languageCode"]);return o!=null&&c(e,["languageCode"],o),e}function oE(n){const e={},l=u(n,["functionCallingConfig"]);l!=null&&c(e,["functionCallingConfig"],nE(l));const o=u(n,["retrievalConfig"]);return o!=null&&c(e,["retrievalConfig"],lE(o)),e}function aE(n){const e={},l=u(n,["voiceName"]);return l!=null&&c(e,["voiceName"],l),e}function rE(n){const e={},l=u(n,["prebuiltVoiceConfig"]);return l!=null&&c(e,["prebuiltVoiceConfig"],aE(l)),e}function sE(n){const e={},l=u(n,["voiceConfig"]);if(l!=null&&c(e,["voiceConfig"],rE(l)),u(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=u(n,["languageCode"]);return o!=null&&c(e,["languageCode"],o),e}function uE(n){const e={},l=u(n,["includeThoughts"]);l!=null&&c(e,["includeThoughts"],l);const o=u(n,["thinkingBudget"]);return o!=null&&c(e,["thinkingBudget"],o),e}function cE(n,e,l){const o={},r=u(e,["systemInstruction"]);l!==void 0&&r!=null&&c(l,["systemInstruction"],Cl(dt(r)));const f=u(e,["temperature"]);f!=null&&c(o,["temperature"],f);const m=u(e,["topP"]);m!=null&&c(o,["topP"],m);const h=u(e,["topK"]);h!=null&&c(o,["topK"],h);const y=u(e,["candidateCount"]);y!=null&&c(o,["candidateCount"],y);const p=u(e,["maxOutputTokens"]);p!=null&&c(o,["maxOutputTokens"],p);const v=u(e,["stopSequences"]);v!=null&&c(o,["stopSequences"],v);const C=u(e,["responseLogprobs"]);C!=null&&c(o,["responseLogprobs"],C);const _=u(e,["logprobs"]);_!=null&&c(o,["logprobs"],_);const x=u(e,["presencePenalty"]);x!=null&&c(o,["presencePenalty"],x);const b=u(e,["frequencyPenalty"]);b!=null&&c(o,["frequencyPenalty"],b);const D=u(e,["seed"]);D!=null&&c(o,["seed"],D);const q=u(e,["responseMimeType"]);q!=null&&c(o,["responseMimeType"],q);const N=u(e,["responseSchema"]);N!=null&&c(o,["responseSchema"],Hx(yr(N)));const B=u(e,["routingConfig"]);B!=null&&c(o,["routingConfig"],B);const F=u(e,["modelSelectionConfig"]);F!=null&&c(o,["modelConfig"],Fx(F));const J=u(e,["safetySettings"]);if(l!==void 0&&J!=null){let lt=J;Array.isArray(lt)&&(lt=lt.map(Je=>Yx(Je))),c(l,["safetySettings"],lt)}const Y=u(e,["tools"]);if(l!==void 0&&Y!=null){let lt=Uo(Y);Array.isArray(lt)&&(lt=lt.map(Je=>Lg(Io(Je)))),c(l,["tools"],lt)}const te=u(e,["toolConfig"]);l!==void 0&&te!=null&&c(l,["toolConfig"],oE(te));const ne=u(e,["labels"]);l!==void 0&&ne!=null&&c(l,["labels"],ne);const he=u(e,["cachedContent"]);l!==void 0&&he!=null&&c(l,["cachedContent"],jn(n,he));const Z=u(e,["responseModalities"]);Z!=null&&c(o,["responseModalities"],Z);const oe=u(e,["mediaResolution"]);oe!=null&&c(o,["mediaResolution"],oe);const Ce=u(e,["speechConfig"]);Ce!=null&&c(o,["speechConfig"],sE(xg(Ce)));const Qe=u(e,["audioTimestamp"]);Qe!=null&&c(o,["audioTimestamp"],Qe);const Yt=u(e,["thinkingConfig"]);return Yt!=null&&c(o,["thinkingConfig"],uE(Yt)),o}function Xh(n,e){const l={},o=u(e,["model"]);o!=null&&c(l,["_url","model"],qe(n,o));const r=u(e,["contents"]);if(r!=null){let m=Ht(r);Array.isArray(m)&&(m=m.map(h=>Cl(h))),c(l,["contents"],m)}const f=u(e,["config"]);return f!=null&&c(l,["generationConfig"],cE(n,f,l)),l}function fE(n,e){const l={},o=u(n,["taskType"]);e!==void 0&&o!=null&&c(e,["instances[]","task_type"],o);const r=u(n,["title"]);e!==void 0&&r!=null&&c(e,["instances[]","title"],r);const f=u(n,["outputDimensionality"]);e!==void 0&&f!=null&&c(e,["parameters","outputDimensionality"],f);const m=u(n,["mimeType"]);e!==void 0&&m!=null&&c(e,["instances[]","mimeType"],m);const h=u(n,["autoTruncate"]);return e!==void 0&&h!=null&&c(e,["parameters","autoTruncate"],h),l}function dE(n,e){const l={},o=u(e,["model"]);o!=null&&c(l,["_url","model"],qe(n,o));const r=u(e,["contents"]);r!=null&&c(l,["instances[]","content"],_g(n,r));const f=u(e,["config"]);return f!=null&&c(l,["config"],fE(f,l)),l}function mE(n,e){const l={},o=u(n,["outputGcsUri"]);e!==void 0&&o!=null&&c(e,["parameters","storageUri"],o);const r=u(n,["negativePrompt"]);e!==void 0&&r!=null&&c(e,["parameters","negativePrompt"],r);const f=u(n,["numberOfImages"]);e!==void 0&&f!=null&&c(e,["parameters","sampleCount"],f);const m=u(n,["aspectRatio"]);e!==void 0&&m!=null&&c(e,["parameters","aspectRatio"],m);const h=u(n,["guidanceScale"]);e!==void 0&&h!=null&&c(e,["parameters","guidanceScale"],h);const y=u(n,["seed"]);e!==void 0&&y!=null&&c(e,["parameters","seed"],y);const p=u(n,["safetyFilterLevel"]);e!==void 0&&p!=null&&c(e,["parameters","safetySetting"],p);const v=u(n,["personGeneration"]);e!==void 0&&v!=null&&c(e,["parameters","personGeneration"],v);const C=u(n,["includeSafetyAttributes"]);e!==void 0&&C!=null&&c(e,["parameters","includeSafetyAttributes"],C);const _=u(n,["includeRaiReason"]);e!==void 0&&_!=null&&c(e,["parameters","includeRaiReason"],_);const x=u(n,["language"]);e!==void 0&&x!=null&&c(e,["parameters","language"],x);const b=u(n,["outputMimeType"]);e!==void 0&&b!=null&&c(e,["parameters","outputOptions","mimeType"],b);const D=u(n,["outputCompressionQuality"]);e!==void 0&&D!=null&&c(e,["parameters","outputOptions","compressionQuality"],D);const q=u(n,["addWatermark"]);e!==void 0&&q!=null&&c(e,["parameters","addWatermark"],q);const N=u(n,["enhancePrompt"]);return e!==void 0&&N!=null&&c(e,["parameters","enhancePrompt"],N),l}function pE(n,e){const l={},o=u(e,["model"]);o!=null&&c(l,["_url","model"],qe(n,o));const r=u(e,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(e,["config"]);return f!=null&&c(l,["config"],mE(f,l)),l}function xr(n){const e={},l=u(n,["gcsUri"]);l!=null&&c(e,["gcsUri"],l);const o=u(n,["imageBytes"]);o!=null&&c(e,["bytesBase64Encoded"],xn(o));const r=u(n,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function hE(n){const e={},l=u(n,["maskMode"]);l!=null&&c(e,["maskMode"],l);const o=u(n,["segmentationClasses"]);o!=null&&c(e,["maskClasses"],o);const r=u(n,["maskDilation"]);return r!=null&&c(e,["dilation"],r),e}function gE(n){const e={},l=u(n,["controlType"]);l!=null&&c(e,["controlType"],l);const o=u(n,["enableControlImageComputation"]);return o!=null&&c(e,["computeControl"],o),e}function yE(n){const e={},l=u(n,["styleDescription"]);return l!=null&&c(e,["styleDescription"],l),e}function vE(n){const e={},l=u(n,["subjectType"]);l!=null&&c(e,["subjectType"],l);const o=u(n,["subjectDescription"]);return o!=null&&c(e,["subjectDescription"],o),e}function TE(n){const e={},l=u(n,["referenceImage"]);l!=null&&c(e,["referenceImage"],xr(l));const o=u(n,["referenceId"]);o!=null&&c(e,["referenceId"],o);const r=u(n,["referenceType"]);r!=null&&c(e,["referenceType"],r);const f=u(n,["maskImageConfig"]);f!=null&&c(e,["maskImageConfig"],hE(f));const m=u(n,["controlImageConfig"]);m!=null&&c(e,["controlImageConfig"],gE(m));const h=u(n,["styleImageConfig"]);h!=null&&c(e,["styleImageConfig"],yE(h));const y=u(n,["subjectImageConfig"]);return y!=null&&c(e,["subjectImageConfig"],vE(y)),e}function CE(n,e){const l={},o=u(n,["outputGcsUri"]);e!==void 0&&o!=null&&c(e,["parameters","storageUri"],o);const r=u(n,["negativePrompt"]);e!==void 0&&r!=null&&c(e,["parameters","negativePrompt"],r);const f=u(n,["numberOfImages"]);e!==void 0&&f!=null&&c(e,["parameters","sampleCount"],f);const m=u(n,["aspectRatio"]);e!==void 0&&m!=null&&c(e,["parameters","aspectRatio"],m);const h=u(n,["guidanceScale"]);e!==void 0&&h!=null&&c(e,["parameters","guidanceScale"],h);const y=u(n,["seed"]);e!==void 0&&y!=null&&c(e,["parameters","seed"],y);const p=u(n,["safetyFilterLevel"]);e!==void 0&&p!=null&&c(e,["parameters","safetySetting"],p);const v=u(n,["personGeneration"]);e!==void 0&&v!=null&&c(e,["parameters","personGeneration"],v);const C=u(n,["includeSafetyAttributes"]);e!==void 0&&C!=null&&c(e,["parameters","includeSafetyAttributes"],C);const _=u(n,["includeRaiReason"]);e!==void 0&&_!=null&&c(e,["parameters","includeRaiReason"],_);const x=u(n,["language"]);e!==void 0&&x!=null&&c(e,["parameters","language"],x);const b=u(n,["outputMimeType"]);e!==void 0&&b!=null&&c(e,["parameters","outputOptions","mimeType"],b);const D=u(n,["outputCompressionQuality"]);e!==void 0&&D!=null&&c(e,["parameters","outputOptions","compressionQuality"],D);const q=u(n,["editMode"]);e!==void 0&&q!=null&&c(e,["parameters","editMode"],q);const N=u(n,["baseSteps"]);return e!==void 0&&N!=null&&c(e,["parameters","editConfig","baseSteps"],N),l}function SE(n,e){const l={},o=u(e,["model"]);o!=null&&c(l,["_url","model"],qe(n,o));const r=u(e,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(e,["referenceImages"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(y=>TE(y))),c(l,["instances[0]","referenceImages"],h)}const m=u(e,["config"]);return m!=null&&c(l,["config"],CE(m,l)),l}function _E(n,e){const l={},o=u(n,["includeRaiReason"]);e!==void 0&&o!=null&&c(e,["parameters","includeRaiReason"],o);const r=u(n,["outputMimeType"]);e!==void 0&&r!=null&&c(e,["parameters","outputOptions","mimeType"],r);const f=u(n,["outputCompressionQuality"]);e!==void 0&&f!=null&&c(e,["parameters","outputOptions","compressionQuality"],f);const m=u(n,["numberOfImages"]);e!==void 0&&m!=null&&c(e,["parameters","sampleCount"],m);const h=u(n,["mode"]);return e!==void 0&&h!=null&&c(e,["parameters","mode"],h),l}function xE(n,e){const l={},o=u(e,["model"]);o!=null&&c(l,["_url","model"],qe(n,o));const r=u(e,["image"]);r!=null&&c(l,["instances[0]","image"],xr(r));const f=u(e,["upscaleFactor"]);f!=null&&c(l,["parameters","upscaleConfig","upscaleFactor"],f);const m=u(e,["config"]);return m!=null&&c(l,["config"],_E(m,l)),l}function EE(n,e){const l={},o=u(e,["model"]);o!=null&&c(l,["_url","name"],qe(n,o));const r=u(e,["config"]);return r!=null&&c(l,["config"],r),l}function AE(n,e,l){const o={},r=u(e,["pageSize"]);l!==void 0&&r!=null&&c(l,["_query","pageSize"],r);const f=u(e,["pageToken"]);l!==void 0&&f!=null&&c(l,["_query","pageToken"],f);const m=u(e,["filter"]);l!==void 0&&m!=null&&c(l,["_query","filter"],m);const h=u(e,["queryBase"]);return l!==void 0&&h!=null&&c(l,["_url","models_url"],bg(n,h)),o}function bE(n,e){const l={},o=u(e,["config"]);return o!=null&&c(l,["config"],AE(n,o,l)),l}function ME(n,e){const l={},o=u(n,["displayName"]);e!==void 0&&o!=null&&c(e,["displayName"],o);const r=u(n,["description"]);e!==void 0&&r!=null&&c(e,["description"],r);const f=u(n,["defaultCheckpointId"]);return e!==void 0&&f!=null&&c(e,["defaultCheckpointId"],f),l}function RE(n,e){const l={},o=u(e,["model"]);o!=null&&c(l,["_url","model"],qe(n,o));const r=u(e,["config"]);return r!=null&&c(l,["config"],ME(r,l)),l}function wE(n,e){const l={},o=u(e,["model"]);o!=null&&c(l,["_url","name"],qe(n,o));const r=u(e,["config"]);return r!=null&&c(l,["config"],r),l}function NE(n,e){const l={},o=u(n,["systemInstruction"]);e!==void 0&&o!=null&&c(e,["systemInstruction"],Cl(dt(o)));const r=u(n,["tools"]);if(e!==void 0&&r!=null){let m=r;Array.isArray(m)&&(m=m.map(h=>Lg(h))),c(e,["tools"],m)}const f=u(n,["generationConfig"]);return e!==void 0&&f!=null&&c(e,["generationConfig"],f),l}function DE(n,e){const l={},o=u(e,["model"]);o!=null&&c(l,["_url","model"],qe(n,o));const r=u(e,["contents"]);if(r!=null){let m=Ht(r);Array.isArray(m)&&(m=m.map(h=>Cl(h))),c(l,["contents"],m)}const f=u(e,["config"]);return f!=null&&c(l,["config"],NE(f,l)),l}function kE(n,e){const l={},o=u(e,["model"]);o!=null&&c(l,["_url","model"],qe(n,o));const r=u(e,["contents"]);if(r!=null){let m=Ht(r);Array.isArray(m)&&(m=m.map(h=>Cl(h))),c(l,["contents"],m)}const f=u(e,["config"]);return f!=null&&c(l,["config"],f),l}function IE(n){const e={},l=u(n,["uri"]);l!=null&&c(e,["gcsUri"],l);const o=u(n,["videoBytes"]);o!=null&&c(e,["bytesBase64Encoded"],xn(o));const r=u(n,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function UE(n,e){const l={},o=u(n,["numberOfVideos"]);e!==void 0&&o!=null&&c(e,["parameters","sampleCount"],o);const r=u(n,["outputGcsUri"]);e!==void 0&&r!=null&&c(e,["parameters","storageUri"],r);const f=u(n,["fps"]);e!==void 0&&f!=null&&c(e,["parameters","fps"],f);const m=u(n,["durationSeconds"]);e!==void 0&&m!=null&&c(e,["parameters","durationSeconds"],m);const h=u(n,["seed"]);e!==void 0&&h!=null&&c(e,["parameters","seed"],h);const y=u(n,["aspectRatio"]);e!==void 0&&y!=null&&c(e,["parameters","aspectRatio"],y);const p=u(n,["resolution"]);e!==void 0&&p!=null&&c(e,["parameters","resolution"],p);const v=u(n,["personGeneration"]);e!==void 0&&v!=null&&c(e,["parameters","personGeneration"],v);const C=u(n,["pubsubTopic"]);e!==void 0&&C!=null&&c(e,["parameters","pubsubTopic"],C);const _=u(n,["negativePrompt"]);e!==void 0&&_!=null&&c(e,["parameters","negativePrompt"],_);const x=u(n,["enhancePrompt"]);e!==void 0&&x!=null&&c(e,["parameters","enhancePrompt"],x);const b=u(n,["generateAudio"]);e!==void 0&&b!=null&&c(e,["parameters","generateAudio"],b);const D=u(n,["lastFrame"]);return e!==void 0&&D!=null&&c(e,["instances[0]","lastFrame"],xr(D)),l}function LE(n,e){const l={},o=u(e,["model"]);o!=null&&c(l,["_url","model"],qe(n,o));const r=u(e,["prompt"]);r!=null&&c(l,["instances[0]","prompt"],r);const f=u(e,["image"]);f!=null&&c(l,["instances[0]","image"],xr(f));const m=u(e,["video"]);m!=null&&c(l,["instances[0]","video"],IE(m));const h=u(e,["config"]);return h!=null&&c(l,["config"],UE(h,l)),l}function VE(n){const e={},l=u(n,["fps"]);l!=null&&c(e,["fps"],l);const o=u(n,["endOffset"]);o!=null&&c(e,["endOffset"],o);const r=u(n,["startOffset"]);return r!=null&&c(e,["startOffset"],r),e}function qE(n){const e={},l=u(n,["data"]);l!=null&&c(e,["data"],l);const o=u(n,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function OE(n){const e={},l=u(n,["fileUri"]);l!=null&&c(e,["fileUri"],l);const o=u(n,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function BE(n){const e={},l=u(n,["videoMetadata"]);l!=null&&c(e,["videoMetadata"],VE(l));const o=u(n,["thought"]);o!=null&&c(e,["thought"],o);const r=u(n,["inlineData"]);r!=null&&c(e,["inlineData"],qE(r));const f=u(n,["fileData"]);f!=null&&c(e,["fileData"],OE(f));const m=u(n,["thoughtSignature"]);m!=null&&c(e,["thoughtSignature"],m);const h=u(n,["codeExecutionResult"]);h!=null&&c(e,["codeExecutionResult"],h);const y=u(n,["executableCode"]);y!=null&&c(e,["executableCode"],y);const p=u(n,["functionCall"]);p!=null&&c(e,["functionCall"],p);const v=u(n,["functionResponse"]);v!=null&&c(e,["functionResponse"],v);const C=u(n,["text"]);return C!=null&&c(e,["text"],C),e}function zE(n){const e={},l=u(n,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>BE(f))),c(e,["parts"],r)}const o=u(n,["role"]);return o!=null&&c(e,["role"],o),e}function PE(n){const e={},l=u(n,["citationSources"]);return l!=null&&c(e,["citations"],l),e}function GE(n){const e={},l=u(n,["retrievedUrl"]);l!=null&&c(e,["retrievedUrl"],l);const o=u(n,["urlRetrievalStatus"]);return o!=null&&c(e,["urlRetrievalStatus"],o),e}function HE(n){const e={},l=u(n,["urlMetadata"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>GE(r))),c(e,["urlMetadata"],o)}return e}function FE(n){const e={},l=u(n,["content"]);l!=null&&c(e,["content"],zE(l));const o=u(n,["citationMetadata"]);o!=null&&c(e,["citationMetadata"],PE(o));const r=u(n,["tokenCount"]);r!=null&&c(e,["tokenCount"],r);const f=u(n,["finishReason"]);f!=null&&c(e,["finishReason"],f);const m=u(n,["urlContextMetadata"]);m!=null&&c(e,["urlContextMetadata"],HE(m));const h=u(n,["avgLogprobs"]);h!=null&&c(e,["avgLogprobs"],h);const y=u(n,["groundingMetadata"]);y!=null&&c(e,["groundingMetadata"],y);const p=u(n,["index"]);p!=null&&c(e,["index"],p);const v=u(n,["logprobsResult"]);v!=null&&c(e,["logprobsResult"],v);const C=u(n,["safetyRatings"]);return C!=null&&c(e,["safetyRatings"],C),e}function Qh(n){const e={},l=u(n,["candidates"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(h=>FE(h))),c(e,["candidates"],m)}const o=u(n,["modelVersion"]);o!=null&&c(e,["modelVersion"],o);const r=u(n,["promptFeedback"]);r!=null&&c(e,["promptFeedback"],r);const f=u(n,["usageMetadata"]);return f!=null&&c(e,["usageMetadata"],f),e}function YE(n){const e={},l=u(n,["values"]);return l!=null&&c(e,["values"],l),e}function $E(){return{}}function JE(n){const e={},l=u(n,["embeddings"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>YE(f))),c(e,["embeddings"],r)}return u(n,["metadata"])!=null&&c(e,["metadata"],$E()),e}function ZE(n){const e={},l=u(n,["bytesBase64Encoded"]);l!=null&&c(e,["imageBytes"],xn(l));const o=u(n,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function Vg(n){const e={},l=u(n,["safetyAttributes","categories"]);l!=null&&c(e,["categories"],l);const o=u(n,["safetyAttributes","scores"]);o!=null&&c(e,["scores"],o);const r=u(n,["contentType"]);return r!=null&&c(e,["contentType"],r),e}function KE(n){const e={},l=u(n,["_self"]);l!=null&&c(e,["image"],ZE(l));const o=u(n,["raiFilteredReason"]);o!=null&&c(e,["raiFilteredReason"],o);const r=u(n,["_self"]);return r!=null&&c(e,["safetyAttributes"],Vg(r)),e}function XE(n){const e={},l=u(n,["predictions"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>KE(f))),c(e,["generatedImages"],r)}const o=u(n,["positivePromptSafetyAttributes"]);return o!=null&&c(e,["positivePromptSafetyAttributes"],Vg(o)),e}function QE(n){const e={},l=u(n,["baseModel"]);l!=null&&c(e,["baseModel"],l);const o=u(n,["createTime"]);o!=null&&c(e,["createTime"],o);const r=u(n,["updateTime"]);return r!=null&&c(e,["updateTime"],r),e}function cc(n){const e={},l=u(n,["name"]);l!=null&&c(e,["name"],l);const o=u(n,["displayName"]);o!=null&&c(e,["displayName"],o);const r=u(n,["description"]);r!=null&&c(e,["description"],r);const f=u(n,["version"]);f!=null&&c(e,["version"],f);const m=u(n,["_self"]);m!=null&&c(e,["tunedModelInfo"],QE(m));const h=u(n,["inputTokenLimit"]);h!=null&&c(e,["inputTokenLimit"],h);const y=u(n,["outputTokenLimit"]);y!=null&&c(e,["outputTokenLimit"],y);const p=u(n,["supportedGenerationMethods"]);return p!=null&&c(e,["supportedActions"],p),e}function WE(n,e){const l={},o=u(e,["nextPageToken"]);o!=null&&c(l,["nextPageToken"],o);const r=u(e,["_self"]);if(r!=null){let f=Mg(r);Array.isArray(f)&&(f=f.map(m=>cc(m))),c(l,["models"],f)}return l}function jE(){return{}}function eA(n){const e={},l=u(n,["totalTokens"]);l!=null&&c(e,["totalTokens"],l);const o=u(n,["cachedContentTokenCount"]);return o!=null&&c(e,["cachedContentTokenCount"],o),e}function tA(n){const e={},l=u(n,["video","uri"]);l!=null&&c(e,["uri"],l);const o=u(n,["video","encodedVideo"]);o!=null&&c(e,["videoBytes"],xn(o));const r=u(n,["encoding"]);return r!=null&&c(e,["mimeType"],r),e}function nA(n){const e={},l=u(n,["_self"]);return l!=null&&c(e,["video"],tA(l)),e}function iA(n){const e={},l=u(n,["generatedSamples"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>nA(m))),c(e,["generatedVideos"],f)}const o=u(n,["raiMediaFilteredCount"]);o!=null&&c(e,["raiMediaFilteredCount"],o);const r=u(n,["raiMediaFilteredReasons"]);return r!=null&&c(e,["raiMediaFilteredReasons"],r),e}function lA(n){const e={},l=u(n,["name"]);l!=null&&c(e,["name"],l);const o=u(n,["metadata"]);o!=null&&c(e,["metadata"],o);const r=u(n,["done"]);r!=null&&c(e,["done"],r);const f=u(n,["error"]);f!=null&&c(e,["error"],f);const m=u(n,["response","generateVideoResponse"]);return m!=null&&c(e,["response"],iA(m)),e}function oA(n){const e={},l=u(n,["fps"]);l!=null&&c(e,["fps"],l);const o=u(n,["endOffset"]);o!=null&&c(e,["endOffset"],o);const r=u(n,["startOffset"]);return r!=null&&c(e,["startOffset"],r),e}function aA(n){const e={},l=u(n,["displayName"]);l!=null&&c(e,["displayName"],l);const o=u(n,["data"]);o!=null&&c(e,["data"],o);const r=u(n,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function rA(n){const e={},l=u(n,["displayName"]);l!=null&&c(e,["displayName"],l);const o=u(n,["fileUri"]);o!=null&&c(e,["fileUri"],o);const r=u(n,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function sA(n){const e={},l=u(n,["videoMetadata"]);l!=null&&c(e,["videoMetadata"],oA(l));const o=u(n,["thought"]);o!=null&&c(e,["thought"],o);const r=u(n,["inlineData"]);r!=null&&c(e,["inlineData"],aA(r));const f=u(n,["fileData"]);f!=null&&c(e,["fileData"],rA(f));const m=u(n,["thoughtSignature"]);m!=null&&c(e,["thoughtSignature"],m);const h=u(n,["codeExecutionResult"]);h!=null&&c(e,["codeExecutionResult"],h);const y=u(n,["executableCode"]);y!=null&&c(e,["executableCode"],y);const p=u(n,["functionCall"]);p!=null&&c(e,["functionCall"],p);const v=u(n,["functionResponse"]);v!=null&&c(e,["functionResponse"],v);const C=u(n,["text"]);return C!=null&&c(e,["text"],C),e}function uA(n){const e={},l=u(n,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>sA(f))),c(e,["parts"],r)}const o=u(n,["role"]);return o!=null&&c(e,["role"],o),e}function cA(n){const e={},l=u(n,["citations"]);return l!=null&&c(e,["citations"],l),e}function fA(n){const e={},l=u(n,["retrievedUrl"]);l!=null&&c(e,["retrievedUrl"],l);const o=u(n,["urlRetrievalStatus"]);return o!=null&&c(e,["urlRetrievalStatus"],o),e}function dA(n){const e={},l=u(n,["urlMetadata"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>fA(r))),c(e,["urlMetadata"],o)}return e}function mA(n){const e={},l=u(n,["content"]);l!=null&&c(e,["content"],uA(l));const o=u(n,["citationMetadata"]);o!=null&&c(e,["citationMetadata"],cA(o));const r=u(n,["finishMessage"]);r!=null&&c(e,["finishMessage"],r);const f=u(n,["finishReason"]);f!=null&&c(e,["finishReason"],f);const m=u(n,["urlContextMetadata"]);m!=null&&c(e,["urlContextMetadata"],dA(m));const h=u(n,["avgLogprobs"]);h!=null&&c(e,["avgLogprobs"],h);const y=u(n,["groundingMetadata"]);y!=null&&c(e,["groundingMetadata"],y);const p=u(n,["index"]);p!=null&&c(e,["index"],p);const v=u(n,["logprobsResult"]);v!=null&&c(e,["logprobsResult"],v);const C=u(n,["safetyRatings"]);return C!=null&&c(e,["safetyRatings"],C),e}function Wh(n){const e={},l=u(n,["candidates"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(p=>mA(p))),c(e,["candidates"],y)}const o=u(n,["createTime"]);o!=null&&c(e,["createTime"],o);const r=u(n,["responseId"]);r!=null&&c(e,["responseId"],r);const f=u(n,["modelVersion"]);f!=null&&c(e,["modelVersion"],f);const m=u(n,["promptFeedback"]);m!=null&&c(e,["promptFeedback"],m);const h=u(n,["usageMetadata"]);return h!=null&&c(e,["usageMetadata"],h),e}function pA(n){const e={},l=u(n,["truncated"]);l!=null&&c(e,["truncated"],l);const o=u(n,["token_count"]);return o!=null&&c(e,["tokenCount"],o),e}function hA(n){const e={},l=u(n,["values"]);l!=null&&c(e,["values"],l);const o=u(n,["statistics"]);return o!=null&&c(e,["statistics"],pA(o)),e}function gA(n){const e={},l=u(n,["billableCharacterCount"]);return l!=null&&c(e,["billableCharacterCount"],l),e}function yA(n){const e={},l=u(n,["predictions[]","embeddings"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>hA(f))),c(e,["embeddings"],r)}const o=u(n,["metadata"]);return o!=null&&c(e,["metadata"],gA(o)),e}function vA(n){const e={},l=u(n,["gcsUri"]);l!=null&&c(e,["gcsUri"],l);const o=u(n,["bytesBase64Encoded"]);o!=null&&c(e,["imageBytes"],xn(o));const r=u(n,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function qg(n){const e={},l=u(n,["safetyAttributes","categories"]);l!=null&&c(e,["categories"],l);const o=u(n,["safetyAttributes","scores"]);o!=null&&c(e,["scores"],o);const r=u(n,["contentType"]);return r!=null&&c(e,["contentType"],r),e}function _c(n){const e={},l=u(n,["_self"]);l!=null&&c(e,["image"],vA(l));const o=u(n,["raiFilteredReason"]);o!=null&&c(e,["raiFilteredReason"],o);const r=u(n,["_self"]);r!=null&&c(e,["safetyAttributes"],qg(r));const f=u(n,["prompt"]);return f!=null&&c(e,["enhancedPrompt"],f),e}function TA(n){const e={},l=u(n,["predictions"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>_c(f))),c(e,["generatedImages"],r)}const o=u(n,["positivePromptSafetyAttributes"]);return o!=null&&c(e,["positivePromptSafetyAttributes"],qg(o)),e}function CA(n){const e={},l=u(n,["predictions"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>_c(r))),c(e,["generatedImages"],o)}return e}function SA(n){const e={},l=u(n,["predictions"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>_c(r))),c(e,["generatedImages"],o)}return e}function _A(n){const e={},l=u(n,["endpoint"]);l!=null&&c(e,["name"],l);const o=u(n,["deployedModelId"]);return o!=null&&c(e,["deployedModelId"],o),e}function xA(n){const e={},l=u(n,["labels","google-vertex-llm-tuning-base-model-id"]);l!=null&&c(e,["baseModel"],l);const o=u(n,["createTime"]);o!=null&&c(e,["createTime"],o);const r=u(n,["updateTime"]);return r!=null&&c(e,["updateTime"],r),e}function EA(n){const e={},l=u(n,["checkpointId"]);l!=null&&c(e,["checkpointId"],l);const o=u(n,["epoch"]);o!=null&&c(e,["epoch"],o);const r=u(n,["step"]);return r!=null&&c(e,["step"],r),e}function fc(n){const e={},l=u(n,["name"]);l!=null&&c(e,["name"],l);const o=u(n,["displayName"]);o!=null&&c(e,["displayName"],o);const r=u(n,["description"]);r!=null&&c(e,["description"],r);const f=u(n,["versionId"]);f!=null&&c(e,["version"],f);const m=u(n,["deployedModels"]);if(m!=null){let C=m;Array.isArray(C)&&(C=C.map(_=>_A(_))),c(e,["endpoints"],C)}const h=u(n,["labels"]);h!=null&&c(e,["labels"],h);const y=u(n,["_self"]);y!=null&&c(e,["tunedModelInfo"],xA(y));const p=u(n,["defaultCheckpointId"]);p!=null&&c(e,["defaultCheckpointId"],p);const v=u(n,["checkpoints"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(_=>EA(_))),c(e,["checkpoints"],C)}return e}function AA(n,e){const l={},o=u(e,["nextPageToken"]);o!=null&&c(l,["nextPageToken"],o);const r=u(e,["_self"]);if(r!=null){let f=Mg(r);Array.isArray(f)&&(f=f.map(m=>fc(m))),c(l,["models"],f)}return l}function bA(){return{}}function MA(n){const e={},l=u(n,["totalTokens"]);return l!=null&&c(e,["totalTokens"],l),e}function RA(n){const e={},l=u(n,["tokensInfo"]);return l!=null&&c(e,["tokensInfo"],l),e}function wA(n){const e={},l=u(n,["gcsUri"]);l!=null&&c(e,["uri"],l);const o=u(n,["bytesBase64Encoded"]);o!=null&&c(e,["videoBytes"],xn(o));const r=u(n,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function NA(n){const e={},l=u(n,["_self"]);return l!=null&&c(e,["video"],wA(l)),e}function DA(n){const e={},l=u(n,["videos"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>NA(m))),c(e,["generatedVideos"],f)}const o=u(n,["raiMediaFilteredCount"]);o!=null&&c(e,["raiMediaFilteredCount"],o);const r=u(n,["raiMediaFilteredReasons"]);return r!=null&&c(e,["raiMediaFilteredReasons"],r),e}function kA(n){const e={},l=u(n,["name"]);l!=null&&c(e,["name"],l);const o=u(n,["metadata"]);o!=null&&c(e,["metadata"],o);const r=u(n,["done"]);r!=null&&c(e,["done"],r);const f=u(n,["error"]);f!=null&&c(e,["error"],f);const m=u(n,["response"]);return m!=null&&c(e,["response"],DA(m)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const IA="Content-Type",UA="X-Server-Timeout",LA="User-Agent",dc="x-goog-api-client",VA="1.6.0",qA=`google-genai-sdk/${VA}`,OA="v1beta1",BA="v1beta",jh=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class zA{constructor(e){var l,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:OA,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:BA,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),l=new URL(e);return l.protocol=l.protocol=="http:"?"ws":"wss",l.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,l,o){const r=[this.getRequestUrlInternal(l)];return o&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let l=this.clientOptions.httpOptions;e.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,l,o);if(e.queryParams)for(const[m,h]of Object.entries(e.queryParams))r.searchParams.append(m,String(h));let f={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else f.body=e.body;return f=await this.includeExtraHttpOptionsToRequestInit(f,l,e.abortSignal),this.unaryApiCall(r,f,e.httpMethod)}patchHttpOptions(e,l){const o=JSON.parse(JSON.stringify(e));for(const[r,f]of Object.entries(l))typeof f=="object"?o[r]=Object.assign(Object.assign({},o[r]),f):f!==void 0&&(o[r]=f);return o}async requestStream(e){let l=this.clientOptions.httpOptions;e.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,l,o);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let f={};return f.body=e.body,f=await this.includeExtraHttpOptionsToRequestInit(f,l,e.abortSignal),this.streamApiCall(r,f,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,l,o){if(l&&l.timeout||o){const r=new AbortController,f=r.signal;l.timeout&&(l==null?void 0:l.timeout)>0&&setTimeout(()=>r.abort(),l.timeout),o&&o.addEventListener("abort",()=>{r.abort()}),e.signal=f}return l&&l.extraBody!==null&&PA(e,l.extraBody),e.headers=await this.getHeadersInternal(l),e}async unaryApiCall(e,l,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},l),{method:o})).then(async r=>(await eg(r),new ac(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,l,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},l),{method:o})).then(async r=>(await eg(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){var l;return dl(this,arguments,function*(){const r=(l=e==null?void 0:e.body)===null||l===void 0?void 0:l.getReader(),f=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let m="";for(;;){const{done:h,value:y}=yield Oe(r.read());if(h){if(m.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=f.decode(y);try{const C=JSON.parse(p);if("error"in C){const _=JSON.parse(JSON.stringify(C.error)),x=_.status,b=_.code,D=`got status: ${x}. ${JSON.stringify(C)}`;if(b>=400&&b<600)throw new Sr({message:D,status:b})}}catch(C){if(C.name==="ApiError")throw C}m+=p;let v=m.match(jh);for(;v;){const C=v[1];try{const _=new Response(C,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Oe(new ac(_)),m=m.slice(v[0].length),v=m.match(jh)}catch(_){throw new Error(`exception parsing stream chunk ${C}. ${_}`)}}}}finally{r.releaseLock()}})}async apiCall(e,l){return fetch(e,l).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},l=qA+" "+this.clientOptions.userAgentExtra;return e[LA]=l,e[dc]=l,e[IA]="application/json",e}async getHeadersInternal(e){const l=new Headers;if(e&&e.headers){for(const[o,r]of Object.entries(e.headers))l.append(o,r);e.timeout&&e.timeout>0&&l.append(UA,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(l),l}async uploadFile(e,l){var o;const r={};l!=null&&(r.mimeType=l.mimeType,r.name=l.name,r.displayName=l.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const f=this.clientOptions.uploader,m=await f.stat(e);r.sizeBytes=String(m.size);const h=(o=l==null?void 0:l.mimeType)!==null&&o!==void 0?o:m.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=h;const y=await this.fetchUploadUrl(r,l);return f.upload(e,y,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,l){var o;let r={};l!=null&&l.httpOptions?r=l.httpOptions:r={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const f={file:e},m=await this.request({path:fe("upload/v1beta/files",f._url),body:JSON.stringify(f),httpMethod:"POST",httpOptions:r});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(o=m==null?void 0:m.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function eg(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const l=n.status;let o;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await n.json():o={error:{message:await n.text(),code:n.status,status:n.statusText}};const r=JSON.stringify(o);throw l>=400&&l<600?new Sr({message:r,status:l}):new Error(r)}}function PA(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let l={};if(typeof n.body=="string"&&n.body.length>0)try{const f=JSON.parse(n.body);if(typeof f=="object"&&f!==null&&!Array.isArray(f))l=f;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(f,m){const h=Object.assign({},f);for(const y in m)if(Object.prototype.hasOwnProperty.call(m,y)){const p=m[y],v=h[y];p&&typeof p=="object"&&!Array.isArray(p)&&v&&typeof v=="object"&&!Array.isArray(v)?h[y]=o(v,p):(v&&p&&typeof v!=typeof p&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof p}. Overwriting.`),h[y]=p)}return h}const r=o(l,e);n.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const GA="mcp_used/unknown";function Og(n){for(const e of n)if(xc(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function Bg(n){var e;const l=(e=n[dc])!==null&&e!==void 0?e:"";n[dc]=(l+` ${GA}`).trimStart()}function HA(n){var e,l,o;return(o=(l=(e=n.config)===null||e===void 0?void 0:e.tools)===null||l===void 0?void 0:l.some(r=>xc(r)))!==null&&o!==void 0?o:!1}function FA(n){var e,l,o;return(o=(l=(e=n.config)===null||e===void 0?void 0:e.tools)===null||l===void 0?void 0:l.some(r=>!xc(r)))!==null&&o!==void 0?o:!1}function xc(n){return n!==null&&typeof n=="object"&&n instanceof Ec}function YA(n,e=100){return dl(this,arguments,function*(){let o,r=0;for(;r<e;){const f=yield Oe(n.listTools({cursor:o}));for(const m of f.tools)yield yield Oe(m),r++;if(!f.nextCursor)break;o=f.nextCursor}})}class Ec{constructor(e=[],l){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=l}static create(e,l){return new Ec(e,l)}async initialize(){var e,l,o,r;if(this.mcpTools.length>0)return;const f={},m=[];for(const v of this.mcpClients)try{for(var h=!0,y=(l=void 0,No(YA(v))),p;p=await y.next(),e=p.done,!e;h=!0){r=p.value,h=!1;const C=r;m.push(C);const _=C.name;if(f[_])throw new Error(`Duplicate function name ${_} found in MCP tools. Please ensure function names are unique.`);f[_]=v}}catch(C){l={error:C}}finally{try{!h&&!e&&(o=y.return)&&await o.call(y)}finally{if(l)throw l.error}}this.mcpTools=m,this.functionNameToMcpClient=f}async tool(){return await this.initialize(),YT(this.mcpTools,this.config)}async callTool(e){await this.initialize();const l=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[o.name];let f;this.config.timeout&&(f={timeout:this.config.timeout});const m=await r.callTool({name:o.name,arguments:o.args},void 0,f);l.push({functionResponse:{name:o.name,response:m.isError?{error:m}:m}})}return l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function $A(n,e,l){const o=new kT;let r;l.data instanceof Blob?r=JSON.parse(await l.data.text()):r=JSON.parse(l.data);const f=ex(r);Object.assign(o,f),e(o)}class JA{constructor(e,l,o){this.apiClient=e,this.auth=l,this.webSocketFactory=o}async connect(e){var l,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion(),m=XA(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateMusic?key=${h}`;let p=()=>{};const v=new Promise(F=>{p=F}),C=e.callbacks,_=function(){p({})},x=this.apiClient,b={onopen:_,onmessage:F=>{$A(x,C.onmessage,F)},onerror:(l=C==null?void 0:C.onerror)!==null&&l!==void 0?l:function(F){},onclose:(o=C==null?void 0:C.onclose)!==null&&o!==void 0?o:function(F){}},D=this.webSocketFactory.create(y,KA(m),b);D.connect(),await v;const q=qe(this.apiClient,e.model),N=kg({model:q}),B=uc({setup:N});return D.send(JSON.stringify(B)),new ZA(D,this.apiClient)}}class ZA{constructor(e,l){this.conn=e,this.apiClient=l}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const l=p_(e),o=Ig(l);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const l=h_(e),o=uc(l);this.conn.send(JSON.stringify(o))}sendPlaybackControl(e){const l=uc({playbackControl:e});this.conn.send(JSON.stringify(l))}play(){this.sendPlaybackControl(cl.PLAY)}pause(){this.sendPlaybackControl(cl.PAUSE)}stop(){this.sendPlaybackControl(cl.STOP)}resetContext(){this.sendPlaybackControl(cl.RESET_CONTEXT)}close(){this.conn.close()}}function KA(n){const e={};return n.forEach((l,o)=>{e[o]=l}),e}function XA(n){const e=new Headers;for(const[l,o]of Object.entries(n))e.append(l,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const QA="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function WA(n,e,l){const o=new DT;let r;if(l.data instanceof Blob?r=JSON.parse(await l.data.text()):r=JSON.parse(l.data),n.isVertexAI()){const f=Y_(r);Object.assign(o,f)}else{const f=F_(r);Object.assign(o,f)}e(o)}class jA{constructor(e,l,o){this.apiClient=e,this.auth=l,this.webSocketFactory=o,this.music=new JA(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var l,o,r,f,m,h;const y=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion();let v;const C=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&Og(e.config.tools)&&Bg(C);const _=ib(C);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(_);else{const Z=this.apiClient.getApiKey();let oe="BidiGenerateContent",Ce="key";Z!=null&&Z.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),oe="BidiGenerateContentConstrained",Ce="access_token"),v=`${y}/ws/google.ai.generativelanguage.${p}.GenerativeService.${oe}?${Ce}=${Z}`}let x=()=>{};const b=new Promise(Z=>{x=Z}),D=e.callbacks,q=function(){var Z;(Z=D==null?void 0:D.onopen)===null||Z===void 0||Z.call(D),x({})},N=this.apiClient,B={onopen:q,onmessage:Z=>{WA(N,D.onmessage,Z)},onerror:(l=D==null?void 0:D.onerror)!==null&&l!==void 0?l:function(Z){},onclose:(o=D==null?void 0:D.onclose)!==null&&o!==void 0?o:function(Z){}},F=this.webSocketFactory.create(v,nb(_),B);F.connect(),await b;let J=qe(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&J.startsWith("publishers/")){const Z=this.apiClient.getProject(),oe=this.apiClient.getLocation();J=`projects/${Z}/locations/${oe}/`+J}let Y={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[hr.AUDIO]}:e.config.responseModalities=[hr.AUDIO]),!((f=e.config)===null||f===void 0)&&f.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const te=(h=(m=e.config)===null||m===void 0?void 0:m.tools)!==null&&h!==void 0?h:[],ne=[];for(const Z of te)if(this.isCallableTool(Z)){const oe=Z;ne.push(await oe.tool())}else ne.push(Z);ne.length>0&&(e.config.tools=ne);const he={model:J,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?Y=r_(this.apiClient,he):Y=a_(this.apiClient,he),delete Y.config,F.send(JSON.stringify(Y)),new tb(F,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const eb={turnComplete:!0};class tb{constructor(e,l){this.conn=e,this.apiClient=l}tLiveClientContent(e,l){if(l.turns!==null&&l.turns!==void 0){let o=[];try{o=Ht(l.turns),e.isVertexAI()?o=o.map(r=>Cl(r)):o=o.map(r=>_r(r))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof l.turns}'`)}return{clientContent:{turns:o,turnComplete:l.turnComplete}}}return{clientContent:{turnComplete:l.turnComplete}}}tLiveClienttToolResponse(e,l){let o=[];if(l.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(l.functionResponses)?o=l.functionResponses:o=[l.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const f of o){if(typeof f!="object"||f===null||!("name"in f)||!("response"in f))throw new Error(`Could not parse function response, type '${typeof f}'.`);if(!e.isVertexAI()&&!("id"in f))throw new Error(QA)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},eb),e);const l=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(l))}sendRealtimeInput(e){let l={};this.apiClient.isVertexAI()?l={realtimeInput:m_(e)}:l={realtimeInput:d_(e)},this.conn.send(JSON.stringify(l))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const l=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(l))}close(){this.conn.close()}}function nb(n){const e={};return n.forEach((l,o)=>{e[o]=l}),e}function ib(n){const e=new Headers;for(const[l,o]of Object.entries(n))e.append(l,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tg=10;function ng(n){var e,l,o;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const m of(l=n==null?void 0:n.tools)!==null&&l!==void 0?l:[])if(ar(m)){r=!0;break}if(!r)return!0;const f=(o=n==null?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return f&&(f<0||!Number.isInteger(f))||f==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",f),!0):!1}function ar(n){return"callTool"in n&&typeof n.callTool=="function"}function ig(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lb extends Tl{constructor(e){super(),this.apiClient=e,this.generateContent=async l=>{var o,r,f,m,h;const y=await this.processParamsForMcpUsage(l);if(!HA(l)||ng(l.config))return await this.generateContentInternal(y);if(FA(l))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let p,v;const C=Ht(y.contents),_=(f=(r=(o=y.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&f!==void 0?f:tg;let x=0;for(;x<_&&(p=await this.generateContentInternal(y),!(!p.functionCalls||p.functionCalls.length===0));){const b=p.candidates[0].content,D=[];for(const q of(h=(m=l.config)===null||m===void 0?void 0:m.tools)!==null&&h!==void 0?h:[])if(ar(q)){const B=await q.callTool(p.functionCalls);D.push(...B)}x++,v={role:"user",parts:D},y.contents=Ht(y.contents),y.contents.push(b),y.contents.push(v),ig(y.config)&&(C.push(b),C.push(v))}return ig(y.config)&&(p.automaticFunctionCallingHistory=C),p},this.generateContentStream=async l=>{if(ng(l.config)){const o=await this.processParamsForMcpUsage(l);return await this.generateContentStreamInternal(o)}else return await this.processAfcStream(l)},this.generateImages=async l=>await this.generateImagesInternal(l).then(o=>{var r;let f;const m=[];if(o!=null&&o.generatedImages)for(const y of o.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((r=y==null?void 0:y.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?f=y==null?void 0:y.safetyAttributes:m.push(y);let h;return f?h={generatedImages:m,positivePromptSafetyAttributes:f}:h={generatedImages:m},h}),this.list=async l=>{var o;const m={config:Object.assign(Object.assign({},{queryBase:!0}),l==null?void 0:l.config)};if(this.apiClient.isVertexAI()&&!m.config.queryBase){if(!((o=m.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");m.config.filter="labels.tune-type:*"}return new Cr(vl.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(m),m)},this.editImage=async l=>{const o={model:l.model,prompt:l.prompt,referenceImages:[],config:l.config};return l.referenceImages&&l.referenceImages&&(o.referenceImages=l.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async l=>{let o={numberOfImages:1,mode:"upscale"};l.config&&(o=Object.assign(Object.assign({},o),l.config));const r={model:l.model,image:l.image,upscaleFactor:l.upscaleFactor,config:o};return await this.upscaleImageInternal(r)}}async processParamsForMcpUsage(e){var l,o,r;const f=(l=e.config)===null||l===void 0?void 0:l.tools;if(!f)return e;const m=await Promise.all(f.map(async y=>ar(y)?await y.tool():y)),h={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:m})};if(h.config.tools=m,e.config&&e.config.tools&&Og(e.config.tools)){const y=(r=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&r!==void 0?r:{};let p=Object.assign({},y);Object.keys(p).length===0&&(p=this.apiClient.getDefaultHeaders()),Bg(p),h.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:p})}return h}async initAfcToolsMap(e){var l,o,r;const f=new Map;for(const m of(o=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&o!==void 0?o:[])if(ar(m)){const h=m,y=await h.tool();for(const p of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!p.name)throw new Error("Function declaration name is required.");if(f.has(p.name))throw new Error(`Duplicate tool declaration name: ${p.name}`);f.set(p.name,h)}}return f}async processAfcStream(e){var l,o,r;const f=(r=(o=(l=e.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&r!==void 0?r:tg;let m=!1,h=0;const y=await this.initAfcToolsMap(e);return function(p,v,C){var _,x;return dl(this,arguments,function*(){for(var b,D,q,N;h<f;){m&&(h++,m=!1);const Y=yield Oe(p.processParamsForMcpUsage(C)),te=yield Oe(p.generateContentStreamInternal(Y)),ne=[],he=[];try{for(var B=!0,F=(D=void 0,No(te)),J;J=yield Oe(F.next()),b=J.done,!b;B=!0){N=J.value,B=!1;const Z=N;if(yield yield Oe(Z),Z.candidates&&(!((_=Z.candidates[0])===null||_===void 0)&&_.content)){he.push(Z.candidates[0].content);for(const oe of(x=Z.candidates[0].content.parts)!==null&&x!==void 0?x:[])if(h<f&&oe.functionCall){if(!oe.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(oe.functionCall.name)){const Ce=yield Oe(v.get(oe.functionCall.name).callTool([oe.functionCall]));ne.push(...Ce)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${oe.functionCall.name}`)}}}}catch(Z){D={error:Z}}finally{try{!B&&!b&&(q=F.return)&&(yield Oe(q.call(F)))}finally{if(D)throw D.error}}if(ne.length>0){m=!0;const Z=new Eo;Z.candidates=[{content:{role:"user",parts:ne}}],yield yield Oe(Z);const oe=[];oe.push(...he),oe.push({role:"user",parts:ne});const Ce=Ht(C.contents).concat(oe);C.contents=Ce}else break}})}(this,y,e)}async generateContentInternal(e){var l,o,r,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=Xh(this.apiClient,e);return h=fe("{model}:generateContent",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>{const C=Wh(v),_=new Eo;return Object.assign(_,C),_})}else{const p=Kh(this.apiClient,e);return h=fe("{model}:generateContent",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>{const C=Qh(v),_=new Eo;return Object.assign(_,C),_})}}async generateContentStreamInternal(e){var l,o,r,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=Xh(this.apiClient,e);return h=fe("{model}:streamGenerateContent?alt=sse",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.requestStream({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),m.then(function(C){return dl(this,arguments,function*(){var _,x,b,D;try{for(var q=!0,N=No(C),B;B=yield Oe(N.next()),_=B.done,!_;q=!0){D=B.value,q=!1;const J=Wh(yield Oe(D.json())),Y=new Eo;Object.assign(Y,J),yield yield Oe(Y)}}catch(F){x={error:F}}finally{try{!q&&!_&&(b=N.return)&&(yield Oe(b.call(N)))}finally{if(x)throw x.error}}})})}else{const p=Kh(this.apiClient,e);return h=fe("{model}:streamGenerateContent?alt=sse",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.requestStream({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}),m.then(function(C){return dl(this,arguments,function*(){var _,x,b,D;try{for(var q=!0,N=No(C),B;B=yield Oe(N.next()),_=B.done,!_;q=!0){D=B.value,q=!1;const J=Qh(yield Oe(D.json())),Y=new Eo;Object.assign(Y,J),yield yield Oe(Y)}}catch(F){x={error:F}}finally{try{!q&&!_&&(b=N.return)&&(yield Oe(b.call(N)))}finally{if(x)throw x.error}}})})}}async embedContent(e){var l,o,r,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=dE(this.apiClient,e);return h=fe("{model}:predict",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>{const C=yA(v),_=new wh;return Object.assign(_,C),_})}else{const p=Ax(this.apiClient,e);return h=fe("{model}:batchEmbedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>{const C=JE(v),_=new wh;return Object.assign(_,C),_})}}async generateImagesInternal(e){var l,o,r,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=pE(this.apiClient,e);return h=fe("{model}:predict",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>{const C=TA(v),_=new Nh;return Object.assign(_,C),_})}else{const p=Mx(this.apiClient,e);return h=fe("{model}:predict",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>{const C=XE(v),_=new Nh;return Object.assign(_,C),_})}}async editImageInternal(e){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI()){const h=SE(this.apiClient,e);return f=fe("{model}:predict",h._url),m=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>{const p=CA(y),v=new AT;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI()){const h=xE(this.apiClient,e);return f=fe("{model}:predict",h._url),m=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>{const p=SA(y),v=new bT;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var l,o,r,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=EE(this.apiClient,e);return h=fe("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>fc(v))}else{const p=Rx(this.apiClient,e);return h=fe("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>cc(v))}}async listInternal(e){var l,o,r,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=bE(this.apiClient,e);return h=fe("{models_url}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>{const C=AA(this.apiClient,v),_=new Dh;return Object.assign(_,C),_})}else{const p=Nx(this.apiClient,e);return h=fe("{models_url}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>{const C=WE(this.apiClient,v),_=new Dh;return Object.assign(_,C),_})}}async update(e){var l,o,r,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=RE(this.apiClient,e);return h=fe("{model}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>fc(v))}else{const p=kx(this.apiClient,e);return h=fe("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>cc(v))}}async delete(e){var l,o,r,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=wE(this.apiClient,e);return h=fe("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(()=>{const v=bA(),C=new kh;return Object.assign(C,v),C})}else{const p=Ix(this.apiClient,e);return h=fe("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(()=>{const v=jE(),C=new kh;return Object.assign(C,v),C})}}async countTokens(e){var l,o,r,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=DE(this.apiClient,e);return h=fe("{model}:countTokens",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>{const C=MA(v),_=new Ih;return Object.assign(_,C),_})}else{const p=Lx(this.apiClient,e);return h=fe("{model}:countTokens",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>{const C=eA(v),_=new Ih;return Object.assign(_,C),_})}}async computeTokens(e){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI()){const h=kE(this.apiClient,e);return f=fe("{model}:computeTokens",h._url),m=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>{const p=RA(y),v=new MT;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var l,o,r,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=LE(this.apiClient,e);return h=fe("{model}:predictLongRunning",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>kA(v))}else{const p=Ox(this.apiClient,e);return h=fe("{model}:predictLongRunning",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>lA(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ob(n){const e={},l=u(n,["operationName"]);l!=null&&c(e,["_url","operationName"],l);const o=u(n,["config"]);return o!=null&&c(e,["config"],o),e}function ab(n){const e={},l=u(n,["operationName"]);l!=null&&c(e,["_url","operationName"],l);const o=u(n,["config"]);return o!=null&&c(e,["config"],o),e}function rb(n){const e={},l=u(n,["operationName"]);l!=null&&c(e,["operationName"],l);const o=u(n,["resourceName"]);o!=null&&c(e,["_url","resourceName"],o);const r=u(n,["config"]);return r!=null&&c(e,["config"],r),e}function sb(n){const e={},l=u(n,["video","uri"]);l!=null&&c(e,["uri"],l);const o=u(n,["video","encodedVideo"]);o!=null&&c(e,["videoBytes"],xn(o));const r=u(n,["encoding"]);return r!=null&&c(e,["mimeType"],r),e}function ub(n){const e={},l=u(n,["_self"]);return l!=null&&c(e,["video"],sb(l)),e}function cb(n){const e={},l=u(n,["generatedSamples"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>ub(m))),c(e,["generatedVideos"],f)}const o=u(n,["raiMediaFilteredCount"]);o!=null&&c(e,["raiMediaFilteredCount"],o);const r=u(n,["raiMediaFilteredReasons"]);return r!=null&&c(e,["raiMediaFilteredReasons"],r),e}function fb(n){const e={},l=u(n,["name"]);l!=null&&c(e,["name"],l);const o=u(n,["metadata"]);o!=null&&c(e,["metadata"],o);const r=u(n,["done"]);r!=null&&c(e,["done"],r);const f=u(n,["error"]);f!=null&&c(e,["error"],f);const m=u(n,["response","generateVideoResponse"]);return m!=null&&c(e,["response"],cb(m)),e}function db(n){const e={},l=u(n,["gcsUri"]);l!=null&&c(e,["uri"],l);const o=u(n,["bytesBase64Encoded"]);o!=null&&c(e,["videoBytes"],xn(o));const r=u(n,["mimeType"]);return r!=null&&c(e,["mimeType"],r),e}function mb(n){const e={},l=u(n,["_self"]);return l!=null&&c(e,["video"],db(l)),e}function pb(n){const e={},l=u(n,["videos"]);if(l!=null){let f=l;Array.isArray(f)&&(f=f.map(m=>mb(m))),c(e,["generatedVideos"],f)}const o=u(n,["raiMediaFilteredCount"]);o!=null&&c(e,["raiMediaFilteredCount"],o);const r=u(n,["raiMediaFilteredReasons"]);return r!=null&&c(e,["raiMediaFilteredReasons"],r),e}function lg(n){const e={},l=u(n,["name"]);l!=null&&c(e,["name"],l);const o=u(n,["metadata"]);o!=null&&c(e,["metadata"],o);const r=u(n,["done"]);r!=null&&c(e,["done"],r);const f=u(n,["error"]);f!=null&&c(e,["error"],f);const m=u(n,["response"]);return m!=null&&c(e,["response"],pb(m)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hb extends Tl{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const l=e.operation,o=e.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let f;return o&&"httpOptions"in o&&(f=o.httpOptions),this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:f}})}else return this.getVideosOperationInternal({operationName:l.name,config:o})}async getVideosOperationInternal(e){var l,o,r,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=ab(e);return h=fe("{operationName}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>lg(v))}else{const p=ob(e);return h=fe("{operationName}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>fb(v))}}async fetchPredictVideosOperationInternal(e){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI()){const h=rb(e);return f=fe("{resourceName}:fetchPredictOperation",h._url),m=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>lg(y))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gb(n){const e={},l=u(n,["voiceName"]);return l!=null&&c(e,["voiceName"],l),e}function zg(n){const e={},l=u(n,["prebuiltVoiceConfig"]);return l!=null&&c(e,["prebuiltVoiceConfig"],gb(l)),e}function yb(n){const e={},l=u(n,["speaker"]);l!=null&&c(e,["speaker"],l);const o=u(n,["voiceConfig"]);return o!=null&&c(e,["voiceConfig"],zg(o)),e}function vb(n){const e={},l=u(n,["speakerVoiceConfigs"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>yb(r))),c(e,["speakerVoiceConfigs"],o)}return e}function Tb(n){const e={},l=u(n,["voiceConfig"]);l!=null&&c(e,["voiceConfig"],zg(l));const o=u(n,["multiSpeakerVoiceConfig"]);o!=null&&c(e,["multiSpeakerVoiceConfig"],vb(o));const r=u(n,["languageCode"]);return r!=null&&c(e,["languageCode"],r),e}function Cb(n){const e={},l=u(n,["fps"]);l!=null&&c(e,["fps"],l);const o=u(n,["endOffset"]);o!=null&&c(e,["endOffset"],o);const r=u(n,["startOffset"]);return r!=null&&c(e,["startOffset"],r),e}function Sb(n){const e={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(n,["data"]);l!=null&&c(e,["data"],l);const o=u(n,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function _b(n){const e={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(n,["fileUri"]);l!=null&&c(e,["fileUri"],l);const o=u(n,["mimeType"]);return o!=null&&c(e,["mimeType"],o),e}function xb(n){const e={},l=u(n,["videoMetadata"]);l!=null&&c(e,["videoMetadata"],Cb(l));const o=u(n,["thought"]);o!=null&&c(e,["thought"],o);const r=u(n,["inlineData"]);r!=null&&c(e,["inlineData"],Sb(r));const f=u(n,["fileData"]);f!=null&&c(e,["fileData"],_b(f));const m=u(n,["thoughtSignature"]);m!=null&&c(e,["thoughtSignature"],m);const h=u(n,["codeExecutionResult"]);h!=null&&c(e,["codeExecutionResult"],h);const y=u(n,["executableCode"]);y!=null&&c(e,["executableCode"],y);const p=u(n,["functionCall"]);p!=null&&c(e,["functionCall"],p);const v=u(n,["functionResponse"]);v!=null&&c(e,["functionResponse"],v);const C=u(n,["text"]);return C!=null&&c(e,["text"],C),e}function Eb(n){const e={},l=u(n,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(f=>xb(f))),c(e,["parts"],r)}const o=u(n,["role"]);return o!=null&&c(e,["role"],o),e}function Ab(n){const e={},l=u(n,["behavior"]);l!=null&&c(e,["behavior"],l);const o=u(n,["description"]);o!=null&&c(e,["description"],o);const r=u(n,["name"]);r!=null&&c(e,["name"],r);const f=u(n,["parameters"]);f!=null&&c(e,["parameters"],f);const m=u(n,["parametersJsonSchema"]);m!=null&&c(e,["parametersJsonSchema"],m);const h=u(n,["response"]);h!=null&&c(e,["response"],h);const y=u(n,["responseJsonSchema"]);return y!=null&&c(e,["responseJsonSchema"],y),e}function bb(n){const e={},l=u(n,["startTime"]);l!=null&&c(e,["startTime"],l);const o=u(n,["endTime"]);return o!=null&&c(e,["endTime"],o),e}function Mb(n){const e={},l=u(n,["timeRangeFilter"]);return l!=null&&c(e,["timeRangeFilter"],bb(l)),e}function Rb(n){const e={},l=u(n,["mode"]);l!=null&&c(e,["mode"],l);const o=u(n,["dynamicThreshold"]);return o!=null&&c(e,["dynamicThreshold"],o),e}function wb(n){const e={},l=u(n,["dynamicRetrievalConfig"]);return l!=null&&c(e,["dynamicRetrievalConfig"],Rb(l)),e}function Nb(){return{}}function Db(n){const e={},l=u(n,["functionDeclarations"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(y=>Ab(y))),c(e,["functionDeclarations"],h)}if(u(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(n,["googleSearch"]);o!=null&&c(e,["googleSearch"],Mb(o));const r=u(n,["googleSearchRetrieval"]);if(r!=null&&c(e,["googleSearchRetrieval"],wb(r)),u(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(u(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");u(n,["urlContext"])!=null&&c(e,["urlContext"],Nb());const m=u(n,["codeExecution"]);return m!=null&&c(e,["codeExecution"],m),e}function kb(n){const e={},l=u(n,["handle"]);if(l!=null&&c(e,["handle"],l),u(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function og(){return{}}function Ib(n){const e={},l=u(n,["disabled"]);l!=null&&c(e,["disabled"],l);const o=u(n,["startOfSpeechSensitivity"]);o!=null&&c(e,["startOfSpeechSensitivity"],o);const r=u(n,["endOfSpeechSensitivity"]);r!=null&&c(e,["endOfSpeechSensitivity"],r);const f=u(n,["prefixPaddingMs"]);f!=null&&c(e,["prefixPaddingMs"],f);const m=u(n,["silenceDurationMs"]);return m!=null&&c(e,["silenceDurationMs"],m),e}function Ub(n){const e={},l=u(n,["automaticActivityDetection"]);l!=null&&c(e,["automaticActivityDetection"],Ib(l));const o=u(n,["activityHandling"]);o!=null&&c(e,["activityHandling"],o);const r=u(n,["turnCoverage"]);return r!=null&&c(e,["turnCoverage"],r),e}function Lb(n){const e={},l=u(n,["targetTokens"]);return l!=null&&c(e,["targetTokens"],l),e}function Vb(n){const e={},l=u(n,["triggerTokens"]);l!=null&&c(e,["triggerTokens"],l);const o=u(n,["slidingWindow"]);return o!=null&&c(e,["slidingWindow"],Lb(o)),e}function qb(n){const e={},l=u(n,["proactiveAudio"]);return l!=null&&c(e,["proactiveAudio"],l),e}function Ob(n,e){const l={},o=u(n,["generationConfig"]);e!==void 0&&o!=null&&c(e,["setup","generationConfig"],o);const r=u(n,["responseModalities"]);e!==void 0&&r!=null&&c(e,["setup","generationConfig","responseModalities"],r);const f=u(n,["temperature"]);e!==void 0&&f!=null&&c(e,["setup","generationConfig","temperature"],f);const m=u(n,["topP"]);e!==void 0&&m!=null&&c(e,["setup","generationConfig","topP"],m);const h=u(n,["topK"]);e!==void 0&&h!=null&&c(e,["setup","generationConfig","topK"],h);const y=u(n,["maxOutputTokens"]);e!==void 0&&y!=null&&c(e,["setup","generationConfig","maxOutputTokens"],y);const p=u(n,["mediaResolution"]);e!==void 0&&p!=null&&c(e,["setup","generationConfig","mediaResolution"],p);const v=u(n,["seed"]);e!==void 0&&v!=null&&c(e,["setup","generationConfig","seed"],v);const C=u(n,["speechConfig"]);e!==void 0&&C!=null&&c(e,["setup","generationConfig","speechConfig"],Tb(Sc(C)));const _=u(n,["enableAffectiveDialog"]);e!==void 0&&_!=null&&c(e,["setup","generationConfig","enableAffectiveDialog"],_);const x=u(n,["systemInstruction"]);e!==void 0&&x!=null&&c(e,["setup","systemInstruction"],Eb(dt(x)));const b=u(n,["tools"]);if(e!==void 0&&b!=null){let Y=Uo(b);Array.isArray(Y)&&(Y=Y.map(te=>Db(Io(te)))),c(e,["setup","tools"],Y)}const D=u(n,["sessionResumption"]);e!==void 0&&D!=null&&c(e,["setup","sessionResumption"],kb(D));const q=u(n,["inputAudioTranscription"]);e!==void 0&&q!=null&&c(e,["setup","inputAudioTranscription"],og());const N=u(n,["outputAudioTranscription"]);e!==void 0&&N!=null&&c(e,["setup","outputAudioTranscription"],og());const B=u(n,["realtimeInputConfig"]);e!==void 0&&B!=null&&c(e,["setup","realtimeInputConfig"],Ub(B));const F=u(n,["contextWindowCompression"]);e!==void 0&&F!=null&&c(e,["setup","contextWindowCompression"],Vb(F));const J=u(n,["proactivity"]);return e!==void 0&&J!=null&&c(e,["setup","proactivity"],qb(J)),l}function Bb(n,e){const l={},o=u(e,["model"]);o!=null&&c(l,["setup","model"],qe(n,o));const r=u(e,["config"]);return r!=null&&c(l,["config"],Ob(r,l)),l}function zb(n,e,l){const o={},r=u(e,["expireTime"]);l!==void 0&&r!=null&&c(l,["expireTime"],r);const f=u(e,["newSessionExpireTime"]);l!==void 0&&f!=null&&c(l,["newSessionExpireTime"],f);const m=u(e,["uses"]);l!==void 0&&m!=null&&c(l,["uses"],m);const h=u(e,["liveConnectConstraints"]);l!==void 0&&h!=null&&c(l,["bidiGenerateContentSetup"],Bb(n,h));const y=u(e,["lockAdditionalFields"]);return l!==void 0&&y!=null&&c(l,["fieldMask"],y),o}function Pb(n,e){const l={},o=u(e,["config"]);return o!=null&&c(l,["config"],zb(n,o,l)),l}function Gb(n){const e={},l=u(n,["name"]);return l!=null&&c(e,["name"],l),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hb(n){const e=[];for(const l in n)if(Object.prototype.hasOwnProperty.call(n,l)){const o=n[l];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const r=Object.keys(o).map(f=>`${l}.${f}`);e.push(...r)}else e.push(l)}return e.join(",")}function Fb(n,e){let l=null;const o=n.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const f=o.setup;typeof f=="object"&&f!==null?(n.bidiGenerateContentSetup=f,l=f):delete n.bidiGenerateContentSetup}else o!==void 0&&delete n.bidiGenerateContentSetup;const r=n.fieldMask;if(l){const f=Hb(l);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)f?n.fieldMask=f:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const m=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];r.length>0&&(h=r.map(p=>m.includes(p)?`generationConfig.${p}`:p));const y=[];f&&y.push(f),h.length>0&&y.push(...h),y.length>0?n.fieldMask=y.join(","):delete n.fieldMask}else delete n.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?n.fieldMask=r.join(","):delete n.fieldMask;return n}class Yb extends Tl{constructor(e){super(),this.apiClient=e}async create(e){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=Pb(this.apiClient,e);f=fe("auth_tokens",h._url),m=h._query,delete h.config,delete h._url,delete h._query;const y=Fb(h,e.config);return r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(p=>p.json()),r.then(p=>Gb(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $b(n){const e={},l=u(n,["name"]);l!=null&&c(e,["_url","name"],l);const o=u(n,["config"]);return o!=null&&c(e,["config"],o),e}function Jb(n,e){const l={},o=u(n,["pageSize"]);e!==void 0&&o!=null&&c(e,["_query","pageSize"],o);const r=u(n,["pageToken"]);e!==void 0&&r!=null&&c(e,["_query","pageToken"],r);const f=u(n,["filter"]);return e!==void 0&&f!=null&&c(e,["_query","filter"],f),l}function Zb(n){const e={},l=u(n,["config"]);return l!=null&&c(e,["config"],Jb(l,e)),e}function Kb(n){const e={},l=u(n,["textInput"]);l!=null&&c(e,["textInput"],l);const o=u(n,["output"]);return o!=null&&c(e,["output"],o),e}function Xb(n){const e={};if(u(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const l=u(n,["examples"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>Kb(r))),c(e,["examples","examples"],o)}return e}function Qb(n,e){const l={};if(u(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=u(n,["tunedModelDisplayName"]);if(e!==void 0&&o!=null&&c(e,["displayName"],o),u(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const r=u(n,["epochCount"]);e!==void 0&&r!=null&&c(e,["tuningTask","hyperparameters","epochCount"],r);const f=u(n,["learningRateMultiplier"]);if(f!=null&&c(l,["tuningTask","hyperparameters","learningRateMultiplier"],f),u(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const m=u(n,["batchSize"]);e!==void 0&&m!=null&&c(e,["tuningTask","hyperparameters","batchSize"],m);const h=u(n,["learningRate"]);return e!==void 0&&h!=null&&c(e,["tuningTask","hyperparameters","learningRate"],h),l}function Wb(n){const e={},l=u(n,["baseModel"]);l!=null&&c(e,["baseModel"],l);const o=u(n,["trainingDataset"]);o!=null&&c(e,["tuningTask","trainingData"],Xb(o));const r=u(n,["config"]);return r!=null&&c(e,["config"],Qb(r,e)),e}function jb(n){const e={},l=u(n,["name"]);l!=null&&c(e,["_url","name"],l);const o=u(n,["config"]);return o!=null&&c(e,["config"],o),e}function e1(n,e){const l={},o=u(n,["pageSize"]);e!==void 0&&o!=null&&c(e,["_query","pageSize"],o);const r=u(n,["pageToken"]);e!==void 0&&r!=null&&c(e,["_query","pageToken"],r);const f=u(n,["filter"]);return e!==void 0&&f!=null&&c(e,["_query","filter"],f),l}function t1(n){const e={},l=u(n,["config"]);return l!=null&&c(e,["config"],e1(l,e)),e}function n1(n,e){const l={},o=u(n,["gcsUri"]);if(e!==void 0&&o!=null&&c(e,["supervisedTuningSpec","trainingDatasetUri"],o),u(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return l}function i1(n){const e={},l=u(n,["gcsUri"]);return l!=null&&c(e,["validationDatasetUri"],l),e}function l1(n,e){const l={},o=u(n,["validationDataset"]);e!==void 0&&o!=null&&c(e,["supervisedTuningSpec"],i1(o));const r=u(n,["tunedModelDisplayName"]);e!==void 0&&r!=null&&c(e,["tunedModelDisplayName"],r);const f=u(n,["description"]);e!==void 0&&f!=null&&c(e,["description"],f);const m=u(n,["epochCount"]);e!==void 0&&m!=null&&c(e,["supervisedTuningSpec","hyperParameters","epochCount"],m);const h=u(n,["learningRateMultiplier"]);e!==void 0&&h!=null&&c(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],h);const y=u(n,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&c(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y);const p=u(n,["adapterSize"]);if(e!==void 0&&p!=null&&c(e,["supervisedTuningSpec","hyperParameters","adapterSize"],p),u(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return l}function o1(n){const e={},l=u(n,["baseModel"]);l!=null&&c(e,["baseModel"],l);const o=u(n,["trainingDataset"]);o!=null&&c(e,["supervisedTuningSpec","trainingDatasetUri"],n1(o,e));const r=u(n,["config"]);return r!=null&&c(e,["config"],l1(r,e)),e}function a1(n){const e={},l=u(n,["name"]);l!=null&&c(e,["model"],l);const o=u(n,["name"]);return o!=null&&c(e,["endpoint"],o),e}function Pg(n){const e={},l=u(n,["name"]);l!=null&&c(e,["name"],l);const o=u(n,["state"]);o!=null&&c(e,["state"],Eg(o));const r=u(n,["createTime"]);r!=null&&c(e,["createTime"],r);const f=u(n,["tuningTask","startTime"]);f!=null&&c(e,["startTime"],f);const m=u(n,["tuningTask","completeTime"]);m!=null&&c(e,["endTime"],m);const h=u(n,["updateTime"]);h!=null&&c(e,["updateTime"],h);const y=u(n,["description"]);y!=null&&c(e,["description"],y);const p=u(n,["baseModel"]);p!=null&&c(e,["baseModel"],p);const v=u(n,["_self"]);v!=null&&c(e,["tunedModel"],a1(v));const C=u(n,["distillationSpec"]);C!=null&&c(e,["distillationSpec"],C);const _=u(n,["experiment"]);_!=null&&c(e,["experiment"],_);const x=u(n,["labels"]);x!=null&&c(e,["labels"],x);const b=u(n,["pipelineJob"]);b!=null&&c(e,["pipelineJob"],b);const D=u(n,["serviceAccount"]);D!=null&&c(e,["serviceAccount"],D);const q=u(n,["tunedModelDisplayName"]);return q!=null&&c(e,["tunedModelDisplayName"],q),e}function r1(n){const e={},l=u(n,["nextPageToken"]);l!=null&&c(e,["nextPageToken"],l);const o=u(n,["tunedModels"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>Pg(f))),c(e,["tuningJobs"],r)}return e}function s1(n){const e={},l=u(n,["name"]);l!=null&&c(e,["name"],l);const o=u(n,["metadata"]);o!=null&&c(e,["metadata"],o);const r=u(n,["done"]);r!=null&&c(e,["done"],r);const f=u(n,["error"]);return f!=null&&c(e,["error"],f),e}function u1(n){const e={},l=u(n,["checkpointId"]);l!=null&&c(e,["checkpointId"],l);const o=u(n,["epoch"]);o!=null&&c(e,["epoch"],o);const r=u(n,["step"]);r!=null&&c(e,["step"],r);const f=u(n,["endpoint"]);return f!=null&&c(e,["endpoint"],f),e}function c1(n){const e={},l=u(n,["model"]);l!=null&&c(e,["model"],l);const o=u(n,["endpoint"]);o!=null&&c(e,["endpoint"],o);const r=u(n,["checkpoints"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>u1(m))),c(e,["checkpoints"],f)}return e}function mc(n){const e={},l=u(n,["name"]);l!=null&&c(e,["name"],l);const o=u(n,["state"]);o!=null&&c(e,["state"],Eg(o));const r=u(n,["createTime"]);r!=null&&c(e,["createTime"],r);const f=u(n,["startTime"]);f!=null&&c(e,["startTime"],f);const m=u(n,["endTime"]);m!=null&&c(e,["endTime"],m);const h=u(n,["updateTime"]);h!=null&&c(e,["updateTime"],h);const y=u(n,["error"]);y!=null&&c(e,["error"],y);const p=u(n,["description"]);p!=null&&c(e,["description"],p);const v=u(n,["baseModel"]);v!=null&&c(e,["baseModel"],v);const C=u(n,["tunedModel"]);C!=null&&c(e,["tunedModel"],c1(C));const _=u(n,["supervisedTuningSpec"]);_!=null&&c(e,["supervisedTuningSpec"],_);const x=u(n,["tuningDataStats"]);x!=null&&c(e,["tuningDataStats"],x);const b=u(n,["encryptionSpec"]);b!=null&&c(e,["encryptionSpec"],b);const D=u(n,["partnerModelTuningSpec"]);D!=null&&c(e,["partnerModelTuningSpec"],D);const q=u(n,["distillationSpec"]);q!=null&&c(e,["distillationSpec"],q);const N=u(n,["experiment"]);N!=null&&c(e,["experiment"],N);const B=u(n,["labels"]);B!=null&&c(e,["labels"],B);const F=u(n,["pipelineJob"]);F!=null&&c(e,["pipelineJob"],F);const J=u(n,["serviceAccount"]);J!=null&&c(e,["serviceAccount"],J);const Y=u(n,["tunedModelDisplayName"]);return Y!=null&&c(e,["tunedModelDisplayName"],Y),e}function f1(n){const e={},l=u(n,["nextPageToken"]);l!=null&&c(e,["nextPageToken"],l);const o=u(n,["tuningJobs"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>mc(f))),c(e,["tuningJobs"],r)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class d1 extends Tl{constructor(e){super(),this.apiClient=e,this.get=async l=>await this.getInternal(l),this.list=async(l={})=>new Cr(vl.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(l),l),this.tune=async l=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(l);{const o=await this.tuneMldevInternal(l);let r="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?r=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(r=o.name.split("/operations/")[0]),{name:r,state:oc.JOB_STATE_QUEUED}}}}async getInternal(e){var l,o,r,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=jb(e);return h=fe("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>mc(v))}else{const p=$b(e);return h=fe("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>Pg(v))}}async listInternal(e){var l,o,r,f;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=t1(e);return h=fe("tuningJobs",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(v=>v.json()),m.then(v=>{const C=f1(v),_=new Uh;return Object.assign(_,C),_})}else{const p=Zb(e);return h=fe("tunedModels",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=e.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>{const C=r1(v),_=new Uh;return Object.assign(_,C),_})}}async tuneInternal(e){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI()){const h=o1(e);return f=fe("tuningJobs",h._url),m=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>mc(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var l,o;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Wb(e);return f=fe("tunedModels",h._url),m=h._query,delete h.config,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(y=>y.json()),r.then(y=>s1(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class m1{async download(e,l){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const p1=1024*1024*8,h1=3,g1=1e3,y1=2,Zu="x-goog-upload-status";async function v1(n,e,l){var o,r,f;let m=0,h=0,y=new ac(new Response),p="upload";for(m=n.size;h<m;){const C=Math.min(p1,m-h),_=n.slice(h,h+C);h+C>=m&&(p+=", finalize");let x=0,b=g1;for(;x<h1&&(y=await l.request({path:"",body:_,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(h),"Content-Length":String(C)}}}),!(!((o=y==null?void 0:y.headers)===null||o===void 0)&&o[Zu]));)x++,await C1(b),b=b*y1;if(h+=C,((r=y==null?void 0:y.headers)===null||r===void 0?void 0:r[Zu])!=="active")break;if(m<=h)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const v=await(y==null?void 0:y.json());if(((f=y==null?void 0:y.headers)===null||f===void 0?void 0:f[Zu])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return v.file}async function T1(n){return{size:n.size,type:n.type}}function C1(n){return new Promise(e=>setTimeout(e,n))}class S1{async upload(e,l,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await v1(e,l,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await T1(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _1{create(e,l,o){return new x1(e,l,o)}}class x1{constructor(e,l,o){this.url=e,this.headers=l,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ag="x-goog-api-key";class E1{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(ag)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(ag,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const A1="gl-node/";class b1{constructor(e){var l;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(l=e.vertexai)!==null&&l!==void 0?l:!1,this.apiKey=e.apiKey;const o=ET(e,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion;const r=new E1(this.apiKey);this.apiClient=new zA({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:A1+"web",uploader:new S1,downloader:new m1}),this.models=new lb(this.apiClient),this.live=new jA(this.apiClient,r,new _1),this.chats=new QC(this.models,this.apiClient),this.caches=new ZC(this.apiClient),this.files=new cS(this.apiClient),this.operations=new hb(this.apiClient),this.authTokens=new Yb(this.apiClient),this.tunings=new d1(this.apiClient)}}const Sl=async(n,e)=>{const l=new b1({apiKey:e}),o="gemini-2.5-flash-preview-04-17";try{const r=await l.models.generateContent({model:o,contents:n,config:{responseMimeType:"application/json"}});if(!r.text)throw new Error("AI 回傳內容為空，請重試或檢查 API 金鑰。");let f=r.text.trim();const m=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,h=f.match(m);if(h&&h[2]&&(f=h[2].trim()),!f.startsWith("{")&&!f.startsWith("[")&&(f.includes("{")||f.includes("["))){const y=f.indexOf("{"),p=f.indexOf("[");let v=-1,C=-1;y!==-1&&(p===-1||y<p)?(v=y,C=f.lastIndexOf("}")):p!==-1&&(v=p,C=f.lastIndexOf("]")),v!==-1&&C!==-1&&C>v&&(f=f.substring(v,C+1))}try{return JSON.parse(f)}catch{throw console.error("AI 回傳原始內容 (JSON parse 失敗):",r.text),new Error("AI 模型傳回的資料格式無法解析 (可能不是有效的 JSON)。請嘗試修改您的主題或重試。")}}catch(r){let f="無法產生內容。";if(r instanceof Error&&(f+=` 詳細資料： ${r.message}`),r&&typeof r=="object"&&"message"in r){const m=r;m.message.includes("API key not valid")||m.message.includes("API_KEY_INVALID")?f="Gemini API 金鑰無效。請檢查您的設定。":m.message.includes("quota")||m.message.includes("RESOURCE_EXHAUSTED")?f="已超出 API 配額。請稍後再試。":(m.message.toLowerCase().includes("json")||m.message.includes("Unexpected token"))&&(f="AI 模型傳回的資料格式無法解析 (可能不是有效的 JSON)。請嘗試修改您的主題或重試。")}throw new Error(f)}},M1=async(n,e)=>{const l=`
    Please generate at least 3 (but more is better if appropriate) clear and distinct learning objectives for the topic: "${n}".
    The objectives should be based on scaffolding theory and gamification, and written in the primary language of the topic.
    Output MUST be a valid JSON array of strings, e.g.:
    [
      "能夠理解${n}的基本概念",
      "能夠應用${n}於實際情境",
      "能夠辨識${n}常見的誤區",
      "能夠分析${n}的進階應用",
      //...or more items
    ]
    Do NOT include any explanation or extra text. Only output the JSON array.
  `;return await Sl(l,e)},R1=async(n,e,l)=>{const o=`
    Based on the following learning objectives: ${JSON.stringify(l)}
    Please break down the topic "${n}" into at least 3 (but more is better if appropriate) micro-units. For each, provide a sub-topic, a brief explanation, and a concrete teaching example (such as a sample sentence, scenario, or application).
    Output MUST be a valid JSON array of objects, e.g.:
    [
      { "topic": "子主題A", "details": "子主題A的簡要說明...", "teachingExample": "子主題A的教學示例..." },
      { "topic": "子主題B", "details": "子主題B的簡要說明...", "teachingExample": "子主題B的教學示例..." },
      { "topic": "子主題C", "details": "子主題C的簡要說明...", "teachingExample": "子主題C的教學示例..." },
      //...or more items
    ]
    Do NOT include any explanation or extra text. Only output the JSON array.
  `;return await Sl(o,e)},w1=async(n,e,l)=>{const o=`
    Based on the following learning objectives: ${JSON.stringify(l)}
    List at least 3 (but more is better if appropriate) common misconceptions or difficulties students may have with "${n}", and provide a clarification and a concrete teaching example for each (such as a sample sentence, scenario, or application).
    Output MUST be a valid JSON array of objects, e.g.:
    [
      { "point": "常見誤區X", "clarification": "詳細說明...", "teachingExample": "誤區X的教學示例..." },
      { "point": "潛在困難Y", "clarification": "如何克服...", "teachingExample": "困難Y的教學示例..." },
      { "point": "誤解Z", "clarification": "澄清說明...", "teachingExample": "誤解Z的教學示例..." },
      //...or more items
    ]
    Do NOT include any explanation or extra text. Only output the JSON array.
  `;return await Sl(o,e)},N1=async(n,e,l)=>{const o=`
    Based on the following learning objectives: ${JSON.stringify(l)}
    Suggest at least 3 (but more is better if appropriate) engaging, interactive classroom activities (preferably game-like) for the topic "${n}".
    For each activity, provide the following fields:
      - title: The name of the activity
      - description: A brief description of how the activity works
      - objective: The main learning goal or purpose of the activity
      - materials: What materials or props are needed (if any)
      - environment: Any special environment or space requirements (e.g., classroom, outdoors, online, etc.)
    Output MUST be a valid JSON array of objects, e.g.:
    [
      {
        "title": "遊戲化活動1",
        "description": "活動1的玩法簡述...",
        "objective": "活動1的學習目標...",
        "materials": "所需教材或道具...",
        "environment": "教室/戶外/線上等需求..."
      },
      // ... more items
    ]
    Do NOT include any explanation or extra text. Only output the JSON array.
  `;return await Sl(o,e)},D1=async(n,e,l)=>{const o=`
    Based on the following learning objectives: ${JSON.stringify(l)}
    Please generate quiz content for "${n}" in the following JSON structure (no explanation, no extra text):
    {
      "easy": {
        "trueFalse": [
          { "statement": "簡單判斷題1...", "isTrue": true, "explanation": "可選說明1" },
          { "statement": "簡單判斷題2...", "isTrue": false, "explanation": "可選說明2" }
          // ... 至少 5 題，若有更多更好
        ],
        "multipleChoice": [
          { "question": "簡單選擇題1...", "options": ["選項A", "選項B", "選項C"], "correctAnswerIndex": 0 },
          { "question": "簡單選擇題2...", "options": ["選項A", "選項B", "選項C"], "correctAnswerIndex": 1 }
          // ... 至少 5 題，若有更多更好
        ],
        "fillInTheBlanks": [
          { "sentenceWithBlank": "簡單填空題1...____...", "correctAnswer": "正確答案1" },
          { "sentenceWithBlank": "簡單填空題2...____...", "correctAnswer": "正確答案2" }
          // ... 至少 5 題，若有更多更好
        ],
        "sentenceScramble": [
          { "originalSentence": "簡單句子1...", "scrambledWords": ["...", "...", "..."] },
          { "originalSentence": "簡單句子2...", "scrambledWords": ["...", "...", "..."] }
          // ... 至少 5 題，若有更多更好
        ],
        "memoryCardGame": [
          {
            "pairs": [
              { "question": "卡片1正面", "answer": "卡片1背面" },
              { "question": "卡片2正面", "answer": "卡片2背面" },
              { "question": "卡片3正面", "answer": "卡片3背面" },
              { "question": "卡片4正面", "answer": "卡片4背面" },
              { "question": "卡片5正面", "answer": "卡片5背面" }
              // ... 至少 5 組配對，若有更多更好
            ],
            "instructions": "請將每個卡片正面與正確的背面配對。"
          }
        ]
      },
      "normal": { /* same structure as easy, memoryCardGame 只 1 題，pairs 至少 5 組 */ },
      "hard": { /* same structure as easy, memoryCardGame 只 1 題，pairs 至少 5 組 */ }
    }
    For each quiz type (trueFalse, multipleChoice, fillInTheBlanks, sentenceScramble), generate at least 5 questions per difficulty level (easy, normal, hard), but more is better if appropriate.
    For memoryCardGame, generate ONLY 1 question per difficulty, but the "pairs" array inside must contain at least 5 pairs (each pair is a related concept, word/definition, Q&A, or translation relevant to '${n}'), and more is better if appropriate.
    Each memoryCardGame question should include clear "instructions" for the matching task.
    All text must be in the primary language of the topic. Only output the JSON object, no explanation or extra text.
  `;return await Sl(o,e)},k1=async(n,e,l)=>{const o=`
    Based on the following learning objectives: ${JSON.stringify(l)}
    Please generate a short, natural English conversation (at least 3 lines, but more is better if appropriate, 2 speakers) about the topic "${n}" (use English translation if topic is not English).
    Output MUST be a valid JSON array, e.g.:
    [
      { "speaker": "Speaker A", "line": "Hello! Let's talk about ${n}." },
      { "speaker": "Speaker B", "line": "Great idea! What's the first thing we should discuss regarding ${n}?" },
      { "speaker": "Speaker A", "line": "Perhaps we can start with..." },
      { "speaker": "Speaker B", "line": "I think examples would help." }
    ]
    Do NOT include any explanation or extra text. Only output the JSON array.
  `;return await Sl(o,e)},I1=async(n,e)=>{if(!e)throw new Error("Gemini API 金鑰未正確設定或遺失。請檢查應用程式的環境設定。");const l=await M1(n,e),[o,r,f,m,h]=await Promise.all([R1(n,e,l),w1(n,e,l),N1(n,e,l),D1(n,e,l),k1(n,e,l)]);return{learningObjectives:l,contentBreakdown:o,confusingPoints:r,classroomActivities:f,onlineInteractiveQuiz:m,englishConversation:h}},U1=({topic:n,setTopic:e,onGenerate:l,isLoading:o})=>{const r=f=>{f.preventDefault(),!o&&n.trim()&&l()};return E.jsxs("form",{onSubmit:r,className:"mb-8 p-6 bg-white shadow-lg rounded-xl",children:[E.jsx("label",{htmlFor:"topic-input",className:"block text-xl font-semibold text-slate-700 mb-3",children:"輸入學習主題"}),E.jsxs("div",{className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3",children:[E.jsx("input",{id:"topic-input",type:"text",value:n,onChange:f=>e(f.target.value),placeholder:"例如：光合作用、JavaScript Promises、法國大革命",className:"flex-grow p-3 border border-slate-400 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-600 transition-shadow bg-slate-50 text-slate-800 placeholder-slate-500",disabled:o,"aria-label":"學習主題輸入欄位"}),E.jsx("button",{type:"submit",disabled:o||!n.trim(),className:"px-6 py-3 bg-sky-600 text-white font-semibold rounded-lg hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-opacity-50 transition-colors disabled:bg-slate-400 disabled:cursor-not-allowed flex items-center justify-center","aria-live":"polite",children:o?E.jsxs(E.Fragment,{children:[E.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[E.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),E.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"產生中..."]}):"產生內容"})]})]})},Gg=()=>E.jsxs("div",{className:"flex flex-col items-center justify-center space-y-2",children:[E.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-sky-600"}),E.jsx("p",{className:"text-sky-700",children:"正在產生學習內容..."})]}),Tn=({title:n,icon:e,children:l,className:o})=>E.jsxs("div",{className:`bg-white shadow-lg rounded-xl p-6 mb-6 ${o||""}`,children:[E.jsxs("h2",{className:"text-2xl font-semibold text-sky-700 mb-4 flex items-center",children:[e&&E.jsx("span",{className:"mr-3 text-sky-600",children:e}),n]}),E.jsx("div",{className:"text-slate-700 space-y-3",children:l})]});var wo=(n=>(n.Easy="easy",n.Normal="normal",n.Hard="hard",n))(wo||{});const Hg=({className:n})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n||"w-6 h-6",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.31M8.25 18.75a12.064 12.064 0 0 0 7.5 0M12 6.75a2.25 2.25 0 1 1 0 4.5 2.25 2.5 0 0 1 0-4.5ZM12 6.75V3.75m0 3a12.022 12.022 0 0 0-5.483 1.348M12 6.75a12.022 12.022 0 0 1 5.483 1.348"})}),L1=({className:n})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n||"w-6 h-6",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6-2.292m0 0V3.75m0 12.15V21"})}),rg=({className:n})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n||"w-6 h-6",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.25 7.756a4.5 4.5 0 1 0 0 8.488M7.5 10.5h5.25m-5.25 3h5.25M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),Lo=({className:n})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n||"w-6 h-6",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),Vo=({className:n})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n||"w-6 h-6",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),V1=({className:n})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n||"w-6 h-6",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.627 48.627 0 0 1 12 20.904a48.627 48.627 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.57 50.57 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.697 50.697 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"})}),q1=({className:n})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n||"w-6 h-6",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m5.231 13.481L15 17.25m-4.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Zm3.75 11.625a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"})}),O1=({className:n})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n||"w-6 h-6",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"})}),B1=({className:n})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n||"w-6 h-6",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"})}),z1=({className:n})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n||"w-6 h-6",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18.75a6 6 0 0 0 6-6v-1.5m-6 7.5a6 6 0 0 1-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15c-1.13 0-2.25-.264-3.25-.73A4.505 4.505 0 0 1 5.25 9.75V8.25A6.75 6.75 0 0 1 12 1.5a6.75 6.75 0 0 1 6.75 6.75v1.5a4.505 4.505 0 0 1-3.5 4.52M12 15V8.25"})}),P1=({className:n})=>E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n||"w-6 h-6",children:[E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}),E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 9.563C9 9.254 9.254 9 9.563 9h4.874c.309 0 .563.254.563.563v4.874c0 .309-.254.563-.563.563H9.563A.562.562 0 0 1 9 14.437V9.564Z"})]}),pc=({className:n})=>E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:n||"w-6 h-6",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-2.184-2.183a1.724 1.724 0 0 0-1.235-.517H7.72c-1.137 0-2.1-.847-2.193-1.98A11.974 11.974 0 0 1 5.5 13H4.75a2.25 2.25 0 0 1-2.25-2.25V6.75a2.25 2.25 0 0 1 2.25-2.25h4.718c.468 0 .92.052 1.354.143L12 6l2.454-2.454L16.5 6h1.252a2.25 2.25 0 0 1 2.25 2.25v.233Z"})}),G1=({question:n,itemNumber:e})=>{const[l,o]=L.useState(null),[r,f]=L.useState(null);L.useEffect(()=>{o(null),f(null)},[n]);const m=h=>{o(h);const y=h===n.isTrue;let p=y?"答對了！":"答錯了。";y||(p+=` 正確答案是：${n.isTrue?"是 (True)":"非 (False)"}。`),f({isCorrect:y,message:p,explanation:n.explanation})};return E.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg bg-slate-50 mb-3",children:[E.jsxs("p",{className:"font-medium text-slate-700 mb-2",children:[e,". ",n.statement]}),E.jsxs("div",{className:"flex space-x-3 mb-3",children:[E.jsx("button",{onClick:()=>m(!0),className:`px-6 py-2 rounded-md font-medium transition-all
            ${l===!0?r!=null&&r.isCorrect?"bg-green-500 text-white ring-2 ring-green-300":"bg-red-500 text-white ring-2 ring-red-300":"bg-slate-200 hover:bg-slate-300 text-slate-700"}
          `,"aria-pressed":l===!0,disabled:r!==null,children:"是 (True)"}),E.jsx("button",{onClick:()=>m(!1),className:`px-6 py-2 rounded-md font-medium transition-all
            ${l===!1?r!=null&&r.isCorrect?"bg-green-500 text-white ring-2 ring-green-300":"bg-red-500 text-white ring-2 ring-red-300":"bg-slate-200 hover:bg-slate-300 text-slate-700"}
          `,"aria-pressed":l===!1,disabled:r!==null,children:"非 (False)"})]}),r&&E.jsxs("div",{className:`mt-2 p-2 rounded-md text-sm flex flex-col items-start ${r.isCorrect?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[E.jsxs("div",{className:"flex items-center",children:[r.isCorrect?E.jsx(Lo,{className:"w-5 h-5 mr-2"}):E.jsx(Vo,{className:"w-5 h-5 mr-2"}),r.message]}),r.explanation&&E.jsx("p",{className:"mt-1 pl-7 text-xs italic",children:r.explanation})]})]})},H1=({question:n,itemNumber:e})=>{const[l,o]=L.useState(null),[r,f]=L.useState(null);L.useEffect(()=>{o(null),f(null)},[n]);const m=()=>{if(l===null){f({isCorrect:!1,message:"請選擇一個選項。"});return}const h=l===n.correctAnswerIndex;f({isCorrect:h,message:h?"答對了！":`答錯了。正確答案是： ${n.options[n.correctAnswerIndex]}`})};return E.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg bg-slate-50 mb-3",children:[E.jsxs("p",{className:"font-medium text-slate-700 mb-2",children:[e,". ",n.question]}),E.jsx("div",{className:"space-y-2 mb-3",children:n.options.map((h,y)=>E.jsxs("label",{className:`flex items-center p-2 border rounded-md cursor-pointer hover:bg-sky-50 transition-colors ${l===y?"bg-sky-100 border-sky-500":"border-slate-300"} ${r!==null?"cursor-not-allowed opacity-70":""}`,children:[E.jsx("input",{type:"radio",name:`mcq-${e}-${n.question}`,value:y,checked:l===y,onChange:()=>{r===null&&o(y)},className:"mr-2 h-4 w-4 text-sky-600 focus:ring-sky-500 border-slate-400",disabled:r!==null}),h]},y))}),E.jsx("button",{onClick:m,className:"px-4 py-2 bg-sky-500 text-white rounded-md hover:bg-sky-600 transition-colors disabled:bg-slate-400",disabled:r!==null||l===null,children:"檢查答案"}),r&&E.jsxs("div",{className:`mt-2 p-2 rounded-md text-sm flex items-center ${r.isCorrect?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[r.isCorrect?E.jsx(Lo,{className:"w-5 h-5 mr-2"}):E.jsx(Vo,{className:"w-5 h-5 mr-2"}),r.message]})]})},F1=({question:n,itemNumber:e})=>{const[l,o]=L.useState(""),[r,f]=L.useState(null);L.useEffect(()=>{o(""),f(null)},[n]);const m=y=>{if(y.preventDefault(),!l.trim()){f({isCorrect:!1,message:"請輸入答案。"});return}const p=l.trim().toLowerCase()===n.correctAnswer.toLowerCase();f({isCorrect:p,message:p?"答對了！":`答錯了。正確答案是： ${n.correctAnswer}`})},h=n.sentenceWithBlank.split("____");return E.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg bg-slate-50 mb-3",children:[E.jsxs("form",{onSubmit:m,className:"space-y-2",children:[E.jsxs("label",{htmlFor:`fillblank-${e}-${n.sentenceWithBlank}`,className:"font-medium text-slate-700 mb-1 block",children:[e,". ",h[0],E.jsx("input",{id:`fillblank-${e}-${n.sentenceWithBlank}`,type:"text",value:l,onChange:y=>{r===null&&o(y.target.value)},className:"mx-1 p-1 border-b-2 border-slate-400 focus:border-sky-500 outline-none w-24 sm:w-32 bg-transparent",placeholder:"答案",disabled:r!==null}),h[1]]}),E.jsx("button",{type:"submit",className:"px-4 py-2 bg-sky-500 text-white rounded-md hover:bg-sky-600 transition-colors disabled:bg-slate-400",disabled:r!==null||!l.trim(),children:"檢查"})]}),r&&E.jsxs("div",{className:`mt-2 p-2 rounded-md text-sm flex items-center ${r.isCorrect?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[r.isCorrect?E.jsx(Lo,{className:"w-5 h-5 mr-2"}):E.jsx(Vo,{className:"w-5 h-5 mr-2"}),r.message]})]})},Y1=({question:n,itemNumber:e})=>{const[l,o]=L.useState([]),[r,f]=L.useState([]),[m,h]=L.useState(null);L.useEffect(()=>{f([...n.scrambledWords].sort(()=>Math.random()-.5)),o([]),h(null)},[n]);const y=(_,x)=>{o([...l,_]);const b=[...r];b.splice(x,1),f(b),m&&h(null)},p=(_,x)=>{f([...r,_]);const b=[...l];b.splice(x,1),o(b),m&&h(null)},v=()=>{f([...n.scrambledWords].sort(()=>Math.random()-.5)),o([]),m&&h(null)},C=()=>{const _=l.join(" ").trim(),x=D=>D.toLowerCase().replace(/[.,!?;:]/g,"").replace(/\s+/g," ").trim(),b=x(_)===x(n.originalSentence);h({isCorrect:b,message:b?"答對了！":`答錯了。正確句子是： "${n.originalSentence}"`})};return E.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg bg-slate-50 mb-3",children:[E.jsxs("p",{className:"font-medium text-slate-700 mb-2",children:[e,". 請重組句子："]}),E.jsx("div",{className:"mb-3 p-3 border border-dashed border-slate-400 rounded-md min-h-[40px] bg-white flex flex-wrap gap-2",children:l.length>0?l.map((_,x)=>E.jsx("button",{onClick:()=>p(_,x),className:"px-2 py-1 bg-sky-200 text-sky-800 rounded-md hover:bg-sky-300 transition-colors",children:_},`${_}-${x}-constructed`)):E.jsx("span",{className:"text-slate-400 italic",children:"點擊下方詞彙來組成句子"})}),E.jsx("div",{className:"mb-3 flex flex-wrap gap-2",children:r.map((_,x)=>E.jsx("button",{onClick:()=>y(_,x),className:"px-2 py-1 bg-slate-200 text-slate-700 rounded-md hover:bg-slate-300 transition-colors",children:_},`${_}-${x}-available`))}),E.jsxs("div",{className:"flex space-x-2",children:[E.jsx("button",{onClick:C,className:"px-4 py-2 bg-sky-500 text-white rounded-md hover:bg-sky-600 transition-colors",children:"檢查句子"}),E.jsx("button",{onClick:v,className:"px-4 py-2 bg-slate-500 text-white rounded-md hover:bg-slate-600 transition-colors",children:"清除"})]}),m&&E.jsxs("div",{className:`mt-3 p-2 rounded-md text-sm flex items-center ${m.isCorrect?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[m.isCorrect?E.jsx(Lo,{className:"w-5 h-5 mr-2"}):E.jsx(Vo,{className:"w-5 h-5 mr-2"}),m.message]})]})};function $1(n){const e=[...n];for(let l=e.length-1;l>0;l--){const o=Math.floor(Math.random()*(l+1));[e[l],e[o]]=[e[o],e[l]]}return e}const J1=({question:n,itemNumber:e})=>{const[l,o]=L.useState([]),[r,f]=L.useState([]),[m,h]=L.useState(0);L.useEffect(()=>{let v=0;const C=n.pairs.flatMap((_,x)=>[{id:v++,content:_.question,pairId:x,isFlipped:!1,isMatched:!1},{id:v++,content:_.answer,pairId:x,isFlipped:!1,isMatched:!1}]);o($1(C)),f([]),h(0)},[n]);const y=v=>{if(l[v].isFlipped||l[v].isMatched||r.length===2)return;const C=l.map((x,b)=>b===v?{...x,isFlipped:!0}:x),_=[...r,v];if(o(C),f(_),_.length===2){const[x,b]=_;C[x].pairId===C[b].pairId?setTimeout(()=>{o(D=>D.map((q,N)=>N===x||N===b?{...q,isMatched:!0}:q)),f([]),h(D=>D+1)},600):setTimeout(()=>{o(D=>D.map((q,N)=>N===x||N===b?{...q,isFlipped:!1}:q)),f([])},900)}},p=m===n.pairs.length;return E.jsxs("div",{className:"mb-4 p-4 border rounded bg-slate-50",children:[E.jsxs("div",{className:"font-semibold mb-2",children:[e,". 翻卡牌記憶遊戲"]}),n.instructions&&E.jsx("div",{className:"mb-2 text-sky-700 text-sm",children:n.instructions}),E.jsx("div",{className:"grid grid-cols-4 gap-3 max-w-xl mx-auto mb-2",children:l.map((v,C)=>E.jsxs("button",{className:`relative h-20 w-full rounded shadow border transition-transform duration-200 ${v.isMatched?"bg-green-200 border-green-400":"bg-white border-slate-300"} ${v.isFlipped||v.isMatched?"":"hover:scale-105"}`,onClick:()=>y(C),disabled:v.isFlipped||v.isMatched||r.length===2,style:{perspective:"600px"},children:[E.jsx("div",{className:`absolute inset-0 flex items-center justify-center text-base font-medium transition-all duration-300 ${v.isFlipped||v.isMatched?"opacity-100 rotate-y-0":"opacity-0 rotate-y-180"}`,style:{backfaceVisibility:"hidden",transform:v.isFlipped||v.isMatched?"rotateY(0deg)":"rotateY(180deg)"},children:v.content}),E.jsx("div",{className:`absolute inset-0 flex items-center justify-center text-2xl font-bold text-sky-600 transition-all duration-300 ${v.isFlipped||v.isMatched?"opacity-0 rotate-y-180":"opacity-100 rotate-y-0"}`,style:{backfaceVisibility:"hidden",transform:v.isFlipped||v.isMatched?"rotateY(180deg)":"rotateY(0deg)"},children:"?"})]},v.id))}),p&&E.jsx("div",{className:"text-green-600 font-semibold mt-2",children:"恭喜！全部配對成功！"})]})},Z1=({quizzes:n})=>{const[e,l]=L.useState(wo.Easy);if(!n)return E.jsx(Tn,{title:"線上互動測驗",icon:E.jsx(rg,{}),children:"沒有可用的測驗資料。"});const o=n[e],r=[{key:wo.Easy,label:"簡單"},{key:wo.Normal,label:"普通"},{key:wo.Hard,label:"困難"}],f={trueFalse:"是非題",multipleChoice:"選擇題",fillInTheBlanks:"填空題",sentenceScramble:"句子重組",memoryCardGame:"翻卡牌記憶遊戲"};return E.jsxs(Tn,{title:"線上互動測驗",icon:E.jsx(rg,{className:"w-7 h-7"}),children:[E.jsx("div",{className:"mb-6",children:E.jsx("div",{className:"flex flex-wrap gap-2 border-b border-slate-300 pb-3 mb-4",children:r.map(({key:m,label:h})=>E.jsx("button",{onClick:()=>l(m),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors
                ${e===m?"bg-sky-600 text-white shadow-md":"bg-slate-200 text-slate-700 hover:bg-slate-300"}`,children:h},m))})}),o?Object.keys(f).map(m=>{if(!o.hasOwnProperty(m))return null;const h=o[m];return!h||h.length===0?null:E.jsxs("div",{className:"mb-8",children:[E.jsx("h4",{className:"text-xl font-semibold text-slate-700 mb-3 border-b-2 border-sky-200 pb-1",children:f[m]}),m==="trueFalse"&&h.map((y,p)=>E.jsx(G1,{question:y,itemNumber:p+1},`${e}-tf-${p}`)),m==="multipleChoice"&&h.map((y,p)=>E.jsx(H1,{question:y,itemNumber:p+1},`${e}-mc-${p}`)),m==="fillInTheBlanks"&&h.map((y,p)=>E.jsx(F1,{question:y,itemNumber:p+1},`${e}-fb-${p}`)),m==="sentenceScramble"&&h.map((y,p)=>E.jsx(Y1,{question:y,itemNumber:p+1},`${e}-ss-${p}`)),m==="memoryCardGame"&&h.map((y,p)=>E.jsx(J1,{question:y,itemNumber:p+1},`${e}-mcg-${p}`))]},`${e}-${m}`)}):E.jsx("p",{children:"此難度級別沒有找到測驗題目。"})]})},K1=({dialogue:n})=>{const[e,l]=L.useState(null),[o,r]=L.useState(null),[f,m]=L.useState(!1),[h,y]=L.useState(""),[p,v]=L.useState(null),[C,_]=L.useState(!1),[x,b]=L.useState({tts:!0,sr:!0}),D=L.useRef(null),q=L.useRef(null);L.useEffect(()=>{const te="speechSynthesis"in window,ne="SpeechRecognition"in window||"webkitSpeechRecognition"in window;if(b({tts:te,sr:ne}),ne){const he=window.SpeechRecognition||window.webkitSpeechRecognition;D.current=new he,D.current.continuous=!1,D.current.interimResults=!1,D.current.lang="en-US",D.current.onresult=Z=>{const oe=Z.results[0][0].transcript;y(oe),Y(oe)},D.current.onerror=Z=>{console.error("Speech recognition error:",Z.error),v({type:"error",message:`語音辨識錯誤: ${Z.error==="no-speech"?"未偵測到語音":Z.error==="audio-capture"?"麥克風擷取失敗":Z.error==="not-allowed"?"麥克風權限未授予":"發生錯誤"}`}),m(!1)},D.current.onend=()=>{m(!1)}}return()=>{window.speechSynthesis&&window.speechSynthesis.speaking&&window.speechSynthesis.cancel()}},[]);const N=(te,ne)=>{if(!x.tts||!te)return;window.speechSynthesis.speaking&&window.speechSynthesis.cancel();const he=new SpeechSynthesisUtterance(te);he.lang="en-US";const Z=window.speechSynthesis.getVoices(),oe=Z.find(Ce=>Ce.lang.startsWith("en")&&Ce.name.includes("Google")&&Ce.localService)||Z.find(Ce=>Ce.lang.startsWith("en")&&Ce.localService)||Z.find(Ce=>Ce.lang.startsWith("en"));oe&&(he.voice=oe),he.onstart=()=>{_(!0),l(ne)},he.onend=()=>{_(!1),l(null)},he.onerror=Ce=>{console.error("Speech synthesis error:",Ce),_(!1),l(null),v({type:"error",message:"語音播放失敗。"})},q.current=he,window.speechSynthesis.speak(he)},B=te=>{if(!(!x.sr||!D.current||f)){r(te),y(""),v(null),m(!0);try{D.current.start()}catch(ne){console.error("Error starting recognition: ",ne),m(!1),v({type:"error",message:"無法啟動語音辨識。"})}}},F=()=>{D.current&&f&&(D.current.stop(),m(!1))},J=te=>te.toLowerCase().replace(/[.,!?;:"']/g,"").trim(),Y=te=>{if(o===null)return;const ne=n[o].line;J(te)===J(ne)?v({type:"success",message:`太棒了！發音正確: "${te}"`}):v({type:"error",message:`再試一次。您說的是: "${te}"，參考句: "${ne}"`})};return!n||n.length===0?E.jsx(Tn,{title:"英文對話練習",icon:E.jsx(pc,{className:"w-7 h-7"}),children:E.jsx("p",{className:"text-slate-600",children:"目前沒有可用的對話內容。"})}):E.jsxs(Tn,{title:"英文對話練習",icon:E.jsx(pc,{className:"w-7 h-7"}),children:[!x.tts&&E.jsx("p",{className:"text-red-600 bg-red-100 p-2 rounded-md",children:"您的瀏覽器不支援語音合成 (TTS)。"}),!x.sr&&E.jsx("p",{className:"text-red-600 bg-red-100 p-2 rounded-md mt-2",children:"您的瀏覽器不支援語音辨識 (SR)。建議使用最新版 Chrome 或 Edge。"}),E.jsx("div",{className:"space-y-4",children:n.map((te,ne)=>E.jsxs("div",{className:`p-3 rounded-lg ${te.speaker==="Speaker A"?"bg-sky-50":"bg-indigo-50"} border ${te.speaker==="Speaker A"?"border-sky-200":"border-indigo-200"}`,children:[E.jsxs("p",{className:"font-semibold text-sm mb-1 ${item.speaker === 'Speaker A' ? 'text-sky-700' : 'text-indigo-700'}",children:[te.speaker,":"]}),E.jsx("p",{className:"text-slate-800 mb-2",children:te.line}),E.jsxs("div",{className:"flex items-center space-x-2",children:[x.tts&&E.jsx("button",{onClick:()=>N(te.line,ne),disabled:C&&e!==ne,className:`p-1.5 rounded-full hover:bg-slate-200 transition-colors disabled:opacity-50 ${C&&e===ne?"text-sky-500 animate-pulse":"text-slate-600"}`,"aria-label":`播放 ${te.speaker} 的話`,children:E.jsx(B1,{className:"w-5 h-5"})}),x.sr&&(f&&o===ne?E.jsx("button",{onClick:F,className:"p-1.5 rounded-full text-red-600 hover:bg-red-100 transition-colors","aria-label":"停止錄音",children:E.jsx(P1,{className:"w-5 h-5"})}):E.jsx("button",{onClick:()=>B(ne),disabled:f||C,className:"p-1.5 rounded-full text-slate-600 hover:bg-slate-200 transition-colors disabled:opacity-50","aria-label":`練習說出 ${te.speaker} 的話`,children:E.jsx(z1,{className:"w-5 h-5"})}))]}),o===ne&&h&&E.jsxs("p",{className:"mt-2 text-sm text-slate-600 italic",children:['您說的是: "',h,'"']}),o===ne&&p&&E.jsxs("div",{className:`mt-2 p-2 rounded-md text-sm flex items-start ${p.type==="success"?"bg-green-100 text-green-700":p.type==="error"?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"}`,children:[p.type==="success"&&E.jsx(Lo,{className:"w-5 h-5 mr-2 flex-shrink-0"}),p.type==="error"&&E.jsx(Vo,{className:"w-5 h-5 mr-2 flex-shrink-0"}),E.jsx("span",{children:p.message})]})]},ne))}),f&&E.jsx("p",{className:"mt-4 text-center text-sky-600 font-medium animate-pulse",children:"正在聆聽..."})]})},X1=n=>`
    <div class="tabs">
      <button class="tab-btn active" data-tab-target="easy-quiz-content" data-difficulty="easy">簡單</button>
      <button class="tab-btn" data-tab-target="normal-quiz-content" data-difficulty="normal">普通</button>
      <button class="tab-btn" data-tab-target="hard-quiz-content" data-difficulty="hard">困難</button>
    </div>
    <div id="easy-quiz-content" class="tab-content active">
      <!-- Content rendered by JS -->
      <div class="quiz-items-container" data-difficulty="easy"></div>
    </div>
    <div id="normal-quiz-content" class="tab-content">
      <!-- Content rendered by JS -->
      <div class="quiz-items-container" data-difficulty="normal"></div>
    </div>
    <div id="hard-quiz-content" class="tab-content">
      <!-- Content rendered by JS -->
      <div class="quiz-items-container" data-difficulty="hard"></div>
    </div>
    <script type="application/json" id="quizDataStore">
      ${n}
    <\/script>
  `,Q1=(n,e)=>{const l=n.learningObjectives&&n.learningObjectives.length>0?`<ul>${n.learningObjectives.map(x=>`<li>${x}</li>`).join("")}</ul>`:"<p>沒有提供教學目標。</p>",o=n.contentBreakdown&&n.contentBreakdown.length>0?n.contentBreakdown.map(x=>`
        <div class="breakdown-item">
          <h3>${x.topic}</h3>
          <p>${x.details}</p>
        </div>`).join(""):"<p>沒有提供內容分解。</p>",r=n.confusingPoints&&n.confusingPoints.length>0?n.confusingPoints.map(x=>`
        <div class="confusing-point-item">
          <h3>${x.point}</h3>
          <p>${x.clarification}</p>
        </div>`).join(""):"<p>沒有提供易混淆點。</p>",f=n.classroomActivities&&n.classroomActivities.length>0?n.classroomActivities.map(x=>`
        <div class="activity-item" style="border:1px solid #e0e7ef; border-radius:6px; padding:12px; margin-bottom:16px; background:#f8fafc;">
          <h3 style="color:#2563eb; margin-bottom:6px;">${x.title}</h3>
          <p style="margin-bottom:6px;">${x.description}</p>
          ${x.objective?`<p style="margin-bottom:4px;"><strong>活動目標：</strong>${x.objective}</p>`:""}
          ${x.materials?`<p style="margin-bottom:4px;"><strong>所需教材：</strong>${x.materials}</p>`:""}
          ${x.environment?`<p style="margin-bottom:0;"><strong>環境需求：</strong>${x.environment}</p>`:""}
        </div>
      `).join(""):"<p>沒有提供課堂活動。</p>",m=n.englishConversation&&n.englishConversation.length>0?n.englishConversation.map(x=>`
        <div class="dialogue-line ${x.speaker==="Speaker A"?"speakerA":"speakerB"}">
          <span class="speaker">${x.speaker}:</span> ${x.line}
        </div>`).join("")+"<p><small><em>注意：互動式語音朗讀和練習功能僅在線上應用程式中提供。</em></small></p>":"<p>沒有提供英文對話內容。</p>",h=JSON.stringify(n.onlineInteractiveQuiz||{}),y=X1(h),p=`
    <!DOCTYPE html>
    <html lang="zh-Hant">
    <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>學習計畫：${e}</title>
      <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"; margin: 0; padding: 20px; line-height: 1.6; background-color: #f4f7f9; color: #333; }
        .container { max-width: 800px; margin: 0 auto; background-color: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        h1 { color: #2c3e50; text-align: center; border-bottom: 2px solid #3498db; padding-bottom: 10px; }
        h2 { color: #3498db; margin-top: 30px; border-bottom: 1px solid #eee; padding-bottom: 8px;}
        h3 { color: #2980b9; margin-top: 20px; }
        h4 { color: #16a085; margin-top:15px; font-size: 1.1em; margin-bottom: 10px; padding-bottom: 5px; border-bottom: 1px dashed #bdc3c7;}
        ul { list-style-type: disc; padding-left: 20px; }
        li { margin-bottom: 8px; }
        p { margin-bottom: 10px; }
        .section { margin-bottom: 25px; }
        .breakdown-item, .confusing-point-item { border-left: 3px solid #3498db; padding-left: 15px; margin-bottom: 15px; background-color: #fdfdfe; padding:10px; border-radius: 0 4px 4px 0;}
        .dialogue-line { margin-bottom: 8px; padding: 10px; border-radius: 5px; }
        .dialogue-line .speaker { font-weight: bold; color: #0056b3; }
        .dialogue-line.speakerA { background-color: #e7f3ff; border-left: 3px solid #79a6dc; }
        .dialogue-line.speakerB { background-color: #e6fff0; border-left: 3px solid #68d19a; }
        
        .tabs { display: flex; margin-bottom: 0; border-bottom: 1px solid #ccc;}
        .tabs button { padding: 10px 15px; cursor: pointer; border: 1px solid #ccc; background-color: #f0f0f0; margin-right: 0px; border-bottom: none; border-radius: 5px 5px 0 0; font-size: 1em;}
        .tabs button.active { background-color: #fff; border-bottom: 1px solid #fff; color: #3498db; font-weight: bold; position:relative; top:1px;}
        .tab-content { display: none; padding: 15px; border: 1px solid #ccc; border-top: none; background-color:#fff; border-radius: 0 0 5px 5px;}
        .tab-content.active { display: block; }

        .quiz-item { border: 1px solid #e0e0e0; padding: 15px; margin-bottom: 15px; border-radius: 5px; background: #f9f9f9; }
        .quiz-question { font-weight: 500; margin-bottom: 8px; color: #333; }
        .quiz-item p:first-child { margin-top: 0; }
        .quiz-feedback { padding: 8px; margin-top: 10px; border-radius: 4px; font-size: 0.9em; }
        .quiz-feedback.correct { background-color: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .quiz-feedback.incorrect { background-color: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
        .quiz-feedback em { color: #555;}
        
        .tf-options button { margin-right: 10px; padding: 8px 12px; border-radius: 4px; border: 1px solid #ccc; cursor: pointer; }
        .tf-options button.selected.correct, .tf-options button.correct { background-color: #28a745; color: white; border-color: #28a745; }
        .tf-options button.selected.incorrect, .tf-options button.incorrect { background-color: #dc3545; color: white; border-color: #dc3545; }
        .tf-options button:disabled { opacity: 0.7; cursor: not-allowed; }

        .mc-options label { display: block; margin-bottom: 8px; padding: 8px; border: 1px solid #eee; border-radius: 4px; cursor: pointer; transition: background-color 0.2s, border-color 0.2s; }
        .mc-options label:hover { background-color: #f0f8ff; }
        .mc-options input[type="radio"] { margin-right: 8px; }
        .mc-options label.selected { background-color: #e0f0ff; border-color: #79a6dc; }
        .mc-options label.correct-answer { background-color: #d4edda !important; border-color: #c3e6cb !important; color: #155724;}
        .mc-options label.incorrect-selection { background-color: #f8d7da !important; border-color: #f5c6cb !important; color: #721c24;}
        .mc-options label.disabled { cursor: not-allowed; opacity: 0.7; }


        .fb-input { padding: 6px; border: 1px solid #ccc; border-radius: 4px; margin: 0 5px; min-width:100px; }
        .fb-input:disabled { background-color: #eee; }

        .ss-word-bank, .ss-constructed-sentence-area { display: flex; flex-wrap: wrap; gap: 8px; padding: 10px; border: 1px dashed #ccc; border-radius: 4px; min-height: 40px; margin-bottom: 10px; }
        .ss-word-bank { background-color: #f0f8ff; }
        .ss-constructed-sentence-area { background-color: #e6fff0; }
        .ss-word-bank button, .ss-constructed-sentence-area button { padding: 5px 10px; background-color: #add8e6; border: none; border-radius: 4px; cursor: pointer; font-size: 0.95em;}
        .ss-word-bank button:hover, .ss-constructed-sentence-area button:hover { background-color: #90cce0; }
        .ss-constructed-sentence-area button { background-color: #a2d2ff; }


        .quiz-item button.check-answer-btn, .quiz-item button.ss-action-btn {
          background-color: #3498db; color: white; border: none; padding: 8px 12px; border-radius: 4px; cursor: pointer; font-size: 0.9em; margin-top: 10px; transition: background-color 0.2s;
        }
        .quiz-item button.check-answer-btn:hover, .quiz-item button.ss-action-btn:hover { background-color: #2980b9; }
        .quiz-item button.ss-action-btn.ss-clear { background-color: #e74c3c; margin-left: 5px;}
        .quiz-item button.ss-action-btn.ss-clear:hover { background-color: #c0392b; }
        .quiz-item button:disabled, .quiz-item button.check-answer-btn:disabled, .quiz-item button.ss-action-btn:disabled { background-color: #bdc3c7; cursor: not-allowed; opacity: 0.7;}
        
        footer { text-align: center; margin-top: 30px; padding-top: 15px; border-top: 1px solid #ddd; font-size: 0.9em; color: #777; }
      </style>
    </head>
    <body>
      <div class="container">
        <h1>學習計畫：${e}</h1>

        <div class="section">
          <h2>教學目標設定</h2>
          ${l}
        </div>

        <div class="section">
          <h2>分解學習內容</h2>
          ${o}
        </div>

        <div class="section">
          <h2>易混淆點識別</h2>
          ${r}
        </div>

        <div class="section">
          <h2>課堂活動與遊戲設計</h2>
          ${f}
        </div>
        
        <div class="section">
          <h2>英文對話練習</h2>
          ${m}
        </div>

        <div class="section">
          <h2>線上互動測驗</h2>
          ${y}
        </div>
        
        <footer>
          <p>此學習計畫由 AI 產生。匯出時間：${new Date().toLocaleString()}</p>
        </footer>
      </div>

      <script>
        document.addEventListener('DOMContentLoaded', () => {
          const quizData = JSON.parse(document.getElementById('quizDataStore').textContent || '{}');
          let sentenceScrambleStates = {}; // To store dynamic state for sentence scramble

          const normalizeText = (str) => {
            if (typeof str !== 'string') return '';
            // Corrected regex for multiple spaces: s+ instead of \\s+
            return str.toLowerCase().replace(/[.,!?;:'"‘'""]/g, '').replace(/s+/g, ' ').trim();
          };

          const renderQuizzesForDifficulty = (difficulty) => {
            const container = document.querySelector(\`.quiz-items-container[data-difficulty="\${difficulty}"]\`);
            if (!container) return;
            container.innerHTML = ''; 
            sentenceScrambleStates[difficulty] = {}; // Reset states for this difficulty

            const difficultyData = quizData[difficulty];
            if (!difficultyData || Object.keys(difficultyData).every(type => !difficultyData[type] || difficultyData[type].length === 0)) {
              container.innerHTML = '<p>此難度沒有測驗資料。</p>';
              return;
            }

            let itemGlobalIndex = 0;
            const typeLabels = { trueFalse: "是非題", multipleChoice: "選擇題", fillInTheBlanks: "填空題", sentenceScramble: "句子重組"};

            const createHtml = (type, q, index) => {
              const questionId = \`\${difficulty}-\${type}-\${index}\`;
              let itemHtml = \`<div class="quiz-item \${type}-item" id="item-\${questionId}">\`;
              
              if (type === 'trueFalse') {
                itemHtml += \`<p class="quiz-question">\${itemGlobalIndex + 1}. \${q.statement}</p>\`;
                itemHtml += \`<div class="tf-options">\`;
                itemHtml += \`<button data-value="true" data-question-id="\${questionId}">是 (True)</button>\`;
                itemHtml += \`<button data-value="false" data-question-id="\${questionId}">非 (False)</button>\`;
                itemHtml += \`</div>\`;
              } else if (type === 'multipleChoice') {
                itemHtml += \`<p class="quiz-question">\${itemGlobalIndex + 1}. \${q.question}</p>\`;
                itemHtml += \`<div class="mc-options">\`;
                q.options.forEach((opt, optIndex) => {
                  itemHtml += \`<label><input type="radio" name="mc-\${questionId}" value="\${optIndex}"> \${String.fromCharCode(65 + optIndex)}. \${opt}</label>\`;
                });
                itemHtml += \`</div>\`;
                itemHtml += \`<button class="check-answer-btn mc-check" data-question-id="\${questionId}">檢查答案</button>\`;
              } else if (type === 'fillInTheBlanks') {
                itemHtml += \`<p class="quiz-question">\${itemGlobalIndex + 1}. \${q.sentenceWithBlank.replace('____', '<input type="text" class="fb-input" id="fb-input-\${questionId}" placeholder="答案">')}</p>\`;
                itemHtml += \`<button class="check-answer-btn fb-check" data-question-id="\${questionId}">檢查答案</button>\`;
              } else if (type === 'sentenceScramble') {
                sentenceScrambleStates[difficulty][questionId] = {
                    availableWords: q.scrambledWords.slice().sort(() => Math.random() - 0.5),
                    constructedWords: []
                };
                itemHtml += \`<p class="quiz-question">\${itemGlobalIndex + 1}. 請重組以下詞彙來形成一個正確的句子：</p>\`;
                itemHtml += \`<p class="ss-instruction">點擊下方詞彙將其加入您的句子，或點擊您句子中的詞彙將其移回詞彙庫。</p>\`
                itemHtml += \`<div class="ss-word-bank" id="ss-bank-\${questionId}">\`;
                sentenceScrambleStates[difficulty][questionId].availableWords.forEach(word => {
                   itemHtml += \`<button class="ss-word" data-word="\${word}" data-question-id="\${questionId}" data-source="bank">\${word}</button>\`;
                });
                itemHtml += \`</div>\`;
                itemHtml += \`<p class="quiz-question">您的句子：</p><div class="ss-constructed-sentence-area" id="ss-area-\${questionId}"></div>\`;
                itemHtml += \`<button class="check-answer-btn ss-check" data-question-id="\${questionId}">檢查句子</button>\`;
                itemHtml += \`<button class="ss-action-btn ss-clear" data-question-id="\${questionId}">清除</button>\`;
              }
              itemHtml += \`<div class="quiz-feedback" id="feedback-\${questionId}"></div></div>\`;
              itemGlobalIndex++;
              return itemHtml;
            };
            
            const quizTypes = ['trueFalse', 'multipleChoice', 'fillInTheBlanks', 'sentenceScramble'];
            let hasContentForDifficulty = false;

            quizTypes.forEach(type => {
              if (difficultyData[type] && difficultyData[type].length > 0) {
                hasContentForDifficulty = true;
                const typeHeader = document.createElement('h4');
                typeHeader.textContent = typeLabels[type];
                container.appendChild(typeHeader);
                difficultyData[type].forEach((q, i) => {
                  const questionElement = document.createElement('div');
                  questionElement.innerHTML = createHtml(type, q, i);
                  container.appendChild(questionElement.firstChild);
                });
              }
            });
             if (!hasContentForDifficulty) {
                 container.innerHTML = '<p>此難度沒有可用的測驗題目。</p>';
            }
          };

          const tabButtons = document.querySelectorAll('.tabs .tab-btn');
          const tabContents = document.querySelectorAll('.tab-content');

          tabButtons.forEach(button => {
            button.addEventListener('click', () => {
              tabButtons.forEach(btn => btn.classList.remove('active'));
              tabContents.forEach(content => content.classList.remove('active'));

              button.classList.add('active');
              const targetContentId = button.getAttribute('data-tab-target');
              document.getElementById(targetContentId).classList.add('active');
              
              const difficulty = button.getAttribute('data-difficulty');
              renderQuizzesForDifficulty(difficulty);
            });
          });
          
          // Initial render for the default active tab
          renderQuizzesForDifficulty('easy');


          // Event delegation for quiz interactions
          document.querySelector('.container').addEventListener('click', (event) => {
            const target = event.target;
            // Ensure target is an HTMLElement before trying to access attributes or match selectors
            if (!(target instanceof HTMLElement)) return;

            const questionId = target.getAttribute('data-question-id');
            if (!questionId) return;

            const [difficulty, type, indexStr] = questionId.split('-');
            const index = parseInt(indexStr);
            const questionData = quizData[difficulty]?.[type]?.[index];
            const feedbackEl = document.getElementById(\`feedback-\${questionId}\`);

            if (!questionData || !feedbackEl) return;

            // True/False
            if (target.matches('.tf-options button')) {
              const selectedValue = target.getAttribute('data-value') === 'true';
              const isCorrect = selectedValue === questionData.isTrue;
              feedbackEl.className = 'quiz-feedback ' + (isCorrect ? 'correct' : 'incorrect');
              let message = isCorrect ? '答對了！' : \`答錯了。正確答案是：\${questionData.isTrue ? '是 (True)' : '非 (False)'}\`;
              if (questionData.explanation) message += \` <em>\${questionData.explanation}</em>\`;
              feedbackEl.innerHTML = message;
              
              target.classList.add('selected', isCorrect ? 'correct' : 'incorrect');
              Array.from(target.parentElement.children).forEach(btn => btn.disabled = true);
            }

            // Multiple Choice Check
            else if (target.matches('.mc-check')) {
              const selectedRadio = document.querySelector(\`input[name="mc-\${questionId}"]:checked\`);
              if (!selectedRadio) {
                feedbackEl.className = 'quiz-feedback incorrect';
                feedbackEl.textContent = '請選擇一個選項。';
                return;
              }
              const selectedOptionIndex = parseInt(selectedRadio.value);
              const isCorrect = selectedOptionIndex === questionData.correctAnswerIndex;
              
              feedbackEl.className = 'quiz-feedback ' + (isCorrect ? 'correct' : 'incorrect');
              let message = isCorrect ? '答對了！' : \`答錯了。正確答案是：\${String.fromCharCode(65 + questionData.correctAnswerIndex)}. \${questionData.options[questionData.correctAnswerIndex]}\`;
              feedbackEl.innerHTML = message;

              // Visually mark options
              const optionLabels = document.querySelectorAll(\`#item-\${questionId} .mc-options label\`);
              optionLabels.forEach((label, idx) => {
                label.classList.add('disabled');
                const radioInLabel = label.querySelector('input');
                if (radioInLabel) radioInLabel.disabled = true;

                if (idx === questionData.correctAnswerIndex) {
                    label.classList.add('correct-answer');
                }
                if (idx === selectedOptionIndex && !isCorrect) {
                    label.classList.add('incorrect-selection');
                }
                 if (idx === selectedOptionIndex) {
                    label.classList.add('selected');
                }
              });
              target.disabled = true;
            }

            // Fill in the Blanks Check
            else if (target.matches('.fb-check')) {
              const inputEl = document.getElementById(\`fb-input-\${questionId}\`);
              // Add null check for inputEl
              if (!inputEl) {
                  console.error('Fill-in-the-blanks input element not found for ID:', \`fb-input-\${questionId}\`);
                  feedbackEl.className = 'quiz-feedback incorrect';
                  feedbackEl.textContent = '發生錯誤：找不到輸入欄位。';
                  return;
              }
              const userAnswer = inputEl.value.trim();
              if (userAnswer === '') {
                feedbackEl.className = 'quiz-feedback incorrect';
                feedbackEl.textContent = '請輸入答案。';
                return;
              }
              const isCorrect = normalizeText(userAnswer) === normalizeText(questionData.correctAnswer);
              feedbackEl.className = 'quiz-feedback ' + (isCorrect ? 'correct' : 'incorrect');
              feedbackEl.textContent = isCorrect ? '答對了！' : \`答錯了。正確答案是： "\${questionData.correctAnswer}"\`;
              inputEl.disabled = true;
              target.disabled = true;
            }
            
            // Sentence Scramble
            else if (target.matches('.ss-word') || target.matches('.ss-check') || target.matches('.ss-clear')) {
                const state = sentenceScrambleStates[difficulty][questionId];
                if (!state) return; // Should not happen if initialized correctly

                const bankEl = document.getElementById(\`ss-bank-\${questionId}\`);
                const areaEl = document.getElementById(\`ss-area-\${questionId}\`);
                
                if(!bankEl || !areaEl) return;


                const redrawScramble = () => {
                    bankEl.innerHTML = '';
                    state.availableWords.forEach(w => {
                        bankEl.innerHTML += \`<button class="ss-word" data-word="\${w}" data-question-id="\${questionId}" data-source="bank">\${w}</button>\`;
                    });
                    areaEl.innerHTML = '';
                    state.constructedWords.forEach(w => {
                        areaEl.innerHTML += \`<button class="ss-word" data-word="\${w}" data-question-id="\${questionId}" data-source="area">\${w}</button>\`;
                    });
                };

                if (target.matches('.ss-word')) {
                    const word = target.getAttribute('data-word');
                    const source = target.getAttribute('data-source');
                    if (source === 'bank') {
                        state.constructedWords.push(word);
                        // Correctly remove only one instance of the word from availableWords
                        const wordIndexInBank = state.availableWords.indexOf(word);
                        if (wordIndexInBank > -1) {
                            state.availableWords.splice(wordIndexInBank, 1);
                        }
                    } else { // source === 'area'
                        state.availableWords.push(word);
                        // Correctly remove only one instance of the word from constructedWords
                        const wordIndexInArea = state.constructedWords.indexOf(word);
                        if (wordIndexInArea > -1) {
                            state.constructedWords.splice(wordIndexInArea, 1);
                        }
                    }
                    redrawScramble();
                    feedbackEl.textContent = '';
                    feedbackEl.className = 'quiz-feedback';
                } else if (target.matches('.ss-check')) {
                    const userAnswer = state.constructedWords.join(' ').trim();
                    const isCorrect = normalizeText(userAnswer) === normalizeText(questionData.originalSentence);
                    feedbackEl.className = 'quiz-feedback ' + (isCorrect ? 'correct' : 'incorrect');
                    feedbackEl.textContent = isCorrect ? '答對了！' : \`答錯了。正確句子是： "\${questionData.originalSentence}"\`;
                    target.disabled = true;
                    const clearButton = document.querySelector(\`#item-\${questionId} .ss-clear\`);
                    if(clearButton) clearButton.disabled = true;
                    
                    bankEl.querySelectorAll('button').forEach(b => b.disabled = true);
                    areaEl.querySelectorAll('button').forEach(b => b.disabled = true);

                } else if (target.matches('.ss-clear')) {
                    state.availableWords = questionData.scrambledWords.slice().sort(() => Math.random() - 0.5);
                    state.constructedWords = [];
                    redrawScramble();
                    feedbackEl.textContent = '';
                    feedbackEl.className = 'quiz-feedback';
                }
            }

          });
        });
      <\/script>
    </body>
    </html>
  `,v=new Blob([p],{type:"text/html;charset=utf-8"}),C=URL.createObjectURL(v),_=document.createElement("a");_.href=C,_.download=`learning-plan-${e.replace(/\s+/g,"_")||"untitled"}.html`,document.body.appendChild(_),_.click(),document.body.removeChild(_),URL.revokeObjectURL(C)},W1=({tabs:n,current:e,onChange:l,children:o})=>E.jsxs("div",{children:[E.jsx("div",{className:"flex border-b mb-4",children:n.map(r=>E.jsx("button",{className:`px-4 py-2 -mb-px border-b-2 font-medium transition-colors focus:outline-none ${e===r.key?"border-indigo-600 text-indigo-700 bg-white":"border-transparent text-slate-500 hover:text-indigo-600"}`,onClick:()=>l(r.key),type:"button",children:r.label},r.key))}),E.jsx("div",{children:o[n.findIndex(r=>r.key===e)]})]}),j1="https://api.jsonbin.io/v3/b",eM="$2a$10$0PieG5Wm.V.6svtN4PbaTuVxU4LY0nL2Vaz4N3g2aYlb0cL1NG4Qa";async function tM(n){const l=await(await fetch(j1,{method:"POST",headers:{"Content-Type":"application/json","X-Master-Key":eM,"X-Bin-Private":"false"},body:JSON.stringify(n)})).json();if(!l||!l.metadata||!l.metadata.id)throw new Error("無法取得 jsonbin id");return l.metadata.id}async function nM(n){const l=await(await fetch(`https://api.jsonbin.io/v3/b/${n}/latest`,{})).json();if(!l||!l.record)throw new Error("找不到對應的教學方案");return l.record}const sg=[{key:"objectives",label:"教學目標"},{key:"breakdown",label:"分解內容"},{key:"confusing",label:"易混淆點"},{key:"activities",label:"課堂活動"},{key:"conversation",label:"對話練習"},{key:"quiz",label:"互動測驗"}],Fg=({content:n,topic:e})=>{const[l,o]=Ot.useState(""),[r,f]=Ot.useState(""),[m,h]=Ot.useState(sg[0].key),[y,p]=Ot.useState(!1),[v,C]=Ot.useState(""),[_,x]=Ot.useState(""),b=()=>{navigator.clipboard.writeText(JSON.stringify(n,null,2)).then(()=>{o("JSON 已複製到剪貼簿！"),setTimeout(()=>o(""),2e3)}).catch(N=>{o("複製失敗。"),console.error("Failed to copy: ",N),setTimeout(()=>o(""),2e3)})},D=()=>{try{Q1(n,e),f("HTML 檔案已開始下載！"),setTimeout(()=>f(""),3e3)}catch(N){console.error("Failed to export HTML:",N),f("匯出 HTML 失敗。"),setTimeout(()=>f(""),3e3)}},q=async()=>{p(!0),C(""),x("");try{const N=await tM(n),B=`${window.location.origin}/share?binId=${N}`;x(B)}catch(N){C(N.message||"分享失敗")}finally{p(!1)}};return E.jsxs("div",{className:"mt-8",children:[E.jsxs("div",{className:"flex flex-wrap justify-end items-center gap-2 mb-4",children:[E.jsxs("button",{onClick:b,className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors flex items-center text-sm","aria-label":"複製產生的 JSON 內容",children:[E.jsx(O1,{className:"w-4 h-4 mr-2"})," 複製產生的 JSON"]}),E.jsxs("button",{onClick:D,className:"px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition-colors flex items-center text-sm","aria-label":"將學習內容匯出為 HTML 檔案",children:[E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4 mr-2",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})}),"匯出為 HTML"]}),E.jsx("button",{onClick:q,className:"px-4 py-2 bg-purple-500 text-white rounded-md hover:bg-purple-600 transition-colors flex items-center text-sm disabled:opacity-60","aria-label":"分享教學方案",disabled:y,children:y?E.jsxs("span",{className:"flex items-center",children:[E.jsx("span",{className:"animate-spin mr-2",children:"⏳"})," 分享中..."]}):E.jsx("span",{children:"分享"})}),l&&E.jsx("span",{className:"text-sm text-green-600",children:l}),r&&E.jsx("span",{className:"text-sm text-blue-600",children:r}),v&&E.jsx("span",{className:"text-sm text-red-600",children:v}),_&&E.jsxs("span",{className:"text-sm text-purple-700 flex items-center gap-2",children:["分享連結：",E.jsx("button",{className:"underline hover:text-purple-900",onClick:()=>{navigator.clipboard.writeText(_)},children:_}),E.jsx("span",{className:"ml-1 text-xs text-gray-400",children:"(點擊可複製)"})]})]}),E.jsxs(W1,{tabs:sg,current:m,onChange:h,children:[E.jsx(Tn,{title:"教學目標設定",icon:E.jsx(V1,{className:"w-7 h-7"}),children:n.learningObjectives&&n.learningObjectives.length>0?E.jsx("ul",{className:"list-disc list-inside space-y-1 pl-2",children:n.learningObjectives.map((N,B)=>E.jsx("li",{children:N},B))}):E.jsx("p",{children:"沒有提供教學目標。"})}),E.jsx(Tn,{title:"分解學習內容",icon:E.jsx(L1,{className:"w-7 h-7"}),children:n.contentBreakdown&&n.contentBreakdown.length>0?n.contentBreakdown.map((N,B)=>E.jsxs("div",{className:"mb-4 pb-4 border-b border-slate-200 last:border-b-0 last:pb-0",children:[E.jsx("h4",{className:"font-semibold text-lg text-sky-800 mb-1",children:N.topic}),E.jsx("p",{className:"text-slate-700 mb-2",children:N.details}),N.teachingExample&&E.jsxs("div",{className:"bg-sky-50 border-l-4 border-sky-400 p-3 rounded-md mt-2",children:[E.jsx("span",{className:"block text-xs font-semibold text-sky-700 mb-1",children:"教學示例"}),E.jsx("span",{className:"text-sky-900 text-sm",children:N.teachingExample})]})]},B)):E.jsx("p",{children:"沒有提供內容分解。"})}),E.jsx(Tn,{title:"易混淆點識別",icon:E.jsx(Hg,{className:"w-7 h-7"}),children:n.confusingPoints&&n.confusingPoints.length>0?n.confusingPoints.map((N,B)=>E.jsxs("div",{className:"mb-4 pb-4 border-b border-slate-200 last:border-b-0 last:pb-0",children:[E.jsx("h4",{className:"font-semibold text-lg text-red-700 mb-1",children:N.point}),E.jsx("p",{className:"text-slate-700 mb-2",children:N.clarification}),N.teachingExample&&E.jsxs("div",{className:"bg-red-50 border-l-4 border-red-400 p-3 rounded-md mt-2",children:[E.jsx("span",{className:"block text-xs font-semibold text-red-700 mb-1",children:"教學示例"}),E.jsx("span",{className:"text-red-900 text-sm",children:N.teachingExample})]})]},B)):E.jsx("p",{children:"沒有提供易混淆點。"})}),E.jsx(Tn,{title:"課堂活動與遊戲設計",icon:E.jsx(q1,{className:"w-7 h-7"}),children:n.classroomActivities&&n.classroomActivities.length>0?E.jsx("div",{className:"space-y-4",children:n.classroomActivities.map((N,B)=>E.jsxs("div",{className:"p-4 border border-slate-200 rounded-md bg-slate-50",children:[E.jsx("h4",{className:"font-bold text-lg text-sky-700 mb-1",children:N.title}),E.jsx("p",{className:"mb-1 text-slate-700",children:N.description}),N.objective&&E.jsxs("p",{className:"text-sm text-sky-900 mb-1",children:[E.jsx("span",{className:"font-semibold",children:"活動目標："}),N.objective]}),N.materials&&E.jsxs("p",{className:"text-sm text-sky-900 mb-1",children:[E.jsx("span",{className:"font-semibold",children:"所需教材："}),N.materials]}),N.environment&&E.jsxs("p",{className:"text-sm text-sky-900",children:[E.jsx("span",{className:"font-semibold",children:"環境需求："}),N.environment]})]},B))}):E.jsx("p",{children:"沒有提供課堂活動。"})}),n.englishConversation&&n.englishConversation.length>0?E.jsx(K1,{dialogue:n.englishConversation}):E.jsx(Tn,{title:"對話練習",icon:E.jsx(pc,{className:"w-7 h-7"}),children:E.jsx("p",{children:"沒有提供對話練習。"})}),E.jsx(Z1,{quizzes:n.onlineInteractiveQuiz})]})]})},iM=({isOpen:n,onSave:e})=>{const[l,o]=L.useState("");return n?E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:E.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full",children:[E.jsx("h2",{className:"text-xl font-bold mb-4 text-sky-700",children:"請輸入 Gemini API 金鑰"}),E.jsx("input",{type:"password",className:"w-full border border-slate-300 rounded px-3 py-2 mb-4 focus:outline-none focus:ring-2 focus:ring-sky-400",placeholder:"請貼上您的 Gemini API Key...",value:l,onChange:r=>o(r.target.value)}),E.jsx("button",{className:"w-full bg-sky-600 hover:bg-sky-700 text-white font-semibold py-2 rounded transition",onClick:()=>{l.trim()&&(e(l.trim()),o(""))},children:"儲存金鑰"}),E.jsx("p",{className:"text-xs text-slate-500 mt-3",children:"您的金鑰只會儲存在本機瀏覽器，不會上傳到伺服器。"})]})}):null};var Ao={},ug;function lM(){if(ug)return Ao;ug=1,Object.defineProperty(Ao,"__esModule",{value:!0}),Ao.parse=m,Ao.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,l=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,o=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,f=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function m(_,x){const b=new f,D=_.length;if(D<2)return b;const q=(x==null?void 0:x.decode)||v;let N=0;do{const B=_.indexOf("=",N);if(B===-1)break;const F=_.indexOf(";",N),J=F===-1?D:F;if(B>J){N=_.lastIndexOf(";",B-1)+1;continue}const Y=h(_,N,B),te=y(_,B,Y),ne=_.slice(Y,te);if(b[ne]===void 0){let he=h(_,B+1,J),Z=y(_,J,he);const oe=q(_.slice(he,Z));b[ne]=oe}N=J+1}while(N<D);return b}function h(_,x,b){do{const D=_.charCodeAt(x);if(D!==32&&D!==9)return x}while(++x<b);return b}function y(_,x,b){for(;x>b;){const D=_.charCodeAt(--x);if(D!==32&&D!==9)return x+1}return b}function p(_,x,b){const D=(b==null?void 0:b.encode)||encodeURIComponent;if(!n.test(_))throw new TypeError(`argument name is invalid: ${_}`);const q=D(x);if(!e.test(q))throw new TypeError(`argument val is invalid: ${x}`);let N=_+"="+q;if(!b)return N;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);N+="; Max-Age="+b.maxAge}if(b.domain){if(!l.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);N+="; Domain="+b.domain}if(b.path){if(!o.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);N+="; Path="+b.path}if(b.expires){if(!C(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);N+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(N+="; HttpOnly"),b.secure&&(N+="; Secure"),b.partitioned&&(N+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":N+="; Priority=Low";break;case"medium":N+="; Priority=Medium";break;case"high":N+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":N+="; SameSite=Strict";break;case"lax":N+="; SameSite=Lax";break;case"none":N+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return N}function v(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function C(_){return r.call(_)==="[object Date]"}return Ao}lM();var cg="popstate";function oM(n={}){function e(o,r){let{pathname:f,search:m,hash:h}=o.location;return hc("",{pathname:f,search:m,hash:h},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function l(o,r){return typeof r=="string"?r:ko(r)}return rM(e,l,null,n)}function Ge(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ft(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function aM(){return Math.random().toString(36).substring(2,10)}function fg(n,e){return{usr:n.state,key:n.key,idx:e}}function hc(n,e,l=null,o){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?_l(e):e,state:l,key:e&&e.key||o||aM()}}function ko({pathname:n="/",search:e="",hash:l=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),l&&l!=="#"&&(n+=l.charAt(0)==="#"?l:"#"+l),n}function _l(n){let e={};if(n){let l=n.indexOf("#");l>=0&&(e.hash=n.substring(l),n=n.substring(0,l));let o=n.indexOf("?");o>=0&&(e.search=n.substring(o),n=n.substring(0,o)),n&&(e.pathname=n)}return e}function rM(n,e,l,o={}){let{window:r=document.defaultView,v5Compat:f=!1}=o,m=r.history,h="POP",y=null,p=v();p==null&&(p=0,m.replaceState({...m.state,idx:p},""));function v(){return(m.state||{idx:null}).idx}function C(){h="POP";let q=v(),N=q==null?null:q-p;p=q,y&&y({action:h,location:D.location,delta:N})}function _(q,N){h="PUSH";let B=hc(D.location,q,N);p=v()+1;let F=fg(B,p),J=D.createHref(B);try{m.pushState(F,"",J)}catch(Y){if(Y instanceof DOMException&&Y.name==="DataCloneError")throw Y;r.location.assign(J)}f&&y&&y({action:h,location:D.location,delta:1})}function x(q,N){h="REPLACE";let B=hc(D.location,q,N);p=v();let F=fg(B,p),J=D.createHref(B);m.replaceState(F,"",J),f&&y&&y({action:h,location:D.location,delta:0})}function b(q){return sM(q)}let D={get action(){return h},get location(){return n(r,m)},listen(q){if(y)throw new Error("A history only accepts one active listener");return r.addEventListener(cg,C),y=q,()=>{r.removeEventListener(cg,C),y=null}},createHref(q){return e(r,q)},createURL:b,encodeLocation(q){let N=b(q);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:_,replace:x,go(q){return m.go(q)}};return D}function sM(n,e=!1){let l="http://localhost";typeof window<"u"&&(l=window.location.origin!=="null"?window.location.origin:window.location.href),Ge(l,"No window.location.(origin|href) available to create URL");let o=typeof n=="string"?n:ko(n);return o=o.replace(/ $/,"%20"),!e&&o.startsWith("//")&&(o=l+o),new URL(o,l)}function Yg(n,e,l="/"){return uM(n,e,l,!1)}function uM(n,e,l,o){let r=typeof e=="string"?_l(e):e,f=_n(r.pathname||"/",l);if(f==null)return null;let m=$g(n);cM(m);let h=null;for(let y=0;h==null&&y<m.length;++y){let p=SM(f);h=TM(m[y],p,o)}return h}function $g(n,e=[],l=[],o=""){let r=(f,m,h)=>{let y={relativePath:h===void 0?f.path||"":h,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};y.relativePath.startsWith("/")&&(Ge(y.relativePath.startsWith(o),`Absolute route path "${y.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(o.length));let p=Cn([o,y.relativePath]),v=l.concat(y);f.children&&f.children.length>0&&(Ge(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),$g(f.children,e,v,p)),!(f.path==null&&!f.index)&&e.push({path:p,score:yM(p,f.index),routesMeta:v})};return n.forEach((f,m)=>{var h;if(f.path===""||!((h=f.path)!=null&&h.includes("?")))r(f,m);else for(let y of Jg(f.path))r(f,m,y)}),e}function Jg(n){let e=n.split("/");if(e.length===0)return[];let[l,...o]=e,r=l.endsWith("?"),f=l.replace(/\?$/,"");if(o.length===0)return r?[f,""]:[f];let m=Jg(o.join("/")),h=[];return h.push(...m.map(y=>y===""?f:[f,y].join("/"))),r&&h.push(...m),h.map(y=>n.startsWith("/")&&y===""?"/":y)}function cM(n){n.sort((e,l)=>e.score!==l.score?l.score-e.score:vM(e.routesMeta.map(o=>o.childrenIndex),l.routesMeta.map(o=>o.childrenIndex)))}var fM=/^:[\w-]+$/,dM=3,mM=2,pM=1,hM=10,gM=-2,dg=n=>n==="*";function yM(n,e){let l=n.split("/"),o=l.length;return l.some(dg)&&(o+=gM),e&&(o+=mM),l.filter(r=>!dg(r)).reduce((r,f)=>r+(fM.test(f)?dM:f===""?pM:hM),o)}function vM(n,e){return n.length===e.length&&n.slice(0,-1).every((o,r)=>o===e[r])?n[n.length-1]-e[e.length-1]:0}function TM(n,e,l=!1){let{routesMeta:o}=n,r={},f="/",m=[];for(let h=0;h<o.length;++h){let y=o[h],p=h===o.length-1,v=f==="/"?e:e.slice(f.length)||"/",C=vr({path:y.relativePath,caseSensitive:y.caseSensitive,end:p},v),_=y.route;if(!C&&p&&l&&!o[o.length-1].route.index&&(C=vr({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},v)),!C)return null;Object.assign(r,C.params),m.push({params:r,pathname:Cn([f,C.pathname]),pathnameBase:AM(Cn([f,C.pathnameBase])),route:_}),C.pathnameBase!=="/"&&(f=Cn([f,C.pathnameBase]))}return m}function vr(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[l,o]=CM(n.path,n.caseSensitive,n.end),r=e.match(l);if(!r)return null;let f=r[0],m=f.replace(/(.)\/+$/,"$1"),h=r.slice(1);return{params:o.reduce((p,{paramName:v,isOptional:C},_)=>{if(v==="*"){let b=h[_]||"";m=f.slice(0,f.length-b.length).replace(/(.)\/+$/,"$1")}const x=h[_];return C&&!x?p[v]=void 0:p[v]=(x||"").replace(/%2F/g,"/"),p},{}),pathname:f,pathnameBase:m,pattern:n}}function CM(n,e=!1,l=!0){Ft(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let o=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,h,y)=>(o.push({paramName:h,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(o.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):l?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),o]}function SM(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ft(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function _n(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let l=e.endsWith("/")?e.length-1:e.length,o=n.charAt(l);return o&&o!=="/"?null:n.slice(l)||"/"}function _M(n,e="/"){let{pathname:l,search:o="",hash:r=""}=typeof n=="string"?_l(n):n;return{pathname:l?l.startsWith("/")?l:xM(l,e):e,search:bM(o),hash:MM(r)}}function xM(n,e){let l=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?l.length>1&&l.pop():r!=="."&&l.push(r)}),l.length>1?l.join("/"):"/"}function Ku(n,e,l,o){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${l}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function EM(n){return n.filter((e,l)=>l===0||e.route.path&&e.route.path.length>0)}function Zg(n){let e=EM(n);return e.map((l,o)=>o===e.length-1?l.pathname:l.pathnameBase)}function Kg(n,e,l,o=!1){let r;typeof n=="string"?r=_l(n):(r={...n},Ge(!r.pathname||!r.pathname.includes("?"),Ku("?","pathname","search",r)),Ge(!r.pathname||!r.pathname.includes("#"),Ku("#","pathname","hash",r)),Ge(!r.search||!r.search.includes("#"),Ku("#","search","hash",r)));let f=n===""||r.pathname==="",m=f?"/":r.pathname,h;if(m==null)h=l;else{let C=e.length-1;if(!o&&m.startsWith("..")){let _=m.split("/");for(;_[0]==="..";)_.shift(),C-=1;r.pathname=_.join("/")}h=C>=0?e[C]:"/"}let y=_M(r,h),p=m&&m!=="/"&&m.endsWith("/"),v=(f||m===".")&&l.endsWith("/");return!y.pathname.endsWith("/")&&(p||v)&&(y.pathname+="/"),y}var Cn=n=>n.join("/").replace(/\/\/+/g,"/"),AM=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),bM=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,MM=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function RM(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Xg=["POST","PUT","PATCH","DELETE"];new Set(Xg);var wM=["GET",...Xg];new Set(wM);var xl=L.createContext(null);xl.displayName="DataRouter";var Er=L.createContext(null);Er.displayName="DataRouterState";var Qg=L.createContext({isTransitioning:!1});Qg.displayName="ViewTransition";var NM=L.createContext(new Map);NM.displayName="Fetchers";var DM=L.createContext(null);DM.displayName="Await";var nn=L.createContext(null);nn.displayName="Navigation";var qo=L.createContext(null);qo.displayName="Location";var En=L.createContext({outlet:null,matches:[],isDataRoute:!1});En.displayName="Route";var Ac=L.createContext(null);Ac.displayName="RouteError";function kM(n,{relative:e}={}){Ge(Oo(),"useHref() may be used only in the context of a <Router> component.");let{basename:l,navigator:o}=L.useContext(nn),{hash:r,pathname:f,search:m}=Bo(n,{relative:e}),h=f;return l!=="/"&&(h=f==="/"?l:Cn([l,f])),o.createHref({pathname:h,search:m,hash:r})}function Oo(){return L.useContext(qo)!=null}function ei(){return Ge(Oo(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(qo).location}var Wg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function jg(n){L.useContext(nn).static||L.useLayoutEffect(n)}function ey(){let{isDataRoute:n}=L.useContext(En);return n?YM():IM()}function IM(){Ge(Oo(),"useNavigate() may be used only in the context of a <Router> component.");let n=L.useContext(xl),{basename:e,navigator:l}=L.useContext(nn),{matches:o}=L.useContext(En),{pathname:r}=ei(),f=JSON.stringify(Zg(o)),m=L.useRef(!1);return jg(()=>{m.current=!0}),L.useCallback((y,p={})=>{if(Ft(m.current,Wg),!m.current)return;if(typeof y=="number"){l.go(y);return}let v=Kg(y,JSON.parse(f),r,p.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Cn([e,v.pathname])),(p.replace?l.replace:l.push)(v,p.state,p)},[e,l,f,r,n])}L.createContext(null);function Bo(n,{relative:e}={}){let{matches:l}=L.useContext(En),{pathname:o}=ei(),r=JSON.stringify(Zg(l));return L.useMemo(()=>Kg(n,JSON.parse(r),o,e==="path"),[n,r,o,e])}function UM(n,e){return ty(n,e)}function ty(n,e,l,o){var N;Ge(Oo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=L.useContext(nn),{matches:f}=L.useContext(En),m=f[f.length-1],h=m?m.params:{},y=m?m.pathname:"/",p=m?m.pathnameBase:"/",v=m&&m.route;{let B=v&&v.path||"";ny(y,!v||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let C=ei(),_;if(e){let B=typeof e=="string"?_l(e):e;Ge(p==="/"||((N=B.pathname)==null?void 0:N.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${B.pathname}" was given in the \`location\` prop.`),_=B}else _=C;let x=_.pathname||"/",b=x;if(p!=="/"){let B=p.replace(/^\//,"").split("/");b="/"+x.replace(/^\//,"").split("/").slice(B.length).join("/")}let D=Yg(n,{pathname:b});Ft(v||D!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Ft(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let q=BM(D&&D.map(B=>Object.assign({},B,{params:Object.assign({},h,B.params),pathname:Cn([p,r.encodeLocation?r.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?p:Cn([p,r.encodeLocation?r.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),f,l,o);return e&&q?L.createElement(qo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},q):q}function LM(){let n=FM(),e=RM(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),l=n instanceof Error?n.stack:null,o="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:o},f={padding:"2px 4px",backgroundColor:o},m=null;return console.error("Error handled by React Router default ErrorBoundary:",n),m=L.createElement(L.Fragment,null,L.createElement("p",null,"💿 Hey developer 👋"),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:f},"ErrorBoundary")," or"," ",L.createElement("code",{style:f},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),l?L.createElement("pre",{style:r},l):null,m)}var VM=L.createElement(LM,null),qM=class extends L.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?L.createElement(En.Provider,{value:this.props.routeContext},L.createElement(Ac.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function OM({routeContext:n,match:e,children:l}){let o=L.useContext(xl);return o&&o.static&&o.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(En.Provider,{value:n},l)}function BM(n,e=[],l=null,o=null){if(n==null){if(!l)return null;if(l.errors)n=l.matches;else if(e.length===0&&!l.initialized&&l.matches.length>0)n=l.matches;else return null}let r=n,f=l==null?void 0:l.errors;if(f!=null){let y=r.findIndex(p=>p.route.id&&(f==null?void 0:f[p.route.id])!==void 0);Ge(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),r=r.slice(0,Math.min(r.length,y+1))}let m=!1,h=-1;if(l)for(let y=0;y<r.length;y++){let p=r[y];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=y),p.route.id){let{loaderData:v,errors:C}=l,_=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!C||C[p.route.id]===void 0);if(p.route.lazy||_){m=!0,h>=0?r=r.slice(0,h+1):r=[r[0]];break}}}return r.reduceRight((y,p,v)=>{let C,_=!1,x=null,b=null;l&&(C=f&&p.route.id?f[p.route.id]:void 0,x=p.route.errorElement||VM,m&&(h<0&&v===0?(ny("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,b=null):h===v&&(_=!0,b=p.route.hydrateFallbackElement||null)));let D=e.concat(r.slice(0,v+1)),q=()=>{let N;return C?N=x:_?N=b:p.route.Component?N=L.createElement(p.route.Component,null):p.route.element?N=p.route.element:N=y,L.createElement(OM,{match:p,routeContext:{outlet:y,matches:D,isDataRoute:l!=null},children:N})};return l&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?L.createElement(qM,{location:l.location,revalidation:l.revalidation,component:x,error:C,children:q(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):q()},null)}function bc(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zM(n){let e=L.useContext(xl);return Ge(e,bc(n)),e}function PM(n){let e=L.useContext(Er);return Ge(e,bc(n)),e}function GM(n){let e=L.useContext(En);return Ge(e,bc(n)),e}function Mc(n){let e=GM(n),l=e.matches[e.matches.length-1];return Ge(l.route.id,`${n} can only be used on routes that contain a unique "id"`),l.route.id}function HM(){return Mc("useRouteId")}function FM(){var o;let n=L.useContext(Ac),e=PM("useRouteError"),l=Mc("useRouteError");return n!==void 0?n:(o=e.errors)==null?void 0:o[l]}function YM(){let{router:n}=zM("useNavigate"),e=Mc("useNavigate"),l=L.useRef(!1);return jg(()=>{l.current=!0}),L.useCallback(async(r,f={})=>{Ft(l.current,Wg),l.current&&(typeof r=="number"?n.navigate(r):await n.navigate(r,{fromRouteId:e,...f}))},[n,e])}var mg={};function ny(n,e,l){!e&&!mg[n]&&(mg[n]=!0,Ft(!1,l))}L.memo($M);function $M({routes:n,future:e,state:l}){return ty(n,void 0,l,e)}function gc(n){Ge(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function JM({basename:n="/",children:e=null,location:l,navigationType:o="POP",navigator:r,static:f=!1}){Ge(!Oo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=n.replace(/^\/*/,"/"),h=L.useMemo(()=>({basename:m,navigator:r,static:f,future:{}}),[m,r,f]);typeof l=="string"&&(l=_l(l));let{pathname:y="/",search:p="",hash:v="",state:C=null,key:_="default"}=l,x=L.useMemo(()=>{let b=_n(y,m);return b==null?null:{location:{pathname:b,search:p,hash:v,state:C,key:_},navigationType:o}},[m,y,p,v,C,_,o]);return Ft(x!=null,`<Router basename="${m}"> is not able to match the URL "${y}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:L.createElement(nn.Provider,{value:h},L.createElement(qo.Provider,{children:e,value:x}))}function ZM({children:n,location:e}){return UM(yc(n),e)}function yc(n,e=[]){let l=[];return L.Children.forEach(n,(o,r)=>{if(!L.isValidElement(o))return;let f=[...e,r];if(o.type===L.Fragment){l.push.apply(l,yc(o.props.children,f));return}Ge(o.type===gc,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ge(!o.props.index||!o.props.children,"An index route cannot have child routes.");let m={id:o.props.id||f.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(m.children=yc(o.props.children,f)),l.push(m)}),l}var rr="get",sr="application/x-www-form-urlencoded";function Ar(n){return n!=null&&typeof n.tagName=="string"}function KM(n){return Ar(n)&&n.tagName.toLowerCase()==="button"}function XM(n){return Ar(n)&&n.tagName.toLowerCase()==="form"}function QM(n){return Ar(n)&&n.tagName.toLowerCase()==="input"}function WM(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function jM(n,e){return n.button===0&&(!e||e==="_self")&&!WM(n)}function vc(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,l)=>{let o=n[l];return e.concat(Array.isArray(o)?o.map(r=>[l,r]):[[l,o]])},[]))}function eR(n,e){let l=vc(n);return e&&e.forEach((o,r)=>{l.has(r)||e.getAll(r).forEach(f=>{l.append(r,f)})}),l}var ir=null;function tR(){if(ir===null)try{new FormData(document.createElement("form"),0),ir=!1}catch{ir=!0}return ir}var nR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xu(n){return n!=null&&!nR.has(n)?(Ft(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sr}"`),null):n}function iR(n,e){let l,o,r,f,m;if(XM(n)){let h=n.getAttribute("action");o=h?_n(h,e):null,l=n.getAttribute("method")||rr,r=Xu(n.getAttribute("enctype"))||sr,f=new FormData(n)}else if(KM(n)||QM(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=n.getAttribute("formaction")||h.getAttribute("action");if(o=y?_n(y,e):null,l=n.getAttribute("formmethod")||h.getAttribute("method")||rr,r=Xu(n.getAttribute("formenctype"))||Xu(h.getAttribute("enctype"))||sr,f=new FormData(h,n),!tR()){let{name:p,type:v,value:C}=n;if(v==="image"){let _=p?`${p}.`:"";f.append(`${_}x`,"0"),f.append(`${_}y`,"0")}else p&&f.append(p,C)}}else{if(Ar(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');l=rr,o=null,r=sr,m=n}return f&&r==="text/plain"&&(m=f,f=void 0),{action:o,method:l.toLowerCase(),encType:r,formData:f,body:m}}function Rc(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function lR(n,e){if(n.id in e)return e[n.id];try{let l=await import(n.module);return e[n.id]=l,l}catch(l){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(l),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function oR(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function aR(n,e,l){let o=await Promise.all(n.map(async r=>{let f=e.routes[r.route.id];if(f){let m=await lR(f,l);return m.links?m.links():[]}return[]}));return cR(o.flat(1).filter(oR).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function pg(n,e,l,o,r,f){let m=(y,p)=>l[p]?y.route.id!==l[p].route.id:!0,h=(y,p)=>{var v;return l[p].pathname!==y.pathname||((v=l[p].route.path)==null?void 0:v.endsWith("*"))&&l[p].params["*"]!==y.params["*"]};return f==="assets"?e.filter((y,p)=>m(y,p)||h(y,p)):f==="data"?e.filter((y,p)=>{var C;let v=o.routes[y.route.id];if(!v||!v.hasLoader)return!1;if(m(y,p)||h(y,p))return!0;if(y.route.shouldRevalidate){let _=y.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((C=l[0])==null?void 0:C.params)||{},nextUrl:new URL(n,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function rR(n,e,{includeHydrateFallback:l}={}){return sR(n.map(o=>{let r=e.routes[o.route.id];if(!r)return[];let f=[r.module];return r.clientActionModule&&(f=f.concat(r.clientActionModule)),r.clientLoaderModule&&(f=f.concat(r.clientLoaderModule)),l&&r.hydrateFallbackModule&&(f=f.concat(r.hydrateFallbackModule)),r.imports&&(f=f.concat(r.imports)),f}).flat(1))}function sR(n){return[...new Set(n)]}function uR(n){let e={},l=Object.keys(n).sort();for(let o of l)e[o]=n[o];return e}function cR(n,e){let l=new Set;return new Set(e),n.reduce((o,r)=>{let f=JSON.stringify(uR(r));return l.has(f)||(l.add(f),o.push({key:f,link:r})),o},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var fR=new Set([100,101,204,205]);function dR(n,e){let l=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return l.pathname==="/"?l.pathname="_root.data":e&&_n(l.pathname,e)==="/"?l.pathname=`${e.replace(/\/$/,"")}/_root.data`:l.pathname=`${l.pathname.replace(/\/$/,"")}.data`,l}function iy(){let n=L.useContext(xl);return Rc(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function mR(){let n=L.useContext(Er);return Rc(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var wc=L.createContext(void 0);wc.displayName="FrameworkContext";function ly(){let n=L.useContext(wc);return Rc(n,"You must render this element inside a <HydratedRouter> element"),n}function pR(n,e){let l=L.useContext(wc),[o,r]=L.useState(!1),[f,m]=L.useState(!1),{onFocus:h,onBlur:y,onMouseEnter:p,onMouseLeave:v,onTouchStart:C}=e,_=L.useRef(null);L.useEffect(()=>{if(n==="render"&&m(!0),n==="viewport"){let D=N=>{N.forEach(B=>{m(B.isIntersecting)})},q=new IntersectionObserver(D,{threshold:.5});return _.current&&q.observe(_.current),()=>{q.disconnect()}}},[n]),L.useEffect(()=>{if(o){let D=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(D)}}},[o]);let x=()=>{r(!0)},b=()=>{r(!1),m(!1)};return l?n!=="intent"?[f,_,{}]:[f,_,{onFocus:bo(h,x),onBlur:bo(y,b),onMouseEnter:bo(p,x),onMouseLeave:bo(v,b),onTouchStart:bo(C,x)}]:[!1,_,{}]}function bo(n,e){return l=>{n&&n(l),l.defaultPrevented||e(l)}}function hR({page:n,...e}){let{router:l}=iy(),o=L.useMemo(()=>Yg(l.routes,n,l.basename),[l.routes,n,l.basename]);return o?L.createElement(yR,{page:n,matches:o,...e}):null}function gR(n){let{manifest:e,routeModules:l}=ly(),[o,r]=L.useState([]);return L.useEffect(()=>{let f=!1;return aR(n,e,l).then(m=>{f||r(m)}),()=>{f=!0}},[n,e,l]),o}function yR({page:n,matches:e,...l}){let o=ei(),{manifest:r,routeModules:f}=ly(),{basename:m}=iy(),{loaderData:h,matches:y}=mR(),p=L.useMemo(()=>pg(n,e,y,r,o,"data"),[n,e,y,r,o]),v=L.useMemo(()=>pg(n,e,y,r,o,"assets"),[n,e,y,r,o]),C=L.useMemo(()=>{if(n===o.pathname+o.search+o.hash)return[];let b=new Set,D=!1;if(e.forEach(N=>{var F;let B=r.routes[N.route.id];!B||!B.hasLoader||(!p.some(J=>J.route.id===N.route.id)&&N.route.id in h&&((F=f[N.route.id])!=null&&F.shouldRevalidate)||B.hasClientLoader?D=!0:b.add(N.route.id))}),b.size===0)return[];let q=dR(n,m);return D&&b.size>0&&q.searchParams.set("_routes",e.filter(N=>b.has(N.route.id)).map(N=>N.route.id).join(",")),[q.pathname+q.search]},[m,h,o,r,p,e,n,f]),_=L.useMemo(()=>rR(v,r),[v,r]),x=gR(v);return L.createElement(L.Fragment,null,C.map(b=>L.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...l})),_.map(b=>L.createElement("link",{key:b,rel:"modulepreload",href:b,...l})),x.map(({key:b,link:D})=>L.createElement("link",{key:b,...D})))}function vR(...n){return e=>{n.forEach(l=>{typeof l=="function"?l(e):l!=null&&(l.current=e)})}}var oy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{oy&&(window.__reactRouterVersion="7.6.2")}catch{}function TR({basename:n,children:e,window:l}){let o=L.useRef();o.current==null&&(o.current=oM({window:l,v5Compat:!0}));let r=o.current,[f,m]=L.useState({action:r.action,location:r.location}),h=L.useCallback(y=>{L.startTransition(()=>m(y))},[m]);return L.useLayoutEffect(()=>r.listen(h),[r,h]),L.createElement(JM,{basename:n,children:e,location:f.location,navigationType:f.action,navigator:r})}var ay=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ry=L.forwardRef(function({onClick:e,discover:l="render",prefetch:o="none",relative:r,reloadDocument:f,replace:m,state:h,target:y,to:p,preventScrollReset:v,viewTransition:C,..._},x){let{basename:b}=L.useContext(nn),D=typeof p=="string"&&ay.test(p),q,N=!1;if(typeof p=="string"&&D&&(q=p,oy))try{let Z=new URL(window.location.href),oe=p.startsWith("//")?new URL(Z.protocol+p):new URL(p),Ce=_n(oe.pathname,b);oe.origin===Z.origin&&Ce!=null?p=Ce+oe.search+oe.hash:N=!0}catch{Ft(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=kM(p,{relative:r}),[F,J,Y]=pR(o,_),te=xR(p,{replace:m,state:h,target:y,preventScrollReset:v,relative:r,viewTransition:C});function ne(Z){e&&e(Z),Z.defaultPrevented||te(Z)}let he=L.createElement("a",{..._,...Y,href:q||B,onClick:N||f?e:ne,ref:vR(x,J),target:y,"data-discover":!D&&l==="render"?"true":void 0});return F&&!D?L.createElement(L.Fragment,null,he,L.createElement(hR,{page:B})):he});ry.displayName="Link";var CR=L.forwardRef(function({"aria-current":e="page",caseSensitive:l=!1,className:o="",end:r=!1,style:f,to:m,viewTransition:h,children:y,...p},v){let C=Bo(m,{relative:p.relative}),_=ei(),x=L.useContext(Er),{navigator:b,basename:D}=L.useContext(nn),q=x!=null&&wR(C)&&h===!0,N=b.encodeLocation?b.encodeLocation(C).pathname:C.pathname,B=_.pathname,F=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;l||(B=B.toLowerCase(),F=F?F.toLowerCase():null,N=N.toLowerCase()),F&&D&&(F=_n(F,D)||F);const J=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let Y=B===N||!r&&B.startsWith(N)&&B.charAt(J)==="/",te=F!=null&&(F===N||!r&&F.startsWith(N)&&F.charAt(N.length)==="/"),ne={isActive:Y,isPending:te,isTransitioning:q},he=Y?e:void 0,Z;typeof o=="function"?Z=o(ne):Z=[o,Y?"active":null,te?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let oe=typeof f=="function"?f(ne):f;return L.createElement(ry,{...p,"aria-current":he,className:Z,ref:v,style:oe,to:m,viewTransition:h},typeof y=="function"?y(ne):y)});CR.displayName="NavLink";var SR=L.forwardRef(({discover:n="render",fetcherKey:e,navigate:l,reloadDocument:o,replace:r,state:f,method:m=rr,action:h,onSubmit:y,relative:p,preventScrollReset:v,viewTransition:C,..._},x)=>{let b=MR(),D=RR(h,{relative:p}),q=m.toLowerCase()==="get"?"get":"post",N=typeof h=="string"&&ay.test(h),B=F=>{if(y&&y(F),F.defaultPrevented)return;F.preventDefault();let J=F.nativeEvent.submitter,Y=(J==null?void 0:J.getAttribute("formmethod"))||m;b(J||F.currentTarget,{fetcherKey:e,method:Y,navigate:l,replace:r,state:f,relative:p,preventScrollReset:v,viewTransition:C})};return L.createElement("form",{ref:x,method:q,action:D,onSubmit:o?y:B,..._,"data-discover":!N&&n==="render"?"true":void 0})});SR.displayName="Form";function _R(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sy(n){let e=L.useContext(xl);return Ge(e,_R(n)),e}function xR(n,{target:e,replace:l,state:o,preventScrollReset:r,relative:f,viewTransition:m}={}){let h=ey(),y=ei(),p=Bo(n,{relative:f});return L.useCallback(v=>{if(jM(v,e)){v.preventDefault();let C=l!==void 0?l:ko(y)===ko(p);h(n,{replace:C,state:o,preventScrollReset:r,relative:f,viewTransition:m})}},[y,h,p,l,o,e,n,r,f,m])}function ER(n){Ft(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=L.useRef(vc(n)),l=L.useRef(!1),o=ei(),r=L.useMemo(()=>eR(o.search,l.current?null:e.current),[o.search]),f=ey(),m=L.useCallback((h,y)=>{const p=vc(typeof h=="function"?h(r):h);l.current=!0,f("?"+p,y)},[f,r]);return[r,m]}var AR=0,bR=()=>`__${String(++AR)}__`;function MR(){let{router:n}=sy("useSubmit"),{basename:e}=L.useContext(nn),l=HM();return L.useCallback(async(o,r={})=>{let{action:f,method:m,encType:h,formData:y,body:p}=iR(o,e);if(r.navigate===!1){let v=r.fetcherKey||bR();await n.fetch(v,l,r.action||f,{preventScrollReset:r.preventScrollReset,formData:y,body:p,formMethod:r.method||m,formEncType:r.encType||h,flushSync:r.flushSync})}else await n.navigate(r.action||f,{preventScrollReset:r.preventScrollReset,formData:y,body:p,formMethod:r.method||m,formEncType:r.encType||h,replace:r.replace,state:r.state,fromRouteId:l,flushSync:r.flushSync,viewTransition:r.viewTransition})},[n,e,l])}function RR(n,{relative:e}={}){let{basename:l}=L.useContext(nn),o=L.useContext(En);Ge(o,"useFormAction must be used inside a RouteContext");let[r]=o.matches.slice(-1),f={...Bo(n||".",{relative:e})},m=ei();if(n==null){f.search=m.search;let h=new URLSearchParams(f.search),y=h.getAll("index");if(y.some(v=>v==="")){h.delete("index"),y.filter(C=>C).forEach(C=>h.append("index",C));let v=h.toString();f.search=v?`?${v}`:""}}return(!n||n===".")&&r.route.index&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),l!=="/"&&(f.pathname=f.pathname==="/"?l:Cn([l,f.pathname])),ko(f)}function wR(n,e={}){let l=L.useContext(Qg);Ge(l!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=sy("useViewTransitionState"),r=Bo(n,{relative:e.relative});if(!l.isTransitioning)return!1;let f=_n(l.currentLocation.pathname,o)||l.currentLocation.pathname,m=_n(l.nextLocation.pathname,o)||l.nextLocation.pathname;return vr(r.pathname,m)!=null||vr(r.pathname,f)!=null}[...fR];const Qu="gemini_api_key",NR=()=>{const[n]=ER(),e=n.get("binId"),[l,o]=Ot.useState(null),[r,f]=Ot.useState(!1),[m,h]=Ot.useState("");return Ot.useEffect(()=>{if(!e){h("缺少 binId");return}f(!0),nM(e).then(y=>o(y)).catch(y=>h(y.message||"讀取失敗")).finally(()=>f(!1))},[e]),r?E.jsx("div",{className:"flex justify-center my-10",children:E.jsx(Gg,{})}):m?E.jsx("div",{className:"my-6 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg shadow-md",children:m}):l?E.jsx(Fg,{content:l,topic:"topic"in l&&typeof l.topic=="string"?l.topic:""}):null},DR=()=>{const[n,e]=L.useState(""),[l,o]=L.useState(null),[r,f]=L.useState(!1),[m,h]=L.useState(null),[y,p]=L.useState(null),[v,C]=L.useState(!1),[_,x]=L.useState(null);Ot.useEffect(()=>{const B=new URLSearchParams(window.location.search).get("apikey");if(B){localStorage.setItem(Qu,B),p(B),C(!1);const J=window.location.origin+window.location.pathname;window.history.replaceState({},document.title,J);return}const F=localStorage.getItem(Qu);F?p(F):C(!0)},[]);const b=N=>{localStorage.setItem(Qu,N),p(N),C(!1)},D=L.useCallback(async()=>{if(!n.trim()){h("請輸入學習主題。");return}if(!y){h("尚未設定 Gemini API 金鑰。"),C(!0);return}f(!0),h(null),o(null);try{const N=await I1(n,y);o(N)}catch(N){console.error(N),h(N.message||"產生內容時發生未知錯誤。"),o(null)}finally{f(!1)}},[n,y]),q=async()=>{if(!y){x("請先設定 API 金鑰");return}const N=`${window.location.origin}/ai-page-gen/${window.location.pathname}?apikey=${encodeURIComponent(y)}`;try{await navigator.clipboard.writeText(N),x("已複製分享連結！")}catch{x("複製失敗，請手動複製")}setTimeout(()=>x(null),2e3)};return E.jsx(TR,{children:E.jsxs(ZM,{children:[E.jsx(gc,{path:"/ai-page-gen//share",element:E.jsx(NR,{})}),E.jsx(gc,{path:"/ai-page-gen//",element:E.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-sky-50 to-indigo-100 py-8 px-4 sm:px-6 lg:px-8",children:[E.jsx(iM,{isOpen:v,onSave:b}),E.jsxs("header",{className:"text-center mb-10",children:[E.jsxs("h1",{className:"text-4xl sm:text-5xl font-extrabold text-sky-700 tracking-tight",children:["AI 學習頁面 ",E.jsx("span",{className:"text-indigo-600",children:"產生器"})]}),E.jsx("p",{className:"mt-3 text-lg text-slate-600 max-w-2xl mx-auto",children:"輸入一個主題，讓 AI 為您打造包含互動測驗的結構化學習計劃！"}),E.jsxs("div",{className:"mt-6 max-w-2xl mx-auto bg-yellow-50 border-l-4 border-yellow-400 rounded-lg p-4 text-left shadow-sm",children:[E.jsxs("div",{className:"flex items-start mb-2",children:[E.jsx("svg",{className:"w-6 h-6 text-yellow-500 mr-2 flex-shrink-0",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M12 20a8 8 0 100-16 8 8 0 000 16z"})}),E.jsx("span",{className:"font-semibold text-yellow-800 text-base",children:"使用注意事項"})]}),E.jsxs("ul",{className:"list-disc pl-8 text-yellow-900 text-sm space-y-1",children:[E.jsx("li",{children:"內容審查：請在分享AI生成內容給學生前仔細檢查，確保內容適合且無誤"}),E.jsx("li",{children:"隱私保護：請勿輸入學生個人識別資訊"})]})]})]}),E.jsxs("main",{className:"max-w-4xl mx-auto",children:[E.jsx(U1,{topic:n,setTopic:e,onGenerate:D,isLoading:r}),m&&!r&&E.jsxs("div",{className:"my-6 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg shadow-md",children:[E.jsxs("h3",{className:"font-bold text-lg mb-2 flex items-center",children:[E.jsx(Hg,{className:"w-6 h-6 mr-2 text-red-600"}),"產生內容時發生錯誤"]}),E.jsx("p",{children:m}),E.jsx("p",{className:"mt-2 text-sm",children:"請嘗試修改您的主題或重試。如果問題持續存在，AI 模型可能暫時不可用，或者 API 金鑰可能存在問題。"})]}),r&&E.jsx("div",{className:"flex justify-center my-10",children:E.jsx(Gg,{})}),l&&!r&&!m&&E.jsx(Fg,{content:l,topic:"topic"in l&&typeof l.topic=="string"?l.topic:""})]}),E.jsxs("footer",{className:"text-center mt-12 py-6 border-t border-slate-300",children:[E.jsx("p",{className:"text-sm text-slate-500",children:"由 Gemini API 驅動。AI 設計，為學習而生。"}),E.jsx("button",{className:"mt-4 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded shadow transition",onClick:q,disabled:!y,children:"產生分享連結並複製"}),_&&E.jsx("div",{className:"mt-2 text-green-600 text-sm",children:_})]})]})})]})})},uy=document.getElementById("root");if(!uy)throw new Error("Could not find root element to mount to");const kR=G0.createRoot(uy);kR.render(E.jsx(Ot.StrictMode,{children:E.jsx(DR,{})}));
