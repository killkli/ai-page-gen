(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(l){if(l.ep)return;l.ep=!0;const o=n(l);fetch(l.href,o)}})();function Wl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wd={exports:{}},Ml={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p0;function Ew(){if(p0)return Ml;p0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,l,o){var u=null;if(o!==void 0&&(u=""+o),l.key!==void 0&&(u=""+l.key),"key"in l){o={};for(var f in l)f!=="key"&&(o[f]=l[f])}else o=l;return l=o.ref,{$$typeof:t,type:r,key:u,ref:l!==void 0?l:null,props:o}}return Ml.Fragment=e,Ml.jsx=n,Ml.jsxs=n,Ml}var g0;function kw(){return g0||(g0=1,wd.exports=Ew()),wd.exports}var a=kw(),Nd={exports:{}},Ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x0;function Aw(){if(x0)return Ue;x0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),b=Symbol.iterator;function N(S){return S===null||typeof S!="object"?null:(S=b&&S[b]||S["@@iterator"],typeof S=="function"?S:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,E={};function _(S,F,re){this.props=S,this.context=F,this.refs=E,this.updater=re||w}_.prototype.isReactComponent={},_.prototype.setState=function(S,F){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,F,"setState")},_.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function A(){}A.prototype=_.prototype;function P(S,F,re){this.props=S,this.context=F,this.refs=E,this.updater=re||w}var D=P.prototype=new A;D.constructor=P,C(D,_.prototype),D.isPureReactComponent=!0;var $=Array.isArray,Z={H:null,A:null,T:null,S:null,V:null},L=Object.prototype.hasOwnProperty;function R(S,F,re,j,ge,Se){return re=Se.ref,{$$typeof:t,type:S,key:F,ref:re!==void 0?re:null,props:Se}}function B(S,F){return R(S.type,F,void 0,void 0,void 0,S.props)}function z(S){return typeof S=="object"&&S!==null&&S.$$typeof===t}function X(S){var F={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(re){return F[re]})}var Q=/\/+/g;function G(S,F){return typeof S=="object"&&S!==null&&S.key!=null?X(""+S.key):F.toString(36)}function O(){}function V(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(O,O):(S.status="pending",S.then(function(F){S.status==="pending"&&(S.status="fulfilled",S.value=F)},function(F){S.status==="pending"&&(S.status="rejected",S.reason=F)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function ne(S,F,re,j,ge){var Se=typeof S;(Se==="undefined"||Se==="boolean")&&(S=null);var he=!1;if(S===null)he=!0;else switch(Se){case"bigint":case"string":case"number":he=!0;break;case"object":switch(S.$$typeof){case t:case e:he=!0;break;case x:return he=S._init,ne(he(S._payload),F,re,j,ge)}}if(he)return ge=ge(S),he=j===""?"."+G(S,0):j,$(ge)?(re="",he!=null&&(re=he.replace(Q,"$&/")+"/"),ne(ge,F,re,"",function(Ee){return Ee})):ge!=null&&(z(ge)&&(ge=B(ge,re+(ge.key==null||S&&S.key===ge.key?"":(""+ge.key).replace(Q,"$&/")+"/")+he)),F.push(ge)),1;he=0;var Te=j===""?".":j+":";if($(S))for(var ve=0;ve<S.length;ve++)j=S[ve],Se=Te+G(j,ve),he+=ne(j,F,re,Se,ge);else if(ve=N(S),typeof ve=="function")for(S=ve.call(S),ve=0;!(j=S.next()).done;)j=j.value,Se=Te+G(j,ve++),he+=ne(j,F,re,Se,ge);else if(Se==="object"){if(typeof S.then=="function")return ne(V(S),F,re,j,ge);throw F=String(S),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return he}function I(S,F,re){if(S==null)return S;var j=[],ge=0;return ne(S,j,"","",function(Se){return F.call(re,Se,ge++)}),j}function Y(S){if(S._status===-1){var F=S._result;F=F(),F.then(function(re){(S._status===0||S._status===-1)&&(S._status=1,S._result=re)},function(re){(S._status===0||S._status===-1)&&(S._status=2,S._result=re)}),S._status===-1&&(S._status=0,S._result=F)}if(S._status===1)return S._result.default;throw S._result}var ue=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)};function H(){}return Ue.Children={map:I,forEach:function(S,F,re){I(S,function(){F.apply(this,arguments)},re)},count:function(S){var F=0;return I(S,function(){F++}),F},toArray:function(S){return I(S,function(F){return F})||[]},only:function(S){if(!z(S))throw Error("React.Children.only expected to receive a single React element child.");return S}},Ue.Component=_,Ue.Fragment=n,Ue.Profiler=l,Ue.PureComponent=P,Ue.StrictMode=r,Ue.Suspense=g,Ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,Ue.__COMPILER_RUNTIME={__proto__:null,c:function(S){return Z.H.useMemoCache(S)}},Ue.cache=function(S){return function(){return S.apply(null,arguments)}},Ue.cloneElement=function(S,F,re){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var j=C({},S.props),ge=S.key,Se=void 0;if(F!=null)for(he in F.ref!==void 0&&(Se=void 0),F.key!==void 0&&(ge=""+F.key),F)!L.call(F,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&F.ref===void 0||(j[he]=F[he]);var he=arguments.length-2;if(he===1)j.children=re;else if(1<he){for(var Te=Array(he),ve=0;ve<he;ve++)Te[ve]=arguments[ve+2];j.children=Te}return R(S.type,ge,void 0,void 0,Se,j)},Ue.createContext=function(S){return S={$$typeof:u,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:o,_context:S},S},Ue.createElement=function(S,F,re){var j,ge={},Se=null;if(F!=null)for(j in F.key!==void 0&&(Se=""+F.key),F)L.call(F,j)&&j!=="key"&&j!=="__self"&&j!=="__source"&&(ge[j]=F[j]);var he=arguments.length-2;if(he===1)ge.children=re;else if(1<he){for(var Te=Array(he),ve=0;ve<he;ve++)Te[ve]=arguments[ve+2];ge.children=Te}if(S&&S.defaultProps)for(j in he=S.defaultProps,he)ge[j]===void 0&&(ge[j]=he[j]);return R(S,Se,void 0,void 0,null,ge)},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(S){return{$$typeof:f,render:S}},Ue.isValidElement=z,Ue.lazy=function(S){return{$$typeof:x,_payload:{_status:-1,_result:S},_init:Y}},Ue.memo=function(S,F){return{$$typeof:h,type:S,compare:F===void 0?null:F}},Ue.startTransition=function(S){var F=Z.T,re={};Z.T=re;try{var j=S(),ge=Z.S;ge!==null&&ge(re,j),typeof j=="object"&&j!==null&&typeof j.then=="function"&&j.then(H,ue)}catch(Se){ue(Se)}finally{Z.T=F}},Ue.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},Ue.use=function(S){return Z.H.use(S)},Ue.useActionState=function(S,F,re){return Z.H.useActionState(S,F,re)},Ue.useCallback=function(S,F){return Z.H.useCallback(S,F)},Ue.useContext=function(S){return Z.H.useContext(S)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(S,F){return Z.H.useDeferredValue(S,F)},Ue.useEffect=function(S,F,re){var j=Z.H;if(typeof re=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return j.useEffect(S,F)},Ue.useId=function(){return Z.H.useId()},Ue.useImperativeHandle=function(S,F,re){return Z.H.useImperativeHandle(S,F,re)},Ue.useInsertionEffect=function(S,F){return Z.H.useInsertionEffect(S,F)},Ue.useLayoutEffect=function(S,F){return Z.H.useLayoutEffect(S,F)},Ue.useMemo=function(S,F){return Z.H.useMemo(S,F)},Ue.useOptimistic=function(S,F){return Z.H.useOptimistic(S,F)},Ue.useReducer=function(S,F,re){return Z.H.useReducer(S,F,re)},Ue.useRef=function(S){return Z.H.useRef(S)},Ue.useState=function(S){return Z.H.useState(S)},Ue.useSyncExternalStore=function(S,F,re){return Z.H.useSyncExternalStore(S,F,re)},Ue.useTransition=function(){return Z.H.useTransition()},Ue.version="19.1.0",Ue}var y0;function Zf(){return y0||(y0=1,Nd.exports=Aw()),Nd.exports}var M=Zf();const Ge=Wl(M);var Sd={exports:{}},Rl={},Cd={exports:{}},Td={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v0;function _w(){return v0||(v0=1,function(t){function e(I,Y){var ue=I.length;I.push(Y);e:for(;0<ue;){var H=ue-1>>>1,S=I[H];if(0<l(S,Y))I[H]=Y,I[ue]=S,ue=H;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var Y=I[0],ue=I.pop();if(ue!==Y){I[0]=ue;e:for(var H=0,S=I.length,F=S>>>1;H<F;){var re=2*(H+1)-1,j=I[re],ge=re+1,Se=I[ge];if(0>l(j,ue))ge<S&&0>l(Se,j)?(I[H]=Se,I[ge]=ue,H=ge):(I[H]=j,I[re]=ue,H=re);else if(ge<S&&0>l(Se,ue))I[H]=Se,I[ge]=ue,H=ge;else break e}}return Y}function l(I,Y){var ue=I.sortIndex-Y.sortIndex;return ue!==0?ue:I.id-Y.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var g=[],h=[],x=1,b=null,N=3,w=!1,C=!1,E=!1,_=!1,A=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function $(I){for(var Y=n(h);Y!==null;){if(Y.callback===null)r(h);else if(Y.startTime<=I)r(h),Y.sortIndex=Y.expirationTime,e(g,Y);else break;Y=n(h)}}function Z(I){if(E=!1,$(I),!C)if(n(g)!==null)C=!0,L||(L=!0,G());else{var Y=n(h);Y!==null&&ne(Z,Y.startTime-I)}}var L=!1,R=-1,B=5,z=-1;function X(){return _?!0:!(t.unstable_now()-z<B)}function Q(){if(_=!1,L){var I=t.unstable_now();z=I;var Y=!0;try{e:{C=!1,E&&(E=!1,P(R),R=-1),w=!0;var ue=N;try{t:{for($(I),b=n(g);b!==null&&!(b.expirationTime>I&&X());){var H=b.callback;if(typeof H=="function"){b.callback=null,N=b.priorityLevel;var S=H(b.expirationTime<=I);if(I=t.unstable_now(),typeof S=="function"){b.callback=S,$(I),Y=!0;break t}b===n(g)&&r(g),$(I)}else r(g);b=n(g)}if(b!==null)Y=!0;else{var F=n(h);F!==null&&ne(Z,F.startTime-I),Y=!1}}break e}finally{b=null,N=ue,w=!1}Y=void 0}}finally{Y?G():L=!1}}}var G;if(typeof D=="function")G=function(){D(Q)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,V=O.port2;O.port1.onmessage=Q,G=function(){V.postMessage(null)}}else G=function(){A(Q,0)};function ne(I,Y){R=A(function(){I(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_next=function(I){switch(N){case 1:case 2:case 3:var Y=3;break;default:Y=N}var ue=N;N=Y;try{return I()}finally{N=ue}},t.unstable_requestPaint=function(){_=!0},t.unstable_runWithPriority=function(I,Y){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var ue=N;N=I;try{return Y()}finally{N=ue}},t.unstable_scheduleCallback=function(I,Y,ue){var H=t.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?H+ue:H):ue=H,I){case 1:var S=-1;break;case 2:S=250;break;case 5:S=1073741823;break;case 4:S=1e4;break;default:S=5e3}return S=ue+S,I={id:x++,callback:Y,priorityLevel:I,startTime:ue,expirationTime:S,sortIndex:-1},ue>H?(I.sortIndex=ue,e(h,I),n(g)===null&&I===n(h)&&(E?(P(R),R=-1):E=!0,ne(Z,ue-H))):(I.sortIndex=S,e(g,I),C||w||(C=!0,L||(L=!0,G()))),I},t.unstable_shouldYield=X,t.unstable_wrapCallback=function(I){var Y=N;return function(){var ue=N;N=Y;try{return I.apply(this,arguments)}finally{N=ue}}}}(Td)),Td}var b0;function jw(){return b0||(b0=1,Cd.exports=_w()),Cd.exports}var Ed={exports:{}},$t={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w0;function Mw(){if(w0)return $t;w0=1;var t=Zf();function e(g){var h="https://react.dev/errors/"+g;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)h+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+g+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function o(g,h,x){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:g,containerInfo:h,implementation:x}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(g,h){if(g==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,$t.createPortal=function(g,h){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return o(g,h,null,x)},$t.flushSync=function(g){var h=u.T,x=r.p;try{if(u.T=null,r.p=2,g)return g()}finally{u.T=h,r.p=x,r.d.f()}},$t.preconnect=function(g,h){typeof g=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(g,h))},$t.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},$t.preinit=function(g,h){if(typeof g=="string"&&h&&typeof h.as=="string"){var x=h.as,b=f(x,h.crossOrigin),N=typeof h.integrity=="string"?h.integrity:void 0,w=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;x==="style"?r.d.S(g,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:b,integrity:N,fetchPriority:w}):x==="script"&&r.d.X(g,{crossOrigin:b,integrity:N,fetchPriority:w,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},$t.preinitModule=function(g,h){if(typeof g=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var x=f(h.as,h.crossOrigin);r.d.M(g,{crossOrigin:x,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(g)},$t.preload=function(g,h){if(typeof g=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var x=h.as,b=f(x,h.crossOrigin);r.d.L(g,x,{crossOrigin:b,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},$t.preloadModule=function(g,h){if(typeof g=="string")if(h){var x=f(h.as,h.crossOrigin);r.d.m(g,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:x,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(g)},$t.requestFormReset=function(g){r.d.r(g)},$t.unstable_batchedUpdates=function(g,h){return g(h)},$t.useFormState=function(g,h,x){return u.H.useFormState(g,h,x)},$t.useFormStatus=function(){return u.H.useHostTransitionStatus()},$t.version="19.1.0",$t}var N0;function Rw(){if(N0)return Ed.exports;N0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ed.exports=Mw(),Ed.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S0;function Iw(){if(S0)return Rl;S0=1;var t=jw(),e=Zf(),n=Rw();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var s=i,c=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(c=s.return),i=s.return;while(i)}return s.tag===3?c:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function f(i){if(o(i)!==i)throw Error(r(188))}function g(i){var s=i.alternate;if(!s){if(s=o(i),s===null)throw Error(r(188));return s!==i?null:i}for(var c=i,d=s;;){var y=c.return;if(y===null)break;var v=y.alternate;if(v===null){if(d=y.return,d!==null){c=d;continue}break}if(y.child===v.child){for(v=y.child;v;){if(v===c)return f(y),i;if(v===d)return f(y),s;v=v.sibling}throw Error(r(188))}if(c.return!==d.return)c=y,d=v;else{for(var T=!1,k=y.child;k;){if(k===c){T=!0,c=y,d=v;break}if(k===d){T=!0,d=y,c=v;break}k=k.sibling}if(!T){for(k=v.child;k;){if(k===c){T=!0,c=v,d=y;break}if(k===d){T=!0,d=v,c=y;break}k=k.sibling}if(!T)throw Error(r(189))}}if(c.alternate!==d)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?i:s}function h(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=h(i),s!==null)return s;i=i.sibling}return null}var x=Object.assign,b=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),P=Symbol.for("react.consumer"),D=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),Z=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),X=Symbol.for("react.memo_cache_sentinel"),Q=Symbol.iterator;function G(i){return i===null||typeof i!="object"?null:(i=Q&&i[Q]||i["@@iterator"],typeof i=="function"?i:null)}var O=Symbol.for("react.client.reference");function V(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===O?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case C:return"Fragment";case _:return"Profiler";case E:return"StrictMode";case Z:return"Suspense";case L:return"SuspenseList";case z:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case w:return"Portal";case D:return(i.displayName||"Context")+".Provider";case P:return(i._context.displayName||"Context")+".Consumer";case $:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case R:return s=i.displayName||null,s!==null?s:V(i.type)||"Memo";case B:s=i._payload,i=i._init;try{return V(i(s))}catch{}}return null}var ne=Array.isArray,I=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},H=[],S=-1;function F(i){return{current:i}}function re(i){0>S||(i.current=H[S],H[S]=null,S--)}function j(i,s){S++,H[S]=i.current,i.current=s}var ge=F(null),Se=F(null),he=F(null),Te=F(null);function ve(i,s){switch(j(he,s),j(Se,i),j(ge,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?qg(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=qg(s),i=Fg(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}re(ge),j(ge,i)}function Ee(){re(ge),re(Se),re(he)}function xt(i){i.memoizedState!==null&&j(Te,i);var s=ge.current,c=Fg(s,i.type);s!==c&&(j(Se,i),j(ge,c))}function jt(i){Se.current===i&&(re(ge),re(Se)),Te.current===i&&(re(Te),El._currentValue=ue)}var nt=Object.prototype.hasOwnProperty,mn=t.unstable_scheduleCallback,Kn=t.unstable_cancelCallback,bi=t.unstable_shouldYield,wi=t.unstable_requestPaint,Pe=t.unstable_now,Xi=t.unstable_getCurrentPriorityLevel,ce=t.unstable_ImmediatePriority,Je=t.unstable_UserBlockingPriority,Be=t.unstable_NormalPriority,yt=t.unstable_LowPriority,de=t.unstable_IdlePriority,ye=t.log,ke=t.unstable_setDisableYieldValue,K=null,se=null;function pe(i){if(typeof ye=="function"&&ke(i),se&&typeof se.setStrictMode=="function")try{se.setStrictMode(K,i)}catch{}}var xe=Math.clz32?Math.clz32:Wn,_e=Math.log,ft=Math.LN2;function Wn(i){return i>>>=0,i===0?32:31-(_e(i)/ft|0)|0}var Yt=256,Dn=4194304;function nn(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Mt(i,s,c){var d=i.pendingLanes;if(d===0)return 0;var y=0,v=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var k=d&134217727;return k!==0?(d=k&~v,d!==0?y=nn(d):(T&=k,T!==0?y=nn(T):c||(c=k&~i,c!==0&&(y=nn(c))))):(k=d&~v,k!==0?y=nn(k):T!==0?y=nn(T):c||(c=d&~i,c!==0&&(y=nn(c)))),y===0?0:s!==0&&s!==y&&(s&v)===0&&(v=y&-y,c=s&-s,v>=c||v===32&&(c&4194048)!==0)?s:y}function hn(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function En(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Em(){var i=Yt;return Yt<<=1,(Yt&4194048)===0&&(Yt=256),i}function km(){var i=Dn;return Dn<<=1,(Dn&62914560)===0&&(Dn=4194304),i}function uc(i){for(var s=[],c=0;31>c;c++)s.push(i);return s}function Ps(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function hb(i,s,c,d,y,v){var T=i.pendingLanes;i.pendingLanes=c,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=c,i.entangledLanes&=c,i.errorRecoveryDisabledLanes&=c,i.shellSuspendCounter=0;var k=i.entanglements,U=i.expirationTimes,ee=i.hiddenUpdates;for(c=T&~c;0<c;){var le=31-xe(c),oe=1<<le;k[le]=0,U[le]=-1;var te=ee[le];if(te!==null)for(ee[le]=null,le=0;le<te.length;le++){var ie=te[le];ie!==null&&(ie.lane&=-536870913)}c&=~oe}d!==0&&Am(i,d,0),v!==0&&y===0&&i.tag!==0&&(i.suspendedLanes|=v&~(T&~s))}function Am(i,s,c){i.pendingLanes|=s,i.suspendedLanes&=~s;var d=31-xe(s);i.entangledLanes|=s,i.entanglements[d]=i.entanglements[d]|1073741824|c&4194090}function _m(i,s){var c=i.entangledLanes|=s;for(i=i.entanglements;c;){var d=31-xe(c),y=1<<d;y&s|i[d]&s&&(i[d]|=s),c&=~y}}function dc(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function fc(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function jm(){var i=Y.p;return i!==0?i:(i=window.event,i===void 0?32:c0(i.type))}function pb(i,s){var c=Y.p;try{return Y.p=i,s()}finally{Y.p=c}}var Ni=Math.random().toString(36).slice(2),zt="__reactFiber$"+Ni,Jt="__reactProps$"+Ni,Ar="__reactContainer$"+Ni,mc="__reactEvents$"+Ni,gb="__reactListeners$"+Ni,xb="__reactHandles$"+Ni,Mm="__reactResources$"+Ni,Os="__reactMarker$"+Ni;function hc(i){delete i[zt],delete i[Jt],delete i[mc],delete i[gb],delete i[xb]}function _r(i){var s=i[zt];if(s)return s;for(var c=i.parentNode;c;){if(s=c[Ar]||c[zt]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(i=Jg(i);i!==null;){if(c=i[zt])return c;i=Jg(i)}return s}i=c,c=i.parentNode}return null}function jr(i){if(i=i[zt]||i[Ar]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function Bs(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function Mr(i){var s=i[Mm];return s||(s=i[Mm]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Rt(i){i[Os]=!0}var Rm=new Set,Im={};function er(i,s){Rr(i,s),Rr(i+"Capture",s)}function Rr(i,s){for(Im[i]=s,i=0;i<s.length;i++)Rm.add(s[i])}var yb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Dm={},Lm={};function vb(i){return nt.call(Lm,i)?!0:nt.call(Dm,i)?!1:yb.test(i)?Lm[i]=!0:(Dm[i]=!0,!1)}function aa(i,s,c){if(vb(s))if(c===null)i.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var d=s.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+c)}}function oa(i,s,c){if(c===null)i.removeAttribute(s);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+c)}}function Xn(i,s,c,d){if(d===null)i.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(c);return}i.setAttributeNS(s,c,""+d)}}var pc,Pm;function Ir(i){if(pc===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);pc=s&&s[1]||"",Pm=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pc+i+Pm}var gc=!1;function xc(i,s){if(!i||gc)return"";gc=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(s){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(ie){var te=ie}Reflect.construct(i,[],oe)}else{try{oe.call()}catch(ie){te=ie}i.call(oe.prototype)}}else{try{throw Error()}catch(ie){te=ie}(oe=i())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(ie){if(ie&&te&&typeof ie.stack=="string")return[ie.stack,te.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=d.DetermineComponentFrameRoot(),T=v[0],k=v[1];if(T&&k){var U=T.split(`
`),ee=k.split(`
`);for(y=d=0;d<U.length&&!U[d].includes("DetermineComponentFrameRoot");)d++;for(;y<ee.length&&!ee[y].includes("DetermineComponentFrameRoot");)y++;if(d===U.length||y===ee.length)for(d=U.length-1,y=ee.length-1;1<=d&&0<=y&&U[d]!==ee[y];)y--;for(;1<=d&&0<=y;d--,y--)if(U[d]!==ee[y]){if(d!==1||y!==1)do if(d--,y--,0>y||U[d]!==ee[y]){var le=`
`+U[d].replace(" at new "," at ");return i.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",i.displayName)),le}while(1<=d&&0<=y);break}}}finally{gc=!1,Error.prepareStackTrace=c}return(c=i?i.displayName||i.name:"")?Ir(c):""}function bb(i){switch(i.tag){case 26:case 27:case 5:return Ir(i.type);case 16:return Ir("Lazy");case 13:return Ir("Suspense");case 19:return Ir("SuspenseList");case 0:case 15:return xc(i.type,!1);case 11:return xc(i.type.render,!1);case 1:return xc(i.type,!0);case 31:return Ir("Activity");default:return""}}function Om(i){try{var s="";do s+=bb(i),i=i.return;while(i);return s}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function pn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Bm(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function wb(i){var s=Bm(i)?"checked":"value",c=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),d=""+i[s];if(!i.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,v=c.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return y.call(this)},set:function(T){d=""+T,v.call(this,T)}}),Object.defineProperty(i,s,{enumerable:c.enumerable}),{getValue:function(){return d},setValue:function(T){d=""+T},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function ca(i){i._valueTracker||(i._valueTracker=wb(i))}function Um(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var c=s.getValue(),d="";return i&&(d=Bm(i)?i.checked?"true":"false":i.value),i=d,i!==c?(s.setValue(i),!0):!1}function ua(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Nb=/[\n"\\]/g;function gn(i){return i.replace(Nb,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function yc(i,s,c,d,y,v,T,k){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),s!=null?T==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+pn(s)):i.value!==""+pn(s)&&(i.value=""+pn(s)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),s!=null?vc(i,T,pn(s)):c!=null?vc(i,T,pn(c)):d!=null&&i.removeAttribute("value"),y==null&&v!=null&&(i.defaultChecked=!!v),y!=null&&(i.checked=y&&typeof y!="function"&&typeof y!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?i.name=""+pn(k):i.removeAttribute("name")}function zm(i,s,c,d,y,v,T,k){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.type=v),s!=null||c!=null){if(!(v!=="submit"&&v!=="reset"||s!=null))return;c=c!=null?""+pn(c):"",s=s!=null?""+pn(s):c,k||s===i.value||(i.value=s),i.defaultValue=s}d=d??y,d=typeof d!="function"&&typeof d!="symbol"&&!!d,i.checked=k?i.checked:!!d,i.defaultChecked=!!d,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T)}function vc(i,s,c){s==="number"&&ua(i.ownerDocument)===i||i.defaultValue===""+c||(i.defaultValue=""+c)}function Dr(i,s,c,d){if(i=i.options,s){s={};for(var y=0;y<c.length;y++)s["$"+c[y]]=!0;for(c=0;c<i.length;c++)y=s.hasOwnProperty("$"+i[c].value),i[c].selected!==y&&(i[c].selected=y),y&&d&&(i[c].defaultSelected=!0)}else{for(c=""+pn(c),s=null,y=0;y<i.length;y++){if(i[y].value===c){i[y].selected=!0,d&&(i[y].defaultSelected=!0);return}s!==null||i[y].disabled||(s=i[y])}s!==null&&(s.selected=!0)}}function Vm(i,s,c){if(s!=null&&(s=""+pn(s),s!==i.value&&(i.value=s),c==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=c!=null?""+pn(c):""}function $m(i,s,c,d){if(s==null){if(d!=null){if(c!=null)throw Error(r(92));if(ne(d)){if(1<d.length)throw Error(r(93));d=d[0]}c=d}c==null&&(c=""),s=c}c=pn(s),i.defaultValue=c,d=i.textContent,d===c&&d!==""&&d!==null&&(i.value=d)}function Lr(i,s){if(s){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=s;return}}i.textContent=s}var Sb=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qm(i,s,c){var d=s.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?d?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":d?i.setProperty(s,c):typeof c!="number"||c===0||Sb.has(s)?s==="float"?i.cssFloat=c:i[s]=(""+c).trim():i[s]=c+"px"}function Fm(i,s,c){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,c!=null){for(var d in c)!c.hasOwnProperty(d)||s!=null&&s.hasOwnProperty(d)||(d.indexOf("--")===0?i.setProperty(d,""):d==="float"?i.cssFloat="":i[d]="");for(var y in s)d=s[y],s.hasOwnProperty(y)&&c[y]!==d&&qm(i,y,d)}else for(var v in s)s.hasOwnProperty(v)&&qm(i,v,s[v])}function bc(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cb=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tb=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function da(i){return Tb.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var wc=null;function Nc(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Pr=null,Or=null;function Hm(i){var s=jr(i);if(s&&(i=s.stateNode)){var c=i[Jt]||null;e:switch(i=s.stateNode,s.type){case"input":if(yc(i,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),s=c.name,c.type==="radio"&&s!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+gn(""+s)+'"][type="radio"]'),s=0;s<c.length;s++){var d=c[s];if(d!==i&&d.form===i.form){var y=d[Jt]||null;if(!y)throw Error(r(90));yc(d,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(s=0;s<c.length;s++)d=c[s],d.form===i.form&&Um(d)}break e;case"textarea":Vm(i,c.value,c.defaultValue);break e;case"select":s=c.value,s!=null&&Dr(i,!!c.multiple,s,!1)}}}var Sc=!1;function Gm(i,s,c){if(Sc)return i(s,c);Sc=!0;try{var d=i(s);return d}finally{if(Sc=!1,(Pr!==null||Or!==null)&&(Qa(),Pr&&(s=Pr,i=Or,Or=Pr=null,Hm(s),i)))for(s=0;s<i.length;s++)Hm(i[s])}}function Us(i,s){var c=i.stateNode;if(c===null)return null;var d=c[Jt]||null;if(d===null)return null;c=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(i=i.type,d=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!d;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(r(231,s,typeof c));return c}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cc=!1;if(ei)try{var zs={};Object.defineProperty(zs,"passive",{get:function(){Cc=!0}}),window.addEventListener("test",zs,zs),window.removeEventListener("test",zs,zs)}catch{Cc=!1}var Si=null,Tc=null,fa=null;function Ym(){if(fa)return fa;var i,s=Tc,c=s.length,d,y="value"in Si?Si.value:Si.textContent,v=y.length;for(i=0;i<c&&s[i]===y[i];i++);var T=c-i;for(d=1;d<=T&&s[c-d]===y[v-d];d++);return fa=y.slice(i,1<d?1-d:void 0)}function ma(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function ha(){return!0}function Jm(){return!1}function Zt(i){function s(c,d,y,v,T){this._reactName=c,this._targetInst=y,this.type=d,this.nativeEvent=v,this.target=T,this.currentTarget=null;for(var k in i)i.hasOwnProperty(k)&&(c=i[k],this[k]=c?c(v):v[k]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?ha:Jm,this.isPropagationStopped=Jm,this}return x(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=ha)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=ha)},persist:function(){},isPersistent:ha}),s}var tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pa=Zt(tr),Vs=x({},tr,{view:0,detail:0}),Eb=Zt(Vs),Ec,kc,$s,ga=x({},Vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_c,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==$s&&($s&&i.type==="mousemove"?(Ec=i.screenX-$s.screenX,kc=i.screenY-$s.screenY):kc=Ec=0,$s=i),Ec)},movementY:function(i){return"movementY"in i?i.movementY:kc}}),Zm=Zt(ga),kb=x({},ga,{dataTransfer:0}),Ab=Zt(kb),_b=x({},Vs,{relatedTarget:0}),Ac=Zt(_b),jb=x({},tr,{animationName:0,elapsedTime:0,pseudoElement:0}),Mb=Zt(jb),Rb=x({},tr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Ib=Zt(Rb),Db=x({},tr,{data:0}),Qm=Zt(Db),Lb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ob={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bb(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=Ob[i])?!!s[i]:!1}function _c(){return Bb}var Ub=x({},Vs,{key:function(i){if(i.key){var s=Lb[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=ma(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Pb[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_c,charCode:function(i){return i.type==="keypress"?ma(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ma(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),zb=Zt(Ub),Vb=x({},ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Km=Zt(Vb),$b=x({},Vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_c}),qb=Zt($b),Fb=x({},tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hb=Zt(Fb),Gb=x({},ga,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Yb=Zt(Gb),Jb=x({},tr,{newState:0,oldState:0}),Zb=Zt(Jb),Qb=[9,13,27,32],jc=ei&&"CompositionEvent"in window,qs=null;ei&&"documentMode"in document&&(qs=document.documentMode);var Kb=ei&&"TextEvent"in window&&!qs,Wm=ei&&(!jc||qs&&8<qs&&11>=qs),Xm=" ",eh=!1;function th(i,s){switch(i){case"keyup":return Qb.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nh(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Br=!1;function Wb(i,s){switch(i){case"compositionend":return nh(s);case"keypress":return s.which!==32?null:(eh=!0,Xm);case"textInput":return i=s.data,i===Xm&&eh?null:i;default:return null}}function Xb(i,s){if(Br)return i==="compositionend"||!jc&&th(i,s)?(i=Ym(),fa=Tc=Si=null,Br=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Wm&&s.locale!=="ko"?null:s.data;default:return null}}var e2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ih(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!e2[i.type]:s==="textarea"}function rh(i,s,c,d){Pr?Or?Or.push(d):Or=[d]:Pr=d,s=no(s,"onChange"),0<s.length&&(c=new pa("onChange","change",null,c,d),i.push({event:c,listeners:s}))}var Fs=null,Hs=null;function t2(i){Bg(i,0)}function xa(i){var s=Bs(i);if(Um(s))return i}function sh(i,s){if(i==="change")return s}var lh=!1;if(ei){var Mc;if(ei){var Rc="oninput"in document;if(!Rc){var ah=document.createElement("div");ah.setAttribute("oninput","return;"),Rc=typeof ah.oninput=="function"}Mc=Rc}else Mc=!1;lh=Mc&&(!document.documentMode||9<document.documentMode)}function oh(){Fs&&(Fs.detachEvent("onpropertychange",ch),Hs=Fs=null)}function ch(i){if(i.propertyName==="value"&&xa(Hs)){var s=[];rh(s,Hs,i,Nc(i)),Gm(t2,s)}}function n2(i,s,c){i==="focusin"?(oh(),Fs=s,Hs=c,Fs.attachEvent("onpropertychange",ch)):i==="focusout"&&oh()}function i2(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return xa(Hs)}function r2(i,s){if(i==="click")return xa(s)}function s2(i,s){if(i==="input"||i==="change")return xa(s)}function l2(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var rn=typeof Object.is=="function"?Object.is:l2;function Gs(i,s){if(rn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var c=Object.keys(i),d=Object.keys(s);if(c.length!==d.length)return!1;for(d=0;d<c.length;d++){var y=c[d];if(!nt.call(s,y)||!rn(i[y],s[y]))return!1}return!0}function uh(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function dh(i,s){var c=uh(i);i=0;for(var d;c;){if(c.nodeType===3){if(d=i+c.textContent.length,i<=s&&d>=s)return{node:c,offset:s-i};i=d}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=uh(c)}}function fh(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?fh(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function mh(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=ua(i.document);s instanceof i.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)i=s.contentWindow;else break;s=ua(i.document)}return s}function Ic(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var a2=ei&&"documentMode"in document&&11>=document.documentMode,Ur=null,Dc=null,Ys=null,Lc=!1;function hh(i,s,c){var d=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Lc||Ur==null||Ur!==ua(d)||(d=Ur,"selectionStart"in d&&Ic(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Ys&&Gs(Ys,d)||(Ys=d,d=no(Dc,"onSelect"),0<d.length&&(s=new pa("onSelect","select",null,s,c),i.push({event:s,listeners:d}),s.target=Ur)))}function nr(i,s){var c={};return c[i.toLowerCase()]=s.toLowerCase(),c["Webkit"+i]="webkit"+s,c["Moz"+i]="moz"+s,c}var zr={animationend:nr("Animation","AnimationEnd"),animationiteration:nr("Animation","AnimationIteration"),animationstart:nr("Animation","AnimationStart"),transitionrun:nr("Transition","TransitionRun"),transitionstart:nr("Transition","TransitionStart"),transitioncancel:nr("Transition","TransitionCancel"),transitionend:nr("Transition","TransitionEnd")},Pc={},ph={};ei&&(ph=document.createElement("div").style,"AnimationEvent"in window||(delete zr.animationend.animation,delete zr.animationiteration.animation,delete zr.animationstart.animation),"TransitionEvent"in window||delete zr.transitionend.transition);function ir(i){if(Pc[i])return Pc[i];if(!zr[i])return i;var s=zr[i],c;for(c in s)if(s.hasOwnProperty(c)&&c in ph)return Pc[i]=s[c];return i}var gh=ir("animationend"),xh=ir("animationiteration"),yh=ir("animationstart"),o2=ir("transitionrun"),c2=ir("transitionstart"),u2=ir("transitioncancel"),vh=ir("transitionend"),bh=new Map,Oc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Oc.push("scrollEnd");function kn(i,s){bh.set(i,s),er(s,[i])}var wh=new WeakMap;function xn(i,s){if(typeof i=="object"&&i!==null){var c=wh.get(i);return c!==void 0?c:(s={value:i,source:s,stack:Om(s)},wh.set(i,s),s)}return{value:i,source:s,stack:Om(s)}}var yn=[],Vr=0,Bc=0;function ya(){for(var i=Vr,s=Bc=Vr=0;s<i;){var c=yn[s];yn[s++]=null;var d=yn[s];yn[s++]=null;var y=yn[s];yn[s++]=null;var v=yn[s];if(yn[s++]=null,d!==null&&y!==null){var T=d.pending;T===null?y.next=y:(y.next=T.next,T.next=y),d.pending=y}v!==0&&Nh(c,y,v)}}function va(i,s,c,d){yn[Vr++]=i,yn[Vr++]=s,yn[Vr++]=c,yn[Vr++]=d,Bc|=d,i.lanes|=d,i=i.alternate,i!==null&&(i.lanes|=d)}function Uc(i,s,c,d){return va(i,s,c,d),ba(i)}function $r(i,s){return va(i,null,null,s),ba(i)}function Nh(i,s,c){i.lanes|=c;var d=i.alternate;d!==null&&(d.lanes|=c);for(var y=!1,v=i.return;v!==null;)v.childLanes|=c,d=v.alternate,d!==null&&(d.childLanes|=c),v.tag===22&&(i=v.stateNode,i===null||i._visibility&1||(y=!0)),i=v,v=v.return;return i.tag===3?(v=i.stateNode,y&&s!==null&&(y=31-xe(c),i=v.hiddenUpdates,d=i[y],d===null?i[y]=[s]:d.push(s),s.lane=c|536870912),v):null}function ba(i){if(50<yl)throw yl=0,Hu=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var qr={};function d2(i,s,c,d){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(i,s,c,d){return new d2(i,s,c,d)}function zc(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ti(i,s){var c=i.alternate;return c===null?(c=sn(i.tag,s,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=s,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&65011712,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,s=i.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c.refCleanup=i.refCleanup,c}function Sh(i,s){i.flags&=65011714;var c=i.alternate;return c===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=c.childLanes,i.lanes=c.lanes,i.child=c.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=c.memoizedProps,i.memoizedState=c.memoizedState,i.updateQueue=c.updateQueue,i.type=c.type,s=c.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function wa(i,s,c,d,y,v){var T=0;if(d=i,typeof i=="function")zc(i)&&(T=1);else if(typeof i=="string")T=mw(i,c,ge.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case z:return i=sn(31,c,s,y),i.elementType=z,i.lanes=v,i;case C:return rr(c.children,y,v,s);case E:T=8,y|=24;break;case _:return i=sn(12,c,s,y|2),i.elementType=_,i.lanes=v,i;case Z:return i=sn(13,c,s,y),i.elementType=Z,i.lanes=v,i;case L:return i=sn(19,c,s,y),i.elementType=L,i.lanes=v,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case A:case D:T=10;break e;case P:T=9;break e;case $:T=11;break e;case R:T=14;break e;case B:T=16,d=null;break e}T=29,c=Error(r(130,i===null?"null":typeof i,"")),d=null}return s=sn(T,c,s,y),s.elementType=i,s.type=d,s.lanes=v,s}function rr(i,s,c,d){return i=sn(7,i,d,s),i.lanes=c,i}function Vc(i,s,c){return i=sn(6,i,null,s),i.lanes=c,i}function $c(i,s,c){return s=sn(4,i.children!==null?i.children:[],i.key,s),s.lanes=c,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Fr=[],Hr=0,Na=null,Sa=0,vn=[],bn=0,sr=null,ni=1,ii="";function lr(i,s){Fr[Hr++]=Sa,Fr[Hr++]=Na,Na=i,Sa=s}function Ch(i,s,c){vn[bn++]=ni,vn[bn++]=ii,vn[bn++]=sr,sr=i;var d=ni;i=ii;var y=32-xe(d)-1;d&=~(1<<y),c+=1;var v=32-xe(s)+y;if(30<v){var T=y-y%5;v=(d&(1<<T)-1).toString(32),d>>=T,y-=T,ni=1<<32-xe(s)+y|c<<y|d,ii=v+i}else ni=1<<v|c<<y|d,ii=i}function qc(i){i.return!==null&&(lr(i,1),Ch(i,1,0))}function Fc(i){for(;i===Na;)Na=Fr[--Hr],Fr[Hr]=null,Sa=Fr[--Hr],Fr[Hr]=null;for(;i===sr;)sr=vn[--bn],vn[bn]=null,ii=vn[--bn],vn[bn]=null,ni=vn[--bn],vn[bn]=null}var Ft=null,vt=null,We=!1,ar=null,Ln=!1,Hc=Error(r(519));function or(i){var s=Error(r(418,""));throw Qs(xn(s,i)),Hc}function Th(i){var s=i.stateNode,c=i.type,d=i.memoizedProps;switch(s[zt]=i,s[Jt]=d,c){case"dialog":He("cancel",s),He("close",s);break;case"iframe":case"object":case"embed":He("load",s);break;case"video":case"audio":for(c=0;c<bl.length;c++)He(bl[c],s);break;case"source":He("error",s);break;case"img":case"image":case"link":He("error",s),He("load",s);break;case"details":He("toggle",s);break;case"input":He("invalid",s),zm(s,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0),ca(s);break;case"select":He("invalid",s);break;case"textarea":He("invalid",s),$m(s,d.value,d.defaultValue,d.children),ca(s)}c=d.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||s.textContent===""+c||d.suppressHydrationWarning===!0||$g(s.textContent,c)?(d.popover!=null&&(He("beforetoggle",s),He("toggle",s)),d.onScroll!=null&&He("scroll",s),d.onScrollEnd!=null&&He("scrollend",s),d.onClick!=null&&(s.onclick=io),s=!0):s=!1,s||or(i)}function Eh(i){for(Ft=i.return;Ft;)switch(Ft.tag){case 5:case 13:Ln=!1;return;case 27:case 3:Ln=!0;return;default:Ft=Ft.return}}function Js(i){if(i!==Ft)return!1;if(!We)return Eh(i),We=!0,!1;var s=i.tag,c;if((c=s!==3&&s!==27)&&((c=s===5)&&(c=i.type,c=!(c!=="form"&&c!=="button")||ad(i.type,i.memoizedProps)),c=!c),c&&vt&&or(i),Eh(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(c=i.data,c==="/$"){if(s===0){vt=_n(i.nextSibling);break e}s--}else c!=="$"&&c!=="$!"&&c!=="$?"||s++;i=i.nextSibling}vt=null}}else s===27?(s=vt,Ui(i.type)?(i=dd,dd=null,vt=i):vt=s):vt=Ft?_n(i.stateNode.nextSibling):null;return!0}function Zs(){vt=Ft=null,We=!1}function kh(){var i=ar;return i!==null&&(Wt===null?Wt=i:Wt.push.apply(Wt,i),ar=null),i}function Qs(i){ar===null?ar=[i]:ar.push(i)}var Gc=F(null),cr=null,ri=null;function Ci(i,s,c){j(Gc,s._currentValue),s._currentValue=c}function si(i){i._currentValue=Gc.current,re(Gc)}function Yc(i,s,c){for(;i!==null;){var d=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),i===c)break;i=i.return}}function Jc(i,s,c,d){var y=i.child;for(y!==null&&(y.return=i);y!==null;){var v=y.dependencies;if(v!==null){var T=y.child;v=v.firstContext;e:for(;v!==null;){var k=v;v=y;for(var U=0;U<s.length;U++)if(k.context===s[U]){v.lanes|=c,k=v.alternate,k!==null&&(k.lanes|=c),Yc(v.return,c,i),d||(T=null);break e}v=k.next}}else if(y.tag===18){if(T=y.return,T===null)throw Error(r(341));T.lanes|=c,v=T.alternate,v!==null&&(v.lanes|=c),Yc(T,c,i),T=null}else T=y.child;if(T!==null)T.return=y;else for(T=y;T!==null;){if(T===i){T=null;break}if(y=T.sibling,y!==null){y.return=T.return,T=y;break}T=T.return}y=T}}function Ks(i,s,c,d){i=null;for(var y=s,v=!1;y!==null;){if(!v){if((y.flags&524288)!==0)v=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var T=y.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var k=y.type;rn(y.pendingProps.value,T.value)||(i!==null?i.push(k):i=[k])}}else if(y===Te.current){if(T=y.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(i!==null?i.push(El):i=[El])}y=y.return}i!==null&&Jc(s,i,c,d),s.flags|=262144}function Ca(i){for(i=i.firstContext;i!==null;){if(!rn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function ur(i){cr=i,ri=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Vt(i){return Ah(cr,i)}function Ta(i,s){return cr===null&&ur(i),Ah(i,s)}function Ah(i,s){var c=s._currentValue;if(s={context:s,memoizedValue:c,next:null},ri===null){if(i===null)throw Error(r(308));ri=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else ri=ri.next=s;return c}var f2=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(c,d){i.push(d)}};this.abort=function(){s.aborted=!0,i.forEach(function(c){return c()})}},m2=t.unstable_scheduleCallback,h2=t.unstable_NormalPriority,kt={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zc(){return{controller:new f2,data:new Map,refCount:0}}function Ws(i){i.refCount--,i.refCount===0&&m2(h2,function(){i.controller.abort()})}var Xs=null,Qc=0,Gr=0,Yr=null;function p2(i,s){if(Xs===null){var c=Xs=[];Qc=0,Gr=Wu(),Yr={status:"pending",value:void 0,then:function(d){c.push(d)}}}return Qc++,s.then(_h,_h),s}function _h(){if(--Qc===0&&Xs!==null){Yr!==null&&(Yr.status="fulfilled");var i=Xs;Xs=null,Gr=0,Yr=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function g2(i,s){var c=[],d={status:"pending",value:null,reason:null,then:function(y){c.push(y)}};return i.then(function(){d.status="fulfilled",d.value=s;for(var y=0;y<c.length;y++)(0,c[y])(s)},function(y){for(d.status="rejected",d.reason=y,y=0;y<c.length;y++)(0,c[y])(void 0)}),d}var jh=I.S;I.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&p2(i,s),jh!==null&&jh(i,s)};var dr=F(null);function Kc(){var i=dr.current;return i!==null?i:at.pooledCache}function Ea(i,s){s===null?j(dr,dr.current):j(dr,s.pool)}function Mh(){var i=Kc();return i===null?null:{parent:kt._currentValue,pool:i}}var el=Error(r(460)),Rh=Error(r(474)),ka=Error(r(542)),Wc={then:function(){}};function Ih(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Aa(){}function Dh(i,s,c){switch(c=i[c],c===void 0?i.push(s):c!==s&&(s.then(Aa,Aa),s=c),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Ph(i),i;default:if(typeof s.status=="string")s.then(Aa,Aa);else{if(i=at,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(d){if(s.status==="pending"){var y=s;y.status="fulfilled",y.value=d}},function(d){if(s.status==="pending"){var y=s;y.status="rejected",y.reason=d}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,Ph(i),i}throw tl=s,el}}var tl=null;function Lh(){if(tl===null)throw Error(r(459));var i=tl;return tl=null,i}function Ph(i){if(i===el||i===ka)throw Error(r(483))}var Ti=!1;function Xc(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function eu(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ei(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ki(i,s,c){var d=i.updateQueue;if(d===null)return null;if(d=d.shared,(et&2)!==0){var y=d.pending;return y===null?s.next=s:(s.next=y.next,y.next=s),d.pending=s,s=ba(i),Nh(i,null,c),s}return va(i,d,s,c),ba(i)}function nl(i,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194048)!==0)){var d=s.lanes;d&=i.pendingLanes,c|=d,s.lanes=c,_m(i,c)}}function tu(i,s){var c=i.updateQueue,d=i.alternate;if(d!==null&&(d=d.updateQueue,c===d)){var y=null,v=null;if(c=c.firstBaseUpdate,c!==null){do{var T={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};v===null?y=v=T:v=v.next=T,c=c.next}while(c!==null);v===null?y=v=s:v=v.next=s}else y=v=s;c={baseState:d.baseState,firstBaseUpdate:y,lastBaseUpdate:v,shared:d.shared,callbacks:d.callbacks},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=s:i.next=s,c.lastBaseUpdate=s}var nu=!1;function il(){if(nu){var i=Yr;if(i!==null)throw i}}function rl(i,s,c,d){nu=!1;var y=i.updateQueue;Ti=!1;var v=y.firstBaseUpdate,T=y.lastBaseUpdate,k=y.shared.pending;if(k!==null){y.shared.pending=null;var U=k,ee=U.next;U.next=null,T===null?v=ee:T.next=ee,T=U;var le=i.alternate;le!==null&&(le=le.updateQueue,k=le.lastBaseUpdate,k!==T&&(k===null?le.firstBaseUpdate=ee:k.next=ee,le.lastBaseUpdate=U))}if(v!==null){var oe=y.baseState;T=0,le=ee=U=null,k=v;do{var te=k.lane&-536870913,ie=te!==k.lane;if(ie?(Ze&te)===te:(d&te)===te){te!==0&&te===Gr&&(nu=!0),le!==null&&(le=le.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var Re=i,je=k;te=s;var st=c;switch(je.tag){case 1:if(Re=je.payload,typeof Re=="function"){oe=Re.call(st,oe,te);break e}oe=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=je.payload,te=typeof Re=="function"?Re.call(st,oe,te):Re,te==null)break e;oe=x({},oe,te);break e;case 2:Ti=!0}}te=k.callback,te!==null&&(i.flags|=64,ie&&(i.flags|=8192),ie=y.callbacks,ie===null?y.callbacks=[te]:ie.push(te))}else ie={lane:te,tag:k.tag,payload:k.payload,callback:k.callback,next:null},le===null?(ee=le=ie,U=oe):le=le.next=ie,T|=te;if(k=k.next,k===null){if(k=y.shared.pending,k===null)break;ie=k,k=ie.next,ie.next=null,y.lastBaseUpdate=ie,y.shared.pending=null}}while(!0);le===null&&(U=oe),y.baseState=U,y.firstBaseUpdate=ee,y.lastBaseUpdate=le,v===null&&(y.shared.lanes=0),Li|=T,i.lanes=T,i.memoizedState=oe}}function Oh(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function Bh(i,s){var c=i.callbacks;if(c!==null)for(i.callbacks=null,i=0;i<c.length;i++)Oh(c[i],s)}var Jr=F(null),_a=F(0);function Uh(i,s){i=fi,j(_a,i),j(Jr,s),fi=i|s.baseLanes}function iu(){j(_a,fi),j(Jr,Jr.current)}function ru(){fi=_a.current,re(Jr),re(_a)}var Ai=0,$e=null,it=null,St=null,ja=!1,Zr=!1,fr=!1,Ma=0,sl=0,Qr=null,x2=0;function wt(){throw Error(r(321))}function su(i,s){if(s===null)return!1;for(var c=0;c<s.length&&c<i.length;c++)if(!rn(i[c],s[c]))return!1;return!0}function lu(i,s,c,d,y,v){return Ai=v,$e=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,I.H=i===null||i.memoizedState===null?Np:Sp,fr=!1,v=c(d,y),fr=!1,Zr&&(v=Vh(s,c,d,y)),zh(i),v}function zh(i){I.H=Oa;var s=it!==null&&it.next!==null;if(Ai=0,St=it=$e=null,ja=!1,sl=0,Qr=null,s)throw Error(r(300));i===null||It||(i=i.dependencies,i!==null&&Ca(i)&&(It=!0))}function Vh(i,s,c,d){$e=i;var y=0;do{if(Zr&&(Qr=null),sl=0,Zr=!1,25<=y)throw Error(r(301));if(y+=1,St=it=null,i.updateQueue!=null){var v=i.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}I.H=C2,v=s(c,d)}while(Zr);return v}function y2(){var i=I.H,s=i.useState()[0];return s=typeof s.then=="function"?ll(s):s,i=i.useState()[0],(it!==null?it.memoizedState:null)!==i&&($e.flags|=1024),s}function au(){var i=Ma!==0;return Ma=0,i}function ou(i,s,c){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~c}function cu(i){if(ja){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}ja=!1}Ai=0,St=it=$e=null,Zr=!1,sl=Ma=0,Qr=null}function Qt(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?$e.memoizedState=St=i:St=St.next=i,St}function Ct(){if(it===null){var i=$e.alternate;i=i!==null?i.memoizedState:null}else i=it.next;var s=St===null?$e.memoizedState:St.next;if(s!==null)St=s,it=i;else{if(i===null)throw $e.alternate===null?Error(r(467)):Error(r(310));it=i,i={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},St===null?$e.memoizedState=St=i:St=St.next=i}return St}function uu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ll(i){var s=sl;return sl+=1,Qr===null&&(Qr=[]),i=Dh(Qr,i,s),s=$e,(St===null?s.memoizedState:St.next)===null&&(s=s.alternate,I.H=s===null||s.memoizedState===null?Np:Sp),i}function Ra(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return ll(i);if(i.$$typeof===D)return Vt(i)}throw Error(r(438,String(i)))}function du(i){var s=null,c=$e.updateQueue;if(c!==null&&(s=c.memoCache),s==null){var d=$e.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(s={data:d.data.map(function(y){return y.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),c===null&&(c=uu(),$e.updateQueue=c),c.memoCache=s,c=s.data[s.index],c===void 0)for(c=s.data[s.index]=Array(i),d=0;d<i;d++)c[d]=X;return s.index++,c}function li(i,s){return typeof s=="function"?s(i):s}function Ia(i){var s=Ct();return fu(s,it,i)}function fu(i,s,c){var d=i.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=c;var y=i.baseQueue,v=d.pending;if(v!==null){if(y!==null){var T=y.next;y.next=v.next,v.next=T}s.baseQueue=y=v,d.pending=null}if(v=i.baseState,y===null)i.memoizedState=v;else{s=y.next;var k=T=null,U=null,ee=s,le=!1;do{var oe=ee.lane&-536870913;if(oe!==ee.lane?(Ze&oe)===oe:(Ai&oe)===oe){var te=ee.revertLane;if(te===0)U!==null&&(U=U.next={lane:0,revertLane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),oe===Gr&&(le=!0);else if((Ai&te)===te){ee=ee.next,te===Gr&&(le=!0);continue}else oe={lane:0,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},U===null?(k=U=oe,T=v):U=U.next=oe,$e.lanes|=te,Li|=te;oe=ee.action,fr&&c(v,oe),v=ee.hasEagerState?ee.eagerState:c(v,oe)}else te={lane:oe,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},U===null?(k=U=te,T=v):U=U.next=te,$e.lanes|=oe,Li|=oe;ee=ee.next}while(ee!==null&&ee!==s);if(U===null?T=v:U.next=k,!rn(v,i.memoizedState)&&(It=!0,le&&(c=Yr,c!==null)))throw c;i.memoizedState=v,i.baseState=T,i.baseQueue=U,d.lastRenderedState=v}return y===null&&(d.lanes=0),[i.memoizedState,d.dispatch]}function mu(i){var s=Ct(),c=s.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=i;var d=c.dispatch,y=c.pending,v=s.memoizedState;if(y!==null){c.pending=null;var T=y=y.next;do v=i(v,T.action),T=T.next;while(T!==y);rn(v,s.memoizedState)||(It=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),c.lastRenderedState=v}return[v,d]}function $h(i,s,c){var d=$e,y=Ct(),v=We;if(v){if(c===void 0)throw Error(r(407));c=c()}else c=s();var T=!rn((it||y).memoizedState,c);T&&(y.memoizedState=c,It=!0),y=y.queue;var k=Hh.bind(null,d,y,i);if(al(2048,8,k,[i]),y.getSnapshot!==s||T||St!==null&&St.memoizedState.tag&1){if(d.flags|=2048,Kr(9,Da(),Fh.bind(null,d,y,c,s),null),at===null)throw Error(r(349));v||(Ai&124)!==0||qh(d,s,c)}return c}function qh(i,s,c){i.flags|=16384,i={getSnapshot:s,value:c},s=$e.updateQueue,s===null?(s=uu(),$e.updateQueue=s,s.stores=[i]):(c=s.stores,c===null?s.stores=[i]:c.push(i))}function Fh(i,s,c,d){s.value=c,s.getSnapshot=d,Gh(s)&&Yh(i)}function Hh(i,s,c){return c(function(){Gh(s)&&Yh(i)})}function Gh(i){var s=i.getSnapshot;i=i.value;try{var c=s();return!rn(i,c)}catch{return!0}}function Yh(i){var s=$r(i,2);s!==null&&un(s,i,2)}function hu(i){var s=Qt();if(typeof i=="function"){var c=i;if(i=c(),fr){pe(!0);try{c()}finally{pe(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:i},s}function Jh(i,s,c,d){return i.baseState=c,fu(i,it,typeof d=="function"?d:li)}function v2(i,s,c,d,y){if(Pa(i))throw Error(r(485));if(i=s.action,i!==null){var v={payload:y,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){v.listeners.push(T)}};I.T!==null?c(!0):v.isTransition=!1,d(v),c=s.pending,c===null?(v.next=s.pending=v,Zh(s,v)):(v.next=c.next,s.pending=c.next=v)}}function Zh(i,s){var c=s.action,d=s.payload,y=i.state;if(s.isTransition){var v=I.T,T={};I.T=T;try{var k=c(y,d),U=I.S;U!==null&&U(T,k),Qh(i,s,k)}catch(ee){pu(i,s,ee)}finally{I.T=v}}else try{v=c(y,d),Qh(i,s,v)}catch(ee){pu(i,s,ee)}}function Qh(i,s,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(d){Kh(i,s,d)},function(d){return pu(i,s,d)}):Kh(i,s,c)}function Kh(i,s,c){s.status="fulfilled",s.value=c,Wh(s),i.state=c,s=i.pending,s!==null&&(c=s.next,c===s?i.pending=null:(c=c.next,s.next=c,Zh(i,c)))}function pu(i,s,c){var d=i.pending;if(i.pending=null,d!==null){d=d.next;do s.status="rejected",s.reason=c,Wh(s),s=s.next;while(s!==d)}i.action=null}function Wh(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function Xh(i,s){return s}function ep(i,s){if(We){var c=at.formState;if(c!==null){e:{var d=$e;if(We){if(vt){t:{for(var y=vt,v=Ln;y.nodeType!==8;){if(!v){y=null;break t}if(y=_n(y.nextSibling),y===null){y=null;break t}}v=y.data,y=v==="F!"||v==="F"?y:null}if(y){vt=_n(y.nextSibling),d=y.data==="F!";break e}}or(d)}d=!1}d&&(s=c[0])}}return c=Qt(),c.memoizedState=c.baseState=s,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Xh,lastRenderedState:s},c.queue=d,c=vp.bind(null,$e,d),d.dispatch=c,d=hu(!1),v=bu.bind(null,$e,!1,d.queue),d=Qt(),y={state:s,dispatch:null,action:i,pending:null},d.queue=y,c=v2.bind(null,$e,y,v,c),y.dispatch=c,d.memoizedState=i,[s,c,!1]}function tp(i){var s=Ct();return np(s,it,i)}function np(i,s,c){if(s=fu(i,s,Xh)[0],i=Ia(li)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var d=ll(s)}catch(T){throw T===el?ka:T}else d=s;s=Ct();var y=s.queue,v=y.dispatch;return c!==s.memoizedState&&($e.flags|=2048,Kr(9,Da(),b2.bind(null,y,c),null)),[d,v,i]}function b2(i,s){i.action=s}function ip(i){var s=Ct(),c=it;if(c!==null)return np(s,c,i);Ct(),s=s.memoizedState,c=Ct();var d=c.queue.dispatch;return c.memoizedState=i,[s,d,!1]}function Kr(i,s,c,d){return i={tag:i,create:c,deps:d,inst:s,next:null},s=$e.updateQueue,s===null&&(s=uu(),$e.updateQueue=s),c=s.lastEffect,c===null?s.lastEffect=i.next=i:(d=c.next,c.next=i,i.next=d,s.lastEffect=i),i}function Da(){return{destroy:void 0,resource:void 0}}function rp(){return Ct().memoizedState}function La(i,s,c,d){var y=Qt();d=d===void 0?null:d,$e.flags|=i,y.memoizedState=Kr(1|s,Da(),c,d)}function al(i,s,c,d){var y=Ct();d=d===void 0?null:d;var v=y.memoizedState.inst;it!==null&&d!==null&&su(d,it.memoizedState.deps)?y.memoizedState=Kr(s,v,c,d):($e.flags|=i,y.memoizedState=Kr(1|s,v,c,d))}function sp(i,s){La(8390656,8,i,s)}function lp(i,s){al(2048,8,i,s)}function ap(i,s){return al(4,2,i,s)}function op(i,s){return al(4,4,i,s)}function cp(i,s){if(typeof s=="function"){i=i();var c=s(i);return function(){typeof c=="function"?c():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function up(i,s,c){c=c!=null?c.concat([i]):null,al(4,4,cp.bind(null,s,i),c)}function gu(){}function dp(i,s){var c=Ct();s=s===void 0?null:s;var d=c.memoizedState;return s!==null&&su(s,d[1])?d[0]:(c.memoizedState=[i,s],i)}function fp(i,s){var c=Ct();s=s===void 0?null:s;var d=c.memoizedState;if(s!==null&&su(s,d[1]))return d[0];if(d=i(),fr){pe(!0);try{i()}finally{pe(!1)}}return c.memoizedState=[d,s],d}function xu(i,s,c){return c===void 0||(Ai&1073741824)!==0?i.memoizedState=s:(i.memoizedState=c,i=pg(),$e.lanes|=i,Li|=i,c)}function mp(i,s,c,d){return rn(c,s)?c:Jr.current!==null?(i=xu(i,c,d),rn(i,s)||(It=!0),i):(Ai&42)===0?(It=!0,i.memoizedState=c):(i=pg(),$e.lanes|=i,Li|=i,s)}function hp(i,s,c,d,y){var v=Y.p;Y.p=v!==0&&8>v?v:8;var T=I.T,k={};I.T=k,bu(i,!1,s,c);try{var U=y(),ee=I.S;if(ee!==null&&ee(k,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var le=g2(U,d);ol(i,s,le,cn(i))}else ol(i,s,d,cn(i))}catch(oe){ol(i,s,{then:function(){},status:"rejected",reason:oe},cn())}finally{Y.p=v,I.T=T}}function w2(){}function yu(i,s,c,d){if(i.tag!==5)throw Error(r(476));var y=pp(i).queue;hp(i,y,s,ue,c===null?w2:function(){return gp(i),c(d)})}function pp(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:ue},next:null};var c={};return s.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:li,lastRenderedState:c},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function gp(i){var s=pp(i).next.queue;ol(i,s,{},cn())}function vu(){return Vt(El)}function xp(){return Ct().memoizedState}function yp(){return Ct().memoizedState}function N2(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var c=cn();i=Ei(c);var d=ki(s,i,c);d!==null&&(un(d,s,c),nl(d,s,c)),s={cache:Zc()},i.payload=s;return}s=s.return}}function S2(i,s,c){var d=cn();c={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},Pa(i)?bp(s,c):(c=Uc(i,s,c,d),c!==null&&(un(c,i,d),wp(c,s,d)))}function vp(i,s,c){var d=cn();ol(i,s,c,d)}function ol(i,s,c,d){var y={lane:d,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(Pa(i))bp(s,y);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var T=s.lastRenderedState,k=v(T,c);if(y.hasEagerState=!0,y.eagerState=k,rn(k,T))return va(i,s,y,0),at===null&&ya(),!1}catch{}finally{}if(c=Uc(i,s,y,d),c!==null)return un(c,i,d),wp(c,s,d),!0}return!1}function bu(i,s,c,d){if(d={lane:2,revertLane:Wu(),action:d,hasEagerState:!1,eagerState:null,next:null},Pa(i)){if(s)throw Error(r(479))}else s=Uc(i,c,d,2),s!==null&&un(s,i,2)}function Pa(i){var s=i.alternate;return i===$e||s!==null&&s===$e}function bp(i,s){Zr=ja=!0;var c=i.pending;c===null?s.next=s:(s.next=c.next,c.next=s),i.pending=s}function wp(i,s,c){if((c&4194048)!==0){var d=s.lanes;d&=i.pendingLanes,c|=d,s.lanes=c,_m(i,c)}}var Oa={readContext:Vt,use:Ra,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt},Np={readContext:Vt,use:Ra,useCallback:function(i,s){return Qt().memoizedState=[i,s===void 0?null:s],i},useContext:Vt,useEffect:sp,useImperativeHandle:function(i,s,c){c=c!=null?c.concat([i]):null,La(4194308,4,cp.bind(null,s,i),c)},useLayoutEffect:function(i,s){return La(4194308,4,i,s)},useInsertionEffect:function(i,s){La(4,2,i,s)},useMemo:function(i,s){var c=Qt();s=s===void 0?null:s;var d=i();if(fr){pe(!0);try{i()}finally{pe(!1)}}return c.memoizedState=[d,s],d},useReducer:function(i,s,c){var d=Qt();if(c!==void 0){var y=c(s);if(fr){pe(!0);try{c(s)}finally{pe(!1)}}}else y=s;return d.memoizedState=d.baseState=y,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:y},d.queue=i,i=i.dispatch=S2.bind(null,$e,i),[d.memoizedState,i]},useRef:function(i){var s=Qt();return i={current:i},s.memoizedState=i},useState:function(i){i=hu(i);var s=i.queue,c=vp.bind(null,$e,s);return s.dispatch=c,[i.memoizedState,c]},useDebugValue:gu,useDeferredValue:function(i,s){var c=Qt();return xu(c,i,s)},useTransition:function(){var i=hu(!1);return i=hp.bind(null,$e,i.queue,!0,!1),Qt().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,c){var d=$e,y=Qt();if(We){if(c===void 0)throw Error(r(407));c=c()}else{if(c=s(),at===null)throw Error(r(349));(Ze&124)!==0||qh(d,s,c)}y.memoizedState=c;var v={value:c,getSnapshot:s};return y.queue=v,sp(Hh.bind(null,d,v,i),[i]),d.flags|=2048,Kr(9,Da(),Fh.bind(null,d,v,c,s),null),c},useId:function(){var i=Qt(),s=at.identifierPrefix;if(We){var c=ii,d=ni;c=(d&~(1<<32-xe(d)-1)).toString(32)+c,s=""+s+"R"+c,c=Ma++,0<c&&(s+="H"+c.toString(32)),s+=""}else c=x2++,s=""+s+"r"+c.toString(32)+"";return i.memoizedState=s},useHostTransitionStatus:vu,useFormState:ep,useActionState:ep,useOptimistic:function(i){var s=Qt();s.memoizedState=s.baseState=i;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=c,s=bu.bind(null,$e,!0,c),c.dispatch=s,[i,s]},useMemoCache:du,useCacheRefresh:function(){return Qt().memoizedState=N2.bind(null,$e)}},Sp={readContext:Vt,use:Ra,useCallback:dp,useContext:Vt,useEffect:lp,useImperativeHandle:up,useInsertionEffect:ap,useLayoutEffect:op,useMemo:fp,useReducer:Ia,useRef:rp,useState:function(){return Ia(li)},useDebugValue:gu,useDeferredValue:function(i,s){var c=Ct();return mp(c,it.memoizedState,i,s)},useTransition:function(){var i=Ia(li)[0],s=Ct().memoizedState;return[typeof i=="boolean"?i:ll(i),s]},useSyncExternalStore:$h,useId:xp,useHostTransitionStatus:vu,useFormState:tp,useActionState:tp,useOptimistic:function(i,s){var c=Ct();return Jh(c,it,i,s)},useMemoCache:du,useCacheRefresh:yp},C2={readContext:Vt,use:Ra,useCallback:dp,useContext:Vt,useEffect:lp,useImperativeHandle:up,useInsertionEffect:ap,useLayoutEffect:op,useMemo:fp,useReducer:mu,useRef:rp,useState:function(){return mu(li)},useDebugValue:gu,useDeferredValue:function(i,s){var c=Ct();return it===null?xu(c,i,s):mp(c,it.memoizedState,i,s)},useTransition:function(){var i=mu(li)[0],s=Ct().memoizedState;return[typeof i=="boolean"?i:ll(i),s]},useSyncExternalStore:$h,useId:xp,useHostTransitionStatus:vu,useFormState:ip,useActionState:ip,useOptimistic:function(i,s){var c=Ct();return it!==null?Jh(c,it,i,s):(c.baseState=i,[i,c.queue.dispatch])},useMemoCache:du,useCacheRefresh:yp},Wr=null,cl=0;function Ba(i){var s=cl;return cl+=1,Wr===null&&(Wr=[]),Dh(Wr,i,s)}function ul(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Ua(i,s){throw s.$$typeof===b?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Cp(i){var s=i._init;return s(i._payload)}function Tp(i){function s(J,q){if(i){var W=J.deletions;W===null?(J.deletions=[q],J.flags|=16):W.push(q)}}function c(J,q){if(!i)return null;for(;q!==null;)s(J,q),q=q.sibling;return null}function d(J){for(var q=new Map;J!==null;)J.key!==null?q.set(J.key,J):q.set(J.index,J),J=J.sibling;return q}function y(J,q){return J=ti(J,q),J.index=0,J.sibling=null,J}function v(J,q,W){return J.index=W,i?(W=J.alternate,W!==null?(W=W.index,W<q?(J.flags|=67108866,q):W):(J.flags|=67108866,q)):(J.flags|=1048576,q)}function T(J){return i&&J.alternate===null&&(J.flags|=67108866),J}function k(J,q,W,ae){return q===null||q.tag!==6?(q=Vc(W,J.mode,ae),q.return=J,q):(q=y(q,W),q.return=J,q)}function U(J,q,W,ae){var we=W.type;return we===C?le(J,q,W.props.children,ae,W.key):q!==null&&(q.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===B&&Cp(we)===q.type)?(q=y(q,W.props),ul(q,W),q.return=J,q):(q=wa(W.type,W.key,W.props,null,J.mode,ae),ul(q,W),q.return=J,q)}function ee(J,q,W,ae){return q===null||q.tag!==4||q.stateNode.containerInfo!==W.containerInfo||q.stateNode.implementation!==W.implementation?(q=$c(W,J.mode,ae),q.return=J,q):(q=y(q,W.children||[]),q.return=J,q)}function le(J,q,W,ae,we){return q===null||q.tag!==7?(q=rr(W,J.mode,ae,we),q.return=J,q):(q=y(q,W),q.return=J,q)}function oe(J,q,W){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return q=Vc(""+q,J.mode,W),q.return=J,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case N:return W=wa(q.type,q.key,q.props,null,J.mode,W),ul(W,q),W.return=J,W;case w:return q=$c(q,J.mode,W),q.return=J,q;case B:var ae=q._init;return q=ae(q._payload),oe(J,q,W)}if(ne(q)||G(q))return q=rr(q,J.mode,W,null),q.return=J,q;if(typeof q.then=="function")return oe(J,Ba(q),W);if(q.$$typeof===D)return oe(J,Ta(J,q),W);Ua(J,q)}return null}function te(J,q,W,ae){var we=q!==null?q.key:null;if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return we!==null?null:k(J,q,""+W,ae);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case N:return W.key===we?U(J,q,W,ae):null;case w:return W.key===we?ee(J,q,W,ae):null;case B:return we=W._init,W=we(W._payload),te(J,q,W,ae)}if(ne(W)||G(W))return we!==null?null:le(J,q,W,ae,null);if(typeof W.then=="function")return te(J,q,Ba(W),ae);if(W.$$typeof===D)return te(J,q,Ta(J,W),ae);Ua(J,W)}return null}function ie(J,q,W,ae,we){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return J=J.get(W)||null,k(q,J,""+ae,we);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case N:return J=J.get(ae.key===null?W:ae.key)||null,U(q,J,ae,we);case w:return J=J.get(ae.key===null?W:ae.key)||null,ee(q,J,ae,we);case B:var qe=ae._init;return ae=qe(ae._payload),ie(J,q,W,ae,we)}if(ne(ae)||G(ae))return J=J.get(W)||null,le(q,J,ae,we,null);if(typeof ae.then=="function")return ie(J,q,W,Ba(ae),we);if(ae.$$typeof===D)return ie(J,q,W,Ta(q,ae),we);Ua(q,ae)}return null}function Re(J,q,W,ae){for(var we=null,qe=null,Ae=q,Me=q=0,Lt=null;Ae!==null&&Me<W.length;Me++){Ae.index>Me?(Lt=Ae,Ae=null):Lt=Ae.sibling;var Qe=te(J,Ae,W[Me],ae);if(Qe===null){Ae===null&&(Ae=Lt);break}i&&Ae&&Qe.alternate===null&&s(J,Ae),q=v(Qe,q,Me),qe===null?we=Qe:qe.sibling=Qe,qe=Qe,Ae=Lt}if(Me===W.length)return c(J,Ae),We&&lr(J,Me),we;if(Ae===null){for(;Me<W.length;Me++)Ae=oe(J,W[Me],ae),Ae!==null&&(q=v(Ae,q,Me),qe===null?we=Ae:qe.sibling=Ae,qe=Ae);return We&&lr(J,Me),we}for(Ae=d(Ae);Me<W.length;Me++)Lt=ie(Ae,J,Me,W[Me],ae),Lt!==null&&(i&&Lt.alternate!==null&&Ae.delete(Lt.key===null?Me:Lt.key),q=v(Lt,q,Me),qe===null?we=Lt:qe.sibling=Lt,qe=Lt);return i&&Ae.forEach(function(Fi){return s(J,Fi)}),We&&lr(J,Me),we}function je(J,q,W,ae){if(W==null)throw Error(r(151));for(var we=null,qe=null,Ae=q,Me=q=0,Lt=null,Qe=W.next();Ae!==null&&!Qe.done;Me++,Qe=W.next()){Ae.index>Me?(Lt=Ae,Ae=null):Lt=Ae.sibling;var Fi=te(J,Ae,Qe.value,ae);if(Fi===null){Ae===null&&(Ae=Lt);break}i&&Ae&&Fi.alternate===null&&s(J,Ae),q=v(Fi,q,Me),qe===null?we=Fi:qe.sibling=Fi,qe=Fi,Ae=Lt}if(Qe.done)return c(J,Ae),We&&lr(J,Me),we;if(Ae===null){for(;!Qe.done;Me++,Qe=W.next())Qe=oe(J,Qe.value,ae),Qe!==null&&(q=v(Qe,q,Me),qe===null?we=Qe:qe.sibling=Qe,qe=Qe);return We&&lr(J,Me),we}for(Ae=d(Ae);!Qe.done;Me++,Qe=W.next())Qe=ie(Ae,J,Me,Qe.value,ae),Qe!==null&&(i&&Qe.alternate!==null&&Ae.delete(Qe.key===null?Me:Qe.key),q=v(Qe,q,Me),qe===null?we=Qe:qe.sibling=Qe,qe=Qe);return i&&Ae.forEach(function(Tw){return s(J,Tw)}),We&&lr(J,Me),we}function st(J,q,W,ae){if(typeof W=="object"&&W!==null&&W.type===C&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case N:e:{for(var we=W.key;q!==null;){if(q.key===we){if(we=W.type,we===C){if(q.tag===7){c(J,q.sibling),ae=y(q,W.props.children),ae.return=J,J=ae;break e}}else if(q.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===B&&Cp(we)===q.type){c(J,q.sibling),ae=y(q,W.props),ul(ae,W),ae.return=J,J=ae;break e}c(J,q);break}else s(J,q);q=q.sibling}W.type===C?(ae=rr(W.props.children,J.mode,ae,W.key),ae.return=J,J=ae):(ae=wa(W.type,W.key,W.props,null,J.mode,ae),ul(ae,W),ae.return=J,J=ae)}return T(J);case w:e:{for(we=W.key;q!==null;){if(q.key===we)if(q.tag===4&&q.stateNode.containerInfo===W.containerInfo&&q.stateNode.implementation===W.implementation){c(J,q.sibling),ae=y(q,W.children||[]),ae.return=J,J=ae;break e}else{c(J,q);break}else s(J,q);q=q.sibling}ae=$c(W,J.mode,ae),ae.return=J,J=ae}return T(J);case B:return we=W._init,W=we(W._payload),st(J,q,W,ae)}if(ne(W))return Re(J,q,W,ae);if(G(W)){if(we=G(W),typeof we!="function")throw Error(r(150));return W=we.call(W),je(J,q,W,ae)}if(typeof W.then=="function")return st(J,q,Ba(W),ae);if(W.$$typeof===D)return st(J,q,Ta(J,W),ae);Ua(J,W)}return typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint"?(W=""+W,q!==null&&q.tag===6?(c(J,q.sibling),ae=y(q,W),ae.return=J,J=ae):(c(J,q),ae=Vc(W,J.mode,ae),ae.return=J,J=ae),T(J)):c(J,q)}return function(J,q,W,ae){try{cl=0;var we=st(J,q,W,ae);return Wr=null,we}catch(Ae){if(Ae===el||Ae===ka)throw Ae;var qe=sn(29,Ae,null,J.mode);return qe.lanes=ae,qe.return=J,qe}finally{}}}var Xr=Tp(!0),Ep=Tp(!1),wn=F(null),Pn=null;function _i(i){var s=i.alternate;j(At,At.current&1),j(wn,i),Pn===null&&(s===null||Jr.current!==null||s.memoizedState!==null)&&(Pn=i)}function kp(i){if(i.tag===22){if(j(At,At.current),j(wn,i),Pn===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(Pn=i)}}else ji()}function ji(){j(At,At.current),j(wn,wn.current)}function ai(i){re(wn),Pn===i&&(Pn=null),re(At)}var At=F(0);function za(i){for(var s=i;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||ud(c)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function wu(i,s,c,d){s=i.memoizedState,c=c(d,s),c=c==null?s:x({},s,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var Nu={enqueueSetState:function(i,s,c){i=i._reactInternals;var d=cn(),y=Ei(d);y.payload=s,c!=null&&(y.callback=c),s=ki(i,y,d),s!==null&&(un(s,i,d),nl(s,i,d))},enqueueReplaceState:function(i,s,c){i=i._reactInternals;var d=cn(),y=Ei(d);y.tag=1,y.payload=s,c!=null&&(y.callback=c),s=ki(i,y,d),s!==null&&(un(s,i,d),nl(s,i,d))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var c=cn(),d=Ei(c);d.tag=2,s!=null&&(d.callback=s),s=ki(i,d,c),s!==null&&(un(s,i,c),nl(s,i,c))}};function Ap(i,s,c,d,y,v,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(d,v,T):s.prototype&&s.prototype.isPureReactComponent?!Gs(c,d)||!Gs(y,v):!0}function _p(i,s,c,d){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,d),s.state!==i&&Nu.enqueueReplaceState(s,s.state,null)}function mr(i,s){var c=s;if("ref"in s){c={};for(var d in s)d!=="ref"&&(c[d]=s[d])}if(i=i.defaultProps){c===s&&(c=x({},c));for(var y in i)c[y]===void 0&&(c[y]=i[y])}return c}var Va=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function jp(i){Va(i)}function Mp(i){console.error(i)}function Rp(i){Va(i)}function $a(i,s){try{var c=i.onUncaughtError;c(s.value,{componentStack:s.stack})}catch(d){setTimeout(function(){throw d})}}function Ip(i,s,c){try{var d=i.onCaughtError;d(c.value,{componentStack:c.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Su(i,s,c){return c=Ei(c),c.tag=3,c.payload={element:null},c.callback=function(){$a(i,s)},c}function Dp(i){return i=Ei(i),i.tag=3,i}function Lp(i,s,c,d){var y=c.type.getDerivedStateFromError;if(typeof y=="function"){var v=d.value;i.payload=function(){return y(v)},i.callback=function(){Ip(s,c,d)}}var T=c.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){Ip(s,c,d),typeof y!="function"&&(Pi===null?Pi=new Set([this]):Pi.add(this));var k=d.stack;this.componentDidCatch(d.value,{componentStack:k!==null?k:""})})}function T2(i,s,c,d,y){if(c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(s=c.alternate,s!==null&&Ks(s,c,y,!0),c=wn.current,c!==null){switch(c.tag){case 13:return Pn===null?Yu():c.alternate===null&&bt===0&&(bt=3),c.flags&=-257,c.flags|=65536,c.lanes=y,d===Wc?c.flags|=16384:(s=c.updateQueue,s===null?c.updateQueue=new Set([d]):s.add(d),Zu(i,d,y)),!1;case 22:return c.flags|=65536,d===Wc?c.flags|=16384:(s=c.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([d])},c.updateQueue=s):(c=s.retryQueue,c===null?s.retryQueue=new Set([d]):c.add(d)),Zu(i,d,y)),!1}throw Error(r(435,c.tag))}return Zu(i,d,y),Yu(),!1}if(We)return s=wn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=y,d!==Hc&&(i=Error(r(422),{cause:d}),Qs(xn(i,c)))):(d!==Hc&&(s=Error(r(423),{cause:d}),Qs(xn(s,c))),i=i.current.alternate,i.flags|=65536,y&=-y,i.lanes|=y,d=xn(d,c),y=Su(i.stateNode,d,y),tu(i,y),bt!==4&&(bt=2)),!1;var v=Error(r(520),{cause:d});if(v=xn(v,c),xl===null?xl=[v]:xl.push(v),bt!==4&&(bt=2),s===null)return!0;d=xn(d,c),c=s;do{switch(c.tag){case 3:return c.flags|=65536,i=y&-y,c.lanes|=i,i=Su(c.stateNode,d,i),tu(c,i),!1;case 1:if(s=c.type,v=c.stateNode,(c.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Pi===null||!Pi.has(v))))return c.flags|=65536,y&=-y,c.lanes|=y,y=Dp(y),Lp(y,i,c,d),tu(c,y),!1}c=c.return}while(c!==null);return!1}var Pp=Error(r(461)),It=!1;function Pt(i,s,c,d){s.child=i===null?Ep(s,null,c,d):Xr(s,i.child,c,d)}function Op(i,s,c,d,y){c=c.render;var v=s.ref;if("ref"in d){var T={};for(var k in d)k!=="ref"&&(T[k]=d[k])}else T=d;return ur(s),d=lu(i,s,c,T,v,y),k=au(),i!==null&&!It?(ou(i,s,y),oi(i,s,y)):(We&&k&&qc(s),s.flags|=1,Pt(i,s,d,y),s.child)}function Bp(i,s,c,d,y){if(i===null){var v=c.type;return typeof v=="function"&&!zc(v)&&v.defaultProps===void 0&&c.compare===null?(s.tag=15,s.type=v,Up(i,s,v,d,y)):(i=wa(c.type,null,d,s,s.mode,y),i.ref=s.ref,i.return=s,s.child=i)}if(v=i.child,!Mu(i,y)){var T=v.memoizedProps;if(c=c.compare,c=c!==null?c:Gs,c(T,d)&&i.ref===s.ref)return oi(i,s,y)}return s.flags|=1,i=ti(v,d),i.ref=s.ref,i.return=s,s.child=i}function Up(i,s,c,d,y){if(i!==null){var v=i.memoizedProps;if(Gs(v,d)&&i.ref===s.ref)if(It=!1,s.pendingProps=d=v,Mu(i,y))(i.flags&131072)!==0&&(It=!0);else return s.lanes=i.lanes,oi(i,s,y)}return Cu(i,s,c,d,y)}function zp(i,s,c){var d=s.pendingProps,y=d.children,v=i!==null?i.memoizedState:null;if(d.mode==="hidden"){if((s.flags&128)!==0){if(d=v!==null?v.baseLanes|c:c,i!==null){for(y=s.child=i.child,v=0;y!==null;)v=v|y.lanes|y.childLanes,y=y.sibling;s.childLanes=v&~d}else s.childLanes=0,s.child=null;return Vp(i,s,d,c)}if((c&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Ea(s,v!==null?v.cachePool:null),v!==null?Uh(s,v):iu(),kp(s);else return s.lanes=s.childLanes=536870912,Vp(i,s,v!==null?v.baseLanes|c:c,c)}else v!==null?(Ea(s,v.cachePool),Uh(s,v),ji(),s.memoizedState=null):(i!==null&&Ea(s,null),iu(),ji());return Pt(i,s,y,c),s.child}function Vp(i,s,c,d){var y=Kc();return y=y===null?null:{parent:kt._currentValue,pool:y},s.memoizedState={baseLanes:c,cachePool:y},i!==null&&Ea(s,null),iu(),kp(s),i!==null&&Ks(i,s,d,!0),null}function qa(i,s){var c=s.ref;if(c===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(i===null||i.ref!==c)&&(s.flags|=4194816)}}function Cu(i,s,c,d,y){return ur(s),c=lu(i,s,c,d,void 0,y),d=au(),i!==null&&!It?(ou(i,s,y),oi(i,s,y)):(We&&d&&qc(s),s.flags|=1,Pt(i,s,c,y),s.child)}function $p(i,s,c,d,y,v){return ur(s),s.updateQueue=null,c=Vh(s,d,c,y),zh(i),d=au(),i!==null&&!It?(ou(i,s,v),oi(i,s,v)):(We&&d&&qc(s),s.flags|=1,Pt(i,s,c,v),s.child)}function qp(i,s,c,d,y){if(ur(s),s.stateNode===null){var v=qr,T=c.contextType;typeof T=="object"&&T!==null&&(v=Vt(T)),v=new c(d,v),s.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Nu,s.stateNode=v,v._reactInternals=s,v=s.stateNode,v.props=d,v.state=s.memoizedState,v.refs={},Xc(s),T=c.contextType,v.context=typeof T=="object"&&T!==null?Vt(T):qr,v.state=s.memoizedState,T=c.getDerivedStateFromProps,typeof T=="function"&&(wu(s,c,T,d),v.state=s.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(T=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),T!==v.state&&Nu.enqueueReplaceState(v,v.state,null),rl(s,d,v,y),il(),v.state=s.memoizedState),typeof v.componentDidMount=="function"&&(s.flags|=4194308),d=!0}else if(i===null){v=s.stateNode;var k=s.memoizedProps,U=mr(c,k);v.props=U;var ee=v.context,le=c.contextType;T=qr,typeof le=="object"&&le!==null&&(T=Vt(le));var oe=c.getDerivedStateFromProps;le=typeof oe=="function"||typeof v.getSnapshotBeforeUpdate=="function",k=s.pendingProps!==k,le||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(k||ee!==T)&&_p(s,v,d,T),Ti=!1;var te=s.memoizedState;v.state=te,rl(s,d,v,y),il(),ee=s.memoizedState,k||te!==ee||Ti?(typeof oe=="function"&&(wu(s,c,oe,d),ee=s.memoizedState),(U=Ti||Ap(s,c,U,d,te,ee,T))?(le||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(s.flags|=4194308)):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=ee),v.props=d,v.state=ee,v.context=T,d=U):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{v=s.stateNode,eu(i,s),T=s.memoizedProps,le=mr(c,T),v.props=le,oe=s.pendingProps,te=v.context,ee=c.contextType,U=qr,typeof ee=="object"&&ee!==null&&(U=Vt(ee)),k=c.getDerivedStateFromProps,(ee=typeof k=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(T!==oe||te!==U)&&_p(s,v,d,U),Ti=!1,te=s.memoizedState,v.state=te,rl(s,d,v,y),il();var ie=s.memoizedState;T!==oe||te!==ie||Ti||i!==null&&i.dependencies!==null&&Ca(i.dependencies)?(typeof k=="function"&&(wu(s,c,k,d),ie=s.memoizedState),(le=Ti||Ap(s,c,le,d,te,ie,U)||i!==null&&i.dependencies!==null&&Ca(i.dependencies))?(ee||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(d,ie,U),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(d,ie,U)),typeof v.componentDidUpdate=="function"&&(s.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof v.componentDidUpdate!="function"||T===i.memoizedProps&&te===i.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&te===i.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=ie),v.props=d,v.state=ie,v.context=U,d=le):(typeof v.componentDidUpdate!="function"||T===i.memoizedProps&&te===i.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&te===i.memoizedState||(s.flags|=1024),d=!1)}return v=d,qa(i,s),d=(s.flags&128)!==0,v||d?(v=s.stateNode,c=d&&typeof c.getDerivedStateFromError!="function"?null:v.render(),s.flags|=1,i!==null&&d?(s.child=Xr(s,i.child,null,y),s.child=Xr(s,null,c,y)):Pt(i,s,c,y),s.memoizedState=v.state,i=s.child):i=oi(i,s,y),i}function Fp(i,s,c,d){return Zs(),s.flags|=256,Pt(i,s,c,d),s.child}var Tu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Eu(i){return{baseLanes:i,cachePool:Mh()}}function ku(i,s,c){return i=i!==null?i.childLanes&~c:0,s&&(i|=Nn),i}function Hp(i,s,c){var d=s.pendingProps,y=!1,v=(s.flags&128)!==0,T;if((T=v)||(T=i!==null&&i.memoizedState===null?!1:(At.current&2)!==0),T&&(y=!0,s.flags&=-129),T=(s.flags&32)!==0,s.flags&=-33,i===null){if(We){if(y?_i(s):ji(),We){var k=vt,U;if(U=k){e:{for(U=k,k=Ln;U.nodeType!==8;){if(!k){k=null;break e}if(U=_n(U.nextSibling),U===null){k=null;break e}}k=U}k!==null?(s.memoizedState={dehydrated:k,treeContext:sr!==null?{id:ni,overflow:ii}:null,retryLane:536870912,hydrationErrors:null},U=sn(18,null,null,0),U.stateNode=k,U.return=s,s.child=U,Ft=s,vt=null,U=!0):U=!1}U||or(s)}if(k=s.memoizedState,k!==null&&(k=k.dehydrated,k!==null))return ud(k)?s.lanes=32:s.lanes=536870912,null;ai(s)}return k=d.children,d=d.fallback,y?(ji(),y=s.mode,k=Fa({mode:"hidden",children:k},y),d=rr(d,y,c,null),k.return=s,d.return=s,k.sibling=d,s.child=k,y=s.child,y.memoizedState=Eu(c),y.childLanes=ku(i,T,c),s.memoizedState=Tu,d):(_i(s),Au(s,k))}if(U=i.memoizedState,U!==null&&(k=U.dehydrated,k!==null)){if(v)s.flags&256?(_i(s),s.flags&=-257,s=_u(i,s,c)):s.memoizedState!==null?(ji(),s.child=i.child,s.flags|=128,s=null):(ji(),y=d.fallback,k=s.mode,d=Fa({mode:"visible",children:d.children},k),y=rr(y,k,c,null),y.flags|=2,d.return=s,y.return=s,d.sibling=y,s.child=d,Xr(s,i.child,null,c),d=s.child,d.memoizedState=Eu(c),d.childLanes=ku(i,T,c),s.memoizedState=Tu,s=y);else if(_i(s),ud(k)){if(T=k.nextSibling&&k.nextSibling.dataset,T)var ee=T.dgst;T=ee,d=Error(r(419)),d.stack="",d.digest=T,Qs({value:d,source:null,stack:null}),s=_u(i,s,c)}else if(It||Ks(i,s,c,!1),T=(c&i.childLanes)!==0,It||T){if(T=at,T!==null&&(d=c&-c,d=(d&42)!==0?1:dc(d),d=(d&(T.suspendedLanes|c))!==0?0:d,d!==0&&d!==U.retryLane))throw U.retryLane=d,$r(i,d),un(T,i,d),Pp;k.data==="$?"||Yu(),s=_u(i,s,c)}else k.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=U.treeContext,vt=_n(k.nextSibling),Ft=s,We=!0,ar=null,Ln=!1,i!==null&&(vn[bn++]=ni,vn[bn++]=ii,vn[bn++]=sr,ni=i.id,ii=i.overflow,sr=s),s=Au(s,d.children),s.flags|=4096);return s}return y?(ji(),y=d.fallback,k=s.mode,U=i.child,ee=U.sibling,d=ti(U,{mode:"hidden",children:d.children}),d.subtreeFlags=U.subtreeFlags&65011712,ee!==null?y=ti(ee,y):(y=rr(y,k,c,null),y.flags|=2),y.return=s,d.return=s,d.sibling=y,s.child=d,d=y,y=s.child,k=i.child.memoizedState,k===null?k=Eu(c):(U=k.cachePool,U!==null?(ee=kt._currentValue,U=U.parent!==ee?{parent:ee,pool:ee}:U):U=Mh(),k={baseLanes:k.baseLanes|c,cachePool:U}),y.memoizedState=k,y.childLanes=ku(i,T,c),s.memoizedState=Tu,d):(_i(s),c=i.child,i=c.sibling,c=ti(c,{mode:"visible",children:d.children}),c.return=s,c.sibling=null,i!==null&&(T=s.deletions,T===null?(s.deletions=[i],s.flags|=16):T.push(i)),s.child=c,s.memoizedState=null,c)}function Au(i,s){return s=Fa({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Fa(i,s){return i=sn(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function _u(i,s,c){return Xr(s,i.child,null,c),i=Au(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function Gp(i,s,c){i.lanes|=s;var d=i.alternate;d!==null&&(d.lanes|=s),Yc(i.return,s,c)}function ju(i,s,c,d,y){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:c,tailMode:y}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=c,v.tailMode=y)}function Yp(i,s,c){var d=s.pendingProps,y=d.revealOrder,v=d.tail;if(Pt(i,s,d.children,c),d=At.current,(d&2)!==0)d=d&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Gp(i,c,s);else if(i.tag===19)Gp(i,c,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}d&=1}switch(j(At,d),y){case"forwards":for(c=s.child,y=null;c!==null;)i=c.alternate,i!==null&&za(i)===null&&(y=c),c=c.sibling;c=y,c===null?(y=s.child,s.child=null):(y=c.sibling,c.sibling=null),ju(s,!1,y,c,v);break;case"backwards":for(c=null,y=s.child,s.child=null;y!==null;){if(i=y.alternate,i!==null&&za(i)===null){s.child=y;break}i=y.sibling,y.sibling=c,c=y,y=i}ju(s,!0,c,null,v);break;case"together":ju(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function oi(i,s,c){if(i!==null&&(s.dependencies=i.dependencies),Li|=s.lanes,(c&s.childLanes)===0)if(i!==null){if(Ks(i,s,c,!1),(c&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,c=ti(i,i.pendingProps),s.child=c,c.return=s;i.sibling!==null;)i=i.sibling,c=c.sibling=ti(i,i.pendingProps),c.return=s;c.sibling=null}return s.child}function Mu(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Ca(i)))}function E2(i,s,c){switch(s.tag){case 3:ve(s,s.stateNode.containerInfo),Ci(s,kt,i.memoizedState.cache),Zs();break;case 27:case 5:xt(s);break;case 4:ve(s,s.stateNode.containerInfo);break;case 10:Ci(s,s.type,s.memoizedProps.value);break;case 13:var d=s.memoizedState;if(d!==null)return d.dehydrated!==null?(_i(s),s.flags|=128,null):(c&s.child.childLanes)!==0?Hp(i,s,c):(_i(s),i=oi(i,s,c),i!==null?i.sibling:null);_i(s);break;case 19:var y=(i.flags&128)!==0;if(d=(c&s.childLanes)!==0,d||(Ks(i,s,c,!1),d=(c&s.childLanes)!==0),y){if(d)return Yp(i,s,c);s.flags|=128}if(y=s.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),j(At,At.current),d)break;return null;case 22:case 23:return s.lanes=0,zp(i,s,c);case 24:Ci(s,kt,i.memoizedState.cache)}return oi(i,s,c)}function Jp(i,s,c){if(i!==null)if(i.memoizedProps!==s.pendingProps)It=!0;else{if(!Mu(i,c)&&(s.flags&128)===0)return It=!1,E2(i,s,c);It=(i.flags&131072)!==0}else It=!1,We&&(s.flags&1048576)!==0&&Ch(s,Sa,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var d=s.elementType,y=d._init;if(d=y(d._payload),s.type=d,typeof d=="function")zc(d)?(i=mr(d,i),s.tag=1,s=qp(null,s,d,i,c)):(s.tag=0,s=Cu(null,s,d,i,c));else{if(d!=null){if(y=d.$$typeof,y===$){s.tag=11,s=Op(null,s,d,i,c);break e}else if(y===R){s.tag=14,s=Bp(null,s,d,i,c);break e}}throw s=V(d)||d,Error(r(306,s,""))}}return s;case 0:return Cu(i,s,s.type,s.pendingProps,c);case 1:return d=s.type,y=mr(d,s.pendingProps),qp(i,s,d,y,c);case 3:e:{if(ve(s,s.stateNode.containerInfo),i===null)throw Error(r(387));d=s.pendingProps;var v=s.memoizedState;y=v.element,eu(i,s),rl(s,d,null,c);var T=s.memoizedState;if(d=T.cache,Ci(s,kt,d),d!==v.cache&&Jc(s,[kt],c,!0),il(),d=T.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:T.cache},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){s=Fp(i,s,d,c);break e}else if(d!==y){y=xn(Error(r(424)),s),Qs(y),s=Fp(i,s,d,c);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(vt=_n(i.firstChild),Ft=s,We=!0,ar=null,Ln=!0,c=Ep(s,null,d,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Zs(),d===y){s=oi(i,s,c);break e}Pt(i,s,d,c)}s=s.child}return s;case 26:return qa(i,s),i===null?(c=Wg(s.type,null,s.pendingProps,null))?s.memoizedState=c:We||(c=s.type,i=s.pendingProps,d=ro(he.current).createElement(c),d[zt]=s,d[Jt]=i,Bt(d,c,i),Rt(d),s.stateNode=d):s.memoizedState=Wg(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return xt(s),i===null&&We&&(d=s.stateNode=Zg(s.type,s.pendingProps,he.current),Ft=s,Ln=!0,y=vt,Ui(s.type)?(dd=y,vt=_n(d.firstChild)):vt=y),Pt(i,s,s.pendingProps.children,c),qa(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&We&&((y=d=vt)&&(d=ew(d,s.type,s.pendingProps,Ln),d!==null?(s.stateNode=d,Ft=s,vt=_n(d.firstChild),Ln=!1,y=!0):y=!1),y||or(s)),xt(s),y=s.type,v=s.pendingProps,T=i!==null?i.memoizedProps:null,d=v.children,ad(y,v)?d=null:T!==null&&ad(y,T)&&(s.flags|=32),s.memoizedState!==null&&(y=lu(i,s,y2,null,null,c),El._currentValue=y),qa(i,s),Pt(i,s,d,c),s.child;case 6:return i===null&&We&&((i=c=vt)&&(c=tw(c,s.pendingProps,Ln),c!==null?(s.stateNode=c,Ft=s,vt=null,i=!0):i=!1),i||or(s)),null;case 13:return Hp(i,s,c);case 4:return ve(s,s.stateNode.containerInfo),d=s.pendingProps,i===null?s.child=Xr(s,null,d,c):Pt(i,s,d,c),s.child;case 11:return Op(i,s,s.type,s.pendingProps,c);case 7:return Pt(i,s,s.pendingProps,c),s.child;case 8:return Pt(i,s,s.pendingProps.children,c),s.child;case 12:return Pt(i,s,s.pendingProps.children,c),s.child;case 10:return d=s.pendingProps,Ci(s,s.type,d.value),Pt(i,s,d.children,c),s.child;case 9:return y=s.type._context,d=s.pendingProps.children,ur(s),y=Vt(y),d=d(y),s.flags|=1,Pt(i,s,d,c),s.child;case 14:return Bp(i,s,s.type,s.pendingProps,c);case 15:return Up(i,s,s.type,s.pendingProps,c);case 19:return Yp(i,s,c);case 31:return d=s.pendingProps,c=s.mode,d={mode:d.mode,children:d.children},i===null?(c=Fa(d,c),c.ref=s.ref,s.child=c,c.return=s,s=c):(c=ti(i.child,d),c.ref=s.ref,s.child=c,c.return=s,s=c),s;case 22:return zp(i,s,c);case 24:return ur(s),d=Vt(kt),i===null?(y=Kc(),y===null&&(y=at,v=Zc(),y.pooledCache=v,v.refCount++,v!==null&&(y.pooledCacheLanes|=c),y=v),s.memoizedState={parent:d,cache:y},Xc(s),Ci(s,kt,y)):((i.lanes&c)!==0&&(eu(i,s),rl(s,null,null,c),il()),y=i.memoizedState,v=s.memoizedState,y.parent!==d?(y={parent:d,cache:d},s.memoizedState=y,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=y),Ci(s,kt,d)):(d=v.cache,Ci(s,kt,d),d!==y.cache&&Jc(s,[kt],c,!0))),Pt(i,s,s.pendingProps.children,c),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ci(i){i.flags|=4}function Zp(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!i0(s)){if(s=wn.current,s!==null&&((Ze&4194048)===Ze?Pn!==null:(Ze&62914560)!==Ze&&(Ze&536870912)===0||s!==Pn))throw tl=Wc,Rh;i.flags|=8192}}function Ha(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?km():536870912,i.lanes|=s,is|=s)}function dl(i,s){if(!We)switch(i.tailMode){case"hidden":s=i.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:d.sibling=null}}function pt(i){var s=i.alternate!==null&&i.alternate.child===i.child,c=0,d=0;if(s)for(var y=i.child;y!==null;)c|=y.lanes|y.childLanes,d|=y.subtreeFlags&65011712,d|=y.flags&65011712,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)c|=y.lanes|y.childLanes,d|=y.subtreeFlags,d|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=d,i.childLanes=c,s}function k2(i,s,c){var d=s.pendingProps;switch(Fc(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(s),null;case 1:return pt(s),null;case 3:return c=s.stateNode,d=null,i!==null&&(d=i.memoizedState.cache),s.memoizedState.cache!==d&&(s.flags|=2048),si(kt),Ee(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(i===null||i.child===null)&&(Js(s)?ci(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,kh())),pt(s),null;case 26:return c=s.memoizedState,i===null?(ci(s),c!==null?(pt(s),Zp(s,c)):(pt(s),s.flags&=-16777217)):c?c!==i.memoizedState?(ci(s),pt(s),Zp(s,c)):(pt(s),s.flags&=-16777217):(i.memoizedProps!==d&&ci(s),pt(s),s.flags&=-16777217),null;case 27:jt(s),c=he.current;var y=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==d&&ci(s);else{if(!d){if(s.stateNode===null)throw Error(r(166));return pt(s),null}i=ge.current,Js(s)?Th(s):(i=Zg(y,d,c),s.stateNode=i,ci(s))}return pt(s),null;case 5:if(jt(s),c=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==d&&ci(s);else{if(!d){if(s.stateNode===null)throw Error(r(166));return pt(s),null}if(i=ge.current,Js(s))Th(s);else{switch(y=ro(he.current),i){case 1:i=y.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:i=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":i=y.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":i=y.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":i=y.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof d.is=="string"?y.createElement("select",{is:d.is}):y.createElement("select"),d.multiple?i.multiple=!0:d.size&&(i.size=d.size);break;default:i=typeof d.is=="string"?y.createElement(c,{is:d.is}):y.createElement(c)}}i[zt]=s,i[Jt]=d;e:for(y=s.child;y!==null;){if(y.tag===5||y.tag===6)i.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===s)break e;for(;y.sibling===null;){if(y.return===null||y.return===s)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}s.stateNode=i;e:switch(Bt(i,c,d),c){case"button":case"input":case"select":case"textarea":i=!!d.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&ci(s)}}return pt(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==d&&ci(s);else{if(typeof d!="string"&&s.stateNode===null)throw Error(r(166));if(i=he.current,Js(s)){if(i=s.stateNode,c=s.memoizedProps,d=null,y=Ft,y!==null)switch(y.tag){case 27:case 5:d=y.memoizedProps}i[zt]=s,i=!!(i.nodeValue===c||d!==null&&d.suppressHydrationWarning===!0||$g(i.nodeValue,c)),i||or(s)}else i=ro(i).createTextNode(d),i[zt]=s,s.stateNode=i}return pt(s),null;case 13:if(d=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(y=Js(s),d!==null&&d.dehydrated!==null){if(i===null){if(!y)throw Error(r(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(r(317));y[zt]=s}else Zs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;pt(s),y=!1}else y=kh(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=y),y=!0;if(!y)return s.flags&256?(ai(s),s):(ai(s),null)}if(ai(s),(s.flags&128)!==0)return s.lanes=c,s;if(c=d!==null,i=i!==null&&i.memoizedState!==null,c){d=s.child,y=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(y=d.alternate.memoizedState.cachePool.pool);var v=null;d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(v=d.memoizedState.cachePool.pool),v!==y&&(d.flags|=2048)}return c!==i&&c&&(s.child.flags|=8192),Ha(s,s.updateQueue),pt(s),null;case 4:return Ee(),i===null&&nd(s.stateNode.containerInfo),pt(s),null;case 10:return si(s.type),pt(s),null;case 19:if(re(At),y=s.memoizedState,y===null)return pt(s),null;if(d=(s.flags&128)!==0,v=y.rendering,v===null)if(d)dl(y,!1);else{if(bt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(v=za(i),v!==null){for(s.flags|=128,dl(y,!1),i=v.updateQueue,s.updateQueue=i,Ha(s,i),s.subtreeFlags=0,i=c,c=s.child;c!==null;)Sh(c,i),c=c.sibling;return j(At,At.current&1|2),s.child}i=i.sibling}y.tail!==null&&Pe()>Ja&&(s.flags|=128,d=!0,dl(y,!1),s.lanes=4194304)}else{if(!d)if(i=za(v),i!==null){if(s.flags|=128,d=!0,i=i.updateQueue,s.updateQueue=i,Ha(s,i),dl(y,!0),y.tail===null&&y.tailMode==="hidden"&&!v.alternate&&!We)return pt(s),null}else 2*Pe()-y.renderingStartTime>Ja&&c!==536870912&&(s.flags|=128,d=!0,dl(y,!1),s.lanes=4194304);y.isBackwards?(v.sibling=s.child,s.child=v):(i=y.last,i!==null?i.sibling=v:s.child=v,y.last=v)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=Pe(),s.sibling=null,i=At.current,j(At,d?i&1|2:i&1),s):(pt(s),null);case 22:case 23:return ai(s),ru(),d=s.memoizedState!==null,i!==null?i.memoizedState!==null!==d&&(s.flags|=8192):d&&(s.flags|=8192),d?(c&536870912)!==0&&(s.flags&128)===0&&(pt(s),s.subtreeFlags&6&&(s.flags|=8192)):pt(s),c=s.updateQueue,c!==null&&Ha(s,c.retryQueue),c=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),d=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),d!==c&&(s.flags|=2048),i!==null&&re(dr),null;case 24:return c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),si(kt),pt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function A2(i,s){switch(Fc(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return si(kt),Ee(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return jt(s),null;case 13:if(ai(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Zs()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return re(At),null;case 4:return Ee(),null;case 10:return si(s.type),null;case 22:case 23:return ai(s),ru(),i!==null&&re(dr),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return si(kt),null;case 25:return null;default:return null}}function Qp(i,s){switch(Fc(s),s.tag){case 3:si(kt),Ee();break;case 26:case 27:case 5:jt(s);break;case 4:Ee();break;case 13:ai(s);break;case 19:re(At);break;case 10:si(s.type);break;case 22:case 23:ai(s),ru(),i!==null&&re(dr);break;case 24:si(kt)}}function fl(i,s){try{var c=s.updateQueue,d=c!==null?c.lastEffect:null;if(d!==null){var y=d.next;c=y;do{if((c.tag&i)===i){d=void 0;var v=c.create,T=c.inst;d=v(),T.destroy=d}c=c.next}while(c!==y)}}catch(k){lt(s,s.return,k)}}function Mi(i,s,c){try{var d=s.updateQueue,y=d!==null?d.lastEffect:null;if(y!==null){var v=y.next;d=v;do{if((d.tag&i)===i){var T=d.inst,k=T.destroy;if(k!==void 0){T.destroy=void 0,y=s;var U=c,ee=k;try{ee()}catch(le){lt(y,U,le)}}}d=d.next}while(d!==v)}}catch(le){lt(s,s.return,le)}}function Kp(i){var s=i.updateQueue;if(s!==null){var c=i.stateNode;try{Bh(s,c)}catch(d){lt(i,i.return,d)}}}function Wp(i,s,c){c.props=mr(i.type,i.memoizedProps),c.state=i.memoizedState;try{c.componentWillUnmount()}catch(d){lt(i,s,d)}}function ml(i,s){try{var c=i.ref;if(c!==null){switch(i.tag){case 26:case 27:case 5:var d=i.stateNode;break;case 30:d=i.stateNode;break;default:d=i.stateNode}typeof c=="function"?i.refCleanup=c(d):c.current=d}}catch(y){lt(i,s,y)}}function On(i,s){var c=i.ref,d=i.refCleanup;if(c!==null)if(typeof d=="function")try{d()}catch(y){lt(i,s,y)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(y){lt(i,s,y)}else c.current=null}function Xp(i){var s=i.type,c=i.memoizedProps,d=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":c.autoFocus&&d.focus();break e;case"img":c.src?d.src=c.src:c.srcSet&&(d.srcset=c.srcSet)}}catch(y){lt(i,i.return,y)}}function Ru(i,s,c){try{var d=i.stateNode;Z2(d,i.type,c,s),d[Jt]=s}catch(y){lt(i,i.return,y)}}function eg(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ui(i.type)||i.tag===4}function Iu(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||eg(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ui(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Du(i,s,c){var d=i.tag;if(d===5||d===6)i=i.stateNode,s?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(i,s):(s=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,s.appendChild(i),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=io));else if(d!==4&&(d===27&&Ui(i.type)&&(c=i.stateNode,s=null),i=i.child,i!==null))for(Du(i,s,c),i=i.sibling;i!==null;)Du(i,s,c),i=i.sibling}function Ga(i,s,c){var d=i.tag;if(d===5||d===6)i=i.stateNode,s?c.insertBefore(i,s):c.appendChild(i);else if(d!==4&&(d===27&&Ui(i.type)&&(c=i.stateNode),i=i.child,i!==null))for(Ga(i,s,c),i=i.sibling;i!==null;)Ga(i,s,c),i=i.sibling}function tg(i){var s=i.stateNode,c=i.memoizedProps;try{for(var d=i.type,y=s.attributes;y.length;)s.removeAttributeNode(y[0]);Bt(s,d,c),s[zt]=i,s[Jt]=c}catch(v){lt(i,i.return,v)}}var ui=!1,Nt=!1,Lu=!1,ng=typeof WeakSet=="function"?WeakSet:Set,Dt=null;function _2(i,s){if(i=i.containerInfo,sd=uo,i=mh(i),Ic(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var d=c.getSelection&&c.getSelection();if(d&&d.rangeCount!==0){c=d.anchorNode;var y=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{c.nodeType,v.nodeType}catch{c=null;break e}var T=0,k=-1,U=-1,ee=0,le=0,oe=i,te=null;t:for(;;){for(var ie;oe!==c||y!==0&&oe.nodeType!==3||(k=T+y),oe!==v||d!==0&&oe.nodeType!==3||(U=T+d),oe.nodeType===3&&(T+=oe.nodeValue.length),(ie=oe.firstChild)!==null;)te=oe,oe=ie;for(;;){if(oe===i)break t;if(te===c&&++ee===y&&(k=T),te===v&&++le===d&&(U=T),(ie=oe.nextSibling)!==null)break;oe=te,te=oe.parentNode}oe=ie}c=k===-1||U===-1?null:{start:k,end:U}}else c=null}c=c||{start:0,end:0}}else c=null;for(ld={focusedElem:i,selectionRange:c},uo=!1,Dt=s;Dt!==null;)if(s=Dt,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,Dt=i;else for(;Dt!==null;){switch(s=Dt,v=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&v!==null){i=void 0,c=s,y=v.memoizedProps,v=v.memoizedState,d=c.stateNode;try{var Re=mr(c.type,y,c.elementType===c.type);i=d.getSnapshotBeforeUpdate(Re,v),d.__reactInternalSnapshotBeforeUpdate=i}catch(je){lt(c,c.return,je)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,c=i.nodeType,c===9)cd(i);else if(c===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":cd(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Dt=i;break}Dt=s.return}}function ig(i,s,c){var d=c.flags;switch(c.tag){case 0:case 11:case 15:Ri(i,c),d&4&&fl(5,c);break;case 1:if(Ri(i,c),d&4)if(i=c.stateNode,s===null)try{i.componentDidMount()}catch(T){lt(c,c.return,T)}else{var y=mr(c.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(y,s,i.__reactInternalSnapshotBeforeUpdate)}catch(T){lt(c,c.return,T)}}d&64&&Kp(c),d&512&&ml(c,c.return);break;case 3:if(Ri(i,c),d&64&&(i=c.updateQueue,i!==null)){if(s=null,c.child!==null)switch(c.child.tag){case 27:case 5:s=c.child.stateNode;break;case 1:s=c.child.stateNode}try{Bh(i,s)}catch(T){lt(c,c.return,T)}}break;case 27:s===null&&d&4&&tg(c);case 26:case 5:Ri(i,c),s===null&&d&4&&Xp(c),d&512&&ml(c,c.return);break;case 12:Ri(i,c);break;case 13:Ri(i,c),d&4&&lg(i,c),d&64&&(i=c.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(c=B2.bind(null,c),nw(i,c))));break;case 22:if(d=c.memoizedState!==null||ui,!d){s=s!==null&&s.memoizedState!==null||Nt,y=ui;var v=Nt;ui=d,(Nt=s)&&!v?Ii(i,c,(c.subtreeFlags&8772)!==0):Ri(i,c),ui=y,Nt=v}break;case 30:break;default:Ri(i,c)}}function rg(i){var s=i.alternate;s!==null&&(i.alternate=null,rg(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&hc(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var ht=null,Kt=!1;function di(i,s,c){for(c=c.child;c!==null;)sg(i,s,c),c=c.sibling}function sg(i,s,c){if(se&&typeof se.onCommitFiberUnmount=="function")try{se.onCommitFiberUnmount(K,c)}catch{}switch(c.tag){case 26:Nt||On(c,s),di(i,s,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Nt||On(c,s);var d=ht,y=Kt;Ui(c.type)&&(ht=c.stateNode,Kt=!1),di(i,s,c),Nl(c.stateNode),ht=d,Kt=y;break;case 5:Nt||On(c,s);case 6:if(d=ht,y=Kt,ht=null,di(i,s,c),ht=d,Kt=y,ht!==null)if(Kt)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(c.stateNode)}catch(v){lt(c,s,v)}else try{ht.removeChild(c.stateNode)}catch(v){lt(c,s,v)}break;case 18:ht!==null&&(Kt?(i=ht,Yg(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,c.stateNode),jl(i)):Yg(ht,c.stateNode));break;case 4:d=ht,y=Kt,ht=c.stateNode.containerInfo,Kt=!0,di(i,s,c),ht=d,Kt=y;break;case 0:case 11:case 14:case 15:Nt||Mi(2,c,s),Nt||Mi(4,c,s),di(i,s,c);break;case 1:Nt||(On(c,s),d=c.stateNode,typeof d.componentWillUnmount=="function"&&Wp(c,s,d)),di(i,s,c);break;case 21:di(i,s,c);break;case 22:Nt=(d=Nt)||c.memoizedState!==null,di(i,s,c),Nt=d;break;default:di(i,s,c)}}function lg(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{jl(i)}catch(c){lt(s,s.return,c)}}function j2(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new ng),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new ng),s;default:throw Error(r(435,i.tag))}}function Pu(i,s){var c=j2(i);s.forEach(function(d){var y=U2.bind(null,i,d);c.has(d)||(c.add(d),d.then(y,y))})}function ln(i,s){var c=s.deletions;if(c!==null)for(var d=0;d<c.length;d++){var y=c[d],v=i,T=s,k=T;e:for(;k!==null;){switch(k.tag){case 27:if(Ui(k.type)){ht=k.stateNode,Kt=!1;break e}break;case 5:ht=k.stateNode,Kt=!1;break e;case 3:case 4:ht=k.stateNode.containerInfo,Kt=!0;break e}k=k.return}if(ht===null)throw Error(r(160));sg(v,T,y),ht=null,Kt=!1,v=y.alternate,v!==null&&(v.return=null),y.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)ag(s,i),s=s.sibling}var An=null;function ag(i,s){var c=i.alternate,d=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:ln(s,i),an(i),d&4&&(Mi(3,i,i.return),fl(3,i),Mi(5,i,i.return));break;case 1:ln(s,i),an(i),d&512&&(Nt||c===null||On(c,c.return)),d&64&&ui&&(i=i.updateQueue,i!==null&&(d=i.callbacks,d!==null&&(c=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=c===null?d:c.concat(d))));break;case 26:var y=An;if(ln(s,i),an(i),d&512&&(Nt||c===null||On(c,c.return)),d&4){var v=c!==null?c.memoizedState:null;if(d=i.memoizedState,c===null)if(d===null)if(i.stateNode===null){e:{d=i.type,c=i.memoizedProps,y=y.ownerDocument||y;t:switch(d){case"title":v=y.getElementsByTagName("title")[0],(!v||v[Os]||v[zt]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=y.createElement(d),y.head.insertBefore(v,y.querySelector("head > title"))),Bt(v,d,c),v[zt]=i,Rt(v),d=v;break e;case"link":var T=t0("link","href",y).get(d+(c.href||""));if(T){for(var k=0;k<T.length;k++)if(v=T[k],v.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&v.getAttribute("rel")===(c.rel==null?null:c.rel)&&v.getAttribute("title")===(c.title==null?null:c.title)&&v.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){T.splice(k,1);break t}}v=y.createElement(d),Bt(v,d,c),y.head.appendChild(v);break;case"meta":if(T=t0("meta","content",y).get(d+(c.content||""))){for(k=0;k<T.length;k++)if(v=T[k],v.getAttribute("content")===(c.content==null?null:""+c.content)&&v.getAttribute("name")===(c.name==null?null:c.name)&&v.getAttribute("property")===(c.property==null?null:c.property)&&v.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&v.getAttribute("charset")===(c.charSet==null?null:c.charSet)){T.splice(k,1);break t}}v=y.createElement(d),Bt(v,d,c),y.head.appendChild(v);break;default:throw Error(r(468,d))}v[zt]=i,Rt(v),d=v}i.stateNode=d}else n0(y,i.type,i.stateNode);else i.stateNode=e0(y,d,i.memoizedProps);else v!==d?(v===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):v.count--,d===null?n0(y,i.type,i.stateNode):e0(y,d,i.memoizedProps)):d===null&&i.stateNode!==null&&Ru(i,i.memoizedProps,c.memoizedProps)}break;case 27:ln(s,i),an(i),d&512&&(Nt||c===null||On(c,c.return)),c!==null&&d&4&&Ru(i,i.memoizedProps,c.memoizedProps);break;case 5:if(ln(s,i),an(i),d&512&&(Nt||c===null||On(c,c.return)),i.flags&32){y=i.stateNode;try{Lr(y,"")}catch(ie){lt(i,i.return,ie)}}d&4&&i.stateNode!=null&&(y=i.memoizedProps,Ru(i,y,c!==null?c.memoizedProps:y)),d&1024&&(Lu=!0);break;case 6:if(ln(s,i),an(i),d&4){if(i.stateNode===null)throw Error(r(162));d=i.memoizedProps,c=i.stateNode;try{c.nodeValue=d}catch(ie){lt(i,i.return,ie)}}break;case 3:if(ao=null,y=An,An=so(s.containerInfo),ln(s,i),An=y,an(i),d&4&&c!==null&&c.memoizedState.isDehydrated)try{jl(s.containerInfo)}catch(ie){lt(i,i.return,ie)}Lu&&(Lu=!1,og(i));break;case 4:d=An,An=so(i.stateNode.containerInfo),ln(s,i),an(i),An=d;break;case 12:ln(s,i),an(i);break;case 13:ln(s,i),an(i),i.child.flags&8192&&i.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&($u=Pe()),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,Pu(i,d)));break;case 22:y=i.memoizedState!==null;var U=c!==null&&c.memoizedState!==null,ee=ui,le=Nt;if(ui=ee||y,Nt=le||U,ln(s,i),Nt=le,ui=ee,an(i),d&8192)e:for(s=i.stateNode,s._visibility=y?s._visibility&-2:s._visibility|1,y&&(c===null||U||ui||Nt||hr(i)),c=null,s=i;;){if(s.tag===5||s.tag===26){if(c===null){U=c=s;try{if(v=U.stateNode,y)T=v.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{k=U.stateNode;var oe=U.memoizedProps.style,te=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;k.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(ie){lt(U,U.return,ie)}}}else if(s.tag===6){if(c===null){U=s;try{U.stateNode.nodeValue=y?"":U.memoizedProps}catch(ie){lt(U,U.return,ie)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;c===s&&(c=null),s=s.return}c===s&&(c=null),s.sibling.return=s.return,s=s.sibling}d&4&&(d=i.updateQueue,d!==null&&(c=d.retryQueue,c!==null&&(d.retryQueue=null,Pu(i,c))));break;case 19:ln(s,i),an(i),d&4&&(d=i.updateQueue,d!==null&&(i.updateQueue=null,Pu(i,d)));break;case 30:break;case 21:break;default:ln(s,i),an(i)}}function an(i){var s=i.flags;if(s&2){try{for(var c,d=i.return;d!==null;){if(eg(d)){c=d;break}d=d.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var y=c.stateNode,v=Iu(i);Ga(i,v,y);break;case 5:var T=c.stateNode;c.flags&32&&(Lr(T,""),c.flags&=-33);var k=Iu(i);Ga(i,k,T);break;case 3:case 4:var U=c.stateNode.containerInfo,ee=Iu(i);Du(i,ee,U);break;default:throw Error(r(161))}}catch(le){lt(i,i.return,le)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function og(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;og(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Ri(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)ig(i,s.alternate,s),s=s.sibling}function hr(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Mi(4,s,s.return),hr(s);break;case 1:On(s,s.return);var c=s.stateNode;typeof c.componentWillUnmount=="function"&&Wp(s,s.return,c),hr(s);break;case 27:Nl(s.stateNode);case 26:case 5:On(s,s.return),hr(s);break;case 22:s.memoizedState===null&&hr(s);break;case 30:hr(s);break;default:hr(s)}i=i.sibling}}function Ii(i,s,c){for(c=c&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var d=s.alternate,y=i,v=s,T=v.flags;switch(v.tag){case 0:case 11:case 15:Ii(y,v,c),fl(4,v);break;case 1:if(Ii(y,v,c),d=v,y=d.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(ee){lt(d,d.return,ee)}if(d=v,y=d.updateQueue,y!==null){var k=d.stateNode;try{var U=y.shared.hiddenCallbacks;if(U!==null)for(y.shared.hiddenCallbacks=null,y=0;y<U.length;y++)Oh(U[y],k)}catch(ee){lt(d,d.return,ee)}}c&&T&64&&Kp(v),ml(v,v.return);break;case 27:tg(v);case 26:case 5:Ii(y,v,c),c&&d===null&&T&4&&Xp(v),ml(v,v.return);break;case 12:Ii(y,v,c);break;case 13:Ii(y,v,c),c&&T&4&&lg(y,v);break;case 22:v.memoizedState===null&&Ii(y,v,c),ml(v,v.return);break;case 30:break;default:Ii(y,v,c)}s=s.sibling}}function Ou(i,s){var c=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==c&&(i!=null&&i.refCount++,c!=null&&Ws(c))}function Bu(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Ws(i))}function Bn(i,s,c,d){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)cg(i,s,c,d),s=s.sibling}function cg(i,s,c,d){var y=s.flags;switch(s.tag){case 0:case 11:case 15:Bn(i,s,c,d),y&2048&&fl(9,s);break;case 1:Bn(i,s,c,d);break;case 3:Bn(i,s,c,d),y&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Ws(i)));break;case 12:if(y&2048){Bn(i,s,c,d),i=s.stateNode;try{var v=s.memoizedProps,T=v.id,k=v.onPostCommit;typeof k=="function"&&k(T,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(U){lt(s,s.return,U)}}else Bn(i,s,c,d);break;case 13:Bn(i,s,c,d);break;case 23:break;case 22:v=s.stateNode,T=s.alternate,s.memoizedState!==null?v._visibility&2?Bn(i,s,c,d):hl(i,s):v._visibility&2?Bn(i,s,c,d):(v._visibility|=2,es(i,s,c,d,(s.subtreeFlags&10256)!==0)),y&2048&&Ou(T,s);break;case 24:Bn(i,s,c,d),y&2048&&Bu(s.alternate,s);break;default:Bn(i,s,c,d)}}function es(i,s,c,d,y){for(y=y&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var v=i,T=s,k=c,U=d,ee=T.flags;switch(T.tag){case 0:case 11:case 15:es(v,T,k,U,y),fl(8,T);break;case 23:break;case 22:var le=T.stateNode;T.memoizedState!==null?le._visibility&2?es(v,T,k,U,y):hl(v,T):(le._visibility|=2,es(v,T,k,U,y)),y&&ee&2048&&Ou(T.alternate,T);break;case 24:es(v,T,k,U,y),y&&ee&2048&&Bu(T.alternate,T);break;default:es(v,T,k,U,y)}s=s.sibling}}function hl(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var c=i,d=s,y=d.flags;switch(d.tag){case 22:hl(c,d),y&2048&&Ou(d.alternate,d);break;case 24:hl(c,d),y&2048&&Bu(d.alternate,d);break;default:hl(c,d)}s=s.sibling}}var pl=8192;function ts(i){if(i.subtreeFlags&pl)for(i=i.child;i!==null;)ug(i),i=i.sibling}function ug(i){switch(i.tag){case 26:ts(i),i.flags&pl&&i.memoizedState!==null&&pw(An,i.memoizedState,i.memoizedProps);break;case 5:ts(i);break;case 3:case 4:var s=An;An=so(i.stateNode.containerInfo),ts(i),An=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=pl,pl=16777216,ts(i),pl=s):ts(i));break;default:ts(i)}}function dg(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function gl(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var d=s[c];Dt=d,mg(d,i)}dg(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)fg(i),i=i.sibling}function fg(i){switch(i.tag){case 0:case 11:case 15:gl(i),i.flags&2048&&Mi(9,i,i.return);break;case 3:gl(i);break;case 12:gl(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Ya(i)):gl(i);break;default:gl(i)}}function Ya(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var c=0;c<s.length;c++){var d=s[c];Dt=d,mg(d,i)}dg(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Mi(8,s,s.return),Ya(s);break;case 22:c=s.stateNode,c._visibility&2&&(c._visibility&=-3,Ya(s));break;default:Ya(s)}i=i.sibling}}function mg(i,s){for(;Dt!==null;){var c=Dt;switch(c.tag){case 0:case 11:case 15:Mi(8,c,s);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var d=c.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Ws(c.memoizedState.cache)}if(d=c.child,d!==null)d.return=c,Dt=d;else e:for(c=i;Dt!==null;){d=Dt;var y=d.sibling,v=d.return;if(rg(d),d===c){Dt=null;break e}if(y!==null){y.return=v,Dt=y;break e}Dt=v}}}var M2={getCacheForType:function(i){var s=Vt(kt),c=s.data.get(i);return c===void 0&&(c=i(),s.data.set(i,c)),c}},R2=typeof WeakMap=="function"?WeakMap:Map,et=0,at=null,Fe=null,Ze=0,tt=0,on=null,Di=!1,ns=!1,Uu=!1,fi=0,bt=0,Li=0,pr=0,zu=0,Nn=0,is=0,xl=null,Wt=null,Vu=!1,$u=0,Ja=1/0,Za=null,Pi=null,Ot=0,Oi=null,rs=null,ss=0,qu=0,Fu=null,hg=null,yl=0,Hu=null;function cn(){if((et&2)!==0&&Ze!==0)return Ze&-Ze;if(I.T!==null){var i=Gr;return i!==0?i:Wu()}return jm()}function pg(){Nn===0&&(Nn=(Ze&536870912)===0||We?Em():536870912);var i=wn.current;return i!==null&&(i.flags|=32),Nn}function un(i,s,c){(i===at&&(tt===2||tt===9)||i.cancelPendingCommit!==null)&&(ls(i,0),Bi(i,Ze,Nn,!1)),Ps(i,c),((et&2)===0||i!==at)&&(i===at&&((et&2)===0&&(pr|=c),bt===4&&Bi(i,Ze,Nn,!1)),Un(i))}function gg(i,s,c){if((et&6)!==0)throw Error(r(327));var d=!c&&(s&124)===0&&(s&i.expiredLanes)===0||hn(i,s),y=d?L2(i,s):Ju(i,s,!0),v=d;do{if(y===0){ns&&!d&&Bi(i,s,0,!1);break}else{if(c=i.current.alternate,v&&!I2(c)){y=Ju(i,s,!1),v=!1;continue}if(y===2){if(v=s,i.errorRecoveryDisabledLanes&v)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){s=T;e:{var k=i;y=xl;var U=k.current.memoizedState.isDehydrated;if(U&&(ls(k,T).flags|=256),T=Ju(k,T,!1),T!==2){if(Uu&&!U){k.errorRecoveryDisabledLanes|=v,pr|=v,y=4;break e}v=Wt,Wt=y,v!==null&&(Wt===null?Wt=v:Wt.push.apply(Wt,v))}y=T}if(v=!1,y!==2)continue}}if(y===1){ls(i,0),Bi(i,s,0,!0);break}e:{switch(d=i,v=y,v){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Bi(d,s,Nn,!Di);break e;case 2:Wt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(y=$u+300-Pe(),10<y)){if(Bi(d,s,Nn,!Di),Mt(d,0,!0)!==0)break e;d.timeoutHandle=Hg(xg.bind(null,d,c,Wt,Za,Vu,s,Nn,pr,is,Di,v,2,-0,0),y);break e}xg(d,c,Wt,Za,Vu,s,Nn,pr,is,Di,v,0,-0,0)}}break}while(!0);Un(i)}function xg(i,s,c,d,y,v,T,k,U,ee,le,oe,te,ie){if(i.timeoutHandle=-1,oe=s.subtreeFlags,(oe&8192||(oe&16785408)===16785408)&&(Tl={stylesheets:null,count:0,unsuspend:hw},ug(s),oe=gw(),oe!==null)){i.cancelPendingCommit=oe(Cg.bind(null,i,s,v,c,d,y,T,k,U,le,1,te,ie)),Bi(i,v,T,!ee);return}Cg(i,s,v,c,d,y,T,k,U)}function I2(i){for(var s=i;;){var c=s.tag;if((c===0||c===11||c===15)&&s.flags&16384&&(c=s.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var d=0;d<c.length;d++){var y=c[d],v=y.getSnapshot;y=y.value;try{if(!rn(v(),y))return!1}catch{return!1}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Bi(i,s,c,d){s&=~zu,s&=~pr,i.suspendedLanes|=s,i.pingedLanes&=~s,d&&(i.warmLanes|=s),d=i.expirationTimes;for(var y=s;0<y;){var v=31-xe(y),T=1<<v;d[v]=-1,y&=~T}c!==0&&Am(i,c,s)}function Qa(){return(et&6)===0?(vl(0),!1):!0}function Gu(){if(Fe!==null){if(tt===0)var i=Fe.return;else i=Fe,ri=cr=null,cu(i),Wr=null,cl=0,i=Fe;for(;i!==null;)Qp(i.alternate,i),i=i.return;Fe=null}}function ls(i,s){var c=i.timeoutHandle;c!==-1&&(i.timeoutHandle=-1,K2(c)),c=i.cancelPendingCommit,c!==null&&(i.cancelPendingCommit=null,c()),Gu(),at=i,Fe=c=ti(i.current,null),Ze=s,tt=0,on=null,Di=!1,ns=hn(i,s),Uu=!1,is=Nn=zu=pr=Li=bt=0,Wt=xl=null,Vu=!1,(s&8)!==0&&(s|=s&32);var d=i.entangledLanes;if(d!==0)for(i=i.entanglements,d&=s;0<d;){var y=31-xe(d),v=1<<y;s|=i[y],d&=~v}return fi=s,ya(),c}function yg(i,s){$e=null,I.H=Oa,s===el||s===ka?(s=Lh(),tt=3):s===Rh?(s=Lh(),tt=4):tt=s===Pp?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,on=s,Fe===null&&(bt=1,$a(i,xn(s,i.current)))}function vg(){var i=I.H;return I.H=Oa,i===null?Oa:i}function bg(){var i=I.A;return I.A=M2,i}function Yu(){bt=4,Di||(Ze&4194048)!==Ze&&wn.current!==null||(ns=!0),(Li&134217727)===0&&(pr&134217727)===0||at===null||Bi(at,Ze,Nn,!1)}function Ju(i,s,c){var d=et;et|=2;var y=vg(),v=bg();(at!==i||Ze!==s)&&(Za=null,ls(i,s)),s=!1;var T=bt;e:do try{if(tt!==0&&Fe!==null){var k=Fe,U=on;switch(tt){case 8:Gu(),T=6;break e;case 3:case 2:case 9:case 6:wn.current===null&&(s=!0);var ee=tt;if(tt=0,on=null,as(i,k,U,ee),c&&ns){T=0;break e}break;default:ee=tt,tt=0,on=null,as(i,k,U,ee)}}D2(),T=bt;break}catch(le){yg(i,le)}while(!0);return s&&i.shellSuspendCounter++,ri=cr=null,et=d,I.H=y,I.A=v,Fe===null&&(at=null,Ze=0,ya()),T}function D2(){for(;Fe!==null;)wg(Fe)}function L2(i,s){var c=et;et|=2;var d=vg(),y=bg();at!==i||Ze!==s?(Za=null,Ja=Pe()+500,ls(i,s)):ns=hn(i,s);e:do try{if(tt!==0&&Fe!==null){s=Fe;var v=on;t:switch(tt){case 1:tt=0,on=null,as(i,s,v,1);break;case 2:case 9:if(Ih(v)){tt=0,on=null,Ng(s);break}s=function(){tt!==2&&tt!==9||at!==i||(tt=7),Un(i)},v.then(s,s);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:Ih(v)?(tt=0,on=null,Ng(s)):(tt=0,on=null,as(i,s,v,7));break;case 5:var T=null;switch(Fe.tag){case 26:T=Fe.memoizedState;case 5:case 27:var k=Fe;if(!T||i0(T)){tt=0,on=null;var U=k.sibling;if(U!==null)Fe=U;else{var ee=k.return;ee!==null?(Fe=ee,Ka(ee)):Fe=null}break t}}tt=0,on=null,as(i,s,v,5);break;case 6:tt=0,on=null,as(i,s,v,6);break;case 8:Gu(),bt=6;break e;default:throw Error(r(462))}}P2();break}catch(le){yg(i,le)}while(!0);return ri=cr=null,I.H=d,I.A=y,et=c,Fe!==null?0:(at=null,Ze=0,ya(),bt)}function P2(){for(;Fe!==null&&!bi();)wg(Fe)}function wg(i){var s=Jp(i.alternate,i,fi);i.memoizedProps=i.pendingProps,s===null?Ka(i):Fe=s}function Ng(i){var s=i,c=s.alternate;switch(s.tag){case 15:case 0:s=$p(c,s,s.pendingProps,s.type,void 0,Ze);break;case 11:s=$p(c,s,s.pendingProps,s.type.render,s.ref,Ze);break;case 5:cu(s);default:Qp(c,s),s=Fe=Sh(s,fi),s=Jp(c,s,fi)}i.memoizedProps=i.pendingProps,s===null?Ka(i):Fe=s}function as(i,s,c,d){ri=cr=null,cu(s),Wr=null,cl=0;var y=s.return;try{if(T2(i,y,s,c,Ze)){bt=1,$a(i,xn(c,i.current)),Fe=null;return}}catch(v){if(y!==null)throw Fe=y,v;bt=1,$a(i,xn(c,i.current)),Fe=null;return}s.flags&32768?(We||d===1?i=!0:ns||(Ze&536870912)!==0?i=!1:(Di=i=!0,(d===2||d===9||d===3||d===6)&&(d=wn.current,d!==null&&d.tag===13&&(d.flags|=16384))),Sg(s,i)):Ka(s)}function Ka(i){var s=i;do{if((s.flags&32768)!==0){Sg(s,Di);return}i=s.return;var c=k2(s.alternate,s,fi);if(c!==null){Fe=c;return}if(s=s.sibling,s!==null){Fe=s;return}Fe=s=i}while(s!==null);bt===0&&(bt=5)}function Sg(i,s){do{var c=A2(i.alternate,i);if(c!==null){c.flags&=32767,Fe=c;return}if(c=i.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!s&&(i=i.sibling,i!==null)){Fe=i;return}Fe=i=c}while(i!==null);bt=6,Fe=null}function Cg(i,s,c,d,y,v,T,k,U){i.cancelPendingCommit=null;do Wa();while(Ot!==0);if((et&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(v=s.lanes|s.childLanes,v|=Bc,hb(i,c,v,T,k,U),i===at&&(Fe=at=null,Ze=0),rs=s,Oi=i,ss=c,qu=v,Fu=y,hg=d,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,z2(Be,function(){return _g(),null})):(i.callbackNode=null,i.callbackPriority=0),d=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||d){d=I.T,I.T=null,y=Y.p,Y.p=2,T=et,et|=4;try{_2(i,s,c)}finally{et=T,Y.p=y,I.T=d}}Ot=1,Tg(),Eg(),kg()}}function Tg(){if(Ot===1){Ot=0;var i=Oi,s=rs,c=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||c){c=I.T,I.T=null;var d=Y.p;Y.p=2;var y=et;et|=4;try{ag(s,i);var v=ld,T=mh(i.containerInfo),k=v.focusedElem,U=v.selectionRange;if(T!==k&&k&&k.ownerDocument&&fh(k.ownerDocument.documentElement,k)){if(U!==null&&Ic(k)){var ee=U.start,le=U.end;if(le===void 0&&(le=ee),"selectionStart"in k)k.selectionStart=ee,k.selectionEnd=Math.min(le,k.value.length);else{var oe=k.ownerDocument||document,te=oe&&oe.defaultView||window;if(te.getSelection){var ie=te.getSelection(),Re=k.textContent.length,je=Math.min(U.start,Re),st=U.end===void 0?je:Math.min(U.end,Re);!ie.extend&&je>st&&(T=st,st=je,je=T);var J=dh(k,je),q=dh(k,st);if(J&&q&&(ie.rangeCount!==1||ie.anchorNode!==J.node||ie.anchorOffset!==J.offset||ie.focusNode!==q.node||ie.focusOffset!==q.offset)){var W=oe.createRange();W.setStart(J.node,J.offset),ie.removeAllRanges(),je>st?(ie.addRange(W),ie.extend(q.node,q.offset)):(W.setEnd(q.node,q.offset),ie.addRange(W))}}}}for(oe=[],ie=k;ie=ie.parentNode;)ie.nodeType===1&&oe.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<oe.length;k++){var ae=oe[k];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}uo=!!sd,ld=sd=null}finally{et=y,Y.p=d,I.T=c}}i.current=s,Ot=2}}function Eg(){if(Ot===2){Ot=0;var i=Oi,s=rs,c=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||c){c=I.T,I.T=null;var d=Y.p;Y.p=2;var y=et;et|=4;try{ig(i,s.alternate,s)}finally{et=y,Y.p=d,I.T=c}}Ot=3}}function kg(){if(Ot===4||Ot===3){Ot=0,wi();var i=Oi,s=rs,c=ss,d=hg;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ot=5:(Ot=0,rs=Oi=null,Ag(i,i.pendingLanes));var y=i.pendingLanes;if(y===0&&(Pi=null),fc(c),s=s.stateNode,se&&typeof se.onCommitFiberRoot=="function")try{se.onCommitFiberRoot(K,s,void 0,(s.current.flags&128)===128)}catch{}if(d!==null){s=I.T,y=Y.p,Y.p=2,I.T=null;try{for(var v=i.onRecoverableError,T=0;T<d.length;T++){var k=d[T];v(k.value,{componentStack:k.stack})}}finally{I.T=s,Y.p=y}}(ss&3)!==0&&Wa(),Un(i),y=i.pendingLanes,(c&4194090)!==0&&(y&42)!==0?i===Hu?yl++:(yl=0,Hu=i):yl=0,vl(0)}}function Ag(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Ws(s)))}function Wa(i){return Tg(),Eg(),kg(),_g()}function _g(){if(Ot!==5)return!1;var i=Oi,s=qu;qu=0;var c=fc(ss),d=I.T,y=Y.p;try{Y.p=32>c?32:c,I.T=null,c=Fu,Fu=null;var v=Oi,T=ss;if(Ot=0,rs=Oi=null,ss=0,(et&6)!==0)throw Error(r(331));var k=et;if(et|=4,fg(v.current),cg(v,v.current,T,c),et=k,vl(0,!1),se&&typeof se.onPostCommitFiberRoot=="function")try{se.onPostCommitFiberRoot(K,v)}catch{}return!0}finally{Y.p=y,I.T=d,Ag(i,s)}}function jg(i,s,c){s=xn(c,s),s=Su(i.stateNode,s,2),i=ki(i,s,2),i!==null&&(Ps(i,2),Un(i))}function lt(i,s,c){if(i.tag===3)jg(i,i,c);else for(;s!==null;){if(s.tag===3){jg(s,i,c);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Pi===null||!Pi.has(d))){i=xn(c,i),c=Dp(2),d=ki(s,c,2),d!==null&&(Lp(c,d,s,i),Ps(d,2),Un(d));break}}s=s.return}}function Zu(i,s,c){var d=i.pingCache;if(d===null){d=i.pingCache=new R2;var y=new Set;d.set(s,y)}else y=d.get(s),y===void 0&&(y=new Set,d.set(s,y));y.has(c)||(Uu=!0,y.add(c),i=O2.bind(null,i,s,c),s.then(i,i))}function O2(i,s,c){var d=i.pingCache;d!==null&&d.delete(s),i.pingedLanes|=i.suspendedLanes&c,i.warmLanes&=~c,at===i&&(Ze&c)===c&&(bt===4||bt===3&&(Ze&62914560)===Ze&&300>Pe()-$u?(et&2)===0&&ls(i,0):zu|=c,is===Ze&&(is=0)),Un(i)}function Mg(i,s){s===0&&(s=km()),i=$r(i,s),i!==null&&(Ps(i,s),Un(i))}function B2(i){var s=i.memoizedState,c=0;s!==null&&(c=s.retryLane),Mg(i,c)}function U2(i,s){var c=0;switch(i.tag){case 13:var d=i.stateNode,y=i.memoizedState;y!==null&&(c=y.retryLane);break;case 19:d=i.stateNode;break;case 22:d=i.stateNode._retryCache;break;default:throw Error(r(314))}d!==null&&d.delete(s),Mg(i,c)}function z2(i,s){return mn(i,s)}var Xa=null,os=null,Qu=!1,eo=!1,Ku=!1,gr=0;function Un(i){i!==os&&i.next===null&&(os===null?Xa=os=i:os=os.next=i),eo=!0,Qu||(Qu=!0,$2())}function vl(i,s){if(!Ku&&eo){Ku=!0;do for(var c=!1,d=Xa;d!==null;){if(i!==0){var y=d.pendingLanes;if(y===0)var v=0;else{var T=d.suspendedLanes,k=d.pingedLanes;v=(1<<31-xe(42|i)+1)-1,v&=y&~(T&~k),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(c=!0,Lg(d,v))}else v=Ze,v=Mt(d,d===at?v:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(v&3)===0||hn(d,v)||(c=!0,Lg(d,v));d=d.next}while(c);Ku=!1}}function V2(){Rg()}function Rg(){eo=Qu=!1;var i=0;gr!==0&&(Q2()&&(i=gr),gr=0);for(var s=Pe(),c=null,d=Xa;d!==null;){var y=d.next,v=Ig(d,s);v===0?(d.next=null,c===null?Xa=y:c.next=y,y===null&&(os=c)):(c=d,(i!==0||(v&3)!==0)&&(eo=!0)),d=y}vl(i)}function Ig(i,s){for(var c=i.suspendedLanes,d=i.pingedLanes,y=i.expirationTimes,v=i.pendingLanes&-62914561;0<v;){var T=31-xe(v),k=1<<T,U=y[T];U===-1?((k&c)===0||(k&d)!==0)&&(y[T]=En(k,s)):U<=s&&(i.expiredLanes|=k),v&=~k}if(s=at,c=Ze,c=Mt(i,i===s?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),d=i.callbackNode,c===0||i===s&&(tt===2||tt===9)||i.cancelPendingCommit!==null)return d!==null&&d!==null&&Kn(d),i.callbackNode=null,i.callbackPriority=0;if((c&3)===0||hn(i,c)){if(s=c&-c,s===i.callbackPriority)return s;switch(d!==null&&Kn(d),fc(c)){case 2:case 8:c=Je;break;case 32:c=Be;break;case 268435456:c=de;break;default:c=Be}return d=Dg.bind(null,i),c=mn(c,d),i.callbackPriority=s,i.callbackNode=c,s}return d!==null&&d!==null&&Kn(d),i.callbackPriority=2,i.callbackNode=null,2}function Dg(i,s){if(Ot!==0&&Ot!==5)return i.callbackNode=null,i.callbackPriority=0,null;var c=i.callbackNode;if(Wa()&&i.callbackNode!==c)return null;var d=Ze;return d=Mt(i,i===at?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),d===0?null:(gg(i,d,s),Ig(i,Pe()),i.callbackNode!=null&&i.callbackNode===c?Dg.bind(null,i):null)}function Lg(i,s){if(Wa())return null;gg(i,s,!0)}function $2(){W2(function(){(et&6)!==0?mn(ce,V2):Rg()})}function Wu(){return gr===0&&(gr=Em()),gr}function Pg(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:da(""+i)}function Og(i,s){var c=s.ownerDocument.createElement("input");return c.name=s.name,c.value=s.value,i.id&&c.setAttribute("form",i.id),s.parentNode.insertBefore(c,s),i=new FormData(i),c.parentNode.removeChild(c),i}function q2(i,s,c,d,y){if(s==="submit"&&c&&c.stateNode===y){var v=Pg((y[Jt]||null).action),T=d.submitter;T&&(s=(s=T[Jt]||null)?Pg(s.formAction):T.getAttribute("formAction"),s!==null&&(v=s,T=null));var k=new pa("action","action",null,d,y);i.push({event:k,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(gr!==0){var U=T?Og(y,T):new FormData(y);yu(c,{pending:!0,data:U,method:y.method,action:v},null,U)}}else typeof v=="function"&&(k.preventDefault(),U=T?Og(y,T):new FormData(y),yu(c,{pending:!0,data:U,method:y.method,action:v},v,U))},currentTarget:y}]})}}for(var Xu=0;Xu<Oc.length;Xu++){var ed=Oc[Xu],F2=ed.toLowerCase(),H2=ed[0].toUpperCase()+ed.slice(1);kn(F2,"on"+H2)}kn(gh,"onAnimationEnd"),kn(xh,"onAnimationIteration"),kn(yh,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(o2,"onTransitionRun"),kn(c2,"onTransitionStart"),kn(u2,"onTransitionCancel"),kn(vh,"onTransitionEnd"),Rr("onMouseEnter",["mouseout","mouseover"]),Rr("onMouseLeave",["mouseout","mouseover"]),Rr("onPointerEnter",["pointerout","pointerover"]),Rr("onPointerLeave",["pointerout","pointerover"]),er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),er("onBeforeInput",["compositionend","keypress","textInput","paste"]),er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),G2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bl));function Bg(i,s){s=(s&4)!==0;for(var c=0;c<i.length;c++){var d=i[c],y=d.event;d=d.listeners;e:{var v=void 0;if(s)for(var T=d.length-1;0<=T;T--){var k=d[T],U=k.instance,ee=k.currentTarget;if(k=k.listener,U!==v&&y.isPropagationStopped())break e;v=k,y.currentTarget=ee;try{v(y)}catch(le){Va(le)}y.currentTarget=null,v=U}else for(T=0;T<d.length;T++){if(k=d[T],U=k.instance,ee=k.currentTarget,k=k.listener,U!==v&&y.isPropagationStopped())break e;v=k,y.currentTarget=ee;try{v(y)}catch(le){Va(le)}y.currentTarget=null,v=U}}}}function He(i,s){var c=s[mc];c===void 0&&(c=s[mc]=new Set);var d=i+"__bubble";c.has(d)||(Ug(s,i,2,!1),c.add(d))}function td(i,s,c){var d=0;s&&(d|=4),Ug(c,i,d,s)}var to="_reactListening"+Math.random().toString(36).slice(2);function nd(i){if(!i[to]){i[to]=!0,Rm.forEach(function(c){c!=="selectionchange"&&(G2.has(c)||td(c,!1,i),td(c,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[to]||(s[to]=!0,td("selectionchange",!1,s))}}function Ug(i,s,c,d){switch(c0(s)){case 2:var y=vw;break;case 8:y=bw;break;default:y=gd}c=y.bind(null,s,c,i),y=void 0,!Cc||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(y=!0),d?y!==void 0?i.addEventListener(s,c,{capture:!0,passive:y}):i.addEventListener(s,c,!0):y!==void 0?i.addEventListener(s,c,{passive:y}):i.addEventListener(s,c,!1)}function id(i,s,c,d,y){var v=d;if((s&1)===0&&(s&2)===0&&d!==null)e:for(;;){if(d===null)return;var T=d.tag;if(T===3||T===4){var k=d.stateNode.containerInfo;if(k===y)break;if(T===4)for(T=d.return;T!==null;){var U=T.tag;if((U===3||U===4)&&T.stateNode.containerInfo===y)return;T=T.return}for(;k!==null;){if(T=_r(k),T===null)return;if(U=T.tag,U===5||U===6||U===26||U===27){d=v=T;continue e}k=k.parentNode}}d=d.return}Gm(function(){var ee=v,le=Nc(c),oe=[];e:{var te=bh.get(i);if(te!==void 0){var ie=pa,Re=i;switch(i){case"keypress":if(ma(c)===0)break e;case"keydown":case"keyup":ie=zb;break;case"focusin":Re="focus",ie=Ac;break;case"focusout":Re="blur",ie=Ac;break;case"beforeblur":case"afterblur":ie=Ac;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=Zm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=Ab;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=qb;break;case gh:case xh:case yh:ie=Mb;break;case vh:ie=Hb;break;case"scroll":case"scrollend":ie=Eb;break;case"wheel":ie=Yb;break;case"copy":case"cut":case"paste":ie=Ib;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=Km;break;case"toggle":case"beforetoggle":ie=Zb}var je=(s&4)!==0,st=!je&&(i==="scroll"||i==="scrollend"),J=je?te!==null?te+"Capture":null:te;je=[];for(var q=ee,W;q!==null;){var ae=q;if(W=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||W===null||J===null||(ae=Us(q,J),ae!=null&&je.push(wl(q,ae,W))),st)break;q=q.return}0<je.length&&(te=new ie(te,Re,null,c,le),oe.push({event:te,listeners:je}))}}if((s&7)===0){e:{if(te=i==="mouseover"||i==="pointerover",ie=i==="mouseout"||i==="pointerout",te&&c!==wc&&(Re=c.relatedTarget||c.fromElement)&&(_r(Re)||Re[Ar]))break e;if((ie||te)&&(te=le.window===le?le:(te=le.ownerDocument)?te.defaultView||te.parentWindow:window,ie?(Re=c.relatedTarget||c.toElement,ie=ee,Re=Re?_r(Re):null,Re!==null&&(st=o(Re),je=Re.tag,Re!==st||je!==5&&je!==27&&je!==6)&&(Re=null)):(ie=null,Re=ee),ie!==Re)){if(je=Zm,ae="onMouseLeave",J="onMouseEnter",q="mouse",(i==="pointerout"||i==="pointerover")&&(je=Km,ae="onPointerLeave",J="onPointerEnter",q="pointer"),st=ie==null?te:Bs(ie),W=Re==null?te:Bs(Re),te=new je(ae,q+"leave",ie,c,le),te.target=st,te.relatedTarget=W,ae=null,_r(le)===ee&&(je=new je(J,q+"enter",Re,c,le),je.target=W,je.relatedTarget=st,ae=je),st=ae,ie&&Re)t:{for(je=ie,J=Re,q=0,W=je;W;W=cs(W))q++;for(W=0,ae=J;ae;ae=cs(ae))W++;for(;0<q-W;)je=cs(je),q--;for(;0<W-q;)J=cs(J),W--;for(;q--;){if(je===J||J!==null&&je===J.alternate)break t;je=cs(je),J=cs(J)}je=null}else je=null;ie!==null&&zg(oe,te,ie,je,!1),Re!==null&&st!==null&&zg(oe,st,Re,je,!0)}}e:{if(te=ee?Bs(ee):window,ie=te.nodeName&&te.nodeName.toLowerCase(),ie==="select"||ie==="input"&&te.type==="file")var we=sh;else if(ih(te))if(lh)we=s2;else{we=i2;var qe=n2}else ie=te.nodeName,!ie||ie.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?ee&&bc(ee.elementType)&&(we=sh):we=r2;if(we&&(we=we(i,ee))){rh(oe,we,c,le);break e}qe&&qe(i,te,ee),i==="focusout"&&ee&&te.type==="number"&&ee.memoizedProps.value!=null&&vc(te,"number",te.value)}switch(qe=ee?Bs(ee):window,i){case"focusin":(ih(qe)||qe.contentEditable==="true")&&(Ur=qe,Dc=ee,Ys=null);break;case"focusout":Ys=Dc=Ur=null;break;case"mousedown":Lc=!0;break;case"contextmenu":case"mouseup":case"dragend":Lc=!1,hh(oe,c,le);break;case"selectionchange":if(a2)break;case"keydown":case"keyup":hh(oe,c,le)}var Ae;if(jc)e:{switch(i){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Br?th(i,c)&&(Me="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(Me="onCompositionStart");Me&&(Wm&&c.locale!=="ko"&&(Br||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Br&&(Ae=Ym()):(Si=le,Tc="value"in Si?Si.value:Si.textContent,Br=!0)),qe=no(ee,Me),0<qe.length&&(Me=new Qm(Me,i,null,c,le),oe.push({event:Me,listeners:qe}),Ae?Me.data=Ae:(Ae=nh(c),Ae!==null&&(Me.data=Ae)))),(Ae=Kb?Wb(i,c):Xb(i,c))&&(Me=no(ee,"onBeforeInput"),0<Me.length&&(qe=new Qm("onBeforeInput","beforeinput",null,c,le),oe.push({event:qe,listeners:Me}),qe.data=Ae)),q2(oe,i,ee,c,le)}Bg(oe,s)})}function wl(i,s,c){return{instance:i,listener:s,currentTarget:c}}function no(i,s){for(var c=s+"Capture",d=[];i!==null;){var y=i,v=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||v===null||(y=Us(i,c),y!=null&&d.unshift(wl(i,y,v)),y=Us(i,s),y!=null&&d.push(wl(i,y,v))),i.tag===3)return d;i=i.return}return[]}function cs(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function zg(i,s,c,d,y){for(var v=s._reactName,T=[];c!==null&&c!==d;){var k=c,U=k.alternate,ee=k.stateNode;if(k=k.tag,U!==null&&U===d)break;k!==5&&k!==26&&k!==27||ee===null||(U=ee,y?(ee=Us(c,v),ee!=null&&T.unshift(wl(c,ee,U))):y||(ee=Us(c,v),ee!=null&&T.push(wl(c,ee,U)))),c=c.return}T.length!==0&&i.push({event:s,listeners:T})}var Y2=/\r\n?/g,J2=/\u0000|\uFFFD/g;function Vg(i){return(typeof i=="string"?i:""+i).replace(Y2,`
`).replace(J2,"")}function $g(i,s){return s=Vg(s),Vg(i)===s}function io(){}function rt(i,s,c,d,y,v){switch(c){case"children":typeof d=="string"?s==="body"||s==="textarea"&&d===""||Lr(i,d):(typeof d=="number"||typeof d=="bigint")&&s!=="body"&&Lr(i,""+d);break;case"className":oa(i,"class",d);break;case"tabIndex":oa(i,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":oa(i,c,d);break;case"style":Fm(i,d,v);break;case"data":if(s!=="object"){oa(i,"data",d);break}case"src":case"href":if(d===""&&(s!=="a"||c!=="href")){i.removeAttribute(c);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(c);break}d=da(""+d),i.setAttribute(c,d);break;case"action":case"formAction":if(typeof d=="function"){i.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(c==="formAction"?(s!=="input"&&rt(i,s,"name",y.name,y,null),rt(i,s,"formEncType",y.formEncType,y,null),rt(i,s,"formMethod",y.formMethod,y,null),rt(i,s,"formTarget",y.formTarget,y,null)):(rt(i,s,"encType",y.encType,y,null),rt(i,s,"method",y.method,y,null),rt(i,s,"target",y.target,y,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){i.removeAttribute(c);break}d=da(""+d),i.setAttribute(c,d);break;case"onClick":d!=null&&(i.onclick=io);break;case"onScroll":d!=null&&He("scroll",i);break;case"onScrollEnd":d!=null&&He("scrollend",i);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(c=d.__html,c!=null){if(y.children!=null)throw Error(r(60));i.innerHTML=c}}break;case"multiple":i.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":i.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){i.removeAttribute("xlink:href");break}c=da(""+d),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(c,""+d):i.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(c,""):i.removeAttribute(c);break;case"capture":case"download":d===!0?i.setAttribute(c,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?i.setAttribute(c,d):i.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?i.setAttribute(c,d):i.removeAttribute(c);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?i.removeAttribute(c):i.setAttribute(c,d);break;case"popover":He("beforetoggle",i),He("toggle",i),aa(i,"popover",d);break;case"xlinkActuate":Xn(i,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":Xn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":Xn(i,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":Xn(i,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":Xn(i,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":Xn(i,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":Xn(i,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":Xn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":Xn(i,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":aa(i,"is",d);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Cb.get(c)||c,aa(i,c,d))}}function rd(i,s,c,d,y,v){switch(c){case"style":Fm(i,d,v);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(r(61));if(c=d.__html,c!=null){if(y.children!=null)throw Error(r(60));i.innerHTML=c}}break;case"children":typeof d=="string"?Lr(i,d):(typeof d=="number"||typeof d=="bigint")&&Lr(i,""+d);break;case"onScroll":d!=null&&He("scroll",i);break;case"onScrollEnd":d!=null&&He("scrollend",i);break;case"onClick":d!=null&&(i.onclick=io);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Im.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(y=c.endsWith("Capture"),s=c.slice(2,y?c.length-7:void 0),v=i[Jt]||null,v=v!=null?v[c]:null,typeof v=="function"&&i.removeEventListener(s,v,y),typeof d=="function")){typeof v!="function"&&v!==null&&(c in i?i[c]=null:i.hasAttribute(c)&&i.removeAttribute(c)),i.addEventListener(s,d,y);break e}c in i?i[c]=d:d===!0?i.setAttribute(c,""):aa(i,c,d)}}}function Bt(i,s,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",i),He("load",i);var d=!1,y=!1,v;for(v in c)if(c.hasOwnProperty(v)){var T=c[v];if(T!=null)switch(v){case"src":d=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:rt(i,s,v,T,c,null)}}y&&rt(i,s,"srcSet",c.srcSet,c,null),d&&rt(i,s,"src",c.src,c,null);return;case"input":He("invalid",i);var k=v=T=y=null,U=null,ee=null;for(d in c)if(c.hasOwnProperty(d)){var le=c[d];if(le!=null)switch(d){case"name":y=le;break;case"type":T=le;break;case"checked":U=le;break;case"defaultChecked":ee=le;break;case"value":v=le;break;case"defaultValue":k=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,s));break;default:rt(i,s,d,le,c,null)}}zm(i,v,k,U,ee,T,y,!1),ca(i);return;case"select":He("invalid",i),d=T=v=null;for(y in c)if(c.hasOwnProperty(y)&&(k=c[y],k!=null))switch(y){case"value":v=k;break;case"defaultValue":T=k;break;case"multiple":d=k;default:rt(i,s,y,k,c,null)}s=v,c=T,i.multiple=!!d,s!=null?Dr(i,!!d,s,!1):c!=null&&Dr(i,!!d,c,!0);return;case"textarea":He("invalid",i),v=y=d=null;for(T in c)if(c.hasOwnProperty(T)&&(k=c[T],k!=null))switch(T){case"value":d=k;break;case"defaultValue":y=k;break;case"children":v=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(91));break;default:rt(i,s,T,k,c,null)}$m(i,d,y,v),ca(i);return;case"option":for(U in c)if(c.hasOwnProperty(U)&&(d=c[U],d!=null))switch(U){case"selected":i.selected=d&&typeof d!="function"&&typeof d!="symbol";break;default:rt(i,s,U,d,c,null)}return;case"dialog":He("beforetoggle",i),He("toggle",i),He("cancel",i),He("close",i);break;case"iframe":case"object":He("load",i);break;case"video":case"audio":for(d=0;d<bl.length;d++)He(bl[d],i);break;case"image":He("error",i),He("load",i);break;case"details":He("toggle",i);break;case"embed":case"source":case"link":He("error",i),He("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in c)if(c.hasOwnProperty(ee)&&(d=c[ee],d!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:rt(i,s,ee,d,c,null)}return;default:if(bc(s)){for(le in c)c.hasOwnProperty(le)&&(d=c[le],d!==void 0&&rd(i,s,le,d,c,void 0));return}}for(k in c)c.hasOwnProperty(k)&&(d=c[k],d!=null&&rt(i,s,k,d,c,null))}function Z2(i,s,c,d){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,v=null,T=null,k=null,U=null,ee=null,le=null;for(ie in c){var oe=c[ie];if(c.hasOwnProperty(ie)&&oe!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":U=oe;default:d.hasOwnProperty(ie)||rt(i,s,ie,null,d,oe)}}for(var te in d){var ie=d[te];if(oe=c[te],d.hasOwnProperty(te)&&(ie!=null||oe!=null))switch(te){case"type":v=ie;break;case"name":y=ie;break;case"checked":ee=ie;break;case"defaultChecked":le=ie;break;case"value":T=ie;break;case"defaultValue":k=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,s));break;default:ie!==oe&&rt(i,s,te,ie,d,oe)}}yc(i,T,k,U,ee,le,v,y);return;case"select":ie=T=k=te=null;for(v in c)if(U=c[v],c.hasOwnProperty(v)&&U!=null)switch(v){case"value":break;case"multiple":ie=U;default:d.hasOwnProperty(v)||rt(i,s,v,null,d,U)}for(y in d)if(v=d[y],U=c[y],d.hasOwnProperty(y)&&(v!=null||U!=null))switch(y){case"value":te=v;break;case"defaultValue":k=v;break;case"multiple":T=v;default:v!==U&&rt(i,s,y,v,d,U)}s=k,c=T,d=ie,te!=null?Dr(i,!!c,te,!1):!!d!=!!c&&(s!=null?Dr(i,!!c,s,!0):Dr(i,!!c,c?[]:"",!1));return;case"textarea":ie=te=null;for(k in c)if(y=c[k],c.hasOwnProperty(k)&&y!=null&&!d.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:rt(i,s,k,null,d,y)}for(T in d)if(y=d[T],v=c[T],d.hasOwnProperty(T)&&(y!=null||v!=null))switch(T){case"value":te=y;break;case"defaultValue":ie=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:y!==v&&rt(i,s,T,y,d,v)}Vm(i,te,ie);return;case"option":for(var Re in c)if(te=c[Re],c.hasOwnProperty(Re)&&te!=null&&!d.hasOwnProperty(Re))switch(Re){case"selected":i.selected=!1;break;default:rt(i,s,Re,null,d,te)}for(U in d)if(te=d[U],ie=c[U],d.hasOwnProperty(U)&&te!==ie&&(te!=null||ie!=null))switch(U){case"selected":i.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:rt(i,s,U,te,d,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var je in c)te=c[je],c.hasOwnProperty(je)&&te!=null&&!d.hasOwnProperty(je)&&rt(i,s,je,null,d,te);for(ee in d)if(te=d[ee],ie=c[ee],d.hasOwnProperty(ee)&&te!==ie&&(te!=null||ie!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,s));break;default:rt(i,s,ee,te,d,ie)}return;default:if(bc(s)){for(var st in c)te=c[st],c.hasOwnProperty(st)&&te!==void 0&&!d.hasOwnProperty(st)&&rd(i,s,st,void 0,d,te);for(le in d)te=d[le],ie=c[le],!d.hasOwnProperty(le)||te===ie||te===void 0&&ie===void 0||rd(i,s,le,te,d,ie);return}}for(var J in c)te=c[J],c.hasOwnProperty(J)&&te!=null&&!d.hasOwnProperty(J)&&rt(i,s,J,null,d,te);for(oe in d)te=d[oe],ie=c[oe],!d.hasOwnProperty(oe)||te===ie||te==null&&ie==null||rt(i,s,oe,te,d,ie)}var sd=null,ld=null;function ro(i){return i.nodeType===9?i:i.ownerDocument}function qg(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fg(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function ad(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var od=null;function Q2(){var i=window.event;return i&&i.type==="popstate"?i===od?!1:(od=i,!0):(od=null,!1)}var Hg=typeof setTimeout=="function"?setTimeout:void 0,K2=typeof clearTimeout=="function"?clearTimeout:void 0,Gg=typeof Promise=="function"?Promise:void 0,W2=typeof queueMicrotask=="function"?queueMicrotask:typeof Gg<"u"?function(i){return Gg.resolve(null).then(i).catch(X2)}:Hg;function X2(i){setTimeout(function(){throw i})}function Ui(i){return i==="head"}function Yg(i,s){var c=s,d=0,y=0;do{var v=c.nextSibling;if(i.removeChild(c),v&&v.nodeType===8)if(c=v.data,c==="/$"){if(0<d&&8>d){c=d;var T=i.ownerDocument;if(c&1&&Nl(T.documentElement),c&2&&Nl(T.body),c&4)for(c=T.head,Nl(c),T=c.firstChild;T;){var k=T.nextSibling,U=T.nodeName;T[Os]||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&T.rel.toLowerCase()==="stylesheet"||c.removeChild(T),T=k}}if(y===0){i.removeChild(v),jl(s);return}y--}else c==="$"||c==="$?"||c==="$!"?y++:d=c.charCodeAt(0)-48;else d=0;c=v}while(c);jl(s)}function cd(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var c=s;switch(s=s.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":cd(c),hc(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}i.removeChild(c)}}function ew(i,s,c,d){for(;i.nodeType===1;){var y=c;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!d&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(d){if(!i[Os])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(v=i.getAttribute("rel"),v==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(v!==y.rel||i.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||i.getAttribute("title")!==(y.title==null?null:y.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(v=i.getAttribute("src"),(v!==(y.src==null?null:y.src)||i.getAttribute("type")!==(y.type==null?null:y.type)||i.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&v&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var v=y.name==null?null:""+y.name;if(y.type==="hidden"&&i.getAttribute("name")===v)return i}else return i;if(i=_n(i.nextSibling),i===null)break}return null}function tw(i,s,c){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!c||(i=_n(i.nextSibling),i===null))return null;return i}function ud(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function nw(i,s){var c=i.ownerDocument;if(i.data!=="$?"||c.readyState==="complete")s();else{var d=function(){s(),c.removeEventListener("DOMContentLoaded",d)};c.addEventListener("DOMContentLoaded",d),i._reactRetry=d}}function _n(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var dd=null;function Jg(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"){if(s===0)return i;s--}else c==="/$"&&s++}i=i.previousSibling}return null}function Zg(i,s,c){switch(s=ro(c),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Nl(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);hc(i)}var Sn=new Map,Qg=new Set;function so(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var mi=Y.d;Y.d={f:iw,r:rw,D:sw,C:lw,L:aw,m:ow,X:uw,S:cw,M:dw};function iw(){var i=mi.f(),s=Qa();return i||s}function rw(i){var s=jr(i);s!==null&&s.tag===5&&s.type==="form"?gp(s):mi.r(i)}var us=typeof document>"u"?null:document;function Kg(i,s,c){var d=us;if(d&&typeof s=="string"&&s){var y=gn(s);y='link[rel="'+i+'"][href="'+y+'"]',typeof c=="string"&&(y+='[crossorigin="'+c+'"]'),Qg.has(y)||(Qg.add(y),i={rel:i,crossOrigin:c,href:s},d.querySelector(y)===null&&(s=d.createElement("link"),Bt(s,"link",i),Rt(s),d.head.appendChild(s)))}}function sw(i){mi.D(i),Kg("dns-prefetch",i,null)}function lw(i,s){mi.C(i,s),Kg("preconnect",i,s)}function aw(i,s,c){mi.L(i,s,c);var d=us;if(d&&i&&s){var y='link[rel="preload"][as="'+gn(s)+'"]';s==="image"&&c&&c.imageSrcSet?(y+='[imagesrcset="'+gn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(y+='[imagesizes="'+gn(c.imageSizes)+'"]')):y+='[href="'+gn(i)+'"]';var v=y;switch(s){case"style":v=ds(i);break;case"script":v=fs(i)}Sn.has(v)||(i=x({rel:"preload",href:s==="image"&&c&&c.imageSrcSet?void 0:i,as:s},c),Sn.set(v,i),d.querySelector(y)!==null||s==="style"&&d.querySelector(Sl(v))||s==="script"&&d.querySelector(Cl(v))||(s=d.createElement("link"),Bt(s,"link",i),Rt(s),d.head.appendChild(s)))}}function ow(i,s){mi.m(i,s);var c=us;if(c&&i){var d=s&&typeof s.as=="string"?s.as:"script",y='link[rel="modulepreload"][as="'+gn(d)+'"][href="'+gn(i)+'"]',v=y;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=fs(i)}if(!Sn.has(v)&&(i=x({rel:"modulepreload",href:i},s),Sn.set(v,i),c.querySelector(y)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Cl(v)))return}d=c.createElement("link"),Bt(d,"link",i),Rt(d),c.head.appendChild(d)}}}function cw(i,s,c){mi.S(i,s,c);var d=us;if(d&&i){var y=Mr(d).hoistableStyles,v=ds(i);s=s||"default";var T=y.get(v);if(!T){var k={loading:0,preload:null};if(T=d.querySelector(Sl(v)))k.loading=5;else{i=x({rel:"stylesheet",href:i,"data-precedence":s},c),(c=Sn.get(v))&&fd(i,c);var U=T=d.createElement("link");Rt(U),Bt(U,"link",i),U._p=new Promise(function(ee,le){U.onload=ee,U.onerror=le}),U.addEventListener("load",function(){k.loading|=1}),U.addEventListener("error",function(){k.loading|=2}),k.loading|=4,lo(T,s,d)}T={type:"stylesheet",instance:T,count:1,state:k},y.set(v,T)}}}function uw(i,s){mi.X(i,s);var c=us;if(c&&i){var d=Mr(c).hoistableScripts,y=fs(i),v=d.get(y);v||(v=c.querySelector(Cl(y)),v||(i=x({src:i,async:!0},s),(s=Sn.get(y))&&md(i,s),v=c.createElement("script"),Rt(v),Bt(v,"link",i),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(y,v))}}function dw(i,s){mi.M(i,s);var c=us;if(c&&i){var d=Mr(c).hoistableScripts,y=fs(i),v=d.get(y);v||(v=c.querySelector(Cl(y)),v||(i=x({src:i,async:!0,type:"module"},s),(s=Sn.get(y))&&md(i,s),v=c.createElement("script"),Rt(v),Bt(v,"link",i),c.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},d.set(y,v))}}function Wg(i,s,c,d){var y=(y=he.current)?so(y):null;if(!y)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(s=ds(c.href),c=Mr(y).hoistableStyles,d=c.get(s),d||(d={type:"style",instance:null,count:0,state:null},c.set(s,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){i=ds(c.href);var v=Mr(y).hoistableStyles,T=v.get(i);if(T||(y=y.ownerDocument||y,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(i,T),(v=y.querySelector(Sl(i)))&&!v._p&&(T.instance=v,T.state.loading=5),Sn.has(i)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Sn.set(i,c),v||fw(y,i,c,T.state))),s&&d===null)throw Error(r(528,""));return T}if(s&&d!==null)throw Error(r(529,""));return null;case"script":return s=c.async,c=c.src,typeof c=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=fs(c),c=Mr(y).hoistableScripts,d=c.get(s),d||(d={type:"script",instance:null,count:0,state:null},c.set(s,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function ds(i){return'href="'+gn(i)+'"'}function Sl(i){return'link[rel="stylesheet"]['+i+"]"}function Xg(i){return x({},i,{"data-precedence":i.precedence,precedence:null})}function fw(i,s,c,d){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?d.loading=1:(s=i.createElement("link"),d.preload=s,s.addEventListener("load",function(){return d.loading|=1}),s.addEventListener("error",function(){return d.loading|=2}),Bt(s,"link",c),Rt(s),i.head.appendChild(s))}function fs(i){return'[src="'+gn(i)+'"]'}function Cl(i){return"script[async]"+i}function e0(i,s,c){if(s.count++,s.instance===null)switch(s.type){case"style":var d=i.querySelector('style[data-href~="'+gn(c.href)+'"]');if(d)return s.instance=d,Rt(d),d;var y=x({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return d=(i.ownerDocument||i).createElement("style"),Rt(d),Bt(d,"style",y),lo(d,c.precedence,i),s.instance=d;case"stylesheet":y=ds(c.href);var v=i.querySelector(Sl(y));if(v)return s.state.loading|=4,s.instance=v,Rt(v),v;d=Xg(c),(y=Sn.get(y))&&fd(d,y),v=(i.ownerDocument||i).createElement("link"),Rt(v);var T=v;return T._p=new Promise(function(k,U){T.onload=k,T.onerror=U}),Bt(v,"link",d),s.state.loading|=4,lo(v,c.precedence,i),s.instance=v;case"script":return v=fs(c.src),(y=i.querySelector(Cl(v)))?(s.instance=y,Rt(y),y):(d=c,(y=Sn.get(v))&&(d=x({},c),md(d,y)),i=i.ownerDocument||i,y=i.createElement("script"),Rt(y),Bt(y,"link",d),i.head.appendChild(y),s.instance=y);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(d=s.instance,s.state.loading|=4,lo(d,c.precedence,i));return s.instance}function lo(i,s,c){for(var d=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=d.length?d[d.length-1]:null,v=y,T=0;T<d.length;T++){var k=d[T];if(k.dataset.precedence===s)v=k;else if(v!==y)break}v?v.parentNode.insertBefore(i,v.nextSibling):(s=c.nodeType===9?c.head:c,s.insertBefore(i,s.firstChild))}function fd(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function md(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var ao=null;function t0(i,s,c){if(ao===null){var d=new Map,y=ao=new Map;y.set(c,d)}else y=ao,d=y.get(c),d||(d=new Map,y.set(c,d));if(d.has(i))return d;for(d.set(i,null),c=c.getElementsByTagName(i),y=0;y<c.length;y++){var v=c[y];if(!(v[Os]||v[zt]||i==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var T=v.getAttribute(s)||"";T=i+T;var k=d.get(T);k?k.push(v):d.set(T,[v])}}return d}function n0(i,s,c){i=i.ownerDocument||i,i.head.insertBefore(c,s==="title"?i.querySelector("head > title"):null)}function mw(i,s,c){if(c===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function i0(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Tl=null;function hw(){}function pw(i,s,c){if(Tl===null)throw Error(r(475));var d=Tl;if(s.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var y=ds(c.href),v=i.querySelector(Sl(y));if(v){i=v._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(d.count++,d=oo.bind(d),i.then(d,d)),s.state.loading|=4,s.instance=v,Rt(v);return}v=i.ownerDocument||i,c=Xg(c),(y=Sn.get(y))&&fd(c,y),v=v.createElement("link"),Rt(v);var T=v;T._p=new Promise(function(k,U){T.onload=k,T.onerror=U}),Bt(v,"link",c),s.instance=v}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(d.count++,s=oo.bind(d),i.addEventListener("load",s),i.addEventListener("error",s))}}function gw(){if(Tl===null)throw Error(r(475));var i=Tl;return i.stylesheets&&i.count===0&&hd(i,i.stylesheets),0<i.count?function(s){var c=setTimeout(function(){if(i.stylesheets&&hd(i,i.stylesheets),i.unsuspend){var d=i.unsuspend;i.unsuspend=null,d()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(c)}}:null}function oo(){if(this.count--,this.count===0){if(this.stylesheets)hd(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var co=null;function hd(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,co=new Map,s.forEach(xw,i),co=null,oo.call(i))}function xw(i,s){if(!(s.state.loading&4)){var c=co.get(i);if(c)var d=c.get(null);else{c=new Map,co.set(i,c);for(var y=i.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<y.length;v++){var T=y[v];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(c.set(T.dataset.precedence,T),d=T)}d&&c.set(null,d)}y=s.instance,T=y.getAttribute("data-precedence"),v=c.get(T)||d,v===d&&c.set(null,y),c.set(T,y),this.count++,d=oo.bind(this),y.addEventListener("load",d),y.addEventListener("error",d),v?v.parentNode.insertBefore(y,v.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(y,i.firstChild)),s.state.loading|=4}}var El={$$typeof:D,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function yw(i,s,c,d,y,v,T,k){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=uc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uc(0),this.hiddenUpdates=uc(null),this.identifierPrefix=d,this.onUncaughtError=y,this.onCaughtError=v,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function r0(i,s,c,d,y,v,T,k,U,ee,le,oe){return i=new yw(i,s,c,T,k,U,ee,oe),s=1,v===!0&&(s|=24),v=sn(3,null,null,s),i.current=v,v.stateNode=i,s=Zc(),s.refCount++,i.pooledCache=s,s.refCount++,v.memoizedState={element:d,isDehydrated:c,cache:s},Xc(v),i}function s0(i){return i?(i=qr,i):qr}function l0(i,s,c,d,y,v){y=s0(y),d.context===null?d.context=y:d.pendingContext=y,d=Ei(s),d.payload={element:c},v=v===void 0?null:v,v!==null&&(d.callback=v),c=ki(i,d,s),c!==null&&(un(c,i,s),nl(c,i,s))}function a0(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<s?c:s}}function pd(i,s){a0(i,s),(i=i.alternate)&&a0(i,s)}function o0(i){if(i.tag===13){var s=$r(i,67108864);s!==null&&un(s,i,67108864),pd(i,67108864)}}var uo=!0;function vw(i,s,c,d){var y=I.T;I.T=null;var v=Y.p;try{Y.p=2,gd(i,s,c,d)}finally{Y.p=v,I.T=y}}function bw(i,s,c,d){var y=I.T;I.T=null;var v=Y.p;try{Y.p=8,gd(i,s,c,d)}finally{Y.p=v,I.T=y}}function gd(i,s,c,d){if(uo){var y=xd(d);if(y===null)id(i,s,d,fo,c),u0(i,d);else if(Nw(y,i,s,c,d))d.stopPropagation();else if(u0(i,d),s&4&&-1<ww.indexOf(i)){for(;y!==null;){var v=jr(y);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var T=nn(v.pendingLanes);if(T!==0){var k=v;for(k.pendingLanes|=2,k.entangledLanes|=2;T;){var U=1<<31-xe(T);k.entanglements[1]|=U,T&=~U}Un(v),(et&6)===0&&(Ja=Pe()+500,vl(0))}}break;case 13:k=$r(v,2),k!==null&&un(k,v,2),Qa(),pd(v,2)}if(v=xd(d),v===null&&id(i,s,d,fo,c),v===y)break;y=v}y!==null&&d.stopPropagation()}else id(i,s,d,null,c)}}function xd(i){return i=Nc(i),yd(i)}var fo=null;function yd(i){if(fo=null,i=_r(i),i!==null){var s=o(i);if(s===null)i=null;else{var c=s.tag;if(c===13){if(i=u(s),i!==null)return i;i=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return fo=i,null}function c0(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Xi()){case ce:return 2;case Je:return 8;case Be:case yt:return 32;case de:return 268435456;default:return 32}default:return 32}}var vd=!1,zi=null,Vi=null,$i=null,kl=new Map,Al=new Map,qi=[],ww="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function u0(i,s){switch(i){case"focusin":case"focusout":zi=null;break;case"dragenter":case"dragleave":Vi=null;break;case"mouseover":case"mouseout":$i=null;break;case"pointerover":case"pointerout":kl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Al.delete(s.pointerId)}}function _l(i,s,c,d,y,v){return i===null||i.nativeEvent!==v?(i={blockedOn:s,domEventName:c,eventSystemFlags:d,nativeEvent:v,targetContainers:[y]},s!==null&&(s=jr(s),s!==null&&o0(s)),i):(i.eventSystemFlags|=d,s=i.targetContainers,y!==null&&s.indexOf(y)===-1&&s.push(y),i)}function Nw(i,s,c,d,y){switch(s){case"focusin":return zi=_l(zi,i,s,c,d,y),!0;case"dragenter":return Vi=_l(Vi,i,s,c,d,y),!0;case"mouseover":return $i=_l($i,i,s,c,d,y),!0;case"pointerover":var v=y.pointerId;return kl.set(v,_l(kl.get(v)||null,i,s,c,d,y)),!0;case"gotpointercapture":return v=y.pointerId,Al.set(v,_l(Al.get(v)||null,i,s,c,d,y)),!0}return!1}function d0(i){var s=_r(i.target);if(s!==null){var c=o(s);if(c!==null){if(s=c.tag,s===13){if(s=u(c),s!==null){i.blockedOn=s,pb(i.priority,function(){if(c.tag===13){var d=cn();d=dc(d);var y=$r(c,d);y!==null&&un(y,c,d),pd(c,d)}});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function mo(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var c=xd(i.nativeEvent);if(c===null){c=i.nativeEvent;var d=new c.constructor(c.type,c);wc=d,c.target.dispatchEvent(d),wc=null}else return s=jr(c),s!==null&&o0(s),i.blockedOn=c,!1;s.shift()}return!0}function f0(i,s,c){mo(i)&&c.delete(s)}function Sw(){vd=!1,zi!==null&&mo(zi)&&(zi=null),Vi!==null&&mo(Vi)&&(Vi=null),$i!==null&&mo($i)&&($i=null),kl.forEach(f0),Al.forEach(f0)}function ho(i,s){i.blockedOn===s&&(i.blockedOn=null,vd||(vd=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Sw)))}var po=null;function m0(i){po!==i&&(po=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){po===i&&(po=null);for(var s=0;s<i.length;s+=3){var c=i[s],d=i[s+1],y=i[s+2];if(typeof d!="function"){if(yd(d||c)===null)continue;break}var v=jr(c);v!==null&&(i.splice(s,3),s-=3,yu(v,{pending:!0,data:y,method:c.method,action:d},d,y))}}))}function jl(i){function s(U){return ho(U,i)}zi!==null&&ho(zi,i),Vi!==null&&ho(Vi,i),$i!==null&&ho($i,i),kl.forEach(s),Al.forEach(s);for(var c=0;c<qi.length;c++){var d=qi[c];d.blockedOn===i&&(d.blockedOn=null)}for(;0<qi.length&&(c=qi[0],c.blockedOn===null);)d0(c),c.blockedOn===null&&qi.shift();if(c=(i.ownerDocument||i).$$reactFormReplay,c!=null)for(d=0;d<c.length;d+=3){var y=c[d],v=c[d+1],T=y[Jt]||null;if(typeof v=="function")T||m0(c);else if(T){var k=null;if(v&&v.hasAttribute("formAction")){if(y=v,T=v[Jt]||null)k=T.formAction;else if(yd(y)!==null)continue}else k=T.action;typeof k=="function"?c[d+1]=k:(c.splice(d,3),d-=3),m0(c)}}}function bd(i){this._internalRoot=i}go.prototype.render=bd.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var c=s.current,d=cn();l0(c,d,i,s,null,null)},go.prototype.unmount=bd.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;l0(i.current,2,null,i,null,null),Qa(),s[Ar]=null}};function go(i){this._internalRoot=i}go.prototype.unstable_scheduleHydration=function(i){if(i){var s=jm();i={blockedOn:null,target:i,priority:s};for(var c=0;c<qi.length&&s!==0&&s<qi[c].priority;c++);qi.splice(c,0,i),c===0&&d0(i)}};var h0=e.version;if(h0!=="19.1.0")throw Error(r(527,h0,"19.1.0"));Y.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=g(s),i=i!==null?h(i):null,i=i===null?null:i.stateNode,i};var Cw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xo.isDisabled&&xo.supportsFiber)try{K=xo.inject(Cw),se=xo}catch{}}return Rl.createRoot=function(i,s){if(!l(i))throw Error(r(299));var c=!1,d="",y=jp,v=Mp,T=Rp,k=null;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(y=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(k=s.unstable_transitionCallbacks)),s=r0(i,1,!1,null,null,c,d,y,v,T,k,null),i[Ar]=s.current,nd(i),new bd(s)},Rl.hydrateRoot=function(i,s,c){if(!l(i))throw Error(r(299));var d=!1,y="",v=jp,T=Mp,k=Rp,U=null,ee=null;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(y=c.identifierPrefix),c.onUncaughtError!==void 0&&(v=c.onUncaughtError),c.onCaughtError!==void 0&&(T=c.onCaughtError),c.onRecoverableError!==void 0&&(k=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(U=c.unstable_transitionCallbacks),c.formState!==void 0&&(ee=c.formState)),s=r0(i,1,!0,s,c??null,d,y,v,T,k,U,ee),s.context=s0(null),c=s.current,d=cn(),d=dc(d),y=Ei(d),y.callback=null,ki(c,y,d),c=d,s.current.lanes=c,Ps(s,c),Un(s),i[Ar]=s.current,nd(i),new go(s)},Rl.version="19.1.0",Rl}var C0;function Dw(){if(C0)return Sd.exports;C0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Sd.exports=Iw(),Sd.exports}var Lw=Dw();const Pw=Wl(Lw);var Ke;(function(t){t.assertEqual=l=>{};function e(l){}t.assertIs=e;function n(l){throw new Error}t.assertNever=n,t.arrayToEnum=l=>{const o={};for(const u of l)o[u]=u;return o},t.getValidEnumValues=l=>{const o=t.objectKeys(l).filter(f=>typeof l[l[f]]!="number"),u={};for(const f of o)u[f]=l[f];return t.objectValues(u)},t.objectValues=l=>t.objectKeys(l).map(function(o){return l[o]}),t.objectKeys=typeof Object.keys=="function"?l=>Object.keys(l):l=>{const o=[];for(const u in l)Object.prototype.hasOwnProperty.call(l,u)&&o.push(u);return o},t.find=(l,o)=>{for(const u of l)if(o(u))return u},t.isInteger=typeof Number.isInteger=="function"?l=>Number.isInteger(l):l=>typeof l=="number"&&Number.isFinite(l)&&Math.floor(l)===l;function r(l,o=" | "){return l.map(u=>typeof u=="string"?`'${u}'`:u).join(o)}t.joinValues=r,t.jsonStringifyReplacer=(l,o)=>typeof o=="bigint"?o.toString():o})(Ke||(Ke={}));var T0;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(T0||(T0={}));const Ne=Ke.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Yi=t=>{switch(typeof t){case"undefined":return Ne.undefined;case"string":return Ne.string;case"number":return Number.isNaN(t)?Ne.nan:Ne.number;case"boolean":return Ne.boolean;case"function":return Ne.function;case"bigint":return Ne.bigint;case"symbol":return Ne.symbol;case"object":return Array.isArray(t)?Ne.array:t===null?Ne.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Ne.promise:typeof Map<"u"&&t instanceof Map?Ne.map:typeof Set<"u"&&t instanceof Set?Ne.set:typeof Date<"u"&&t instanceof Date?Ne.date:Ne.object;default:return Ne.unknown}},me=Ke.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class gi extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(o){return o.message},r={_errors:[]},l=o=>{for(const u of o.issues)if(u.code==="invalid_union")u.unionErrors.map(l);else if(u.code==="invalid_return_type")l(u.returnTypeError);else if(u.code==="invalid_arguments")l(u.argumentsError);else if(u.path.length===0)r._errors.push(n(u));else{let f=r,g=0;for(;g<u.path.length;){const h=u.path[g];g===u.path.length-1?(f[h]=f[h]||{_errors:[]},f[h]._errors.push(n(u))):f[h]=f[h]||{_errors:[]},f=f[h],g++}}};return l(this),r}static assert(e){if(!(e instanceof gi))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ke.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const l of this.issues)l.path.length>0?(n[l.path[0]]=n[l.path[0]]||[],n[l.path[0]].push(e(l))):r.push(e(l));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}gi.create=t=>new gi(t);const gf=(t,e)=>{let n;switch(t.code){case me.invalid_type:t.received===Ne.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case me.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Ke.jsonStringifyReplacer)}`;break;case me.unrecognized_keys:n=`Unrecognized key(s) in object: ${Ke.joinValues(t.keys,", ")}`;break;case me.invalid_union:n="Invalid input";break;case me.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Ke.joinValues(t.options)}`;break;case me.invalid_enum_value:n=`Invalid enum value. Expected ${Ke.joinValues(t.options)}, received '${t.received}'`;break;case me.invalid_arguments:n="Invalid function arguments";break;case me.invalid_return_type:n="Invalid function return type";break;case me.invalid_date:n="Invalid date";break;case me.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Ke.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case me.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case me.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case me.custom:n="Invalid input";break;case me.invalid_intersection_types:n="Intersection results could not be merged";break;case me.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case me.not_finite:n="Number must be finite";break;default:n=e.defaultError,Ke.assertNever(t)}return{message:n}};let Ow=gf;function Bw(){return Ow}const Uw=t=>{const{data:e,path:n,errorMaps:r,issueData:l}=t,o=[...n,...l.path||[]],u={...l,path:o};if(l.message!==void 0)return{...l,path:o,message:l.message};let f="";const g=r.filter(h=>!!h).slice().reverse();for(const h of g)f=h(u,{data:e,defaultError:f}).message;return{...l,path:o,message:f}};function be(t,e){const n=Bw(),r=Uw({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===gf?void 0:gf].filter(l=>!!l)});t.common.issues.push(r)}class Gt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const l of n){if(l.status==="aborted")return Oe;l.status==="dirty"&&e.dirty(),r.push(l.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const l of n){const o=await l.key,u=await l.value;r.push({key:o,value:u})}return Gt.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const l of n){const{key:o,value:u}=l;if(o.status==="aborted"||u.status==="aborted")return Oe;o.status==="dirty"&&e.dirty(),u.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof u.value<"u"||l.alwaysSet)&&(r[o.value]=u.value)}return{status:e.value,value:r}}}const Oe=Object.freeze({status:"aborted"}),Vl=t=>({status:"dirty",value:t}),Tn=t=>({status:"valid",value:t}),E0=t=>t.status==="aborted",k0=t=>t.status==="dirty",Cs=t=>t.status==="valid",Po=t=>typeof Promise<"u"&&t instanceof Promise;var Ce;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Ce||(Ce={}));class Yn{constructor(e,n,r,l){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=l}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const A0=(t,e)=>{if(Cs(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new gi(t.common.issues);return this._error=n,this._error}}};function Ve(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:l}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:l}:{errorMap:(u,f)=>{const{message:g}=t;return u.code==="invalid_enum_value"?{message:g??f.defaultError}:typeof f.data>"u"?{message:g??r??f.defaultError}:u.code!=="invalid_type"?{message:f.defaultError}:{message:g??n??f.defaultError}},description:l}}class Ye{get description(){return this._def.description}_getType(e){return Yi(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Yi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Gt,ctx:{common:e.parent.common,data:e.data,parsedType:Yi(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Po(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Yi(e)},l=this._parseSync({data:e,path:r.path,parent:r});return A0(r,l)}"~validate"(e){var r,l;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Yi(e)};if(!this["~standard"].async)try{const o=this._parseSync({data:e,path:[],parent:n});return Cs(o)?{value:o.value}:{issues:n.common.issues}}catch(o){(l=(r=o==null?void 0:o.message)==null?void 0:r.toLowerCase())!=null&&l.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(o=>Cs(o)?{value:o.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Yi(e)},l=this._parse({data:e,path:r.path,parent:r}),o=await(Po(l)?l:Promise.resolve(l));return A0(r,o)}refine(e,n){const r=l=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(l):n;return this._refinement((l,o)=>{const u=e(l),f=()=>o.addIssue({code:me.custom,...r(l)});return typeof Promise<"u"&&u instanceof Promise?u.then(g=>g?!0:(f(),!1)):u?!0:(f(),!1)})}refinement(e,n){return this._refinement((r,l)=>e(r)?!0:(l.addIssue(typeof n=="function"?n(r,l):n),!1))}_refinement(e){return new ks({schema:this,typeName:Le.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Ji.create(this,this._def)}nullable(){return As.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Gn.create(this)}promise(){return Vo.create(this,this._def)}or(e){return Bo.create([this,e],this._def)}and(e){return Uo.create(this,e,this._def)}transform(e){return new ks({...Ve(this._def),schema:this,typeName:Le.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new bf({...Ve(this._def),innerType:this,defaultValue:n,typeName:Le.ZodDefault})}brand(){return new o5({typeName:Le.ZodBranded,type:this,...Ve(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new wf({...Ve(this._def),innerType:this,catchValue:n,typeName:Le.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Qf.create(this,e)}readonly(){return Nf.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const zw=/^c[^\s-]{8,}$/i,Vw=/^[0-9a-z]+$/,$w=/^[0-9A-HJKMNP-TV-Z]{26}$/i,qw=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Fw=/^[a-z0-9_-]{21}$/i,Hw=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Gw=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Yw=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Jw="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let kd;const Zw=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Qw=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Kw=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Ww=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Xw=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,e5=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,N1="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",t5=new RegExp(`^${N1}$`);function S1(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function n5(t){return new RegExp(`^${S1(t)}$`)}function i5(t){let e=`${N1}T${S1(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function r5(t,e){return!!((e==="v4"||!e)&&Zw.test(t)||(e==="v6"||!e)&&Kw.test(t))}function s5(t,e){if(!Hw.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),l=JSON.parse(atob(r));return!(typeof l!="object"||l===null||"typ"in l&&(l==null?void 0:l.typ)!=="JWT"||!l.alg||e&&l.alg!==e)}catch{return!1}}function l5(t,e){return!!((e==="v4"||!e)&&Qw.test(t)||(e==="v6"||!e)&&Ww.test(t))}class Fn extends Ye{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Ne.string){const o=this._getOrReturnCtx(e);return be(o,{code:me.invalid_type,expected:Ne.string,received:o.parsedType}),Oe}const r=new Gt;let l;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(l=this._getOrReturnCtx(e,l),be(l,{code:me.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")e.data.length>o.value&&(l=this._getOrReturnCtx(e,l),be(l,{code:me.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){const u=e.data.length>o.value,f=e.data.length<o.value;(u||f)&&(l=this._getOrReturnCtx(e,l),u?be(l,{code:me.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):f&&be(l,{code:me.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if(o.kind==="email")Yw.test(e.data)||(l=this._getOrReturnCtx(e,l),be(l,{validation:"email",code:me.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")kd||(kd=new RegExp(Jw,"u")),kd.test(e.data)||(l=this._getOrReturnCtx(e,l),be(l,{validation:"emoji",code:me.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")qw.test(e.data)||(l=this._getOrReturnCtx(e,l),be(l,{validation:"uuid",code:me.invalid_string,message:o.message}),r.dirty());else if(o.kind==="nanoid")Fw.test(e.data)||(l=this._getOrReturnCtx(e,l),be(l,{validation:"nanoid",code:me.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")zw.test(e.data)||(l=this._getOrReturnCtx(e,l),be(l,{validation:"cuid",code:me.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")Vw.test(e.data)||(l=this._getOrReturnCtx(e,l),be(l,{validation:"cuid2",code:me.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")$w.test(e.data)||(l=this._getOrReturnCtx(e,l),be(l,{validation:"ulid",code:me.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{l=this._getOrReturnCtx(e,l),be(l,{validation:"url",code:me.invalid_string,message:o.message}),r.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(l=this._getOrReturnCtx(e,l),be(l,{validation:"regex",code:me.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(l=this._getOrReturnCtx(e,l),be(l,{code:me.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(l=this._getOrReturnCtx(e,l),be(l,{code:me.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(l=this._getOrReturnCtx(e,l),be(l,{code:me.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?i5(o).test(e.data)||(l=this._getOrReturnCtx(e,l),be(l,{code:me.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="date"?t5.test(e.data)||(l=this._getOrReturnCtx(e,l),be(l,{code:me.invalid_string,validation:"date",message:o.message}),r.dirty()):o.kind==="time"?n5(o).test(e.data)||(l=this._getOrReturnCtx(e,l),be(l,{code:me.invalid_string,validation:"time",message:o.message}),r.dirty()):o.kind==="duration"?Gw.test(e.data)||(l=this._getOrReturnCtx(e,l),be(l,{validation:"duration",code:me.invalid_string,message:o.message}),r.dirty()):o.kind==="ip"?r5(e.data,o.version)||(l=this._getOrReturnCtx(e,l),be(l,{validation:"ip",code:me.invalid_string,message:o.message}),r.dirty()):o.kind==="jwt"?s5(e.data,o.alg)||(l=this._getOrReturnCtx(e,l),be(l,{validation:"jwt",code:me.invalid_string,message:o.message}),r.dirty()):o.kind==="cidr"?l5(e.data,o.version)||(l=this._getOrReturnCtx(e,l),be(l,{validation:"cidr",code:me.invalid_string,message:o.message}),r.dirty()):o.kind==="base64"?Xw.test(e.data)||(l=this._getOrReturnCtx(e,l),be(l,{validation:"base64",code:me.invalid_string,message:o.message}),r.dirty()):o.kind==="base64url"?e5.test(e.data)||(l=this._getOrReturnCtx(e,l),be(l,{validation:"base64url",code:me.invalid_string,message:o.message}),r.dirty()):Ke.assertNever(o);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(l=>e.test(l),{validation:n,code:me.invalid_string,...Ce.errToObj(r)})}_addCheck(e){return new Fn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ce.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ce.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ce.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ce.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Ce.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ce.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ce.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ce.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Ce.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Ce.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Ce.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ce.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Ce.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Ce.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Ce.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Ce.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Ce.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Ce.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Ce.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Ce.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Ce.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Ce.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Ce.errToObj(n)})}nonempty(e){return this.min(1,Ce.errToObj(e))}trim(){return new Fn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Fn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Fn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Fn.create=t=>new Fn({checks:[],typeName:Le.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Ve(t)});function a5(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,l=n>r?n:r,o=Number.parseInt(t.toFixed(l).replace(".","")),u=Number.parseInt(e.toFixed(l).replace(".",""));return o%u/10**l}class vr extends Ye{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Ne.number){const o=this._getOrReturnCtx(e);return be(o,{code:me.invalid_type,expected:Ne.number,received:o.parsedType}),Oe}let r;const l=new Gt;for(const o of this._def.checks)o.kind==="int"?Ke.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),be(r,{code:me.invalid_type,expected:"integer",received:"float",message:o.message}),l.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),be(r,{code:me.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),l.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),be(r,{code:me.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),l.dirty()):o.kind==="multipleOf"?a5(e.data,o.value)!==0&&(r=this._getOrReturnCtx(e,r),be(r,{code:me.not_multiple_of,multipleOf:o.value,message:o.message}),l.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),be(r,{code:me.not_finite,message:o.message}),l.dirty()):Ke.assertNever(o);return{status:l.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Ce.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ce.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ce.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ce.toString(n))}setLimit(e,n,r,l){return new vr({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ce.toString(l)}]})}_addCheck(e){return new vr({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ce.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ce.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ce.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ce.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ce.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ce.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Ce.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ce.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ce.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ke.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}vr.create=t=>new vr({checks:[],typeName:Le.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Ve(t)});class br extends Ye{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Ne.bigint)return this._getInvalidInput(e);let r;const l=new Gt;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),be(r,{code:me.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),l.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),be(r,{code:me.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),l.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),be(r,{code:me.not_multiple_of,multipleOf:o.value,message:o.message}),l.dirty()):Ke.assertNever(o);return{status:l.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return be(n,{code:me.invalid_type,expected:Ne.bigint,received:n.parsedType}),Oe}gte(e,n){return this.setLimit("min",e,!0,Ce.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ce.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ce.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ce.toString(n))}setLimit(e,n,r,l){return new br({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ce.toString(l)}]})}_addCheck(e){return new br({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ce.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ce.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ce.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ce.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ce.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}br.create=t=>new br({checks:[],typeName:Le.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Ve(t)});class Oo extends Ye{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Ne.boolean){const r=this._getOrReturnCtx(e);return be(r,{code:me.invalid_type,expected:Ne.boolean,received:r.parsedType}),Oe}return Tn(e.data)}}Oo.create=t=>new Oo({typeName:Le.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Ve(t)});class Ts extends Ye{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Ne.date){const o=this._getOrReturnCtx(e);return be(o,{code:me.invalid_type,expected:Ne.date,received:o.parsedType}),Oe}if(Number.isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return be(o,{code:me.invalid_date}),Oe}const r=new Gt;let l;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(l=this._getOrReturnCtx(e,l),be(l,{code:me.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(l=this._getOrReturnCtx(e,l),be(l,{code:me.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):Ke.assertNever(o);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ts({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Ce.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Ce.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Ts.create=t=>new Ts({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Le.ZodDate,...Ve(t)});class _0 extends Ye{_parse(e){if(this._getType(e)!==Ne.symbol){const r=this._getOrReturnCtx(e);return be(r,{code:me.invalid_type,expected:Ne.symbol,received:r.parsedType}),Oe}return Tn(e.data)}}_0.create=t=>new _0({typeName:Le.ZodSymbol,...Ve(t)});class j0 extends Ye{_parse(e){if(this._getType(e)!==Ne.undefined){const r=this._getOrReturnCtx(e);return be(r,{code:me.invalid_type,expected:Ne.undefined,received:r.parsedType}),Oe}return Tn(e.data)}}j0.create=t=>new j0({typeName:Le.ZodUndefined,...Ve(t)});class M0 extends Ye{_parse(e){if(this._getType(e)!==Ne.null){const r=this._getOrReturnCtx(e);return be(r,{code:me.invalid_type,expected:Ne.null,received:r.parsedType}),Oe}return Tn(e.data)}}M0.create=t=>new M0({typeName:Le.ZodNull,...Ve(t)});class R0 extends Ye{constructor(){super(...arguments),this._any=!0}_parse(e){return Tn(e.data)}}R0.create=t=>new R0({typeName:Le.ZodAny,...Ve(t)});class xf extends Ye{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Tn(e.data)}}xf.create=t=>new xf({typeName:Le.ZodUnknown,...Ve(t)});class Zi extends Ye{_parse(e){const n=this._getOrReturnCtx(e);return be(n,{code:me.invalid_type,expected:Ne.never,received:n.parsedType}),Oe}}Zi.create=t=>new Zi({typeName:Le.ZodNever,...Ve(t)});class I0 extends Ye{_parse(e){if(this._getType(e)!==Ne.undefined){const r=this._getOrReturnCtx(e);return be(r,{code:me.invalid_type,expected:Ne.void,received:r.parsedType}),Oe}return Tn(e.data)}}I0.create=t=>new I0({typeName:Le.ZodVoid,...Ve(t)});class Gn extends Ye{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),l=this._def;if(n.parsedType!==Ne.array)return be(n,{code:me.invalid_type,expected:Ne.array,received:n.parsedType}),Oe;if(l.exactLength!==null){const u=n.data.length>l.exactLength.value,f=n.data.length<l.exactLength.value;(u||f)&&(be(n,{code:u?me.too_big:me.too_small,minimum:f?l.exactLength.value:void 0,maximum:u?l.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:l.exactLength.message}),r.dirty())}if(l.minLength!==null&&n.data.length<l.minLength.value&&(be(n,{code:me.too_small,minimum:l.minLength.value,type:"array",inclusive:!0,exact:!1,message:l.minLength.message}),r.dirty()),l.maxLength!==null&&n.data.length>l.maxLength.value&&(be(n,{code:me.too_big,maximum:l.maxLength.value,type:"array",inclusive:!0,exact:!1,message:l.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((u,f)=>l.type._parseAsync(new Yn(n,u,n.path,f)))).then(u=>Gt.mergeArray(r,u));const o=[...n.data].map((u,f)=>l.type._parseSync(new Yn(n,u,n.path,f)));return Gt.mergeArray(r,o)}get element(){return this._def.type}min(e,n){return new Gn({...this._def,minLength:{value:e,message:Ce.toString(n)}})}max(e,n){return new Gn({...this._def,maxLength:{value:e,message:Ce.toString(n)}})}length(e,n){return new Gn({...this._def,exactLength:{value:e,message:Ce.toString(n)}})}nonempty(e){return this.min(1,e)}}Gn.create=(t,e)=>new Gn({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Le.ZodArray,...Ve(e)});function xs(t){if(t instanceof Et){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Ji.create(xs(r))}return new Et({...t._def,shape:()=>e})}else return t instanceof Gn?new Gn({...t._def,type:xs(t.element)}):t instanceof Ji?Ji.create(xs(t.unwrap())):t instanceof As?As.create(xs(t.unwrap())):t instanceof wr?wr.create(t.items.map(e=>xs(e))):t}class Et extends Ye{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Ke.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==Ne.object){const h=this._getOrReturnCtx(e);return be(h,{code:me.invalid_type,expected:Ne.object,received:h.parsedType}),Oe}const{status:r,ctx:l}=this._processInputParams(e),{shape:o,keys:u}=this._getCached(),f=[];if(!(this._def.catchall instanceof Zi&&this._def.unknownKeys==="strip"))for(const h in l.data)u.includes(h)||f.push(h);const g=[];for(const h of u){const x=o[h],b=l.data[h];g.push({key:{status:"valid",value:h},value:x._parse(new Yn(l,b,l.path,h)),alwaysSet:h in l.data})}if(this._def.catchall instanceof Zi){const h=this._def.unknownKeys;if(h==="passthrough")for(const x of f)g.push({key:{status:"valid",value:x},value:{status:"valid",value:l.data[x]}});else if(h==="strict")f.length>0&&(be(l,{code:me.unrecognized_keys,keys:f}),r.dirty());else if(h!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const h=this._def.catchall;for(const x of f){const b=l.data[x];g.push({key:{status:"valid",value:x},value:h._parse(new Yn(l,b,l.path,x)),alwaysSet:x in l.data})}}return l.common.async?Promise.resolve().then(async()=>{const h=[];for(const x of g){const b=await x.key,N=await x.value;h.push({key:b,value:N,alwaysSet:x.alwaysSet})}return h}).then(h=>Gt.mergeObjectSync(r,h)):Gt.mergeObjectSync(r,g)}get shape(){return this._def.shape()}strict(e){return Ce.errToObj,new Et({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var o,u;const l=((u=(o=this._def).errorMap)==null?void 0:u.call(o,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:Ce.errToObj(e).message??l}:{message:l}}}:{}})}strip(){return new Et({...this._def,unknownKeys:"strip"})}passthrough(){return new Et({...this._def,unknownKeys:"passthrough"})}extend(e){return new Et({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Et({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Le.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Et({...this._def,catchall:e})}pick(e){const n={};for(const r of Ke.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new Et({...this._def,shape:()=>n})}omit(e){const n={};for(const r of Ke.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new Et({...this._def,shape:()=>n})}deepPartial(){return xs(this)}partial(e){const n={};for(const r of Ke.objectKeys(this.shape)){const l=this.shape[r];e&&!e[r]?n[r]=l:n[r]=l.optional()}return new Et({...this._def,shape:()=>n})}required(e){const n={};for(const r of Ke.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof Ji;)o=o._def.innerType;n[r]=o}return new Et({...this._def,shape:()=>n})}keyof(){return C1(Ke.objectKeys(this.shape))}}Et.create=(t,e)=>new Et({shape:()=>t,unknownKeys:"strip",catchall:Zi.create(),typeName:Le.ZodObject,...Ve(e)});Et.strictCreate=(t,e)=>new Et({shape:()=>t,unknownKeys:"strict",catchall:Zi.create(),typeName:Le.ZodObject,...Ve(e)});Et.lazycreate=(t,e)=>new Et({shape:t,unknownKeys:"strip",catchall:Zi.create(),typeName:Le.ZodObject,...Ve(e)});class Bo extends Ye{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function l(o){for(const f of o)if(f.result.status==="valid")return f.result;for(const f of o)if(f.result.status==="dirty")return n.common.issues.push(...f.ctx.common.issues),f.result;const u=o.map(f=>new gi(f.ctx.common.issues));return be(n,{code:me.invalid_union,unionErrors:u}),Oe}if(n.common.async)return Promise.all(r.map(async o=>{const u={...n,common:{...n.common,issues:[]},parent:null};return{result:await o._parseAsync({data:n.data,path:n.path,parent:u}),ctx:u}})).then(l);{let o;const u=[];for(const g of r){const h={...n,common:{...n.common,issues:[]},parent:null},x=g._parseSync({data:n.data,path:n.path,parent:h});if(x.status==="valid")return x;x.status==="dirty"&&!o&&(o={result:x,ctx:h}),h.common.issues.length&&u.push(h.common.issues)}if(o)return n.common.issues.push(...o.ctx.common.issues),o.result;const f=u.map(g=>new gi(g));return be(n,{code:me.invalid_union,unionErrors:f}),Oe}}get options(){return this._def.options}}Bo.create=(t,e)=>new Bo({options:t,typeName:Le.ZodUnion,...Ve(e)});function yf(t,e){const n=Yi(t),r=Yi(e);if(t===e)return{valid:!0,data:t};if(n===Ne.object&&r===Ne.object){const l=Ke.objectKeys(e),o=Ke.objectKeys(t).filter(f=>l.indexOf(f)!==-1),u={...t,...e};for(const f of o){const g=yf(t[f],e[f]);if(!g.valid)return{valid:!1};u[f]=g.data}return{valid:!0,data:u}}else if(n===Ne.array&&r===Ne.array){if(t.length!==e.length)return{valid:!1};const l=[];for(let o=0;o<t.length;o++){const u=t[o],f=e[o],g=yf(u,f);if(!g.valid)return{valid:!1};l.push(g.data)}return{valid:!0,data:l}}else return n===Ne.date&&r===Ne.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Uo extends Ye{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),l=(o,u)=>{if(E0(o)||E0(u))return Oe;const f=yf(o.value,u.value);return f.valid?((k0(o)||k0(u))&&n.dirty(),{status:n.value,value:f.data}):(be(r,{code:me.invalid_intersection_types}),Oe)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,u])=>l(o,u)):l(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Uo.create=(t,e,n)=>new Uo({left:t,right:e,typeName:Le.ZodIntersection,...Ve(n)});class wr extends Ye{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ne.array)return be(r,{code:me.invalid_type,expected:Ne.array,received:r.parsedType}),Oe;if(r.data.length<this._def.items.length)return be(r,{code:me.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Oe;!this._def.rest&&r.data.length>this._def.items.length&&(be(r,{code:me.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const o=[...r.data].map((u,f)=>{const g=this._def.items[f]||this._def.rest;return g?g._parse(new Yn(r,u,r.path,f)):null}).filter(u=>!!u);return r.common.async?Promise.all(o).then(u=>Gt.mergeArray(n,u)):Gt.mergeArray(n,o)}get items(){return this._def.items}rest(e){return new wr({...this._def,rest:e})}}wr.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new wr({items:t,typeName:Le.ZodTuple,rest:null,...Ve(e)})};class zo extends Ye{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ne.object)return be(r,{code:me.invalid_type,expected:Ne.object,received:r.parsedType}),Oe;const l=[],o=this._def.keyType,u=this._def.valueType;for(const f in r.data)l.push({key:o._parse(new Yn(r,f,r.path,f)),value:u._parse(new Yn(r,r.data[f],r.path,f)),alwaysSet:f in r.data});return r.common.async?Gt.mergeObjectAsync(n,l):Gt.mergeObjectSync(n,l)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Ye?new zo({keyType:e,valueType:n,typeName:Le.ZodRecord,...Ve(r)}):new zo({keyType:Fn.create(),valueType:e,typeName:Le.ZodRecord,...Ve(n)})}}class D0 extends Ye{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ne.map)return be(r,{code:me.invalid_type,expected:Ne.map,received:r.parsedType}),Oe;const l=this._def.keyType,o=this._def.valueType,u=[...r.data.entries()].map(([f,g],h)=>({key:l._parse(new Yn(r,f,r.path,[h,"key"])),value:o._parse(new Yn(r,g,r.path,[h,"value"]))}));if(r.common.async){const f=new Map;return Promise.resolve().then(async()=>{for(const g of u){const h=await g.key,x=await g.value;if(h.status==="aborted"||x.status==="aborted")return Oe;(h.status==="dirty"||x.status==="dirty")&&n.dirty(),f.set(h.value,x.value)}return{status:n.value,value:f}})}else{const f=new Map;for(const g of u){const h=g.key,x=g.value;if(h.status==="aborted"||x.status==="aborted")return Oe;(h.status==="dirty"||x.status==="dirty")&&n.dirty(),f.set(h.value,x.value)}return{status:n.value,value:f}}}}D0.create=(t,e,n)=>new D0({valueType:e,keyType:t,typeName:Le.ZodMap,...Ve(n)});class Zl extends Ye{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==Ne.set)return be(r,{code:me.invalid_type,expected:Ne.set,received:r.parsedType}),Oe;const l=this._def;l.minSize!==null&&r.data.size<l.minSize.value&&(be(r,{code:me.too_small,minimum:l.minSize.value,type:"set",inclusive:!0,exact:!1,message:l.minSize.message}),n.dirty()),l.maxSize!==null&&r.data.size>l.maxSize.value&&(be(r,{code:me.too_big,maximum:l.maxSize.value,type:"set",inclusive:!0,exact:!1,message:l.maxSize.message}),n.dirty());const o=this._def.valueType;function u(g){const h=new Set;for(const x of g){if(x.status==="aborted")return Oe;x.status==="dirty"&&n.dirty(),h.add(x.value)}return{status:n.value,value:h}}const f=[...r.data.values()].map((g,h)=>o._parse(new Yn(r,g,r.path,h)));return r.common.async?Promise.all(f).then(g=>u(g)):u(f)}min(e,n){return new Zl({...this._def,minSize:{value:e,message:Ce.toString(n)}})}max(e,n){return new Zl({...this._def,maxSize:{value:e,message:Ce.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Zl.create=(t,e)=>new Zl({valueType:t,minSize:null,maxSize:null,typeName:Le.ZodSet,...Ve(e)});class vf extends Ye{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}vf.create=(t,e)=>new vf({getter:t,typeName:Le.ZodLazy,...Ve(e)});class L0 extends Ye{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return be(n,{received:n.data,code:me.invalid_literal,expected:this._def.value}),Oe}return{status:"valid",value:e.data}}get value(){return this._def.value}}L0.create=(t,e)=>new L0({value:t,typeName:Le.ZodLiteral,...Ve(e)});function C1(t,e){return new Es({values:t,typeName:Le.ZodEnum,...Ve(e)})}class Es extends Ye{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return be(n,{expected:Ke.joinValues(r),received:n.parsedType,code:me.invalid_type}),Oe}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return be(n,{received:n.data,code:me.invalid_enum_value,options:r}),Oe}return Tn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Es.create(e,{...this._def,...n})}exclude(e,n=this._def){return Es.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Es.create=C1;class P0 extends Ye{_parse(e){const n=Ke.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==Ne.string&&r.parsedType!==Ne.number){const l=Ke.objectValues(n);return be(r,{expected:Ke.joinValues(l),received:r.parsedType,code:me.invalid_type}),Oe}if(this._cache||(this._cache=new Set(Ke.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const l=Ke.objectValues(n);return be(r,{received:r.data,code:me.invalid_enum_value,options:l}),Oe}return Tn(e.data)}get enum(){return this._def.values}}P0.create=(t,e)=>new P0({values:t,typeName:Le.ZodNativeEnum,...Ve(e)});class Vo extends Ye{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==Ne.promise&&n.common.async===!1)return be(n,{code:me.invalid_type,expected:Ne.promise,received:n.parsedType}),Oe;const r=n.parsedType===Ne.promise?n.data:Promise.resolve(n.data);return Tn(r.then(l=>this._def.type.parseAsync(l,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Vo.create=(t,e)=>new Vo({type:t,typeName:Le.ZodPromise,...Ve(e)});class ks extends Ye{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Le.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),l=this._def.effect||null,o={addIssue:u=>{be(r,u),u.fatal?n.abort():n.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),l.type==="preprocess"){const u=l.transform(r.data,o);if(r.common.async)return Promise.resolve(u).then(async f=>{if(n.value==="aborted")return Oe;const g=await this._def.schema._parseAsync({data:f,path:r.path,parent:r});return g.status==="aborted"?Oe:g.status==="dirty"||n.value==="dirty"?Vl(g.value):g});{if(n.value==="aborted")return Oe;const f=this._def.schema._parseSync({data:u,path:r.path,parent:r});return f.status==="aborted"?Oe:f.status==="dirty"||n.value==="dirty"?Vl(f.value):f}}if(l.type==="refinement"){const u=f=>{const g=l.refinement(f,o);if(r.common.async)return Promise.resolve(g);if(g instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return f};if(r.common.async===!1){const f=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return f.status==="aborted"?Oe:(f.status==="dirty"&&n.dirty(),u(f.value),{status:n.value,value:f.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(f=>f.status==="aborted"?Oe:(f.status==="dirty"&&n.dirty(),u(f.value).then(()=>({status:n.value,value:f.value}))))}if(l.type==="transform")if(r.common.async===!1){const u=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Cs(u))return Oe;const f=l.transform(u.value,o);if(f instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:f}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(u=>Cs(u)?Promise.resolve(l.transform(u.value,o)).then(f=>({status:n.value,value:f})):Oe);Ke.assertNever(l)}}ks.create=(t,e,n)=>new ks({schema:t,typeName:Le.ZodEffects,effect:e,...Ve(n)});ks.createWithPreprocess=(t,e,n)=>new ks({schema:e,effect:{type:"preprocess",transform:t},typeName:Le.ZodEffects,...Ve(n)});class Ji extends Ye{_parse(e){return this._getType(e)===Ne.undefined?Tn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ji.create=(t,e)=>new Ji({innerType:t,typeName:Le.ZodOptional,...Ve(e)});class As extends Ye{_parse(e){return this._getType(e)===Ne.null?Tn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}As.create=(t,e)=>new As({innerType:t,typeName:Le.ZodNullable,...Ve(e)});class bf extends Ye{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===Ne.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}bf.create=(t,e)=>new bf({innerType:t,typeName:Le.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ve(e)});class wf extends Ye{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},l=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Po(l)?l.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new gi(r.common.issues)},input:r.data})})):{status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new gi(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}wf.create=(t,e)=>new wf({innerType:t,typeName:Le.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ve(e)});class O0 extends Ye{_parse(e){if(this._getType(e)!==Ne.nan){const r=this._getOrReturnCtx(e);return be(r,{code:me.invalid_type,expected:Ne.nan,received:r.parsedType}),Oe}return{status:"valid",value:e.data}}}O0.create=t=>new O0({typeName:Le.ZodNaN,...Ve(t)});class o5 extends Ye{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Qf extends Ye{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?Oe:o.status==="dirty"?(n.dirty(),Vl(o.value)):this._def.out._parseAsync({data:o.value,path:r.path,parent:r})})();{const l=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return l.status==="aborted"?Oe:l.status==="dirty"?(n.dirty(),{status:"dirty",value:l.value}):this._def.out._parseSync({data:l.value,path:r.path,parent:r})}}static create(e,n){return new Qf({in:e,out:n,typeName:Le.ZodPipeline})}}class Nf extends Ye{_parse(e){const n=this._def.innerType._parse(e),r=l=>(Cs(l)&&(l.value=Object.freeze(l.value)),l);return Po(n)?n.then(l=>r(l)):r(n)}unwrap(){return this._def.innerType}}Nf.create=(t,e)=>new Nf({innerType:t,typeName:Le.ZodReadonly,...Ve(e)});var Le;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Le||(Le={}));const xr=Fn.create,B0=vr.create;br.create;const c5=Oo.create;Ts.create;const U0=xf.create;Zi.create;const $l=Gn.create,u5=Et.create,d5=Bo.create;Uo.create;wr.create;const f5=zo.create,m5=vf.create,h5=Es.create;Vo.create;Ji.create;As.create;const ms={string:t=>Fn.create({...t,coerce:!0}),number:t=>vr.create({...t,coerce:!0}),boolean:t=>Oo.create({...t,coerce:!0}),bigint:t=>br.create({...t,coerce:!0}),date:t=>Ts.create({...t,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let p5,g5;function x5(){return{geminiUrl:p5,vertexUrl:g5}}function y5(t,e,n){var r,l,o;if(!(!((r=t.httpOptions)===null||r===void 0)&&r.baseUrl)){const u=x5();return t.vertexai?(l=u.vertexUrl)!==null&&l!==void 0?l:e:(o=u.geminiUrl)!==null&&o!==void 0?o:n}return t.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class js{}function Ie(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,l)=>{if(Object.prototype.hasOwnProperty.call(e,l)){const o=e[l];return o!=null?String(o):""}else throw new Error(`Key '${l}' not found in valueMap.`)})}function p(t,e,n){for(let o=0;o<e.length-1;o++){const u=e[o];if(u.endsWith("[]")){const f=u.slice(0,-2);if(!(f in t))if(Array.isArray(n))t[f]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${u}`);if(Array.isArray(t[f])){const g=t[f];if(Array.isArray(n))for(let h=0;h<g.length;h++){const x=g[h];p(x,e.slice(o+1),n[h])}else for(const h of g)p(h,e.slice(o+1),n)}return}else if(u.endsWith("[0]")){const f=u.slice(0,-3);f in t||(t[f]=[{}]);const g=t[f];p(g[0],e.slice(o+1),n);return}(!t[u]||typeof t[u]!="object")&&(t[u]={}),t=t[u]}const r=e[e.length-1],l=t[r];if(l!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===l)return;if(typeof l=="object"&&typeof n=="object"&&l!==null&&n!==null)Object.assign(l,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else t[r]=n}function m(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let n=0;n<e.length;n++){if(typeof t!="object"||t===null)return;const r=e[n];if(r.endsWith("[]")){const l=r.slice(0,-2);if(l in t){const o=t[l];return Array.isArray(o)?o.map(u=>m(u,e.slice(n+1))):void 0}else return}else t=t[r]}return t}catch(n){if(n instanceof TypeError)return;throw n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var z0;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(z0||(z0={}));var V0;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(V0||(V0={}));var Hn;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Hn||(Hn={}));var $0;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})($0||($0={}));var q0;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(q0||(q0={}));var F0;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(F0||(F0={}));var H0;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(H0||(H0={}));var G0;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(G0||(G0={}));var Y0;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(Y0||(Y0={}));var J0;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(J0||(J0={}));var Z0;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Z0||(Z0={}));var Q0;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(Q0||(Q0={}));var K0;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(K0||(K0={}));var $o;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})($o||($o={}));var W0;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(W0||(W0={}));var Sf;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Sf||(Sf={}));var X0;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(X0||(X0={}));var ex;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(ex||(ex={}));var tx;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(tx||(tx={}));var nx;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(nx||(nx={}));var ix;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(ix||(ix={}));var rx;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(rx||(rx={}));var sx;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(sx||(sx={}));var lx;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(lx||(lx={}));var ax;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi"})(ax||(ax={}));var ox;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(ox||(ox={}));var cx;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(cx||(cx={}));var ux;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(ux||(ux={}));var dx;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(dx||(dx={}));var fx;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(fx||(fx={}));var mx;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(mx||(mx={}));var hx;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(hx||(hx={}));var px;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(px||(px={}));var gx;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(gx||(gx={}));var xx;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(xx||(xx={}));var yx;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(yx||(yx={}));var vx;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(vx||(vx={}));var bx;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(bx||(bx={}));var ys;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(ys||(ys={}));class Cf{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class Il{get text(){var e,n,r,l,o,u,f,g;if(((l=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",x=!1;const b=[];for(const N of(g=(f=(u=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)!==null&&g!==void 0?g:[]){for(const[w,C]of Object.entries(N))w!=="text"&&w!=="thought"&&(C!==null||C!==void 0)&&b.push(w);if(typeof N.text=="string"){if(typeof N.thought=="boolean"&&N.thought)continue;x=!0,h+=N.text}}return b.length>0&&console.warn(`there are non-text parts ${b} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),x?h:void 0}get data(){var e,n,r,l,o,u,f,g;if(((l=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const x=[];for(const b of(g=(f=(u=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)!==null&&g!==void 0?g:[]){for(const[N,w]of Object.entries(b))N!=="inlineData"&&(w!==null||w!==void 0)&&x.push(N);b.inlineData&&typeof b.inlineData.data=="string"&&(h+=atob(b.inlineData.data))}return x.length>0&&console.warn(`there are non-data parts ${x} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var e,n,r,l,o,u,f,g;if(((l=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(g=(f=(u=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)===null||g===void 0?void 0:g.filter(x=>x.functionCall).map(x=>x.functionCall).filter(x=>x!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var e,n,r,l,o,u,f,g,h;if(((l=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const x=(g=(f=(u=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)===null||g===void 0?void 0:g.filter(b=>b.executableCode).map(b=>b.executableCode).filter(b=>b!==void 0);if((x==null?void 0:x.length)!==0)return(h=x==null?void 0:x[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var e,n,r,l,o,u,f,g,h;if(((l=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const x=(g=(f=(u=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||u===void 0?void 0:u.content)===null||f===void 0?void 0:f.parts)===null||g===void 0?void 0:g.filter(b=>b.codeExecutionResult).map(b=>b.codeExecutionResult).filter(b=>b!==void 0);if((x==null?void 0:x.length)!==0)return(h=x==null?void 0:x[0])===null||h===void 0?void 0:h.output}}class wx{}class Nx{}class v5{}class b5{}class Sx{}class Cx{}class Tx{}class w5{}class Ex{}class kx{}class Ax{}class N5{}class S5{}class C5{}class T5{get text(){var e,n,r;let l="",o=!1;const u=[];for(const f of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[g,h]of Object.entries(f))g!=="text"&&g!=="thought"&&h!==null&&u.push(g);if(typeof f.text=="string"){if(typeof f.thought=="boolean"&&f.thought)continue;o=!0,l+=f.text}}return u.length>0&&console.warn(`there are non-text parts ${u} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?l:void 0}get data(){var e,n,r;let l="";const o=[];for(const u of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[f,g]of Object.entries(u))f!=="inlineData"&&g!==null&&o.push(f);u.inlineData&&typeof u.inlineData.data=="string"&&(l+=atob(u.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),l.length>0?btoa(l):void 0}}class E5{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ut(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function T1(t,e){const n=ut(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function E1(t){return Array.isArray(t)?t.map(e=>qo(e)):[qo(t)]}function qo(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function k5(t){const e=qo(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function A5(t){const e=qo(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function _x(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function k1(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>_x(e)):[_x(t)]}function Tf(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function jx(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Mx(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Ht(t){if(t==null)throw new Error("ContentUnion is required");return Tf(t)?t:{role:"user",parts:k1(t)}}function A1(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=Ht(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=Ht(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>Ht(n)):[Ht(e)]}function Mn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(jx(t)||Mx(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ht(t)]}const e=[],n=[],r=Tf(t[0]);for(const l of t){const o=Tf(l);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(l);else{if(jx(l)||Mx(l))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(l)}}return r||e.push({role:"user",parts:k1(n)}),e}const _5=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),Rx=h5(["string","number","integer","object","array","boolean","null"]),j5=d5([Rx,$l(Rx)]);function M5(t=!0){const e=m5(()=>{const n=u5({type:j5.optional(),format:xr().optional(),title:xr().optional(),description:xr().optional(),default:U0().optional(),items:e.optional(),minItems:ms.string().optional(),maxItems:ms.string().optional(),enum:$l(U0()).optional(),properties:f5(xr(),e).optional(),required:$l(xr()).optional(),minProperties:ms.string().optional(),maxProperties:ms.string().optional(),propertyOrdering:$l(xr()).optional(),minimum:B0().optional(),maximum:B0().optional(),minLength:ms.string().optional(),maxLength:ms.string().optional(),pattern:xr().optional(),anyOf:$l(e).optional(),additionalProperties:c5().optional()});return t?n.strict():n});return e}function R5(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Hn).includes(n[0].toUpperCase())?n[0].toUpperCase():Hn.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Hn).includes(r.toUpperCase())?r.toUpperCase():Hn.TYPE_UNSPECIFIED})}}function vs(t){const e={},n=["items"],r=["anyOf"],l=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&R5(t.type,e);for(const[u,f]of Object.entries(t))if(f!=null)if(u=="type"){if(f==="null")throw new Error("type: null can not be the only possible type for the field.");if(f instanceof Array)continue;e.type=Object.values(Hn).includes(f.toUpperCase())?f.toUpperCase():Hn.TYPE_UNSPECIFIED}else if(n.includes(u))e[u]=vs(f);else if(r.includes(u)){const g=[];for(const h of f){if(h.type=="null"){e.nullable=!0;continue}g.push(vs(h))}e[u]=g}else if(l.includes(u)){const g={};for(const[h,x]of Object.entries(f))g[h]=vs(x);e[u]=g}else{if(u==="additionalProperties")continue;e[u]=f}return e}function Fo(t){if(Object.keys(t).includes("$schema")){delete t.$schema;const e=M5().parse(t);return vs(e)}else return vs(t)}function _1(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Kf(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Xl(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(e.parameters=Fo(e.parameters)),e.response&&(e.response=Fo(e.response));return t}function ea(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function I5(t,e,n,r=1){const l=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:l?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:l?`${n}/${e}`:e}function Qi(t,e){if(typeof e!="string")throw new Error("name must be a string");return I5(t,e,"cachedContents")}function j1(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function yi(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function D5(t){return t!=null&&typeof t=="object"&&"name"in t}function L5(t){return t!=null&&typeof t=="object"&&"video"in t}function P5(t){return t!=null&&typeof t=="object"&&"uri"in t}function M1(t){var e;let n;if(D5(t)&&(n=t.name),!(P5(t)&&(n=t.uri,n===void 0))&&!(L5(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const l=n.split("files/")[1].match(/[a-z0-9]+/);if(l===null)throw new Error(`Could not extract file name from URI ${n}`);n=l[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function R1(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function I1(t){for(const e of["models","tunedModels","publisherModels"])if(O5(t,e))return t[e];return[]}function O5(t,e){return t!==null&&typeof t=="object"&&e in t}function B5(t,e={}){const n=t,r={name:n.name,description:n.description,parameters:vs(Ko(n.inputSchema))};return e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function U5(t,e={}){const n=[],r=new Set;for(const l of t){const o=l.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const u=B5(l,e);u.functionDeclarations&&n.push(...u.functionDeclarations)}return{functionDeclarations:n}}function z5(t){const e=[];for(const n of t)e.push(Ko(n));return e}function V5(t){const e={};for(const[n,r]of Object.entries(t)){const l=r;e[n]=Ko(l)}return e}function Ko(t){const e=new Set(["items"]),n=new Set(["anyOf"]),r=new Set(["properties"]),l={};for(const[o,u]of Object.entries(t))if(e.has(o))l[o]=Ko(u);else if(n.has(o))l[o]=z5(u);else if(r.has(o))l[o]=V5(u);else if(o==="type"){const f=u.toUpperCase();l[o]=Object.values(Hn).includes(f)?f:Hn.TYPE_UNSPECIFIED}else _5.has(o)&&(l[o]=u);return l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $5(t){const e={},n=m(t,["fps"]);n!=null&&p(e,["fps"],n);const r=m(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const l=m(t,["startOffset"]);return l!=null&&p(e,["startOffset"],l),e}function q5(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["data"]);n!=null&&p(e,["data"],n);const r=m(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function F5(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=m(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function H5(t){const e={},n=m(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],$5(n));const r=m(t,["thought"]);r!=null&&p(e,["thought"],r);const l=m(t,["inlineData"]);l!=null&&p(e,["inlineData"],q5(l));const o=m(t,["fileData"]);o!=null&&p(e,["fileData"],F5(o));const u=m(t,["thoughtSignature"]);u!=null&&p(e,["thoughtSignature"],u);const f=m(t,["codeExecutionResult"]);f!=null&&p(e,["codeExecutionResult"],f);const g=m(t,["executableCode"]);g!=null&&p(e,["executableCode"],g);const h=m(t,["functionCall"]);h!=null&&p(e,["functionCall"],h);const x=m(t,["functionResponse"]);x!=null&&p(e,["functionResponse"],x);const b=m(t,["text"]);return b!=null&&p(e,["text"],b),e}function Ix(t){const e={},n=m(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>H5(o))),p(e,["parts"],l)}const r=m(t,["role"]);return r!=null&&p(e,["role"],r),e}function G5(t){const e={},n=m(t,["behavior"]);n!=null&&p(e,["behavior"],n);const r=m(t,["description"]);r!=null&&p(e,["description"],r);const l=m(t,["name"]);l!=null&&p(e,["name"],l);const o=m(t,["parameters"]);o!=null&&p(e,["parameters"],o);const u=m(t,["parametersJsonSchema"]);u!=null&&p(e,["parametersJsonSchema"],u);const f=m(t,["response"]);f!=null&&p(e,["response"],f);const g=m(t,["responseJsonSchema"]);return g!=null&&p(e,["responseJsonSchema"],g),e}function Y5(t){const e={},n=m(t,["startTime"]);n!=null&&p(e,["startTime"],n);const r=m(t,["endTime"]);return r!=null&&p(e,["endTime"],r),e}function J5(t){const e={},n=m(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],Y5(n)),e}function Z5(t){const e={},n=m(t,["mode"]);n!=null&&p(e,["mode"],n);const r=m(t,["dynamicThreshold"]);return r!=null&&p(e,["dynamicThreshold"],r),e}function Q5(t){const e={},n=m(t,["dynamicRetrievalConfig"]);return n!=null&&p(e,["dynamicRetrievalConfig"],Z5(n)),e}function K5(){return{}}function W5(t){const e={},n=m(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(g=>G5(g))),p(e,["functionDeclarations"],f)}if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=m(t,["googleSearch"]);r!=null&&p(e,["googleSearch"],J5(r));const l=m(t,["googleSearchRetrieval"]);if(l!=null&&p(e,["googleSearchRetrieval"],Q5(l)),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(m(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");m(t,["urlContext"])!=null&&p(e,["urlContext"],K5());const u=m(t,["codeExecution"]);return u!=null&&p(e,["codeExecution"],u),e}function X5(t){const e={},n=m(t,["mode"]);n!=null&&p(e,["mode"],n);const r=m(t,["allowedFunctionNames"]);return r!=null&&p(e,["allowedFunctionNames"],r),e}function eN(t){const e={},n=m(t,["latitude"]);n!=null&&p(e,["latitude"],n);const r=m(t,["longitude"]);return r!=null&&p(e,["longitude"],r),e}function tN(t){const e={},n=m(t,["latLng"]);n!=null&&p(e,["latLng"],eN(n));const r=m(t,["languageCode"]);return r!=null&&p(e,["languageCode"],r),e}function nN(t){const e={},n=m(t,["functionCallingConfig"]);n!=null&&p(e,["functionCallingConfig"],X5(n));const r=m(t,["retrievalConfig"]);return r!=null&&p(e,["retrievalConfig"],tN(r)),e}function iN(t,e){const n={},r=m(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const l=m(t,["expireTime"]);e!==void 0&&l!=null&&p(e,["expireTime"],l);const o=m(t,["displayName"]);e!==void 0&&o!=null&&p(e,["displayName"],o);const u=m(t,["contents"]);if(e!==void 0&&u!=null){let x=Mn(u);Array.isArray(x)&&(x=x.map(b=>Ix(b))),p(e,["contents"],x)}const f=m(t,["systemInstruction"]);e!==void 0&&f!=null&&p(e,["systemInstruction"],Ix(Ht(f)));const g=m(t,["tools"]);if(e!==void 0&&g!=null){let x=g;Array.isArray(x)&&(x=x.map(b=>W5(b))),p(e,["tools"],x)}const h=m(t,["toolConfig"]);if(e!==void 0&&h!=null&&p(e,["toolConfig"],nN(h)),m(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function rN(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["model"],T1(t,r));const l=m(e,["config"]);return l!=null&&p(n,["config"],iN(l,n)),n}function sN(t,e){const n={},r=m(e,["name"]);r!=null&&p(n,["_url","name"],Qi(t,r));const l=m(e,["config"]);return l!=null&&p(n,["config"],l),n}function lN(t,e){const n={},r=m(e,["name"]);r!=null&&p(n,["_url","name"],Qi(t,r));const l=m(e,["config"]);return l!=null&&p(n,["config"],l),n}function aN(t,e){const n={},r=m(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const l=m(t,["expireTime"]);return e!==void 0&&l!=null&&p(e,["expireTime"],l),n}function oN(t,e){const n={},r=m(e,["name"]);r!=null&&p(n,["_url","name"],Qi(t,r));const l=m(e,["config"]);return l!=null&&p(n,["config"],aN(l,n)),n}function cN(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const l=m(t,["pageToken"]);return e!==void 0&&l!=null&&p(e,["_query","pageToken"],l),n}function uN(t){const e={},n=m(t,["config"]);return n!=null&&p(e,["config"],cN(n,e)),e}function dN(t){const e={},n=m(t,["fps"]);n!=null&&p(e,["fps"],n);const r=m(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const l=m(t,["startOffset"]);return l!=null&&p(e,["startOffset"],l),e}function fN(t){const e={},n=m(t,["displayName"]);n!=null&&p(e,["displayName"],n);const r=m(t,["data"]);r!=null&&p(e,["data"],r);const l=m(t,["mimeType"]);return l!=null&&p(e,["mimeType"],l),e}function mN(t){const e={},n=m(t,["displayName"]);n!=null&&p(e,["displayName"],n);const r=m(t,["fileUri"]);r!=null&&p(e,["fileUri"],r);const l=m(t,["mimeType"]);return l!=null&&p(e,["mimeType"],l),e}function hN(t){const e={},n=m(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],dN(n));const r=m(t,["thought"]);r!=null&&p(e,["thought"],r);const l=m(t,["inlineData"]);l!=null&&p(e,["inlineData"],fN(l));const o=m(t,["fileData"]);o!=null&&p(e,["fileData"],mN(o));const u=m(t,["thoughtSignature"]);u!=null&&p(e,["thoughtSignature"],u);const f=m(t,["codeExecutionResult"]);f!=null&&p(e,["codeExecutionResult"],f);const g=m(t,["executableCode"]);g!=null&&p(e,["executableCode"],g);const h=m(t,["functionCall"]);h!=null&&p(e,["functionCall"],h);const x=m(t,["functionResponse"]);x!=null&&p(e,["functionResponse"],x);const b=m(t,["text"]);return b!=null&&p(e,["text"],b),e}function Dx(t){const e={},n=m(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>hN(o))),p(e,["parts"],l)}const r=m(t,["role"]);return r!=null&&p(e,["role"],r),e}function pN(t){const e={};if(m(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=m(t,["description"]);n!=null&&p(e,["description"],n);const r=m(t,["name"]);r!=null&&p(e,["name"],r);const l=m(t,["parameters"]);l!=null&&p(e,["parameters"],l);const o=m(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const u=m(t,["response"]);u!=null&&p(e,["response"],u);const f=m(t,["responseJsonSchema"]);return f!=null&&p(e,["responseJsonSchema"],f),e}function gN(t){const e={},n=m(t,["startTime"]);n!=null&&p(e,["startTime"],n);const r=m(t,["endTime"]);return r!=null&&p(e,["endTime"],r),e}function xN(t){const e={},n=m(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],gN(n)),e}function yN(t){const e={},n=m(t,["mode"]);n!=null&&p(e,["mode"],n);const r=m(t,["dynamicThreshold"]);return r!=null&&p(e,["dynamicThreshold"],r),e}function vN(t){const e={},n=m(t,["dynamicRetrievalConfig"]);return n!=null&&p(e,["dynamicRetrievalConfig"],yN(n)),e}function bN(){return{}}function wN(t){const e={},n=m(t,["apiKeyString"]);return n!=null&&p(e,["apiKeyString"],n),e}function NN(t){const e={},n=m(t,["apiKeyConfig"]);n!=null&&p(e,["apiKeyConfig"],wN(n));const r=m(t,["authType"]);r!=null&&p(e,["authType"],r);const l=m(t,["googleServiceAccountConfig"]);l!=null&&p(e,["googleServiceAccountConfig"],l);const o=m(t,["httpBasicAuthConfig"]);o!=null&&p(e,["httpBasicAuthConfig"],o);const u=m(t,["oauthConfig"]);u!=null&&p(e,["oauthConfig"],u);const f=m(t,["oidcConfig"]);return f!=null&&p(e,["oidcConfig"],f),e}function SN(t){const e={},n=m(t,["authConfig"]);return n!=null&&p(e,["authConfig"],NN(n)),e}function CN(){return{}}function TN(t){const e={},n=m(t,["functionDeclarations"]);if(n!=null){let x=n;Array.isArray(x)&&(x=x.map(b=>pN(b))),p(e,["functionDeclarations"],x)}const r=m(t,["retrieval"]);r!=null&&p(e,["retrieval"],r);const l=m(t,["googleSearch"]);l!=null&&p(e,["googleSearch"],xN(l));const o=m(t,["googleSearchRetrieval"]);o!=null&&p(e,["googleSearchRetrieval"],vN(o)),m(t,["enterpriseWebSearch"])!=null&&p(e,["enterpriseWebSearch"],bN());const f=m(t,["googleMaps"]);f!=null&&p(e,["googleMaps"],SN(f)),m(t,["urlContext"])!=null&&p(e,["urlContext"],CN());const h=m(t,["codeExecution"]);return h!=null&&p(e,["codeExecution"],h),e}function EN(t){const e={},n=m(t,["mode"]);n!=null&&p(e,["mode"],n);const r=m(t,["allowedFunctionNames"]);return r!=null&&p(e,["allowedFunctionNames"],r),e}function kN(t){const e={},n=m(t,["latitude"]);n!=null&&p(e,["latitude"],n);const r=m(t,["longitude"]);return r!=null&&p(e,["longitude"],r),e}function AN(t){const e={},n=m(t,["latLng"]);n!=null&&p(e,["latLng"],kN(n));const r=m(t,["languageCode"]);return r!=null&&p(e,["languageCode"],r),e}function _N(t){const e={},n=m(t,["functionCallingConfig"]);n!=null&&p(e,["functionCallingConfig"],EN(n));const r=m(t,["retrievalConfig"]);return r!=null&&p(e,["retrievalConfig"],AN(r)),e}function jN(t,e){const n={},r=m(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const l=m(t,["expireTime"]);e!==void 0&&l!=null&&p(e,["expireTime"],l);const o=m(t,["displayName"]);e!==void 0&&o!=null&&p(e,["displayName"],o);const u=m(t,["contents"]);if(e!==void 0&&u!=null){let b=Mn(u);Array.isArray(b)&&(b=b.map(N=>Dx(N))),p(e,["contents"],b)}const f=m(t,["systemInstruction"]);e!==void 0&&f!=null&&p(e,["systemInstruction"],Dx(Ht(f)));const g=m(t,["tools"]);if(e!==void 0&&g!=null){let b=g;Array.isArray(b)&&(b=b.map(N=>TN(N))),p(e,["tools"],b)}const h=m(t,["toolConfig"]);e!==void 0&&h!=null&&p(e,["toolConfig"],_N(h));const x=m(t,["kmsKeyName"]);return e!==void 0&&x!=null&&p(e,["encryption_spec","kmsKeyName"],x),n}function MN(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["model"],T1(t,r));const l=m(e,["config"]);return l!=null&&p(n,["config"],jN(l,n)),n}function RN(t,e){const n={},r=m(e,["name"]);r!=null&&p(n,["_url","name"],Qi(t,r));const l=m(e,["config"]);return l!=null&&p(n,["config"],l),n}function IN(t,e){const n={},r=m(e,["name"]);r!=null&&p(n,["_url","name"],Qi(t,r));const l=m(e,["config"]);return l!=null&&p(n,["config"],l),n}function DN(t,e){const n={},r=m(t,["ttl"]);e!==void 0&&r!=null&&p(e,["ttl"],r);const l=m(t,["expireTime"]);return e!==void 0&&l!=null&&p(e,["expireTime"],l),n}function LN(t,e){const n={},r=m(e,["name"]);r!=null&&p(n,["_url","name"],Qi(t,r));const l=m(e,["config"]);return l!=null&&p(n,["config"],DN(l,n)),n}function PN(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const l=m(t,["pageToken"]);return e!==void 0&&l!=null&&p(e,["_query","pageToken"],l),n}function ON(t){const e={},n=m(t,["config"]);return n!=null&&p(e,["config"],PN(n,e)),e}function To(t){const e={},n=m(t,["name"]);n!=null&&p(e,["name"],n);const r=m(t,["displayName"]);r!=null&&p(e,["displayName"],r);const l=m(t,["model"]);l!=null&&p(e,["model"],l);const o=m(t,["createTime"]);o!=null&&p(e,["createTime"],o);const u=m(t,["updateTime"]);u!=null&&p(e,["updateTime"],u);const f=m(t,["expireTime"]);f!=null&&p(e,["expireTime"],f);const g=m(t,["usageMetadata"]);return g!=null&&p(e,["usageMetadata"],g),e}function BN(){return{}}function UN(t){const e={},n=m(t,["nextPageToken"]);n!=null&&p(e,["nextPageToken"],n);const r=m(t,["cachedContents"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(o=>To(o))),p(e,["cachedContents"],l)}return e}function Eo(t){const e={},n=m(t,["name"]);n!=null&&p(e,["name"],n);const r=m(t,["displayName"]);r!=null&&p(e,["displayName"],r);const l=m(t,["model"]);l!=null&&p(e,["model"],l);const o=m(t,["createTime"]);o!=null&&p(e,["createTime"],o);const u=m(t,["updateTime"]);u!=null&&p(e,["updateTime"],u);const f=m(t,["expireTime"]);f!=null&&p(e,["expireTime"],f);const g=m(t,["usageMetadata"]);return g!=null&&p(e,["usageMetadata"],g),e}function zN(){return{}}function VN(t){const e={},n=m(t,["nextPageToken"]);n!=null&&p(e,["nextPageToken"],n);const r=m(t,["cachedContents"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(o=>Eo(o))),p(e,["cachedContents"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var _s;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(_s||(_s={}));class Wo{constructor(e,n,r,l){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,l)}init(e,n,r){var l,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.idxInternal=0;let u={config:{}};r?typeof r=="object"?u=Object.assign({},r):u=r:u={config:{}},u.config&&(u.config.pageToken=n.nextPageToken),this.paramsInternal=u,this.pageInternalSize=(o=(l=u.config)===null||l===void 0?void 0:l.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $N extends js{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Wo(_s.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,l,o;let u,f="",g={};if(this.apiClient.isVertexAI()){const h=MN(this.apiClient,e);return f=Ie("cachedContents",h._url),g=h._query,delete h.config,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),u.then(x=>Eo(x))}else{const h=rN(this.apiClient,e);return f=Ie("cachedContents",h._url),g=h._query,delete h.config,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),u.then(x=>To(x))}}async get(e){var n,r,l,o;let u,f="",g={};if(this.apiClient.isVertexAI()){const h=RN(this.apiClient,e);return f=Ie("{name}",h._url),g=h._query,delete h.config,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),u.then(x=>Eo(x))}else{const h=sN(this.apiClient,e);return f=Ie("{name}",h._url),g=h._query,delete h.config,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),u.then(x=>To(x))}}async delete(e){var n,r,l,o;let u,f="",g={};if(this.apiClient.isVertexAI()){const h=IN(this.apiClient,e);return f=Ie("{name}",h._url),g=h._query,delete h.config,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),u.then(()=>{const x=zN(),b=new kx;return Object.assign(b,x),b})}else{const h=lN(this.apiClient,e);return f=Ie("{name}",h._url),g=h._query,delete h.config,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),u.then(()=>{const x=BN(),b=new kx;return Object.assign(b,x),b})}}async update(e){var n,r,l,o;let u,f="",g={};if(this.apiClient.isVertexAI()){const h=LN(this.apiClient,e);return f=Ie("{name}",h._url),g=h._query,delete h.config,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),u.then(x=>Eo(x))}else{const h=oN(this.apiClient,e);return f=Ie("{name}",h._url),g=h._query,delete h.config,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),u.then(x=>To(x))}}async listInternal(e){var n,r,l,o;let u,f="",g={};if(this.apiClient.isVertexAI()){const h=ON(e);return f=Ie("cachedContents",h._url),g=h._query,delete h.config,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),u.then(x=>{const b=VN(x),N=new Ax;return Object.assign(N,b),N})}else{const h=uN(e);return f=Ie("cachedContents",h._url),g=h._query,delete h.config,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),u.then(x=>{const b=UN(x),N=new Ax;return Object.assign(N,b),N})}}}function Lx(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function mt(t){return this instanceof mt?(this.v=t,this):new mt(t)}function bs(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),l,o=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",u),l[Symbol.asyncIterator]=function(){return this},l;function u(w){return function(C){return Promise.resolve(C).then(w,b)}}function f(w,C){r[w]&&(l[w]=function(E){return new Promise(function(_,A){o.push([w,E,_,A])>1||g(w,E)})},C&&(l[w]=C(l[w])))}function g(w,C){try{h(r[w](C))}catch(E){N(o[0][3],E)}}function h(w){w.value instanceof mt?Promise.resolve(w.value.v).then(x,b):N(o[0][2],w)}function x(w){g("next",w)}function b(w){g("throw",w)}function N(w,C){w(C),o.shift(),o.length&&g(o[0][0],o[0][1])}}function ql(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Lx=="function"?Lx(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(u){return new Promise(function(f,g){u=t[o](u),l(f,g,u.done,u.value)})}}function l(o,u,f,g){Promise.resolve(g).then(function(h){o({value:h,done:f})},u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qN(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:D1(n)}function D1(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function FN(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Px(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const l=[];let o=!0;for(;r<n&&t[r].role==="model";)l.push(t[r]),o&&!D1(t[r])&&(o=!1),r++;o?e.push(...l):e.pop()}return e}class HN{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new GN(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class GN{constructor(e,n,r,l={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=l,this.history=o,this.sendPromise=Promise.resolve(),FN(o)}async sendMessage(e){var n;await this.sendPromise;const r=Ht(e.message),l=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,u,f;const g=await l,h=(u=(o=g.candidates)===null||o===void 0?void 0:o[0])===null||u===void 0?void 0:u.content,x=g.automaticFunctionCallingHistory,b=this.getHistory(!0).length;let N=[];x!=null&&(N=(f=x.slice(b))!==null&&f!==void 0?f:[]);const w=h?[h]:[];this.recordHistory(r,w,N)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),l}async sendMessageStream(e){var n;await this.sendPromise;const r=Ht(e.message),l=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=l.then(()=>{}).catch(()=>{});const o=await l;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?Px(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,l;return bs(this,arguments,function*(){var u,f,g,h;const x=[];try{for(var b=!0,N=ql(e),w;w=yield mt(N.next()),u=w.done,!u;b=!0){h=w.value,b=!1;const C=h;if(qN(C)){const E=(l=(r=C.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content;E!==void 0&&x.push(E)}yield yield mt(C)}}catch(C){f={error:C}}finally{try{!b&&!u&&(g=N.return)&&(yield mt(g.call(N)))}finally{if(f)throw f.error}}this.recordHistory(n,x)})}recordHistory(e,n,r){let l=[];n.length>0&&n.every(o=>o.role!==void 0)?l=n:l.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...Px(r)):this.history.push(e),this.history.push(...l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xo extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Xo.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YN(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const l=m(t,["pageToken"]);return e!==void 0&&l!=null&&p(e,["_query","pageToken"],l),n}function JN(t){const e={},n=m(t,["config"]);return n!=null&&p(e,["config"],YN(n,e)),e}function ZN(t){const e={},n=m(t,["details"]);n!=null&&p(e,["details"],n);const r=m(t,["message"]);r!=null&&p(e,["message"],r);const l=m(t,["code"]);return l!=null&&p(e,["code"],l),e}function QN(t){const e={},n=m(t,["name"]);n!=null&&p(e,["name"],n);const r=m(t,["displayName"]);r!=null&&p(e,["displayName"],r);const l=m(t,["mimeType"]);l!=null&&p(e,["mimeType"],l);const o=m(t,["sizeBytes"]);o!=null&&p(e,["sizeBytes"],o);const u=m(t,["createTime"]);u!=null&&p(e,["createTime"],u);const f=m(t,["expirationTime"]);f!=null&&p(e,["expirationTime"],f);const g=m(t,["updateTime"]);g!=null&&p(e,["updateTime"],g);const h=m(t,["sha256Hash"]);h!=null&&p(e,["sha256Hash"],h);const x=m(t,["uri"]);x!=null&&p(e,["uri"],x);const b=m(t,["downloadUri"]);b!=null&&p(e,["downloadUri"],b);const N=m(t,["state"]);N!=null&&p(e,["state"],N);const w=m(t,["source"]);w!=null&&p(e,["source"],w);const C=m(t,["videoMetadata"]);C!=null&&p(e,["videoMetadata"],C);const E=m(t,["error"]);return E!=null&&p(e,["error"],ZN(E)),e}function KN(t){const e={},n=m(t,["file"]);n!=null&&p(e,["file"],QN(n));const r=m(t,["config"]);return r!=null&&p(e,["config"],r),e}function WN(t){const e={},n=m(t,["name"]);n!=null&&p(e,["_url","file"],M1(n));const r=m(t,["config"]);return r!=null&&p(e,["config"],r),e}function XN(t){const e={},n=m(t,["name"]);n!=null&&p(e,["_url","file"],M1(n));const r=m(t,["config"]);return r!=null&&p(e,["config"],r),e}function eS(t){const e={},n=m(t,["details"]);n!=null&&p(e,["details"],n);const r=m(t,["message"]);r!=null&&p(e,["message"],r);const l=m(t,["code"]);return l!=null&&p(e,["code"],l),e}function Ef(t){const e={},n=m(t,["name"]);n!=null&&p(e,["name"],n);const r=m(t,["displayName"]);r!=null&&p(e,["displayName"],r);const l=m(t,["mimeType"]);l!=null&&p(e,["mimeType"],l);const o=m(t,["sizeBytes"]);o!=null&&p(e,["sizeBytes"],o);const u=m(t,["createTime"]);u!=null&&p(e,["createTime"],u);const f=m(t,["expirationTime"]);f!=null&&p(e,["expirationTime"],f);const g=m(t,["updateTime"]);g!=null&&p(e,["updateTime"],g);const h=m(t,["sha256Hash"]);h!=null&&p(e,["sha256Hash"],h);const x=m(t,["uri"]);x!=null&&p(e,["uri"],x);const b=m(t,["downloadUri"]);b!=null&&p(e,["downloadUri"],b);const N=m(t,["state"]);N!=null&&p(e,["state"],N);const w=m(t,["source"]);w!=null&&p(e,["source"],w);const C=m(t,["videoMetadata"]);C!=null&&p(e,["videoMetadata"],C);const E=m(t,["error"]);return E!=null&&p(e,["error"],eS(E)),e}function tS(t){const e={},n=m(t,["nextPageToken"]);n!=null&&p(e,["nextPageToken"],n);const r=m(t,["files"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(o=>Ef(o))),p(e,["files"],l)}return e}function nS(){return{}}function iS(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rS extends js{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Wo(_s.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>Ef(n))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let l,o="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=JN(e);return o=Ie("files",f._url),u=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),l.then(g=>{const h=tS(g),x=new N5;return Object.assign(x,h),x})}}async createInternal(e){var n,r;let l,o="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=KN(e);return o=Ie("upload/v1beta/files",f._url),u=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),l.then(()=>{const g=nS(),h=new S5;return Object.assign(h,g),h})}}async get(e){var n,r;let l,o="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=WN(e);return o=Ie("files/{file}",f._url),u=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),l.then(g=>Ef(g))}}async delete(e){var n,r;let l,o="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=XN(e);return o=Ie("files/{file}",f._url),u=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),l.then(()=>{const g=iS(),h=new C5;return Object.assign(h,g),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sS(t){const e={},n=m(t,["voiceName"]);return n!=null&&p(e,["voiceName"],n),e}function lS(t){const e={},n=m(t,["voiceName"]);return n!=null&&p(e,["voiceName"],n),e}function L1(t){const e={},n=m(t,["prebuiltVoiceConfig"]);return n!=null&&p(e,["prebuiltVoiceConfig"],sS(n)),e}function aS(t){const e={},n=m(t,["prebuiltVoiceConfig"]);return n!=null&&p(e,["prebuiltVoiceConfig"],lS(n)),e}function oS(t){const e={},n=m(t,["speaker"]);n!=null&&p(e,["speaker"],n);const r=m(t,["voiceConfig"]);return r!=null&&p(e,["voiceConfig"],L1(r)),e}function cS(t){const e={},n=m(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>oS(l))),p(e,["speakerVoiceConfigs"],r)}return e}function uS(t){const e={},n=m(t,["voiceConfig"]);n!=null&&p(e,["voiceConfig"],L1(n));const r=m(t,["multiSpeakerVoiceConfig"]);r!=null&&p(e,["multiSpeakerVoiceConfig"],cS(r));const l=m(t,["languageCode"]);return l!=null&&p(e,["languageCode"],l),e}function dS(t){const e={},n=m(t,["voiceConfig"]);if(n!=null&&p(e,["voiceConfig"],aS(n)),m(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=m(t,["languageCode"]);return r!=null&&p(e,["languageCode"],r),e}function fS(t){const e={},n=m(t,["fps"]);n!=null&&p(e,["fps"],n);const r=m(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const l=m(t,["startOffset"]);return l!=null&&p(e,["startOffset"],l),e}function mS(t){const e={},n=m(t,["fps"]);n!=null&&p(e,["fps"],n);const r=m(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const l=m(t,["startOffset"]);return l!=null&&p(e,["startOffset"],l),e}function hS(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["data"]);n!=null&&p(e,["data"],n);const r=m(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function pS(t){const e={},n=m(t,["displayName"]);n!=null&&p(e,["displayName"],n);const r=m(t,["data"]);r!=null&&p(e,["data"],r);const l=m(t,["mimeType"]);return l!=null&&p(e,["mimeType"],l),e}function gS(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=m(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function xS(t){const e={},n=m(t,["displayName"]);n!=null&&p(e,["displayName"],n);const r=m(t,["fileUri"]);r!=null&&p(e,["fileUri"],r);const l=m(t,["mimeType"]);return l!=null&&p(e,["mimeType"],l),e}function yS(t){const e={},n=m(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],fS(n));const r=m(t,["thought"]);r!=null&&p(e,["thought"],r);const l=m(t,["inlineData"]);l!=null&&p(e,["inlineData"],hS(l));const o=m(t,["fileData"]);o!=null&&p(e,["fileData"],gS(o));const u=m(t,["thoughtSignature"]);u!=null&&p(e,["thoughtSignature"],u);const f=m(t,["codeExecutionResult"]);f!=null&&p(e,["codeExecutionResult"],f);const g=m(t,["executableCode"]);g!=null&&p(e,["executableCode"],g);const h=m(t,["functionCall"]);h!=null&&p(e,["functionCall"],h);const x=m(t,["functionResponse"]);x!=null&&p(e,["functionResponse"],x);const b=m(t,["text"]);return b!=null&&p(e,["text"],b),e}function vS(t){const e={},n=m(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],mS(n));const r=m(t,["thought"]);r!=null&&p(e,["thought"],r);const l=m(t,["inlineData"]);l!=null&&p(e,["inlineData"],pS(l));const o=m(t,["fileData"]);o!=null&&p(e,["fileData"],xS(o));const u=m(t,["thoughtSignature"]);u!=null&&p(e,["thoughtSignature"],u);const f=m(t,["codeExecutionResult"]);f!=null&&p(e,["codeExecutionResult"],f);const g=m(t,["executableCode"]);g!=null&&p(e,["executableCode"],g);const h=m(t,["functionCall"]);h!=null&&p(e,["functionCall"],h);const x=m(t,["functionResponse"]);x!=null&&p(e,["functionResponse"],x);const b=m(t,["text"]);return b!=null&&p(e,["text"],b),e}function bS(t){const e={},n=m(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>yS(o))),p(e,["parts"],l)}const r=m(t,["role"]);return r!=null&&p(e,["role"],r),e}function wS(t){const e={},n=m(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>vS(o))),p(e,["parts"],l)}const r=m(t,["role"]);return r!=null&&p(e,["role"],r),e}function NS(t){const e={},n=m(t,["behavior"]);n!=null&&p(e,["behavior"],n);const r=m(t,["description"]);r!=null&&p(e,["description"],r);const l=m(t,["name"]);l!=null&&p(e,["name"],l);const o=m(t,["parameters"]);o!=null&&p(e,["parameters"],o);const u=m(t,["parametersJsonSchema"]);u!=null&&p(e,["parametersJsonSchema"],u);const f=m(t,["response"]);f!=null&&p(e,["response"],f);const g=m(t,["responseJsonSchema"]);return g!=null&&p(e,["responseJsonSchema"],g),e}function SS(t){const e={};if(m(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=m(t,["description"]);n!=null&&p(e,["description"],n);const r=m(t,["name"]);r!=null&&p(e,["name"],r);const l=m(t,["parameters"]);l!=null&&p(e,["parameters"],l);const o=m(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const u=m(t,["response"]);u!=null&&p(e,["response"],u);const f=m(t,["responseJsonSchema"]);return f!=null&&p(e,["responseJsonSchema"],f),e}function CS(t){const e={},n=m(t,["startTime"]);n!=null&&p(e,["startTime"],n);const r=m(t,["endTime"]);return r!=null&&p(e,["endTime"],r),e}function TS(t){const e={},n=m(t,["startTime"]);n!=null&&p(e,["startTime"],n);const r=m(t,["endTime"]);return r!=null&&p(e,["endTime"],r),e}function ES(t){const e={},n=m(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],CS(n)),e}function kS(t){const e={},n=m(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],TS(n)),e}function AS(t){const e={},n=m(t,["mode"]);n!=null&&p(e,["mode"],n);const r=m(t,["dynamicThreshold"]);return r!=null&&p(e,["dynamicThreshold"],r),e}function _S(t){const e={},n=m(t,["mode"]);n!=null&&p(e,["mode"],n);const r=m(t,["dynamicThreshold"]);return r!=null&&p(e,["dynamicThreshold"],r),e}function jS(t){const e={},n=m(t,["dynamicRetrievalConfig"]);return n!=null&&p(e,["dynamicRetrievalConfig"],AS(n)),e}function MS(t){const e={},n=m(t,["dynamicRetrievalConfig"]);return n!=null&&p(e,["dynamicRetrievalConfig"],_S(n)),e}function RS(){return{}}function IS(t){const e={},n=m(t,["apiKeyString"]);return n!=null&&p(e,["apiKeyString"],n),e}function DS(t){const e={},n=m(t,["apiKeyConfig"]);n!=null&&p(e,["apiKeyConfig"],IS(n));const r=m(t,["authType"]);r!=null&&p(e,["authType"],r);const l=m(t,["googleServiceAccountConfig"]);l!=null&&p(e,["googleServiceAccountConfig"],l);const o=m(t,["httpBasicAuthConfig"]);o!=null&&p(e,["httpBasicAuthConfig"],o);const u=m(t,["oauthConfig"]);u!=null&&p(e,["oauthConfig"],u);const f=m(t,["oidcConfig"]);return f!=null&&p(e,["oidcConfig"],f),e}function LS(t){const e={},n=m(t,["authConfig"]);return n!=null&&p(e,["authConfig"],DS(n)),e}function PS(){return{}}function OS(){return{}}function BS(t){const e={},n=m(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(g=>NS(g))),p(e,["functionDeclarations"],f)}if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=m(t,["googleSearch"]);r!=null&&p(e,["googleSearch"],ES(r));const l=m(t,["googleSearchRetrieval"]);if(l!=null&&p(e,["googleSearchRetrieval"],jS(l)),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(m(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");m(t,["urlContext"])!=null&&p(e,["urlContext"],PS());const u=m(t,["codeExecution"]);return u!=null&&p(e,["codeExecution"],u),e}function US(t){const e={},n=m(t,["functionDeclarations"]);if(n!=null){let x=n;Array.isArray(x)&&(x=x.map(b=>SS(b))),p(e,["functionDeclarations"],x)}const r=m(t,["retrieval"]);r!=null&&p(e,["retrieval"],r);const l=m(t,["googleSearch"]);l!=null&&p(e,["googleSearch"],kS(l));const o=m(t,["googleSearchRetrieval"]);o!=null&&p(e,["googleSearchRetrieval"],MS(o)),m(t,["enterpriseWebSearch"])!=null&&p(e,["enterpriseWebSearch"],RS());const f=m(t,["googleMaps"]);f!=null&&p(e,["googleMaps"],LS(f)),m(t,["urlContext"])!=null&&p(e,["urlContext"],OS());const h=m(t,["codeExecution"]);return h!=null&&p(e,["codeExecution"],h),e}function zS(t){const e={},n=m(t,["handle"]);if(n!=null&&p(e,["handle"],n),m(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function VS(t){const e={},n=m(t,["handle"]);n!=null&&p(e,["handle"],n);const r=m(t,["transparent"]);return r!=null&&p(e,["transparent"],r),e}function Ox(){return{}}function Bx(){return{}}function $S(t){const e={},n=m(t,["disabled"]);n!=null&&p(e,["disabled"],n);const r=m(t,["startOfSpeechSensitivity"]);r!=null&&p(e,["startOfSpeechSensitivity"],r);const l=m(t,["endOfSpeechSensitivity"]);l!=null&&p(e,["endOfSpeechSensitivity"],l);const o=m(t,["prefixPaddingMs"]);o!=null&&p(e,["prefixPaddingMs"],o);const u=m(t,["silenceDurationMs"]);return u!=null&&p(e,["silenceDurationMs"],u),e}function qS(t){const e={},n=m(t,["disabled"]);n!=null&&p(e,["disabled"],n);const r=m(t,["startOfSpeechSensitivity"]);r!=null&&p(e,["startOfSpeechSensitivity"],r);const l=m(t,["endOfSpeechSensitivity"]);l!=null&&p(e,["endOfSpeechSensitivity"],l);const o=m(t,["prefixPaddingMs"]);o!=null&&p(e,["prefixPaddingMs"],o);const u=m(t,["silenceDurationMs"]);return u!=null&&p(e,["silenceDurationMs"],u),e}function FS(t){const e={},n=m(t,["automaticActivityDetection"]);n!=null&&p(e,["automaticActivityDetection"],$S(n));const r=m(t,["activityHandling"]);r!=null&&p(e,["activityHandling"],r);const l=m(t,["turnCoverage"]);return l!=null&&p(e,["turnCoverage"],l),e}function HS(t){const e={},n=m(t,["automaticActivityDetection"]);n!=null&&p(e,["automaticActivityDetection"],qS(n));const r=m(t,["activityHandling"]);r!=null&&p(e,["activityHandling"],r);const l=m(t,["turnCoverage"]);return l!=null&&p(e,["turnCoverage"],l),e}function GS(t){const e={},n=m(t,["targetTokens"]);return n!=null&&p(e,["targetTokens"],n),e}function YS(t){const e={},n=m(t,["targetTokens"]);return n!=null&&p(e,["targetTokens"],n),e}function JS(t){const e={},n=m(t,["triggerTokens"]);n!=null&&p(e,["triggerTokens"],n);const r=m(t,["slidingWindow"]);return r!=null&&p(e,["slidingWindow"],GS(r)),e}function ZS(t){const e={},n=m(t,["triggerTokens"]);n!=null&&p(e,["triggerTokens"],n);const r=m(t,["slidingWindow"]);return r!=null&&p(e,["slidingWindow"],YS(r)),e}function QS(t){const e={},n=m(t,["proactiveAudio"]);return n!=null&&p(e,["proactiveAudio"],n),e}function KS(t){const e={},n=m(t,["proactiveAudio"]);return n!=null&&p(e,["proactiveAudio"],n),e}function WS(t,e){const n={},r=m(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],r);const l=m(t,["responseModalities"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","responseModalities"],l);const o=m(t,["temperature"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","temperature"],o);const u=m(t,["topP"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","topP"],u);const f=m(t,["topK"]);e!==void 0&&f!=null&&p(e,["setup","generationConfig","topK"],f);const g=m(t,["maxOutputTokens"]);e!==void 0&&g!=null&&p(e,["setup","generationConfig","maxOutputTokens"],g);const h=m(t,["mediaResolution"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","mediaResolution"],h);const x=m(t,["seed"]);e!==void 0&&x!=null&&p(e,["setup","generationConfig","seed"],x);const b=m(t,["speechConfig"]);e!==void 0&&b!=null&&p(e,["setup","generationConfig","speechConfig"],uS(Kf(b)));const N=m(t,["enableAffectiveDialog"]);e!==void 0&&N!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],N);const w=m(t,["systemInstruction"]);e!==void 0&&w!=null&&p(e,["setup","systemInstruction"],bS(Ht(w)));const C=m(t,["tools"]);if(e!==void 0&&C!=null){let Z=ea(C);Array.isArray(Z)&&(Z=Z.map(L=>BS(Xl(L)))),p(e,["setup","tools"],Z)}const E=m(t,["sessionResumption"]);e!==void 0&&E!=null&&p(e,["setup","sessionResumption"],zS(E));const _=m(t,["inputAudioTranscription"]);e!==void 0&&_!=null&&p(e,["setup","inputAudioTranscription"],Ox());const A=m(t,["outputAudioTranscription"]);e!==void 0&&A!=null&&p(e,["setup","outputAudioTranscription"],Ox());const P=m(t,["realtimeInputConfig"]);e!==void 0&&P!=null&&p(e,["setup","realtimeInputConfig"],FS(P));const D=m(t,["contextWindowCompression"]);e!==void 0&&D!=null&&p(e,["setup","contextWindowCompression"],JS(D));const $=m(t,["proactivity"]);return e!==void 0&&$!=null&&p(e,["setup","proactivity"],QS($)),n}function XS(t,e){const n={},r=m(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],r);const l=m(t,["responseModalities"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","responseModalities"],l);const o=m(t,["temperature"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","temperature"],o);const u=m(t,["topP"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","topP"],u);const f=m(t,["topK"]);e!==void 0&&f!=null&&p(e,["setup","generationConfig","topK"],f);const g=m(t,["maxOutputTokens"]);e!==void 0&&g!=null&&p(e,["setup","generationConfig","maxOutputTokens"],g);const h=m(t,["mediaResolution"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","mediaResolution"],h);const x=m(t,["seed"]);e!==void 0&&x!=null&&p(e,["setup","generationConfig","seed"],x);const b=m(t,["speechConfig"]);e!==void 0&&b!=null&&p(e,["setup","generationConfig","speechConfig"],dS(Kf(b)));const N=m(t,["enableAffectiveDialog"]);e!==void 0&&N!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],N);const w=m(t,["systemInstruction"]);e!==void 0&&w!=null&&p(e,["setup","systemInstruction"],wS(Ht(w)));const C=m(t,["tools"]);if(e!==void 0&&C!=null){let Z=ea(C);Array.isArray(Z)&&(Z=Z.map(L=>US(Xl(L)))),p(e,["setup","tools"],Z)}const E=m(t,["sessionResumption"]);e!==void 0&&E!=null&&p(e,["setup","sessionResumption"],VS(E));const _=m(t,["inputAudioTranscription"]);e!==void 0&&_!=null&&p(e,["setup","inputAudioTranscription"],Bx());const A=m(t,["outputAudioTranscription"]);e!==void 0&&A!=null&&p(e,["setup","outputAudioTranscription"],Bx());const P=m(t,["realtimeInputConfig"]);e!==void 0&&P!=null&&p(e,["setup","realtimeInputConfig"],HS(P));const D=m(t,["contextWindowCompression"]);e!==void 0&&D!=null&&p(e,["setup","contextWindowCompression"],ZS(D));const $=m(t,["proactivity"]);return e!==void 0&&$!=null&&p(e,["setup","proactivity"],KS($)),n}function eC(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["setup","model"],ut(t,r));const l=m(e,["config"]);return l!=null&&p(n,["config"],WS(l,n)),n}function tC(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["setup","model"],ut(t,r));const l=m(e,["config"]);return l!=null&&p(n,["config"],XS(l,n)),n}function nC(){return{}}function iC(){return{}}function rC(){return{}}function sC(){return{}}function lC(t){const e={},n=m(t,["media"]);n!=null&&p(e,["mediaChunks"],E1(n));const r=m(t,["audio"]);r!=null&&p(e,["audio"],A5(r));const l=m(t,["audioStreamEnd"]);l!=null&&p(e,["audioStreamEnd"],l);const o=m(t,["video"]);o!=null&&p(e,["video"],k5(o));const u=m(t,["text"]);return u!=null&&p(e,["text"],u),m(t,["activityStart"])!=null&&p(e,["activityStart"],nC()),m(t,["activityEnd"])!=null&&p(e,["activityEnd"],rC()),e}function aC(t){const e={},n=m(t,["media"]);if(n!=null&&p(e,["mediaChunks"],E1(n)),m(t,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const r=m(t,["audioStreamEnd"]);if(r!=null&&p(e,["audioStreamEnd"],r),m(t,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(m(t,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return m(t,["activityStart"])!=null&&p(e,["activityStart"],iC()),m(t,["activityEnd"])!=null&&p(e,["activityEnd"],sC()),e}function P1(t){const e={},n=m(t,["text"]);n!=null&&p(e,["text"],n);const r=m(t,["weight"]);return r!=null&&p(e,["weight"],r),e}function oC(t){const e={},n=m(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>P1(l))),p(e,["weightedPrompts"],r)}return e}function O1(t){const e={},n=m(t,["temperature"]);n!=null&&p(e,["temperature"],n);const r=m(t,["topK"]);r!=null&&p(e,["topK"],r);const l=m(t,["seed"]);l!=null&&p(e,["seed"],l);const o=m(t,["guidance"]);o!=null&&p(e,["guidance"],o);const u=m(t,["bpm"]);u!=null&&p(e,["bpm"],u);const f=m(t,["density"]);f!=null&&p(e,["density"],f);const g=m(t,["brightness"]);g!=null&&p(e,["brightness"],g);const h=m(t,["scale"]);h!=null&&p(e,["scale"],h);const x=m(t,["muteBass"]);x!=null&&p(e,["muteBass"],x);const b=m(t,["muteDrums"]);b!=null&&p(e,["muteDrums"],b);const N=m(t,["onlyBassAndDrums"]);return N!=null&&p(e,["onlyBassAndDrums"],N),e}function cC(t){const e={},n=m(t,["musicGenerationConfig"]);return n!=null&&p(e,["musicGenerationConfig"],O1(n)),e}function B1(t){const e={},n=m(t,["model"]);return n!=null&&p(e,["model"],n),e}function U1(t){const e={},n=m(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>P1(l))),p(e,["weightedPrompts"],r)}return e}function kf(t){const e={},n=m(t,["setup"]);n!=null&&p(e,["setup"],B1(n));const r=m(t,["clientContent"]);r!=null&&p(e,["clientContent"],U1(r));const l=m(t,["musicGenerationConfig"]);l!=null&&p(e,["musicGenerationConfig"],O1(l));const o=m(t,["playbackControl"]);return o!=null&&p(e,["playbackControl"],o),e}function uC(){return{}}function dC(){return{}}function fC(t){const e={},n=m(t,["fps"]);n!=null&&p(e,["fps"],n);const r=m(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const l=m(t,["startOffset"]);return l!=null&&p(e,["startOffset"],l),e}function mC(t){const e={},n=m(t,["fps"]);n!=null&&p(e,["fps"],n);const r=m(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const l=m(t,["startOffset"]);return l!=null&&p(e,["startOffset"],l),e}function hC(t){const e={},n=m(t,["data"]);n!=null&&p(e,["data"],n);const r=m(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function pC(t){const e={},n=m(t,["displayName"]);n!=null&&p(e,["displayName"],n);const r=m(t,["data"]);r!=null&&p(e,["data"],r);const l=m(t,["mimeType"]);return l!=null&&p(e,["mimeType"],l),e}function gC(t){const e={},n=m(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=m(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function xC(t){const e={},n=m(t,["displayName"]);n!=null&&p(e,["displayName"],n);const r=m(t,["fileUri"]);r!=null&&p(e,["fileUri"],r);const l=m(t,["mimeType"]);return l!=null&&p(e,["mimeType"],l),e}function yC(t){const e={},n=m(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],fC(n));const r=m(t,["thought"]);r!=null&&p(e,["thought"],r);const l=m(t,["inlineData"]);l!=null&&p(e,["inlineData"],hC(l));const o=m(t,["fileData"]);o!=null&&p(e,["fileData"],gC(o));const u=m(t,["thoughtSignature"]);u!=null&&p(e,["thoughtSignature"],u);const f=m(t,["codeExecutionResult"]);f!=null&&p(e,["codeExecutionResult"],f);const g=m(t,["executableCode"]);g!=null&&p(e,["executableCode"],g);const h=m(t,["functionCall"]);h!=null&&p(e,["functionCall"],h);const x=m(t,["functionResponse"]);x!=null&&p(e,["functionResponse"],x);const b=m(t,["text"]);return b!=null&&p(e,["text"],b),e}function vC(t){const e={},n=m(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],mC(n));const r=m(t,["thought"]);r!=null&&p(e,["thought"],r);const l=m(t,["inlineData"]);l!=null&&p(e,["inlineData"],pC(l));const o=m(t,["fileData"]);o!=null&&p(e,["fileData"],xC(o));const u=m(t,["thoughtSignature"]);u!=null&&p(e,["thoughtSignature"],u);const f=m(t,["codeExecutionResult"]);f!=null&&p(e,["codeExecutionResult"],f);const g=m(t,["executableCode"]);g!=null&&p(e,["executableCode"],g);const h=m(t,["functionCall"]);h!=null&&p(e,["functionCall"],h);const x=m(t,["functionResponse"]);x!=null&&p(e,["functionResponse"],x);const b=m(t,["text"]);return b!=null&&p(e,["text"],b),e}function bC(t){const e={},n=m(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>yC(o))),p(e,["parts"],l)}const r=m(t,["role"]);return r!=null&&p(e,["role"],r),e}function wC(t){const e={},n=m(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>vC(o))),p(e,["parts"],l)}const r=m(t,["role"]);return r!=null&&p(e,["role"],r),e}function Ux(t){const e={},n=m(t,["text"]);n!=null&&p(e,["text"],n);const r=m(t,["finished"]);return r!=null&&p(e,["finished"],r),e}function zx(t){const e={},n=m(t,["text"]);n!=null&&p(e,["text"],n);const r=m(t,["finished"]);return r!=null&&p(e,["finished"],r),e}function NC(t){const e={},n=m(t,["retrievedUrl"]);n!=null&&p(e,["retrievedUrl"],n);const r=m(t,["urlRetrievalStatus"]);return r!=null&&p(e,["urlRetrievalStatus"],r),e}function SC(t){const e={},n=m(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>NC(l))),p(e,["urlMetadata"],r)}return e}function CC(t){const e={},n=m(t,["modelTurn"]);n!=null&&p(e,["modelTurn"],bC(n));const r=m(t,["turnComplete"]);r!=null&&p(e,["turnComplete"],r);const l=m(t,["interrupted"]);l!=null&&p(e,["interrupted"],l);const o=m(t,["groundingMetadata"]);o!=null&&p(e,["groundingMetadata"],o);const u=m(t,["generationComplete"]);u!=null&&p(e,["generationComplete"],u);const f=m(t,["inputTranscription"]);f!=null&&p(e,["inputTranscription"],Ux(f));const g=m(t,["outputTranscription"]);g!=null&&p(e,["outputTranscription"],Ux(g));const h=m(t,["urlContextMetadata"]);return h!=null&&p(e,["urlContextMetadata"],SC(h)),e}function TC(t){const e={},n=m(t,["modelTurn"]);n!=null&&p(e,["modelTurn"],wC(n));const r=m(t,["turnComplete"]);r!=null&&p(e,["turnComplete"],r);const l=m(t,["interrupted"]);l!=null&&p(e,["interrupted"],l);const o=m(t,["groundingMetadata"]);o!=null&&p(e,["groundingMetadata"],o);const u=m(t,["generationComplete"]);u!=null&&p(e,["generationComplete"],u);const f=m(t,["inputTranscription"]);f!=null&&p(e,["inputTranscription"],zx(f));const g=m(t,["outputTranscription"]);return g!=null&&p(e,["outputTranscription"],zx(g)),e}function EC(t){const e={},n=m(t,["id"]);n!=null&&p(e,["id"],n);const r=m(t,["args"]);r!=null&&p(e,["args"],r);const l=m(t,["name"]);return l!=null&&p(e,["name"],l),e}function kC(t){const e={},n=m(t,["args"]);n!=null&&p(e,["args"],n);const r=m(t,["name"]);return r!=null&&p(e,["name"],r),e}function AC(t){const e={},n=m(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>EC(l))),p(e,["functionCalls"],r)}return e}function _C(t){const e={},n=m(t,["functionCalls"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>kC(l))),p(e,["functionCalls"],r)}return e}function jC(t){const e={},n=m(t,["ids"]);return n!=null&&p(e,["ids"],n),e}function MC(t){const e={},n=m(t,["ids"]);return n!=null&&p(e,["ids"],n),e}function yo(t){const e={},n=m(t,["modality"]);n!=null&&p(e,["modality"],n);const r=m(t,["tokenCount"]);return r!=null&&p(e,["tokenCount"],r),e}function vo(t){const e={},n=m(t,["modality"]);n!=null&&p(e,["modality"],n);const r=m(t,["tokenCount"]);return r!=null&&p(e,["tokenCount"],r),e}function RC(t){const e={},n=m(t,["promptTokenCount"]);n!=null&&p(e,["promptTokenCount"],n);const r=m(t,["cachedContentTokenCount"]);r!=null&&p(e,["cachedContentTokenCount"],r);const l=m(t,["responseTokenCount"]);l!=null&&p(e,["responseTokenCount"],l);const o=m(t,["toolUsePromptTokenCount"]);o!=null&&p(e,["toolUsePromptTokenCount"],o);const u=m(t,["thoughtsTokenCount"]);u!=null&&p(e,["thoughtsTokenCount"],u);const f=m(t,["totalTokenCount"]);f!=null&&p(e,["totalTokenCount"],f);const g=m(t,["promptTokensDetails"]);if(g!=null){let N=g;Array.isArray(N)&&(N=N.map(w=>yo(w))),p(e,["promptTokensDetails"],N)}const h=m(t,["cacheTokensDetails"]);if(h!=null){let N=h;Array.isArray(N)&&(N=N.map(w=>yo(w))),p(e,["cacheTokensDetails"],N)}const x=m(t,["responseTokensDetails"]);if(x!=null){let N=x;Array.isArray(N)&&(N=N.map(w=>yo(w))),p(e,["responseTokensDetails"],N)}const b=m(t,["toolUsePromptTokensDetails"]);if(b!=null){let N=b;Array.isArray(N)&&(N=N.map(w=>yo(w))),p(e,["toolUsePromptTokensDetails"],N)}return e}function IC(t){const e={},n=m(t,["promptTokenCount"]);n!=null&&p(e,["promptTokenCount"],n);const r=m(t,["cachedContentTokenCount"]);r!=null&&p(e,["cachedContentTokenCount"],r);const l=m(t,["candidatesTokenCount"]);l!=null&&p(e,["responseTokenCount"],l);const o=m(t,["toolUsePromptTokenCount"]);o!=null&&p(e,["toolUsePromptTokenCount"],o);const u=m(t,["thoughtsTokenCount"]);u!=null&&p(e,["thoughtsTokenCount"],u);const f=m(t,["totalTokenCount"]);f!=null&&p(e,["totalTokenCount"],f);const g=m(t,["promptTokensDetails"]);if(g!=null){let w=g;Array.isArray(w)&&(w=w.map(C=>vo(C))),p(e,["promptTokensDetails"],w)}const h=m(t,["cacheTokensDetails"]);if(h!=null){let w=h;Array.isArray(w)&&(w=w.map(C=>vo(C))),p(e,["cacheTokensDetails"],w)}const x=m(t,["candidatesTokensDetails"]);if(x!=null){let w=x;Array.isArray(w)&&(w=w.map(C=>vo(C))),p(e,["responseTokensDetails"],w)}const b=m(t,["toolUsePromptTokensDetails"]);if(b!=null){let w=b;Array.isArray(w)&&(w=w.map(C=>vo(C))),p(e,["toolUsePromptTokensDetails"],w)}const N=m(t,["trafficType"]);return N!=null&&p(e,["trafficType"],N),e}function DC(t){const e={},n=m(t,["timeLeft"]);return n!=null&&p(e,["timeLeft"],n),e}function LC(t){const e={},n=m(t,["timeLeft"]);return n!=null&&p(e,["timeLeft"],n),e}function PC(t){const e={},n=m(t,["newHandle"]);n!=null&&p(e,["newHandle"],n);const r=m(t,["resumable"]);r!=null&&p(e,["resumable"],r);const l=m(t,["lastConsumedClientMessageIndex"]);return l!=null&&p(e,["lastConsumedClientMessageIndex"],l),e}function OC(t){const e={},n=m(t,["newHandle"]);n!=null&&p(e,["newHandle"],n);const r=m(t,["resumable"]);r!=null&&p(e,["resumable"],r);const l=m(t,["lastConsumedClientMessageIndex"]);return l!=null&&p(e,["lastConsumedClientMessageIndex"],l),e}function BC(t){const e={};m(t,["setupComplete"])!=null&&p(e,["setupComplete"],uC());const r=m(t,["serverContent"]);r!=null&&p(e,["serverContent"],CC(r));const l=m(t,["toolCall"]);l!=null&&p(e,["toolCall"],AC(l));const o=m(t,["toolCallCancellation"]);o!=null&&p(e,["toolCallCancellation"],jC(o));const u=m(t,["usageMetadata"]);u!=null&&p(e,["usageMetadata"],RC(u));const f=m(t,["goAway"]);f!=null&&p(e,["goAway"],DC(f));const g=m(t,["sessionResumptionUpdate"]);return g!=null&&p(e,["sessionResumptionUpdate"],PC(g)),e}function UC(t){const e={};m(t,["setupComplete"])!=null&&p(e,["setupComplete"],dC());const r=m(t,["serverContent"]);r!=null&&p(e,["serverContent"],TC(r));const l=m(t,["toolCall"]);l!=null&&p(e,["toolCall"],_C(l));const o=m(t,["toolCallCancellation"]);o!=null&&p(e,["toolCallCancellation"],MC(o));const u=m(t,["usageMetadata"]);u!=null&&p(e,["usageMetadata"],IC(u));const f=m(t,["goAway"]);f!=null&&p(e,["goAway"],LC(f));const g=m(t,["sessionResumptionUpdate"]);return g!=null&&p(e,["sessionResumptionUpdate"],OC(g)),e}function zC(){return{}}function VC(t){const e={},n=m(t,["text"]);n!=null&&p(e,["text"],n);const r=m(t,["weight"]);return r!=null&&p(e,["weight"],r),e}function $C(t){const e={},n=m(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>VC(l))),p(e,["weightedPrompts"],r)}return e}function qC(t){const e={},n=m(t,["temperature"]);n!=null&&p(e,["temperature"],n);const r=m(t,["topK"]);r!=null&&p(e,["topK"],r);const l=m(t,["seed"]);l!=null&&p(e,["seed"],l);const o=m(t,["guidance"]);o!=null&&p(e,["guidance"],o);const u=m(t,["bpm"]);u!=null&&p(e,["bpm"],u);const f=m(t,["density"]);f!=null&&p(e,["density"],f);const g=m(t,["brightness"]);g!=null&&p(e,["brightness"],g);const h=m(t,["scale"]);h!=null&&p(e,["scale"],h);const x=m(t,["muteBass"]);x!=null&&p(e,["muteBass"],x);const b=m(t,["muteDrums"]);b!=null&&p(e,["muteDrums"],b);const N=m(t,["onlyBassAndDrums"]);return N!=null&&p(e,["onlyBassAndDrums"],N),e}function FC(t){const e={},n=m(t,["clientContent"]);n!=null&&p(e,["clientContent"],$C(n));const r=m(t,["musicGenerationConfig"]);return r!=null&&p(e,["musicGenerationConfig"],qC(r)),e}function HC(t){const e={},n=m(t,["data"]);n!=null&&p(e,["data"],n);const r=m(t,["mimeType"]);r!=null&&p(e,["mimeType"],r);const l=m(t,["sourceMetadata"]);return l!=null&&p(e,["sourceMetadata"],FC(l)),e}function GC(t){const e={},n=m(t,["audioChunks"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>HC(l))),p(e,["audioChunks"],r)}return e}function YC(t){const e={},n=m(t,["text"]);n!=null&&p(e,["text"],n);const r=m(t,["filteredReason"]);return r!=null&&p(e,["filteredReason"],r),e}function JC(t){const e={};m(t,["setupComplete"])!=null&&p(e,["setupComplete"],zC());const r=m(t,["serverContent"]);r!=null&&p(e,["serverContent"],GC(r));const l=m(t,["filteredPrompt"]);return l!=null&&p(e,["filteredPrompt"],YC(l)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZC(t){const e={},n=m(t,["fps"]);n!=null&&p(e,["fps"],n);const r=m(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const l=m(t,["startOffset"]);return l!=null&&p(e,["startOffset"],l),e}function QC(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["data"]);n!=null&&p(e,["data"],n);const r=m(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function KC(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=m(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function WC(t){const e={},n=m(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],ZC(n));const r=m(t,["thought"]);r!=null&&p(e,["thought"],r);const l=m(t,["inlineData"]);l!=null&&p(e,["inlineData"],QC(l));const o=m(t,["fileData"]);o!=null&&p(e,["fileData"],KC(o));const u=m(t,["thoughtSignature"]);u!=null&&p(e,["thoughtSignature"],u);const f=m(t,["codeExecutionResult"]);f!=null&&p(e,["codeExecutionResult"],f);const g=m(t,["executableCode"]);g!=null&&p(e,["executableCode"],g);const h=m(t,["functionCall"]);h!=null&&p(e,["functionCall"],h);const x=m(t,["functionResponse"]);x!=null&&p(e,["functionResponse"],x);const b=m(t,["text"]);return b!=null&&p(e,["text"],b),e}function ec(t){const e={},n=m(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>WC(o))),p(e,["parts"],l)}const r=m(t,["role"]);return r!=null&&p(e,["role"],r),e}function XC(t){const e={},n=m(t,["anyOf"]);n!=null&&p(e,["anyOf"],n);const r=m(t,["default"]);r!=null&&p(e,["default"],r);const l=m(t,["description"]);l!=null&&p(e,["description"],l);const o=m(t,["enum"]);o!=null&&p(e,["enum"],o);const u=m(t,["example"]);u!=null&&p(e,["example"],u);const f=m(t,["format"]);f!=null&&p(e,["format"],f);const g=m(t,["items"]);g!=null&&p(e,["items"],g);const h=m(t,["maxItems"]);h!=null&&p(e,["maxItems"],h);const x=m(t,["maxLength"]);x!=null&&p(e,["maxLength"],x);const b=m(t,["maxProperties"]);b!=null&&p(e,["maxProperties"],b);const N=m(t,["maximum"]);N!=null&&p(e,["maximum"],N);const w=m(t,["minItems"]);w!=null&&p(e,["minItems"],w);const C=m(t,["minLength"]);C!=null&&p(e,["minLength"],C);const E=m(t,["minProperties"]);E!=null&&p(e,["minProperties"],E);const _=m(t,["minimum"]);_!=null&&p(e,["minimum"],_);const A=m(t,["nullable"]);A!=null&&p(e,["nullable"],A);const P=m(t,["pattern"]);P!=null&&p(e,["pattern"],P);const D=m(t,["properties"]);D!=null&&p(e,["properties"],D);const $=m(t,["propertyOrdering"]);$!=null&&p(e,["propertyOrdering"],$);const Z=m(t,["required"]);Z!=null&&p(e,["required"],Z);const L=m(t,["title"]);L!=null&&p(e,["title"],L);const R=m(t,["type"]);return R!=null&&p(e,["type"],R),e}function eT(t){const e={};if(m(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=m(t,["category"]);n!=null&&p(e,["category"],n);const r=m(t,["threshold"]);return r!=null&&p(e,["threshold"],r),e}function tT(t){const e={},n=m(t,["behavior"]);n!=null&&p(e,["behavior"],n);const r=m(t,["description"]);r!=null&&p(e,["description"],r);const l=m(t,["name"]);l!=null&&p(e,["name"],l);const o=m(t,["parameters"]);o!=null&&p(e,["parameters"],o);const u=m(t,["parametersJsonSchema"]);u!=null&&p(e,["parametersJsonSchema"],u);const f=m(t,["response"]);f!=null&&p(e,["response"],f);const g=m(t,["responseJsonSchema"]);return g!=null&&p(e,["responseJsonSchema"],g),e}function nT(t){const e={},n=m(t,["startTime"]);n!=null&&p(e,["startTime"],n);const r=m(t,["endTime"]);return r!=null&&p(e,["endTime"],r),e}function iT(t){const e={},n=m(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],nT(n)),e}function rT(t){const e={},n=m(t,["mode"]);n!=null&&p(e,["mode"],n);const r=m(t,["dynamicThreshold"]);return r!=null&&p(e,["dynamicThreshold"],r),e}function sT(t){const e={},n=m(t,["dynamicRetrievalConfig"]);return n!=null&&p(e,["dynamicRetrievalConfig"],rT(n)),e}function lT(){return{}}function aT(t){const e={},n=m(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(g=>tT(g))),p(e,["functionDeclarations"],f)}if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=m(t,["googleSearch"]);r!=null&&p(e,["googleSearch"],iT(r));const l=m(t,["googleSearchRetrieval"]);if(l!=null&&p(e,["googleSearchRetrieval"],sT(l)),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(m(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");m(t,["urlContext"])!=null&&p(e,["urlContext"],lT());const u=m(t,["codeExecution"]);return u!=null&&p(e,["codeExecution"],u),e}function oT(t){const e={},n=m(t,["mode"]);n!=null&&p(e,["mode"],n);const r=m(t,["allowedFunctionNames"]);return r!=null&&p(e,["allowedFunctionNames"],r),e}function cT(t){const e={},n=m(t,["latitude"]);n!=null&&p(e,["latitude"],n);const r=m(t,["longitude"]);return r!=null&&p(e,["longitude"],r),e}function uT(t){const e={},n=m(t,["latLng"]);n!=null&&p(e,["latLng"],cT(n));const r=m(t,["languageCode"]);return r!=null&&p(e,["languageCode"],r),e}function dT(t){const e={},n=m(t,["functionCallingConfig"]);n!=null&&p(e,["functionCallingConfig"],oT(n));const r=m(t,["retrievalConfig"]);return r!=null&&p(e,["retrievalConfig"],uT(r)),e}function fT(t){const e={},n=m(t,["voiceName"]);return n!=null&&p(e,["voiceName"],n),e}function z1(t){const e={},n=m(t,["prebuiltVoiceConfig"]);return n!=null&&p(e,["prebuiltVoiceConfig"],fT(n)),e}function mT(t){const e={},n=m(t,["speaker"]);n!=null&&p(e,["speaker"],n);const r=m(t,["voiceConfig"]);return r!=null&&p(e,["voiceConfig"],z1(r)),e}function hT(t){const e={},n=m(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>mT(l))),p(e,["speakerVoiceConfigs"],r)}return e}function pT(t){const e={},n=m(t,["voiceConfig"]);n!=null&&p(e,["voiceConfig"],z1(n));const r=m(t,["multiSpeakerVoiceConfig"]);r!=null&&p(e,["multiSpeakerVoiceConfig"],hT(r));const l=m(t,["languageCode"]);return l!=null&&p(e,["languageCode"],l),e}function gT(t){const e={},n=m(t,["includeThoughts"]);n!=null&&p(e,["includeThoughts"],n);const r=m(t,["thinkingBudget"]);return r!=null&&p(e,["thinkingBudget"],r),e}function xT(t,e,n){const r={},l=m(e,["systemInstruction"]);n!==void 0&&l!=null&&p(n,["systemInstruction"],ec(Ht(l)));const o=m(e,["temperature"]);o!=null&&p(r,["temperature"],o);const u=m(e,["topP"]);u!=null&&p(r,["topP"],u);const f=m(e,["topK"]);f!=null&&p(r,["topK"],f);const g=m(e,["candidateCount"]);g!=null&&p(r,["candidateCount"],g);const h=m(e,["maxOutputTokens"]);h!=null&&p(r,["maxOutputTokens"],h);const x=m(e,["stopSequences"]);x!=null&&p(r,["stopSequences"],x);const b=m(e,["responseLogprobs"]);b!=null&&p(r,["responseLogprobs"],b);const N=m(e,["logprobs"]);N!=null&&p(r,["logprobs"],N);const w=m(e,["presencePenalty"]);w!=null&&p(r,["presencePenalty"],w);const C=m(e,["frequencyPenalty"]);C!=null&&p(r,["frequencyPenalty"],C);const E=m(e,["seed"]);E!=null&&p(r,["seed"],E);const _=m(e,["responseMimeType"]);_!=null&&p(r,["responseMimeType"],_);const A=m(e,["responseSchema"]);if(A!=null&&p(r,["responseSchema"],XC(Fo(A))),m(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(m(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const P=m(e,["safetySettings"]);if(n!==void 0&&P!=null){let X=P;Array.isArray(X)&&(X=X.map(Q=>eT(Q))),p(n,["safetySettings"],X)}const D=m(e,["tools"]);if(n!==void 0&&D!=null){let X=ea(D);Array.isArray(X)&&(X=X.map(Q=>aT(Xl(Q)))),p(n,["tools"],X)}const $=m(e,["toolConfig"]);if(n!==void 0&&$!=null&&p(n,["toolConfig"],dT($)),m(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Z=m(e,["cachedContent"]);n!==void 0&&Z!=null&&p(n,["cachedContent"],Qi(t,Z));const L=m(e,["responseModalities"]);L!=null&&p(r,["responseModalities"],L);const R=m(e,["mediaResolution"]);R!=null&&p(r,["mediaResolution"],R);const B=m(e,["speechConfig"]);if(B!=null&&p(r,["speechConfig"],pT(_1(B))),m(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const z=m(e,["thinkingConfig"]);return z!=null&&p(r,["thinkingConfig"],gT(z)),r}function Vx(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["_url","model"],ut(t,r));const l=m(e,["contents"]);if(l!=null){let u=Mn(l);Array.isArray(u)&&(u=u.map(f=>ec(f))),p(n,["contents"],u)}const o=m(e,["config"]);return o!=null&&p(n,["generationConfig"],xT(t,o,n)),n}function yT(t,e){const n={},r=m(t,["taskType"]);e!==void 0&&r!=null&&p(e,["requests[]","taskType"],r);const l=m(t,["title"]);e!==void 0&&l!=null&&p(e,["requests[]","title"],l);const o=m(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&p(e,["requests[]","outputDimensionality"],o),m(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(m(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function vT(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["_url","model"],ut(t,r));const l=m(e,["contents"]);l!=null&&p(n,["requests[]","content"],A1(t,l));const o=m(e,["config"]);o!=null&&p(n,["config"],yT(o,n));const u=m(e,["model"]);return u!==void 0&&p(n,["requests[]","model"],ut(t,u)),n}function bT(t,e){const n={};if(m(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(m(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=m(t,["numberOfImages"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const l=m(t,["aspectRatio"]);e!==void 0&&l!=null&&p(e,["parameters","aspectRatio"],l);const o=m(t,["guidanceScale"]);if(e!==void 0&&o!=null&&p(e,["parameters","guidanceScale"],o),m(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=m(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&p(e,["parameters","safetySetting"],u);const f=m(t,["personGeneration"]);e!==void 0&&f!=null&&p(e,["parameters","personGeneration"],f);const g=m(t,["includeSafetyAttributes"]);e!==void 0&&g!=null&&p(e,["parameters","includeSafetyAttributes"],g);const h=m(t,["includeRaiReason"]);e!==void 0&&h!=null&&p(e,["parameters","includeRaiReason"],h);const x=m(t,["language"]);e!==void 0&&x!=null&&p(e,["parameters","language"],x);const b=m(t,["outputMimeType"]);e!==void 0&&b!=null&&p(e,["parameters","outputOptions","mimeType"],b);const N=m(t,["outputCompressionQuality"]);if(e!==void 0&&N!=null&&p(e,["parameters","outputOptions","compressionQuality"],N),m(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(m(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function wT(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["_url","model"],ut(t,r));const l=m(e,["prompt"]);l!=null&&p(n,["instances[0]","prompt"],l);const o=m(e,["config"]);return o!=null&&p(n,["config"],bT(o,n)),n}function NT(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["_url","name"],ut(t,r));const l=m(e,["config"]);return l!=null&&p(n,["config"],l),n}function ST(t,e,n){const r={},l=m(e,["pageSize"]);n!==void 0&&l!=null&&p(n,["_query","pageSize"],l);const o=m(e,["pageToken"]);n!==void 0&&o!=null&&p(n,["_query","pageToken"],o);const u=m(e,["filter"]);n!==void 0&&u!=null&&p(n,["_query","filter"],u);const f=m(e,["queryBase"]);return n!==void 0&&f!=null&&p(n,["_url","models_url"],R1(t,f)),r}function CT(t,e){const n={},r=m(e,["config"]);return r!=null&&p(n,["config"],ST(t,r,n)),n}function TT(t,e){const n={},r=m(t,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const l=m(t,["description"]);e!==void 0&&l!=null&&p(e,["description"],l);const o=m(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&p(e,["defaultCheckpointId"],o),n}function ET(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["_url","name"],ut(t,r));const l=m(e,["config"]);return l!=null&&p(n,["config"],TT(l,n)),n}function kT(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["_url","name"],ut(t,r));const l=m(e,["config"]);return l!=null&&p(n,["config"],l),n}function AT(t){const e={};if(m(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(m(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(m(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function _T(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["_url","model"],ut(t,r));const l=m(e,["contents"]);if(l!=null){let u=Mn(l);Array.isArray(u)&&(u=u.map(f=>ec(f))),p(n,["contents"],u)}const o=m(e,["config"]);return o!=null&&p(n,["config"],AT(o)),n}function jT(t){const e={};if(m(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=m(t,["imageBytes"]);n!=null&&p(e,["bytesBase64Encoded"],yi(n));const r=m(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function MT(t,e){const n={},r=m(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r),m(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(m(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const l=m(t,["durationSeconds"]);if(e!==void 0&&l!=null&&p(e,["parameters","durationSeconds"],l),m(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=m(t,["aspectRatio"]);if(e!==void 0&&o!=null&&p(e,["parameters","aspectRatio"],o),m(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const u=m(t,["personGeneration"]);if(e!==void 0&&u!=null&&p(e,["parameters","personGeneration"],u),m(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const f=m(t,["negativePrompt"]);e!==void 0&&f!=null&&p(e,["parameters","negativePrompt"],f);const g=m(t,["enhancePrompt"]);if(e!==void 0&&g!=null&&p(e,["parameters","enhancePrompt"],g),m(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(m(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");return n}function RT(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["_url","model"],ut(t,r));const l=m(e,["prompt"]);l!=null&&p(n,["instances[0]","prompt"],l);const o=m(e,["image"]);if(o!=null&&p(n,["instances[0]","image"],jT(o)),m(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const u=m(e,["config"]);return u!=null&&p(n,["config"],MT(u,n)),n}function IT(t){const e={},n=m(t,["fps"]);n!=null&&p(e,["fps"],n);const r=m(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const l=m(t,["startOffset"]);return l!=null&&p(e,["startOffset"],l),e}function DT(t){const e={},n=m(t,["displayName"]);n!=null&&p(e,["displayName"],n);const r=m(t,["data"]);r!=null&&p(e,["data"],r);const l=m(t,["mimeType"]);return l!=null&&p(e,["mimeType"],l),e}function LT(t){const e={},n=m(t,["displayName"]);n!=null&&p(e,["displayName"],n);const r=m(t,["fileUri"]);r!=null&&p(e,["fileUri"],r);const l=m(t,["mimeType"]);return l!=null&&p(e,["mimeType"],l),e}function PT(t){const e={},n=m(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],IT(n));const r=m(t,["thought"]);r!=null&&p(e,["thought"],r);const l=m(t,["inlineData"]);l!=null&&p(e,["inlineData"],DT(l));const o=m(t,["fileData"]);o!=null&&p(e,["fileData"],LT(o));const u=m(t,["thoughtSignature"]);u!=null&&p(e,["thoughtSignature"],u);const f=m(t,["codeExecutionResult"]);f!=null&&p(e,["codeExecutionResult"],f);const g=m(t,["executableCode"]);g!=null&&p(e,["executableCode"],g);const h=m(t,["functionCall"]);h!=null&&p(e,["functionCall"],h);const x=m(t,["functionResponse"]);x!=null&&p(e,["functionResponse"],x);const b=m(t,["text"]);return b!=null&&p(e,["text"],b),e}function Ms(t){const e={},n=m(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>PT(o))),p(e,["parts"],l)}const r=m(t,["role"]);return r!=null&&p(e,["role"],r),e}function OT(t){const e={},n=m(t,["anyOf"]);n!=null&&p(e,["anyOf"],n);const r=m(t,["default"]);r!=null&&p(e,["default"],r);const l=m(t,["description"]);l!=null&&p(e,["description"],l);const o=m(t,["enum"]);o!=null&&p(e,["enum"],o);const u=m(t,["example"]);u!=null&&p(e,["example"],u);const f=m(t,["format"]);f!=null&&p(e,["format"],f);const g=m(t,["items"]);g!=null&&p(e,["items"],g);const h=m(t,["maxItems"]);h!=null&&p(e,["maxItems"],h);const x=m(t,["maxLength"]);x!=null&&p(e,["maxLength"],x);const b=m(t,["maxProperties"]);b!=null&&p(e,["maxProperties"],b);const N=m(t,["maximum"]);N!=null&&p(e,["maximum"],N);const w=m(t,["minItems"]);w!=null&&p(e,["minItems"],w);const C=m(t,["minLength"]);C!=null&&p(e,["minLength"],C);const E=m(t,["minProperties"]);E!=null&&p(e,["minProperties"],E);const _=m(t,["minimum"]);_!=null&&p(e,["minimum"],_);const A=m(t,["nullable"]);A!=null&&p(e,["nullable"],A);const P=m(t,["pattern"]);P!=null&&p(e,["pattern"],P);const D=m(t,["properties"]);D!=null&&p(e,["properties"],D);const $=m(t,["propertyOrdering"]);$!=null&&p(e,["propertyOrdering"],$);const Z=m(t,["required"]);Z!=null&&p(e,["required"],Z);const L=m(t,["title"]);L!=null&&p(e,["title"],L);const R=m(t,["type"]);return R!=null&&p(e,["type"],R),e}function BT(t){const e={},n=m(t,["featureSelectionPreference"]);return n!=null&&p(e,["featureSelectionPreference"],n),e}function UT(t){const e={},n=m(t,["method"]);n!=null&&p(e,["method"],n);const r=m(t,["category"]);r!=null&&p(e,["category"],r);const l=m(t,["threshold"]);return l!=null&&p(e,["threshold"],l),e}function zT(t){const e={};if(m(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=m(t,["description"]);n!=null&&p(e,["description"],n);const r=m(t,["name"]);r!=null&&p(e,["name"],r);const l=m(t,["parameters"]);l!=null&&p(e,["parameters"],l);const o=m(t,["parametersJsonSchema"]);o!=null&&p(e,["parametersJsonSchema"],o);const u=m(t,["response"]);u!=null&&p(e,["response"],u);const f=m(t,["responseJsonSchema"]);return f!=null&&p(e,["responseJsonSchema"],f),e}function VT(t){const e={},n=m(t,["startTime"]);n!=null&&p(e,["startTime"],n);const r=m(t,["endTime"]);return r!=null&&p(e,["endTime"],r),e}function $T(t){const e={},n=m(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],VT(n)),e}function qT(t){const e={},n=m(t,["mode"]);n!=null&&p(e,["mode"],n);const r=m(t,["dynamicThreshold"]);return r!=null&&p(e,["dynamicThreshold"],r),e}function FT(t){const e={},n=m(t,["dynamicRetrievalConfig"]);return n!=null&&p(e,["dynamicRetrievalConfig"],qT(n)),e}function HT(){return{}}function GT(t){const e={},n=m(t,["apiKeyString"]);return n!=null&&p(e,["apiKeyString"],n),e}function YT(t){const e={},n=m(t,["apiKeyConfig"]);n!=null&&p(e,["apiKeyConfig"],GT(n));const r=m(t,["authType"]);r!=null&&p(e,["authType"],r);const l=m(t,["googleServiceAccountConfig"]);l!=null&&p(e,["googleServiceAccountConfig"],l);const o=m(t,["httpBasicAuthConfig"]);o!=null&&p(e,["httpBasicAuthConfig"],o);const u=m(t,["oauthConfig"]);u!=null&&p(e,["oauthConfig"],u);const f=m(t,["oidcConfig"]);return f!=null&&p(e,["oidcConfig"],f),e}function JT(t){const e={},n=m(t,["authConfig"]);return n!=null&&p(e,["authConfig"],YT(n)),e}function ZT(){return{}}function V1(t){const e={},n=m(t,["functionDeclarations"]);if(n!=null){let x=n;Array.isArray(x)&&(x=x.map(b=>zT(b))),p(e,["functionDeclarations"],x)}const r=m(t,["retrieval"]);r!=null&&p(e,["retrieval"],r);const l=m(t,["googleSearch"]);l!=null&&p(e,["googleSearch"],$T(l));const o=m(t,["googleSearchRetrieval"]);o!=null&&p(e,["googleSearchRetrieval"],FT(o)),m(t,["enterpriseWebSearch"])!=null&&p(e,["enterpriseWebSearch"],HT());const f=m(t,["googleMaps"]);f!=null&&p(e,["googleMaps"],JT(f)),m(t,["urlContext"])!=null&&p(e,["urlContext"],ZT());const h=m(t,["codeExecution"]);return h!=null&&p(e,["codeExecution"],h),e}function QT(t){const e={},n=m(t,["mode"]);n!=null&&p(e,["mode"],n);const r=m(t,["allowedFunctionNames"]);return r!=null&&p(e,["allowedFunctionNames"],r),e}function KT(t){const e={},n=m(t,["latitude"]);n!=null&&p(e,["latitude"],n);const r=m(t,["longitude"]);return r!=null&&p(e,["longitude"],r),e}function WT(t){const e={},n=m(t,["latLng"]);n!=null&&p(e,["latLng"],KT(n));const r=m(t,["languageCode"]);return r!=null&&p(e,["languageCode"],r),e}function XT(t){const e={},n=m(t,["functionCallingConfig"]);n!=null&&p(e,["functionCallingConfig"],QT(n));const r=m(t,["retrievalConfig"]);return r!=null&&p(e,["retrievalConfig"],WT(r)),e}function e4(t){const e={},n=m(t,["voiceName"]);return n!=null&&p(e,["voiceName"],n),e}function t4(t){const e={},n=m(t,["prebuiltVoiceConfig"]);return n!=null&&p(e,["prebuiltVoiceConfig"],e4(n)),e}function n4(t){const e={},n=m(t,["voiceConfig"]);if(n!=null&&p(e,["voiceConfig"],t4(n)),m(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const r=m(t,["languageCode"]);return r!=null&&p(e,["languageCode"],r),e}function i4(t){const e={},n=m(t,["includeThoughts"]);n!=null&&p(e,["includeThoughts"],n);const r=m(t,["thinkingBudget"]);return r!=null&&p(e,["thinkingBudget"],r),e}function r4(t,e,n){const r={},l=m(e,["systemInstruction"]);n!==void 0&&l!=null&&p(n,["systemInstruction"],Ms(Ht(l)));const o=m(e,["temperature"]);o!=null&&p(r,["temperature"],o);const u=m(e,["topP"]);u!=null&&p(r,["topP"],u);const f=m(e,["topK"]);f!=null&&p(r,["topK"],f);const g=m(e,["candidateCount"]);g!=null&&p(r,["candidateCount"],g);const h=m(e,["maxOutputTokens"]);h!=null&&p(r,["maxOutputTokens"],h);const x=m(e,["stopSequences"]);x!=null&&p(r,["stopSequences"],x);const b=m(e,["responseLogprobs"]);b!=null&&p(r,["responseLogprobs"],b);const N=m(e,["logprobs"]);N!=null&&p(r,["logprobs"],N);const w=m(e,["presencePenalty"]);w!=null&&p(r,["presencePenalty"],w);const C=m(e,["frequencyPenalty"]);C!=null&&p(r,["frequencyPenalty"],C);const E=m(e,["seed"]);E!=null&&p(r,["seed"],E);const _=m(e,["responseMimeType"]);_!=null&&p(r,["responseMimeType"],_);const A=m(e,["responseSchema"]);A!=null&&p(r,["responseSchema"],OT(Fo(A)));const P=m(e,["routingConfig"]);P!=null&&p(r,["routingConfig"],P);const D=m(e,["modelSelectionConfig"]);D!=null&&p(r,["modelConfig"],BT(D));const $=m(e,["safetySettings"]);if(n!==void 0&&$!=null){let V=$;Array.isArray(V)&&(V=V.map(ne=>UT(ne))),p(n,["safetySettings"],V)}const Z=m(e,["tools"]);if(n!==void 0&&Z!=null){let V=ea(Z);Array.isArray(V)&&(V=V.map(ne=>V1(Xl(ne)))),p(n,["tools"],V)}const L=m(e,["toolConfig"]);n!==void 0&&L!=null&&p(n,["toolConfig"],XT(L));const R=m(e,["labels"]);n!==void 0&&R!=null&&p(n,["labels"],R);const B=m(e,["cachedContent"]);n!==void 0&&B!=null&&p(n,["cachedContent"],Qi(t,B));const z=m(e,["responseModalities"]);z!=null&&p(r,["responseModalities"],z);const X=m(e,["mediaResolution"]);X!=null&&p(r,["mediaResolution"],X);const Q=m(e,["speechConfig"]);Q!=null&&p(r,["speechConfig"],n4(_1(Q)));const G=m(e,["audioTimestamp"]);G!=null&&p(r,["audioTimestamp"],G);const O=m(e,["thinkingConfig"]);return O!=null&&p(r,["thinkingConfig"],i4(O)),r}function $x(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["_url","model"],ut(t,r));const l=m(e,["contents"]);if(l!=null){let u=Mn(l);Array.isArray(u)&&(u=u.map(f=>Ms(f))),p(n,["contents"],u)}const o=m(e,["config"]);return o!=null&&p(n,["generationConfig"],r4(t,o,n)),n}function s4(t,e){const n={},r=m(t,["taskType"]);e!==void 0&&r!=null&&p(e,["instances[]","task_type"],r);const l=m(t,["title"]);e!==void 0&&l!=null&&p(e,["instances[]","title"],l);const o=m(t,["outputDimensionality"]);e!==void 0&&o!=null&&p(e,["parameters","outputDimensionality"],o);const u=m(t,["mimeType"]);e!==void 0&&u!=null&&p(e,["instances[]","mimeType"],u);const f=m(t,["autoTruncate"]);return e!==void 0&&f!=null&&p(e,["parameters","autoTruncate"],f),n}function l4(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["_url","model"],ut(t,r));const l=m(e,["contents"]);l!=null&&p(n,["instances[]","content"],A1(t,l));const o=m(e,["config"]);return o!=null&&p(n,["config"],s4(o,n)),n}function a4(t,e){const n={},r=m(t,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const l=m(t,["negativePrompt"]);e!==void 0&&l!=null&&p(e,["parameters","negativePrompt"],l);const o=m(t,["numberOfImages"]);e!==void 0&&o!=null&&p(e,["parameters","sampleCount"],o);const u=m(t,["aspectRatio"]);e!==void 0&&u!=null&&p(e,["parameters","aspectRatio"],u);const f=m(t,["guidanceScale"]);e!==void 0&&f!=null&&p(e,["parameters","guidanceScale"],f);const g=m(t,["seed"]);e!==void 0&&g!=null&&p(e,["parameters","seed"],g);const h=m(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&p(e,["parameters","safetySetting"],h);const x=m(t,["personGeneration"]);e!==void 0&&x!=null&&p(e,["parameters","personGeneration"],x);const b=m(t,["includeSafetyAttributes"]);e!==void 0&&b!=null&&p(e,["parameters","includeSafetyAttributes"],b);const N=m(t,["includeRaiReason"]);e!==void 0&&N!=null&&p(e,["parameters","includeRaiReason"],N);const w=m(t,["language"]);e!==void 0&&w!=null&&p(e,["parameters","language"],w);const C=m(t,["outputMimeType"]);e!==void 0&&C!=null&&p(e,["parameters","outputOptions","mimeType"],C);const E=m(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&p(e,["parameters","outputOptions","compressionQuality"],E);const _=m(t,["addWatermark"]);e!==void 0&&_!=null&&p(e,["parameters","addWatermark"],_);const A=m(t,["enhancePrompt"]);return e!==void 0&&A!=null&&p(e,["parameters","enhancePrompt"],A),n}function o4(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["_url","model"],ut(t,r));const l=m(e,["prompt"]);l!=null&&p(n,["instances[0]","prompt"],l);const o=m(e,["config"]);return o!=null&&p(n,["config"],a4(o,n)),n}function tc(t){const e={},n=m(t,["gcsUri"]);n!=null&&p(e,["gcsUri"],n);const r=m(t,["imageBytes"]);r!=null&&p(e,["bytesBase64Encoded"],yi(r));const l=m(t,["mimeType"]);return l!=null&&p(e,["mimeType"],l),e}function c4(t){const e={},n=m(t,["maskMode"]);n!=null&&p(e,["maskMode"],n);const r=m(t,["segmentationClasses"]);r!=null&&p(e,["maskClasses"],r);const l=m(t,["maskDilation"]);return l!=null&&p(e,["dilation"],l),e}function u4(t){const e={},n=m(t,["controlType"]);n!=null&&p(e,["controlType"],n);const r=m(t,["enableControlImageComputation"]);return r!=null&&p(e,["computeControl"],r),e}function d4(t){const e={},n=m(t,["styleDescription"]);return n!=null&&p(e,["styleDescription"],n),e}function f4(t){const e={},n=m(t,["subjectType"]);n!=null&&p(e,["subjectType"],n);const r=m(t,["subjectDescription"]);return r!=null&&p(e,["subjectDescription"],r),e}function m4(t){const e={},n=m(t,["referenceImage"]);n!=null&&p(e,["referenceImage"],tc(n));const r=m(t,["referenceId"]);r!=null&&p(e,["referenceId"],r);const l=m(t,["referenceType"]);l!=null&&p(e,["referenceType"],l);const o=m(t,["maskImageConfig"]);o!=null&&p(e,["maskImageConfig"],c4(o));const u=m(t,["controlImageConfig"]);u!=null&&p(e,["controlImageConfig"],u4(u));const f=m(t,["styleImageConfig"]);f!=null&&p(e,["styleImageConfig"],d4(f));const g=m(t,["subjectImageConfig"]);return g!=null&&p(e,["subjectImageConfig"],f4(g)),e}function h4(t,e){const n={},r=m(t,["outputGcsUri"]);e!==void 0&&r!=null&&p(e,["parameters","storageUri"],r);const l=m(t,["negativePrompt"]);e!==void 0&&l!=null&&p(e,["parameters","negativePrompt"],l);const o=m(t,["numberOfImages"]);e!==void 0&&o!=null&&p(e,["parameters","sampleCount"],o);const u=m(t,["aspectRatio"]);e!==void 0&&u!=null&&p(e,["parameters","aspectRatio"],u);const f=m(t,["guidanceScale"]);e!==void 0&&f!=null&&p(e,["parameters","guidanceScale"],f);const g=m(t,["seed"]);e!==void 0&&g!=null&&p(e,["parameters","seed"],g);const h=m(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&p(e,["parameters","safetySetting"],h);const x=m(t,["personGeneration"]);e!==void 0&&x!=null&&p(e,["parameters","personGeneration"],x);const b=m(t,["includeSafetyAttributes"]);e!==void 0&&b!=null&&p(e,["parameters","includeSafetyAttributes"],b);const N=m(t,["includeRaiReason"]);e!==void 0&&N!=null&&p(e,["parameters","includeRaiReason"],N);const w=m(t,["language"]);e!==void 0&&w!=null&&p(e,["parameters","language"],w);const C=m(t,["outputMimeType"]);e!==void 0&&C!=null&&p(e,["parameters","outputOptions","mimeType"],C);const E=m(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&p(e,["parameters","outputOptions","compressionQuality"],E);const _=m(t,["editMode"]);e!==void 0&&_!=null&&p(e,["parameters","editMode"],_);const A=m(t,["baseSteps"]);return e!==void 0&&A!=null&&p(e,["parameters","editConfig","baseSteps"],A),n}function p4(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["_url","model"],ut(t,r));const l=m(e,["prompt"]);l!=null&&p(n,["instances[0]","prompt"],l);const o=m(e,["referenceImages"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(g=>m4(g))),p(n,["instances[0]","referenceImages"],f)}const u=m(e,["config"]);return u!=null&&p(n,["config"],h4(u,n)),n}function g4(t,e){const n={},r=m(t,["includeRaiReason"]);e!==void 0&&r!=null&&p(e,["parameters","includeRaiReason"],r);const l=m(t,["outputMimeType"]);e!==void 0&&l!=null&&p(e,["parameters","outputOptions","mimeType"],l);const o=m(t,["outputCompressionQuality"]);e!==void 0&&o!=null&&p(e,["parameters","outputOptions","compressionQuality"],o);const u=m(t,["numberOfImages"]);e!==void 0&&u!=null&&p(e,["parameters","sampleCount"],u);const f=m(t,["mode"]);return e!==void 0&&f!=null&&p(e,["parameters","mode"],f),n}function x4(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["_url","model"],ut(t,r));const l=m(e,["image"]);l!=null&&p(n,["instances[0]","image"],tc(l));const o=m(e,["upscaleFactor"]);o!=null&&p(n,["parameters","upscaleConfig","upscaleFactor"],o);const u=m(e,["config"]);return u!=null&&p(n,["config"],g4(u,n)),n}function y4(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["_url","name"],ut(t,r));const l=m(e,["config"]);return l!=null&&p(n,["config"],l),n}function v4(t,e,n){const r={},l=m(e,["pageSize"]);n!==void 0&&l!=null&&p(n,["_query","pageSize"],l);const o=m(e,["pageToken"]);n!==void 0&&o!=null&&p(n,["_query","pageToken"],o);const u=m(e,["filter"]);n!==void 0&&u!=null&&p(n,["_query","filter"],u);const f=m(e,["queryBase"]);return n!==void 0&&f!=null&&p(n,["_url","models_url"],R1(t,f)),r}function b4(t,e){const n={},r=m(e,["config"]);return r!=null&&p(n,["config"],v4(t,r,n)),n}function w4(t,e){const n={},r=m(t,["displayName"]);e!==void 0&&r!=null&&p(e,["displayName"],r);const l=m(t,["description"]);e!==void 0&&l!=null&&p(e,["description"],l);const o=m(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&p(e,["defaultCheckpointId"],o),n}function N4(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["_url","model"],ut(t,r));const l=m(e,["config"]);return l!=null&&p(n,["config"],w4(l,n)),n}function S4(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["_url","name"],ut(t,r));const l=m(e,["config"]);return l!=null&&p(n,["config"],l),n}function C4(t,e){const n={},r=m(t,["systemInstruction"]);e!==void 0&&r!=null&&p(e,["systemInstruction"],Ms(Ht(r)));const l=m(t,["tools"]);if(e!==void 0&&l!=null){let u=l;Array.isArray(u)&&(u=u.map(f=>V1(f))),p(e,["tools"],u)}const o=m(t,["generationConfig"]);return e!==void 0&&o!=null&&p(e,["generationConfig"],o),n}function T4(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["_url","model"],ut(t,r));const l=m(e,["contents"]);if(l!=null){let u=Mn(l);Array.isArray(u)&&(u=u.map(f=>Ms(f))),p(n,["contents"],u)}const o=m(e,["config"]);return o!=null&&p(n,["config"],C4(o,n)),n}function E4(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["_url","model"],ut(t,r));const l=m(e,["contents"]);if(l!=null){let u=Mn(l);Array.isArray(u)&&(u=u.map(f=>Ms(f))),p(n,["contents"],u)}const o=m(e,["config"]);return o!=null&&p(n,["config"],o),n}function k4(t){const e={},n=m(t,["uri"]);n!=null&&p(e,["gcsUri"],n);const r=m(t,["videoBytes"]);r!=null&&p(e,["bytesBase64Encoded"],yi(r));const l=m(t,["mimeType"]);return l!=null&&p(e,["mimeType"],l),e}function A4(t,e){const n={},r=m(t,["numberOfVideos"]);e!==void 0&&r!=null&&p(e,["parameters","sampleCount"],r);const l=m(t,["outputGcsUri"]);e!==void 0&&l!=null&&p(e,["parameters","storageUri"],l);const o=m(t,["fps"]);e!==void 0&&o!=null&&p(e,["parameters","fps"],o);const u=m(t,["durationSeconds"]);e!==void 0&&u!=null&&p(e,["parameters","durationSeconds"],u);const f=m(t,["seed"]);e!==void 0&&f!=null&&p(e,["parameters","seed"],f);const g=m(t,["aspectRatio"]);e!==void 0&&g!=null&&p(e,["parameters","aspectRatio"],g);const h=m(t,["resolution"]);e!==void 0&&h!=null&&p(e,["parameters","resolution"],h);const x=m(t,["personGeneration"]);e!==void 0&&x!=null&&p(e,["parameters","personGeneration"],x);const b=m(t,["pubsubTopic"]);e!==void 0&&b!=null&&p(e,["parameters","pubsubTopic"],b);const N=m(t,["negativePrompt"]);e!==void 0&&N!=null&&p(e,["parameters","negativePrompt"],N);const w=m(t,["enhancePrompt"]);e!==void 0&&w!=null&&p(e,["parameters","enhancePrompt"],w);const C=m(t,["generateAudio"]);e!==void 0&&C!=null&&p(e,["parameters","generateAudio"],C);const E=m(t,["lastFrame"]);return e!==void 0&&E!=null&&p(e,["instances[0]","lastFrame"],tc(E)),n}function _4(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["_url","model"],ut(t,r));const l=m(e,["prompt"]);l!=null&&p(n,["instances[0]","prompt"],l);const o=m(e,["image"]);o!=null&&p(n,["instances[0]","image"],tc(o));const u=m(e,["video"]);u!=null&&p(n,["instances[0]","video"],k4(u));const f=m(e,["config"]);return f!=null&&p(n,["config"],A4(f,n)),n}function j4(t){const e={},n=m(t,["fps"]);n!=null&&p(e,["fps"],n);const r=m(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const l=m(t,["startOffset"]);return l!=null&&p(e,["startOffset"],l),e}function M4(t){const e={},n=m(t,["data"]);n!=null&&p(e,["data"],n);const r=m(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function R4(t){const e={},n=m(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=m(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function I4(t){const e={},n=m(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],j4(n));const r=m(t,["thought"]);r!=null&&p(e,["thought"],r);const l=m(t,["inlineData"]);l!=null&&p(e,["inlineData"],M4(l));const o=m(t,["fileData"]);o!=null&&p(e,["fileData"],R4(o));const u=m(t,["thoughtSignature"]);u!=null&&p(e,["thoughtSignature"],u);const f=m(t,["codeExecutionResult"]);f!=null&&p(e,["codeExecutionResult"],f);const g=m(t,["executableCode"]);g!=null&&p(e,["executableCode"],g);const h=m(t,["functionCall"]);h!=null&&p(e,["functionCall"],h);const x=m(t,["functionResponse"]);x!=null&&p(e,["functionResponse"],x);const b=m(t,["text"]);return b!=null&&p(e,["text"],b),e}function D4(t){const e={},n=m(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>I4(o))),p(e,["parts"],l)}const r=m(t,["role"]);return r!=null&&p(e,["role"],r),e}function L4(t){const e={},n=m(t,["citationSources"]);return n!=null&&p(e,["citations"],n),e}function P4(t){const e={},n=m(t,["retrievedUrl"]);n!=null&&p(e,["retrievedUrl"],n);const r=m(t,["urlRetrievalStatus"]);return r!=null&&p(e,["urlRetrievalStatus"],r),e}function O4(t){const e={},n=m(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>P4(l))),p(e,["urlMetadata"],r)}return e}function B4(t){const e={},n=m(t,["content"]);n!=null&&p(e,["content"],D4(n));const r=m(t,["citationMetadata"]);r!=null&&p(e,["citationMetadata"],L4(r));const l=m(t,["tokenCount"]);l!=null&&p(e,["tokenCount"],l);const o=m(t,["finishReason"]);o!=null&&p(e,["finishReason"],o);const u=m(t,["urlContextMetadata"]);u!=null&&p(e,["urlContextMetadata"],O4(u));const f=m(t,["avgLogprobs"]);f!=null&&p(e,["avgLogprobs"],f);const g=m(t,["groundingMetadata"]);g!=null&&p(e,["groundingMetadata"],g);const h=m(t,["index"]);h!=null&&p(e,["index"],h);const x=m(t,["logprobsResult"]);x!=null&&p(e,["logprobsResult"],x);const b=m(t,["safetyRatings"]);return b!=null&&p(e,["safetyRatings"],b),e}function qx(t){const e={},n=m(t,["candidates"]);if(n!=null){let u=n;Array.isArray(u)&&(u=u.map(f=>B4(f))),p(e,["candidates"],u)}const r=m(t,["modelVersion"]);r!=null&&p(e,["modelVersion"],r);const l=m(t,["promptFeedback"]);l!=null&&p(e,["promptFeedback"],l);const o=m(t,["usageMetadata"]);return o!=null&&p(e,["usageMetadata"],o),e}function U4(t){const e={},n=m(t,["values"]);return n!=null&&p(e,["values"],n),e}function z4(){return{}}function V4(t){const e={},n=m(t,["embeddings"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>U4(o))),p(e,["embeddings"],l)}return m(t,["metadata"])!=null&&p(e,["metadata"],z4()),e}function $4(t){const e={},n=m(t,["bytesBase64Encoded"]);n!=null&&p(e,["imageBytes"],yi(n));const r=m(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function $1(t){const e={},n=m(t,["safetyAttributes","categories"]);n!=null&&p(e,["categories"],n);const r=m(t,["safetyAttributes","scores"]);r!=null&&p(e,["scores"],r);const l=m(t,["contentType"]);return l!=null&&p(e,["contentType"],l),e}function q4(t){const e={},n=m(t,["_self"]);n!=null&&p(e,["image"],$4(n));const r=m(t,["raiFilteredReason"]);r!=null&&p(e,["raiFilteredReason"],r);const l=m(t,["_self"]);return l!=null&&p(e,["safetyAttributes"],$1(l)),e}function F4(t){const e={},n=m(t,["predictions"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>q4(o))),p(e,["generatedImages"],l)}const r=m(t,["positivePromptSafetyAttributes"]);return r!=null&&p(e,["positivePromptSafetyAttributes"],$1(r)),e}function H4(t){const e={},n=m(t,["baseModel"]);n!=null&&p(e,["baseModel"],n);const r=m(t,["createTime"]);r!=null&&p(e,["createTime"],r);const l=m(t,["updateTime"]);return l!=null&&p(e,["updateTime"],l),e}function Af(t){const e={},n=m(t,["name"]);n!=null&&p(e,["name"],n);const r=m(t,["displayName"]);r!=null&&p(e,["displayName"],r);const l=m(t,["description"]);l!=null&&p(e,["description"],l);const o=m(t,["version"]);o!=null&&p(e,["version"],o);const u=m(t,["_self"]);u!=null&&p(e,["tunedModelInfo"],H4(u));const f=m(t,["inputTokenLimit"]);f!=null&&p(e,["inputTokenLimit"],f);const g=m(t,["outputTokenLimit"]);g!=null&&p(e,["outputTokenLimit"],g);const h=m(t,["supportedGenerationMethods"]);return h!=null&&p(e,["supportedActions"],h),e}function G4(t,e){const n={},r=m(e,["nextPageToken"]);r!=null&&p(n,["nextPageToken"],r);const l=m(e,["_self"]);if(l!=null){let o=I1(l);Array.isArray(o)&&(o=o.map(u=>Af(u))),p(n,["models"],o)}return n}function Y4(){return{}}function J4(t){const e={},n=m(t,["totalTokens"]);n!=null&&p(e,["totalTokens"],n);const r=m(t,["cachedContentTokenCount"]);return r!=null&&p(e,["cachedContentTokenCount"],r),e}function Z4(t){const e={},n=m(t,["video","uri"]);n!=null&&p(e,["uri"],n);const r=m(t,["video","encodedVideo"]);r!=null&&p(e,["videoBytes"],yi(r));const l=m(t,["encoding"]);return l!=null&&p(e,["mimeType"],l),e}function Q4(t){const e={},n=m(t,["_self"]);return n!=null&&p(e,["video"],Z4(n)),e}function K4(t){const e={},n=m(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(u=>Q4(u))),p(e,["generatedVideos"],o)}const r=m(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const l=m(t,["raiMediaFilteredReasons"]);return l!=null&&p(e,["raiMediaFilteredReasons"],l),e}function W4(t){const e={},n=m(t,["name"]);n!=null&&p(e,["name"],n);const r=m(t,["metadata"]);r!=null&&p(e,["metadata"],r);const l=m(t,["done"]);l!=null&&p(e,["done"],l);const o=m(t,["error"]);o!=null&&p(e,["error"],o);const u=m(t,["response","generateVideoResponse"]);return u!=null&&p(e,["response"],K4(u)),e}function X4(t){const e={},n=m(t,["fps"]);n!=null&&p(e,["fps"],n);const r=m(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const l=m(t,["startOffset"]);return l!=null&&p(e,["startOffset"],l),e}function e3(t){const e={},n=m(t,["displayName"]);n!=null&&p(e,["displayName"],n);const r=m(t,["data"]);r!=null&&p(e,["data"],r);const l=m(t,["mimeType"]);return l!=null&&p(e,["mimeType"],l),e}function t3(t){const e={},n=m(t,["displayName"]);n!=null&&p(e,["displayName"],n);const r=m(t,["fileUri"]);r!=null&&p(e,["fileUri"],r);const l=m(t,["mimeType"]);return l!=null&&p(e,["mimeType"],l),e}function n3(t){const e={},n=m(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],X4(n));const r=m(t,["thought"]);r!=null&&p(e,["thought"],r);const l=m(t,["inlineData"]);l!=null&&p(e,["inlineData"],e3(l));const o=m(t,["fileData"]);o!=null&&p(e,["fileData"],t3(o));const u=m(t,["thoughtSignature"]);u!=null&&p(e,["thoughtSignature"],u);const f=m(t,["codeExecutionResult"]);f!=null&&p(e,["codeExecutionResult"],f);const g=m(t,["executableCode"]);g!=null&&p(e,["executableCode"],g);const h=m(t,["functionCall"]);h!=null&&p(e,["functionCall"],h);const x=m(t,["functionResponse"]);x!=null&&p(e,["functionResponse"],x);const b=m(t,["text"]);return b!=null&&p(e,["text"],b),e}function i3(t){const e={},n=m(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>n3(o))),p(e,["parts"],l)}const r=m(t,["role"]);return r!=null&&p(e,["role"],r),e}function r3(t){const e={},n=m(t,["citations"]);return n!=null&&p(e,["citations"],n),e}function s3(t){const e={},n=m(t,["retrievedUrl"]);n!=null&&p(e,["retrievedUrl"],n);const r=m(t,["urlRetrievalStatus"]);return r!=null&&p(e,["urlRetrievalStatus"],r),e}function l3(t){const e={},n=m(t,["urlMetadata"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>s3(l))),p(e,["urlMetadata"],r)}return e}function a3(t){const e={},n=m(t,["content"]);n!=null&&p(e,["content"],i3(n));const r=m(t,["citationMetadata"]);r!=null&&p(e,["citationMetadata"],r3(r));const l=m(t,["finishMessage"]);l!=null&&p(e,["finishMessage"],l);const o=m(t,["finishReason"]);o!=null&&p(e,["finishReason"],o);const u=m(t,["urlContextMetadata"]);u!=null&&p(e,["urlContextMetadata"],l3(u));const f=m(t,["avgLogprobs"]);f!=null&&p(e,["avgLogprobs"],f);const g=m(t,["groundingMetadata"]);g!=null&&p(e,["groundingMetadata"],g);const h=m(t,["index"]);h!=null&&p(e,["index"],h);const x=m(t,["logprobsResult"]);x!=null&&p(e,["logprobsResult"],x);const b=m(t,["safetyRatings"]);return b!=null&&p(e,["safetyRatings"],b),e}function Fx(t){const e={},n=m(t,["candidates"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(h=>a3(h))),p(e,["candidates"],g)}const r=m(t,["createTime"]);r!=null&&p(e,["createTime"],r);const l=m(t,["responseId"]);l!=null&&p(e,["responseId"],l);const o=m(t,["modelVersion"]);o!=null&&p(e,["modelVersion"],o);const u=m(t,["promptFeedback"]);u!=null&&p(e,["promptFeedback"],u);const f=m(t,["usageMetadata"]);return f!=null&&p(e,["usageMetadata"],f),e}function o3(t){const e={},n=m(t,["truncated"]);n!=null&&p(e,["truncated"],n);const r=m(t,["token_count"]);return r!=null&&p(e,["tokenCount"],r),e}function c3(t){const e={},n=m(t,["values"]);n!=null&&p(e,["values"],n);const r=m(t,["statistics"]);return r!=null&&p(e,["statistics"],o3(r)),e}function u3(t){const e={},n=m(t,["billableCharacterCount"]);return n!=null&&p(e,["billableCharacterCount"],n),e}function d3(t){const e={},n=m(t,["predictions[]","embeddings"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>c3(o))),p(e,["embeddings"],l)}const r=m(t,["metadata"]);return r!=null&&p(e,["metadata"],u3(r)),e}function f3(t){const e={},n=m(t,["gcsUri"]);n!=null&&p(e,["gcsUri"],n);const r=m(t,["bytesBase64Encoded"]);r!=null&&p(e,["imageBytes"],yi(r));const l=m(t,["mimeType"]);return l!=null&&p(e,["mimeType"],l),e}function q1(t){const e={},n=m(t,["safetyAttributes","categories"]);n!=null&&p(e,["categories"],n);const r=m(t,["safetyAttributes","scores"]);r!=null&&p(e,["scores"],r);const l=m(t,["contentType"]);return l!=null&&p(e,["contentType"],l),e}function Wf(t){const e={},n=m(t,["_self"]);n!=null&&p(e,["image"],f3(n));const r=m(t,["raiFilteredReason"]);r!=null&&p(e,["raiFilteredReason"],r);const l=m(t,["_self"]);l!=null&&p(e,["safetyAttributes"],q1(l));const o=m(t,["prompt"]);return o!=null&&p(e,["enhancedPrompt"],o),e}function m3(t){const e={},n=m(t,["predictions"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>Wf(o))),p(e,["generatedImages"],l)}const r=m(t,["positivePromptSafetyAttributes"]);return r!=null&&p(e,["positivePromptSafetyAttributes"],q1(r)),e}function h3(t){const e={},n=m(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>Wf(l))),p(e,["generatedImages"],r)}return e}function p3(t){const e={},n=m(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>Wf(l))),p(e,["generatedImages"],r)}return e}function g3(t){const e={},n=m(t,["endpoint"]);n!=null&&p(e,["name"],n);const r=m(t,["deployedModelId"]);return r!=null&&p(e,["deployedModelId"],r),e}function x3(t){const e={},n=m(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&p(e,["baseModel"],n);const r=m(t,["createTime"]);r!=null&&p(e,["createTime"],r);const l=m(t,["updateTime"]);return l!=null&&p(e,["updateTime"],l),e}function y3(t){const e={},n=m(t,["checkpointId"]);n!=null&&p(e,["checkpointId"],n);const r=m(t,["epoch"]);r!=null&&p(e,["epoch"],r);const l=m(t,["step"]);return l!=null&&p(e,["step"],l),e}function _f(t){const e={},n=m(t,["name"]);n!=null&&p(e,["name"],n);const r=m(t,["displayName"]);r!=null&&p(e,["displayName"],r);const l=m(t,["description"]);l!=null&&p(e,["description"],l);const o=m(t,["versionId"]);o!=null&&p(e,["version"],o);const u=m(t,["deployedModels"]);if(u!=null){let b=u;Array.isArray(b)&&(b=b.map(N=>g3(N))),p(e,["endpoints"],b)}const f=m(t,["labels"]);f!=null&&p(e,["labels"],f);const g=m(t,["_self"]);g!=null&&p(e,["tunedModelInfo"],x3(g));const h=m(t,["defaultCheckpointId"]);h!=null&&p(e,["defaultCheckpointId"],h);const x=m(t,["checkpoints"]);if(x!=null){let b=x;Array.isArray(b)&&(b=b.map(N=>y3(N))),p(e,["checkpoints"],b)}return e}function v3(t,e){const n={},r=m(e,["nextPageToken"]);r!=null&&p(n,["nextPageToken"],r);const l=m(e,["_self"]);if(l!=null){let o=I1(l);Array.isArray(o)&&(o=o.map(u=>_f(u))),p(n,["models"],o)}return n}function b3(){return{}}function w3(t){const e={},n=m(t,["totalTokens"]);return n!=null&&p(e,["totalTokens"],n),e}function N3(t){const e={},n=m(t,["tokensInfo"]);return n!=null&&p(e,["tokensInfo"],n),e}function S3(t){const e={},n=m(t,["gcsUri"]);n!=null&&p(e,["uri"],n);const r=m(t,["bytesBase64Encoded"]);r!=null&&p(e,["videoBytes"],yi(r));const l=m(t,["mimeType"]);return l!=null&&p(e,["mimeType"],l),e}function C3(t){const e={},n=m(t,["_self"]);return n!=null&&p(e,["video"],S3(n)),e}function T3(t){const e={},n=m(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(u=>C3(u))),p(e,["generatedVideos"],o)}const r=m(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const l=m(t,["raiMediaFilteredReasons"]);return l!=null&&p(e,["raiMediaFilteredReasons"],l),e}function E3(t){const e={},n=m(t,["name"]);n!=null&&p(e,["name"],n);const r=m(t,["metadata"]);r!=null&&p(e,["metadata"],r);const l=m(t,["done"]);l!=null&&p(e,["done"],l);const o=m(t,["error"]);o!=null&&p(e,["error"],o);const u=m(t,["response"]);return u!=null&&p(e,["response"],T3(u)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const k3="Content-Type",A3="X-Server-Timeout",_3="User-Agent",jf="x-goog-api-client",j3="1.6.0",M3=`google-genai-sdk/${j3}`,R3="v1beta1",I3="v1beta",Hx=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class D3{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const l={};this.clientOptions.vertexai?(l.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:R3,l.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(l.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:I3,l.baseUrl="https://generativelanguage.googleapis.com/"),l.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=l,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(l,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const l=[this.getRequestUrlInternal(n)];return r&&l.push(this.getBaseResourcePath()),e!==""&&l.push(e),new URL(`${l.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[u,f]of Object.entries(e.queryParams))l.searchParams.append(u,String(f));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,e.abortSignal),this.unaryApiCall(l,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[l,o]of Object.entries(n))typeof o=="object"?r[l]=Object.assign(Object.assign({},r[l]),o):o!==void 0&&(r[l]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),l=this.constructUrl(e.path,n,r);(!l.searchParams.has("alt")||l.searchParams.get("alt")!=="sse")&&l.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,e.abortSignal),this.streamApiCall(l,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r){if(n&&n.timeout||r){const l=new AbortController,o=l.signal;n.timeout&&(n==null?void 0:n.timeout)>0&&setTimeout(()=>l.abort(),n.timeout),r&&r.addEventListener("abort",()=>{l.abort()}),e.signal=o}return n&&n.extraBody!==null&&L3(e,n.extraBody),e.headers=await this.getHeadersInternal(n),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async l=>(await Gx(l),new Cf(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async l=>(await Gx(l),this.processStreamResponse(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}processStreamResponse(e){var n;return bs(this,arguments,function*(){const l=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!l)throw new Error("Response body is empty");try{let u="";for(;;){const{done:f,value:g}=yield mt(l.read());if(f){if(u.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=o.decode(g);try{const b=JSON.parse(h);if("error"in b){const N=JSON.parse(JSON.stringify(b.error)),w=N.status,C=N.code,E=`got status: ${w}. ${JSON.stringify(b)}`;if(C>=400&&C<600)throw new Xo({message:E,status:C})}}catch(b){if(b.name==="ApiError")throw b}u+=h;let x=u.match(Hx);for(;x;){const b=x[1];try{const N=new Response(b,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield mt(new Cf(N)),u=u.slice(x[0].length),x=u.match(Hx)}catch(N){throw new Error(`exception parsing stream chunk ${b}. ${N}`)}}}}finally{l.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=M3+" "+this.clientOptions.userAgentExtra;return e[_3]=n,e[jf]=n,e[k3]="application/json",e}async getHeadersInternal(e){const n=new Headers;if(e&&e.headers){for(const[r,l]of Object.entries(e.headers))n.append(r,l);e.timeout&&e.timeout>0&&n.append(A3,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(n),n}async uploadFile(e,n){var r;const l={};n!=null&&(l.mimeType=n.mimeType,l.name=n.name,l.displayName=n.displayName),l.name&&!l.name.startsWith("files/")&&(l.name=`files/${l.name}`);const o=this.clientOptions.uploader,u=await o.stat(e);l.sizeBytes=String(u.size);const f=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:u.type;if(f===void 0||f==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");l.mimeType=f;const g=await this.fetchUploadUrl(l,n);return o.upload(e,g,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n){var r;let l={};n!=null&&n.httpOptions?l=n.httpOptions:l={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const o={file:e},u=await this.request({path:Ie("upload/v1beta/files",o._url),body:JSON.stringify(o),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const f=(r=u==null?void 0:u.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}}async function Gx(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const l=JSON.stringify(r);throw n>=400&&n<600?new Xo({message:l,status:n}):new Error(l)}}function L3(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,u){const f=Object.assign({},o);for(const g in u)if(Object.prototype.hasOwnProperty.call(u,g)){const h=u[g],x=f[g];h&&typeof h=="object"&&!Array.isArray(h)&&x&&typeof x=="object"&&!Array.isArray(x)?f[g]=r(x,h):(x&&h&&typeof x!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${g}". Original type: ${typeof x}, New type: ${typeof h}. Overwriting.`),f[g]=h)}return f}const l=r(n,e);t.body=JSON.stringify(l)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const P3="mcp_used/unknown";function F1(t){for(const e of t)if(Xf(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function H1(t){var e;const n=(e=t[jf])!==null&&e!==void 0?e:"";t[jf]=(n+` ${P3}`).trimStart()}function O3(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(l=>Xf(l)))!==null&&r!==void 0?r:!1}function B3(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(l=>!Xf(l)))!==null&&r!==void 0?r:!1}function Xf(t){return t!==null&&typeof t=="object"&&t instanceof em}function U3(t,e=100){return bs(this,arguments,function*(){let r,l=0;for(;l<e;){const o=yield mt(t.listTools({cursor:r}));for(const u of o.tools)yield yield mt(u),l++;if(!o.nextCursor)break;r=o.nextCursor}})}class em{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new em(e,n)}async initialize(){var e,n,r,l;if(this.mcpTools.length>0)return;const o={},u=[];for(const x of this.mcpClients)try{for(var f=!0,g=(n=void 0,ql(U3(x))),h;h=await g.next(),e=h.done,!e;f=!0){l=h.value,f=!1;const b=l;u.push(b);const N=b.name;if(o[N])throw new Error(`Duplicate function name ${N} found in MCP tools. Please ensure function names are unique.`);o[N]=x}}catch(b){n={error:b}}finally{try{!f&&!e&&(r=g.return)&&await r.call(g)}finally{if(n)throw n.error}}this.mcpTools=u,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),U5(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const l=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const u=await l.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:u.isError?{error:u}:u}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function z3(t,e,n){const r=new E5;let l;n.data instanceof Blob?l=JSON.parse(await n.data.text()):l=JSON.parse(n.data);const o=JC(l);Object.assign(r,o),e(r)}class V3{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const l=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),u=F3(this.apiClient.getDefaultHeaders()),f=this.apiClient.getApiKey(),g=`${l}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${f}`;let h=()=>{};const x=new Promise(D=>{h=D}),b=e.callbacks,N=function(){h({})},w=this.apiClient,C={onopen:N,onmessage:D=>{z3(w,b.onmessage,D)},onerror:(n=b==null?void 0:b.onerror)!==null&&n!==void 0?n:function(D){},onclose:(r=b==null?void 0:b.onclose)!==null&&r!==void 0?r:function(D){}},E=this.webSocketFactory.create(g,q3(u),C);E.connect(),await x;const _=ut(this.apiClient,e.model),A=B1({model:_}),P=kf({setup:A});return E.send(JSON.stringify(P)),new $3(E,this.apiClient)}}class $3{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=oC(e),r=U1(n);this.conn.send(JSON.stringify({clientContent:r}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=cC(e),r=kf(n);this.conn.send(JSON.stringify(r))}sendPlaybackControl(e){const n=kf({playbackControl:e});this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(ys.PLAY)}pause(){this.sendPlaybackControl(ys.PAUSE)}stop(){this.sendPlaybackControl(ys.STOP)}resetContext(){this.sendPlaybackControl(ys.RESET_CONTEXT)}close(){this.conn.close()}}function q3(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function F3(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const H3="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function G3(t,e,n){const r=new T5;let l;if(n.data instanceof Blob?l=JSON.parse(await n.data.text()):l=JSON.parse(n.data),t.isVertexAI()){const o=UC(l);Object.assign(r,o)}else{const o=BC(l);Object.assign(r,o)}e(r)}class Y3{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new V3(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,l,o,u,f;const g=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let x;const b=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&F1(e.config.tools)&&H1(b);const N=K3(b);if(this.apiClient.isVertexAI())x=`${g}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(N);else{const z=this.apiClient.getApiKey();let X="BidiGenerateContent",Q="key";z!=null&&z.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),X="BidiGenerateContentConstrained",Q="access_token"),x=`${g}/ws/google.ai.generativelanguage.${h}.GenerativeService.${X}?${Q}=${z}`}let w=()=>{};const C=new Promise(z=>{w=z}),E=e.callbacks,_=function(){var z;(z=E==null?void 0:E.onopen)===null||z===void 0||z.call(E),w({})},A=this.apiClient,P={onopen:_,onmessage:z=>{G3(A,E.onmessage,z)},onerror:(n=E==null?void 0:E.onerror)!==null&&n!==void 0?n:function(z){},onclose:(r=E==null?void 0:E.onclose)!==null&&r!==void 0?r:function(z){}},D=this.webSocketFactory.create(x,Q3(N),P);D.connect(),await C;let $=ut(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&$.startsWith("publishers/")){const z=this.apiClient.getProject(),X=this.apiClient.getLocation();$=`projects/${z}/locations/${X}/`+$}let Z={};this.apiClient.isVertexAI()&&((l=e.config)===null||l===void 0?void 0:l.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[$o.AUDIO]}:e.config.responseModalities=[$o.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const L=(f=(u=e.config)===null||u===void 0?void 0:u.tools)!==null&&f!==void 0?f:[],R=[];for(const z of L)if(this.isCallableTool(z)){const X=z;R.push(await X.tool())}else R.push(z);R.length>0&&(e.config.tools=R);const B={model:$,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?Z=tC(this.apiClient,B):Z=eC(this.apiClient,B),delete Z.config,D.send(JSON.stringify(Z)),new Z3(D,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const J3={turnComplete:!0};class Z3{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Mn(n.turns),e.isVertexAI()?r=r.map(l=>Ms(l)):r=r.map(l=>ec(l))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(H3)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},J3),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:aC(e)}:n={realtimeInput:lC(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function Q3(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function K3(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Yx=10;function Jx(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let l=!1;for(const u of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(ko(u)){l=!0;break}if(!l)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function ko(t){return"callTool"in t&&typeof t.callTool=="function"}function Zx(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class W3 extends js{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,l,o,u,f;const g=await this.processParamsForMcpUsage(n);if(!O3(n)||Jx(n.config))return await this.generateContentInternal(g);if(B3(n))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let h,x;const b=Mn(g.contents),N=(o=(l=(r=g.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&o!==void 0?o:Yx;let w=0;for(;w<N&&(h=await this.generateContentInternal(g),!(!h.functionCalls||h.functionCalls.length===0));){const C=h.candidates[0].content,E=[];for(const _ of(f=(u=n.config)===null||u===void 0?void 0:u.tools)!==null&&f!==void 0?f:[])if(ko(_)){const P=await _.callTool(h.functionCalls);E.push(...P)}w++,x={role:"user",parts:E},g.contents=Mn(g.contents),g.contents.push(C),g.contents.push(x),Zx(g.config)&&(b.push(C),b.push(x))}return Zx(g.config)&&(h.automaticFunctionCallingHistory=b),h},this.generateContentStream=async n=>{if(Jx(n.config)){const r=await this.processParamsForMcpUsage(n);return await this.generateContentStreamInternal(r)}else return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var l;let o;const u=[];if(r!=null&&r.generatedImages)for(const g of r.generatedImages)g&&(g!=null&&g.safetyAttributes)&&((l=g==null?void 0:g.safetyAttributes)===null||l===void 0?void 0:l.contentType)==="Positive Prompt"?o=g==null?void 0:g.safetyAttributes:u.push(g);let f;return o?f={generatedImages:u,positivePromptSafetyAttributes:o}:f={generatedImages:u},f}),this.list=async n=>{var r;const u={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!u.config.queryBase){if(!((r=u.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");u.config.filter="labels.tune-type:*"}return new Wo(_s.PAGED_ITEM_MODELS,f=>this.listInternal(f),await this.listInternal(u),u)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(l=>l.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const l={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(l)}}async processParamsForMcpUsage(e){var n,r,l;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const u=await Promise.all(o.map(async g=>ko(g)?await g.tool():g)),f={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:u})};if(f.config.tools=u,e.config&&e.config.tools&&F1(e.config.tools)){const g=(l=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&l!==void 0?l:{};let h=Object.assign({},g);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),H1(h),f.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:h})}return f}async initAfcToolsMap(e){var n,r,l;const o=new Map;for(const u of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(ko(u)){const f=u,g=await f.tool();for(const h of(l=g.functionDeclarations)!==null&&l!==void 0?l:[]){if(!h.name)throw new Error("Function declaration name is required.");if(o.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);o.set(h.name,f)}}return o}async processAfcStream(e){var n,r,l;const o=(l=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&l!==void 0?l:Yx;let u=!1,f=0;const g=await this.initAfcToolsMap(e);return function(h,x,b){var N,w;return bs(this,arguments,function*(){for(var C,E,_,A;f<o;){u&&(f++,u=!1);const Z=yield mt(h.processParamsForMcpUsage(b)),L=yield mt(h.generateContentStreamInternal(Z)),R=[],B=[];try{for(var P=!0,D=(E=void 0,ql(L)),$;$=yield mt(D.next()),C=$.done,!C;P=!0){A=$.value,P=!1;const z=A;if(yield yield mt(z),z.candidates&&(!((N=z.candidates[0])===null||N===void 0)&&N.content)){B.push(z.candidates[0].content);for(const X of(w=z.candidates[0].content.parts)!==null&&w!==void 0?w:[])if(f<o&&X.functionCall){if(!X.functionCall.name)throw new Error("Function call name was not returned by the model.");if(x.has(X.functionCall.name)){const Q=yield mt(x.get(X.functionCall.name).callTool([X.functionCall]));R.push(...Q)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${x.keys()}, mising tool: ${X.functionCall.name}`)}}}}catch(z){E={error:z}}finally{try{!P&&!C&&(_=D.return)&&(yield mt(_.call(D)))}finally{if(E)throw E.error}}if(R.length>0){u=!0;const z=new Il;z.candidates=[{content:{role:"user",parts:R}}],yield yield mt(z);const X=[];X.push(...B),X.push({role:"user",parts:R});const Q=Mn(b.contents).concat(X);b.contents=Q}else break}})}(this,g,e)}async generateContentInternal(e){var n,r,l,o;let u,f="",g={};if(this.apiClient.isVertexAI()){const h=$x(this.apiClient,e);return f=Ie("{model}:generateContent",h._url),g=h._query,delete h.config,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),u.then(x=>{const b=Fx(x),N=new Il;return Object.assign(N,b),N})}else{const h=Vx(this.apiClient,e);return f=Ie("{model}:generateContent",h._url),g=h._query,delete h.config,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),u.then(x=>{const b=qx(x),N=new Il;return Object.assign(N,b),N})}}async generateContentStreamInternal(e){var n,r,l,o;let u,f="",g={};if(this.apiClient.isVertexAI()){const h=$x(this.apiClient,e);return f=Ie("{model}:streamGenerateContent?alt=sse",h._url),g=h._query,delete h.config,delete h._url,delete h._query,u=this.apiClient.requestStream({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),u.then(function(b){return bs(this,arguments,function*(){var N,w,C,E;try{for(var _=!0,A=ql(b),P;P=yield mt(A.next()),N=P.done,!N;_=!0){E=P.value,_=!1;const $=Fx(yield mt(E.json())),Z=new Il;Object.assign(Z,$),yield yield mt(Z)}}catch(D){w={error:D}}finally{try{!_&&!N&&(C=A.return)&&(yield mt(C.call(A)))}finally{if(w)throw w.error}}})})}else{const h=Vx(this.apiClient,e);return f=Ie("{model}:streamGenerateContent?alt=sse",h._url),g=h._query,delete h.config,delete h._url,delete h._query,u=this.apiClient.requestStream({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),u.then(function(b){return bs(this,arguments,function*(){var N,w,C,E;try{for(var _=!0,A=ql(b),P;P=yield mt(A.next()),N=P.done,!N;_=!0){E=P.value,_=!1;const $=qx(yield mt(E.json())),Z=new Il;Object.assign(Z,$),yield yield mt(Z)}}catch(D){w={error:D}}finally{try{!_&&!N&&(C=A.return)&&(yield mt(C.call(A)))}finally{if(w)throw w.error}}})})}}async embedContent(e){var n,r,l,o;let u,f="",g={};if(this.apiClient.isVertexAI()){const h=l4(this.apiClient,e);return f=Ie("{model}:predict",h._url),g=h._query,delete h.config,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),u.then(x=>{const b=d3(x),N=new wx;return Object.assign(N,b),N})}else{const h=vT(this.apiClient,e);return f=Ie("{model}:batchEmbedContents",h._url),g=h._query,delete h.config,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),u.then(x=>{const b=V4(x),N=new wx;return Object.assign(N,b),N})}}async generateImagesInternal(e){var n,r,l,o;let u,f="",g={};if(this.apiClient.isVertexAI()){const h=o4(this.apiClient,e);return f=Ie("{model}:predict",h._url),g=h._query,delete h.config,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),u.then(x=>{const b=m3(x),N=new Nx;return Object.assign(N,b),N})}else{const h=wT(this.apiClient,e);return f=Ie("{model}:predict",h._url),g=h._query,delete h.config,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),u.then(x=>{const b=F4(x),N=new Nx;return Object.assign(N,b),N})}}async editImageInternal(e){var n,r;let l,o="",u={};if(this.apiClient.isVertexAI()){const f=p4(this.apiClient,e);return o=Ie("{model}:predict",f._url),u=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),l.then(g=>{const h=h3(g),x=new v5;return Object.assign(x,h),x})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let l,o="",u={};if(this.apiClient.isVertexAI()){const f=x4(this.apiClient,e);return o=Ie("{model}:predict",f._url),u=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),l.then(g=>{const h=p3(g),x=new b5;return Object.assign(x,h),x})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,l,o;let u,f="",g={};if(this.apiClient.isVertexAI()){const h=y4(this.apiClient,e);return f=Ie("{name}",h._url),g=h._query,delete h.config,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),u.then(x=>_f(x))}else{const h=NT(this.apiClient,e);return f=Ie("{name}",h._url),g=h._query,delete h.config,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),u.then(x=>Af(x))}}async listInternal(e){var n,r,l,o;let u,f="",g={};if(this.apiClient.isVertexAI()){const h=b4(this.apiClient,e);return f=Ie("{models_url}",h._url),g=h._query,delete h.config,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),u.then(x=>{const b=v3(this.apiClient,x),N=new Sx;return Object.assign(N,b),N})}else{const h=CT(this.apiClient,e);return f=Ie("{models_url}",h._url),g=h._query,delete h.config,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),u.then(x=>{const b=G4(this.apiClient,x),N=new Sx;return Object.assign(N,b),N})}}async update(e){var n,r,l,o;let u,f="",g={};if(this.apiClient.isVertexAI()){const h=N4(this.apiClient,e);return f=Ie("{model}",h._url),g=h._query,delete h.config,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),u.then(x=>_f(x))}else{const h=ET(this.apiClient,e);return f=Ie("{name}",h._url),g=h._query,delete h.config,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),u.then(x=>Af(x))}}async delete(e){var n,r,l,o;let u,f="",g={};if(this.apiClient.isVertexAI()){const h=S4(this.apiClient,e);return f=Ie("{name}",h._url),g=h._query,delete h.config,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),u.then(()=>{const x=b3(),b=new Cx;return Object.assign(b,x),b})}else{const h=kT(this.apiClient,e);return f=Ie("{name}",h._url),g=h._query,delete h.config,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),u.then(()=>{const x=Y4(),b=new Cx;return Object.assign(b,x),b})}}async countTokens(e){var n,r,l,o;let u,f="",g={};if(this.apiClient.isVertexAI()){const h=T4(this.apiClient,e);return f=Ie("{model}:countTokens",h._url),g=h._query,delete h.config,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),u.then(x=>{const b=w3(x),N=new Tx;return Object.assign(N,b),N})}else{const h=_T(this.apiClient,e);return f=Ie("{model}:countTokens",h._url),g=h._query,delete h.config,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),u.then(x=>{const b=J4(x),N=new Tx;return Object.assign(N,b),N})}}async computeTokens(e){var n,r;let l,o="",u={};if(this.apiClient.isVertexAI()){const f=E4(this.apiClient,e);return o=Ie("{model}:computeTokens",f._url),u=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),l.then(g=>{const h=N3(g),x=new w5;return Object.assign(x,h),x})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var n,r,l,o;let u,f="",g={};if(this.apiClient.isVertexAI()){const h=_4(this.apiClient,e);return f=Ie("{model}:predictLongRunning",h._url),g=h._query,delete h.config,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),u.then(x=>E3(x))}else{const h=RT(this.apiClient,e);return f=Ie("{model}:predictLongRunning",h._url),g=h._query,delete h.config,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),u.then(x=>W4(x))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function X3(t){const e={},n=m(t,["operationName"]);n!=null&&p(e,["_url","operationName"],n);const r=m(t,["config"]);return r!=null&&p(e,["config"],r),e}function eE(t){const e={},n=m(t,["operationName"]);n!=null&&p(e,["_url","operationName"],n);const r=m(t,["config"]);return r!=null&&p(e,["config"],r),e}function tE(t){const e={},n=m(t,["operationName"]);n!=null&&p(e,["operationName"],n);const r=m(t,["resourceName"]);r!=null&&p(e,["_url","resourceName"],r);const l=m(t,["config"]);return l!=null&&p(e,["config"],l),e}function nE(t){const e={},n=m(t,["video","uri"]);n!=null&&p(e,["uri"],n);const r=m(t,["video","encodedVideo"]);r!=null&&p(e,["videoBytes"],yi(r));const l=m(t,["encoding"]);return l!=null&&p(e,["mimeType"],l),e}function iE(t){const e={},n=m(t,["_self"]);return n!=null&&p(e,["video"],nE(n)),e}function rE(t){const e={},n=m(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(u=>iE(u))),p(e,["generatedVideos"],o)}const r=m(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const l=m(t,["raiMediaFilteredReasons"]);return l!=null&&p(e,["raiMediaFilteredReasons"],l),e}function sE(t){const e={},n=m(t,["name"]);n!=null&&p(e,["name"],n);const r=m(t,["metadata"]);r!=null&&p(e,["metadata"],r);const l=m(t,["done"]);l!=null&&p(e,["done"],l);const o=m(t,["error"]);o!=null&&p(e,["error"],o);const u=m(t,["response","generateVideoResponse"]);return u!=null&&p(e,["response"],rE(u)),e}function lE(t){const e={},n=m(t,["gcsUri"]);n!=null&&p(e,["uri"],n);const r=m(t,["bytesBase64Encoded"]);r!=null&&p(e,["videoBytes"],yi(r));const l=m(t,["mimeType"]);return l!=null&&p(e,["mimeType"],l),e}function aE(t){const e={},n=m(t,["_self"]);return n!=null&&p(e,["video"],lE(n)),e}function oE(t){const e={},n=m(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(u=>aE(u))),p(e,["generatedVideos"],o)}const r=m(t,["raiMediaFilteredCount"]);r!=null&&p(e,["raiMediaFilteredCount"],r);const l=m(t,["raiMediaFilteredReasons"]);return l!=null&&p(e,["raiMediaFilteredReasons"],l),e}function Qx(t){const e={},n=m(t,["name"]);n!=null&&p(e,["name"],n);const r=m(t,["metadata"]);r!=null&&p(e,["metadata"],r);const l=m(t,["done"]);l!=null&&p(e,["done"],l);const o=m(t,["error"]);o!=null&&p(e,["error"],o);const u=m(t,["response"]);return u!=null&&p(e,["response"],oE(u)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cE extends js{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=n.name.split("/operations/")[0];let o;return r&&"httpOptions"in r&&(o=r.httpOptions),this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:l,config:{httpOptions:o}})}else return this.getVideosOperationInternal({operationName:n.name,config:r})}async getVideosOperationInternal(e){var n,r,l,o;let u,f="",g={};if(this.apiClient.isVertexAI()){const h=eE(e);return f=Ie("{operationName}",h._url),g=h._query,delete h.config,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),u.then(x=>Qx(x))}else{const h=X3(e);return f=Ie("{operationName}",h._url),g=h._query,delete h.config,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),u.then(x=>sE(x))}}async fetchPredictVideosOperationInternal(e){var n,r;let l,o="",u={};if(this.apiClient.isVertexAI()){const f=tE(e);return o=Ie("{resourceName}:fetchPredictOperation",f._url),u=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),l.then(g=>Qx(g))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uE(t){const e={},n=m(t,["voiceName"]);return n!=null&&p(e,["voiceName"],n),e}function G1(t){const e={},n=m(t,["prebuiltVoiceConfig"]);return n!=null&&p(e,["prebuiltVoiceConfig"],uE(n)),e}function dE(t){const e={},n=m(t,["speaker"]);n!=null&&p(e,["speaker"],n);const r=m(t,["voiceConfig"]);return r!=null&&p(e,["voiceConfig"],G1(r)),e}function fE(t){const e={},n=m(t,["speakerVoiceConfigs"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>dE(l))),p(e,["speakerVoiceConfigs"],r)}return e}function mE(t){const e={},n=m(t,["voiceConfig"]);n!=null&&p(e,["voiceConfig"],G1(n));const r=m(t,["multiSpeakerVoiceConfig"]);r!=null&&p(e,["multiSpeakerVoiceConfig"],fE(r));const l=m(t,["languageCode"]);return l!=null&&p(e,["languageCode"],l),e}function hE(t){const e={},n=m(t,["fps"]);n!=null&&p(e,["fps"],n);const r=m(t,["endOffset"]);r!=null&&p(e,["endOffset"],r);const l=m(t,["startOffset"]);return l!=null&&p(e,["startOffset"],l),e}function pE(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["data"]);n!=null&&p(e,["data"],n);const r=m(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function gE(t){const e={};if(m(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=m(t,["fileUri"]);n!=null&&p(e,["fileUri"],n);const r=m(t,["mimeType"]);return r!=null&&p(e,["mimeType"],r),e}function xE(t){const e={},n=m(t,["videoMetadata"]);n!=null&&p(e,["videoMetadata"],hE(n));const r=m(t,["thought"]);r!=null&&p(e,["thought"],r);const l=m(t,["inlineData"]);l!=null&&p(e,["inlineData"],pE(l));const o=m(t,["fileData"]);o!=null&&p(e,["fileData"],gE(o));const u=m(t,["thoughtSignature"]);u!=null&&p(e,["thoughtSignature"],u);const f=m(t,["codeExecutionResult"]);f!=null&&p(e,["codeExecutionResult"],f);const g=m(t,["executableCode"]);g!=null&&p(e,["executableCode"],g);const h=m(t,["functionCall"]);h!=null&&p(e,["functionCall"],h);const x=m(t,["functionResponse"]);x!=null&&p(e,["functionResponse"],x);const b=m(t,["text"]);return b!=null&&p(e,["text"],b),e}function yE(t){const e={},n=m(t,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(o=>xE(o))),p(e,["parts"],l)}const r=m(t,["role"]);return r!=null&&p(e,["role"],r),e}function vE(t){const e={},n=m(t,["behavior"]);n!=null&&p(e,["behavior"],n);const r=m(t,["description"]);r!=null&&p(e,["description"],r);const l=m(t,["name"]);l!=null&&p(e,["name"],l);const o=m(t,["parameters"]);o!=null&&p(e,["parameters"],o);const u=m(t,["parametersJsonSchema"]);u!=null&&p(e,["parametersJsonSchema"],u);const f=m(t,["response"]);f!=null&&p(e,["response"],f);const g=m(t,["responseJsonSchema"]);return g!=null&&p(e,["responseJsonSchema"],g),e}function bE(t){const e={},n=m(t,["startTime"]);n!=null&&p(e,["startTime"],n);const r=m(t,["endTime"]);return r!=null&&p(e,["endTime"],r),e}function wE(t){const e={},n=m(t,["timeRangeFilter"]);return n!=null&&p(e,["timeRangeFilter"],bE(n)),e}function NE(t){const e={},n=m(t,["mode"]);n!=null&&p(e,["mode"],n);const r=m(t,["dynamicThreshold"]);return r!=null&&p(e,["dynamicThreshold"],r),e}function SE(t){const e={},n=m(t,["dynamicRetrievalConfig"]);return n!=null&&p(e,["dynamicRetrievalConfig"],NE(n)),e}function CE(){return{}}function TE(t){const e={},n=m(t,["functionDeclarations"]);if(n!=null){let f=n;Array.isArray(f)&&(f=f.map(g=>vE(g))),p(e,["functionDeclarations"],f)}if(m(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=m(t,["googleSearch"]);r!=null&&p(e,["googleSearch"],wE(r));const l=m(t,["googleSearchRetrieval"]);if(l!=null&&p(e,["googleSearchRetrieval"],SE(l)),m(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(m(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");m(t,["urlContext"])!=null&&p(e,["urlContext"],CE());const u=m(t,["codeExecution"]);return u!=null&&p(e,["codeExecution"],u),e}function EE(t){const e={},n=m(t,["handle"]);if(n!=null&&p(e,["handle"],n),m(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Kx(){return{}}function kE(t){const e={},n=m(t,["disabled"]);n!=null&&p(e,["disabled"],n);const r=m(t,["startOfSpeechSensitivity"]);r!=null&&p(e,["startOfSpeechSensitivity"],r);const l=m(t,["endOfSpeechSensitivity"]);l!=null&&p(e,["endOfSpeechSensitivity"],l);const o=m(t,["prefixPaddingMs"]);o!=null&&p(e,["prefixPaddingMs"],o);const u=m(t,["silenceDurationMs"]);return u!=null&&p(e,["silenceDurationMs"],u),e}function AE(t){const e={},n=m(t,["automaticActivityDetection"]);n!=null&&p(e,["automaticActivityDetection"],kE(n));const r=m(t,["activityHandling"]);r!=null&&p(e,["activityHandling"],r);const l=m(t,["turnCoverage"]);return l!=null&&p(e,["turnCoverage"],l),e}function _E(t){const e={},n=m(t,["targetTokens"]);return n!=null&&p(e,["targetTokens"],n),e}function jE(t){const e={},n=m(t,["triggerTokens"]);n!=null&&p(e,["triggerTokens"],n);const r=m(t,["slidingWindow"]);return r!=null&&p(e,["slidingWindow"],_E(r)),e}function ME(t){const e={},n=m(t,["proactiveAudio"]);return n!=null&&p(e,["proactiveAudio"],n),e}function RE(t,e){const n={},r=m(t,["generationConfig"]);e!==void 0&&r!=null&&p(e,["setup","generationConfig"],r);const l=m(t,["responseModalities"]);e!==void 0&&l!=null&&p(e,["setup","generationConfig","responseModalities"],l);const o=m(t,["temperature"]);e!==void 0&&o!=null&&p(e,["setup","generationConfig","temperature"],o);const u=m(t,["topP"]);e!==void 0&&u!=null&&p(e,["setup","generationConfig","topP"],u);const f=m(t,["topK"]);e!==void 0&&f!=null&&p(e,["setup","generationConfig","topK"],f);const g=m(t,["maxOutputTokens"]);e!==void 0&&g!=null&&p(e,["setup","generationConfig","maxOutputTokens"],g);const h=m(t,["mediaResolution"]);e!==void 0&&h!=null&&p(e,["setup","generationConfig","mediaResolution"],h);const x=m(t,["seed"]);e!==void 0&&x!=null&&p(e,["setup","generationConfig","seed"],x);const b=m(t,["speechConfig"]);e!==void 0&&b!=null&&p(e,["setup","generationConfig","speechConfig"],mE(Kf(b)));const N=m(t,["enableAffectiveDialog"]);e!==void 0&&N!=null&&p(e,["setup","generationConfig","enableAffectiveDialog"],N);const w=m(t,["systemInstruction"]);e!==void 0&&w!=null&&p(e,["setup","systemInstruction"],yE(Ht(w)));const C=m(t,["tools"]);if(e!==void 0&&C!=null){let Z=ea(C);Array.isArray(Z)&&(Z=Z.map(L=>TE(Xl(L)))),p(e,["setup","tools"],Z)}const E=m(t,["sessionResumption"]);e!==void 0&&E!=null&&p(e,["setup","sessionResumption"],EE(E));const _=m(t,["inputAudioTranscription"]);e!==void 0&&_!=null&&p(e,["setup","inputAudioTranscription"],Kx());const A=m(t,["outputAudioTranscription"]);e!==void 0&&A!=null&&p(e,["setup","outputAudioTranscription"],Kx());const P=m(t,["realtimeInputConfig"]);e!==void 0&&P!=null&&p(e,["setup","realtimeInputConfig"],AE(P));const D=m(t,["contextWindowCompression"]);e!==void 0&&D!=null&&p(e,["setup","contextWindowCompression"],jE(D));const $=m(t,["proactivity"]);return e!==void 0&&$!=null&&p(e,["setup","proactivity"],ME($)),n}function IE(t,e){const n={},r=m(e,["model"]);r!=null&&p(n,["setup","model"],ut(t,r));const l=m(e,["config"]);return l!=null&&p(n,["config"],RE(l,n)),n}function DE(t,e,n){const r={},l=m(e,["expireTime"]);n!==void 0&&l!=null&&p(n,["expireTime"],l);const o=m(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&p(n,["newSessionExpireTime"],o);const u=m(e,["uses"]);n!==void 0&&u!=null&&p(n,["uses"],u);const f=m(e,["liveConnectConstraints"]);n!==void 0&&f!=null&&p(n,["bidiGenerateContentSetup"],IE(t,f));const g=m(e,["lockAdditionalFields"]);return n!==void 0&&g!=null&&p(n,["fieldMask"],g),r}function LE(t,e){const n={},r=m(e,["config"]);return r!=null&&p(n,["config"],DE(t,r,n)),n}function PE(t){const e={},n=m(t,["name"]);return n!=null&&p(e,["name"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function OE(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const l=Object.keys(r).map(o=>`${n}.${o}`);e.push(...l)}else e.push(n)}return e.join(",")}function BE(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const l=t.fieldMask;if(n){const o=OE(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&l!==null&&Array.isArray(l)&&l.length>0){const u=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let f=[];l.length>0&&(f=l.map(h=>u.includes(h)?`generationConfig.${h}`:h));const g=[];o&&g.push(o),f.length>0&&g.push(...f),g.length>0?t.fieldMask=g.join(","):delete t.fieldMask}else delete t.fieldMask}else l!==null&&Array.isArray(l)&&l.length>0?t.fieldMask=l.join(","):delete t.fieldMask;return t}class UE extends js{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let l,o="",u={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const f=LE(this.apiClient,e);o=Ie("auth_tokens",f._url),u=f._query,delete f.config,delete f._url,delete f._query;const g=BE(f,e.config);return l=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),l.then(h=>PE(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zE(t){const e={},n=m(t,["name"]);n!=null&&p(e,["_url","name"],n);const r=m(t,["config"]);return r!=null&&p(e,["config"],r),e}function VE(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const l=m(t,["pageToken"]);e!==void 0&&l!=null&&p(e,["_query","pageToken"],l);const o=m(t,["filter"]);return e!==void 0&&o!=null&&p(e,["_query","filter"],o),n}function $E(t){const e={},n=m(t,["config"]);return n!=null&&p(e,["config"],VE(n,e)),e}function qE(t){const e={},n=m(t,["textInput"]);n!=null&&p(e,["textInput"],n);const r=m(t,["output"]);return r!=null&&p(e,["output"],r),e}function FE(t){const e={};if(m(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=m(t,["examples"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(l=>qE(l))),p(e,["examples","examples"],r)}return e}function HE(t,e){const n={};if(m(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=m(t,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&p(e,["displayName"],r),m(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=m(t,["epochCount"]);e!==void 0&&l!=null&&p(e,["tuningTask","hyperparameters","epochCount"],l);const o=m(t,["learningRateMultiplier"]);if(o!=null&&p(n,["tuningTask","hyperparameters","learningRateMultiplier"],o),m(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(m(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=m(t,["batchSize"]);e!==void 0&&u!=null&&p(e,["tuningTask","hyperparameters","batchSize"],u);const f=m(t,["learningRate"]);return e!==void 0&&f!=null&&p(e,["tuningTask","hyperparameters","learningRate"],f),n}function GE(t){const e={},n=m(t,["baseModel"]);n!=null&&p(e,["baseModel"],n);const r=m(t,["trainingDataset"]);r!=null&&p(e,["tuningTask","trainingData"],FE(r));const l=m(t,["config"]);return l!=null&&p(e,["config"],HE(l,e)),e}function YE(t){const e={},n=m(t,["name"]);n!=null&&p(e,["_url","name"],n);const r=m(t,["config"]);return r!=null&&p(e,["config"],r),e}function JE(t,e){const n={},r=m(t,["pageSize"]);e!==void 0&&r!=null&&p(e,["_query","pageSize"],r);const l=m(t,["pageToken"]);e!==void 0&&l!=null&&p(e,["_query","pageToken"],l);const o=m(t,["filter"]);return e!==void 0&&o!=null&&p(e,["_query","filter"],o),n}function ZE(t){const e={},n=m(t,["config"]);return n!=null&&p(e,["config"],JE(n,e)),e}function QE(t,e){const n={},r=m(t,["gcsUri"]);if(e!==void 0&&r!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],r),m(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function KE(t){const e={},n=m(t,["gcsUri"]);return n!=null&&p(e,["validationDatasetUri"],n),e}function WE(t,e){const n={},r=m(t,["validationDataset"]);e!==void 0&&r!=null&&p(e,["supervisedTuningSpec"],KE(r));const l=m(t,["tunedModelDisplayName"]);e!==void 0&&l!=null&&p(e,["tunedModelDisplayName"],l);const o=m(t,["description"]);e!==void 0&&o!=null&&p(e,["description"],o);const u=m(t,["epochCount"]);e!==void 0&&u!=null&&p(e,["supervisedTuningSpec","hyperParameters","epochCount"],u);const f=m(t,["learningRateMultiplier"]);e!==void 0&&f!=null&&p(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],f);const g=m(t,["exportLastCheckpointOnly"]);e!==void 0&&g!=null&&p(e,["supervisedTuningSpec","exportLastCheckpointOnly"],g);const h=m(t,["adapterSize"]);if(e!==void 0&&h!=null&&p(e,["supervisedTuningSpec","hyperParameters","adapterSize"],h),m(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(m(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function XE(t){const e={},n=m(t,["baseModel"]);n!=null&&p(e,["baseModel"],n);const r=m(t,["trainingDataset"]);r!=null&&p(e,["supervisedTuningSpec","trainingDatasetUri"],QE(r,e));const l=m(t,["config"]);return l!=null&&p(e,["config"],WE(l,e)),e}function ek(t){const e={},n=m(t,["name"]);n!=null&&p(e,["model"],n);const r=m(t,["name"]);return r!=null&&p(e,["endpoint"],r),e}function Y1(t){const e={},n=m(t,["name"]);n!=null&&p(e,["name"],n);const r=m(t,["state"]);r!=null&&p(e,["state"],j1(r));const l=m(t,["createTime"]);l!=null&&p(e,["createTime"],l);const o=m(t,["tuningTask","startTime"]);o!=null&&p(e,["startTime"],o);const u=m(t,["tuningTask","completeTime"]);u!=null&&p(e,["endTime"],u);const f=m(t,["updateTime"]);f!=null&&p(e,["updateTime"],f);const g=m(t,["description"]);g!=null&&p(e,["description"],g);const h=m(t,["baseModel"]);h!=null&&p(e,["baseModel"],h);const x=m(t,["_self"]);x!=null&&p(e,["tunedModel"],ek(x));const b=m(t,["distillationSpec"]);b!=null&&p(e,["distillationSpec"],b);const N=m(t,["experiment"]);N!=null&&p(e,["experiment"],N);const w=m(t,["labels"]);w!=null&&p(e,["labels"],w);const C=m(t,["pipelineJob"]);C!=null&&p(e,["pipelineJob"],C);const E=m(t,["serviceAccount"]);E!=null&&p(e,["serviceAccount"],E);const _=m(t,["tunedModelDisplayName"]);return _!=null&&p(e,["tunedModelDisplayName"],_),e}function tk(t){const e={},n=m(t,["nextPageToken"]);n!=null&&p(e,["nextPageToken"],n);const r=m(t,["tunedModels"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(o=>Y1(o))),p(e,["tuningJobs"],l)}return e}function nk(t){const e={},n=m(t,["name"]);n!=null&&p(e,["name"],n);const r=m(t,["metadata"]);r!=null&&p(e,["metadata"],r);const l=m(t,["done"]);l!=null&&p(e,["done"],l);const o=m(t,["error"]);return o!=null&&p(e,["error"],o),e}function ik(t){const e={},n=m(t,["checkpointId"]);n!=null&&p(e,["checkpointId"],n);const r=m(t,["epoch"]);r!=null&&p(e,["epoch"],r);const l=m(t,["step"]);l!=null&&p(e,["step"],l);const o=m(t,["endpoint"]);return o!=null&&p(e,["endpoint"],o),e}function rk(t){const e={},n=m(t,["model"]);n!=null&&p(e,["model"],n);const r=m(t,["endpoint"]);r!=null&&p(e,["endpoint"],r);const l=m(t,["checkpoints"]);if(l!=null){let o=l;Array.isArray(o)&&(o=o.map(u=>ik(u))),p(e,["checkpoints"],o)}return e}function Mf(t){const e={},n=m(t,["name"]);n!=null&&p(e,["name"],n);const r=m(t,["state"]);r!=null&&p(e,["state"],j1(r));const l=m(t,["createTime"]);l!=null&&p(e,["createTime"],l);const o=m(t,["startTime"]);o!=null&&p(e,["startTime"],o);const u=m(t,["endTime"]);u!=null&&p(e,["endTime"],u);const f=m(t,["updateTime"]);f!=null&&p(e,["updateTime"],f);const g=m(t,["error"]);g!=null&&p(e,["error"],g);const h=m(t,["description"]);h!=null&&p(e,["description"],h);const x=m(t,["baseModel"]);x!=null&&p(e,["baseModel"],x);const b=m(t,["tunedModel"]);b!=null&&p(e,["tunedModel"],rk(b));const N=m(t,["supervisedTuningSpec"]);N!=null&&p(e,["supervisedTuningSpec"],N);const w=m(t,["tuningDataStats"]);w!=null&&p(e,["tuningDataStats"],w);const C=m(t,["encryptionSpec"]);C!=null&&p(e,["encryptionSpec"],C);const E=m(t,["partnerModelTuningSpec"]);E!=null&&p(e,["partnerModelTuningSpec"],E);const _=m(t,["distillationSpec"]);_!=null&&p(e,["distillationSpec"],_);const A=m(t,["experiment"]);A!=null&&p(e,["experiment"],A);const P=m(t,["labels"]);P!=null&&p(e,["labels"],P);const D=m(t,["pipelineJob"]);D!=null&&p(e,["pipelineJob"],D);const $=m(t,["serviceAccount"]);$!=null&&p(e,["serviceAccount"],$);const Z=m(t,["tunedModelDisplayName"]);return Z!=null&&p(e,["tunedModelDisplayName"],Z),e}function sk(t){const e={},n=m(t,["nextPageToken"]);n!=null&&p(e,["nextPageToken"],n);const r=m(t,["tuningJobs"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(o=>Mf(o))),p(e,["tuningJobs"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lk extends js{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new Wo(_s.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(n);{const r=await this.tuneMldevInternal(n);let l="";return r.metadata!==void 0&&r.metadata.tunedModel!==void 0?l=r.metadata.tunedModel:r.name!==void 0&&r.name.includes("/operations/")&&(l=r.name.split("/operations/")[0]),{name:l,state:Sf.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,l,o;let u,f="",g={};if(this.apiClient.isVertexAI()){const h=YE(e);return f=Ie("{name}",h._url),g=h._query,delete h.config,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),u.then(x=>Mf(x))}else{const h=zE(e);return f=Ie("{name}",h._url),g=h._query,delete h.config,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),u.then(x=>Y1(x))}}async listInternal(e){var n,r,l,o;let u,f="",g={};if(this.apiClient.isVertexAI()){const h=ZE(e);return f=Ie("tuningJobs",h._url),g=h._query,delete h.config,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(x=>x.json()),u.then(x=>{const b=sk(x),N=new Ex;return Object.assign(N,b),N})}else{const h=$E(e);return f=Ie("tunedModels",h._url),g=h._query,delete h.config,delete h._url,delete h._query,u=this.apiClient.request({path:f,queryParams:g,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=e.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(x=>x.json()),u.then(x=>{const b=tk(x),N=new Ex;return Object.assign(N,b),N})}}async tuneInternal(e){var n,r;let l,o="",u={};if(this.apiClient.isVertexAI()){const f=XE(e);return o=Ie("tuningJobs",f._url),u=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),l.then(g=>Mf(g))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let l,o="",u={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=GE(e);return o=Ie("tunedModels",f._url),u=f._query,delete f.config,delete f._url,delete f._query,l=this.apiClient.request({path:o,queryParams:u,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(g=>g.json()),l.then(g=>nk(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ak{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const ok=1024*1024*8,ck=3,uk=1e3,dk=2,Ad="x-goog-upload-status";async function fk(t,e,n){var r,l,o;let u=0,f=0,g=new Cf(new Response),h="upload";for(u=t.size;f<u;){const b=Math.min(ok,u-f),N=t.slice(f,f+b);f+b>=u&&(h+=", finalize");let w=0,C=uk;for(;w<ck&&(g=await n.request({path:"",body:N,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":h,"X-Goog-Upload-Offset":String(f),"Content-Length":String(b)}}}),!(!((r=g==null?void 0:g.headers)===null||r===void 0)&&r[Ad]));)w++,await hk(C),C=C*dk;if(f+=b,((l=g==null?void 0:g.headers)===null||l===void 0?void 0:l[Ad])!=="active")break;if(u<=f)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const x=await(g==null?void 0:g.json());if(((o=g==null?void 0:g.headers)===null||o===void 0?void 0:o[Ad])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return x.file}async function mk(t){return{size:t.size,type:t.type}}function hk(t){return new Promise(e=>setTimeout(e,t))}class pk{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await fk(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await mk(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gk{create(e,n,r){return new xk(e,n,r)}}class xk{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Wx="x-goog-api-key";class yk{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(Wx)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Wx,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vk="gl-node/";class J1{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=y5(e,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const l=new yk(this.apiKey);this.apiClient=new D3({auth:l,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:vk+"web",uploader:new pk,downloader:new ak}),this.models=new W3(this.apiClient),this.live=new Y3(this.apiClient,l,new gk),this.chats=new HN(this.models,this.apiClient),this.caches=new $N(this.apiClient),this.files=new rS(this.apiClient),this.operations=new cE(this.apiClient),this.authTokens=new UE(this.apiClient),this.tunings=new lk(this.apiClient)}}var _t=(t=>(t.Easy="easy",t.Normal="normal",t.Hard="hard",t))(_t||{});const Z1={easy:{trueFalse:5,multipleChoice:5,fillInTheBlanks:5,sentenceScramble:5,memoryCardGame:1},normal:{trueFalse:5,multipleChoice:5,fillInTheBlanks:5,sentenceScramble:5,memoryCardGame:1},hard:{trueFalse:5,multipleChoice:5,fillInTheBlanks:5,sentenceScramble:5,memoryCardGame:1}},yr={trueFalse:10,multipleChoice:10,fillInTheBlanks:10,sentenceScramble:10,memoryCardGame:2},dt=async(t,e)=>{const n=new J1({apiKey:e}),r="gemini-2.5-flash";try{const l=await n.models.generateContent({model:r,contents:t,config:{responseMimeType:"application/json"}});if(!l.text)throw new Error("AI  API ");let o=l.text.trim();const u=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,f=o.match(u);if(f&&f[2]&&(o=f[2].trim()),!o.startsWith("{")&&!o.startsWith("[")&&(o.includes("{")||o.includes("["))){const g=o.indexOf("{"),h=o.indexOf("[");let x=-1,b=-1;g!==-1&&(h===-1||g<h)?(x=g,b=o.lastIndexOf("}")):h!==-1&&(x=h,b=o.lastIndexOf("]")),x!==-1&&b!==-1&&b>x&&(o=o.substring(x,b+1))}try{return JSON.parse(o)}catch{throw console.error("AI  (JSON parse ):",l.text),new Error("AI  ( JSON)")}}catch(l){let o="";if(l instanceof Error&&(o+=`  ${l.message}`),l&&typeof l=="object"&&"message"in l){const u=l;u.message.includes("API key not valid")||u.message.includes("API_KEY_INVALID")?o="Gemini API ":u.message.includes("quota")||u.message.includes("RESOURCE_EXHAUSTED")?o=" API ":(u.message.toLowerCase().includes("json")||u.message.includes("Unexpected token"))&&(o="AI  ( JSON)")}throw new Error(o)}},Q1=async(t,e)=>{const n=`
    Please generate at least 3 (but more is better if appropriate) clear and distinct learning objectives for the topic: "${t}".
    The objectives should be based on scaffolding theory and gamification, and written in the primary language of the topic.
    For each objective, provide the objective statement, a detailed description, and a concrete teaching example (such as a sample sentence, scenario, or application).
    Output MUST be a valid JSON array of objects, e.g.:
    [
      { 
        "objective": "${t}", 
        "description": "${t}...", 
        "teachingExample": "${t}..." 
      },
      { 
        "objective": "${t}", 
        "description": "...", 
        "teachingExample": "${t}..." 
      },
      { 
        "objective": "${t}", 
        "description": "${t}...", 
        "teachingExample": "..." 
      },
      //...or more items
    ]
    Do NOT include any explanation or extra text. Only output the JSON array.
  `;return await dt(n,e)},bk=async(t,e,n)=>{const r=/english|||grammar|vocabulary|pronunciation|speaking|listening|reading|writing/i.test(t),l=`
    Based on the following learning objectives: ${JSON.stringify(n)}
    Please break down the topic "${t}" into at least 3 (but more is better if appropriate) micro-units. For each, provide a sub-topic, a brief explanation, and a concrete teaching example.
    
    ${r?`
    SPECIAL REQUIREMENTS FOR ENGLISH LEARNING TOPICS:
    For each breakdown item, also include:
    - coreConcept:  (core learning concept for this point)
    - teachingSentences: 3-5 (array of 3-5 teaching example sentences)
    - teachingTips:  (teaching tips and explanations)
    
    Output format for English learning topics:
    [
      {
        "topic": "A", 
        "details": "A...", 
        "teachingExample": "A...",
        "coreConcept": "...",
        "teachingSentences": ["1", "2", "3", "4", "5"],
        "teachingTips": "..."
      }
    ]
    `:`
    Standard output format:
    [
      { "topic": "A", "details": "A...", "teachingExample": "A..." }
    ]
    `}
    
    Do NOT include any explanation or extra text. Only output the JSON array.
  `;return await dt(l,e)},wk=async(t,e,n)=>{const r=`
    Based on the following learning objectives: ${JSON.stringify(n)}
    Generate at least 3 (but more is better if appropriate) comprehensive analysis of common misconceptions or difficulties students may have with "${t}".
    
    Output MUST be a valid JSON array with the following comprehensive structure:
    [
      {
        "point": "",
        "clarification": "",
        "teachingExample": "",
        "errorType": " (///)",
        "commonErrors": ["1", "2", "3"],
        "correctVsWrong": [
          {
            "correct": "",
            "wrong": "", 
            "explanation": ""
          }
        ],
        "preventionStrategy": " - ",
        "correctionMethod": " - ",
        "practiceActivities": ["1", "2", "3"]
      }
    ]
    
    Requirements:
    - Each confusing point should include ALL fields above
    - commonErrors: Provide at least 3 typical student mistakes
    - correctVsWrong: Provide at least 1 comparison (more if helpful)  
    - practiceActivities: Provide at least 3 targeted practice activities
    - All text should be in the primary language of the topic
    - Focus on practical teaching guidance that educators can immediately apply
    
    Do NOT include any explanation or extra text. Only output the JSON array.
  `;return await dt(r,e)},Nk=async(t,e,n)=>{const r=`
    Based on the following learning objectives: ${JSON.stringify(n)}
    Suggest at least 3 (but more is better if appropriate) engaging, interactive classroom activities (preferably game-like) for the topic "${t}".
    For each activity, provide the following comprehensive fields:
      - title: / (The name of the activity)
      - description:  (Brief description of the core concept)
      - objective:  (Main learning goal or purpose)
      - timing:  (When to use: lesson introduction, during unit, after unit, review, etc.)
      - materials:  (Required tools, materials, or props)
      - environment:  (Seating arrangement, space needs, equipment conditions)
      - steps:  (Step-by-step process of teacher-student interactions as array)
      - assessmentPoints:  (Learning effectiveness observation and assessment criteria as array)
    
    Output MUST be a valid JSON array of objects, e.g.:
    [
      {
        "title": "1",
        "description": "1...",
        "objective": "1...",
        "timing": "//...",
        "materials": "...",
        "environment": "...",
        "steps": ["1: ...", "2: ...", "3: ..."],
        "assessmentPoints": ["", "", ""]
      },
      // ... more items
    ]
    Do NOT include any explanation or extra text. Only output the JSON array.
  `;return await dt(r,e)},Sk=async(t,e,n)=>{const r=`
    Based on the following learning objectives: ${JSON.stringify(n)}
    Please generate quiz content for "${t}" in the following JSON structure (no explanation, no extra text):
    {
      "easy": {
        "trueFalse": [
          { "statement": "1...", "isTrue": true, "explanation": "1" },
          { "statement": "2...", "isTrue": false, "explanation": "2" }
          // ...  5 
        ],
        "multipleChoice": [
          { "question": "1...", "options": ["A", "B", "C"], "correctAnswerIndex": 0 },
          { "question": "2...", "options": ["A", "B", "C"], "correctAnswerIndex": 1 }
          // ...  5 
        ],
        "fillInTheBlanks": [
          { "sentenceWithBlank": "1...____...", "correctAnswer": "1" },
          { "sentenceWithBlank": "2...____...", "correctAnswer": "2" }
          // ...  5 
        ],
        "sentenceScramble": [
          { "originalSentence": "1...", "scrambledWords": ["...", "...", "..."] },
          { "originalSentence": "2...", "scrambledWords": ["...", "...", "..."] }
          // ...  5 
        ],
        "memoryCardGame": [
          {
            "pairs": [
              { "question": "1", "answer": "1" },
              { "question": "2", "answer": "2" },
              { "question": "3", "answer": "3" },
              { "question": "4", "answer": "4" },
              { "question": "5", "answer": "5" }
              // ...  5 
            ],
            "instructions": ""
          }
        ]
      },
      "normal": { /* same structure as easy, memoryCardGame  1 pairs  5  */ },
      "hard": { /* same structure as easy, memoryCardGame  1 pairs  5  */ }
    }
    For each quiz type (trueFalse, multipleChoice, fillInTheBlanks, sentenceScramble), generate at least 5 questions per difficulty level (easy, normal, hard), but more is better if appropriate.
    For memoryCardGame, generate ONLY 1 question per difficulty, but the "pairs" array inside must contain at least 5 pairs (each pair is a related concept, word/definition, Q&A, or translation relevant to '${t}'), and more is better if appropriate.
    Each memoryCardGame question should include clear "instructions" for the matching task.
    All text must be in the primary language of the topic. Only output the JSON object, no explanation or extra text.
  `;return await dt(r,e)},Ck=async(t,e,n)=>{const r=`
    Based on the following learning objectives: ${JSON.stringify(n)}
    Please generate a short, natural English conversation (at least 3 lines, but more is better if appropriate, 2 speakers) about the topic "${t}" (use English translation if topic is not English).
    Output MUST be a valid JSON array, e.g.:
    [
      { "speaker": "Speaker A", "line": "Hello! Let's talk about ${t}." },
      { "speaker": "Speaker B", "line": "Great idea! What's the first thing we should discuss regarding ${t}?" },
      { "speaker": "Speaker A", "line": "Perhaps we can start with..." },
      { "speaker": "Speaker B", "line": "I think examples would help." }
    ]
    Do NOT include any explanation or extra text. Only output the JSON array.
  `;return await dt(r,e)},Tk=async(t,e,n)=>{const r=`
    Please generate at least 3 (but more is better if appropriate) clear and distinct learning objectives for the topic: "${t}" appropriate for learning level "${e.name}" (${e.description}).
    The objectives should be based on scaffolding theory and gamification, written in the primary language of the topic, and tailored to the learner's level and capabilities described in: "${e.description}".
    For each objective, provide the objective statement, a detailed description, and a concrete teaching example (such as a sample sentence, scenario, or application).
    Output MUST be a valid JSON array of objects, e.g.:
    [
      { 
        "objective": "${t}${e.name}", 
        "description": "${e.name}...", 
        "teachingExample": "..." 
      },
      { 
        "objective": "${t}${e.name}", 
        "description": "...", 
        "teachingExample": "..." 
      },
      { 
        "objective": "${t}", 
        "description": "...", 
        "teachingExample": "..." 
      },
      //...or more items
    ]
    Do NOT include any explanation or extra text. Only output the JSON array.
  `;return await dt(r,n)},Ek=async(t,e,n,r)=>{const l=/english|||grammar|vocabulary|pronunciation|speaking|listening|reading|writing/i.test(t),o=`
    Based on the following learning objectives: ${JSON.stringify(r)}
    Please break down the topic "${t}" into at least 3 (but more is better if appropriate) micro-units appropriate for "${e.name}" level learners (${e.description}). For each, provide a sub-topic, a brief explanation, and a concrete teaching example.
    The content depth and complexity should match the level description: "${e.description}".
    
    ${l?`
    SPECIAL REQUIREMENTS FOR ENGLISH LEARNING TOPICS:
    For each breakdown item, also include:
    - coreConcept:  (core learning concept for this point)
    - teachingSentences: 3-5 (array of 3-5 teaching example sentences)
    - teachingTips:  (teaching tips and explanations)
    
    Output format for English learning topics:
    [
      {
        "topic": "${e.name}A", 
        "details": "A${e.name}...", 
        "teachingExample": "A...",
        "coreConcept": "...",
        "teachingSentences": ["1", "2", "3", "4", "5"],
        "teachingTips": "..."
      }
    ]
    `:`
    Standard output format:
    [
      { "topic": "${e.name}A", "details": "A${e.name}...", "teachingExample": "A..." }
    ]
    `}
    
    Do NOT include any explanation or extra text. Only output the JSON array.
  `;return await dt(o,n)},kk=async(t,e,n,r)=>{const l=`
    Based on the following learning objectives: ${JSON.stringify(r)}
    Generate at least 3 (but more is better if appropriate) comprehensive analysis of common misconceptions or difficulties that "${e.name}" level learners (${e.description}) may have with "${t}".
    
    Output MUST be a valid JSON array with the following comprehensive structure:
    [
      {
        "point": "${e.name}",
        "clarification": "${e.description}",
        "teachingExample": "",
        "errorType": " (///)",
        "commonErrors": ["1", "2", "3"],
        "correctVsWrong": [
          {
            "correct": "${e.name}",
            "wrong": "", 
            "explanation": ""
          }
        ],
        "preventionStrategy": "${e.name}",
        "correctionMethod": "",
        "practiceActivities": ["1", "2", "3"]
      }
    ]
    
    Requirements:
    - All content should be appropriate for "${e.description}"
    - Each confusing point should include ALL fields above
    - commonErrors: Provide at least 3 typical student mistakes at this level
    - correctVsWrong: Provide at least 1 comparison (more if helpful)  
    - practiceActivities: Provide at least 3 level-appropriate targeted practice activities
    - All text should be in the primary language of the topic
    - Focus on confusion points specific to "${e.name}" level: "${e.description}"
    
    Do NOT include any explanation or extra text. Only output the JSON array.
  `;return await dt(l,n)},Ak=async(t,e,n,r)=>{const l=`
    Based on the following learning objectives: ${JSON.stringify(r)}
    Suggest at least 3 (but more is better if appropriate) engaging, interactive classroom activities (preferably game-like) for the topic "${t}" suitable for "${e.name}" level learners (${e.description}).
    Activities should match the complexity and capabilities described in: "${e.description}".
    For each activity, provide the following comprehensive fields:
      - title: / (The name of the activity)
      - description:  (Brief description of the core concept)
      - objective:  (Main learning goal or purpose)
      - timing:  (When to use: lesson introduction, during unit, after unit, review, etc.)
      - materials:  (Required tools, materials, or props)
      - environment:  (Seating arrangement, space needs, equipment conditions)
      - steps:  (Step-by-step process of teacher-student interactions as array)
      - assessmentPoints:  (Learning effectiveness observation and assessment criteria as array)
    
    Output MUST be a valid JSON array of objects, e.g.:
    [
      {
        "title": "${e.name}1",
        "description": "1...",
        "objective": "1${e.name}...",
        "timing": "//...",
        "materials": "...",
        "environment": "...",
        "steps": ["1: ...", "2: ...", "3: ..."],
        "assessmentPoints": ["", "", ""]
      },
      // ... more items
    ]
    Do NOT include any explanation or extra text. Only output the JSON array.
  `;return await dt(l,n)},_k=async(t,e,n,r)=>{const l=`
    ${t}${e.name}(${e.description})
    ${JSON.stringify(r)}
    
    ${e.name}
    ${e.description}
    
     JSON 
    {
      "easy": {
        "trueFalse": [
          { "statement": "1...", "isTrue": true, "explanation": "1" },
          { "statement": "2...", "isTrue": false, "explanation": "2" }
          // ...  5 
        ],
        "multipleChoice": [
          { "question": "1...", "options": ["A", "B", "C"], "correctAnswerIndex": 0 },
          { "question": "2...", "options": ["A", "B", "C"], "correctAnswerIndex": 1 }
          // ...  5 
        ],
        "fillInTheBlanks": [
          { "sentenceWithBlank": "1...____...", "correctAnswer": "1" },
          { "sentenceWithBlank": "2...____...", "correctAnswer": "2" }
          // ...  5 
        ],
        "sentenceScramble": [
          { "originalSentence": "1...", "scrambledWords": ["...", "...", "..."] },
          { "originalSentence": "2...", "scrambledWords": ["...", "...", "..."] }
          // ...  5 
        ],
        "memoryCardGame": [
          {
            "pairs": [
              { "question": "1", "answer": "1" },
              { "question": "2", "answer": "2" },
              { "question": "3", "answer": "3" },
              { "question": "4", "answer": "4" },
              { "question": "5", "answer": "5" }
              // ...  5 
            ],
            "instructions": ""
          }
        ]
      },
      "normal": { /*  easymemoryCardGame  1 pairs  5  */ },
      "hard": { /*  easymemoryCardGame  1 pairs  5  */ }
    }
    
     (trueFalse, multipleChoice, fillInTheBlanks, sentenceScramble) (easy, normal, hard)  5 
     memoryCardGame 1  "pairs"  5 ${t}/
     memoryCardGame  "instructions" 
     JSON 
  `;return await dt(l,n)},jk=async(t,e,n,r)=>{const l=`
    Based on the following learning objectives: ${JSON.stringify(r)}
    Please generate a short, natural English conversation (at least 3 lines, but more is better if appropriate, 2 speakers) about the topic "${t}" (use English translation if topic is not English) appropriate for "${e.name}" level learners (${e.description}).
    Language complexity and vocabulary should match: "${e.description}".
    Output MUST be a valid JSON array, e.g.:
    [
      { "speaker": "Speaker A", "line": "Hello! Let's talk about ${t}." },
      { "speaker": "Speaker B", "line": "Great idea! What's the first thing we should discuss regarding ${t}?" },
      { "speaker": "Speaker A", "line": "Perhaps we can start with..." },
      { "speaker": "Speaker B", "line": "I think examples would help." }
    ]
    Do NOT include any explanation or extra text. Only output the JSON array.
  `;return await dt(l,n)},K1=async(t,e,n)=>{const r=`
    Based on the topic "${t}" and learning objectives: ${JSON.stringify(n)}
    Please generate 3-4 learning levels that are specific to this topic. Each level should have a unique name, description, and order.
    The levels should progress from basic understanding to advanced mastery, tailored specifically to the subject matter.
    
    Output MUST be a valid JSON object with this exact structure:
    {
      "suggestedLevels": [
        {
          "id": "beginner",
          "name": "",
          "description": "${t}",
          "order": 1
        },
        {
          "id": "intermediate", 
          "name": "",
          "description": "${t}",
          "order": 2
        },
        {
          "id": "advanced",
          "name": "", 
          "description": "${t}",
          "order": 3
        }
      ],
      "defaultLevelId": "beginner"
    }
    
    Make sure to:
    1. Create level names and descriptions that are specific to the topic (not generic)
    2. Use appropriate terminology for the subject area
    3. Ensure descriptions explain what learners at each level can do
    4. Use the primary language of the topic for names and descriptions
    
    Do NOT include any explanation or extra text. Only output the JSON object.
  `;return await dt(r,e)},Mk=t=>{const e=["english","grammar","vocabulary","pronunciation","speaking","writing","reading","listening","conversation","toefl","ielts","toeic","english literature","business english","academic english","phrasal verbs","idioms","prepositions","tenses","articles","adjectives","adverbs","nouns","verbs","","","","","","","","","","","","","","","","","","","","","","","","",""],n=t.toLowerCase();return e.some(r=>n.includes(r.toLowerCase()))},Rk=async(t,e)=>{if(!e)throw new Error("Gemini API ");const n=await Q1(t,e);return await K1(t,e,n)},Ik=async(t,e,n)=>{if(!n)throw new Error("Gemini API ");const r=await Tk(t,e,n),[l,o,u,f,g,h]=await Promise.all([Ek(t,e,n,r),kk(t,e,n,r),Ak(t,e,n,r),_k(t,e,n,r),jk(t,e,n,r),tm(t,n,r,e)]);return{learningObjectives:r,contentBreakdown:l,confusingPoints:o,classroomActivities:u,onlineInteractiveQuiz:f,englishConversation:g,writingPractice:h}},Dk=async(t,e,n,r)=>{if(!r)throw new Error("Gemini API ");const l=await Lk(t,e,n,r),[o,u,f,g,h,x]=await Promise.all([Pk(t,e,n,r,l),Ok(t,e,n,r,l),Bk(t,e,n,r,l),Uk(t,e,n,r,l),zk(t,e,n,r,l),tm(t,r,l,e,n)]);return{learningObjectives:l,contentBreakdown:o,confusingPoints:u,classroomActivities:f,onlineInteractiveQuiz:g,englishConversation:h,writingPractice:x}},Lk=async(t,e,n,r)=>{const l=`
    Please generate at least 3 (but more is better if appropriate) clear and distinct learning objectives for the topic: "${t}" appropriate for learning level "${e.name}" (${e.description}) and English vocabulary level "${n.name}" (${n.wordCount} words: ${n.description}).
    The objectives should be based on scaffolding theory and gamification, written in the primary language of the topic, and tailored to both the learner's level and vocabulary constraints.
    For each objective, provide the objective statement, a detailed description, and a concrete teaching example (such as a sample sentence, scenario, or application).
    
    CRITICAL VOCABULARY CONSTRAINTS for English content:
    - All English text must use vocabulary within the ${n.wordCount} most common English words
    - Adjust language complexity to match ${n.description}
    - Avoid advanced vocabulary that exceeds this level
    
    Output MUST be a valid JSON array of objects, e.g.:
    [
      { 
        "objective": "${t}${e.name}${n.wordCount}", 
        "description": "${e.name}${n.name}...", 
        "teachingExample": "${n.wordCount}..." 
      },
      { 
        "objective": "${t}${e.name}${n.name}", 
        "description": "...", 
        "teachingExample": "${n.wordCount}..." 
      },
      { 
        "objective": "${t}", 
        "description": "...", 
        "teachingExample": "..." 
      },
      //...or more items
    ]
    Do NOT include any explanation or extra text. Only output the JSON array.
  `;return await dt(l,r)},Pk=async(t,e,n,r,l)=>{const o=/english|||grammar|vocabulary|pronunciation|speaking|listening|reading|writing/i.test(t),u=`
    Based on the following learning objectives: ${JSON.stringify(l)}
    Please break down the topic "${t}" into at least 3 (but more is better if appropriate) micro-units appropriate for "${e.name}" level learners (${e.description}) with English vocabulary level "${n.name}" (${n.wordCount} words: ${n.description}).
    
    CRITICAL VOCABULARY CONSTRAINTS for English content:
    - All English text must use vocabulary within the ${n.wordCount} most common English words
    - Teaching examples should match ${n.description}
    - Avoid complex words that exceed this vocabulary level
    - Sentence structures should be appropriate for ${n.name} learners
    
    ${o?`
    SPECIAL REQUIREMENTS FOR ENGLISH LEARNING TOPICS:
    For each breakdown item, also include:
    - coreConcept:  (core learning concept for this point)
    - teachingSentences: 3-5${n.wordCount} (array of 3-5 teaching sentences using vocabulary within ${n.wordCount} words)
    - teachingTips:  (teaching tips and explanations)
    
    Output format for English learning topics:
    [
      {
        "topic": "${n.name}A", 
        "details": "A${n.wordCount}...", 
        "teachingExample": "A${n.name}...",
        "coreConcept": "...",
        "teachingSentences": ["Simple example 1", "Easy sentence 2", "Basic example 3"],
        "teachingTips": "..."
      }
    ]
    `:`
    Standard output format:
    [
      { "topic": "${n.name}A", "details": "A${n.wordCount}...", "teachingExample": "A${n.name}..." }
    ]
    `}
    
    Do NOT include any explanation or extra text. Only output the JSON array.
  `;return await dt(u,r)},Ok=async(t,e,n,r,l)=>{const o=`
    Based on the following learning objectives: ${JSON.stringify(l)}
    Generate at least 3 (but more is better if appropriate) comprehensive analysis of common misconceptions or difficulties that "${e.name}" level learners (${e.description}) with English vocabulary level "${n.name}" (${n.wordCount} words: ${n.description}) may have with "${t}".
    
    CRITICAL VOCABULARY CONSTRAINTS for English content:
    - All explanations must use vocabulary within the ${n.wordCount} most common English words
    - Examples should be appropriate for ${n.description}
    - Focus on confusion points that arise specifically at this vocabulary level
    
    Output MUST be a valid JSON array with the following comprehensive structure:
    [
      {
        "point": "${n.name}",
        "clarification": "${n.wordCount}",
        "teachingExample": "${n.name}",
        "errorType": " (///)",
        "commonErrors": ["1", "2", "3"],
        "correctVsWrong": [
          {
            "correct": "${n.wordCount}",
            "wrong": "",
            "explanation": ""
          }
        ],
        "preventionStrategy": "${n.name}",
        "correctionMethod": "",
        "practiceActivities": ["1", "2", "3"]
      }
    ]
    
    All English content must stay within the ${n.wordCount} word vocabulary limit and match ${e.description}.
    Do NOT include any explanation or extra text. Only output the JSON array.
  `;return await dt(o,r)},Bk=async(t,e,n,r,l)=>{const o=`
    Based on the following learning objectives: ${JSON.stringify(l)}
    Suggest at least 3 (but more is better if appropriate) engaging, interactive classroom activities (preferably game-like) for the topic "${t}" suitable for "${e.name}" level learners (${e.description}) with English vocabulary level "${n.name}" (${n.wordCount} words: ${n.description}).
    
    CRITICAL VOCABULARY CONSTRAINTS for English content:
    - Activity instructions must use vocabulary within the ${n.wordCount} most common English words
    - Activity content should match ${n.description}
    - Consider vocabulary limitations when designing complexity
    
    For each activity, provide the following comprehensive fields:
      - title: / (The name of the activity)
      - description:  (Brief description of the core concept)
      - objective:  (Main learning goal or purpose)
      - timing:  (When to use: lesson introduction, during unit, after unit, review, etc.)
      - materials:  (Required tools, materials, or props)
      - environment:  (Seating arrangement, space needs, equipment conditions)
      - steps:  (Step-by-step process of teacher-student interactions as array)
      - assessmentPoints:  (Learning effectiveness observation and assessment criteria as array)
    
    Output MUST be a valid JSON array of objects, e.g.:
    [
      {
        "title": "${n.name}1",
        "description": "1${n.wordCount}...",
        "objective": "1${n.name}...",
        "timing": "//...",
        "materials": "...",
        "environment": "...",
        "steps": ["1: ...", "2: ...", "3: ..."],
        "assessmentPoints": ["", "", ""]
      },
      // ... more items
    ]
    Do NOT include any explanation or extra text. Only output the JSON array.
  `;return await dt(o,r)},Uk=async(t,e,n,r,l)=>{const o=`
    Based on the following learning objectives: ${JSON.stringify(l)}
    Please generate quiz content for "${t}" suitable for learning level "${e.name}" (${e.description}) and English vocabulary level "${n.name}" (${n.wordCount} words: ${n.description}).
    
    CRITICAL VOCABULARY CONSTRAINTS for English content:
    - All English text in quiz questions, options, and examples must use vocabulary within the ${n.wordCount} most common English words
    - Sentence structures should be appropriate for ${n.description}
    - Avoid advanced vocabulary that exceeds this level
    
    Output in the following JSON structure (no explanation, no extra text):
    {
      "easy": {
        "trueFalse": [
          { "statement": "1...", "isTrue": true, "explanation": "1" },
          { "statement": "2...", "isTrue": false, "explanation": "2" }
          // ...  5 
        ],
        "multipleChoice": [
          { "question": "1...", "options": ["A", "B", "C"], "correctAnswerIndex": 0 },
          { "question": "2...", "options": ["A", "B", "C"], "correctAnswerIndex": 1 }
          // ...  5 
        ],
        "fillInTheBlanks": [
          { "sentenceWithBlank": "1...____...", "correctAnswer": "1" },
          { "sentenceWithBlank": "2...____...", "correctAnswer": "2" }
          // ...  5 
        ],
        "sentenceScramble": [
          { "originalSentence": "1...", "scrambledWords": ["...", "...", "..."] },
          { "originalSentence": "2...", "scrambledWords": ["...", "...", "..."] }
          // ...  5 
        ],
        "memoryCardGame": [
          {
            "pairs": [
              { "question": "1", "answer": "1" },
              { "question": "2", "answer": "2" },
              { "question": "3", "answer": "3" },
              { "question": "4", "answer": "4" },
              { "question": "5", "answer": "5" }
              // ...  5 
            ],
            "instructions": ""
          }
        ]
      },
      "normal": { /* same structure as easy, memoryCardGame  1 pairs  5  */ },
      "hard": { /* same structure as easy, memoryCardGame  1 pairs  5  */ }
    }
    For each quiz type (trueFalse, multipleChoice, fillInTheBlanks, sentenceScramble), generate at least 5 questions per difficulty level (easy, normal, hard), but more is better if appropriate.
    For memoryCardGame, generate ONLY 1 question per difficulty, but the "pairs" array inside must contain at least 5 pairs (each pair is a related concept, word/definition, Q&A, or translation relevant to '${t}'), and more is better if appropriate.
    Each memoryCardGame question should include clear "instructions" for the matching task.
    All text must be in the primary language of the topic. For English learning topics, limit English vocabulary to ${n.wordCount} most common words. Only output the JSON object, no explanation or extra text.
  `;return await dt(o,r)},zk=async(t,e,n,r,l)=>{const o=`
    Based on the following learning objectives: ${JSON.stringify(l)}
    Please generate a short, natural English conversation (at least 3 lines, but more is better if appropriate, 2 speakers) about the topic "${t}" (use English translation if topic is not English) appropriate for "${e.name}" level learners (${e.description}) with English vocabulary level "${n.name}" (${n.wordCount} words: ${n.description}).
    
    CRITICAL VOCABULARY CONSTRAINTS:
    - Use ONLY vocabulary within the ${n.wordCount} most common English words
    - Sentence structures must be appropriate for ${n.description}
    - Conversation complexity should match ${n.name} level
    - Avoid advanced vocabulary that exceeds this level
    - Keep sentences simple and clear for ${n.name} learners
    
    Output MUST be a valid JSON array, e.g.:
    [
      { "speaker": "Speaker A", "line": "Hello! Let's talk about ${t} using simple words for ${n.name} level." },
      { "speaker": "Speaker B", "line": "Great idea! What should we discuss first about ${t}?" },
      { "speaker": "Speaker A", "line": "Perhaps we can start with..." },
      { "speaker": "Speaker B", "line": "I think examples would help." }
    ]
    Do NOT include any explanation or extra text. Only output the JSON array.
  `;return await dt(o,r)},Vk=async(t,e)=>{if(!e)throw new Error("Gemini API ");const n=await Q1(t,e),[r,l,o,u,f,g,h]=await Promise.all([bk(t,e,n),wk(t,e,n),Nk(t,e,n),Sk(t,e,n),Ck(t,e,n),K1(t,e,n),tm(t,e,n)]);return{learningObjectives:n,contentBreakdown:r,confusingPoints:l,classroomActivities:o,onlineInteractiveQuiz:u,englishConversation:f,learningLevels:g,writingPractice:h}},$k=t=>{const e=n=>({trueFalse:Math.max(0,Math.min(n.trueFalse,yr.trueFalse)),multipleChoice:Math.max(0,Math.min(n.multipleChoice,yr.multipleChoice)),fillInTheBlanks:Math.max(0,Math.min(n.fillInTheBlanks,yr.fillInTheBlanks)),sentenceScramble:Math.max(0,Math.min(n.sentenceScramble,yr.sentenceScramble)),memoryCardGame:Math.max(0,Math.min(n.memoryCardGame,yr.memoryCardGame))});return{easy:e(t.easy),normal:e(t.normal),hard:e(t.hard)}},qk=async(t,e,n,r,l,o)=>{const u=$k(r),f=async b=>{const N=u[b];let w="";l&&(w=`${l.name} (${l.description}) `);let C="";o&&(C=`
      CRITICAL VOCABULARY CONSTRAINTS for English content:
      - All English text must use vocabulary within the ${o.wordCount} most common English words
      - Examples should be appropriate for ${o.description}
      `);const E=`
      Based on the following learning objectives: ${JSON.stringify(n)}
      Please generate ${w}quiz content for "${t}" with the following specific quantities:
      
      - True/False questions: ${N.trueFalse} questions
      - Multiple choice questions: ${N.multipleChoice} questions  
      - Fill in the blanks questions: ${N.fillInTheBlanks} questions
      - Sentence scramble questions: ${N.sentenceScramble} questions
      - Memory card game questions: ${N.memoryCardGame} questions
      
      ${C}
      
      Output MUST be a valid JSON object with this exact structure:
      {
        "trueFalse": [${N.trueFalse>0?`
          { "statement": "", "isTrue": true, "explanation": "" }
          //  ${N.trueFalse} `:"//  0 "}],
        "multipleChoice": [${N.multipleChoice>0?`
          { "question": "", "options": ["A", "B", "C", "D"], "correctAnswerIndex": 0 }
          //  ${N.multipleChoice} `:"//  0 "}],
        "fillInTheBlanks": [${N.fillInTheBlanks>0?`
          { "sentenceWithBlank": " ____ ", "correctAnswer": "" }
          //  ${N.fillInTheBlanks} `:"//  0 "}],
        "sentenceScramble": [${N.sentenceScramble>0?`
          { "originalSentence": "", "scrambledWords": ["", "", "", ""] }
          //  ${N.sentenceScramble} `:"//  0 "}],
        "memoryCardGame": [${N.memoryCardGame>0?`
          { "pairs": [{"question": "", "answer": ""}, ...], "instructions": "" }
          //  ${N.memoryCardGame}  5 `:"//  0 "}]
      }
      
      IMPORTANT: 
      - Generate EXACTLY the number of questions specified for each type (supports up to 10 questions for most types, 2 for memory card games)
      - If a question type is set to 0, provide an empty array []
      - For memoryCardGame, each question should contain at least 5 pairs in the "pairs" array
      - Maximum limits: trueFalse/multipleChoice/fillInTheBlanks/sentenceScramble up to 10 questions, memoryCardGame up to 2 questions
      - All text must be in the primary language of the topic
      - Do NOT include any explanation or extra text, only output the JSON object
    `;return await dt(E,e)},[g,h,x]=await Promise.all([f("easy"),f("normal"),f("hard")]);return{easy:g,normal:h,hard:x}},Fk=async(t,e,n,r,l,o)=>await qk(t,e,n,r,l,o),tm=async(t,e,n,r,l)=>{const o=`
    Based on the topic "${t}" and learning objectives: ${JSON.stringify(n)}
    Generate 6 sentence-making practice prompts (2 easy, 2 normal, 2 hard difficulty).
    
    ${r?`The content should be suitable for "${r.name}" level learners (${r.description}).`:""}
    ${l?`
    VOCABULARY CONSTRAINTS for English content:
    - All instructions and keywords must use vocabulary within the ${l.wordCount} most common English words
    - Examples should be appropriate for ${l.description}
    `:""}
    
    Output MUST be a valid JSON array:
    [
      {
        "id": "sentence_1",
        "instruction": "",
        "keywords": ["1", "2", "3"],
        "exampleSentence": "",
        "hints": ["1", "2"],
        "difficulty": "easy"
      }
    ]
    
    Requirements:
    - Each prompt should include 2-4 keywords that must be used
    - Provide clear instructions in the primary language of the topic
    - Include helpful hints for sentence construction
    - Example sentences should demonstrate proper usage
    - Progressive difficulty from easy to hard
    
    Do NOT include explanation, only output the JSON array.
  `,u=`
    Based on the topic "${t}" and learning objectives: ${JSON.stringify(n)}
    Generate 6 writing practice prompts (2 easy, 2 normal, 2 hard difficulty).
    
    ${r?`The content should be suitable for "${r.name}" level learners (${r.description}).`:""}
    ${l?`
    VOCABULARY CONSTRAINTS for English content:
    - All instructions and suggested keywords must use vocabulary within the ${l.wordCount} most common English words
    - Writing requirements should match ${l.description}
    `:""}
    
    Output MUST be a valid JSON array:
    [
      {
        "id": "writing_1", 
        "title": "",
        "instruction": "",
        "structure": ["1", "2", "3"],
        "keywords": ["1", "2"],
        "minLength": 100,
        "maxLength": 300,
        "exampleOutline": "",
        "difficulty": "easy"
      }
    ]
    
    Requirements:
    - Easy: 100-200 words, simple structure
    - Normal: 200-400 words, moderate complexity  
    - Hard: 300-600 words, complex structure
    - Provide clear writing guidelines and structure suggestions
    - Include relevant vocabulary recommendations
    - All text in the primary language of the topic
    
    Do NOT include explanation, only output the JSON array.
  `,[f,g]=await Promise.all([dt(o,e),dt(u,e)]);return{sentencePractice:f,writingPractice:g,instructions:"AI"}},Hk=async(t,e,n,r,l)=>{const o=/[a-zA-Z]/.test(t),u=o?"English":"Chinese",f=`
    Please provide detailed feedback for this ${e} practice work:
    
    Original Prompt: ${JSON.stringify(n)}
    Student Work: "${t}"
    
    ${l&&o?`
    VOCABULARY LEVEL CONTEXT:
    - Target level: ${l.name} (${l.wordCount} words: ${l.description})
    - Evaluate if vocabulary usage matches this level
    `:""}
    
    Provide comprehensive feedback in JSON format:
    {
      "score": 85,
      "strengths": ["1", "2"],
      "improvements": ["1", "2"],
      "grammarCorrections": [
        {
          "original": "",
          "corrected": "", 
          "explanation": ""
        }
      ],
      "vocabularyTips": ["1", "2"],
      "structureFeedback": "",
      "overallComment": ""
    }
    
    Evaluation Criteria:
    - Content relevance and completion of requirements
    - Grammar and language accuracy
    - Vocabulary usage and variety
    - Structure and organization (for writing)
    - Creativity and expression
    
    ${e==="sentence"?`
    For sentence practice:
    - Check if required keywords are used correctly
    - Evaluate sentence structure and grammar
    - Assess creativity in sentence construction
    `:`
    For writing practice:
    - Evaluate if word count requirements are met
    - Assess paragraph structure and flow
    - Check adherence to suggested outline
    - Evaluate argument development and coherence
    `}
    
    Provide feedback in Traditional Chinese for better understanding.
    Be encouraging and constructive. Score range: 0-100.
    
    Do NOT include explanation, only output the JSON object.
  `;return await dt(f,r)},Ao=async(t,e)=>{const n=`
    Transform the following teacher-oriented learning objective into student-friendly, engaging content suitable for interactive learning:
    
    Original Learning Objective:
    ${JSON.stringify(t)}
    
    Transform it into student-centered language that:
    1. Uses "" (you) instead of "" (students)
    2. Makes it personally relevant and motivating
    3. Explains WHY this learning is important to the student
    4. Uses encouraging, accessible language
    5. Includes concrete examples that students can relate to
    6. Makes the learning goal feel achievable and exciting
    
    Output MUST be a valid JSON object with this structure:
    {
      "objective": "",
      "description": "",
      "teachingExample": "",
      "personalRelevance": "",
      "encouragement": ""
    }
    
    Make the content engaging, personal, and motivational. Use Traditional Chinese.
    Do NOT include any explanation or extra text. Only output the JSON object.
  `;return await dt(n,e)},_o=async(t,e)=>{const n=`
    Transform the following teacher-oriented content breakdown into student-friendly, digestible learning content:
    
    Original Content Breakdown:
    ${JSON.stringify(t)}
    
    Transform it into student-centered content that:
    1. Uses conversational, friendly tone
    2. Explains concepts in simple, relatable terms
    3. Connects to real-world applications students care about
    4. Includes step-by-step learning guidance
    5. Makes complex topics feel approachable
    6. Uses analogies and examples from student life
    
    Output MUST be a valid JSON object with this structure:
    {
      "title": "",
      "introduction": "",
      "keyPoints": ["1", "2", "3"],
      "realLifeExamples": ["1", "2", "3"],
      "learningTips": "",
      "nextSteps": "",
      "encouragement": ""
    }
    
    Make the content feel like a friendly tutor explaining concepts personally to the student.
    Use Traditional Chinese. Do NOT include any explanation or extra text. Only output the JSON object.
  `;return await dt(n,e)},jo=async(t,e)=>{const n=`
    Transform the following teacher-oriented confusing point analysis into student-friendly, helpful guidance:
    
    Original Confusing Point:
    ${JSON.stringify(t)}
    
    Transform it into student-centered guidance that:
    1. Acknowledges that confusion is normal and okay
    2. Explains the common mistake without making students feel bad
    3. Provides clear, memorable strategies to avoid the mistake
    4. Uses positive, encouraging language
    5. Includes memorable tricks or mnemonics
    6. Shows both wrong and right examples in a supportive way
    
    Output MUST be a valid JSON object with this structure:
    {
      "title": "",
      "normalizeConfusion": "",
      "commonMistake": "",
      "whyItHappens": "",
      "clearExplanation": "",
      "rememberingTricks": ["1", "2", "3"],
      "practiceExamples": [
        {
          "situation": "",
          "wrongThinking": "",
          "rightThinking": "",
          "explanation": ""
        }
      ],
      "confidenceBooster": ""
    }
    
    Make the content supportive and empowering, helping students learn from mistakes without judgment.
    Use Traditional Chinese. Do NOT include any explanation or extra text. Only output the JSON object.
  `;return await dt(n,e)},Gk=({topic:t,setTopic:e,onGenerate:n,onGenerateWithLevels:r,isLoading:l})=>{const o=f=>{f.preventDefault(),!l&&t.trim()&&n()},u=f=>{f.preventDefault(),!l&&t.trim()&&r&&r()};return a.jsxs("form",{onSubmit:o,className:"mb-8 p-6 bg-white shadow-lg rounded-xl",children:[a.jsx("label",{htmlFor:"topic-input",className:"block text-xl font-semibold text-slate-700 mb-3",children:""}),a.jsxs("div",{className:"flex flex-col space-y-3",children:[a.jsx("input",{id:"topic-input",type:"text",value:t,onChange:f=>e(f.target.value),placeholder:"JavaScript Promises",className:"w-full p-3 border border-slate-400 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-600 transition-shadow bg-slate-50 text-slate-800 placeholder-slate-500",disabled:l,"aria-label":""}),a.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3",children:[r&&a.jsx("button",{type:"button",onClick:u,disabled:l||!t.trim(),className:"flex-1 px-6 py-3 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50 transition-colors disabled:bg-slate-400 disabled:cursor-not-allowed flex items-center justify-center",children:l?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"..."]}):" "}),a.jsx("button",{type:"submit",disabled:l||!t.trim(),className:"flex-1 px-6 py-3 bg-sky-600 text-white font-semibold rounded-lg hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-opacity-50 transition-colors disabled:bg-slate-400 disabled:cursor-not-allowed flex items-center justify-center","aria-live":"polite",children:l?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"..."]}):" "})]}),r&&a.jsxs("div",{className:"text-sm text-slate-600 bg-slate-50 p-3 rounded-lg",children:[a.jsxs("p",{children:[a.jsx("strong",{children:" "})," "]}),a.jsxs("p",{children:[a.jsx("strong",{children:" "})," "]})]})]})]})},Zn=()=>a.jsxs("div",{className:"flex flex-col items-center justify-center space-y-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-sky-600"}),a.jsx("p",{className:"text-sky-700",children:"..."})]}),jn=({title:t,icon:e,children:n,className:r})=>a.jsxs("div",{className:`bg-white shadow-lg rounded-xl p-6 mb-6 ${r||""}`,children:[a.jsxs("h2",{className:"text-2xl font-semibold text-sky-700 mb-4 flex items-center",children:[e&&a.jsx("span",{className:"mr-3 text-sky-600",children:e}),t]}),a.jsx("div",{className:"text-slate-700 space-y-3",children:n})]}),nc=async(t,e)=>{const n=new J1({apiKey:e}),r="gemini-2.5-flash";try{const l=await n.models.generateContent({model:r,contents:t,config:{responseMimeType:"application/json"}});if(!l.text)throw new Error("AI  API ");let o=l.text.trim();const u=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,f=o.match(u);if(f&&f[2]&&(o=f[2].trim()),!o.startsWith("{")&&!o.startsWith("[")&&(o.includes("{")||o.includes("["))){const g=o.indexOf("{"),h=o.indexOf("[");let x=-1,b=-1;g!==-1&&(h===-1||g<h)?(x=g,b=o.lastIndexOf("}")):h!==-1&&(x=h,b=o.lastIndexOf("]")),x!==-1&&b!==-1&&b>x&&(o=o.substring(x,b+1))}try{return JSON.parse(o)}catch{throw console.error("AI  (JSON parse ):",l.text),new Error("AI  ( JSON)")}}catch(l){let o="";throw l instanceof Error&&(o+=`  ${l.message}`),new Error(o)}},Yk=t=>{const e=new Map;return t.forEach(n=>{e.has(n.questionType)||e.set(n.questionType,{questionType:n.questionType,totalQuestions:0,correctCount:0,accuracy:0,averageTime:0,commonErrors:[],difficultyBreakdown:{easy:{total:0,correct:0,accuracy:0},normal:{total:0,correct:0,accuracy:0},hard:{total:0,correct:0,accuracy:0}}})}),t.forEach(n=>{const r=e.get(n.questionType);r.totalQuestions++,n.isCorrect&&r.correctCount++;const l=r.difficultyBreakdown[n.difficulty];l.total++,n.isCorrect&&l.correct++,l.accuracy=l.total>0?Math.round(l.correct/l.total*100):0}),e.forEach(n=>{n.accuracy=n.totalQuestions>0?Math.round(n.correctCount/n.totalQuestions*100):0;const l=t.filter(o=>o.questionType===n.questionType).filter(o=>o.responseTime).map(o=>o.responseTime);n.averageTime=l.length>0?Math.round(l.reduce((o,u)=>o+u,0)/l.length):void 0}),Array.from(e.values())},W1=t=>{if(t.length===0)return 0;const e=t.filter(n=>n.isCorrect).length;return Math.round(e/t.length*100)},Jk=t=>t>=80?"advanced":t>=60?"intermediate":"beginner",Zk=async(t,e,n,r)=>{const l=e.filter(h=>!h.isCorrect),o=e.filter(h=>h.isCorrect),u=l.map(h=>`
    : ${h.questionType}
    : ${h.difficulty}
    : ${JSON.stringify(h.userAnswer)}
    : ${JSON.stringify(h.correctAnswer)}
    : ${h.attempts||1}`).join(`
`),f=o.map(h=>`
    : ${h.questionType}
    : ${h.difficulty}
    : ${JSON.stringify(h.userAnswer)}`).join(`
`),g=`
    ${t}
    
    
    - ${o.length}
    - ${l.length}
    - ${Math.round(o.length/e.length*100)}%
    
    ${u}
    
    ${f}
    
     JSON 
    {
      "strengths": [
        {
          "area": "",
          "description": "",
          "level": "good|excellent|outstanding",
          "examples": [""],
          "leverageOpportunities": [""]
        }
      ],
      "weaknesses": [
        {
          "area": "",
          "description": "",
          "severity": "low|medium|high",
          "affectedTopics": [""],
          "recommendedActions": [""]
        }
      ],
      "learningStyle": "",
      "cognitivePattern": ""
    }
    
    
  `;try{return await nc(g,r)}catch(h){return console.error("AI :",h),{strengths:[],weaknesses:[],learningStyle:"",cognitivePattern:""}}},Qk=async(t,e,n,r,l,o)=>{const u=`
    Generate personalized learning recommendations for a student based on their performance analysis.
    
    Context:
    - Topic: "${t}"
    - Overall Score: ${e}%
    - Learning Level: ${n}
    - Key Strengths: ${r.map(f=>f.area).join(", ")}
    - Areas for Improvement: ${l.map(f=>f.area).join(", ")}
    
    Please provide 3-5 personalized recommendations in the following JSON structure (no explanation, no extra text):
    {
      "recommendations": [
        {
          "category": "immediate|short-term|long-term",
          "priority": "high|medium|low",
          "title": "",
          "description": "",
          "actionSteps": ["1", "2"],
          "expectedOutcome": "",
          "estimatedTime": "",
          "resources": [""]
        }
      ]
    }
    
    Focus on actionable, specific recommendations that consider the student's current level and identified strengths/weaknesses.
    Respond in Traditional Chinese ().
  `;try{return(await nc(u,o)).recommendations||[]}catch(f){return console.error("AI :",f),[]}},Kk=async(t,e,n,r,l,o,u,f,g)=>{const x=((g==null?void 0:g.filter(N=>!N.isCorrect))||[]).map(N=>`
  - ${N.questionType} (: ${N.difficulty}): ${JSON.stringify(N.userAnswer)}${JSON.stringify(N.correctAnswer)}`).join(""),b=`
    ${t}
    
    
    - ${e}%
    - ${n}
    - ${l.map(N=>N.area).join("")}
    - ${o.map(N=>N.area).join("")}
    
    ${x}
    
     JSON 
    {
      "encouragementMessage": "",
      "keyStrengths": ["", "", ""],
      "improvementAreas": ["", ""],
      "nextSteps": ["", "", ""],
      "studyTips": ["", "", ""],
      "motivationalQuote": ""
    }
    
    
    
  `;try{const N=await nc(b,u);return{studentId:f,overallScore:e,overallLevel:n,encouragementMessage:N.encouragementMessage||"",keyStrengths:N.keyStrengths||[],improvementAreas:N.improvementAreas||[],nextSteps:N.nextSteps||[],studyTips:N.studyTips||[],motivationalQuote:N.motivationalQuote||""}}catch(N){return console.error("AI :",N),{studentId:f,overallScore:e,overallLevel:n,encouragementMessage:"",keyStrengths:["",""],improvementAreas:[""],nextSteps:["","",""],studyTips:["","",""],motivationalQuote:""}}},Wk=async(t,e,n,r,l,o,u)=>{const g=((u==null?void 0:u.filter(x=>!x.isCorrect))||[]).map(x=>`
  - : ${x.questionType}, : ${x.difficulty}
    : ${JSON.stringify(x.userAnswer)}
    : ${JSON.stringify(x.correctAnswer)}
    : ${x.attempts||1}`).join(""),h=`
    ${t}
    
    
    - ${e}%
    - ${r.map(x=>x.area).join("")}
    - ${l.map(x=>x.area).join("")}
    - ${n.map(x=>`${x.questionType}: ${x.accuracy}%`).join("")}
    
    ${g}
    
     JSON 
    {
      "immediateInterventions": ["", ""],
      "instructionalStrategies": ["", "", ""],
      "differentiation": ["", ""],
      "parentGuidance": ["", ""]
    }
    
    
    
  `;try{const x=await nc(h,o);return{immediateInterventions:x.immediateInterventions||[],instructionalStrategies:x.instructionalStrategies||[],differentiation:x.differentiation||[],parentGuidance:x.parentGuidance||[]}}catch(x){return console.error("AI :",x),{immediateInterventions:[],instructionalStrategies:[],differentiation:[],parentGuidance:[]}}},Xk=async(t,e,n={includeDetailedAnalysis:!0,includeComparativeData:!1,includeVisualCharts:!1,language:"zh-TW",reportFormat:"standard"})=>{try{const r=Yk(t.responses),l=W1(t.responses),o=Jk(l),u=await Zk(t.topic,t.responses,r,e),f=await Qk(t.topic,l,o,u.strengths,u.weaknesses,e),g=await Kk(t.topic,l,o,r,u.strengths,u.weaknesses,e,t.studentId,t.responses),h=await Wk(t.topic,l,r,u.strengths,u.weaknesses,e,t.responses),x={studentId:t.studentId,assessmentDate:new Date().toISOString(),topic:t.topic,overallPerformance:{totalScore:l,level:o,timeSpent:t.endTime&&t.startTime?Math.round((new Date(t.endTime).getTime()-new Date(t.startTime).getTime())/6e4):0},performanceByType:r,learningAnalysis:u,teachingRecommendations:h,personalizedRecommendations:f,progressTracking:{keyMetrics:["","",""],checkpoints:["","",""],reassessmentSuggestion:" 2-3 "}};return{session:t,studentFeedback:g,teacherReport:x,rawData:{responses:t.responses,statistics:r}}}catch(r){throw console.error(":",r),new Error("")}},Ho=(t,e)=>({sessionId:`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,studentId:e,topic:t,startTime:new Date().toISOString(),responses:[],isCompleted:!1,metadata:{userAgent:navigator.userAgent,deviceType:/Mobi|Android/i.test(navigator.userAgent)?"mobile":"desktop"}}),Mo=t=>({...t,endTime:new Date().toISOString(),isCompleted:!0}),Rf=({className:t})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.31M8.25 18.75a12.064 12.064 0 0 0 7.5 0M12 6.75a2.25 2.25 0 1 1 0 4.5 2.25 2.5 0 0 1 0-4.5ZM12 6.75V3.75m0 3a12.022 12.022 0 0 0-5.483 1.348M12 6.75a12.022 12.022 0 0 1 5.483 1.348"})}),Go=({className:t})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6-2.292m0 0V3.75m0 12.15V21"})}),Fl=({className:t})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.25 7.756a4.5 4.5 0 1 0 0 8.488M7.5 10.5h5.25m-5.25 3h5.25M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),Nr=({className:t})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),Sr=({className:t})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),Rn=({className:t})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.627 48.627 0 0 1 12 20.904a48.627 48.627 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.57 50.57 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.697 50.697 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"})}),e6=({className:t})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m5.231 13.481L15 17.25m-4.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Zm3.75 11.625a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"})}),t6=({className:t})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"})}),n6=({className:t})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"})}),i6=({className:t})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18.75a6 6 0 0 0 6-6v-1.5m-6 7.5a6 6 0 0 1-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15c-1.13 0-2.25-.264-3.25-.73A4.505 4.505 0 0 1 5.25 9.75V8.25A6.75 6.75 0 0 1 12 1.5a6.75 6.75 0 0 1 6.75 6.75v1.5a4.505 4.505 0 0 1-3.5 4.52M12 15V8.25"})}),r6=({className:t})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 9.563C9 9.254 9.254 9 9.563 9h4.874c.309 0 .563.254.563.563v4.874c0 .309-.254.563-.563.563H9.563A.562.562 0 0 1 9 14.437V9.564Z"})]}),If=({className:t})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-2.184-2.183a1.724 1.724 0 0 0-1.235-.517H7.72c-1.137 0-2.1-.847-2.193-1.98A11.974 11.974 0 0 1 5.5 13H4.75a2.25 2.25 0 0 1-2.25-2.25V6.75a2.25 2.25 0 0 1 2.25-2.25h4.718c.468 0 .92.052 1.354.143L12 6l2.454-2.454L16.5 6h1.252a2.25 2.25 0 0 1 2.25 2.25v.233Z"})}),ws=({className:t})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"})}),Df=({className:t})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),_d=({className:t})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-11.314a2.25 2.25 0 1 0 3.935-2.186 2.25 2.25 0 0 0-3.935 2.186Z"})}),s6=({className:t})=>a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})}),Xx=({className:t})=>a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]}),X1=({question:t,itemNumber:e,onAnswer:n})=>{const[r,l]=M.useState(null),[o,u]=M.useState(null),[f,g]=M.useState(0);M.useEffect(()=>{l(null),u(null),g(Date.now())},[t]);const h=x=>{l(x);const b=x===t.isTrue;let N=b?"":"";b||(N+=` ${t.isTrue?" (True)":" (False)"}`),u({isCorrect:b,message:N,explanation:t.explanation});const w=f>0?Date.now()-f:void 0;n&&n(x,b,w)};return a.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg bg-slate-50 mb-3",children:[a.jsxs("p",{className:"font-medium text-slate-700 mb-2",children:[e,". ",t.statement||"..."]}),a.jsxs("div",{className:"flex space-x-3 mb-3",children:[a.jsx("button",{onClick:()=>h(!0),className:`px-6 py-2 rounded-md font-medium transition-all
            ${r===!0?o!=null&&o.isCorrect?"bg-green-500 text-white ring-2 ring-green-300":"bg-red-500 text-white ring-2 ring-red-300":"bg-slate-200 hover:bg-slate-300 text-slate-700"}
          `,"aria-pressed":r===!0,disabled:o!==null,children:" (True)"}),a.jsx("button",{onClick:()=>h(!1),className:`px-6 py-2 rounded-md font-medium transition-all
            ${r===!1?o!=null&&o.isCorrect?"bg-green-500 text-white ring-2 ring-green-300":"bg-red-500 text-white ring-2 ring-red-300":"bg-slate-200 hover:bg-slate-300 text-slate-700"}
          `,"aria-pressed":r===!1,disabled:o!==null,children:" (False)"})]}),o&&a.jsxs("div",{className:`mt-2 p-2 rounded-md text-sm flex flex-col items-start ${o.isCorrect?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[a.jsxs("div",{className:"flex items-center",children:[o.isCorrect?a.jsx(Nr,{className:"w-5 h-5 mr-2"}):a.jsx(Sr,{className:"w-5 h-5 mr-2"}),o.message]}),o.explanation&&a.jsx("p",{className:"mt-1 pl-7 text-xs italic",children:o.explanation})]})]})},ev=({question:t,itemNumber:e,onAnswer:n})=>{const[r,l]=M.useState(null),[o,u]=M.useState(null),[f,g]=M.useState(0);M.useEffect(()=>{l(null),u(null),g(Date.now())},[t]);const h=()=>{if(r===null){u({isCorrect:!1,message:""});return}const x=r===t.correctAnswerIndex;u({isCorrect:x,message:x?"":` ${(t.options||[])[t.correctAnswerIndex]||""}`});const b=f>0?Date.now()-f:void 0;n&&n(r,x,b)};return a.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg bg-slate-50 mb-3",children:[a.jsxs("p",{className:"font-medium text-slate-700 mb-2",children:[e,". ",t.question]}),a.jsx("div",{className:"space-y-2 mb-3",children:(t.options||[]).map((x,b)=>a.jsxs("label",{className:`flex items-center p-2 border rounded-md cursor-pointer hover:bg-sky-50 transition-colors ${r===b?"bg-sky-100 border-sky-500":"border-slate-300"} ${o!==null?"cursor-not-allowed opacity-70":""}`,children:[a.jsx("input",{type:"radio",name:`mcq-${e}-${t.question}`,value:b,checked:r===b,onChange:()=>{o===null&&l(b)},className:"mr-2 h-4 w-4 text-sky-600 focus:ring-sky-500 border-slate-400",disabled:o!==null}),x]},b))}),a.jsx("button",{onClick:h,className:"px-4 py-2 bg-sky-500 text-white rounded-md hover:bg-sky-600 transition-colors disabled:bg-slate-400",disabled:o!==null||r===null,children:""}),o&&a.jsxs("div",{className:`mt-2 p-2 rounded-md text-sm flex items-center ${o.isCorrect?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[o.isCorrect?a.jsx(Nr,{className:"w-5 h-5 mr-2"}):a.jsx(Sr,{className:"w-5 h-5 mr-2"}),o.message]})]})},tv=({question:t,itemNumber:e,onAnswer:n})=>{var b;const[r,l]=M.useState(""),[o,u]=M.useState(null),[f,g]=M.useState(0);M.useEffect(()=>{l(""),u(null),g(Date.now())},[t]);const h=N=>{if(N.preventDefault(),!r.trim()){u({isCorrect:!1,message:""});return}const w=r.trim().toLowerCase()===t.correctAnswer.toLowerCase();u({isCorrect:w,message:w?"":` ${t.correctAnswer}`});const C=f>0?Date.now()-f:void 0;n&&n(r.trim(),w,C)},x=((b=t.sentenceWithBlank)==null?void 0:b.split("____"))||["",""];return a.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg bg-slate-50 mb-3",children:[a.jsxs("form",{onSubmit:h,className:"space-y-2",children:[a.jsxs("label",{htmlFor:`fillblank-${e}-${t.sentenceWithBlank}`,className:"font-medium text-slate-700 mb-1 block",children:[e,". ",x[0],a.jsx("input",{id:`fillblank-${e}-${t.sentenceWithBlank}`,type:"text",value:r,onChange:N=>{o===null&&l(N.target.value)},className:"mx-1 p-1 border-b-2 border-slate-400 focus:border-sky-500 outline-none w-24 sm:w-32 bg-transparent",placeholder:"",disabled:o!==null}),x[1]]}),a.jsx("button",{type:"submit",className:"px-4 py-2 bg-sky-500 text-white rounded-md hover:bg-sky-600 transition-colors disabled:bg-slate-400",disabled:o!==null||!r.trim(),children:""})]}),o&&a.jsxs("div",{className:`mt-2 p-2 rounded-md text-sm flex items-center ${o.isCorrect?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[o.isCorrect?a.jsx(Nr,{className:"w-5 h-5 mr-2"}):a.jsx(Sr,{className:"w-5 h-5 mr-2"}),o.message]})]})},nv=({question:t,itemNumber:e,onAnswer:n})=>{const[r,l]=M.useState([]),[o,u]=M.useState([]),[f,g]=M.useState(null),[h,x]=M.useState(0);M.useEffect(()=>{const E=t.scrambledWords||[];u([...E].sort(()=>Math.random()-.5)),l([]),g(null),x(Date.now())},[t]);const b=(E,_)=>{l([...r,E]);const A=[...o];A.splice(_,1),u(A),f&&g(null)},N=(E,_)=>{u([...o,E]);const A=[...r];A.splice(_,1),l(A),f&&g(null)},w=()=>{const E=t.scrambledWords||[];u([...E].sort(()=>Math.random()-.5)),l([]),f&&g(null)},C=()=>{const E=r.join(" ").trim(),_=D=>D.toLowerCase().replace(/[.,!?;:]/g,"").replace(/\s+/g," ").trim(),A=_(E)===_(t.originalSentence);g({isCorrect:A,message:A?"":` "${t.originalSentence}"`});const P=h>0?Date.now()-h:void 0;n&&n(E,A,P)};return a.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg bg-slate-50 mb-3",children:[a.jsxs("p",{className:"font-medium text-slate-700 mb-2",children:[e,". "]}),a.jsx("div",{className:"mb-3 p-3 border border-dashed border-slate-400 rounded-md min-h-[40px] bg-white flex flex-wrap gap-2",children:r.length>0?r.map((E,_)=>a.jsx("button",{onClick:()=>N(E,_),className:"px-2 py-1 bg-sky-200 text-sky-800 rounded-md hover:bg-sky-300 transition-colors",children:E},`${E}-${_}-constructed`)):a.jsx("span",{className:"text-slate-400 italic",children:""})}),a.jsx("div",{className:"mb-3 flex flex-wrap gap-2",children:o.map((E,_)=>a.jsx("button",{onClick:()=>b(E,_),className:"px-2 py-1 bg-slate-200 text-slate-700 rounded-md hover:bg-slate-300 transition-colors",children:E},`${E}-${_}-available`))}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:C,className:"px-4 py-2 bg-sky-500 text-white rounded-md hover:bg-sky-600 transition-colors",children:""}),a.jsx("button",{onClick:w,className:"px-4 py-2 bg-slate-500 text-white rounded-md hover:bg-slate-600 transition-colors",children:""})]}),f&&a.jsxs("div",{className:`mt-3 p-2 rounded-md text-sm flex items-center ${f.isCorrect?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[f.isCorrect?a.jsx(Nr,{className:"w-5 h-5 mr-2"}):a.jsx(Sr,{className:"w-5 h-5 mr-2"}),f.message]})]})};function l6(t){const e=[...t];for(let n=e.length-1;n>0;n--){const r=Math.floor(Math.random()*(n+1));[e[n],e[r]]=[e[r],e[n]]}return e}const iv=({question:t,itemNumber:e,onAnswer:n})=>{const[r,l]=M.useState([]),[o,u]=M.useState([]),[f,g]=M.useState(0),[h,x]=M.useState(0),[b,N]=M.useState(!1),[w,C]=M.useState(0);M.useEffect(()=>{let A=0;const P=(t.pairs||[]).flatMap((D,$)=>[{id:A++,content:D.question,pairId:$,isFlipped:!1,isMatched:!1},{id:A++,content:D.answer,pairId:$,isFlipped:!1,isMatched:!1}]);l(l6(P)),u([]),g(0),x(0),N(!1),C(Date.now())},[t]);const E=A=>{if(r[A].isFlipped||r[A].isMatched||o.length===2||b)return;const P=r.map(($,Z)=>Z===A?{...$,isFlipped:!0}:$),D=[...o,A];if(l(P),u(D),D.length===2&&x($=>$+1),D.length===2){const[$,Z]=D;P[$].pairId===P[Z].pairId?setTimeout(()=>{l(L=>L.map((R,B)=>B===$||B===Z?{...R,isMatched:!0}:R)),u([]),g(L=>L+1)},600):setTimeout(()=>{l(L=>L.map((R,B)=>B===$||B===Z?{...R,isFlipped:!1}:R)),u([])},900)}},_=f===(t.pairs||[]).length;return M.useEffect(()=>{if(_&&!b&&n){N(!0);const A=w>0?Date.now()-w:void 0;n(h,!0,A)}},[_,b,h,n,w]),a.jsxs("div",{className:"mb-4 p-4 border rounded bg-slate-50",children:[a.jsxs("div",{className:"font-semibold mb-2",children:[e,". "]}),t.instructions&&a.jsx("div",{className:"mb-2 text-sky-700 text-sm",children:t.instructions}),a.jsxs("div",{className:"mb-3 text-sm text-gray-600 flex justify-between items-center",children:[a.jsxs("span",{children:[": ",f,"/",(t.pairs||[]).length]}),a.jsxs("span",{children:[": ",h]}),_&&a.jsx("span",{className:"text-green-600 font-medium",children:" "})]}),a.jsx("div",{className:"grid grid-cols-4 gap-3 max-w-xl mx-auto mb-2",children:r.map((A,P)=>a.jsxs("button",{className:`relative h-20 w-full rounded shadow border transition-transform duration-200 ${A.isMatched?"bg-green-200 border-green-400":"bg-white border-slate-300"} ${A.isFlipped||A.isMatched?"":"hover:scale-105"}`,onClick:()=>E(P),disabled:A.isFlipped||A.isMatched||o.length===2,style:{perspective:"600px"},children:[a.jsx("div",{className:`absolute inset-0 flex items-center justify-center text-base font-medium transition-all duration-300 ${A.isFlipped||A.isMatched?"opacity-100 rotate-y-0":"opacity-0 rotate-y-180"}`,style:{backfaceVisibility:"hidden",transform:A.isFlipped||A.isMatched?"rotateY(0deg)":"rotateY(180deg)"},children:A.content}),a.jsx("div",{className:`absolute inset-0 flex items-center justify-center text-2xl font-bold text-sky-600 transition-all duration-300 ${A.isFlipped||A.isMatched?"opacity-0 rotate-y-180":"opacity-100 rotate-y-0"}`,style:{backfaceVisibility:"hidden",transform:A.isFlipped||A.isMatched?"rotateY(180deg)":"rotateY(0deg)"},children:"?"})]},A.id))}),_&&a.jsx("div",{className:"text-green-600 font-semibold mt-2",children:""})]})},ic="https://api.jsonbin.io/v3/b",ta="$2a$10$0PieG5Wm.V.6svtN4PbaTuVxU4LY0nL2Vaz4N3g2aYlb0cL1NG4Qa";async function Yo(t){const n=await(await fetch(ic,{method:"POST",headers:{"Content-Type":"application/json","X-Master-Key":ta,"X-Bin-Private":"false"},body:JSON.stringify(t)})).json();if(!n||!n.metadata||!n.metadata.id)throw new Error(" jsonbin id");return n.metadata.id}async function rc(t){const n=await(await fetch(`https://api.jsonbin.io/v3/b/${t}/latest`,{})).json();if(!n||!n.record)throw new Error("");return n.record}async function a6(t){const e={type:"quiz",quiz:t.quiz,topic:t.topic,apiKey:t.apiKey,metadata:t.metadata,createdAt:new Date().toISOString(),supportsDiagnostic:!!t.apiKey},r=await(await fetch(ic,{method:"POST",headers:{"Content-Type":"application/json","X-Master-Key":ta,"X-Bin-Private":"false"},body:JSON.stringify(e)})).json();if(!r||!r.metadata||!r.metadata.id)throw new Error("");return r.metadata.id}async function o6(t){const n=await(await fetch(`https://api.jsonbin.io/v3/b/${t}/latest`,{})).json();if(!n||!n.record)throw new Error("");const r=n.record;if(r.type!=="quiz")throw new Error("");return{quiz:r.quiz,topic:r.topic,apiKey:r.apiKey,supportsDiagnostic:r.supportsDiagnostic||!1,metadata:r.metadata}}async function c6(t){const e={type:"writing",writingPractice:t.writingPractice,topic:t.topic,metadata:t.metadata,createdAt:new Date().toISOString()},r=await(await fetch(ic,{method:"POST",headers:{"Content-Type":"application/json","X-Master-Key":ta,"X-Bin-Private":"false"},body:JSON.stringify(e)})).json();if(!r||!r.metadata||!r.metadata.id)throw new Error("");return r.metadata.id}async function u6(t){const n=await(await fetch(`https://api.jsonbin.io/v3/b/${t}/latest`,{})).json();if(!n||!n.record)throw new Error("");const r=n.record;if(r.type!=="writing")throw new Error("");return{writingPractice:r.writingPractice,topic:r.topic,metadata:r.metadata}}async function d6(t){const e={type:"student-results",...t,createdAt:new Date().toISOString()},r=await(await fetch(ic,{method:"POST",headers:{"Content-Type":"application/json","X-Master-Key":ta,"X-Bin-Private":"false"},body:JSON.stringify(e)})).json();if(!r||!r.metadata||!r.metadata.id)throw new Error("");return r.metadata.id}async function rv(t){const n=await(await fetch(`https://api.jsonbin.io/v3/b/${t}/latest`,{})).json();if(!n||!n.record)throw new Error("");const r=n.record;if(r.type!=="student-results")throw new Error("");return{studentName:r.studentName,topic:r.topic,difficulty:r.difficulty,responses:r.responses,overallScore:r.overallScore,completedAt:r.completedAt,quizBinId:r.quizBinId,quizContent:r.quizContent,metadata:r.metadata,diagnosticReport:r.diagnosticReport}}async function f6(t,e){const l={type:"student-results",...{...await rv(t),diagnosticReport:{...e,generatedAt:new Date().toISOString(),resultsBinId:t},updatedAt:new Date().toISOString()}},u=await(await fetch(`https://api.jsonbin.io/v3/b/${t}`,{method:"PUT",headers:{"Content-Type":"application/json","X-Master-Key":ta},body:JSON.stringify(l)})).json();if(!u||!u.metadata)throw new Error("")}const m6=({feedback:t,onContinueLearning:e,onRetakeQuiz:n,showActions:r=!0})=>{const l=h=>h>=80?"text-green-600 bg-green-100":h>=60?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100",o=h=>h>=80?"border-green-200":h>=60?"border-yellow-200":"border-red-200",u=h=>{switch(h){case"advanced":return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8 text-green-600",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 0 0 7.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25s4.544.16 6.75.471v1.515M7.73 9.728a6.726 6.726 0 0 0 2.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.228V2.721A48.133 48.133 0 0 0 12 2.25c-2.291 0-4.544.16-6.75.471v1.515M7.73 9.728l3.75.814.97 4.286c.078.348.14.699.185 1.053m8.272-6.842-3.75.814-.97 4.286a24.216 24.216 0 0 1-.185 1.053M12 19.5a2.25 2.25 0 0 1-2.25-2.25V14.25m4.5 5.25a2.25 2.25 0 0 1 2.25-2.25V14.25"})});case"intermediate":return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8 text-yellow-600",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"})});default:return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8 text-blue-600",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443a55.381 55.381 0 0 1 5.25 2.882V15"})})}},f=h=>{switch(h){case"advanced":return"";case"intermediate":return"";default:return""}},g=h=>{switch(h){case"advanced":return"";case"intermediate":return"";default:return""}};return a.jsxs("div",{className:"max-w-4xl mx-auto p-6 bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 rounded-xl shadow-lg",children:[a.jsxs("div",{className:`text-center mb-8 p-6 bg-white rounded-lg shadow-md border-2 ${o(t.overallScore)}`,children:[a.jsxs("div",{className:"flex items-center justify-center mb-4",children:[u(t.overallLevel),a.jsx("div",{className:"ml-4",children:a.jsxs("div",{className:`text-4xl font-bold px-4 py-2 rounded-full ${l(t.overallScore)}`,children:[t.overallScore,""]})})]}),a.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:f(t.overallLevel)}),a.jsx("p",{className:"text-lg text-gray-600",children:g(t.overallLevel)})]}),a.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6 border-l-4 border-blue-500",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-blue-500 mt-1 flex-shrink-0",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"})}),a.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:t.encouragementMessage})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsxs("h3",{className:"text-xl font-bold text-green-700 mb-4 flex items-center gap-2",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.745 3.745 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"})})," "]}),t.keyStrengths.length>0?a.jsx("ul",{className:"space-y-3",children:t.keyStrengths.map((h,x)=>a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-green-500 mt-1.5",children:""}),a.jsx("span",{className:"text-gray-700",children:h})]},x))}):a.jsx("p",{className:"text-gray-500 italic",children:""})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsxs("h3",{className:"text-xl font-bold text-orange-700 mb-4 flex items-center gap-2",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"})})," "]}),t.improvementAreas.length>0?a.jsx("ul",{className:"space-y-3",children:t.improvementAreas.map((h,x)=>a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-orange-500 mt-1.5",children:""}),a.jsx("span",{className:"text-gray-700",children:h})]},x))}):a.jsx("p",{className:"text-gray-500 italic",children:""})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[a.jsxs("h3",{className:"text-xl font-bold text-blue-700 mb-4 flex items-center gap-2",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"})})," "]}),t.nextSteps.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.nextSteps.map((h,x)=>a.jsxs("div",{className:"flex items-start gap-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[a.jsx("span",{className:"bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold flex-shrink-0 mt-0.5",children:x+1}),a.jsx("span",{className:"text-gray-700",children:h})]},x))}):a.jsx("p",{className:"text-gray-500 italic",children:""})]}),a.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg shadow-md p-6 mb-6 border border-purple-200",children:[a.jsxs("h3",{className:"text-xl font-bold text-purple-700 mb-4 flex items-center gap-2",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"})})," "]}),t.studyTips.length>0?a.jsx("ul",{className:"space-y-2",children:t.studyTips.map((h,x)=>a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-purple-500 mt-1",children:""}),a.jsx("span",{className:"text-gray-700",children:h})]},x))}):a.jsx("p",{className:"text-gray-500 italic",children:""})]}),a.jsxs("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 rounded-lg shadow-lg p-6 text-center text-white mb-6",children:[a.jsx("div",{className:"flex items-center justify-center mb-3",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"})})}),a.jsxs("p",{className:"text-xl font-medium italic",children:['"',t.motivationalQuote,'"']})]}),r&&a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsxs("button",{onClick:e,className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all transform hover:scale-105 shadow-md flex items-center justify-center gap-2 font-medium",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12l-7.5 7.5M3 12h16.5"})}),""]}),a.jsxs("button",{onClick:n,className:"px-6 py-3 bg-gradient-to-r from-gray-600 to-gray-700 text-white rounded-lg hover:from-gray-700 hover:to-gray-800 transition-all transform hover:scale-105 shadow-md flex items-center justify-center gap-2 font-medium",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"})}),""]})]})]})},h6=({report:t,onExportReport:e,onSaveReport:n,showExportOptions:r=!0})=>{const[l,o]=M.useState("overview"),u=w=>w>=80?"text-green-600 bg-green-50 border-green-200":w>=60?"text-yellow-600 bg-yellow-50 border-yellow-200":"text-red-600 bg-red-50 border-red-200",f=w=>{switch(w){case"high":return"text-red-600 bg-red-100 border-red-200";case"medium":return"text-yellow-600 bg-yellow-100 border-yellow-200";case"low":return"text-blue-600 bg-blue-100 border-blue-200"}},g=w=>{switch(w){case"outstanding":return"text-purple-600 bg-purple-100 border-purple-200";case"excellent":return"text-green-600 bg-green-100 border-green-200";case"good":return"text-blue-600 bg-blue-100 border-blue-200"}},h=w=>{switch(w){case"high":return"text-red-600 bg-red-50 border-l-red-500";case"medium":return"text-yellow-600 bg-yellow-50 border-l-yellow-500";case"low":return"text-green-600 bg-green-50 border-l-green-500"}},x=w=>({trueFalse:"",multipleChoice:"",fillInTheBlanks:"",sentenceScramble:"",memoryCardGame:""})[w]||w,b=w=>new Date(w).toLocaleDateString("zh-TW",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),N=[{key:"overview",label:"",icon:""},{key:"performance",label:"",icon:""},{key:"analysis",label:"",icon:""},{key:"recommendations",label:"",icon:""},{key:"teaching",label:"",icon:""}];return a.jsxs("div",{className:"max-w-7xl mx-auto p-6 bg-gray-50 min-h-screen",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:""}),a.jsxs("p",{className:"text-gray-600",children:["",a.jsx("span",{className:"font-semibold",children:t.topic})]}),a.jsxs("p",{className:"text-gray-600",children:["",b(t.assessmentDate)]}),t.studentId&&a.jsxs("p",{className:"text-gray-600",children:["ID",a.jsx("span",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded",children:t.studentId})]})]}),r&&a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:n,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"})}),""]}),a.jsxs("button",{onClick:e,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})}),""]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[a.jsx("h3",{className:"text-sm font-semibold text-blue-700 mb-1",children:""}),a.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[t.overallPerformance.totalScore,""]})]}),a.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 border border-purple-200",children:[a.jsx("h3",{className:"text-sm font-semibold text-purple-700 mb-1",children:""}),a.jsx("p",{className:"text-lg font-semibold text-purple-600 capitalize",children:t.overallPerformance.level})]}),a.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[a.jsx("h3",{className:"text-sm font-semibold text-green-700 mb-1",children:""}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:t.learningAnalysis.strengths.length})]}),a.jsxs("div",{className:"bg-orange-50 rounded-lg p-4 border border-orange-200",children:[a.jsx("h3",{className:"text-sm font-semibold text-orange-700 mb-1",children:""}),a.jsx("p",{className:"text-2xl font-bold text-orange-600",children:t.learningAnalysis.weaknesses.length})]})]})]}),a.jsx("div",{className:"bg-white rounded-lg shadow-md mb-6",children:a.jsx("div",{className:"flex overflow-x-auto",children:N.map(w=>a.jsxs("button",{onClick:()=>o(w.key),className:`flex-shrink-0 px-6 py-4 font-medium text-sm border-b-2 transition-colors ${l===w.key?"border-blue-500 text-blue-600 bg-blue-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx("span",{className:"mr-2",children:w.icon}),w.label]},w.key))})}),a.jsxs("div",{className:"space-y-6",children:[l==="overview"&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:""}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:""}),a.jsxs("span",{className:"font-semibold",children:[t.overallPerformance.totalScore,"/100"]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:""}),a.jsx("span",{className:"font-semibold capitalize",children:t.overallPerformance.level})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:""}),a.jsxs("span",{className:"font-semibold",children:[t.overallPerformance.timeSpent," "]})]}),t.overallPerformance.percentile&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-600",children:""}),a.jsxs("span",{className:"font-semibold",children:[" ",100-t.overallPerformance.percentile,"%"]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:""}),a.jsxs("div",{className:"space-y-3",children:[t.learningAnalysis.learningStyle&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:""}),a.jsx("span",{className:"ml-2 font-semibold",children:t.learningAnalysis.learningStyle})]}),t.learningAnalysis.cognitivePattern&&a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:""}),a.jsx("span",{className:"ml-2 font-semibold",children:t.learningAnalysis.cognitivePattern})]}),a.jsx("div",{className:"pt-2",children:a.jsx("p",{className:"text-sm text-gray-500",children:""})})]})]})]}),l==="performance"&&a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-6",children:""}),a.jsx("div",{className:"space-y-6",children:t.performanceByType.map(w=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:x(w.questionType)}),a.jsxs("div",{className:`px-3 py-1 rounded-full text-sm font-medium border ${u(w.accuracy)}`,children:[w.accuracy,"% "]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm text-gray-600",children:""}),a.jsx("p",{className:"text-2xl font-bold text-gray-800",children:w.totalQuestions})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm text-gray-600",children:""}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:w.correctCount})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-sm text-gray-600",children:""}),a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:w.averageTime?`${Math.round(w.averageTime/1e3)}`:"N/A"})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg border border-green-200",children:[a.jsx("p",{className:"text-xs text-green-700 font-medium",children:""}),a.jsxs("p",{className:"text-lg font-bold text-green-600",children:[w.difficultyBreakdown.easy.accuracy,"%"]}),a.jsxs("p",{className:"text-xs text-gray-600",children:[w.difficultyBreakdown.easy.correct,"/",w.difficultyBreakdown.easy.total]})]}),a.jsxs("div",{className:"text-center p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:[a.jsx("p",{className:"text-xs text-yellow-700 font-medium",children:""}),a.jsxs("p",{className:"text-lg font-bold text-yellow-600",children:[w.difficultyBreakdown.normal.accuracy,"%"]}),a.jsxs("p",{className:"text-xs text-gray-600",children:[w.difficultyBreakdown.normal.correct,"/",w.difficultyBreakdown.normal.total]})]}),a.jsxs("div",{className:"text-center p-3 bg-red-50 rounded-lg border border-red-200",children:[a.jsx("p",{className:"text-xs text-red-700 font-medium",children:""}),a.jsxs("p",{className:"text-lg font-bold text-red-600",children:[w.difficultyBreakdown.hard.accuracy,"%"]}),a.jsxs("p",{className:"text-xs text-gray-600",children:[w.difficultyBreakdown.hard.correct,"/",w.difficultyBreakdown.hard.total]})]})]}),w.commonErrors.length>0&&a.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[a.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:""}),a.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:w.commonErrors.map((C,E)=>a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-red-500 mt-1",children:""}),C]},E))})]})]},w.questionType))})]}),l==="analysis"&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsxs("h3",{className:"text-xl font-bold text-green-700 mb-4 flex items-center gap-2",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 0 0 7.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25s4.544.16 6.75.471v1.515M7.73 9.728a6.726 6.726 0 0 0 2.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.228V2.721A48.133 48.133 0 0 0 12 2.25c-2.291 0-4.544.16-6.75.471v1.515M7.73 9.728l3.75.814.97 4.286c.078.348.14.699.185 1.053m8.272-6.842-3.75.814-.97 4.286a24.216 24.216 0 0 1-.185 1.053M12 19.5a2.25 2.25 0 0 1-2.25-2.25V14.25m4.5 5.25a2.25 2.25 0 0 1 2.25-2.25V14.25"})}),""]}),a.jsx("div",{className:"space-y-4",children:t.learningAnalysis.strengths.map((w,C)=>a.jsxs("div",{className:`p-4 rounded-lg border ${g(w.level)}`,children:[a.jsx("h4",{className:"font-semibold mb-2",children:w.area}),a.jsx("p",{className:"text-sm mb-3",children:w.description}),w.examples.length>0&&a.jsxs("div",{className:"mb-3",children:[a.jsx("p",{className:"text-xs font-medium text-gray-700 mb-1",children:""}),a.jsx("ul",{className:"text-xs space-y-1",children:w.examples.map((E,_)=>a.jsxs("li",{className:"flex items-start gap-1",children:[a.jsx("span",{className:"text-green-500 mt-1",children:""}),E]},_))})]}),w.leverageOpportunities.length>0&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-gray-700 mb-1",children:""}),a.jsx("ul",{className:"text-xs space-y-1",children:w.leverageOpportunities.map((E,_)=>a.jsxs("li",{className:"flex items-start gap-1",children:[a.jsx("span",{className:"text-blue-500 mt-1",children:""}),E]},_))})]})]},C))})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsxs("h3",{className:"text-xl font-bold text-red-700 mb-4 flex items-center gap-2",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})}),""]}),a.jsx("div",{className:"space-y-4",children:t.learningAnalysis.weaknesses.map((w,C)=>a.jsxs("div",{className:`p-4 rounded-lg border ${f(w.severity)}`,children:[a.jsx("h4",{className:"font-semibold mb-2",children:w.area}),a.jsx("p",{className:"text-sm mb-3",children:w.description}),w.affectedTopics.length>0&&a.jsxs("div",{className:"mb-3",children:[a.jsx("p",{className:"text-xs font-medium text-gray-700 mb-1",children:""}),a.jsx("div",{className:"flex flex-wrap gap-1",children:w.affectedTopics.map((E,_)=>a.jsx("span",{className:"text-xs px-2 py-1 bg-gray-200 rounded-full",children:E},_))})]}),w.recommendedActions.length>0&&a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-gray-700 mb-1",children:""}),a.jsx("ul",{className:"text-xs space-y-1",children:w.recommendedActions.map((E,_)=>a.jsxs("li",{className:"flex items-start gap-1",children:[a.jsx("span",{className:"text-orange-500 mt-1",children:""}),E]},_))})]})]},C))})]})]}),l==="recommendations"&&a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsx("h3",{className:"text-xl font-bold text-blue-700 mb-6",children:""}),a.jsx("div",{className:"space-y-6",children:t.personalizedRecommendations.map((w,C)=>a.jsxs("div",{className:`p-6 rounded-lg border-l-4 ${h(w.priority)}`,children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-1",children:w.title}),a.jsxs("div",{className:"flex gap-2 text-xs",children:[a.jsx("span",{className:`px-2 py-1 rounded-full border ${w.category==="immediate"?"text-red-600 bg-red-100 border-red-200":w.category==="short-term"?"text-yellow-600 bg-yellow-100 border-yellow-200":"text-blue-600 bg-blue-100 border-blue-200"}`,children:w.category==="immediate"?"":w.category==="short-term"?"":""}),a.jsx("span",{className:`px-2 py-1 rounded-full border ${w.priority==="high"?"text-red-600 bg-red-100 border-red-200":w.priority==="medium"?"text-yellow-600 bg-yellow-100 border-yellow-200":"text-green-600 bg-green-100 border-green-200"}`,children:w.priority==="high"?"":w.priority==="medium"?"":""})]})]}),a.jsx("span",{className:"text-sm text-gray-600 bg-gray-100 px-3 py-1 rounded-full",children:w.estimatedTime})]}),a.jsx("p",{className:"text-gray-700 mb-4",children:w.description}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:""}),a.jsx("ol",{className:"text-sm space-y-1",children:w.actionSteps.map((E,_)=>a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"bg-blue-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold flex-shrink-0 mt-0.5",children:_+1}),E]},_))})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:""}),a.jsx("p",{className:"text-sm text-gray-600 mb-3",children:w.expectedOutcome}),w.resources&&w.resources.length>0&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:""}),a.jsx("ul",{className:"text-sm space-y-1",children:w.resources.map((E,_)=>a.jsxs("li",{className:"flex items-start gap-1",children:[a.jsx("span",{className:"text-green-500 mt-1",children:""}),E]},_))})]})]})]})]},C))})]}),l==="teaching"&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsxs("h3",{className:"text-xl font-bold text-red-700 mb-4 flex items-center gap-2",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})}),""]}),a.jsx("ul",{className:"space-y-3",children:t.teachingRecommendations.immediateInterventions.map((w,C)=>a.jsxs("li",{className:"flex items-start gap-3 p-3 bg-red-50 rounded-lg border border-red-200",children:[a.jsx("span",{className:"bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold flex-shrink-0 mt-0.5",children:"!"}),a.jsx("span",{className:"text-gray-700",children:w})]},C))})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsxs("h3",{className:"text-xl font-bold text-blue-700 mb-4 flex items-center gap-2",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443a55.381 55.381 0 0 1 5.25 2.882V15"})}),""]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.teachingRecommendations.instructionalStrategies.map((w,C)=>a.jsx("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold flex-shrink-0 mt-0.5",children:C+1}),a.jsx("span",{className:"text-gray-700",children:w})]})},C))})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsxs("h3",{className:"text-xl font-bold text-purple-700 mb-4 flex items-center gap-2",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"})}),""]}),a.jsx("ul",{className:"space-y-3",children:t.teachingRecommendations.differentiation.map((w,C)=>a.jsxs("li",{className:"flex items-start gap-3 p-3 bg-purple-50 rounded-lg border border-purple-200",children:[a.jsx("span",{className:"bg-purple-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold flex-shrink-0 mt-0.5",children:""}),a.jsx("span",{className:"text-gray-700",children:w})]},C))})]}),t.teachingRecommendations.parentGuidance&&t.teachingRecommendations.parentGuidance.length>0&&a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsxs("h3",{className:"text-xl font-bold text-green-700 mb-4 flex items-center gap-2",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})}),""]}),a.jsx("ul",{className:"space-y-3",children:t.teachingRecommendations.parentGuidance.map((w,C)=>a.jsxs("li",{className:"flex items-start gap-3 p-3 bg-green-50 rounded-lg border border-green-200",children:[a.jsx("span",{className:"bg-green-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold flex-shrink-0 mt-0.5",children:""}),a.jsx("span",{className:"text-gray-700",children:w})]},C))})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[a.jsxs("h3",{className:"text-xl font-bold text-indigo-700 mb-4 flex items-center gap-2",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"})}),""]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:""}),a.jsx("ul",{className:"text-sm space-y-1",children:t.progressTracking.keyMetrics.map((w,C)=>a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-2 h-2 bg-indigo-500 rounded-full"}),w]},C))})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:""}),a.jsx("ul",{className:"text-sm space-y-1",children:t.progressTracking.checkpoints.map((w,C)=>a.jsxs("li",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),w]},C))})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:""}),a.jsx("p",{className:"text-sm text-gray-600",children:t.progressTracking.reassessmentSuggestion})]})]})]})]})]})]})},nm=({topic:t,quizData:e,studentId:n,apiKey:r,mode:l="both",onClose:o,onRetakeQuiz:u,onContinueLearning:f,initialResponses:g=[],existingReport:h,resultsBinId:x,onReportSaved:b})=>{const[N,w]=M.useState(null),[C,E]=M.useState(!1),[_,A]=M.useState(null),[P,D]=M.useState(l==="teacher"?"teacher":"student"),[$,Z]=M.useState(null),L=M.useCallback(async z=>{if(!r){A(" API Key ");return}E(!0),A(null);try{const G={...await Xk(z,r,{includeDetailedAnalysis:!0,includeComparativeData:!1,includeVisualCharts:!1,language:"zh-TW",reportFormat:"standard"}),generatedAt:new Date().toISOString(),resultsBinId:x};if(w(G),x)try{await f6(x,G),console.log(""),b==null||b(G)}catch(O){console.warn(":",O)}}catch(X){console.error(":",X),A(X instanceof Error?X.message:"")}finally{E(!1)}},[r,x,b]);M.useEffect(()=>{if(h){w(h);const z=Ho(t,n);z.responses=g,Z(Mo(z))}else if(t&&g.length>0){const z=Ho(t,n);z.responses=g,Z(Mo(z)),L(z)}},[t,n,g,h,L]),M.useCallback(z=>{if(!$)return;const X={...$,responses:[...$.responses,z]};Z(X)},[$]),M.useCallback(()=>{if(!$)return;const z=Mo($);Z(z),L(z)},[$,L]);const R=M.useCallback(()=>{if(!N)return;const z={studentFeedback:N.studentFeedback,teacherReport:N.teacherReport,exportDate:new Date().toISOString()},X=JSON.stringify(z,null,2),Q="data:application/json;charset=utf-8,"+encodeURIComponent(X),G=`learning_diagnostic_${t}_${new Date().toISOString().split("T")[0]}.json`,O=document.createElement("a");O.setAttribute("href",Q),O.setAttribute("download",G),O.click()},[N,t]),B=M.useCallback(()=>{if(!N)return;const z=JSON.parse(localStorage.getItem("learningDiagnosticReports")||"[]");z.push({id:`report_${Date.now()}`,topic:t,studentId:n,createdAt:new Date().toISOString(),result:N}),localStorage.setItem("learningDiagnosticReports",JSON.stringify(z)),alert("")},[N,t,n]);return C?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Zn,{}),a.jsxs("div",{className:"mt-6 space-y-2",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:""}),a.jsx("p",{className:"text-gray-600",children:"AI ..."}),a.jsx("div",{className:"flex items-center justify-center space-x-1 mt-4",children:a.jsxs("div",{className:"flex space-x-1",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce"}),a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})]})}):_?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-pink-100 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-16 h-16 text-red-500 mx-auto mb-4",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})}),a.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:""}),a.jsx("p",{className:"text-gray-600 mb-6",children:_}),a.jsxs("div",{className:"flex gap-3 justify-center",children:[a.jsx("button",{onClick:()=>$&&L($),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:""}),o&&a.jsx("button",{onClick:o,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:""})]})]})}):N?a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white shadow-sm border-b",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center h-16",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:""}),l==="both"&&a.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[a.jsx("button",{onClick:()=>D("student"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${P==="student"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:""}),a.jsx("button",{onClick:()=>D("teacher"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${P==="teacher"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:""})]})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[P==="teacher"&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:B,className:"px-3 py-2 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center gap-2",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"})}),""]}),a.jsxs("button",{onClick:R,className:"px-3 py-2 text-sm bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors flex items-center gap-2",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})}),""]})]}),o&&a.jsx("button",{onClick:o,className:"px-3 py-2 text-sm bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",children:""})]})]})})}),a.jsxs("div",{className:"py-8",children:[(l==="student"||l==="both"&&P==="student")&&a.jsx(m6,{feedback:N.studentFeedback,onContinueLearning:f,onRetakeQuiz:u,showActions:l!=="both"}),(l==="teacher"||l==="both"&&P==="teacher")&&a.jsx(h6,{report:N.teacherReport,onExportReport:R,onSaveReport:B,showExportOptions:l!=="both"})]}),l==="both"&&a.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t shadow-lg",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:a.jsxs("div",{className:"flex justify-center space-x-4",children:[a.jsxs("button",{onClick:u,className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors flex items-center gap-2 font-medium",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"})}),""]}),a.jsxs("button",{onClick:f,className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all flex items-center gap-2 font-medium",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12l-7.5 7.5M3 12h16.5"})}),""]})]})})})]}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-16 h-16 text-gray-400 mx-auto mb-4",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})}),a.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:""}),a.jsx("p",{className:"text-gray-600 mb-6",children:""}),o&&a.jsx("button",{onClick:o,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:""})]})})},p6=({quizzes:t,topic:e,studentId:n,apiKey:r,onDiagnosticComplete:l,enableDiagnostic:o=!0})=>{const[u,f]=M.useState(_t.Easy),[g,h]=M.useState(null),[x,b]=M.useState([]),[N,w]=M.useState(!1),[C,E]=M.useState(new Set),_=M.useRef(null);M.useEffect(()=>{if(o&&e&&!g){const G=Ho(e,n);h(G),_.current=Date.now()}},[e,n,o,g]);const A=()=>{if(!t||!B)return 0;let G=0;return Object.values(B).forEach(O=>{Array.isArray(O)&&(G+=O.length)}),G},P=()=>{const G=u.toLowerCase();return x.filter(O=>O.difficulty===G).length},D=()=>{const G=u.toLowerCase();return x.filter(O=>O.difficulty===G)},$=M.useCallback((G,O,V,ne,I,Y)=>{if(!o||!g)return;const ue=_.current?Date.now()-_.current:void 0,H={questionId:G,questionType:O,difficulty:V,userAnswer:ne,correctAnswer:I,isCorrect:Y,responseTime:ue,attempts:1};b(S=>S.find(re=>re.questionId===G)?S.map(re=>re.questionId===G?{...H,attempts:(re.attempts||0)+1}:re):[...S,H]),E(S=>new Set([...S,G])),_.current=Date.now()},[o,g]),Z=M.useCallback(()=>{if(!g||!o)return;const G=Mo(g);G.responses=x,h(G),w(!0),l&&l({session:G,responses:x})},[g,x,o,l]),L=M.useCallback(()=>{w(!1);const G=u.toLowerCase();if(b(O=>O.filter(V=>V.difficulty!==G)),E(O=>{const V=new Set(O),ne=u.toLowerCase();return Array.from(O).forEach(I=>{I.startsWith(`${ne}-`)&&V.delete(I)}),V}),o){const O=Ho(e,n);h(O),_.current=Date.now()}},[o,e,n,u]),R=M.useCallback(()=>{w(!1)},[]);if(N&&o){const G=u===_t.Easy?"":u===_t.Normal?"":"";return a.jsx(nm,{topic:`${e} (${G})`,quizData:t,studentId:n,apiKey:r,mode:"both",onRetakeQuiz:L,onContinueLearning:R,onClose:()=>w(!1),initialResponses:D()})}if(!t)return a.jsx(jn,{title:"",icon:a.jsx(Fl,{}),children:""});const B=t[u],z=[{key:_t.Easy,label:""},{key:_t.Normal,label:""},{key:_t.Hard,label:""}],X={trueFalse:"",multipleChoice:"",fillInTheBlanks:"",sentenceScramble:"",memoryCardGame:""},Q=()=>{const G=A(),O=P();return G>0?O/G*100:0};return a.jsxs(jn,{title:"",icon:a.jsx(Fl,{className:"w-7 h-7"}),children:[o&&a.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:[a.jsxs("div",{className:"flex justify-between items-center mb-3",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-800",children:""}),a.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[a.jsxs("span",{className:"text-gray-600",children:[": ",P()," / ",A()]}),a.jsxs("button",{onClick:Z,disabled:P()===0,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 text-sm",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.745 3.745 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"})}),""]})]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:a.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-green-500 h-3 rounded-full transition-all duration-300 ease-out",style:{width:`${Q()}%`}})}),a.jsx("p",{className:"text-xs text-gray-600 mt-2",children:" "})]}),a.jsx("div",{className:"mb-6",children:a.jsx("div",{className:"flex flex-wrap gap-2 border-b border-slate-300 pb-3 mb-4",children:z.map(({key:G,label:O})=>a.jsx("button",{onClick:()=>f(G),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors
                ${u===G?"bg-sky-600 text-white shadow-md":"bg-slate-200 text-slate-700 hover:bg-slate-300"}`,children:O},G))})}),B?Object.keys(X).map(G=>{if(!B.hasOwnProperty(G))return null;const O=B[G];return!O||O.length===0?null:a.jsxs("div",{className:"mb-8",children:[a.jsxs("h4",{className:"text-xl font-semibold text-slate-700 mb-3 border-b-2 border-sky-200 pb-1 flex items-center justify-between",children:[a.jsx("span",{children:X[G]}),o&&a.jsxs("span",{className:"text-sm text-gray-500 font-normal",children:[": ",x.filter(V=>V.questionType===G&&V.difficulty===u).length," / ",O.length]})]}),G==="trueFalse"&&O.map((V,ne)=>{const I=`${u}-tf-${ne}`;return a.jsx("div",{className:C.has(I)?"opacity-75":"",children:a.jsx(X1,{question:V,itemNumber:ne+1,onAnswer:o?(Y,ue)=>{$(I,"trueFalse",u,Y,V.isTrue,ue)}:void 0})},I)}),G==="multipleChoice"&&O.map((V,ne)=>{const I=`${u}-mc-${ne}`;return a.jsx("div",{className:C.has(I)?"opacity-75":"",children:a.jsx(ev,{question:V,itemNumber:ne+1,onAnswer:o?(Y,ue)=>{$(I,"multipleChoice",u,Y,V.correctAnswerIndex,ue)}:void 0})},I)}),G==="fillInTheBlanks"&&O.map((V,ne)=>{const I=`${u}-fb-${ne}`;return a.jsx("div",{className:C.has(I)?"opacity-75":"",children:a.jsx(tv,{question:V,itemNumber:ne+1,onAnswer:o?(Y,ue)=>{$(I,"fillInTheBlanks",u,Y,V.correctAnswer,ue)}:void 0})},I)}),G==="sentenceScramble"&&O.map((V,ne)=>{const I=`${u}-ss-${ne}`;return a.jsx("div",{className:C.has(I)?"opacity-75":"",children:a.jsx(nv,{question:V,itemNumber:ne+1,onAnswer:o?(Y,ue)=>{$(I,"sentenceScramble",u,Y,V.originalSentence,ue)}:void 0})},I)}),G==="memoryCardGame"&&O.map((V,ne)=>{const I=`${u}-mcg-${ne}`;return a.jsx("div",{className:C.has(I)?"opacity-75":"",children:a.jsx(iv,{question:V,itemNumber:ne+1,onAnswer:o?(Y,ue)=>{$(I,"memoryCardGame",u,Y,V.pairs,ue)}:void 0})},I)})]},`${u}-${G}`)}):a.jsx("p",{children:""}),o&&P()>0&&a.jsx("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-yellow-600 mt-0.5 flex-shrink-0",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-yellow-800 font-medium text-sm",children:""}),a.jsxs("p",{className:"text-yellow-700 text-sm mt-1",children:[" ",P()," AI "]})]})]})})]})},g6=({dialogue:t})=>{const[e,n]=M.useState(null),[r,l]=M.useState(null),[o,u]=M.useState(!1),[f,g]=M.useState(""),[h,x]=M.useState(null),[b,N]=M.useState(!1),[w,C]=M.useState({tts:!0,sr:!0}),E=M.useRef(null),_=M.useRef(null);M.useEffect(()=>{const L="speechSynthesis"in window,R="SpeechRecognition"in window||"webkitSpeechRecognition"in window;if(C({tts:L,sr:R}),R){const B=window.SpeechRecognition||window.webkitSpeechRecognition;E.current=new B,E.current.continuous=!1,E.current.interimResults=!1,E.current.lang="en-US",E.current.onresult=z=>{const X=z.results[0][0].transcript;g(X),Z(X)},E.current.onerror=z=>{console.error("Speech recognition error:",z.error),x({type:"error",message:`: ${z.error==="no-speech"?"":z.error==="audio-capture"?"":z.error==="not-allowed"?"":""}`}),u(!1)},E.current.onend=()=>{u(!1)}}return()=>{window.speechSynthesis&&window.speechSynthesis.speaking&&window.speechSynthesis.cancel()}},[]);const A=(L,R)=>{if(!w.tts||!L)return;window.speechSynthesis.speaking&&window.speechSynthesis.cancel();const B=new SpeechSynthesisUtterance(L);B.lang="en-US";const z=window.speechSynthesis.getVoices(),X=z.find(Q=>Q.lang.startsWith("en")&&Q.name.includes("Google")&&Q.localService)||z.find(Q=>Q.lang.startsWith("en")&&Q.localService)||z.find(Q=>Q.lang.startsWith("en"));X&&(B.voice=X),B.onstart=()=>{N(!0),n(R)},B.onend=()=>{N(!1),n(null)},B.onerror=Q=>{console.error("Speech synthesis error:",Q),N(!1),n(null),x({type:"error",message:""})},_.current=B,window.speechSynthesis.speak(B)},P=L=>{if(!(!w.sr||!E.current||o)){l(L),g(""),x(null),u(!0);try{E.current.start()}catch(R){console.error("Error starting recognition: ",R),u(!1),x({type:"error",message:""})}}},D=()=>{E.current&&o&&(E.current.stop(),u(!1))},$=L=>L.toLowerCase().replace(/[.,!?;:"']/g,"").trim(),Z=L=>{if(r===null)return;const R=t[r].line;$(L)===$(R)?x({type:"success",message:`: "${L}"`}):x({type:"error",message:`: "${L}": "${R}"`})};return!t||t.length===0?a.jsx(jn,{title:"",icon:a.jsx(If,{className:"w-7 h-7"}),children:a.jsx("p",{className:"text-slate-600",children:""})}):a.jsxs(jn,{title:"",icon:a.jsx(If,{className:"w-7 h-7"}),children:[!w.tts&&a.jsx("p",{className:"text-red-600 bg-red-100 p-2 rounded-md",children:" (TTS)"}),!w.sr&&a.jsx("p",{className:"text-red-600 bg-red-100 p-2 rounded-md mt-2",children:" (SR) Chrome  Edge"}),a.jsx("div",{className:"space-y-4",children:t.map((L,R)=>a.jsxs("div",{className:`p-3 rounded-lg ${L.speaker==="Speaker A"?"bg-sky-50":"bg-indigo-50"} border ${L.speaker==="Speaker A"?"border-sky-200":"border-indigo-200"}`,children:[a.jsxs("p",{className:"font-semibold text-sm mb-1 ${item.speaker === 'Speaker A' ? 'text-sky-700' : 'text-indigo-700'}",children:[L.speaker,":"]}),a.jsx("p",{className:"text-slate-800 mb-2",children:L.line}),a.jsxs("div",{className:"flex items-center space-x-2",children:[w.tts&&a.jsx("button",{onClick:()=>A(L.line,R),disabled:b&&e!==R,className:`p-1.5 rounded-full hover:bg-slate-200 transition-colors disabled:opacity-50 ${b&&e===R?"text-sky-500 animate-pulse":"text-slate-600"}`,"aria-label":` ${L.speaker} `,children:a.jsx(n6,{className:"w-5 h-5"})}),w.sr&&(o&&r===R?a.jsx("button",{onClick:D,className:"p-1.5 rounded-full text-red-600 hover:bg-red-100 transition-colors","aria-label":"",children:a.jsx(r6,{className:"w-5 h-5"})}):a.jsx("button",{onClick:()=>P(R),disabled:o||b,className:"p-1.5 rounded-full text-slate-600 hover:bg-slate-200 transition-colors disabled:opacity-50","aria-label":` ${L.speaker} `,children:a.jsx(i6,{className:"w-5 h-5"})}))]}),r===R&&f&&a.jsxs("p",{className:"mt-2 text-sm text-slate-600 italic",children:[': "',f,'"']}),r===R&&h&&a.jsxs("div",{className:`mt-2 p-2 rounded-md text-sm flex items-start ${h.type==="success"?"bg-green-100 text-green-700":h.type==="error"?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"}`,children:[h.type==="success"&&a.jsx(Nr,{className:"w-5 h-5 mr-2 flex-shrink-0"}),h.type==="error"&&a.jsx(Sr,{className:"w-5 h-5 mr-2 flex-shrink-0"}),a.jsx("span",{children:h.message})]})]},R))}),o&&a.jsx("p",{className:"mt-4 text-center text-sky-600 font-medium animate-pulse",children:"..."})]})},sv=({content:t,apiKey:e,vocabularyLevel:n,isStudentMode:r=!1})=>{const[l,o]=M.useState("sentence"),[u,f]=M.useState({}),[g,h]=M.useState({}),[x,b]=M.useState({}),N=M.useCallback((_,A)=>{f(P=>({...P,[_]:A}))},[]),w=M.useCallback(async(_,A)=>{if(!e){alert(" API Key  AI ");return}const P=u[_.id];if(!(P!=null&&P.trim())){alert("");return}b(D=>({...D,[_.id]:!0}));try{const D=await Hk(P,A,_,e,n);h($=>({...$,[_.id]:D}))}catch(D){console.error("AI :",D),alert("AI  API Key ")}finally{b(D=>({...D,[_.id]:!1}))}},[e,u,n]),C=()=>a.jsx("div",{className:"space-y-6",children:t.sentencePractice.map((_,A)=>{var P;return a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border border-blue-200",children:[a.jsx("div",{className:"flex items-start justify-between mb-4",children:a.jsxs("div",{children:[a.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:[" ",A+1,a.jsx("span",{className:`ml-2 px-2 py-1 text-xs rounded-full ${_.difficulty==="easy"?"bg-green-100 text-green-700":_.difficulty==="normal"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:_.difficulty==="easy"?"":_.difficulty==="normal"?"":""})]}),a.jsx("p",{className:"text-gray-700 mb-3",children:_.instruction}),_.keywords.length>0&&a.jsxs("div",{className:"mb-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:""}),a.jsx("div",{className:"flex flex-wrap gap-2",children:_.keywords.map((D,$)=>a.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-sm",children:D},$))})]}),_.exampleSentence&&a.jsxs("div",{className:"mb-3 p-3 bg-gray-50 rounded-lg",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:""}),a.jsx("p",{className:"text-gray-700 italic",children:_.exampleSentence})]}),_.hints&&_.hints.length>0&&a.jsxs("div",{className:"mb-3",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:""}),a.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:_.hints.map((D,$)=>a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-blue-500 mt-1",children:""}),D]},$))})]})]})}),a.jsxs("div",{className:"border-t pt-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),a.jsx("textarea",{value:u[_.id]||"",onChange:D=>N(_.id,D.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"..."}),a.jsxs("div",{className:"mt-3 flex justify-between items-center",children:[a.jsxs("span",{className:"text-sm text-gray-500",children:[": ",(u[_.id]||"").length]}),e&&a.jsx("button",{onClick:()=>w(_,"sentence"),disabled:!((P=u[_.id])!=null&&P.trim())||x[_.id],className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:x[_.id]?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"animate-spin",children:""}),"AI ..."]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})})," AI "]})})]})]}),g[_.id]&&a.jsx(ey,{feedback:g[_.id]})]},_.id)})}),E=()=>a.jsx("div",{className:"space-y-6",children:t.writingPractice.map((_,A)=>{var P;return a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border border-purple-200",children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:[_.title,a.jsx("span",{className:`ml-2 px-2 py-1 text-xs rounded-full ${_.difficulty==="easy"?"bg-green-100 text-green-700":_.difficulty==="normal"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:_.difficulty==="easy"?"":_.difficulty==="normal"?"":""})]}),a.jsx("p",{className:"text-gray-700 mb-3",children:_.instruction}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 mb-2",children:""}),a.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:_.structure.map((D,$)=>a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx("span",{className:"text-purple-500 mt-1",children:""}),D]},$))})]}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-sm font-medium text-gray-600 mb-2",children:[": ",_.minLength," - ",_.maxLength," "]}),_.keywords&&_.keywords.length>0&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:""}),a.jsx("div",{className:"flex flex-wrap gap-1",children:_.keywords.map((D,$)=>a.jsx("span",{className:"bg-purple-100 text-purple-800 px-2 py-1 rounded text-xs",children:D},$))})]})]})]}),_.exampleOutline&&a.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg mb-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:""}),a.jsx("p",{className:"text-gray-700 text-sm",children:_.exampleOutline})]})]}),a.jsxs("div",{className:"border-t pt-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),a.jsx("textarea",{value:u[_.id]||"",onChange:D=>N(_.id,D.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",rows:8,placeholder:"..."}),a.jsxs("div",{className:"mt-3 flex justify-between items-center",children:[a.jsxs("div",{className:"text-sm text-gray-500",children:[a.jsxs("span",{children:[": ",(u[_.id]||"").length]}),a.jsx("span",{className:"ml-4",children:(u[_.id]||"").length<_.minLength?` ${_.minLength-(u[_.id]||"").length} `:(u[_.id]||"").length>_.maxLength?` ${(u[_.id]||"").length-_.maxLength} `:""})]}),e&&a.jsx("button",{onClick:()=>w(_,"writing"),disabled:!((P=u[_.id])!=null&&P.trim())||x[_.id],className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:x[_.id]?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"animate-spin",children:""}),"AI ..."]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})})," AI "]})})]})]}),g[_.id]&&a.jsx(ey,{feedback:g[_.id]})]},_.id)})});return a.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-lg p-6 mt-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8 text-blue-600",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:" AI "}),a.jsx("p",{className:"text-gray-600 text-sm",children:t.instructions})]})]}),!r&&a.jsxs("div",{className:"text-sm text-gray-500 bg-white px-3 py-2 rounded-lg border",children:[a.jsxs("div",{children:[": ",t.sentencePractice.length," "]}),a.jsxs("div",{children:[": ",t.writingPractice.length," "]})]})]}),a.jsxs("div",{className:"flex border-b border-gray-200 mb-6",children:[a.jsxs("button",{onClick:()=>o("sentence"),className:`px-6 py-3 font-medium text-sm border-b-2 transition-colors ${l==="sentence"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[" (",t.sentencePractice.length,")"]}),a.jsxs("button",{onClick:()=>o("writing"),className:`px-6 py-3 font-medium text-sm border-b-2 transition-colors ${l==="writing"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[" (",t.writingPractice.length,")"]})]}),l==="sentence"?C():E()]})},ey=({feedback:t})=>a.jsxs("div",{className:"mt-4 border-t pt-4 bg-gradient-to-r from-green-50 to-blue-50 rounded-lg p-4",children:[a.jsxs("h5",{className:"font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-green-600",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.847a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.847.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456Z"})}),"AI ",a.jsxs("div",{className:`ml-2 px-3 py-1 rounded-full text-sm font-bold ${t.score>=85?"bg-green-100 text-green-800":t.score>=70?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[t.score," "]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[t.strengths.length>0&&a.jsxs("div",{children:[a.jsx("h6",{className:"font-medium text-green-700 mb-2",children:" "}),a.jsx("ul",{className:"space-y-1",children:t.strengths.map((e,n)=>a.jsxs("li",{className:"text-sm text-gray-700 flex items-start gap-2",children:[a.jsx("span",{className:"text-green-500 mt-1",children:""}),e]},n))})]}),t.improvements.length>0&&a.jsxs("div",{children:[a.jsx("h6",{className:"font-medium text-orange-700 mb-2",children:" "}),a.jsx("ul",{className:"space-y-1",children:t.improvements.map((e,n)=>a.jsxs("li",{className:"text-sm text-gray-700 flex items-start gap-2",children:[a.jsx("span",{className:"text-orange-500 mt-1",children:""}),e]},n))})]})]}),t.grammarCorrections&&t.grammarCorrections.length>0&&a.jsxs("div",{className:"mb-4 p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:[a.jsx("h6",{className:"font-medium text-yellow-800 mb-2",children:" "}),t.grammarCorrections.map((e,n)=>a.jsxs("div",{className:"mb-2 last:mb-0",children:[a.jsxs("div",{className:"text-sm",children:[a.jsx("span",{className:"text-red-600 line-through",children:e.original}),a.jsx("span",{className:"mx-2",children:""}),a.jsx("span",{className:"text-green-600 font-medium",children:e.corrected})]}),a.jsx("div",{className:"text-xs text-gray-600 mt-1",children:e.explanation})]},n))]}),t.vocabularyTips&&t.vocabularyTips.length>0&&a.jsxs("div",{className:"mb-4",children:[a.jsx("h6",{className:"font-medium text-blue-700 mb-2",children:" "}),a.jsx("ul",{className:"space-y-1",children:t.vocabularyTips.map((e,n)=>a.jsxs("li",{className:"text-sm text-gray-700 flex items-start gap-2",children:[a.jsx("span",{className:"text-blue-500 mt-1",children:""}),e]},n))})]}),t.structureFeedback&&a.jsxs("div",{className:"mb-4",children:[a.jsx("h6",{className:"font-medium text-purple-700 mb-2",children:" "}),a.jsx("p",{className:"text-sm text-gray-700",children:t.structureFeedback})]}),a.jsxs("div",{className:"border-t pt-3",children:[a.jsx("h6",{className:"font-medium text-gray-800 mb-2",children:" "}),a.jsx("p",{className:"text-sm text-gray-700 bg-white p-3 rounded-lg border",children:t.overallComment})]})]}),x6=t=>`
    <div class="tabs">
      <button class="tab-btn active" data-tab-target="easy-quiz-content" data-difficulty="easy"></button>
      <button class="tab-btn" data-tab-target="normal-quiz-content" data-difficulty="normal"></button>
      <button class="tab-btn" data-tab-target="hard-quiz-content" data-difficulty="hard"></button>
    </div>
    <div id="easy-quiz-content" class="tab-content active">
      <!-- Content rendered by JS -->
      <div class="quiz-items-container" data-difficulty="easy"></div>
    </div>
    <div id="normal-quiz-content" class="tab-content">
      <!-- Content rendered by JS -->
      <div class="quiz-items-container" data-difficulty="normal"></div>
    </div>
    <div id="hard-quiz-content" class="tab-content">
      <!-- Content rendered by JS -->
      <div class="quiz-items-container" data-difficulty="hard"></div>
    </div>
    <script type="application/json" id="quizDataStore">
      ${t}
    <\/script>
  `,y6=(t,e)=>{const n=t.learningObjectives&&t.learningObjectives.length>0?t.learningObjectives.map(C=>`
        <div class="objective-item" style="margin-bottom:20px; padding:16px; background:#f0fdf4; border-left:4px solid #10b981; border-radius:6px;">
          <h3 style="color:#059669; margin-bottom:8px; font-size:1.1em; font-weight:600;">${C.objective}</h3>
          <p style="color:#047857; margin-bottom:8px; line-height:1.6;">${C.description}</p>
          ${C.teachingExample?`
            <div style="background:#ecfdf5; border:1px solid #a7f3d0; padding:12px; border-radius:4px; margin-top:8px;">
              <strong style="color:#065f46; font-size:0.85em; display:block; margin-bottom:4px;"></strong>
              <span style="color:#047857; font-size:0.9em;">${C.teachingExample}</span>
            </div>`:""}
        </div>`).join(""):"<p></p>",r=t.contentBreakdown&&t.contentBreakdown.length>0?t.contentBreakdown.map(C=>`
        <div class="breakdown-item" style="margin-bottom:24px; padding-bottom:20px; border-bottom:1px solid #e2e8f0;">
          <h3 style="color:#0369a1; margin-bottom:8px;">${C.topic}</h3>
          <p style="margin-bottom:12px; color:#475569;">${C.details}</p>
          
          ${C.coreConcept?`
            <div style="background:#eff6ff; border-left:4px solid #3b82f6; padding:12px; border-radius:4px; margin-bottom:12px;">
              <strong style="color:#1e40af; font-size:0.85em; display:block; margin-bottom:4px;"></strong>
              <span style="color:#1e3a8a; font-size:0.9em;">${C.coreConcept}</span>
            </div>`:""}
          
          ${C.teachingSentences&&C.teachingSentences.length>0?`
            <div style="background:#eef2ff; border-left:4px solid #6366f1; padding:12px; border-radius:4px; margin-bottom:12px;">
              <strong style="color:#4338ca; font-size:0.85em; display:block; margin-bottom:8px;"></strong>
              <div style="line-height:1.6;">
                ${C.teachingSentences.map((E,_)=>`
                  <div style="color:#312e81; font-size:0.9em; margin-bottom:4px;">
                    <span style="color:#6366f1; font-family:monospace;">${_+1}.</span> ${E}
                  </div>
                `).join("")}
              </div>
            </div>`:""}
          
          ${C.teachingTips?`
            <div style="background:#faf5ff; border-left:4px solid #8b5cf6; padding:12px; border-radius:4px; margin-bottom:12px;">
              <strong style="color:#7c3aed; font-size:0.85em; display:block; margin-bottom:4px;"></strong>
              <span style="color:#6b21a8; font-size:0.9em;">${C.teachingTips}</span>
            </div>`:""}
          
          ${C.teachingExample?`
            <div style="background:#f0f9ff; border-left:4px solid #0ea5e9; padding:12px; border-radius:4px;">
              <strong style="color:#0284c7; font-size:0.85em; display:block; margin-bottom:4px;"></strong>
              <span style="color:#0c4a6e; font-size:0.9em;">${C.teachingExample}</span>
            </div>`:""}
        </div>`).join(""):"<p></p>",l=t.confusingPoints&&t.confusingPoints.length>0?t.confusingPoints.map(C=>`
        <div class="confusing-point-item" style="border:1px solid #e2e8f0; border-radius:8px; padding:20px; margin-bottom:24px; background:#fefefe;">
          <h3 style="color:#b91c1c; margin-bottom:12px; font-size:1.3em; font-weight:600;">${C.point}</h3>
          <p style="margin-bottom:16px; color:#475569; line-height:1.6;">${C.clarification}</p>
          
          ${C.errorType?`
          <div style="background:#fff7ed; border-left:4px solid #f97316; padding:12px; margin-bottom:12px; border-radius:4px;">
            <strong style="color:#c2410c; font-size:0.8em; display:block; margin-bottom:4px;"></strong>
            <span style="color:#9a3412; font-size:0.9em;">${C.errorType}</span>
          </div>`:""}
          
          ${C.commonErrors&&C.commonErrors.length>0?`
          <div style="background:#fef2f2; border-left:4px solid #ef4444; padding:12px; margin-bottom:12px; border-radius:4px;">
            <strong style="color:#dc2626; font-size:0.8em; display:block; margin-bottom:8px;"></strong>
            <div style="margin-left:0;">
              ${C.commonErrors.map((E,_)=>`
                <div style="color:#991b1b; font-size:0.9em; margin-bottom:4px;">
                  <span style="color:#dc2626; font-family:monospace; margin-right:6px;">${_+1}.</span>${E}
                </div>
              `).join("")}
            </div>
          </div>`:""}
          
          ${C.correctVsWrong&&C.correctVsWrong.length>0?`
          <div style="background:#fefce8; border-left:4px solid #eab308; padding:12px; margin-bottom:12px; border-radius:4px;">
            <strong style="color:#a16207; font-size:0.8em; display:block; margin-bottom:8px;"></strong>
            ${C.correctVsWrong.map((E,_)=>`
              <div style="border:1px solid #fde047; background:#fffbeb; padding:12px; margin-bottom:8px; border-radius:6px;">
                <div style="display:grid; grid-template-columns:1fr 1fr; gap:12px; margin-bottom:8px;">
                  <div style="background:#f0fdf4; padding:10px; border-radius:4px; border:1px solid #bbf7d0;">
                    <strong style="color:#166534; font-size:0.8em; display:block; margin-bottom:4px;"> </strong>
                    <span style="color:#15803d; font-size:0.9em;">${E.correct}</span>
                  </div>
                  <div style="background:#fef2f2; padding:10px; border-radius:4px; border:1px solid #fecaca;">
                    <strong style="color:#dc2626; font-size:0.8em; display:block; margin-bottom:4px;"> </strong>
                    <span style="color:#991b1b; font-size:0.9em;">${E.wrong}</span>
                  </div>
                </div>
                <div style="background:#eff6ff; padding:10px; border-radius:4px; border:1px solid #bfdbfe;">
                  <strong style="color:#1d4ed8; font-size:0.8em; display:block; margin-bottom:4px;"></strong>
                  <span style="color:#1e40af; font-size:0.9em;">${E.explanation}</span>
                </div>
              </div>
            `).join("")}
          </div>`:""}
          
          ${C.preventionStrategy?`
          <div style="background:#eff6ff; border-left:4px solid #3b82f6; padding:12px; margin-bottom:12px; border-radius:4px;">
            <strong style="color:#1d4ed8; font-size:0.8em; display:block; margin-bottom:4px;"></strong>
            <span style="color:#1e40af; font-size:0.9em;">${C.preventionStrategy}</span>
          </div>`:""}
          
          ${C.correctionMethod?`
          <div style="background:#faf5ff; border-left:4px solid #a855f7; padding:12px; margin-bottom:12px; border-radius:4px;">
            <strong style="color:#7c3aed; font-size:0.8em; display:block; margin-bottom:4px;"></strong>
            <span style="color:#6b21a8; font-size:0.9em;">${C.correctionMethod}</span>
          </div>`:""}
          
          ${C.practiceActivities&&C.practiceActivities.length>0?`
          <div style="background:#f0f9ff; border-left:4px solid #6366f1; padding:12px; margin-bottom:12px; border-radius:4px;">
            <strong style="color:#4338ca; font-size:0.8em; display:block; margin-bottom:8px;"></strong>
            <div style="margin-left:0;">
              ${C.practiceActivities.map((E,_)=>`
                <div style="color:#312e81; font-size:0.9em; margin-bottom:4px;">
                  <span style="color:#4338ca; font-family:monospace; margin-right:6px;">${_+1}.</span>${E}
                </div>
              `).join("")}
            </div>
          </div>`:""}
          
          ${C.teachingExample?`
          <div style="background:#f9fafb; border-left:4px solid #6b7280; padding:12px; border-radius:4px;">
            <strong style="color:#374151; font-size:0.8em; display:block; margin-bottom:4px;"></strong>
            <span style="color:#111827; font-size:0.9em;">${C.teachingExample}</span>
          </div>`:""}
        </div>`).join(""):"<p></p>",o=t.classroomActivities&&t.classroomActivities.length>0?t.classroomActivities.map(C=>`
        <div class="activity-item" style="border:1px solid #e0e7ef; border-radius:6px; padding:16px; margin-bottom:16px; background:#f8fafc;">
          <h3 style="color:#2563eb; margin-bottom:8px; font-size:1.2em;">${C.title}</h3>
          <p style="margin-bottom:12px; color:#475569;">${C.description}</p>
          
          <div style="display:grid; grid-template-columns:1fr 1fr; gap:12px; margin-bottom:12px;">
            ${C.objective?`
              <div>
                <strong style="color:#0f172a;"></strong>
                <p style="margin:4px 0 0 0; font-size:0.9em;">${C.objective}</p>
              </div>`:""}
            ${C.timing?`
              <div>
                <strong style="color:#0f172a;"></strong>
                <p style="margin:4px 0 0 0; font-size:0.9em;">${C.timing}</p>
              </div>`:""}
            ${C.materials?`
            <div>
              <strong style="color:#0f172a;"></strong>
              <p style="margin:4px 0 0 0; font-size:0.9em;">${C.materials}</p>
            </div>`:""}
            ${C.environment?`
            <div>
              <strong style="color:#0f172a;"></strong>
              <p style="margin:4px 0 0 0; font-size:0.9em;">${C.environment}</p>
            </div>`:""}
          </div>
          
          ${C.steps&&C.steps.length>0?`
            <div style="margin-bottom:12px;">
              <strong style="color:#0f172a;"></strong>
              <ol style="margin:8px 0 0 20px; padding:0;">
                ${C.steps.map(E=>`<li style="margin-bottom:4px; font-size:0.9em;">${E}</li>`).join("")}
              </ol>
            </div>`:""}
          
          ${C.assessmentPoints&&C.assessmentPoints.length>0?`
            <div>
              <strong style="color:#0f172a;"></strong>
              <ul style="margin:8px 0 0 20px; padding:0;">
                ${C.assessmentPoints.map(E=>`<li style="margin-bottom:4px; font-size:0.9em;">${E}</li>`).join("")}
              </ul>
            </div>`:""}
        </div>
      `).join(""):"<p></p>",u=t.englishConversation&&t.englishConversation.length>0?t.englishConversation.map(C=>`
        <div class="dialogue-line ${C.speaker==="Speaker A"?"speakerA":"speakerB"}">
          <span class="speaker">${C.speaker}:</span> ${C.line}
        </div>`).join("")+"<p><small><em></em></small></p>":"<p></p>",f=t.learningLevels&&t.learningLevels.suggestedLevels&&t.learningLevels.suggestedLevels.length>0?t.learningLevels.suggestedLevels.sort((C,E)=>C.order-E.order).map(C=>`
          <div class="level-item" style="border:1px solid #e0e7ef; border-radius:8px; padding:16px; margin-bottom:12px; background:${C.id===t.learningLevels.defaultLevelId?"#eff8ff":"#f8fafc"}; border-left: 4px solid ${C.id===t.learningLevels.defaultLevelId?"#0ea5e9":"#e2e8f0"};">
            <div style="display:flex; align-items:center; margin-bottom:8px;">
              <div style="width:32px; height:32px; border-radius:50%; background-color:${C.id===t.learningLevels.defaultLevelId?"#0ea5e9":"#94a3b8"}; color:white; display:flex; align-items:center; justify-content:center; font-weight:bold; margin-right:12px;">${C.order}</div>
              <h3 style="margin:0; color:${C.id===t.learningLevels.defaultLevelId?"#0c4a6e":"#334155"};">${C.name}</h3>
              ${C.id===t.learningLevels.defaultLevelId?'<span style="background:#dcfce7; color:#166534; padding:2px 8px; border-radius:4px; font-size:0.8em; margin-left:8px;"></span>':""}
            </div>
            <p style="margin:0; color:#64748b; line-height:1.5;">${C.description}</p>
          </div>
        `).join(""):"<p></p>",g=JSON.stringify(t.onlineInteractiveQuiz||{}),h=x6(g),x=`
    <!DOCTYPE html>
    <html lang="zh-Hant">
    <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>${e}</title>
      <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"; margin: 0; padding: 20px; line-height: 1.6; background-color: #f4f7f9; color: #333; }
        .container { max-width: 800px; margin: 0 auto; background-color: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        h1 { color: #2c3e50; text-align: center; border-bottom: 2px solid #3498db; padding-bottom: 10px; }
        h2 { color: #3498db; margin-top: 30px; border-bottom: 1px solid #eee; padding-bottom: 8px;}
        h3 { color: #2980b9; margin-top: 20px; }
        h4 { color: #16a085; margin-top:15px; font-size: 1.1em; margin-bottom: 10px; padding-bottom: 5px; border-bottom: 1px dashed #bdc3c7;}
        ul { list-style-type: disc; padding-left: 20px; }
        li { margin-bottom: 8px; }
        p { margin-bottom: 10px; }
        .section { margin-bottom: 25px; }
        .breakdown-item, .confusing-point-item { border-left: 3px solid #3498db; padding-left: 15px; margin-bottom: 15px; background-color: #fdfdfe; padding:10px; border-radius: 0 4px 4px 0;}
        .dialogue-line { margin-bottom: 8px; padding: 10px; border-radius: 5px; }
        .dialogue-line .speaker { font-weight: bold; color: #0056b3; }
        .dialogue-line.speakerA { background-color: #e7f3ff; border-left: 3px solid #79a6dc; }
        .dialogue-line.speakerB { background-color: #e6fff0; border-left: 3px solid #68d19a; }
        
        .tabs { display: flex; margin-bottom: 0; border-bottom: 1px solid #ccc;}
        .tabs button { padding: 10px 15px; cursor: pointer; border: 1px solid #ccc; background-color: #f0f0f0; margin-right: 0px; border-bottom: none; border-radius: 5px 5px 0 0; font-size: 1em;}
        .tabs button.active { background-color: #fff; border-bottom: 1px solid #fff; color: #3498db; font-weight: bold; position:relative; top:1px;}
        .tab-content { display: none; padding: 15px; border: 1px solid #ccc; border-top: none; background-color:#fff; border-radius: 0 0 5px 5px;}
        .tab-content.active { display: block; }

        .quiz-item { border: 1px solid #e0e0e0; padding: 15px; margin-bottom: 15px; border-radius: 5px; background: #f9f9f9; }
        .quiz-question { font-weight: 500; margin-bottom: 8px; color: #333; }
        .quiz-item p:first-child { margin-top: 0; }
        .quiz-feedback { padding: 8px; margin-top: 10px; border-radius: 4px; font-size: 0.9em; }
        .quiz-feedback.correct { background-color: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .quiz-feedback.incorrect { background-color: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
        .quiz-feedback em { color: #555;}
        
        .tf-options button { margin-right: 10px; padding: 8px 12px; border-radius: 4px; border: 1px solid #ccc; cursor: pointer; }
        .tf-options button.selected.correct, .tf-options button.correct { background-color: #28a745; color: white; border-color: #28a745; }
        .tf-options button.selected.incorrect, .tf-options button.incorrect { background-color: #dc3545; color: white; border-color: #dc3545; }
        .tf-options button:disabled { opacity: 0.7; cursor: not-allowed; }

        .mc-options label { display: block; margin-bottom: 8px; padding: 8px; border: 1px solid #eee; border-radius: 4px; cursor: pointer; transition: background-color 0.2s, border-color 0.2s; }
        .mc-options label:hover { background-color: #f0f8ff; }
        .mc-options input[type="radio"] { margin-right: 8px; }
        .mc-options label.selected { background-color: #e0f0ff; border-color: #79a6dc; }
        .mc-options label.correct-answer { background-color: #d4edda !important; border-color: #c3e6cb !important; color: #155724;}
        .mc-options label.incorrect-selection { background-color: #f8d7da !important; border-color: #f5c6cb !important; color: #721c24;}
        .mc-options label.disabled { cursor: not-allowed; opacity: 0.7; }


        .fb-input { padding: 6px; border: 1px solid #ccc; border-radius: 4px; margin: 0 5px; min-width:100px; }
        .fb-input:disabled { background-color: #eee; }

        .ss-word-bank, .ss-constructed-sentence-area { display: flex; flex-wrap: wrap; gap: 8px; padding: 10px; border: 1px dashed #ccc; border-radius: 4px; min-height: 40px; margin-bottom: 10px; }
        .ss-word-bank { background-color: #f0f8ff; }
        .ss-constructed-sentence-area { background-color: #e6fff0; }
        .ss-word-bank button, .ss-constructed-sentence-area button { padding: 5px 10px; background-color: #add8e6; border: none; border-radius: 4px; cursor: pointer; font-size: 0.95em;}
        .ss-word-bank button:hover, .ss-constructed-sentence-area button:hover { background-color: #90cce0; }
        .ss-constructed-sentence-area button { background-color: #a2d2ff; }


        .quiz-item button.check-answer-btn, .quiz-item button.ss-action-btn {
          background-color: #3498db; color: white; border: none; padding: 8px 12px; border-radius: 4px; cursor: pointer; font-size: 0.9em; margin-top: 10px; transition: background-color 0.2s;
        }
        .quiz-item button.check-answer-btn:hover, .quiz-item button.ss-action-btn:hover { background-color: #2980b9; }
        .quiz-item button.ss-action-btn.ss-clear { background-color: #e74c3c; margin-left: 5px;}
        .quiz-item button.ss-action-btn.ss-clear:hover { background-color: #c0392b; }
        .quiz-item button:disabled, .quiz-item button.check-answer-btn:disabled, .quiz-item button.ss-action-btn:disabled { background-color: #bdc3c7; cursor: not-allowed; opacity: 0.7;}
        
        footer { text-align: center; margin-top: 30px; padding-top: 15px; border-top: 1px solid #ddd; font-size: 0.9em; color: #777; }
      </style>
    </head>
    <body>
      <div class="container">
        <h1>${e}</h1>

        <div class="section">
          <h2></h2>
          ${f}
        </div>

        <div class="section">
          <h2></h2>
          ${n}
        </div>

        <div class="section">
          <h2></h2>
          ${r}
        </div>

        <div class="section">
          <h2></h2>
          ${l}
        </div>

        <div class="section">
          <h2></h2>
          ${o}
        </div>
        
        <div class="section">
          <h2></h2>
          ${u}
        </div>

        <div class="section">
          <h2></h2>
          ${h}
        </div>
        
        <footer>
          <p> AI ${new Date().toLocaleString()}</p>
        </footer>
      </div>

      <script>
        document.addEventListener('DOMContentLoaded', () => {
          const quizData = JSON.parse(document.getElementById('quizDataStore').textContent || '{}');
          let sentenceScrambleStates = {}; // To store dynamic state for sentence scramble

          const normalizeText = (str) => {
            if (typeof str !== 'string') return '';
            // Corrected regex for multiple spaces: s+ instead of \\s+
            return str.toLowerCase().replace(/[.,!?;:'"'""]/g, '').replace(/s+/g, ' ').trim();
          };

          const renderQuizzesForDifficulty = (difficulty) => {
            const container = document.querySelector(\`.quiz-items-container[data-difficulty="\${difficulty}"]\`);
            if (!container) return;
            container.innerHTML = ''; 
            sentenceScrambleStates[difficulty] = {}; // Reset states for this difficulty

            const difficultyData = quizData[difficulty];
            if (!difficultyData || Object.keys(difficultyData).every(type => !difficultyData[type] || difficultyData[type].length === 0)) {
              container.innerHTML = '<p></p>';
              return;
            }

            let itemGlobalIndex = 0;
            const typeLabels = { trueFalse: "", multipleChoice: "", fillInTheBlanks: "", sentenceScramble: ""};

            const createHtml = (type, q, index) => {
              const questionId = \`\${difficulty}-\${type}-\${index}\`;
              let itemHtml = \`<div class="quiz-item \${type}-item" id="item-\${questionId}">\`;
              
              if (type === 'trueFalse') {
                itemHtml += \`<p class="quiz-question">\${itemGlobalIndex + 1}. \${q.statement}</p>\`;
                itemHtml += \`<div class="tf-options">\`;
                itemHtml += \`<button data-value="true" data-question-id="\${questionId}"> (True)</button>\`;
                itemHtml += \`<button data-value="false" data-question-id="\${questionId}"> (False)</button>\`;
                itemHtml += \`</div>\`;
              } else if (type === 'multipleChoice') {
                itemHtml += \`<p class="quiz-question">\${itemGlobalIndex + 1}. \${q.question}</p>\`;
                itemHtml += \`<div class="mc-options">\`;
                q.options.forEach((opt, optIndex) => {
                  itemHtml += \`<label><input type="radio" name="mc-\${questionId}" value="\${optIndex}"> \${String.fromCharCode(65 + optIndex)}. \${opt}</label>\`;
                });
                itemHtml += \`</div>\`;
                itemHtml += \`<button class="check-answer-btn mc-check" data-question-id="\${questionId}"></button>\`;
              } else if (type === 'fillInTheBlanks') {
                itemHtml += \`<p class="quiz-question">\${itemGlobalIndex + 1}. \${q.sentenceWithBlank.replace('____', '<input type="text" class="fb-input" id="fb-input-\${questionId}" placeholder="">')}</p>\`;
                itemHtml += \`<button class="check-answer-btn fb-check" data-question-id="\${questionId}"></button>\`;
              } else if (type === 'sentenceScramble') {
                sentenceScrambleStates[difficulty][questionId] = {
                    availableWords: q.scrambledWords.slice().sort(() => Math.random() - 0.5),
                    constructedWords: []
                };
                itemHtml += \`<p class="quiz-question">\${itemGlobalIndex + 1}. </p>\`;
                itemHtml += \`<p class="ss-instruction"></p>\`
                itemHtml += \`<div class="ss-word-bank" id="ss-bank-\${questionId}">\`;
                sentenceScrambleStates[difficulty][questionId].availableWords.forEach(word => {
                   itemHtml += \`<button class="ss-word" data-word="\${word}" data-question-id="\${questionId}" data-source="bank">\${word}</button>\`;
                });
                itemHtml += \`</div>\`;
                itemHtml += \`<p class="quiz-question"></p><div class="ss-constructed-sentence-area" id="ss-area-\${questionId}"></div>\`;
                itemHtml += \`<button class="check-answer-btn ss-check" data-question-id="\${questionId}"></button>\`;
                itemHtml += \`<button class="ss-action-btn ss-clear" data-question-id="\${questionId}"></button>\`;
              }
              itemHtml += \`<div class="quiz-feedback" id="feedback-\${questionId}"></div></div>\`;
              itemGlobalIndex++;
              return itemHtml;
            };
            
            const quizTypes = ['trueFalse', 'multipleChoice', 'fillInTheBlanks', 'sentenceScramble'];
            let hasContentForDifficulty = false;

            quizTypes.forEach(type => {
              if (difficultyData[type] && difficultyData[type].length > 0) {
                hasContentForDifficulty = true;
                const typeHeader = document.createElement('h4');
                typeHeader.textContent = typeLabels[type];
                container.appendChild(typeHeader);
                difficultyData[type].forEach((q, i) => {
                  const questionElement = document.createElement('div');
                  questionElement.innerHTML = createHtml(type, q, i);
                  container.appendChild(questionElement.firstChild);
                });
              }
            });
             if (!hasContentForDifficulty) {
                 container.innerHTML = '<p></p>';
            }
          };

          const tabButtons = document.querySelectorAll('.tabs .tab-btn');
          const tabContents = document.querySelectorAll('.tab-content');

          tabButtons.forEach(button => {
            button.addEventListener('click', () => {
              tabButtons.forEach(btn => btn.classList.remove('active'));
              tabContents.forEach(content => content.classList.remove('active'));

              button.classList.add('active');
              const targetContentId = button.getAttribute('data-tab-target');
              document.getElementById(targetContentId).classList.add('active');
              
              const difficulty = button.getAttribute('data-difficulty');
              renderQuizzesForDifficulty(difficulty);
            });
          });
          
          // Initial render for the default active tab
          renderQuizzesForDifficulty('easy');


          // Event delegation for quiz interactions
          document.querySelector('.container').addEventListener('click', (event) => {
            const target = event.target;
            // Ensure target is an HTMLElement before trying to access attributes or match selectors
            if (!(target instanceof HTMLElement)) return;

            const questionId = target.getAttribute('data-question-id');
            if (!questionId) return;

            const [difficulty, type, indexStr] = questionId.split('-');
            const index = parseInt(indexStr);
            const questionData = quizData[difficulty]?.[type]?.[index];
            const feedbackEl = document.getElementById(\`feedback-\${questionId}\`);

            if (!questionData || !feedbackEl) return;

            // True/False
            if (target.matches('.tf-options button')) {
              const selectedValue = target.getAttribute('data-value') === 'true';
              const isCorrect = selectedValue === questionData.isTrue;
              feedbackEl.className = 'quiz-feedback ' + (isCorrect ? 'correct' : 'incorrect');
              let message = isCorrect ? '' : \`\${questionData.isTrue ? ' (True)' : ' (False)'}\`;
              if (questionData.explanation) message += \` <em>\${questionData.explanation}</em>\`;
              feedbackEl.innerHTML = message;
              
              target.classList.add('selected', isCorrect ? 'correct' : 'incorrect');
              Array.from(target.parentElement.children).forEach(btn => btn.disabled = true);
            }

            // Multiple Choice Check
            else if (target.matches('.mc-check')) {
              const selectedRadio = document.querySelector(\`input[name="mc-\${questionId}"]:checked\`);
              if (!selectedRadio) {
                feedbackEl.className = 'quiz-feedback incorrect';
                feedbackEl.textContent = '';
                return;
              }
              const selectedOptionIndex = parseInt(selectedRadio.value);
              const isCorrect = selectedOptionIndex === questionData.correctAnswerIndex;
              
              feedbackEl.className = 'quiz-feedback ' + (isCorrect ? 'correct' : 'incorrect');
              let message = isCorrect ? '' : \`\${String.fromCharCode(65 + questionData.correctAnswerIndex)}. \${questionData.options[questionData.correctAnswerIndex]}\`;
              feedbackEl.innerHTML = message;

              // Visually mark options
              const optionLabels = document.querySelectorAll(\`#item-\${questionId} .mc-options label\`);
              optionLabels.forEach((label, idx) => {
                label.classList.add('disabled');
                const radioInLabel = label.querySelector('input');
                if (radioInLabel) radioInLabel.disabled = true;

                if (idx === questionData.correctAnswerIndex) {
                    label.classList.add('correct-answer');
                }
                if (idx === selectedOptionIndex && !isCorrect) {
                    label.classList.add('incorrect-selection');
                }
                 if (idx === selectedOptionIndex) {
                    label.classList.add('selected');
                }
              });
              target.disabled = true;
            }

            // Fill in the Blanks Check
            else if (target.matches('.fb-check')) {
              const inputEl = document.getElementById(\`fb-input-\${questionId}\`);
              // Add null check for inputEl
              if (!inputEl) {
                  console.error('Fill-in-the-blanks input element not found for ID:', \`fb-input-\${questionId}\`);
                  feedbackEl.className = 'quiz-feedback incorrect';
                  feedbackEl.textContent = '';
                  return;
              }
              const userAnswer = inputEl.value.trim();
              if (userAnswer === '') {
                feedbackEl.className = 'quiz-feedback incorrect';
                feedbackEl.textContent = '';
                return;
              }
              const isCorrect = normalizeText(userAnswer) === normalizeText(questionData.correctAnswer);
              feedbackEl.className = 'quiz-feedback ' + (isCorrect ? 'correct' : 'incorrect');
              feedbackEl.textContent = isCorrect ? '' : \` "\${questionData.correctAnswer}"\`;
              inputEl.disabled = true;
              target.disabled = true;
            }
            
            // Sentence Scramble
            else if (target.matches('.ss-word') || target.matches('.ss-check') || target.matches('.ss-clear')) {
                const state = sentenceScrambleStates[difficulty][questionId];
                if (!state) return; // Should not happen if initialized correctly

                const bankEl = document.getElementById(\`ss-bank-\${questionId}\`);
                const areaEl = document.getElementById(\`ss-area-\${questionId}\`);
                
                if(!bankEl || !areaEl) return;


                const redrawScramble = () => {
                    bankEl.innerHTML = '';
                    state.availableWords.forEach(w => {
                        bankEl.innerHTML += \`<button class="ss-word" data-word="\${w}" data-question-id="\${questionId}" data-source="bank">\${w}</button>\`;
                    });
                    areaEl.innerHTML = '';
                    state.constructedWords.forEach(w => {
                        areaEl.innerHTML += \`<button class="ss-word" data-word="\${w}" data-question-id="\${questionId}" data-source="area">\${w}</button>\`;
                    });
                };

                if (target.matches('.ss-word')) {
                    const word = target.getAttribute('data-word');
                    const source = target.getAttribute('data-source');
                    if (source === 'bank') {
                        state.constructedWords.push(word);
                        // Correctly remove only one instance of the word from availableWords
                        const wordIndexInBank = state.availableWords.indexOf(word);
                        if (wordIndexInBank > -1) {
                            state.availableWords.splice(wordIndexInBank, 1);
                        }
                    } else { // source === 'area'
                        state.availableWords.push(word);
                        // Correctly remove only one instance of the word from constructedWords
                        const wordIndexInArea = state.constructedWords.indexOf(word);
                        if (wordIndexInArea > -1) {
                            state.constructedWords.splice(wordIndexInArea, 1);
                        }
                    }
                    redrawScramble();
                    feedbackEl.textContent = '';
                    feedbackEl.className = 'quiz-feedback';
                } else if (target.matches('.ss-check')) {
                    const userAnswer = state.constructedWords.join(' ').trim();
                    const isCorrect = normalizeText(userAnswer) === normalizeText(questionData.originalSentence);
                    feedbackEl.className = 'quiz-feedback ' + (isCorrect ? 'correct' : 'incorrect');
                    feedbackEl.textContent = isCorrect ? '' : \` "\${questionData.originalSentence}"\`;
                    target.disabled = true;
                    const clearButton = document.querySelector(\`#item-\${questionId} .ss-clear\`);
                    if(clearButton) clearButton.disabled = true;
                    
                    bankEl.querySelectorAll('button').forEach(b => b.disabled = true);
                    areaEl.querySelectorAll('button').forEach(b => b.disabled = true);

                } else if (target.matches('.ss-clear')) {
                    state.availableWords = questionData.scrambledWords.slice().sort(() => Math.random() - 0.5);
                    state.constructedWords = [];
                    redrawScramble();
                    feedbackEl.textContent = '';
                    feedbackEl.className = 'quiz-feedback';
                }
            }

          });
        });
      <\/script>
    </body>
    </html>
  `,b=new Blob([x],{type:"text/html;charset=utf-8"}),N=URL.createObjectURL(b),w=document.createElement("a");w.href=N,w.download=`learning-plan-${e.replace(/\s+/g,"_")||"untitled"}.html`,document.body.appendChild(w),w.click(),document.body.removeChild(w),URL.revokeObjectURL(N)},im="AES-GCM",v6=256,Lf=12;async function lv(t,e){const n=new TextEncoder,r=await crypto.subtle.importKey("raw",n.encode(t),"PBKDF2",!1,["deriveKey"]);return crypto.subtle.deriveKey({name:"PBKDF2",salt:e,iterations:1e5,hash:"SHA-256"},r,{name:im,length:v6},!1,["encrypt","decrypt"])}async function b6(t,e="ai-page-gen-2024"){try{const r=new TextEncoder().encode(t),l=crypto.getRandomValues(new Uint8Array(16)),o=crypto.getRandomValues(new Uint8Array(Lf)),u=await lv(e,l),f=await crypto.subtle.encrypt({name:im,iv:o},u,r),g=new Uint8Array(l.length+o.length+f.byteLength);return g.set(l,0),g.set(o,l.length),g.set(new Uint8Array(f),l.length+o.length),N6(g)}catch(n){throw console.error(" API Key :",n),new Error("")}}async function w6(t,e="ai-page-gen-2024"){try{const n=S6(t),r=n.slice(0,16),l=n.slice(16,16+Lf),o=n.slice(16+Lf),u=await lv(e,r),f=await crypto.subtle.decrypt({name:im,iv:l},u,o);return new TextDecoder().decode(f)}catch(n){throw console.error(" API Key :",n),new Error("")}}function N6(t){const e=new Uint8Array(t);let n="";for(let r=0;r<e.byteLength;r++)n+=String.fromCharCode(e[r]);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function S6(t){const e="=".repeat((4-t.length%4)%4),n=t.replace(/-/g,"+").replace(/_/g,"/")+e,r=atob(n),l=new Uint8Array(r.length);for(let o=0;o<r.length;o++)l[o]=r.charCodeAt(o);return l}function av(){return typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof crypto.subtle.encrypt=="function"}async function ty(t){if(!av())return console.warn("Web Crypto API "),`apikey=${encodeURIComponent(t)}`;const e=await b6(t);return`enckey=${encodeURIComponent(e)}`}async function ov(t){const e=t.get("enckey");if(e&&av())try{return await w6(decodeURIComponent(e))}catch(r){console.error(" API Key :",r)}const n=t.get("apikey");return n?decodeURIComponent(n):null}const C6=({tabs:t,current:e,onChange:n,children:r})=>a.jsxs("div",{children:[a.jsx("div",{className:"flex border-b mb-4",children:t.map(l=>a.jsx("button",{className:`px-4 py-2 -mb-px border-b-2 font-medium transition-colors focus:outline-none ${e===l.key?"border-indigo-600 text-indigo-700 bg-white":"border-transparent text-slate-500 hover:text-indigo-600"}`,onClick:()=>n(l.key),type:"button",children:l.label},l.key))}),a.jsx("div",{children:r[t.findIndex(l=>l.key===e)]})]}),T6=({config:t,onConfigChange:e,onRegenerate:n,isGenerating:r})=>{const l={trueFalse:"",multipleChoice:"",fillInTheBlanks:"",sentenceScramble:"",memoryCardGame:""},o=(h,x)=>{const b=yr[h],N=Math.max(0,Math.min(b,x)),w={easy:{...t.easy,[h]:N},normal:{...t.normal,[h]:N},hard:{...t.hard,[h]:N}};e(w)},u=()=>{e(Z1)},f=()=>{const h=Object.values(t.easy).reduce((N,w)=>N+w,0),x=Object.values(t.normal).reduce((N,w)=>N+w,0),b=Object.values(t.hard).reduce((N,w)=>N+w,0);return h+x+b},g=h=>t.easy[h]+t.normal[h]+t.hard[h];return a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6 border border-indigo-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-2 flex items-center gap-2",children:[a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-indigo-600",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a6.759 6.759 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]}),""]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["  : ",a.jsx("span",{className:"font-semibold text-indigo-600",children:f()})," "]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:u,className:"px-3 py-2 text-sm bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors",children:""}),a.jsx("button",{onClick:n,disabled:r,className:"px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg hover:from-indigo-700 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all transform hover:scale-105 shadow-md flex items-center gap-2 font-medium",children:r?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"animate-spin",children:""}),"..."]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"})}),""]})})]})]}),a.jsx("div",{className:"space-y-6",children:Object.keys(l).map(h=>{const x=yr[h],b=t.easy[h],N=g(h);return a.jsxs("div",{className:"bg-gradient-to-r from-slate-50 to-gray-50 rounded-lg p-5 border border-slate-200",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-3 h-3 bg-indigo-500 rounded-full"}),a.jsx("h4",{className:"font-semibold text-lg text-gray-800",children:l[h]}),a.jsxs("span",{className:"text-sm text-gray-500 bg-white px-2 py-1 rounded-full border",children:[": 0-",x," "]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:[": ",a.jsx("span",{className:"font-mono font-medium",children:b})," "]}),a.jsxs("div",{className:"text-xs text-indigo-600",children:[": ",a.jsx("span",{className:"font-semibold",children:N})," "]})]})]}),a.jsxs("div",{className:"flex items-center justify-center gap-4",children:[a.jsx("button",{onClick:()=>o(h,b-1),className:"w-10 h-10 rounded-full bg-red-100 hover:bg-red-200 flex items-center justify-center text-red-600 font-bold text-lg transition-colors shadow-sm",disabled:b<=0,children:"-"}),a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"text-3xl font-bold text-gray-800 mb-1",children:b}),a.jsx("div",{className:"text-xs text-gray-500",children:""})]}),a.jsx("button",{onClick:()=>o(h,b+1),className:"w-10 h-10 rounded-full bg-green-100 hover:bg-green-200 flex items-center justify-center text-green-600 font-bold text-lg transition-colors shadow-sm",disabled:b>=x,children:"+"})]}),a.jsxs("div",{className:"mt-4 flex justify-center gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center text-green-700 text-sm font-semibold mb-1",children:t.easy[h]}),a.jsx("div",{className:"text-xs text-green-700",children:""})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center text-yellow-700 text-sm font-semibold mb-1",children:t.normal[h]}),a.jsx("div",{className:"text-xs text-yellow-700",children:""})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center text-red-700 text-sm font-semibold mb-1",children:t.hard[h]}),a.jsx("div",{className:"text-xs text-red-700",children:""})]})]})]},h)})}),a.jsx("div",{className:"mt-6 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-blue-600 mt-0.5 flex-shrink-0",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"})}),a.jsxs("div",{className:"text-sm text-blue-800",children:[a.jsx("p",{className:"font-medium mb-2",children:" "}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-xs",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-blue-900 mb-1",children:" "}),a.jsx("p",{children:""})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-blue-900 mb-1",children:" "}),a.jsx("p",{children:": 0-10 | : 0-2"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-blue-900 mb-1",children:" "}),a.jsx("p",{children:" 0 "})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-blue-900 mb-1",children:" "}),a.jsx("p",{children:" 1-2 "})]})]})]})]})})]})};var hs={},jd,ny;function E6(){return ny||(ny=1,jd=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),jd}var Md={},Hi={},iy;function Cr(){if(iy)return Hi;iy=1;let t;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Hi.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},Hi.getSymbolTotalCodewords=function(r){return e[r]},Hi.getBCHDigit=function(n){let r=0;for(;n!==0;)r++,n>>>=1;return r},Hi.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');t=r},Hi.isKanjiModeEnabled=function(){return typeof t<"u"},Hi.toSJIS=function(r){return t(r)},Hi}var Rd={},ry;function rm(){return ry||(ry=1,function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+n)}}t.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},t.from=function(r,l){if(t.isValid(r))return r;try{return e(r)}catch{return l}}}(Rd)),Rd}var Id,sy;function k6(){if(sy)return Id;sy=1;function t(){this.buffer=[],this.length=0}return t.prototype={get:function(e){const n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)===1},put:function(e,n){for(let r=0;r<n;r++)this.putBit((e>>>n-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},Id=t,Id}var Dd,ly;function A6(){if(ly)return Dd;ly=1;function t(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return t.prototype.set=function(e,n,r,l){const o=e*this.size+n;this.data[o]=r,l&&(this.reservedBit[o]=!0)},t.prototype.get=function(e,n){return this.data[e*this.size+n]},t.prototype.xor=function(e,n,r){this.data[e*this.size+n]^=r},t.prototype.isReserved=function(e,n){return this.reservedBit[e*this.size+n]},Dd=t,Dd}var Ld={},ay;function _6(){return ay||(ay=1,function(t){const e=Cr().getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const l=Math.floor(r/7)+2,o=e(r),u=o===145?26:Math.ceil((o-13)/(2*l-2))*2,f=[o-7];for(let g=1;g<l-1;g++)f[g]=f[g-1]-u;return f.push(6),f.reverse()},t.getPositions=function(r){const l=[],o=t.getRowColCoords(r),u=o.length;for(let f=0;f<u;f++)for(let g=0;g<u;g++)f===0&&g===0||f===0&&g===u-1||f===u-1&&g===0||l.push([o[f],o[g]]);return l}}(Ld)),Ld}var Pd={},oy;function j6(){if(oy)return Pd;oy=1;const t=Cr().getSymbolSize,e=7;return Pd.getPositions=function(r){const l=t(r);return[[0,0],[l-e,0],[0,l-e]]},Pd}var Od={},cy;function M6(){return cy||(cy=1,function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(l){return l!=null&&l!==""&&!isNaN(l)&&l>=0&&l<=7},t.from=function(l){return t.isValid(l)?parseInt(l,10):void 0},t.getPenaltyN1=function(l){const o=l.size;let u=0,f=0,g=0,h=null,x=null;for(let b=0;b<o;b++){f=g=0,h=x=null;for(let N=0;N<o;N++){let w=l.get(b,N);w===h?f++:(f>=5&&(u+=e.N1+(f-5)),h=w,f=1),w=l.get(N,b),w===x?g++:(g>=5&&(u+=e.N1+(g-5)),x=w,g=1)}f>=5&&(u+=e.N1+(f-5)),g>=5&&(u+=e.N1+(g-5))}return u},t.getPenaltyN2=function(l){const o=l.size;let u=0;for(let f=0;f<o-1;f++)for(let g=0;g<o-1;g++){const h=l.get(f,g)+l.get(f,g+1)+l.get(f+1,g)+l.get(f+1,g+1);(h===4||h===0)&&u++}return u*e.N2},t.getPenaltyN3=function(l){const o=l.size;let u=0,f=0,g=0;for(let h=0;h<o;h++){f=g=0;for(let x=0;x<o;x++)f=f<<1&2047|l.get(h,x),x>=10&&(f===1488||f===93)&&u++,g=g<<1&2047|l.get(x,h),x>=10&&(g===1488||g===93)&&u++}return u*e.N3},t.getPenaltyN4=function(l){let o=0;const u=l.data.length;for(let g=0;g<u;g++)o+=l.data[g];return Math.abs(Math.ceil(o*100/u/5)-10)*e.N4};function n(r,l,o){switch(r){case t.Patterns.PATTERN000:return(l+o)%2===0;case t.Patterns.PATTERN001:return l%2===0;case t.Patterns.PATTERN010:return o%3===0;case t.Patterns.PATTERN011:return(l+o)%3===0;case t.Patterns.PATTERN100:return(Math.floor(l/2)+Math.floor(o/3))%2===0;case t.Patterns.PATTERN101:return l*o%2+l*o%3===0;case t.Patterns.PATTERN110:return(l*o%2+l*o%3)%2===0;case t.Patterns.PATTERN111:return(l*o%3+(l+o)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}t.applyMask=function(l,o){const u=o.size;for(let f=0;f<u;f++)for(let g=0;g<u;g++)o.isReserved(g,f)||o.xor(g,f,n(l,g,f))},t.getBestMask=function(l,o){const u=Object.keys(t.Patterns).length;let f=0,g=1/0;for(let h=0;h<u;h++){o(h),t.applyMask(h,l);const x=t.getPenaltyN1(l)+t.getPenaltyN2(l)+t.getPenaltyN3(l)+t.getPenaltyN4(l);t.applyMask(h,l),x<g&&(g=x,f=h)}return f}}(Od)),Od}var bo={},uy;function cv(){if(uy)return bo;uy=1;const t=rm(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return bo.getBlocksCount=function(l,o){switch(o){case t.L:return e[(l-1)*4+0];case t.M:return e[(l-1)*4+1];case t.Q:return e[(l-1)*4+2];case t.H:return e[(l-1)*4+3];default:return}},bo.getTotalCodewordsCount=function(l,o){switch(o){case t.L:return n[(l-1)*4+0];case t.M:return n[(l-1)*4+1];case t.Q:return n[(l-1)*4+2];case t.H:return n[(l-1)*4+3];default:return}},bo}var Bd={},Dl={},dy;function R6(){if(dy)return Dl;dy=1;const t=new Uint8Array(512),e=new Uint8Array(256);return function(){let r=1;for(let l=0;l<255;l++)t[l]=r,e[r]=l,r<<=1,r&256&&(r^=285);for(let l=255;l<512;l++)t[l]=t[l-255]}(),Dl.log=function(r){if(r<1)throw new Error("log("+r+")");return e[r]},Dl.exp=function(r){return t[r]},Dl.mul=function(r,l){return r===0||l===0?0:t[e[r]+e[l]]},Dl}var fy;function I6(){return fy||(fy=1,function(t){const e=R6();t.mul=function(r,l){const o=new Uint8Array(r.length+l.length-1);for(let u=0;u<r.length;u++)for(let f=0;f<l.length;f++)o[u+f]^=e.mul(r[u],l[f]);return o},t.mod=function(r,l){let o=new Uint8Array(r);for(;o.length-l.length>=0;){const u=o[0];for(let g=0;g<l.length;g++)o[g]^=e.mul(l[g],u);let f=0;for(;f<o.length&&o[f]===0;)f++;o=o.slice(f)}return o},t.generateECPolynomial=function(r){let l=new Uint8Array([1]);for(let o=0;o<r;o++)l=t.mul(l,new Uint8Array([1,e.exp(o)]));return l}}(Bd)),Bd}var Ud,my;function D6(){if(my)return Ud;my=1;const t=I6();function e(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(r){this.degree=r,this.genPoly=t.generateECPolynomial(this.degree)},e.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const l=new Uint8Array(r.length+this.degree);l.set(r);const o=t.mod(l,this.genPoly),u=this.degree-o.length;if(u>0){const f=new Uint8Array(this.degree);return f.set(o,u),f}return o},Ud=e,Ud}var zd={},Vd={},$d={},hy;function uv(){return hy||(hy=1,$d.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),$d}var zn={},py;function dv(){if(py)return zn;py=1;const t="[0-9]+",e="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;zn.KANJI=new RegExp(n,"g"),zn.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),zn.BYTE=new RegExp(r,"g"),zn.NUMERIC=new RegExp(t,"g"),zn.ALPHANUMERIC=new RegExp(e,"g");const l=new RegExp("^"+n+"$"),o=new RegExp("^"+t+"$"),u=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return zn.testKanji=function(g){return l.test(g)},zn.testNumeric=function(g){return o.test(g)},zn.testAlphanumeric=function(g){return u.test(g)},zn}var gy;function Tr(){return gy||(gy=1,function(t){const e=uv(),n=dv();t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(o,u){if(!o.ccBits)throw new Error("Invalid mode: "+o);if(!e.isValid(u))throw new Error("Invalid version: "+u);return u>=1&&u<10?o.ccBits[0]:u<27?o.ccBits[1]:o.ccBits[2]},t.getBestModeForData=function(o){return n.testNumeric(o)?t.NUMERIC:n.testAlphanumeric(o)?t.ALPHANUMERIC:n.testKanji(o)?t.KANJI:t.BYTE},t.toString=function(o){if(o&&o.id)return o.id;throw new Error("Invalid mode")},t.isValid=function(o){return o&&o.bit&&o.ccBits};function r(l){if(typeof l!="string")throw new Error("Param is not a string");switch(l.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+l)}}t.from=function(o,u){if(t.isValid(o))return o;try{return r(o)}catch{return u}}}(Vd)),Vd}var xy;function L6(){return xy||(xy=1,function(t){const e=Cr(),n=cv(),r=rm(),l=Tr(),o=uv(),u=7973,f=e.getBCHDigit(u);function g(N,w,C){for(let E=1;E<=40;E++)if(w<=t.getCapacity(E,C,N))return E}function h(N,w){return l.getCharCountIndicator(N,w)+4}function x(N,w){let C=0;return N.forEach(function(E){const _=h(E.mode,w);C+=_+E.getBitsLength()}),C}function b(N,w){for(let C=1;C<=40;C++)if(x(N,C)<=t.getCapacity(C,w,l.MIXED))return C}t.from=function(w,C){return o.isValid(w)?parseInt(w,10):C},t.getCapacity=function(w,C,E){if(!o.isValid(w))throw new Error("Invalid QR Code version");typeof E>"u"&&(E=l.BYTE);const _=e.getSymbolTotalCodewords(w),A=n.getTotalCodewordsCount(w,C),P=(_-A)*8;if(E===l.MIXED)return P;const D=P-h(E,w);switch(E){case l.NUMERIC:return Math.floor(D/10*3);case l.ALPHANUMERIC:return Math.floor(D/11*2);case l.KANJI:return Math.floor(D/13);case l.BYTE:default:return Math.floor(D/8)}},t.getBestVersionForData=function(w,C){let E;const _=r.from(C,r.M);if(Array.isArray(w)){if(w.length>1)return b(w,_);if(w.length===0)return 1;E=w[0]}else E=w;return g(E.mode,E.getLength(),_)},t.getEncodedBits=function(w){if(!o.isValid(w)||w<7)throw new Error("Invalid QR Code version");let C=w<<12;for(;e.getBCHDigit(C)-f>=0;)C^=u<<e.getBCHDigit(C)-f;return w<<12|C}}(zd)),zd}var qd={},yy;function P6(){if(yy)return qd;yy=1;const t=Cr(),e=1335,n=21522,r=t.getBCHDigit(e);return qd.getEncodedBits=function(o,u){const f=o.bit<<3|u;let g=f<<10;for(;t.getBCHDigit(g)-r>=0;)g^=e<<t.getBCHDigit(g)-r;return(f<<10|g)^n},qd}var Fd={},Hd,vy;function O6(){if(vy)return Hd;vy=1;const t=Tr();function e(n){this.mode=t.NUMERIC,this.data=n.toString()}return e.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){let l,o,u;for(l=0;l+3<=this.data.length;l+=3)o=this.data.substr(l,3),u=parseInt(o,10),r.put(u,10);const f=this.data.length-l;f>0&&(o=this.data.substr(l),u=parseInt(o,10),r.put(u,f*3+1))},Hd=e,Hd}var Gd,by;function B6(){if(by)return Gd;by=1;const t=Tr(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(r){this.mode=t.ALPHANUMERIC,this.data=r}return n.getBitsLength=function(l){return 11*Math.floor(l/2)+6*(l%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(l){let o;for(o=0;o+2<=this.data.length;o+=2){let u=e.indexOf(this.data[o])*45;u+=e.indexOf(this.data[o+1]),l.put(u,11)}this.data.length%2&&l.put(e.indexOf(this.data[o]),6)},Gd=n,Gd}var Yd,wy;function U6(){if(wy)return Yd;wy=1;const t=Tr();function e(n){this.mode=t.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}return e.getBitsLength=function(r){return r*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(n){for(let r=0,l=this.data.length;r<l;r++)n.put(this.data[r],8)},Yd=e,Yd}var Jd,Ny;function z6(){if(Ny)return Jd;Ny=1;const t=Tr(),e=Cr();function n(r){this.mode=t.KANJI,this.data=r}return n.getBitsLength=function(l){return l*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(r){let l;for(l=0;l<this.data.length;l++){let o=e.toSJIS(this.data[l]);if(o>=33088&&o<=40956)o-=33088;else if(o>=57408&&o<=60351)o-=49472;else throw new Error("Invalid SJIS character: "+this.data[l]+`
Make sure your charset is UTF-8`);o=(o>>>8&255)*192+(o&255),r.put(o,13)}},Jd=n,Jd}var Zd={exports:{}},Sy;function V6(){return Sy||(Sy=1,function(t){var e={single_source_shortest_paths:function(n,r,l){var o={},u={};u[r]=0;var f=e.PriorityQueue.make();f.push(r,0);for(var g,h,x,b,N,w,C,E,_;!f.empty();){g=f.pop(),h=g.value,b=g.cost,N=n[h]||{};for(x in N)N.hasOwnProperty(x)&&(w=N[x],C=b+w,E=u[x],_=typeof u[x]>"u",(_||E>C)&&(u[x]=C,f.push(x,C),o[x]=h))}if(typeof l<"u"&&typeof u[l]>"u"){var A=["Could not find a path from ",r," to ",l,"."].join("");throw new Error(A)}return o},extract_shortest_path_from_predecessor_list:function(n,r){for(var l=[],o=r;o;)l.push(o),n[o],o=n[o];return l.reverse(),l},find_path:function(n,r,l){var o=e.single_source_shortest_paths(n,r,l);return e.extract_shortest_path_from_predecessor_list(o,l)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,l={},o;n=n||{};for(o in r)r.hasOwnProperty(o)&&(l[o]=r[o]);return l.queue=[],l.sorter=n.sorter||r.default_sorter,l},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var l={value:n,cost:r};this.queue.push(l),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e}(Zd)),Zd.exports}var Cy;function $6(){return Cy||(Cy=1,function(t){const e=Tr(),n=O6(),r=B6(),l=U6(),o=z6(),u=dv(),f=Cr(),g=V6();function h(A){return unescape(encodeURIComponent(A)).length}function x(A,P,D){const $=[];let Z;for(;(Z=A.exec(D))!==null;)$.push({data:Z[0],index:Z.index,mode:P,length:Z[0].length});return $}function b(A){const P=x(u.NUMERIC,e.NUMERIC,A),D=x(u.ALPHANUMERIC,e.ALPHANUMERIC,A);let $,Z;return f.isKanjiModeEnabled()?($=x(u.BYTE,e.BYTE,A),Z=x(u.KANJI,e.KANJI,A)):($=x(u.BYTE_KANJI,e.BYTE,A),Z=[]),P.concat(D,$,Z).sort(function(R,B){return R.index-B.index}).map(function(R){return{data:R.data,mode:R.mode,length:R.length}})}function N(A,P){switch(P){case e.NUMERIC:return n.getBitsLength(A);case e.ALPHANUMERIC:return r.getBitsLength(A);case e.KANJI:return o.getBitsLength(A);case e.BYTE:return l.getBitsLength(A)}}function w(A){return A.reduce(function(P,D){const $=P.length-1>=0?P[P.length-1]:null;return $&&$.mode===D.mode?(P[P.length-1].data+=D.data,P):(P.push(D),P)},[])}function C(A){const P=[];for(let D=0;D<A.length;D++){const $=A[D];switch($.mode){case e.NUMERIC:P.push([$,{data:$.data,mode:e.ALPHANUMERIC,length:$.length},{data:$.data,mode:e.BYTE,length:$.length}]);break;case e.ALPHANUMERIC:P.push([$,{data:$.data,mode:e.BYTE,length:$.length}]);break;case e.KANJI:P.push([$,{data:$.data,mode:e.BYTE,length:h($.data)}]);break;case e.BYTE:P.push([{data:$.data,mode:e.BYTE,length:h($.data)}])}}return P}function E(A,P){const D={},$={start:{}};let Z=["start"];for(let L=0;L<A.length;L++){const R=A[L],B=[];for(let z=0;z<R.length;z++){const X=R[z],Q=""+L+z;B.push(Q),D[Q]={node:X,lastCount:0},$[Q]={};for(let G=0;G<Z.length;G++){const O=Z[G];D[O]&&D[O].node.mode===X.mode?($[O][Q]=N(D[O].lastCount+X.length,X.mode)-N(D[O].lastCount,X.mode),D[O].lastCount+=X.length):(D[O]&&(D[O].lastCount=X.length),$[O][Q]=N(X.length,X.mode)+4+e.getCharCountIndicator(X.mode,P))}}Z=B}for(let L=0;L<Z.length;L++)$[Z[L]].end=0;return{map:$,table:D}}function _(A,P){let D;const $=e.getBestModeForData(A);if(D=e.from(P,$),D!==e.BYTE&&D.bit<$.bit)throw new Error('"'+A+'" cannot be encoded with mode '+e.toString(D)+`.
 Suggested mode is: `+e.toString($));switch(D===e.KANJI&&!f.isKanjiModeEnabled()&&(D=e.BYTE),D){case e.NUMERIC:return new n(A);case e.ALPHANUMERIC:return new r(A);case e.KANJI:return new o(A);case e.BYTE:return new l(A)}}t.fromArray=function(P){return P.reduce(function(D,$){return typeof $=="string"?D.push(_($,null)):$.data&&D.push(_($.data,$.mode)),D},[])},t.fromString=function(P,D){const $=b(P,f.isKanjiModeEnabled()),Z=C($),L=E(Z,D),R=g.find_path(L.map,"start","end"),B=[];for(let z=1;z<R.length-1;z++)B.push(L.table[R[z]].node);return t.fromArray(w(B))},t.rawSplit=function(P){return t.fromArray(b(P,f.isKanjiModeEnabled()))}}(Fd)),Fd}var Ty;function q6(){if(Ty)return Md;Ty=1;const t=Cr(),e=rm(),n=k6(),r=A6(),l=_6(),o=j6(),u=M6(),f=cv(),g=D6(),h=L6(),x=P6(),b=Tr(),N=$6();function w(L,R){const B=L.size,z=o.getPositions(R);for(let X=0;X<z.length;X++){const Q=z[X][0],G=z[X][1];for(let O=-1;O<=7;O++)if(!(Q+O<=-1||B<=Q+O))for(let V=-1;V<=7;V++)G+V<=-1||B<=G+V||(O>=0&&O<=6&&(V===0||V===6)||V>=0&&V<=6&&(O===0||O===6)||O>=2&&O<=4&&V>=2&&V<=4?L.set(Q+O,G+V,!0,!0):L.set(Q+O,G+V,!1,!0))}}function C(L){const R=L.size;for(let B=8;B<R-8;B++){const z=B%2===0;L.set(B,6,z,!0),L.set(6,B,z,!0)}}function E(L,R){const B=l.getPositions(R);for(let z=0;z<B.length;z++){const X=B[z][0],Q=B[z][1];for(let G=-2;G<=2;G++)for(let O=-2;O<=2;O++)G===-2||G===2||O===-2||O===2||G===0&&O===0?L.set(X+G,Q+O,!0,!0):L.set(X+G,Q+O,!1,!0)}}function _(L,R){const B=L.size,z=h.getEncodedBits(R);let X,Q,G;for(let O=0;O<18;O++)X=Math.floor(O/3),Q=O%3+B-8-3,G=(z>>O&1)===1,L.set(X,Q,G,!0),L.set(Q,X,G,!0)}function A(L,R,B){const z=L.size,X=x.getEncodedBits(R,B);let Q,G;for(Q=0;Q<15;Q++)G=(X>>Q&1)===1,Q<6?L.set(Q,8,G,!0):Q<8?L.set(Q+1,8,G,!0):L.set(z-15+Q,8,G,!0),Q<8?L.set(8,z-Q-1,G,!0):Q<9?L.set(8,15-Q-1+1,G,!0):L.set(8,15-Q-1,G,!0);L.set(z-8,8,1,!0)}function P(L,R){const B=L.size;let z=-1,X=B-1,Q=7,G=0;for(let O=B-1;O>0;O-=2)for(O===6&&O--;;){for(let V=0;V<2;V++)if(!L.isReserved(X,O-V)){let ne=!1;G<R.length&&(ne=(R[G]>>>Q&1)===1),L.set(X,O-V,ne),Q--,Q===-1&&(G++,Q=7)}if(X+=z,X<0||B<=X){X-=z,z=-z;break}}}function D(L,R,B){const z=new n;B.forEach(function(V){z.put(V.mode.bit,4),z.put(V.getLength(),b.getCharCountIndicator(V.mode,L)),V.write(z)});const X=t.getSymbolTotalCodewords(L),Q=f.getTotalCodewordsCount(L,R),G=(X-Q)*8;for(z.getLengthInBits()+4<=G&&z.put(0,4);z.getLengthInBits()%8!==0;)z.putBit(0);const O=(G-z.getLengthInBits())/8;for(let V=0;V<O;V++)z.put(V%2?17:236,8);return $(z,L,R)}function $(L,R,B){const z=t.getSymbolTotalCodewords(R),X=f.getTotalCodewordsCount(R,B),Q=z-X,G=f.getBlocksCount(R,B),O=z%G,V=G-O,ne=Math.floor(z/G),I=Math.floor(Q/G),Y=I+1,ue=ne-I,H=new g(ue);let S=0;const F=new Array(G),re=new Array(G);let j=0;const ge=new Uint8Array(L.buffer);for(let Ee=0;Ee<G;Ee++){const xt=Ee<V?I:Y;F[Ee]=ge.slice(S,S+xt),re[Ee]=H.encode(F[Ee]),S+=xt,j=Math.max(j,xt)}const Se=new Uint8Array(z);let he=0,Te,ve;for(Te=0;Te<j;Te++)for(ve=0;ve<G;ve++)Te<F[ve].length&&(Se[he++]=F[ve][Te]);for(Te=0;Te<ue;Te++)for(ve=0;ve<G;ve++)Se[he++]=re[ve][Te];return Se}function Z(L,R,B,z){let X;if(Array.isArray(L))X=N.fromArray(L);else if(typeof L=="string"){let ne=R;if(!ne){const I=N.rawSplit(L);ne=h.getBestVersionForData(I,B)}X=N.fromString(L,ne||40)}else throw new Error("Invalid data");const Q=h.getBestVersionForData(X,B);if(!Q)throw new Error("The amount of data is too big to be stored in a QR Code");if(!R)R=Q;else if(R<Q)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+Q+`.
`);const G=D(R,B,X),O=t.getSymbolSize(R),V=new r(O);return w(V,R),C(V),E(V,R),A(V,B,0),R>=7&&_(V,R),P(V,G),isNaN(z)&&(z=u.getBestMask(V,A.bind(null,V,B))),u.applyMask(z,V),A(V,B,z),{modules:V,version:R,errorCorrectionLevel:B,maskPattern:z,segments:X}}return Md.create=function(R,B){if(typeof R>"u"||R==="")throw new Error("No input text");let z=e.M,X,Q;return typeof B<"u"&&(z=e.from(B.errorCorrectionLevel,e.M),X=h.from(B.version),Q=u.from(B.maskPattern),B.toSJISFunc&&t.setToSJISFunction(B.toSJISFunc)),Z(R,X,z,Q)},Md}var Qd={},Kd={},Ey;function fv(){return Ey||(Ey=1,function(t){function e(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(o){return[o,o]}))),r.length===6&&r.push("F","F");const l=parseInt(r.join(""),16);return{r:l>>24&255,g:l>>16&255,b:l>>8&255,a:l&255,hex:"#"+r.slice(0,6).join("")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const l=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,o=r.width&&r.width>=21?r.width:void 0,u=r.scale||4;return{width:o,scale:o?4:u,margin:l,color:{dark:e(r.color.dark||"#000000ff"),light:e(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,l){return l.width&&l.width>=r+l.margin*2?l.width/(r+l.margin*2):l.scale},t.getImageWidth=function(r,l){const o=t.getScale(r,l);return Math.floor((r+l.margin*2)*o)},t.qrToImageData=function(r,l,o){const u=l.modules.size,f=l.modules.data,g=t.getScale(u,o),h=Math.floor((u+o.margin*2)*g),x=o.margin*g,b=[o.color.light,o.color.dark];for(let N=0;N<h;N++)for(let w=0;w<h;w++){let C=(N*h+w)*4,E=o.color.light;if(N>=x&&w>=x&&N<h-x&&w<h-x){const _=Math.floor((N-x)/g),A=Math.floor((w-x)/g);E=b[f[_*u+A]?1:0]}r[C++]=E.r,r[C++]=E.g,r[C++]=E.b,r[C]=E.a}}}(Kd)),Kd}var ky;function F6(){return ky||(ky=1,function(t){const e=fv();function n(l,o,u){l.clearRect(0,0,o.width,o.height),o.style||(o.style={}),o.height=u,o.width=u,o.style.height=u+"px",o.style.width=u+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(o,u,f){let g=f,h=u;typeof g>"u"&&(!u||!u.getContext)&&(g=u,u=void 0),u||(h=r()),g=e.getOptions(g);const x=e.getImageWidth(o.modules.size,g),b=h.getContext("2d"),N=b.createImageData(x,x);return e.qrToImageData(N.data,o,g),n(b,h,x),b.putImageData(N,0,0),h},t.renderToDataURL=function(o,u,f){let g=f;typeof g>"u"&&(!u||!u.getContext)&&(g=u,u=void 0),g||(g={});const h=t.render(o,u,g),x=g.type||"image/png",b=g.rendererOpts||{};return h.toDataURL(x,b.quality)}}(Qd)),Qd}var Wd={},Ay;function H6(){if(Ay)return Wd;Ay=1;const t=fv();function e(l,o){const u=l.a/255,f=o+'="'+l.hex+'"';return u<1?f+" "+o+'-opacity="'+u.toFixed(2).slice(1)+'"':f}function n(l,o,u){let f=l+o;return typeof u<"u"&&(f+=" "+u),f}function r(l,o,u){let f="",g=0,h=!1,x=0;for(let b=0;b<l.length;b++){const N=Math.floor(b%o),w=Math.floor(b/o);!N&&!h&&(h=!0),l[b]?(x++,b>0&&N>0&&l[b-1]||(f+=h?n("M",N+u,.5+w+u):n("m",g,0),g=0,h=!1),N+1<o&&l[b+1]||(f+=n("h",x),x=0)):g++}return f}return Wd.render=function(o,u,f){const g=t.getOptions(u),h=o.modules.size,x=o.modules.data,b=h+g.margin*2,N=g.color.light.a?"<path "+e(g.color.light,"fill")+' d="M0 0h'+b+"v"+b+'H0z"/>':"",w="<path "+e(g.color.dark,"stroke")+' d="'+r(x,h,g.margin)+'"/>',C='viewBox="0 0 '+b+" "+b+'"',_='<svg xmlns="http://www.w3.org/2000/svg" '+(g.width?'width="'+g.width+'" height="'+g.width+'" ':"")+C+' shape-rendering="crispEdges">'+N+w+`</svg>
`;return typeof f=="function"&&f(null,_),_},Wd}var _y;function G6(){if(_y)return hs;_y=1;const t=E6(),e=q6(),n=F6(),r=H6();function l(o,u,f,g,h){const x=[].slice.call(arguments,1),b=x.length,N=typeof x[b-1]=="function";if(!N&&!t())throw new Error("Callback required as last argument");if(N){if(b<2)throw new Error("Too few arguments provided");b===2?(h=f,f=u,u=g=void 0):b===3&&(u.getContext&&typeof h>"u"?(h=g,g=void 0):(h=g,g=f,f=u,u=void 0))}else{if(b<1)throw new Error("Too few arguments provided");return b===1?(f=u,u=g=void 0):b===2&&!u.getContext&&(g=f,f=u,u=void 0),new Promise(function(w,C){try{const E=e.create(f,g);w(o(E,u,g))}catch(E){C(E)}})}try{const w=e.create(f,g);h(null,o(w,u,g))}catch(w){h(w)}}return hs.create=e.create,hs.toCanvas=l.bind(null,n.render),hs.toDataURL=l.bind(null,n.renderToDataURL),hs.toString=l.bind(null,function(o,u,f){return r.render(o,f)}),hs}var Y6=G6();const jy=Wl(Y6),Ro=({url:t,title:e="QR Code",size:n=256,className:r="",showDownload:l=!0,onError:o})=>{const[u,f]=M.useState(""),[g,h]=M.useState(!0),[x,b]=M.useState(null),N=M.useRef(null);M.useEffect(()=>{t&&(async()=>{try{h(!0),b(null);const _={width:n,margin:2,color:{dark:"#000000",light:"#FFFFFF"},errorCorrectionLevel:"M"},A=await jy.toDataURL(t,_);f(A),N.current&&await jy.toCanvas(N.current,t,_)}catch(_){const A=_ instanceof Error?_.message:"QR Code ";b(A),o==null||o(A)}finally{h(!1)}})()},[t,n,o]);const w=()=>{if(N.current)try{const E=document.createElement("a");E.download=`qrcode-${Date.now()}.png`,E.href=N.current.toDataURL(),document.body.appendChild(E),E.click(),document.body.removeChild(E)}catch(E){console.error(" QR Code :",E)}},C=async()=>{if(N.current)try{N.current.toBlob(async E=>{if(E&&navigator.clipboard)try{await navigator.clipboard.write([new ClipboardItem({"image/png":E})]),alert("QR Code ")}catch(_){console.error(":",_),alert("")}})}catch(E){console.error(" QR Code :",E)}};return g?a.jsxs("div",{className:`flex flex-col items-center p-4 ${r}`,children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mb-3"}),a.jsx("p",{className:"text-sm text-gray-600",children:" QR Code ..."})]}):x?a.jsxs("div",{className:`flex flex-col items-center p-4 text-red-600 ${r}`,children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8 mb-2",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})}),a.jsx("p",{className:"text-sm text-center",children:x})]}):a.jsxs("div",{className:`flex flex-col items-center ${r}`,children:[e&&a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3 text-center",children:e}),a.jsx("div",{className:"bg-white p-4 rounded-lg shadow-md border",children:a.jsx("img",{src:u,alt:`QR Code for ${e}`,className:"block",style:{width:n,height:n}})}),a.jsx("canvas",{ref:N,style:{display:"none"},width:n,height:n}),a.jsx("div",{className:"mt-3 max-w-xs w-full",children:a.jsx("p",{className:"text-xs text-gray-500 text-center break-all",children:t})}),l&&a.jsxs("div",{className:"mt-4 flex gap-2",children:[a.jsxs("button",{onClick:w,className:"flex items-center gap-2 px-3 py-2 bg-indigo-600 text-white text-sm rounded-lg hover:bg-indigo-700 transition-colors",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})}),""]}),a.jsxs("button",{onClick:C,className:"flex items-center gap-2 px-3 py-2 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 transition-colors",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"})}),""]})]})]})},My=[{key:"objectives",label:""},{key:"breakdown",label:""},{key:"confusing",label:""},{key:"activities",label:""},{key:"conversation",label:""},{key:"writing",label:""},{key:"quiz",label:""}],sm=({content:t,topic:e,selectedLevel:n,selectedVocabularyLevel:r,apiKey:l,onContentUpdate:o})=>{const[u,f]=Ge.useState(""),[g,h]=Ge.useState(""),[x,b]=Ge.useState(My[0].key),[N,w]=Ge.useState(!1),[C,E]=Ge.useState(""),[_,A]=Ge.useState(""),[P,D]=Ge.useState(!1),[$,Z]=Ge.useState(""),[L,R]=Ge.useState(""),[B,z]=Ge.useState(!1),[X,Q]=Ge.useState(!1),[G,O]=Ge.useState(""),[V,ne]=Ge.useState(""),[I,Y]=Ge.useState(!1),[ue,H]=Ge.useState(!1),[S,F]=Ge.useState(""),[re,j]=Ge.useState(""),[ge,Se]=Ge.useState(!1),[he,Te]=Ge.useState(Z1),[ve,Ee]=Ge.useState(!1),[xt,jt]=Ge.useState(!1),nt=()=>{navigator.clipboard.writeText(JSON.stringify(t,null,2)).then(()=>{f("JSON "),setTimeout(()=>f(""),2e3)}).catch(ce=>{f(""),console.error("Failed to copy: ",ce),setTimeout(()=>f(""),2e3)})},mn=()=>{try{y6(t,e),h("HTML "),setTimeout(()=>h(""),3e3)}catch(ce){console.error("Failed to export HTML:",ce),h(" HTML "),setTimeout(()=>h(""),3e3)}},Kn=async()=>{w(!0),E(""),A("");try{const ce={...t,topic:e,selectedLevel:n,selectedVocabularyLevel:r,sharedAt:new Date().toISOString()},Je=await Yo(ce),Be=`${window.location.origin}/ai-page-gen/share?binId=${Je}`;A(Be)}catch(ce){E(ce.message||"")}finally{w(!1)}},bi=async()=>{if(D(!0),Z(""),R(""),!t.onlineInteractiveQuiz){Z(""),D(!1);return}try{const ce=await a6({quiz:t.onlineInteractiveQuiz,topic:e,apiKey:l,metadata:{selectedLevel:n==null?void 0:n.name,selectedVocabularyLevel:r==null?void 0:r.name,createdAt:new Date().toISOString(),supportsDiagnostic:!!l}});let Je=`${window.location.origin}/ai-page-gen/quiz?binId=${ce}`;if(l)try{const Be=await ty(l);Je+=`&${Be}`}catch(Be){console.warn(" API Key  API Key:",Be)}R(Je)}catch(ce){Z(ce.message||"")}finally{D(!1)}},wi=async()=>{if(Q(!0),O(""),ne(""),!t.writingPractice){O(""),Q(!1);return}try{const ce=await c6({writingPractice:t.writingPractice,topic:e,metadata:{selectedLevel:n==null?void 0:n.name,selectedVocabularyLevel:r==null?void 0:r.name,createdAt:new Date().toISOString()}});let Je=`${window.location.origin}/ai-page-gen/writing?binId=${ce}`;if(l)try{const Be=await ty(l);Je+=`&${Be}`}catch(Be){console.warn(" API Key  API Key:",Be)}ne(Je)}catch(ce){O(ce.message||"")}finally{Q(!1)}},Pe=async()=>{H(!0),F(""),j("");try{const ce={...t,topic:e,selectedLevel:n,selectedVocabularyLevel:r,sharedAt:new Date().toISOString()},Je=await Yo(ce),Be=`${window.location.origin}/ai-page-gen/teacher-interactive-prep?binId=${Je}`;j(Be)}catch(ce){F(ce.message||"")}finally{H(!1)}},Xi=async()=>{if(!t.learningObjectives){alert("");return}const ce=localStorage.getItem("gemini_api_key")||localStorage.getItem("geminiApiKey")||l;if(!ce){alert(" Gemini API ");return}Ee(!0);try{const Je=await Fk(e,ce,t.learningObjectives,he,n,r),Be={...t,onlineInteractiveQuiz:Je};o&&o(Be),jt(!1),alert("")}catch(Je){console.error(":",Je),alert(": "+(Je.message||""))}finally{Ee(!1)}};return a.jsxs("div",{className:"mt-8",children:[a.jsxs("div",{className:"flex flex-wrap justify-end items-center gap-2 mb-4",children:[a.jsxs("button",{onClick:nt,className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors flex items-center text-sm","aria-label":" JSON ",children:[a.jsx(t6,{className:"w-4 h-4 mr-2"}),"  JSON"]}),a.jsxs("button",{onClick:mn,className:"px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition-colors flex items-center text-sm","aria-label":" HTML ",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4 mr-2",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})})," HTML"]}),a.jsx("button",{onClick:Kn,className:"px-4 py-2 bg-purple-500 text-white rounded-md hover:bg-purple-600 transition-colors flex items-center text-sm disabled:opacity-60","aria-label":"",disabled:N,children:N?a.jsxs("span",{className:"flex items-center",children:[a.jsx("span",{className:"animate-spin mr-2",children:""})," ..."]}):a.jsx("span",{children:""})}),a.jsx("button",{onClick:Pe,className:"px-4 py-2 bg-emerald-500 text-white rounded-md hover:bg-emerald-600 transition-colors flex items-center text-sm disabled:opacity-60","aria-label":"",disabled:ue,children:ue?a.jsxs("span",{className:"flex items-center",children:[a.jsx("span",{className:"animate-spin mr-2",children:""})," ..."]}):a.jsxs("span",{className:"flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4 mr-2",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"})}),""]})}),u&&a.jsx("span",{className:"text-sm text-green-600",children:u}),g&&a.jsx("span",{className:"text-sm text-blue-600",children:g}),C&&a.jsx("span",{className:"text-sm text-red-600",children:C}),S&&a.jsx("span",{className:"text-sm text-red-600",children:S})]}),_&&a.jsxs("div",{className:"mb-4 p-4 bg-purple-50 border border-purple-200 rounded-lg",children:[a.jsx("p",{className:"text-sm text-purple-700 mb-2",children:""}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"text",value:_,readOnly:!0,className:"flex-1 px-3 py-2 bg-white border border-purple-300 rounded text-sm",onClick:()=>navigator.clipboard.writeText(_)}),a.jsx("button",{onClick:()=>navigator.clipboard.writeText(_),className:"px-3 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 text-sm",children:""})]})]}),re&&a.jsxs("div",{className:"mb-4 p-4 bg-emerald-50 border border-emerald-200 rounded-lg",children:[a.jsx("p",{className:"text-sm text-emerald-700 mb-2",children:""}),a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("input",{type:"text",value:re,readOnly:!0,className:"flex-1 px-3 py-2 bg-white border border-emerald-300 rounded text-sm",onClick:()=>navigator.clipboard.writeText(re)}),a.jsx("button",{onClick:()=>navigator.clipboard.writeText(re),className:"px-3 py-2 bg-emerald-600 text-white rounded hover:bg-emerald-700 text-sm",children:""}),a.jsxs("button",{onClick:()=>Se(!ge),className:"px-3 py-2 bg-emerald-600 text-white rounded hover:bg-emerald-700 text-sm flex items-center gap-1",children:[a.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 3.75 9.375v-4.5ZM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5ZM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 13.5 9.375v-4.5Z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 6.75h.75v.75h-.75v-.75ZM6.75 16.5h.75v.75h-.75v-.75ZM16.5 6.75h.75v.75h-.75v-.75ZM13.5 13.5h.75v.75h-.75v-.75ZM13.5 19.5h.75v.75h-.75v-.75ZM19.5 13.5h.75v.75h-.75v-.75ZM19.5 19.5h.75v.75h-.75v-.75ZM16.5 16.5h.75v.75h-.75v-.75Z"})]}),"QR"]})]}),ge&&a.jsx("div",{className:"mt-4 flex justify-center",children:a.jsx(Ro,{url:re,title:" QR Code",size:200,className:"bg-white p-4 rounded-lg shadow-sm"})}),a.jsx("div",{className:"text-xs text-emerald-600 bg-emerald-100 px-3 py-2 rounded-lg",children:" "})]}),a.jsx("div",{className:"mb-8 p-6 bg-gradient-to-r from-indigo-50 to-blue-50 border border-indigo-200 rounded-lg shadow-sm",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Rf,{className:"w-5 h-5 text-indigo-600 flex-shrink-0"}),a.jsx("span",{className:"text-sm font-medium text-indigo-600",children:""})]}),a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-0 truncate",children:e})]}),(n||r)&&a.jsxs("div",{className:"flex gap-3 ml-6 flex-shrink-0",children:[n&&a.jsxs("div",{className:"bg-white px-3 py-2 rounded-lg shadow-sm border border-indigo-100",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Rn,{className:"w-4 h-4 text-indigo-500"}),a.jsx("span",{className:"text-xs font-medium text-indigo-600",children:""})]}),a.jsx("div",{className:"text-sm font-semibold text-gray-900",children:n.name}),a.jsx("div",{className:"text-xs text-gray-500 truncate max-w-32",title:n.description,children:n.description.length>20?n.description.substring(0,20)+"...":n.description})]}),r&&a.jsxs("div",{className:"bg-white px-3 py-2 rounded-lg shadow-sm border border-blue-100",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx(Go,{className:"w-4 h-4 text-blue-500"}),a.jsx("span",{className:"text-xs font-medium text-blue-600",children:""})]}),a.jsx("div",{className:"text-sm font-semibold text-gray-900",children:r.name}),a.jsxs("div",{className:"text-xs text-gray-500",children:[r.wordCount," "]})]})]})]})}),a.jsxs(C6,{tabs:My,current:x,onChange:b,children:[a.jsx(jn,{title:"",icon:a.jsx(Rn,{className:"w-7 h-7"}),children:t.learningObjectives&&t.learningObjectives.length>0?t.learningObjectives.map((ce,Je)=>a.jsxs("div",{className:"mb-4 pb-4 border-b border-slate-200 last:border-b-0 last:pb-0",children:[a.jsx("h4",{className:"font-semibold text-lg text-green-800 mb-1",children:ce.objective}),a.jsx("p",{className:"text-slate-700 mb-2",children:ce.description}),ce.teachingExample&&a.jsxs("div",{className:"bg-green-50 border-l-4 border-green-400 p-3 rounded-md mt-2",children:[a.jsx("span",{className:"block text-xs font-semibold text-green-700 mb-1",children:""}),a.jsx("span",{className:"text-green-900 text-sm",children:ce.teachingExample})]})]},Je)):a.jsx("p",{children:""})}),a.jsx(jn,{title:"",icon:a.jsx(Go,{className:"w-7 h-7"}),children:t.contentBreakdown&&t.contentBreakdown.length>0?t.contentBreakdown.map((ce,Je)=>a.jsxs("div",{className:"mb-6 pb-6 border-b border-slate-200 last:border-b-0 last:pb-0",children:[a.jsx("h4",{className:"font-semibold text-lg text-sky-800 mb-1",children:ce.topic}),a.jsx("p",{className:"text-slate-700 mb-3",children:ce.details}),ce.coreConcept&&a.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-3 rounded-md mb-3",children:[a.jsx("span",{className:"block text-xs font-semibold text-blue-700 mb-1",children:""}),a.jsx("span",{className:"text-blue-900 text-sm",children:ce.coreConcept})]}),ce.teachingSentences&&ce.teachingSentences.length>0&&a.jsxs("div",{className:"bg-indigo-50 border-l-4 border-indigo-400 p-3 rounded-md mb-3",children:[a.jsx("span",{className:"block text-xs font-semibold text-indigo-700 mb-2",children:""}),a.jsx("div",{className:"space-y-1",children:ce.teachingSentences.map((Be,yt)=>a.jsxs("div",{className:"text-indigo-900 text-sm",children:[a.jsxs("span",{className:"font-mono text-indigo-600",children:[yt+1,"."]})," ",Be]},yt))})]}),ce.teachingTips&&a.jsxs("div",{className:"bg-purple-50 border-l-4 border-purple-400 p-3 rounded-md mb-3",children:[a.jsx("span",{className:"block text-xs font-semibold text-purple-700 mb-1",children:""}),a.jsx("span",{className:"text-purple-900 text-sm",children:ce.teachingTips})]}),ce.teachingExample&&a.jsxs("div",{className:"bg-sky-50 border-l-4 border-sky-400 p-3 rounded-md",children:[a.jsx("span",{className:"block text-xs font-semibold text-sky-700 mb-1",children:""}),a.jsx("span",{className:"text-sky-900 text-sm",children:ce.teachingExample})]})]},Je)):a.jsx("p",{children:""})}),a.jsx(jn,{title:"",icon:a.jsx(Rf,{className:"w-7 h-7"}),children:t.confusingPoints&&t.confusingPoints.length>0?t.confusingPoints.map((ce,Je)=>a.jsxs("div",{className:"mb-6 pb-6 border-b border-slate-200 last:border-b-0 last:pb-0",children:[a.jsx("h4",{className:"font-semibold text-lg text-red-700 mb-2",children:ce.point}),a.jsx("p",{className:"text-slate-700 mb-3",children:ce.clarification}),ce.errorType&&a.jsxs("div",{className:"bg-orange-50 border-l-4 border-orange-400 p-3 rounded-md mb-3",children:[a.jsx("span",{className:"block text-xs font-semibold text-orange-700 mb-1",children:""}),a.jsx("span",{className:"text-orange-900 text-sm",children:ce.errorType})]}),ce.commonErrors&&ce.commonErrors.length>0&&a.jsxs("div",{className:"bg-red-50 border-l-4 border-red-400 p-3 rounded-md mb-3",children:[a.jsx("span",{className:"block text-xs font-semibold text-red-700 mb-2",children:""}),a.jsx("div",{className:"space-y-1",children:ce.commonErrors.map((Be,yt)=>a.jsxs("div",{className:"text-red-900 text-sm",children:[a.jsxs("span",{className:"font-mono text-red-600",children:[yt+1,"."]})," ",Be]},yt))})]}),ce.correctVsWrong&&ce.correctVsWrong.length>0&&a.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-3 rounded-md mb-3",children:[a.jsx("span",{className:"block text-xs font-semibold text-yellow-700 mb-2",children:""}),a.jsx("div",{className:"space-y-3",children:ce.correctVsWrong.map((Be,yt)=>a.jsxs("div",{className:"border border-yellow-200 rounded-md p-2 bg-white",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-2",children:[a.jsxs("div",{className:"bg-green-50 p-2 rounded border border-green-200",children:[a.jsx("span",{className:"block text-xs font-semibold text-green-700 mb-1",children:" "}),a.jsx("span",{className:"text-green-900 text-sm",children:Be.correct})]}),a.jsxs("div",{className:"bg-red-50 p-2 rounded border border-red-200",children:[a.jsx("span",{className:"block text-xs font-semibold text-red-700 mb-1",children:" "}),a.jsx("span",{className:"text-red-900 text-sm",children:Be.wrong})]})]}),a.jsxs("div",{className:"bg-blue-50 p-2 rounded border border-blue-200",children:[a.jsx("span",{className:"block text-xs font-semibold text-blue-700 mb-1",children:""}),a.jsx("span",{className:"text-blue-900 text-sm",children:Be.explanation})]})]},yt))})]}),ce.preventionStrategy&&a.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-3 rounded-md mb-3",children:[a.jsx("span",{className:"block text-xs font-semibold text-blue-700 mb-1",children:""}),a.jsx("span",{className:"text-blue-900 text-sm",children:ce.preventionStrategy})]}),ce.correctionMethod&&a.jsxs("div",{className:"bg-purple-50 border-l-4 border-purple-400 p-3 rounded-md mb-3",children:[a.jsx("span",{className:"block text-xs font-semibold text-purple-700 mb-1",children:""}),a.jsx("span",{className:"text-purple-900 text-sm",children:ce.correctionMethod})]}),ce.practiceActivities&&ce.practiceActivities.length>0&&a.jsxs("div",{className:"bg-indigo-50 border-l-4 border-indigo-400 p-3 rounded-md mb-3",children:[a.jsx("span",{className:"block text-xs font-semibold text-indigo-700 mb-2",children:""}),a.jsx("div",{className:"space-y-1",children:ce.practiceActivities.map((Be,yt)=>a.jsxs("div",{className:"text-indigo-900 text-sm",children:[a.jsxs("span",{className:"font-mono text-indigo-600",children:[yt+1,"."]})," ",Be]},yt))})]}),ce.teachingExample&&a.jsxs("div",{className:"bg-gray-50 border-l-4 border-gray-400 p-3 rounded-md",children:[a.jsx("span",{className:"block text-xs font-semibold text-gray-700 mb-1",children:""}),a.jsx("span",{className:"text-gray-900 text-sm",children:ce.teachingExample})]})]},Je)):a.jsx("p",{children:""})}),a.jsx(jn,{title:"",icon:a.jsx(e6,{className:"w-7 h-7"}),children:t.classroomActivities&&t.classroomActivities.length>0?a.jsx("div",{className:"space-y-6",children:t.classroomActivities.map((ce,Je)=>a.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl shadow-sm hover:shadow-md transition-shadow duration-200",children:[a.jsxs("div",{className:"bg-gradient-to-r from-sky-50 to-blue-50 px-6 py-4 border-b border-slate-200 rounded-t-xl",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-sky-500 text-white rounded-full font-bold text-sm",children:Je+1}),a.jsx("h4",{className:"font-bold text-xl text-sky-800",children:ce.title})]}),a.jsx("p",{className:"mt-3 text-slate-700 leading-relaxed",children:ce.description})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[ce.objective&&a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),a.jsx("span",{className:"font-semibold text-green-800 text-sm",children:""})]}),a.jsx("p",{className:"text-green-900 text-sm leading-relaxed",children:ce.objective})]}),ce.timing&&a.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),a.jsx("span",{className:"font-semibold text-purple-800 text-sm",children:""})]}),a.jsx("p",{className:"text-purple-900 text-sm leading-relaxed",children:ce.timing})]}),ce.materials&&a.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),a.jsx("span",{className:"font-semibold text-orange-800 text-sm",children:""})]}),a.jsx("p",{className:"text-orange-900 text-sm leading-relaxed",children:ce.materials})]}),ce.environment&&a.jsxs("div",{className:"bg-teal-50 border border-teal-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("div",{className:"w-2 h-2 bg-teal-500 rounded-full"}),a.jsx("span",{className:"font-semibold text-teal-800 text-sm",children:""})]}),a.jsx("p",{className:"text-teal-900 text-sm leading-relaxed",children:ce.environment})]})]}),ce.steps&&ce.steps.length>0&&a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5 text-blue-600",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0ZM3.75 12h.007v.008H3.75V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm-.375 5.25h.007v.008H3.75v-.008Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"})}),a.jsx("span",{className:"font-semibold text-blue-800",children:""})]}),a.jsx("div",{className:"space-y-3",children:ce.steps.map((Be,yt)=>a.jsxs("div",{className:"flex gap-3",children:[a.jsx("div",{className:"flex items-center justify-center w-6 h-6 bg-blue-500 text-white rounded-full font-semibold text-xs flex-shrink-0 mt-0.5",children:yt+1}),a.jsx("p",{className:"text-blue-900 text-sm leading-relaxed flex-1",children:Be})]},yt))})]})}),ce.assessmentPoints&&ce.assessmentPoints.length>0&&a.jsx("div",{children:a.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5 text-indigo-600",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.746 3.746 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"})}),a.jsx("span",{className:"font-semibold text-indigo-800",children:""})]}),a.jsx("div",{className:"space-y-2",children:ce.assessmentPoints.map((Be,yt)=>a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-2 h-2 bg-indigo-500 rounded-full mt-2 flex-shrink-0"}),a.jsx("p",{className:"text-indigo-900 text-sm leading-relaxed",children:Be})]},yt))})]})})]})]},Je))}):a.jsx("p",{children:""})}),t.englishConversation&&t.englishConversation.length>0?a.jsx(g6,{dialogue:t.englishConversation}):a.jsx(jn,{title:"",icon:a.jsx(If,{className:"w-7 h-7"}),children:a.jsx("p",{children:""})}),t.writingPractice?a.jsxs("div",{children:[a.jsx("div",{className:"flex justify-end mb-4",children:a.jsx("button",{onClick:wi,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center gap-2 text-sm",disabled:X,children:X?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"animate-spin",children:""}),"..."]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.935-2.186 2.25 2.25 0 0 0-3.935 2.186Z"})}),""]})})}),G&&a.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-lg",children:G}),V&&a.jsxs("div",{className:"mb-4 p-4 bg-purple-50 border border-purple-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("p",{className:"text-sm text-purple-700",children:""}),l&&a.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full",children:" AI "})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("input",{type:"text",value:V,readOnly:!0,className:"w-full px-3 py-2 bg-white border border-purple-300 rounded text-sm",onClick:()=>navigator.clipboard.writeText(V)}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:[a.jsx("button",{onClick:()=>navigator.clipboard.writeText(V),className:"flex-1 px-3 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 text-sm transition-colors",children:""}),a.jsxs("button",{onClick:()=>Y(!I),className:"flex-1 px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm flex items-center justify-center gap-1 transition-colors",children:[a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 3.75 9.375v-4.5ZM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5ZM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 13.5 9.375v-4.5Z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 6.75h.75v.75h-.75v-.75ZM6.75 16.5h.75v.75h-.75v-.75ZM16.5 6.75h.75v.75h-.75v-.75ZM13.5 13.5H8.25v1.5H13.5V13.5ZM13.5 16.5H8.25V18H13.5v-1.5ZM16.5 16.5h1.5V18h-1.5v-1.5ZM16.5 13.5h1.5v1.5h-1.5v-1.5Z"})]})," QR Code"]})]})]}),I&&a.jsx("div",{className:"mt-4 flex justify-center",children:a.jsx(Ro,{url:V,title:" QR Code",size:200,className:"bg-white p-4 rounded-lg shadow-sm"})}),l&&a.jsx("p",{className:"text-xs text-purple-600 mt-2",children:"  API Key AI "})]}),a.jsx(sv,{content:t.writingPractice,apiKey:l,vocabularyLevel:r||void 0})]}):a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center border border-gray-200",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-16 h-16 text-gray-400 mx-auto mb-4",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})}),a.jsx("h4",{className:"text-lg font-semibold text-gray-700 mb-2",children:""}),a.jsx("p",{className:"text-gray-500",children:""})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex flex-wrap justify-end items-center gap-2 mb-4",children:[a.jsx("button",{onClick:bi,className:"px-4 py-2 bg-orange-500 text-white rounded-md hover:bg-orange-600 transition-colors flex items-center text-sm disabled:opacity-60","aria-label":"",disabled:P,children:P?a.jsxs("span",{className:"flex items-center",children:[a.jsx("span",{className:"animate-spin mr-2",children:""})," ..."]}):a.jsxs("span",{className:"flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4 mr-2",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})}),""]})}),a.jsxs("button",{onClick:()=>jt(!xt),className:"px-4 py-2 bg-teal-500 text-white rounded-md hover:bg-teal-600 transition-colors flex items-center text-sm","aria-label":"",children:[a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4 mr-2",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a6.759 6.759 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]}),""]})]}),$&&a.jsx("span",{className:"text-sm text-red-600",children:$}),L&&a.jsxs("div",{className:"mb-4 p-4 bg-orange-50 border border-orange-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("p",{className:"text-sm text-orange-700",children:""}),l&&a.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full",children:" AI "})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("input",{type:"text",value:L,readOnly:!0,className:"w-full px-3 py-2 bg-white border border-orange-300 rounded text-sm",onClick:()=>navigator.clipboard.writeText(L)}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:[a.jsxs("button",{onClick:()=>navigator.clipboard.writeText(L),className:"flex-1 px-3 py-2 bg-orange-600 text-white rounded hover:bg-orange-700 text-sm flex items-center justify-center gap-1",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"})}),""]}),a.jsxs("button",{onClick:()=>z(!B),className:"flex-1 px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm flex items-center justify-center gap-1",children:[a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 3.75 9.375v-4.5ZM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5ZM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 13.5 9.375v-4.5Z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 6.75h.75v.75h-.75v-.75ZM6.75 16.5h.75v.75h-.75v-.75ZM16.5 6.75h.75v.75h-.75v-.75ZM13.5 13.5H8.25v1.5H13.5V13.5ZM13.5 16.5H8.25V18H13.5v-1.5ZM16.5 16.5h1.5V18h-1.5v-1.5ZM16.5 13.5h1.5v1.5h-1.5v-1.5Z"})]})," QR Code"]})]})]}),B&&a.jsx("div",{className:"mt-4 flex justify-center",children:a.jsx(Ro,{url:L,title:" QR Code",size:200,className:"bg-white p-4 rounded-lg shadow-sm"})}),l&&a.jsx("p",{className:"text-xs text-orange-600 mt-2",children:"  API Key AI "})]}),xt&&a.jsx(T6,{config:he,onConfigChange:Te,onRegenerate:Xi,isGenerating:ve}),a.jsx(p6,{quizzes:t.onlineInteractiveQuiz,topic:e,apiKey:l,enableDiagnostic:!!l})]})]})]})},J6=({learningLevels:t,onLevelSelect:e,onGenerateWithLevel:n,selectedLevelId:r,isLoading:l=!1})=>{var h;const[o,u]=M.useState(r||t.defaultLevelId),f=x=>{u(x.id),e==null||e(x)},g=[...t.suggestedLevels].sort((x,b)=>x.order-b.order);return a.jsx(jn,{title:"",icon:a.jsx(Rn,{className:"w-7 h-7"}),children:a.jsxs("div",{className:"space-y-3",children:[a.jsx("p",{className:"text-sm text-slate-600 mb-4",children:""}),a.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:g.map(x=>a.jsxs("div",{className:`
                relative p-4 rounded-lg border-2 cursor-pointer transition-all duration-200
                ${o===x.id?"border-sky-500 bg-sky-50 shadow-md":"border-slate-300 bg-white hover:border-sky-300 hover:shadow-sm"}
              `,onClick:()=>f(x),children:[a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:`
                  flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold
                  ${o===x.id?"bg-sky-500 text-white":"bg-slate-200 text-slate-700"}
                `,children:x.order}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h4",{className:`
                    text-lg font-semibold mb-2
                    ${o===x.id?"text-sky-700":"text-slate-700"}
                  `,children:x.name}),a.jsx("p",{className:`
                    text-sm leading-relaxed
                    ${o===x.id?"text-sky-600":"text-slate-600"}
                  `,children:x.description})]})]}),o===x.id&&a.jsx("div",{className:"absolute top-2 right-2",children:a.jsx("div",{className:"w-3 h-3 bg-sky-500 rounded-full flex items-center justify-center",children:a.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})})})]},x.id))}),a.jsxs("div",{className:"mt-4 space-y-3",children:[a.jsx("div",{className:"p-3 bg-slate-50 rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-slate-600",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsxs("span",{children:["",a.jsx("strong",{children:(h=g.find(x=>x.id===o))==null?void 0:h.name})]})]})}),n&&a.jsx("div",{className:"flex justify-center",children:a.jsx("button",{onClick:()=>{const x=g.find(b=>b.id===o);x&&n(x)},disabled:l,className:"px-8 py-3 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50 transition-colors disabled:bg-slate-400 disabled:cursor-not-allowed flex items-center",children:l?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"..."]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),""]})})})]})]})})},Xd=[{id:"beginner",name:" (100-500)",wordCount:500,description:""},{id:"elementary",name:" (500-1000)",wordCount:1e3,description:""},{id:"pre-intermediate",name:" (1000-2000)",wordCount:2e3,description:""},{id:"intermediate",name:" (2000-3500)",wordCount:3500,description:""},{id:"upper-intermediate",name:" (3500-5000)",wordCount:5e3,description:""},{id:"advanced",name:" (5000-7000)",wordCount:7e3,description:""}],Z6=({onVocabularyLevelSelect:t,selectedLevel:e,isVisible:n=!0})=>{var u,f;const[r,l]=M.useState((e==null?void 0:e.id)||"intermediate"),o=g=>{l(g.id),t(g)};return n?a.jsx(jn,{title:"",icon:a.jsx(Go,{className:"w-7 h-7"}),children:a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-sm text-slate-600",children:""}),a.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:Xd.map(g=>a.jsxs("div",{className:`
                relative p-4 rounded-lg border-2 cursor-pointer transition-all duration-200
                ${r===g.id?"border-green-500 bg-green-50 shadow-md":"border-slate-300 bg-white hover:border-green-300 hover:shadow-sm"}
              `,onClick:()=>o(g),children:[a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:`
                    flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold
                    ${r===g.id?"bg-green-500 text-white":"bg-slate-200 text-slate-700"}
                  `,children:g.wordCount>=1e3?`${g.wordCount/1e3}k`:g.wordCount}),a.jsx("h4",{className:`
                    text-sm font-semibold
                    ${r===g.id?"text-green-700":"text-slate-700"}
                  `,children:g.name})]}),a.jsx("p",{className:`
                  text-xs leading-relaxed
                  ${r===g.id?"text-green-600":"text-slate-600"}
                `,children:g.description})]}),r===g.id&&a.jsx("div",{className:"absolute top-2 right-2",children:a.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full flex items-center justify-center",children:a.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})})})]},g.id))}),a.jsx("div",{className:"p-3 bg-slate-50 rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-slate-600",children:[a.jsx(Go,{className:"w-4 h-4"}),a.jsxs("span",{children:["",a.jsx("strong",{children:(u=Xd.find(g=>g.id===r))==null?void 0:u.name}),"",(f=Xd.find(g=>g.id===r))==null?void 0:f.wordCount," "]})]})})]})}):null},mv=({isOpen:t,onSave:e})=>{const[n,r]=M.useState("");return t?a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full",children:[a.jsx("h2",{className:"text-xl font-bold mb-4 text-sky-700",children:" Gemini API "}),a.jsx("input",{type:"password",className:"w-full border border-slate-300 rounded px-3 py-2 mb-4 focus:outline-none focus:ring-2 focus:ring-sky-400",placeholder:" Gemini API Key...",value:n,onChange:l=>r(l.target.value)}),a.jsx("button",{className:"w-full bg-sky-600 hover:bg-sky-700 text-white font-semibold py-2 rounded transition",onClick:()=>{n.trim()&&(e(n.trim()),r(""))},children:""}),a.jsx("p",{className:"text-xs text-slate-500 mt-3",children:""})]})}):null};var Ll={},Ry;function Q6(){if(Ry)return Ll;Ry=1,Object.defineProperty(Ll,"__esModule",{value:!0}),Ll.parse=u,Ll.serialize=h;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,o=(()=>{const N=function(){};return N.prototype=Object.create(null),N})();function u(N,w){const C=new o,E=N.length;if(E<2)return C;const _=(w==null?void 0:w.decode)||x;let A=0;do{const P=N.indexOf("=",A);if(P===-1)break;const D=N.indexOf(";",A),$=D===-1?E:D;if(P>$){A=N.lastIndexOf(";",P-1)+1;continue}const Z=f(N,A,P),L=g(N,P,Z),R=N.slice(Z,L);if(C[R]===void 0){let B=f(N,P+1,$),z=g(N,$,B);const X=_(N.slice(B,z));C[R]=X}A=$+1}while(A<E);return C}function f(N,w,C){do{const E=N.charCodeAt(w);if(E!==32&&E!==9)return w}while(++w<C);return C}function g(N,w,C){for(;w>C;){const E=N.charCodeAt(--w);if(E!==32&&E!==9)return w+1}return C}function h(N,w,C){const E=(C==null?void 0:C.encode)||encodeURIComponent;if(!t.test(N))throw new TypeError(`argument name is invalid: ${N}`);const _=E(w);if(!e.test(_))throw new TypeError(`argument val is invalid: ${w}`);let A=N+"="+_;if(!C)return A;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);A+="; Max-Age="+C.maxAge}if(C.domain){if(!n.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);A+="; Domain="+C.domain}if(C.path){if(!r.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);A+="; Path="+C.path}if(C.expires){if(!b(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);A+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(A+="; HttpOnly"),C.secure&&(A+="; Secure"),C.partitioned&&(A+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":A+="; Priority=Low";break;case"medium":A+="; Priority=Medium";break;case"high":A+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":A+="; SameSite=Strict";break;case"lax":A+="; SameSite=Lax";break;case"none":A+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return A}function x(N){if(N.indexOf("%")===-1)return N;try{return decodeURIComponent(N)}catch{return N}}function b(N){return l.call(N)==="[object Date]"}return Ll}Q6();var Iy="popstate";function K6(t={}){function e(r,l){let{pathname:o,search:u,hash:f}=r.location;return Pf("",{pathname:o,search:u,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(r,l){return typeof l=="string"?l:Ql(l)}return X6(e,n,null,t)}function gt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function In(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function W6(){return Math.random().toString(36).substring(2,10)}function Dy(t,e){return{usr:t.state,key:t.key,idx:e}}function Pf(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Rs(e):e,state:n,key:e&&e.key||r||W6()}}function Ql({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Rs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function X6(t,e,n,r={}){let{window:l=document.defaultView,v5Compat:o=!1}=r,u=l.history,f="POP",g=null,h=x();h==null&&(h=0,u.replaceState({...u.state,idx:h},""));function x(){return(u.state||{idx:null}).idx}function b(){f="POP";let _=x(),A=_==null?null:_-h;h=_,g&&g({action:f,location:E.location,delta:A})}function N(_,A){f="PUSH";let P=Pf(E.location,_,A);h=x()+1;let D=Dy(P,h),$=E.createHref(P);try{u.pushState(D,"",$)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;l.location.assign($)}o&&g&&g({action:f,location:E.location,delta:1})}function w(_,A){f="REPLACE";let P=Pf(E.location,_,A);h=x();let D=Dy(P,h),$=E.createHref(P);u.replaceState(D,"",$),o&&g&&g({action:f,location:E.location,delta:0})}function C(_){return eA(_)}let E={get action(){return f},get location(){return t(l,u)},listen(_){if(g)throw new Error("A history only accepts one active listener");return l.addEventListener(Iy,b),g=_,()=>{l.removeEventListener(Iy,b),g=null}},createHref(_){return e(l,_)},createURL:C,encodeLocation(_){let A=C(_);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:N,replace:w,go(_){return u.go(_)}};return E}function eA(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),gt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Ql(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function hv(t,e,n="/"){return tA(t,e,n,!1)}function tA(t,e,n,r){let l=typeof e=="string"?Rs(e):e,o=xi(l.pathname||"/",n);if(o==null)return null;let u=pv(t);nA(u);let f=null;for(let g=0;f==null&&g<u.length;++g){let h=mA(o);f=dA(u[g],h,r)}return f}function pv(t,e=[],n=[],r=""){let l=(o,u,f)=>{let g={relativePath:f===void 0?o.path||"":f,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};g.relativePath.startsWith("/")&&(gt(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length));let h=pi([r,g.relativePath]),x=n.concat(g);o.children&&o.children.length>0&&(gt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),pv(o.children,e,x,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:cA(h,o.index),routesMeta:x})};return t.forEach((o,u)=>{var f;if(o.path===""||!((f=o.path)!=null&&f.includes("?")))l(o,u);else for(let g of gv(o.path))l(o,u,g)}),e}function gv(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,l=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return l?[o,""]:[o];let u=gv(r.join("/")),f=[];return f.push(...u.map(g=>g===""?o:[o,g].join("/"))),l&&f.push(...u),f.map(g=>t.startsWith("/")&&g===""?"/":g)}function nA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:uA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var iA=/^:[\w-]+$/,rA=3,sA=2,lA=1,aA=10,oA=-2,Ly=t=>t==="*";function cA(t,e){let n=t.split("/"),r=n.length;return n.some(Ly)&&(r+=oA),e&&(r+=sA),n.filter(l=>!Ly(l)).reduce((l,o)=>l+(iA.test(o)?rA:o===""?lA:aA),r)}function uA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,l)=>r===e[l])?t[t.length-1]-e[e.length-1]:0}function dA(t,e,n=!1){let{routesMeta:r}=t,l={},o="/",u=[];for(let f=0;f<r.length;++f){let g=r[f],h=f===r.length-1,x=o==="/"?e:e.slice(o.length)||"/",b=Jo({path:g.relativePath,caseSensitive:g.caseSensitive,end:h},x),N=g.route;if(!b&&h&&n&&!r[r.length-1].route.index&&(b=Jo({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},x)),!b)return null;Object.assign(l,b.params),u.push({params:l,pathname:pi([o,b.pathname]),pathnameBase:xA(pi([o,b.pathnameBase])),route:N}),b.pathnameBase!=="/"&&(o=pi([o,b.pathnameBase]))}return u}function Jo(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=fA(t.path,t.caseSensitive,t.end),l=e.match(n);if(!l)return null;let o=l[0],u=o.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:r.reduce((h,{paramName:x,isOptional:b},N)=>{if(x==="*"){let C=f[N]||"";u=o.slice(0,o.length-C.length).replace(/(.)\/+$/,"$1")}const w=f[N];return b&&!w?h[x]=void 0:h[x]=(w||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:u,pattern:t}}function fA(t,e=!1,n=!0){In(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],l="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,g)=>(r.push({paramName:f,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),l+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":t!==""&&t!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),r]}function mA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return In(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function xi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function hA(t,e="/"){let{pathname:n,search:r="",hash:l=""}=typeof t=="string"?Rs(t):t;return{pathname:n?n.startsWith("/")?n:pA(n,e):e,search:yA(r),hash:vA(l)}}function pA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function ef(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function gA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function xv(t){let e=gA(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function yv(t,e,n,r=!1){let l;typeof t=="string"?l=Rs(t):(l={...t},gt(!l.pathname||!l.pathname.includes("?"),ef("?","pathname","search",l)),gt(!l.pathname||!l.pathname.includes("#"),ef("#","pathname","hash",l)),gt(!l.search||!l.search.includes("#"),ef("#","search","hash",l)));let o=t===""||l.pathname==="",u=o?"/":l.pathname,f;if(u==null)f=n;else{let b=e.length-1;if(!r&&u.startsWith("..")){let N=u.split("/");for(;N[0]==="..";)N.shift(),b-=1;l.pathname=N.join("/")}f=b>=0?e[b]:"/"}let g=hA(l,f),h=u&&u!=="/"&&u.endsWith("/"),x=(o||u===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(h||x)&&(g.pathname+="/"),g}var pi=t=>t.join("/").replace(/\/\/+/g,"/"),xA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),yA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,vA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function bA(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var vv=["POST","PUT","PATCH","DELETE"];new Set(vv);var wA=["GET",...vv];new Set(wA);var Is=M.createContext(null);Is.displayName="DataRouter";var sc=M.createContext(null);sc.displayName="DataRouterState";var bv=M.createContext({isTransitioning:!1});bv.displayName="ViewTransition";var NA=M.createContext(new Map);NA.displayName="Fetchers";var SA=M.createContext(null);SA.displayName="Await";var Qn=M.createContext(null);Qn.displayName="Navigation";var na=M.createContext(null);na.displayName="Location";var vi=M.createContext({outlet:null,matches:[],isDataRoute:!1});vi.displayName="Route";var lm=M.createContext(null);lm.displayName="RouteError";function CA(t,{relative:e}={}){gt(ia(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=M.useContext(Qn),{hash:l,pathname:o,search:u}=ra(t,{relative:e}),f=o;return n!=="/"&&(f=o==="/"?n:pi([n,o])),r.createHref({pathname:f,search:u,hash:l})}function ia(){return M.useContext(na)!=null}function Ki(){return gt(ia(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(na).location}var wv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Nv(t){M.useContext(Qn).static||M.useLayoutEffect(t)}function Sv(){let{isDataRoute:t}=M.useContext(vi);return t?OA():TA()}function TA(){gt(ia(),"useNavigate() may be used only in the context of a <Router> component.");let t=M.useContext(Is),{basename:e,navigator:n}=M.useContext(Qn),{matches:r}=M.useContext(vi),{pathname:l}=Ki(),o=JSON.stringify(xv(r)),u=M.useRef(!1);return Nv(()=>{u.current=!0}),M.useCallback((g,h={})=>{if(In(u.current,wv),!u.current)return;if(typeof g=="number"){n.go(g);return}let x=yv(g,JSON.parse(o),l,h.relative==="path");t==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:pi([e,x.pathname])),(h.replace?n.replace:n.push)(x,h.state,h)},[e,n,o,l,t])}M.createContext(null);function ra(t,{relative:e}={}){let{matches:n}=M.useContext(vi),{pathname:r}=Ki(),l=JSON.stringify(xv(n));return M.useMemo(()=>yv(t,JSON.parse(l),r,e==="path"),[t,l,r,e])}function EA(t,e){return Cv(t,e)}function Cv(t,e,n,r){var A;gt(ia(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=M.useContext(Qn),{matches:o}=M.useContext(vi),u=o[o.length-1],f=u?u.params:{},g=u?u.pathname:"/",h=u?u.pathnameBase:"/",x=u&&u.route;{let P=x&&x.path||"";Tv(g,!x||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let b=Ki(),N;if(e){let P=typeof e=="string"?Rs(e):e;gt(h==="/"||((A=P.pathname)==null?void 0:A.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${P.pathname}" was given in the \`location\` prop.`),N=P}else N=b;let w=N.pathname||"/",C=w;if(h!=="/"){let P=h.replace(/^\//,"").split("/");C="/"+w.replace(/^\//,"").split("/").slice(P.length).join("/")}let E=hv(t,{pathname:C});In(x||E!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),In(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=MA(E&&E.map(P=>Object.assign({},P,{params:Object.assign({},f,P.params),pathname:pi([h,l.encodeLocation?l.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?h:pi([h,l.encodeLocation?l.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),o,n,r);return e&&_?M.createElement(na.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},_):_}function kA(){let t=PA(),e=bA(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:o},"ErrorBoundary")," or"," ",M.createElement("code",{style:o},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),n?M.createElement("pre",{style:l},n):null,u)}var AA=M.createElement(kA,null),_A=class extends M.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?M.createElement(vi.Provider,{value:this.props.routeContext},M.createElement(lm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function jA({routeContext:t,match:e,children:n}){let r=M.useContext(Is);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(vi.Provider,{value:t},n)}function MA(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,o=n==null?void 0:n.errors;if(o!=null){let g=l.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);gt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),l=l.slice(0,Math.min(l.length,g+1))}let u=!1,f=-1;if(n)for(let g=0;g<l.length;g++){let h=l[g];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(f=g),h.route.id){let{loaderData:x,errors:b}=n,N=h.route.loader&&!x.hasOwnProperty(h.route.id)&&(!b||b[h.route.id]===void 0);if(h.route.lazy||N){u=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}return l.reduceRight((g,h,x)=>{let b,N=!1,w=null,C=null;n&&(b=o&&h.route.id?o[h.route.id]:void 0,w=h.route.errorElement||AA,u&&(f<0&&x===0?(Tv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,C=null):f===x&&(N=!0,C=h.route.hydrateFallbackElement||null)));let E=e.concat(l.slice(0,x+1)),_=()=>{let A;return b?A=w:N?A=C:h.route.Component?A=M.createElement(h.route.Component,null):h.route.element?A=h.route.element:A=g,M.createElement(jA,{match:h,routeContext:{outlet:g,matches:E,isDataRoute:n!=null},children:A})};return n&&(h.route.ErrorBoundary||h.route.errorElement||x===0)?M.createElement(_A,{location:n.location,revalidation:n.revalidation,component:w,error:b,children:_(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):_()},null)}function am(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function RA(t){let e=M.useContext(Is);return gt(e,am(t)),e}function IA(t){let e=M.useContext(sc);return gt(e,am(t)),e}function DA(t){let e=M.useContext(vi);return gt(e,am(t)),e}function om(t){let e=DA(t),n=e.matches[e.matches.length-1];return gt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function LA(){return om("useRouteId")}function PA(){var r;let t=M.useContext(lm),e=IA("useRouteError"),n=om("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function OA(){let{router:t}=RA("useNavigate"),e=om("useNavigate"),n=M.useRef(!1);return Nv(()=>{n.current=!0}),M.useCallback(async(l,o={})=>{In(n.current,wv),n.current&&(typeof l=="number"?t.navigate(l):await t.navigate(l,{fromRouteId:e,...o}))},[t,e])}var Py={};function Tv(t,e,n){!e&&!Py[t]&&(Py[t]=!0,In(!1,n))}M.memo(BA);function BA({routes:t,future:e,state:n}){return Cv(t,void 0,n,e)}function Vn(t){gt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function UA({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:l,static:o=!1}){gt(!ia(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),f=M.useMemo(()=>({basename:u,navigator:l,static:o,future:{}}),[u,l,o]);typeof n=="string"&&(n=Rs(n));let{pathname:g="/",search:h="",hash:x="",state:b=null,key:N="default"}=n,w=M.useMemo(()=>{let C=xi(g,u);return C==null?null:{location:{pathname:C,search:h,hash:x,state:b,key:N},navigationType:r}},[u,g,h,x,b,N,r]);return In(w!=null,`<Router basename="${u}"> is not able to match the URL "${g}${h}${x}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:M.createElement(Qn.Provider,{value:f},M.createElement(na.Provider,{children:e,value:w}))}function zA({children:t,location:e}){return EA(Of(t),e)}function Of(t,e=[]){let n=[];return M.Children.forEach(t,(r,l)=>{if(!M.isValidElement(r))return;let o=[...e,l];if(r.type===M.Fragment){n.push.apply(n,Of(r.props.children,o));return}gt(r.type===Vn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),gt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Of(r.props.children,o)),n.push(u)}),n}var Io="get",Do="application/x-www-form-urlencoded";function lc(t){return t!=null&&typeof t.tagName=="string"}function VA(t){return lc(t)&&t.tagName.toLowerCase()==="button"}function $A(t){return lc(t)&&t.tagName.toLowerCase()==="form"}function qA(t){return lc(t)&&t.tagName.toLowerCase()==="input"}function FA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function HA(t,e){return t.button===0&&(!e||e==="_self")&&!FA(t)}function Bf(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(l=>[n,l]):[[n,r]])},[]))}function GA(t,e){let n=Bf(t);return e&&e.forEach((r,l)=>{n.has(l)||e.getAll(l).forEach(o=>{n.append(l,o)})}),n}var wo=null;function YA(){if(wo===null)try{new FormData(document.createElement("form"),0),wo=!1}catch{wo=!0}return wo}var JA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function tf(t){return t!=null&&!JA.has(t)?(In(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Do}"`),null):t}function ZA(t,e){let n,r,l,o,u;if($A(t)){let f=t.getAttribute("action");r=f?xi(f,e):null,n=t.getAttribute("method")||Io,l=tf(t.getAttribute("enctype"))||Do,o=new FormData(t)}else if(VA(t)||qA(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=t.getAttribute("formaction")||f.getAttribute("action");if(r=g?xi(g,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||Io,l=tf(t.getAttribute("formenctype"))||tf(f.getAttribute("enctype"))||Do,o=new FormData(f,t),!YA()){let{name:h,type:x,value:b}=t;if(x==="image"){let N=h?`${h}.`:"";o.append(`${N}x`,"0"),o.append(`${N}y`,"0")}else h&&o.append(h,b)}}else{if(lc(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Io,r=null,l=Do,u=t}return o&&l==="text/plain"&&(u=o,o=void 0),{action:r,method:n.toLowerCase(),encType:l,formData:o,body:u}}function cm(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function QA(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function KA(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function WA(t,e,n){let r=await Promise.all(t.map(async l=>{let o=e.routes[l.route.id];if(o){let u=await QA(o,n);return u.links?u.links():[]}return[]}));return n_(r.flat(1).filter(KA).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Oy(t,e,n,r,l,o){let u=(g,h)=>n[h]?g.route.id!==n[h].route.id:!0,f=(g,h)=>{var x;return n[h].pathname!==g.pathname||((x=n[h].route.path)==null?void 0:x.endsWith("*"))&&n[h].params["*"]!==g.params["*"]};return o==="assets"?e.filter((g,h)=>u(g,h)||f(g,h)):o==="data"?e.filter((g,h)=>{var b;let x=r.routes[g.route.id];if(!x||!x.hasLoader)return!1;if(u(g,h)||f(g,h))return!0;if(g.route.shouldRevalidate){let N=g.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((b=n[0])==null?void 0:b.params)||{},nextUrl:new URL(t,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof N=="boolean")return N}return!0}):[]}function XA(t,e,{includeHydrateFallback:n}={}){return e_(t.map(r=>{let l=e.routes[r.route.id];if(!l)return[];let o=[l.module];return l.clientActionModule&&(o=o.concat(l.clientActionModule)),l.clientLoaderModule&&(o=o.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(o=o.concat(l.hydrateFallbackModule)),l.imports&&(o=o.concat(l.imports)),o}).flat(1))}function e_(t){return[...new Set(t)]}function t_(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function n_(t,e){let n=new Set;return new Set(e),t.reduce((r,l)=>{let o=JSON.stringify(t_(l));return n.has(o)||(n.add(o),r.push({key:o,link:l})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var i_=new Set([100,101,204,205]);function r_(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&xi(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function Ev(){let t=M.useContext(Is);return cm(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function s_(){let t=M.useContext(sc);return cm(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var um=M.createContext(void 0);um.displayName="FrameworkContext";function kv(){let t=M.useContext(um);return cm(t,"You must render this element inside a <HydratedRouter> element"),t}function l_(t,e){let n=M.useContext(um),[r,l]=M.useState(!1),[o,u]=M.useState(!1),{onFocus:f,onBlur:g,onMouseEnter:h,onMouseLeave:x,onTouchStart:b}=e,N=M.useRef(null);M.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let E=A=>{A.forEach(P=>{u(P.isIntersecting)})},_=new IntersectionObserver(E,{threshold:.5});return N.current&&_.observe(N.current),()=>{_.disconnect()}}},[t]),M.useEffect(()=>{if(r){let E=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(E)}}},[r]);let w=()=>{l(!0)},C=()=>{l(!1),u(!1)};return n?t!=="intent"?[o,N,{}]:[o,N,{onFocus:Pl(f,w),onBlur:Pl(g,C),onMouseEnter:Pl(h,w),onMouseLeave:Pl(x,C),onTouchStart:Pl(b,w)}]:[!1,N,{}]}function Pl(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function a_({page:t,...e}){let{router:n}=Ev(),r=M.useMemo(()=>hv(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?M.createElement(c_,{page:t,matches:r,...e}):null}function o_(t){let{manifest:e,routeModules:n}=kv(),[r,l]=M.useState([]);return M.useEffect(()=>{let o=!1;return WA(t,e,n).then(u=>{o||l(u)}),()=>{o=!0}},[t,e,n]),r}function c_({page:t,matches:e,...n}){let r=Ki(),{manifest:l,routeModules:o}=kv(),{basename:u}=Ev(),{loaderData:f,matches:g}=s_(),h=M.useMemo(()=>Oy(t,e,g,l,r,"data"),[t,e,g,l,r]),x=M.useMemo(()=>Oy(t,e,g,l,r,"assets"),[t,e,g,l,r]),b=M.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let C=new Set,E=!1;if(e.forEach(A=>{var D;let P=l.routes[A.route.id];!P||!P.hasLoader||(!h.some($=>$.route.id===A.route.id)&&A.route.id in f&&((D=o[A.route.id])!=null&&D.shouldRevalidate)||P.hasClientLoader?E=!0:C.add(A.route.id))}),C.size===0)return[];let _=r_(t,u);return E&&C.size>0&&_.searchParams.set("_routes",e.filter(A=>C.has(A.route.id)).map(A=>A.route.id).join(",")),[_.pathname+_.search]},[u,f,r,l,h,e,t,o]),N=M.useMemo(()=>XA(x,l),[x,l]),w=o_(x);return M.createElement(M.Fragment,null,b.map(C=>M.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),N.map(C=>M.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),w.map(({key:C,link:E})=>M.createElement("link",{key:C,...E})))}function u_(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Av=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Av&&(window.__reactRouterVersion="7.6.2")}catch{}function d_({basename:t,children:e,window:n}){let r=M.useRef();r.current==null&&(r.current=K6({window:n,v5Compat:!0}));let l=r.current,[o,u]=M.useState({action:l.action,location:l.location}),f=M.useCallback(g=>{M.startTransition(()=>u(g))},[u]);return M.useLayoutEffect(()=>l.listen(f),[l,f]),M.createElement(UA,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:l})}var _v=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jv=M.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:l,reloadDocument:o,replace:u,state:f,target:g,to:h,preventScrollReset:x,viewTransition:b,...N},w){let{basename:C}=M.useContext(Qn),E=typeof h=="string"&&_v.test(h),_,A=!1;if(typeof h=="string"&&E&&(_=h,Av))try{let z=new URL(window.location.href),X=h.startsWith("//")?new URL(z.protocol+h):new URL(h),Q=xi(X.pathname,C);X.origin===z.origin&&Q!=null?h=Q+X.search+X.hash:A=!0}catch{In(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=CA(h,{relative:l}),[D,$,Z]=l_(r,N),L=p_(h,{replace:u,state:f,target:g,preventScrollReset:x,relative:l,viewTransition:b});function R(z){e&&e(z),z.defaultPrevented||L(z)}let B=M.createElement("a",{...N,...Z,href:_||P,onClick:A||o?e:R,ref:u_(w,$),target:g,"data-discover":!E&&n==="render"?"true":void 0});return D&&!E?M.createElement(M.Fragment,null,B,M.createElement(a_,{page:P})):B});jv.displayName="Link";var f_=M.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:l=!1,style:o,to:u,viewTransition:f,children:g,...h},x){let b=ra(u,{relative:h.relative}),N=Ki(),w=M.useContext(sc),{navigator:C,basename:E}=M.useContext(Qn),_=w!=null&&b_(b)&&f===!0,A=C.encodeLocation?C.encodeLocation(b).pathname:b.pathname,P=N.pathname,D=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(P=P.toLowerCase(),D=D?D.toLowerCase():null,A=A.toLowerCase()),D&&E&&(D=xi(D,E)||D);const $=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let Z=P===A||!l&&P.startsWith(A)&&P.charAt($)==="/",L=D!=null&&(D===A||!l&&D.startsWith(A)&&D.charAt(A.length)==="/"),R={isActive:Z,isPending:L,isTransitioning:_},B=Z?e:void 0,z;typeof r=="function"?z=r(R):z=[r,Z?"active":null,L?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let X=typeof o=="function"?o(R):o;return M.createElement(jv,{...h,"aria-current":B,className:z,ref:x,style:X,to:u,viewTransition:f},typeof g=="function"?g(R):g)});f_.displayName="NavLink";var m_=M.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:l,state:o,method:u=Io,action:f,onSubmit:g,relative:h,preventScrollReset:x,viewTransition:b,...N},w)=>{let C=y_(),E=v_(f,{relative:h}),_=u.toLowerCase()==="get"?"get":"post",A=typeof f=="string"&&_v.test(f),P=D=>{if(g&&g(D),D.defaultPrevented)return;D.preventDefault();let $=D.nativeEvent.submitter,Z=($==null?void 0:$.getAttribute("formmethod"))||u;C($||D.currentTarget,{fetcherKey:e,method:Z,navigate:n,replace:l,state:o,relative:h,preventScrollReset:x,viewTransition:b})};return M.createElement("form",{ref:w,method:_,action:E,onSubmit:r?g:P,...N,"data-discover":!A&&t==="render"?"true":void 0})});m_.displayName="Form";function h_(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Mv(t){let e=M.useContext(Is);return gt(e,h_(t)),e}function p_(t,{target:e,replace:n,state:r,preventScrollReset:l,relative:o,viewTransition:u}={}){let f=Sv(),g=Ki(),h=ra(t,{relative:o});return M.useCallback(x=>{if(HA(x,e)){x.preventDefault();let b=n!==void 0?n:Ql(g)===Ql(h);f(t,{replace:b,state:r,preventScrollReset:l,relative:o,viewTransition:u})}},[g,f,h,n,r,e,t,l,o,u])}function Er(t){In(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=M.useRef(Bf(t)),n=M.useRef(!1),r=Ki(),l=M.useMemo(()=>GA(r.search,n.current?null:e.current),[r.search]),o=Sv(),u=M.useCallback((f,g)=>{const h=Bf(typeof f=="function"?f(l):f);n.current=!0,o("?"+h,g)},[o,l]);return[l,u]}var g_=0,x_=()=>`__${String(++g_)}__`;function y_(){let{router:t}=Mv("useSubmit"),{basename:e}=M.useContext(Qn),n=LA();return M.useCallback(async(r,l={})=>{let{action:o,method:u,encType:f,formData:g,body:h}=ZA(r,e);if(l.navigate===!1){let x=l.fetcherKey||x_();await t.fetch(x,n,l.action||o,{preventScrollReset:l.preventScrollReset,formData:g,body:h,formMethod:l.method||u,formEncType:l.encType||f,flushSync:l.flushSync})}else await t.navigate(l.action||o,{preventScrollReset:l.preventScrollReset,formData:g,body:h,formMethod:l.method||u,formEncType:l.encType||f,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[t,e,n])}function v_(t,{relative:e}={}){let{basename:n}=M.useContext(Qn),r=M.useContext(vi);gt(r,"useFormAction must be used inside a RouteContext");let[l]=r.matches.slice(-1),o={...ra(t||".",{relative:e})},u=Ki();if(t==null){o.search=u.search;let f=new URLSearchParams(o.search),g=f.getAll("index");if(g.some(x=>x==="")){f.delete("index"),g.filter(b=>b).forEach(b=>f.append("index",b));let x=f.toString();o.search=x?`?${x}`:""}}return(!t||t===".")&&l.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:pi([n,o.pathname])),Ql(o)}function b_(t,e={}){let n=M.useContext(bv);gt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Mv("useViewTransitionState"),l=ra(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=xi(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=xi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Jo(l.pathname,u)!=null||Jo(l.pathname,o)!=null}[...i_];class w_{constructor(){this.dbName="AILearningPageGenerator",this.version=1,this.storeName="lessonPlans",this.db=null}async init(){return new Promise((e,n)=>{const r=indexedDB.open(this.dbName,this.version);r.onerror=()=>{n(new Error("Failed to open IndexedDB"))},r.onsuccess=l=>{this.db=l.target.result,e()},r.onupgradeneeded=l=>{const o=l.target.result;if(!o.objectStoreNames.contains(this.storeName)){const u=o.createObjectStore(this.storeName,{keyPath:"id"});u.createIndex("topic","topic",{unique:!1}),u.createIndex("createdAt","createdAt",{unique:!1}),u.createIndex("lastAccessedAt","lastAccessedAt",{unique:!1})}}})}async ensureDB(){if(this.db||await this.init(),!this.db)throw new Error("Database not initialized");return this.db}async saveLessonPlan(e){const n=await this.ensureDB();return new Promise((r,l)=>{const f=n.transaction([this.storeName],"readwrite").objectStore(this.storeName).put(e);f.onsuccess=()=>r(),f.onerror=()=>l(new Error("Failed to save lesson plan"))})}async getAllLessonPlans(){const e=await this.ensureDB();return new Promise((n,r)=>{const f=e.transaction([this.storeName],"readonly").objectStore(this.storeName).index("lastAccessedAt").openCursor(null,"prev"),g=[];f.onsuccess=h=>{const x=h.target.result;x?(g.push(x.value),x.continue()):n(g)},f.onerror=()=>r(new Error("Failed to get lesson plans"))})}async getLessonPlan(e){const n=await this.ensureDB();return new Promise((r,l)=>{const f=n.transaction([this.storeName],"readonly").objectStore(this.storeName).get(e);f.onsuccess=()=>{const g=f.result;r(g||null)},f.onerror=()=>l(new Error("Failed to get lesson plan"))})}async updateLastAccessed(e){const n=await this.getLessonPlan(e);n&&(n.lastAccessedAt=new Date().toISOString(),await this.saveLessonPlan(n))}async deleteLessonPlan(e){const n=await this.ensureDB();return new Promise((r,l)=>{const f=n.transaction([this.storeName],"readwrite").objectStore(this.storeName).delete(e);f.onsuccess=()=>r(),f.onerror=()=>l(new Error("Failed to delete lesson plan"))})}async searchLessonPlans(e){const n=await this.getAllLessonPlans(),r=e.toLowerCase();return n.filter(l=>l.topic.toLowerCase().includes(r))}async getSharedLessonPlans(){return(await this.getAllLessonPlans()).filter(n=>{var r;return((r=n.metadata)==null?void 0:r.isShared)===!0})}async getLocalLessonPlans(){return(await this.getAllLessonPlans()).filter(n=>{var r;return!((r=n.metadata)!=null&&r.isShared)})}async cleanupOldLessonPlans(e=50){const n=await this.getAllLessonPlans();if(n.length>e){const r=n.slice(e);for(const l of r)await this.deleteLessonPlan(l.id)}}async getStorageStats(){var n,r;const e=await this.getAllLessonPlans();return{totalCount:e.length,totalSizeEstimate:JSON.stringify(e).length,oldestPlan:(n=e[e.length-1])==null?void 0:n.topic,newestPlan:(r=e[0])==null?void 0:r.topic}}}const Ut=new w_,N_=t=>{const e=Date.now(),n=Math.random().toString(36).substr(2,9);return`lesson_${e}_${n}`},S_=(t,e)=>{const n=new Date().toISOString();return{id:N_(),topic:t,createdAt:n,lastAccessedAt:n,content:e,metadata:{totalSections:[e.learningObjectives,e.contentBreakdown,e.confusionPoints,e.classroomActivities,e.quiz,e.writingPractice].filter(Boolean).length,hasQuiz:!!e.quiz,hasWriting:!!e.writingPractice}}},C_=({quiz:t,topic:e,apiKey:n,supportsDiagnostic:r=!1,quizBinId:l})=>{const[o,u]=M.useState(_t.Easy),[f,g]=M.useState([]),[h,x]=M.useState(!1),[b,N]=M.useState(""),[w,C]=M.useState(!1),[E,_]=M.useState(""),[A,P]=M.useState(!1),[D,$]=M.useState(!1),Z=M.useCallback((O,V,ne,I,Y,ue)=>{if(!r)return;const H=`${o}-${O}-${V}`,S={questionId:H,questionType:O,difficulty:o.toLowerCase(),userAnswer:ne,correctAnswer:I,isCorrect:Y,responseTime:ue,attempts:1};g(F=>{const re=F.findIndex(j=>j.questionId===H);if(re>=0){const j=[...F];return j[re]={...j[re],userAnswer:ne,isCorrect:Y,attempts:(j[re].attempts||1)+1},j}return[...F,S]})},[o,r]),L=(O,V)=>{switch(O){case"trueFalse":return V.isTrue;case"multipleChoice":return V.options[V.correctAnswerIndex];case"fillInTheBlanks":return V.correctAnswers;case"sentenceScramble":return V.originalSentence;case"memoryCardGame":return V.pairs;default:return null}},R=()=>{const O=o.toLowerCase();return f.filter(V=>V.difficulty===O)},B=M.useCallback(async()=>{const O=R();if(O.length===0){alert("");return}if(!b.trim()){P(!0);return}C(!0);try{const V=W1(O),ne=o===_t.Easy?"":o===_t.Normal?"":"",I=(t==null?void 0:t[o])||{},Y=await d6({studentName:b.trim(),topic:e,difficulty:ne,responses:O,overallScore:V,completedAt:new Date().toISOString(),quizBinId:l,quizContent:I,metadata:{totalQuestions:O.length,correctAnswers:O.filter(S=>S.isCorrect).length,selectedDifficulty:o}}),H=`${window.location.origin}/ai-page-gen/student-results?binId=${Y}`;_(H),navigator.clipboard&&window.isSecureContext?(await navigator.clipboard.writeText(H),alert("")):alert("")}catch(V){console.error(":",V),alert("")}finally{C(!1)}},[R,b,e,o,l]);if(h&&r&&n&&R().length>0)return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[a.jsx("div",{className:"bg-white shadow-sm border-b",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(ws,{className:"w-8 h-8 text-indigo-600"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:""}),a.jsxs("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-800 text-sm font-medium rounded-full",children:[o===_t.Easy?"":o===_t.Normal?"":""," "]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[a.jsx(Rn,{className:"w-5 h-5"}),a.jsx("span",{className:"text-lg font-medium",children:e})]})]})}),a.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:a.jsx(nm,{topic:`${e} (${o===_t.Easy?"":o===_t.Normal?"":""})`,apiKey:n,mode:"student",initialResponses:R(),onClose:()=>x(!1),onRetakeQuiz:()=>{const O=o.toLowerCase();g(V=>V.filter(ne=>ne.difficulty!==O)),x(!1)},onContinueLearning:()=>x(!1)})})]});if(!t)return a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Fl,{className:"w-16 h-16 text-slate-400 mx-auto mb-4"}),a.jsx("p",{className:"text-slate-600 text-lg",children:""})]});const z=t[o],X=[{key:_t.Easy,label:"",color:"bg-green-500 hover:bg-green-600"},{key:_t.Normal,label:"",color:"bg-yellow-500 hover:bg-yellow-600"},{key:_t.Hard,label:"",color:"bg-red-500 hover:bg-red-600"}],Q={trueFalse:"",multipleChoice:"",fillInTheBlanks:"",sentenceScramble:"",memoryCardGame:""},G=(O,V)=>{if(!V||V.length===0)return null;const ne=I=>r?(Y,ue,H)=>{const S=L(O,V[I]);Z(O,I,Y,S,ue,H)}:void 0;switch(O){case"trueFalse":return a.jsx("div",{className:"space-y-4",children:V.map((I,Y)=>a.jsx(X1,{question:I,itemNumber:Y+1,onAnswer:ne(Y)},`${o}-tf-${Y}`))});case"multipleChoice":return a.jsx("div",{className:"space-y-4",children:V.map((I,Y)=>a.jsx(ev,{question:I,itemNumber:Y+1,onAnswer:ne(Y)},`${o}-mc-${Y}`))});case"fillInTheBlanks":return a.jsx("div",{className:"space-y-4",children:V.map((I,Y)=>a.jsx(tv,{question:I,itemNumber:Y+1,onAnswer:ne(Y)},`${o}-fb-${Y}`))});case"sentenceScramble":return a.jsx("div",{className:"space-y-4",children:V.map((I,Y)=>a.jsx(nv,{question:I,itemNumber:Y+1,onAnswer:ne(Y)},`${o}-ss-${Y}`))});case"memoryCardGame":return a.jsx("div",{className:"space-y-4",children:V.map((I,Y)=>a.jsx(iv,{question:I,itemNumber:Y+1,onAnswer:ne(Y)},`${o}-mcg-${Y}`))});default:return null}};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[a.jsx("div",{className:"bg-white shadow-sm border-b",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(Fl,{className:"w-8 h-8 text-indigo-600"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:""})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[a.jsx(Rn,{className:"w-5 h-5"}),a.jsx("span",{className:"text-lg font-medium",children:e}),r&&a.jsx("span",{className:"ml-2 px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full",children:" AI "})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[r&&R().length>0&&a.jsxs("button",{onClick:()=>x(!0),className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:[a.jsx(ws,{className:"w-5 h-5"})," (",R().length,")"]}),R().length>0&&a.jsxs("button",{onClick:B,disabled:w,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-11.314a2.25 2.25 0 1 0 3.935-2.186 2.25 2.25 0 0 0-3.935 2.186Z"})}),w?"...":` (${R().length})`]})]})]})]})}),a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[r&&a.jsx("div",{className:"mb-6 p-4 bg-blue-50 border-l-4 border-blue-400 rounded-r-lg",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(ws,{className:"w-5 h-5 text-blue-400 mt-0.5"})}),a.jsxs("div",{className:"ml-3",children:[a.jsx("p",{className:"text-sm text-blue-700 font-medium",children:" AI "}),a.jsx("p",{className:"text-xs text-blue-600 mt-1",children:""})]})]})}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:""}),a.jsx("div",{className:"flex flex-wrap gap-3",children:X.map(({key:O,label:V,color:ne})=>a.jsx("button",{onClick:()=>u(O),className:`px-6 py-3 rounded-lg text-white font-medium transition-all transform hover:scale-105 shadow-md
                  ${o===O?`${ne} ring-4 ring-opacity-50`:"bg-gray-400 hover:bg-gray-500"}
                `,children:V},O))})]}),z&&a.jsx("div",{className:"space-y-8",children:Object.keys(Q).map(O=>{const V=z[O],ne=G(O,V);return ne?a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-6 pb-3 border-b border-gray-200",children:[a.jsx("div",{className:"w-3 h-3 bg-indigo-500 rounded-full"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:Q[O]})]}),ne]},O):null})}),(!z||Object.values(z).every(O=>!O||O.length===0))&&a.jsx("div",{className:"text-center py-12",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[a.jsx(Fl,{className:"w-16 h-16 text-slate-400 mx-auto mb-4"}),a.jsx("p",{className:"text-slate-600 text-lg",children:""}),a.jsx("p",{className:"text-slate-500 text-sm mt-2",children:""})]})})]}),A&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:O=>{O.target===O.currentTarget&&P(!1)},children:a.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:""}),a.jsx("button",{onClick:()=>P(!1),className:"text-gray-400 hover:text-gray-600 transition-colors","aria-label":"",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsx("p",{className:"text-gray-600 mb-4",children:""}),a.jsx("input",{type:"text",value:b,onChange:O=>N(O.target.value),placeholder:"",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent mb-4",onKeyPress:O=>O.key==="Enter"&&B()}),a.jsxs("div",{className:"flex gap-3 justify-end",children:[a.jsx("button",{onClick:()=>P(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:""}),a.jsx("button",{onClick:B,disabled:!b.trim()||w,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:w?"...":""})]})]})}),E&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:O=>{O.target===O.currentTarget&&(_(""),$(!1))},children:a.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:" "}),a.jsx("button",{onClick:()=>{_(""),$(!1)},className:"text-gray-400 hover:text-gray-600 transition-colors","aria-label":"",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsx("p",{className:"text-gray-600 mb-4",children:""}),a.jsx("div",{className:"bg-gray-50 p-3 rounded-lg mb-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsx("input",{type:"text",value:E,readOnly:!0,className:"w-full px-3 py-2 bg-white border border-gray-300 rounded text-sm"}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:[a.jsx("button",{onClick:async()=>{navigator.clipboard&&window.isSecureContext&&(await navigator.clipboard.writeText(E),alert(""))},className:"flex-1 px-3 py-2 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors",children:""}),a.jsxs("button",{onClick:()=>$(!D),className:"flex-1 px-3 py-2 bg-green-600 text-white rounded text-sm hover:bg-green-700 transition-colors flex items-center justify-center gap-1",children:[a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 3.75 9.375v-4.5ZM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5ZM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 13.5 9.375v-4.5Z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 6.75h.75v.75h-.75v-.75ZM6.75 16.5h.75v.75h-.75v-.75ZM16.5 6.75h.75v.75h-.75v-.75ZM13.5 13.5H8.25v1.5H13.5V13.5ZM13.5 16.5H8.25V18H13.5v-1.5ZM16.5 16.5h1.5V18h-1.5v-1.5ZM16.5 13.5h1.5v1.5h-1.5v-1.5Z"})]})," QR Code"]})]})]})}),D&&a.jsx("div",{className:"mb-4 flex justify-center",children:a.jsx(Ro,{url:E,title:" QR Code",size:200,className:"bg-white"})}),a.jsx("div",{className:"bg-blue-50 p-3 rounded-lg mb-4",children:a.jsxs("p",{className:"text-sm text-blue-700",children:[" ",a.jsx("strong",{children:""}),a.jsx("br",{})," ",b," ",e,"(",o===_t.Easy?"":o===_t.Normal?"":"",")  AI "]})}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{onClick:()=>{_(""),$(!1)},className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:""})})]})}),a.jsx("footer",{className:"bg-white border-t mt-12 py-6",children:a.jsx("div",{className:"max-w-4xl mx-auto px-4 text-center",children:a.jsx("p",{className:"text-sm text-gray-500",children:" AI   "})})})]})},T_=()=>{const[t]=Er(),e=t.get("binId"),[n,r]=Ge.useState(null),[l,o]=Ge.useState(""),[u,f]=Ge.useState(""),[g,h]=Ge.useState(!1),[x,b]=Ge.useState(!1),[N,w]=Ge.useState("");return Ge.useEffect(()=>{if(!e){w("ID");return}(async()=>{b(!0);try{const E=await o6(e);r(E.quiz),o(E.topic);let _=E.apiKey||"";try{const A=await ov(t);A&&(_=A,console.log(" URL  API Key "))}catch(A){console.warn(" URL API Key :",A)}f(_),h(!!_)}catch(E){w(E.message||"")}finally{b(!1)}})()},[e,t]),x?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Zn,{}),a.jsx("p",{className:"mt-4 text-gray-600",children:"..."})]})}):N?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md mx-4 text-center",children:[a.jsx("div",{className:"text-red-500 text-6xl mb-4",children:""}),a.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:""}),a.jsx("p",{className:"text-gray-600 mb-4",children:N}),a.jsx("p",{className:"text-sm text-gray-500",children:""})]})}):!n||!l?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md mx-4 text-center",children:[a.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:""}),a.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:""}),a.jsx("p",{className:"text-gray-600",children:""})]})}):a.jsx(C_,{quiz:n,topic:l,apiKey:u,supportsDiagnostic:g,quizBinId:e})},E_=()=>{const[t]=Er(),[e,n]=M.useState(null),[r,l]=M.useState(!0),[o,u]=M.useState(null),[f,g]=M.useState(""),[h,x]=M.useState("manual"),b=t.get("binId");M.useEffect(()=>{(async()=>{if(!b){u(" ID"),l(!1);return}try{l(!0);const C=await u6(b);n(C.writingPractice);try{const E=await ov(t);E&&(g(E),x("url"),localStorage.setItem("geminiApiKey",E),console.log(" URL  API Key  AI "))}catch(E){console.warn(" URL API Key :",E)}}catch(C){console.error(":",C),u("")}finally{l(!1)}})()},[b,t]),M.useEffect(()=>{if(!f){const w=localStorage.getItem("geminiApiKey");w&&(g(w),x("localStorage"))}},[]);const N=w=>{w.preventDefault();const C=f.trim();C&&(localStorage.setItem("geminiApiKey",C),g(C),x("manual"))};return r?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-100 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Zn,{}),a.jsx("p",{className:"mt-4 text-gray-600",children:"..."})]})}):o?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-100 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-16 h-16 text-red-500 mx-auto mb-4",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})}),a.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:""}),a.jsx("p",{className:"text-gray-600 mb-6",children:o}),a.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:""})]})}):a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-100",children:a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-12 h-12 text-blue-600",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})})}),a.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:" "}),a.jsx("p",{className:"text-gray-600",children:" AI "})]}),!f&&a.jsxs("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-yellow-600 mt-0.5 flex-shrink-0",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-yellow-800 mb-1",children:" API Key  AI "}),a.jsxs("p",{className:"text-sm text-yellow-700 mb-3",children:[" Google Gemini API Key  AI ",a.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"underline ml-1",children:" API Key"})]})]})]}),a.jsxs("form",{onSubmit:N,className:"flex gap-3",children:[a.jsx("input",{type:"password",value:f,onChange:w=>g(w.target.value),placeholder:" Gemini API Key",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),a.jsx("button",{type:"submit",disabled:!f.trim(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:""})]})]}),f&&a.jsx("div",{className:"mt-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium",children:"API Key  AI "}),h==="url"&&a.jsxs("div",{className:"text-xs text-green-600 mt-1 flex items-center gap-1",children:[a.jsx("span",{children:""}),a.jsx("span",{children:" -  AI "})]}),h==="localStorage"&&a.jsxs("div",{className:"text-xs text-green-600 mt-1 flex items-center gap-1",children:[a.jsx("span",{children:""}),a.jsx("span",{children:""})]})]})]}),a.jsx("button",{onClick:()=>{localStorage.removeItem("geminiApiKey"),g(""),x("manual")},className:"text-sm text-green-600 hover:text-green-800 underline",children:""})]})})]}),e&&a.jsx(sv,{content:e,apiKey:f,isStudentMode:!0}),a.jsxs("div",{className:"mt-8 text-center text-sm text-gray-500",children:[a.jsx("p",{children:"  Google Gemini AI "}),a.jsx("p",{className:"mt-1",children:"  AI "})]})]})})},k_=({responses:t,quizContent:e})=>{const n=(u,f)=>{if(!e)return null;const g=u.questionType,h=e[g];if(!h||!Array.isArray(h))return null;let x=f;if(u.questionId&&typeof u.questionId=="string"){const b=u.questionId.match(/\d+$/);b&&(x=parseInt(b[0]))}return h[x]||null},r=(u,f)=>{var g,h;if(!u)return a.jsx("div",{className:"text-gray-400 italic",children:""});switch(f){case"trueFalse":return a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"font-medium",children:" :"}),a.jsx("div",{className:"bg-blue-50 p-3 rounded text-gray-800",children:u.statement}),u.explanation&&a.jsxs("div",{className:"text-sm text-gray-600",children:[a.jsx("div",{className:"font-medium",children:": "}),a.jsx("div",{children:u.explanation})]})]});case"multipleChoice":return a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"font-medium",children:" :"}),a.jsx("div",{className:"bg-blue-50 p-3 rounded text-gray-800",children:u.question}),a.jsx("div",{className:"font-medium",children:":"}),a.jsx("div",{className:"space-y-1",children:(g=u.options)==null?void 0:g.map((x,b)=>a.jsxs("div",{className:`p-2 rounded text-sm ${b===u.correctAnswerIndex?"bg-green-100 border border-green-300":"bg-gray-50"}`,children:[String.fromCharCode(65+b),". ",x,b===u.correctAnswerIndex&&a.jsx("span",{className:"ml-2 text-green-600",children:" "})]},b))})]});case"fillInTheBlanks":return a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"font-medium",children:" :"}),a.jsx("div",{className:"bg-blue-50 p-3 rounded text-gray-800",children:u.sentence}),a.jsxs("div",{className:"text-sm text-green-700",children:[a.jsx("span",{className:"font-medium",children:": "}),Array.isArray(u.correctAnswers)?u.correctAnswers.join(", "):u.correctAnswers]})]});case"sentenceScramble":return a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"font-medium",children:" :"}),a.jsx("div",{className:"text-sm text-gray-600",children:":"}),a.jsx("div",{className:"bg-yellow-50 p-2 rounded text-sm",children:Array.isArray(u.scrambledWords)?u.scrambledWords.join(" | "):""}),a.jsxs("div",{className:"text-sm text-green-700",children:[a.jsx("span",{className:"font-medium",children:": "}),u.correctSentence]})]});case"memoryCardGame":return a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"font-medium",children:" :"}),u.instructions&&a.jsx("div",{className:"text-sm text-sky-700 bg-sky-50 p-2 rounded",children:u.instructions}),a.jsx("div",{className:"space-y-1",children:(h=u.pairs)==null?void 0:h.map((x,b)=>a.jsxs("div",{className:"flex items-center justify-between bg-purple-50 p-2 rounded text-sm",children:[a.jsxs("span",{children:[" ",x.question]}),a.jsx("span",{className:"text-purple-600",children:""}),a.jsxs("span",{children:[" ",x.answer]})]},b))})]});default:return a.jsx("pre",{className:"text-xs bg-gray-100 p-2 rounded",children:JSON.stringify(u,null,2)})}},l=(u,f)=>f==="memoryCardGame"&&typeof u=="number"?`: ${u}`:f==="multipleChoice"&&typeof u=="number"?` ${String.fromCharCode(65+u)} (${u})`:typeof u=="object"?JSON.stringify(u,null,2):String(u),o={trueFalse:"",multipleChoice:"",fillInTheBlanks:"",sentenceScramble:"",memoryCardGame:""};return a.jsx("div",{className:"space-y-6",children:t.map((u,f)=>{const g=n(u,f);return a.jsxs("div",{className:`p-6 rounded-lg border-2 ${u.isCorrect?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[u.isCorrect?a.jsx(Nr,{className:"w-5 h-5 text-green-600"}):a.jsx(Sr,{className:"w-5 h-5 text-red-600"}),a.jsxs("span",{className:"font-bold text-lg text-gray-800",children:[" ",f+1,"  - ",o[u.questionType]||u.questionType]})]}),a.jsx("div",{className:"text-sm text-gray-500",children:u.attempts&&u.attempts>1&&` ${u.attempts} `})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:" :"}),a.jsx("div",{className:"border-l-4 border-blue-300 pl-4",children:r(g,u.questionType)})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t border-gray-200",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:" :"}),a.jsx("div",{className:"bg-white p-3 rounded border",children:l(u.userAnswer,u.questionType)})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:u.isCorrect?" ":" "}),a.jsx("div",{className:`p-3 rounded border ${u.isCorrect?"bg-green-100 border-green-300":"bg-red-100 border-red-300"}`,children:u.isCorrect?"":""})]})]})]},u.questionId||f)})})},A_=()=>{var L,R;const[t]=Er(),e=t.get("binId"),[n,r]=M.useState(null),[l,o]=M.useState(!0),[u,f]=M.useState(null),[g,h]=M.useState(""),[x,b]=M.useState(!1),[N,w]=M.useState(!1),[C,E]=M.useState(!1);M.useEffect(()=>{(async()=>{if(!e){f("ID"),o(!1);return}try{o(!0);const z=await rv(e);r(z),b(!!z.diagnosticReport)}catch(z){console.error(":",z),f(z instanceof Error?z.message:"")}finally{o(!1)}})()},[e]),M.useEffect(()=>{const B=localStorage.getItem("geminiApiKey")||localStorage.getItem("gemini_api_key");B?(h(B),console.log(" localStorage  API Key")):console.log(" API Key")},[]);const _=B=>{B.preventDefault();const z=g.trim();z&&(localStorage.setItem("geminiApiKey",z),h(z),E(!1))},A=()=>{if(!g){E(!0);return}w(!0)},P=()=>{n!=null&&n.diagnosticReport&&w(!0)};if(l)return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-100 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Zn,{}),a.jsx("p",{className:"mt-4 text-gray-600",children:"..."})]})});if(u)return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-pink-100 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-16 h-16 text-red-500 mx-auto mb-4",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})}),a.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:""}),a.jsx("p",{className:"text-gray-600 mb-6",children:u}),a.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:""})]})});if(N&&n)return a.jsx(nm,{topic:`${n.topic} (${n.difficulty}) - ${n.studentName}`,apiKey:g,mode:"teacher",initialResponses:n.responses,quizData:n.quizContent?{topic:n.topic,[((R=(L=n.metadata)==null?void 0:L.selectedDifficulty)==null?void 0:R.toLowerCase())||"normal"]:n.quizContent}:void 0,existingReport:n.diagnosticReport,resultsBinId:e,onClose:()=>w(!1),onReportSaved:B=>{r(z=>z?{...z,diagnosticReport:B}:null),b(!0)}});if(!n)return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center p-4",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-16 h-16 text-gray-400 mx-auto mb-4",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})}),a.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:""}),a.jsx("p",{className:"text-gray-600",children:""})]})});const D=n.responses.filter(B=>B.isCorrect).length,$=n.responses.length,Z=new Date(n.completedAt).toLocaleString("zh-TW");return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-100",children:[a.jsx("div",{className:"bg-white shadow-sm border-b",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(Rn,{className:"w-8 h-8 text-blue-600"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:""})]}),a.jsx("div",{className:"flex items-center gap-2 text-gray-600",children:a.jsx("span",{className:"text-lg font-medium",children:""})})]})}),a.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:[" ",n.studentName||""," "]}),a.jsxs("div",{className:"flex items-center gap-4 text-gray-600",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Rn,{className:"w-4 h-4"}),a.jsxs("span",{children:["",n.topic]})]}),a.jsx("div",{className:"flex items-center gap-1",children:a.jsxs("span",{children:["",n.difficulty]})}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Df,{className:"w-4 h-4"}),a.jsxs("span",{children:["",Z]})]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-3xl font-bold text-blue-600 mb-1",children:[n.overallScore,"%"]}),a.jsxs("div",{className:"text-sm text-gray-600",children:[D,"/",$," "]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Nr,{className:"w-8 h-8 text-green-600"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-green-700",children:D}),a.jsx("div",{className:"text-sm text-green-600",children:""})]})]})}),a.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Sr,{className:"w-8 h-8 text-red-600"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-2xl font-bold text-red-700",children:$-D}),a.jsx("div",{className:"text-sm text-red-600",children:""})]})]})}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ws,{className:"w-8 h-8 text-blue-600"}),a.jsxs("div",{children:[a.jsxs("div",{className:"text-2xl font-bold text-blue-700",children:[n.overallScore,"%"]}),a.jsx("div",{className:"text-sm text-blue-600",children:""})]})]})})]}),a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsxs("div",{className:"flex gap-4 items-center",children:[x?a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("button",{onClick:P,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg hover:from-green-700 hover:to-emerald-700 transition-all font-medium",children:[a.jsx(ws,{className:"w-5 h-5"})," AI "]}),a.jsx("button",{onClick:A,className:"flex items-center gap-2 px-4 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg hover:from-indigo-700 hover:to-purple-700 transition-all font-medium text-sm",children:" "})]}):a.jsxs("button",{onClick:A,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg hover:from-indigo-700 hover:to-purple-700 transition-all font-medium",children:[a.jsx(ws,{className:"w-5 h-5"})," AI "]}),g?a.jsx("div",{className:"text-sm text-green-600 flex items-center gap-1",children:" API Key  AI "}):a.jsx("div",{className:"text-sm text-amber-600 flex items-center gap-1",children:"  API Key  AI "})]}),a.jsx("div",{className:"text-xs text-gray-500",children:x?a.jsx("span",{children:" "}):g?a.jsx("span",{children:"  API Key"}):null})]})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"  ()"}),a.jsx(k_,{responses:n.responses,quizContent:n.quizContent})]})]}),C&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:B=>{B.target===B.currentTarget&&E(!1)},children:a.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[a.jsxs("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:" API Key"}),a.jsx("button",{onClick:()=>E(!1),className:"text-gray-400 hover:text-gray-600 transition-colors","aria-label":"",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})})]}),a.jsxs("p",{className:"text-gray-600 mb-4",children:[" AI  Google Gemini API Key",a.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"underline text-blue-600 ml-1",children:" API Key"})]}),a.jsxs("form",{onSubmit:_,children:[a.jsx("input",{type:"password",value:g,onChange:B=>h(B.target.value),placeholder:" Gemini API Key",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent mb-4"}),a.jsxs("div",{className:"flex gap-3 justify-end",children:[a.jsx("button",{type:"button",onClick:()=>E(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:""}),a.jsx("button",{type:"submit",disabled:!g.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:""})]})]})]})})]})},__=()=>{const[t,e]=M.useState([]),[n,r]=M.useState(!0),[l,o]=M.useState(null),[u,f]=M.useState(""),[g,h]=M.useState(null),[x,b]=M.useState("list"),[N,w]=M.useState(null),[C,E]=M.useState(null);M.useEffect(()=>{const R=localStorage.getItem("gemini_api_key")||localStorage.getItem("geminiApiKey");E(R),_()},[]);const _=async()=>{try{r(!0),o(null),await Ut.init();const R=await Ut.getAllLessonPlans();e(R)}catch(R){console.error(":",R),o("")}finally{r(!1)}},A=async()=>{if(!u.trim()){await _();return}try{r(!0);const R=await Ut.searchLessonPlans(u);e(R)}catch(R){console.error(":",R),o("")}finally{r(!1)}},P=async R=>{h(R),b("view");try{await Ut.updateLastAccessed(R.id)}catch(B){console.error(":",B)}},D=async R=>{if(!C){alert(" API Key ");return}w(R.id);try{const B={...R.content,topic:R.topic,selectedLevel:R.content.selectedLevel||null,selectedVocabularyLevel:R.content.selectedVocabularyLevel||null},z=await Yo(B,C,!0),X=`${window.location.origin}/ai-page-gen/share?binId=${z}`;if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(X),alert("");else{const Q=document.createElement("textarea");Q.value=X,document.body.appendChild(Q),Q.select(),document.execCommand("copy"),document.body.removeChild(Q),alert(`\\n${X}`)}await Ut.updateLastAccessed(R.id)}catch(B){console.error(":",B),alert("")}finally{w(null)}},$=async R=>{if(confirm(`${R.topic}`))try{await Ut.deleteLessonPlan(R.id),await _()}catch(B){console.error(":",B),alert("")}},Z=R=>new Date(R).toLocaleString("zh-TW",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),L=u.trim()?t.filter(R=>R.topic.toLowerCase().includes(u.toLowerCase())):t;return x==="view"&&g?a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[a.jsx("div",{className:"bg-white shadow-sm border-b sticky top-0 z-10",children:a.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("button",{onClick:()=>{b("list"),h(null)},className:"flex items-center gap-2 px-3 py-2 text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})}),""]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h1",{className:"text-xl font-bold text-gray-900",children:g.topic}),a.jsxs("p",{className:"text-sm text-gray-600",children:[" ",Z(g.createdAt)]})]}),a.jsxs("button",{onClick:()=>D(g),disabled:N===g.id,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[N===g.id?a.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):a.jsx(_d,{className:"w-4 h-4"}),""]})]})})}),a.jsx("div",{className:"max-w-6xl mx-auto px-4 py-8",children:a.jsx(sm,{content:g.content,topic:g.topic,selectedLevel:g.content.selectedLevel||null,selectedVocabularyLevel:g.content.selectedVocabularyLevel||null,apiKey:C||void 0,onContentUpdate:async R=>{const B={...g,content:R,lastAccessedAt:new Date().toISOString()};h(B);try{await Ut.saveLessonPlan(B),console.log(" IndexedDB")}catch(z){console.error(" IndexedDB :",z)}}})})]}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[a.jsx("div",{className:"bg-white shadow-sm border-b",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx(Rn,{className:"w-8 h-8 text-indigo-600"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:""})]}),a.jsx("p",{className:"text-gray-600",children:""})]})}),a.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:a.jsxs("div",{className:"flex gap-3",children:[a.jsx("input",{type:"text",value:u,onChange:R=>f(R.target.value),placeholder:"...",className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",onKeyPress:R=>R.key==="Enter"&&A()}),a.jsx("button",{onClick:A,className:"px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:""}),a.jsx("button",{onClick:_,className:"px-4 py-3 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:""})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-indigo-100 rounded-lg",children:a.jsx(Rn,{className:"w-6 h-6 text-indigo-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.length}),a.jsx("p",{className:"text-gray-600",children:""})]})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:a.jsx(Df,{className:"w-6 h-6 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.filter(R=>{var B;return(B=R.metadata)==null?void 0:B.hasQuiz}).length}),a.jsx("p",{className:"text-gray-600",children:""})]})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-purple-600",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"})})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.filter(R=>{var B;return(B=R.metadata)==null?void 0:B.hasWriting}).length}),a.jsx("p",{className:"text-gray-600",children:""})]})]})})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-lg",children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:u.trim()?` (${L.length})`:""})}),n?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(Zn,{}),a.jsx("p",{className:"mt-4 text-gray-600",children:"..."})]}):l?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx("p",{className:"text-red-600 mb-4",children:l}),a.jsx("button",{onClick:_,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:""})]}):L.length===0?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(Rn,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 text-lg mb-2",children:u.trim()?"":""}),a.jsx("p",{className:"text-gray-500",children:u.trim()?"":""})]}):a.jsx("div",{className:"divide-y divide-gray-200",children:L.map(R=>{var B,z,X,Q;return a.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:R.topic}),((B=R.metadata)==null?void 0:B.isShared)&&a.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[a.jsx(_d,{className:"w-3 h-3"}),""]})]}),a.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-2",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Df,{className:"w-4 h-4"}),"",Z(R.createdAt)]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Xx,{className:"w-4 h-4"}),"",Z(R.lastAccessedAt)]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"px-2 py-1 bg-indigo-100 text-indigo-800 text-xs font-medium rounded-full",children:[((z=R.metadata)==null?void 0:z.totalSections)||0," "]}),((X=R.metadata)==null?void 0:X.hasQuiz)&&a.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs font-medium rounded-full",children:""}),((Q=R.metadata)==null?void 0:Q.hasWriting)&&a.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 text-xs font-medium rounded-full",children:""})]})]}),a.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[a.jsxs("button",{onClick:()=>P(R),className:"flex items-center gap-2 px-3 py-2 text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",children:[a.jsx(Xx,{className:"w-4 h-4"}),""]}),a.jsxs("a",{href:`/ai-page-gen/teacher-interactive-prep?contentId=${R.id}`,className:"flex items-center gap-2 px-3 py-2 text-emerald-600 hover:bg-emerald-50 rounded-lg transition-colors",target:"_blank",rel:"noopener noreferrer",children:[a.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a6.759 6.759 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]}),""]}),a.jsxs("button",{onClick:()=>D(R),disabled:N===R.id,className:"flex items-center gap-2 px-3 py-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[N===R.id?a.jsx("div",{className:"w-4 h-4 border-2 border-green-600 border-t-transparent rounded-full animate-spin"}):a.jsx(_d,{className:"w-4 h-4"}),""]}),a.jsxs("button",{onClick:()=>$(R),className:"flex items-center gap-2 px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[a.jsx(s6,{className:"w-4 h-4"}),""]})]})]})},R.id)})})]})]})]})};function j_(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const M_=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,R_=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,I_={};function By(t,e){return(I_.jsx?R_:M_).test(t)}const D_=/[ \t\n\f\r]/g;function L_(t){return typeof t=="object"?t.type==="text"?Uy(t.value):!1:Uy(t)}function Uy(t){return t.replace(D_,"")===""}class sa{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}sa.prototype.normal={};sa.prototype.property={};sa.prototype.space=void 0;function Rv(t,e){const n={},r={};for(const l of t)Object.assign(n,l.property),Object.assign(r,l.normal);return new sa(n,r,e)}function Uf(t){return t.toLowerCase()}class tn{constructor(e,n){this.attribute=n,this.property=e}}tn.prototype.attribute="";tn.prototype.booleanish=!1;tn.prototype.boolean=!1;tn.prototype.commaOrSpaceSeparated=!1;tn.prototype.commaSeparated=!1;tn.prototype.defined=!1;tn.prototype.mustUseProperty=!1;tn.prototype.number=!1;tn.prototype.overloadedBoolean=!1;tn.prototype.property="";tn.prototype.spaceSeparated=!1;tn.prototype.space=void 0;let P_=0;const ze=kr(),Tt=kr(),zf=kr(),fe=kr(),ot=kr(),Ns=kr(),dn=kr();function kr(){return 2**++P_}const Vf=Object.freeze(Object.defineProperty({__proto__:null,boolean:ze,booleanish:Tt,commaOrSpaceSeparated:dn,commaSeparated:Ns,number:fe,overloadedBoolean:zf,spaceSeparated:ot},Symbol.toStringTag,{value:"Module"})),nf=Object.keys(Vf);class dm extends tn{constructor(e,n,r,l){let o=-1;if(super(e,n),zy(this,"space",l),typeof r=="number")for(;++o<nf.length;){const u=nf[o];zy(this,nf[o],(r&Vf[u])===Vf[u])}}}dm.prototype.defined=!0;function zy(t,e,n){n&&(t[e]=n)}function Ds(t){const e={},n={};for(const[r,l]of Object.entries(t.properties)){const o=new dm(r,t.transform(t.attributes||{},r),l,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),e[r]=o,n[Uf(r)]=r,n[Uf(o.attribute)]=r}return new sa(e,n,t.space)}const Iv=Ds({properties:{ariaActiveDescendant:null,ariaAtomic:Tt,ariaAutoComplete:null,ariaBusy:Tt,ariaChecked:Tt,ariaColCount:fe,ariaColIndex:fe,ariaColSpan:fe,ariaControls:ot,ariaCurrent:null,ariaDescribedBy:ot,ariaDetails:null,ariaDisabled:Tt,ariaDropEffect:ot,ariaErrorMessage:null,ariaExpanded:Tt,ariaFlowTo:ot,ariaGrabbed:Tt,ariaHasPopup:null,ariaHidden:Tt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ot,ariaLevel:fe,ariaLive:null,ariaModal:Tt,ariaMultiLine:Tt,ariaMultiSelectable:Tt,ariaOrientation:null,ariaOwns:ot,ariaPlaceholder:null,ariaPosInSet:fe,ariaPressed:Tt,ariaReadOnly:Tt,ariaRelevant:null,ariaRequired:Tt,ariaRoleDescription:ot,ariaRowCount:fe,ariaRowIndex:fe,ariaRowSpan:fe,ariaSelected:Tt,ariaSetSize:fe,ariaSort:null,ariaValueMax:fe,ariaValueMin:fe,ariaValueNow:fe,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function Dv(t,e){return e in t?t[e]:e}function Lv(t,e){return Dv(t,e.toLowerCase())}const O_=Ds({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Ns,acceptCharset:ot,accessKey:ot,action:null,allow:null,allowFullScreen:ze,allowPaymentRequest:ze,allowUserMedia:ze,alt:null,as:null,async:ze,autoCapitalize:null,autoComplete:ot,autoFocus:ze,autoPlay:ze,blocking:ot,capture:null,charSet:null,checked:ze,cite:null,className:ot,cols:fe,colSpan:null,content:null,contentEditable:Tt,controls:ze,controlsList:ot,coords:fe|Ns,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ze,defer:ze,dir:null,dirName:null,disabled:ze,download:zf,draggable:Tt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ze,formTarget:null,headers:ot,height:fe,hidden:zf,high:fe,href:null,hrefLang:null,htmlFor:ot,httpEquiv:ot,id:null,imageSizes:null,imageSrcSet:null,inert:ze,inputMode:null,integrity:null,is:null,isMap:ze,itemId:null,itemProp:ot,itemRef:ot,itemScope:ze,itemType:ot,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ze,low:fe,manifest:null,max:null,maxLength:fe,media:null,method:null,min:null,minLength:fe,multiple:ze,muted:ze,name:null,nonce:null,noModule:ze,noValidate:ze,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ze,optimum:fe,pattern:null,ping:ot,placeholder:null,playsInline:ze,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ze,referrerPolicy:null,rel:ot,required:ze,reversed:ze,rows:fe,rowSpan:fe,sandbox:ot,scope:null,scoped:ze,seamless:ze,selected:ze,shadowRootClonable:ze,shadowRootDelegatesFocus:ze,shadowRootMode:null,shape:null,size:fe,sizes:null,slot:null,span:fe,spellCheck:Tt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:fe,step:null,style:null,tabIndex:fe,target:null,title:null,translate:null,type:null,typeMustMatch:ze,useMap:null,value:Tt,width:fe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ot,axis:null,background:null,bgColor:null,border:fe,borderColor:null,bottomMargin:fe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ze,declare:ze,event:null,face:null,frame:null,frameBorder:null,hSpace:fe,leftMargin:fe,link:null,longDesc:null,lowSrc:null,marginHeight:fe,marginWidth:fe,noResize:ze,noHref:ze,noShade:ze,noWrap:ze,object:null,profile:null,prompt:null,rev:null,rightMargin:fe,rules:null,scheme:null,scrolling:Tt,standby:null,summary:null,text:null,topMargin:fe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:fe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ze,disableRemotePlayback:ze,prefix:null,property:null,results:fe,security:null,unselectable:null},space:"html",transform:Lv}),B_=Ds({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:dn,accentHeight:fe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:fe,amplitude:fe,arabicForm:null,ascent:fe,attributeName:null,attributeType:null,azimuth:fe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:fe,by:null,calcMode:null,capHeight:fe,className:ot,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:fe,diffuseConstant:fe,direction:null,display:null,dur:null,divisor:fe,dominantBaseline:null,download:ze,dx:null,dy:null,edgeMode:null,editable:null,elevation:fe,enableBackground:null,end:null,event:null,exponent:fe,externalResourcesRequired:null,fill:null,fillOpacity:fe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Ns,g2:Ns,glyphName:Ns,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:fe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:fe,horizOriginX:fe,horizOriginY:fe,id:null,ideographic:fe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:fe,k:fe,k1:fe,k2:fe,k3:fe,k4:fe,kernelMatrix:dn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:fe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:fe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:fe,overlineThickness:fe,paintOrder:null,panose1:null,path:null,pathLength:fe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ot,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:fe,pointsAtY:fe,pointsAtZ:fe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:dn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:dn,rev:dn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:dn,requiredFeatures:dn,requiredFonts:dn,requiredFormats:dn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:fe,specularExponent:fe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:fe,strikethroughThickness:fe,string:null,stroke:null,strokeDashArray:dn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:fe,strokeOpacity:fe,strokeWidth:null,style:null,surfaceScale:fe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:dn,tabIndex:fe,tableValues:null,target:null,targetX:fe,targetY:fe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:dn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:fe,underlineThickness:fe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:fe,values:null,vAlphabetic:fe,vMathematical:fe,vectorEffect:null,vHanging:fe,vIdeographic:fe,version:null,vertAdvY:fe,vertOriginX:fe,vertOriginY:fe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:fe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Dv}),Pv=Ds({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),Ov=Ds({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Lv}),Bv=Ds({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),U_={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},z_=/[A-Z]/g,Vy=/-[a-z]/g,V_=/^data[-\w.:]+$/i;function $_(t,e){const n=Uf(e);let r=e,l=tn;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&V_.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(Vy,F_);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!Vy.test(o)){let u=o.replace(z_,q_);u.charAt(0)!=="-"&&(u="-"+u),e="data"+u}}l=dm}return new l(r,e)}function q_(t){return"-"+t.toLowerCase()}function F_(t){return t.charAt(1).toUpperCase()}const H_=Rv([Iv,O_,Pv,Ov,Bv],"html"),fm=Rv([Iv,B_,Pv,Ov,Bv],"svg");function G_(t){return t.join(" ").trim()}var ps={},rf,$y;function Y_(){if($y)return rf;$y=1;var t=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,e=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,l=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,u=/^[;\s]*/,f=/^\s+|\s+$/g,g=`
`,h="/",x="*",b="",N="comment",w="declaration";rf=function(E,_){if(typeof E!="string")throw new TypeError("First argument must be a string");if(!E)return[];_=_||{};var A=1,P=1;function D(O){var V=O.match(e);V&&(A+=V.length);var ne=O.lastIndexOf(g);P=~ne?O.length-ne:P+O.length}function $(){var O={line:A,column:P};return function(V){return V.position=new Z(O),B(),V}}function Z(O){this.start=O,this.end={line:A,column:P},this.source=_.source}Z.prototype.content=E;function L(O){var V=new Error(_.source+":"+A+":"+P+": "+O);if(V.reason=O,V.filename=_.source,V.line=A,V.column=P,V.source=E,!_.silent)throw V}function R(O){var V=O.exec(E);if(V){var ne=V[0];return D(ne),E=E.slice(ne.length),V}}function B(){R(n)}function z(O){var V;for(O=O||[];V=X();)V!==!1&&O.push(V);return O}function X(){var O=$();if(!(h!=E.charAt(0)||x!=E.charAt(1))){for(var V=2;b!=E.charAt(V)&&(x!=E.charAt(V)||h!=E.charAt(V+1));)++V;if(V+=2,b===E.charAt(V-1))return L("End of comment missing");var ne=E.slice(2,V-2);return P+=2,D(ne),E=E.slice(V),P+=2,O({type:N,comment:ne})}}function Q(){var O=$(),V=R(r);if(V){if(X(),!R(l))return L("property missing ':'");var ne=R(o),I=O({type:w,property:C(V[0].replace(t,b)),value:ne?C(ne[0].replace(t,b)):b});return R(u),I}}function G(){var O=[];z(O);for(var V;V=Q();)V!==!1&&(O.push(V),z(O));return O}return B(),G()};function C(E){return E?E.replace(f,b):b}return rf}var qy;function J_(){if(qy)return ps;qy=1;var t=ps&&ps.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ps,"__esModule",{value:!0}),ps.default=n;var e=t(Y_());function n(r,l){var o=null;if(!r||typeof r!="string")return o;var u=(0,e.default)(r),f=typeof l=="function";return u.forEach(function(g){if(g.type==="declaration"){var h=g.property,x=g.value;f?l(h,x,g):x&&(o=o||{},o[h]=x)}}),o}return ps}var Ol={},Fy;function Z_(){if(Fy)return Ol;Fy=1,Object.defineProperty(Ol,"__esModule",{value:!0}),Ol.camelCase=void 0;var t=/^--[a-zA-Z0-9_-]+$/,e=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,l=/^-(ms)-/,o=function(h){return!h||n.test(h)||t.test(h)},u=function(h,x){return x.toUpperCase()},f=function(h,x){return"".concat(x,"-")},g=function(h,x){return x===void 0&&(x={}),o(h)?h:(h=h.toLowerCase(),x.reactCompat?h=h.replace(l,f):h=h.replace(r,f),h.replace(e,u))};return Ol.camelCase=g,Ol}var Bl,Hy;function Q_(){if(Hy)return Bl;Hy=1;var t=Bl&&Bl.__importDefault||function(l){return l&&l.__esModule?l:{default:l}},e=t(J_()),n=Z_();function r(l,o){var u={};return!l||typeof l!="string"||(0,e.default)(l,function(f,g){f&&g&&(u[(0,n.camelCase)(f,o)]=g)}),u}return r.default=r,Bl=r,Bl}var K_=Q_();const W_=Wl(K_),Uv=zv("end"),mm=zv("start");function zv(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function X_(t){const e=mm(t),n=Uv(t);if(e&&n)return{start:e,end:n}}function Hl(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?Gy(t.position):"start"in t||"end"in t?Gy(t):"line"in t||"column"in t?$f(t):""}function $f(t){return Yy(t&&t.line)+":"+Yy(t&&t.column)}function Gy(t){return $f(t&&t.start)+"-"+$f(t&&t.end)}function Yy(t){return t&&typeof t=="number"?t:1}class qt extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let l="",o={},u=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof e=="string"?l=e:!o.cause&&e&&(u=!0,l=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof r=="string"){const g=r.indexOf(":");g===-1?o.ruleId=r:(o.source=r.slice(0,g),o.ruleId=r.slice(g+1))}if(!o.place&&o.ancestors&&o.ancestors){const g=o.ancestors[o.ancestors.length-1];g&&(o.place=g.position)}const f=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=f?f.column:void 0,this.fatal=void 0,this.file="",this.message=l,this.line=f?f.line:void 0,this.name=Hl(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=u&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}qt.prototype.file="";qt.prototype.name="";qt.prototype.reason="";qt.prototype.message="";qt.prototype.stack="";qt.prototype.column=void 0;qt.prototype.line=void 0;qt.prototype.ancestors=void 0;qt.prototype.cause=void 0;qt.prototype.fatal=void 0;qt.prototype.place=void 0;qt.prototype.ruleId=void 0;qt.prototype.source=void 0;const hm={}.hasOwnProperty,ej=new Map,tj=/[A-Z]/g,nj=new Set(["table","tbody","thead","tfoot","tr"]),ij=new Set(["td","th"]),Vv="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function rj(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=fj(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=dj(n,e.jsx,e.jsxs)}const l={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?fm:H_,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},o=$v(l,t,void 0);return o&&typeof o!="string"?o:l.create(t,l.Fragment,{children:o||void 0},void 0)}function $v(t,e,n){if(e.type==="element")return sj(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return lj(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return oj(t,e,n);if(e.type==="mdxjsEsm")return aj(t,e);if(e.type==="root")return cj(t,e,n);if(e.type==="text")return uj(t,e)}function sj(t,e,n){const r=t.schema;let l=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(l=fm,t.schema=l),t.ancestors.push(e);const o=Fv(t,e.tagName,!1),u=mj(t,e);let f=gm(t,e);return nj.has(e.tagName)&&(f=f.filter(function(g){return typeof g=="string"?!L_(g):!0})),qv(t,u,o,e),pm(u,f),t.ancestors.pop(),t.schema=r,t.create(e,o,u,n)}function lj(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}Kl(t,e.position)}function aj(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);Kl(t,e.position)}function oj(t,e,n){const r=t.schema;let l=r;e.name==="svg"&&r.space==="html"&&(l=fm,t.schema=l),t.ancestors.push(e);const o=e.name===null?t.Fragment:Fv(t,e.name,!0),u=hj(t,e),f=gm(t,e);return qv(t,u,o,e),pm(u,f),t.ancestors.pop(),t.schema=r,t.create(e,o,u,n)}function cj(t,e,n){const r={};return pm(r,gm(t,e)),t.create(e,t.Fragment,r,n)}function uj(t,e){return e.value}function qv(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function pm(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function dj(t,e,n){return r;function r(l,o,u,f){const h=Array.isArray(u.children)?n:e;return f?h(o,u,f):h(o,u)}}function fj(t,e){return n;function n(r,l,o,u){const f=Array.isArray(o.children),g=mm(r);return e(l,o,u,f,{columnNumber:g?g.column-1:void 0,fileName:t,lineNumber:g?g.line:void 0},void 0)}}function mj(t,e){const n={};let r,l;for(l in e.properties)if(l!=="children"&&hm.call(e.properties,l)){const o=pj(t,l,e.properties[l]);if(o){const[u,f]=o;t.tableCellAlignToStyle&&u==="align"&&typeof f=="string"&&ij.has(e.tagName)?r=f:n[u]=f}}if(r){const o=n.style||(n.style={});o[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function hj(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const o=r.data.estree.body[0];o.type;const u=o.expression;u.type;const f=u.properties[0];f.type,Object.assign(n,t.evaluater.evaluateExpression(f.argument))}else Kl(t,e.position);else{const l=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const f=r.value.data.estree.body[0];f.type,o=t.evaluater.evaluateExpression(f.expression)}else Kl(t,e.position);else o=r.value===null?!0:r.value;n[l]=o}return n}function gm(t,e){const n=[];let r=-1;const l=t.passKeys?new Map:ej;for(;++r<e.children.length;){const o=e.children[r];let u;if(t.passKeys){const g=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(g){const h=l.get(g)||0;u=g+"-"+h,l.set(g,h+1)}}const f=$v(t,o,u);f!==void 0&&n.push(f)}return n}function pj(t,e,n){const r=$_(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?j_(n):G_(n)),r.property==="style"){let l=typeof n=="object"?n:gj(t,String(n));return t.stylePropertyNameCase==="css"&&(l=xj(l)),["style",l]}return[t.elementAttributeNameCase==="react"&&r.space?U_[r.property]||r.property:r.attribute,n]}}function gj(t,e){try{return W_(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,l=new qt("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw l.file=t.filePath||void 0,l.url=Vv+"#cannot-parse-style-attribute",l}}function Fv(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const l=e.split(".");let o=-1,u;for(;++o<l.length;){const f=By(l[o])?{type:"Identifier",name:l[o]}:{type:"Literal",value:l[o]};u=u?{type:"MemberExpression",object:u,property:f,computed:!!(o&&f.type==="Literal"),optional:!1}:f}r=u}else r=By(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const l=r.value;return hm.call(t.components,l)?t.components[l]:l}if(t.evaluater)return t.evaluater.evaluateExpression(r);Kl(t)}function Kl(t,e){const n=new qt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=Vv+"#cannot-handle-mdx-estrees-without-createevaluater",n}function xj(t){const e={};let n;for(n in t)hm.call(t,n)&&(e[yj(n)]=t[n]);return e}function yj(t){let e=t.replace(tj,vj);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function vj(t){return"-"+t.toLowerCase()}const sf={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},bj={};function wj(t,e){const n=bj,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,l=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Hv(t,r,l)}function Hv(t,e,n){if(Nj(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return Jy(t.children,e,n)}return Array.isArray(t)?Jy(t,e,n):""}function Jy(t,e,n){const r=[];let l=-1;for(;++l<t.length;)r[l]=Hv(t[l],e,n);return r.join("")}function Nj(t){return!!(t&&typeof t=="object")}const Zy=document.createElement("i");function xm(t){const e="&"+t+";";Zy.innerHTML=e;const n=Zy.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Jn(t,e,n,r){const l=t.length;let o=0,u;if(e<0?e=-e>l?0:l+e:e=e>l?l:e,n=n>0?n:0,r.length<1e4)u=Array.from(r),u.unshift(e,n),t.splice(...u);else for(n&&t.splice(e,n);o<r.length;)u=r.slice(o,o+1e4),u.unshift(e,0),t.splice(...u),o+=1e4,e+=1e4}function Cn(t,e){return t.length>0?(Jn(t,t.length,0,e),t):e}const Qy={}.hasOwnProperty;function Sj(t){const e={};let n=-1;for(;++n<t.length;)Cj(e,t[n]);return e}function Cj(t,e){let n;for(n in e){const l=(Qy.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n];let u;if(o)for(u in o){Qy.call(l,u)||(l[u]=[]);const f=o[u];Tj(l[u],Array.isArray(f)?f:f?[f]:[])}}}function Tj(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Jn(t,0,0,r)}function Gv(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Ss(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const qn=Wi(/[A-Za-z]/),fn=Wi(/[\dA-Za-z]/),Ej=Wi(/[#-'*+\--9=?A-Z^-~]/);function qf(t){return t!==null&&(t<32||t===127)}const Ff=Wi(/\d/),kj=Wi(/[\dA-Fa-f]/),Aj=Wi(/[!-/:-@[-`{-~]/);function De(t){return t!==null&&t<-2}function en(t){return t!==null&&(t<0||t===32)}function Xe(t){return t===-2||t===-1||t===32}const _j=Wi(new RegExp("\\p{P}|\\p{S}","u")),jj=Wi(/\s/);function Wi(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Ls(t){const e=[];let n=-1,r=0,l=0;for(;++n<t.length;){const o=t.charCodeAt(n);let u="";if(o===37&&fn(t.charCodeAt(n+1))&&fn(t.charCodeAt(n+2)))l=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(u=String.fromCharCode(o));else if(o>55295&&o<57344){const f=t.charCodeAt(n+1);o<56320&&f>56319&&f<57344?(u=String.fromCharCode(o,f),l=1):u=""}else u=String.fromCharCode(o);u&&(e.push(t.slice(r,n),encodeURIComponent(u)),r=n+l+1,u=""),l&&(n+=l,l=0)}return e.join("")+t.slice(r)}function ct(t,e,n,r){const l=r?r-1:Number.POSITIVE_INFINITY;let o=0;return u;function u(g){return Xe(g)?(t.enter(n),f(g)):e(g)}function f(g){return Xe(g)&&o++<l?(t.consume(g),f):(t.exit(n),e(g))}}const Mj={tokenize:Rj};function Rj(t){const e=t.attempt(this.parser.constructs.contentInitial,r,l);let n;return e;function r(f){if(f===null){t.consume(f);return}return t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),ct(t,e,"linePrefix")}function l(f){return t.enter("paragraph"),o(f)}function o(f){const g=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=g),n=g,u(f)}function u(f){if(f===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(f);return}return De(f)?(t.consume(f),t.exit("chunkText"),o):(t.consume(f),u)}}const Ij={tokenize:Dj},Ky={tokenize:Lj};function Dj(t){const e=this,n=[];let r=0,l,o,u;return f;function f(D){if(r<n.length){const $=n[r];return e.containerState=$[1],t.attempt($[0].continuation,g,h)(D)}return h(D)}function g(D){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,l&&P();const $=e.events.length;let Z=$,L;for(;Z--;)if(e.events[Z][0]==="exit"&&e.events[Z][1].type==="chunkFlow"){L=e.events[Z][1].end;break}A(r);let R=$;for(;R<e.events.length;)e.events[R][1].end={...L},R++;return Jn(e.events,Z+1,0,e.events.slice($)),e.events.length=R,h(D)}return f(D)}function h(D){if(r===n.length){if(!l)return N(D);if(l.currentConstruct&&l.currentConstruct.concrete)return C(D);e.interrupt=!!(l.currentConstruct&&!l._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(Ky,x,b)(D)}function x(D){return l&&P(),A(r),N(D)}function b(D){return e.parser.lazy[e.now().line]=r!==n.length,u=e.now().offset,C(D)}function N(D){return e.containerState={},t.attempt(Ky,w,C)(D)}function w(D){return r++,n.push([e.currentConstruct,e.containerState]),N(D)}function C(D){if(D===null){l&&P(),A(0),t.consume(D);return}return l=l||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:l,contentType:"flow",previous:o}),E(D)}function E(D){if(D===null){_(t.exit("chunkFlow"),!0),A(0),t.consume(D);return}return De(D)?(t.consume(D),_(t.exit("chunkFlow")),r=0,e.interrupt=void 0,f):(t.consume(D),E)}function _(D,$){const Z=e.sliceStream(D);if($&&Z.push(null),D.previous=o,o&&(o.next=D),o=D,l.defineSkip(D.start),l.write(Z),e.parser.lazy[D.start.line]){let L=l.events.length;for(;L--;)if(l.events[L][1].start.offset<u&&(!l.events[L][1].end||l.events[L][1].end.offset>u))return;const R=e.events.length;let B=R,z,X;for(;B--;)if(e.events[B][0]==="exit"&&e.events[B][1].type==="chunkFlow"){if(z){X=e.events[B][1].end;break}z=!0}for(A(r),L=R;L<e.events.length;)e.events[L][1].end={...X},L++;Jn(e.events,B+1,0,e.events.slice(R)),e.events.length=L}}function A(D){let $=n.length;for(;$-- >D;){const Z=n[$];e.containerState=Z[1],Z[0].exit.call(e,t)}n.length=D}function P(){l.write([null]),o=void 0,l=void 0,e.containerState._closeFlow=void 0}}function Lj(t,e,n){return ct(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Wy(t){if(t===null||en(t)||jj(t))return 1;if(_j(t))return 2}function ym(t,e,n){const r=[];let l=-1;for(;++l<t.length;){const o=t[l].resolveAll;o&&!r.includes(o)&&(e=o(e,n),r.push(o))}return e}const Hf={name:"attention",resolveAll:Pj,tokenize:Oj};function Pj(t,e){let n=-1,r,l,o,u,f,g,h,x;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;g=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const b={...t[r][1].end},N={...t[n][1].start};Xy(b,-g),Xy(N,g),u={type:g>1?"strongSequence":"emphasisSequence",start:b,end:{...t[r][1].end}},f={type:g>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:N},o={type:g>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},l={type:g>1?"strong":"emphasis",start:{...u.start},end:{...f.end}},t[r][1].end={...u.start},t[n][1].start={...f.end},h=[],t[r][1].end.offset-t[r][1].start.offset&&(h=Cn(h,[["enter",t[r][1],e],["exit",t[r][1],e]])),h=Cn(h,[["enter",l,e],["enter",u,e],["exit",u,e],["enter",o,e]]),h=Cn(h,ym(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),h=Cn(h,[["exit",o,e],["enter",f,e],["exit",f,e],["exit",l,e]]),t[n][1].end.offset-t[n][1].start.offset?(x=2,h=Cn(h,[["enter",t[n][1],e],["exit",t[n][1],e]])):x=0,Jn(t,r-1,n-r+3,h),n=r+h.length-x-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function Oj(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,l=Wy(r);let o;return u;function u(g){return o=g,t.enter("attentionSequence"),f(g)}function f(g){if(g===o)return t.consume(g),f;const h=t.exit("attentionSequence"),x=Wy(g),b=!x||x===2&&l||n.includes(g),N=!l||l===2&&x||n.includes(r);return h._open=!!(o===42?b:b&&(l||!N)),h._close=!!(o===42?N:N&&(x||!b)),e(g)}}function Xy(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const Bj={name:"autolink",tokenize:Uj};function Uj(t,e,n){let r=0;return l;function l(w){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(w){return qn(w)?(t.consume(w),u):w===64?n(w):h(w)}function u(w){return w===43||w===45||w===46||fn(w)?(r=1,f(w)):h(w)}function f(w){return w===58?(t.consume(w),r=0,g):(w===43||w===45||w===46||fn(w))&&r++<32?(t.consume(w),f):(r=0,h(w))}function g(w){return w===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.exit("autolink"),e):w===null||w===32||w===60||qf(w)?n(w):(t.consume(w),g)}function h(w){return w===64?(t.consume(w),x):Ej(w)?(t.consume(w),h):n(w)}function x(w){return fn(w)?b(w):n(w)}function b(w){return w===46?(t.consume(w),r=0,x):w===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.exit("autolink"),e):N(w)}function N(w){if((w===45||fn(w))&&r++<63){const C=w===45?N:b;return t.consume(w),C}return n(w)}}const ac={partial:!0,tokenize:zj};function zj(t,e,n){return r;function r(o){return Xe(o)?ct(t,l,"linePrefix")(o):l(o)}function l(o){return o===null||De(o)?e(o):n(o)}}const Yv={continuation:{tokenize:$j},exit:qj,name:"blockQuote",tokenize:Vj};function Vj(t,e,n){const r=this;return l;function l(u){if(u===62){const f=r.containerState;return f.open||(t.enter("blockQuote",{_container:!0}),f.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(u),t.exit("blockQuoteMarker"),o}return n(u)}function o(u){return Xe(u)?(t.enter("blockQuotePrefixWhitespace"),t.consume(u),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(u))}}function $j(t,e,n){const r=this;return l;function l(u){return Xe(u)?ct(t,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u):o(u)}function o(u){return t.attempt(Yv,e,n)(u)}}function qj(t){t.exit("blockQuote")}const Jv={name:"characterEscape",tokenize:Fj};function Fj(t,e,n){return r;function r(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),l}function l(o){return Aj(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(o)}}const Zv={name:"characterReference",tokenize:Hj};function Hj(t,e,n){const r=this;let l=0,o,u;return f;function f(b){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(b),t.exit("characterReferenceMarker"),g}function g(b){return b===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(b),t.exit("characterReferenceMarkerNumeric"),h):(t.enter("characterReferenceValue"),o=31,u=fn,x(b))}function h(b){return b===88||b===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(b),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,u=kj,x):(t.enter("characterReferenceValue"),o=7,u=Ff,x(b))}function x(b){if(b===59&&l){const N=t.exit("characterReferenceValue");return u===fn&&!xm(r.sliceSerialize(N))?n(b):(t.enter("characterReferenceMarker"),t.consume(b),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return u(b)&&l++<o?(t.consume(b),x):n(b)}}const e1={partial:!0,tokenize:Yj},t1={concrete:!0,name:"codeFenced",tokenize:Gj};function Gj(t,e,n){const r=this,l={partial:!0,tokenize:Z};let o=0,u=0,f;return g;function g(L){return h(L)}function h(L){const R=r.events[r.events.length-1];return o=R&&R[1].type==="linePrefix"?R[2].sliceSerialize(R[1],!0).length:0,f=L,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),x(L)}function x(L){return L===f?(u++,t.consume(L),x):u<3?n(L):(t.exit("codeFencedFenceSequence"),Xe(L)?ct(t,b,"whitespace")(L):b(L))}function b(L){return L===null||De(L)?(t.exit("codeFencedFence"),r.interrupt?e(L):t.check(e1,E,$)(L)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),N(L))}function N(L){return L===null||De(L)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),b(L)):Xe(L)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),ct(t,w,"whitespace")(L)):L===96&&L===f?n(L):(t.consume(L),N)}function w(L){return L===null||De(L)?b(L):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),C(L))}function C(L){return L===null||De(L)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),b(L)):L===96&&L===f?n(L):(t.consume(L),C)}function E(L){return t.attempt(l,$,_)(L)}function _(L){return t.enter("lineEnding"),t.consume(L),t.exit("lineEnding"),A}function A(L){return o>0&&Xe(L)?ct(t,P,"linePrefix",o+1)(L):P(L)}function P(L){return L===null||De(L)?t.check(e1,E,$)(L):(t.enter("codeFlowValue"),D(L))}function D(L){return L===null||De(L)?(t.exit("codeFlowValue"),P(L)):(t.consume(L),D)}function $(L){return t.exit("codeFenced"),e(L)}function Z(L,R,B){let z=0;return X;function X(ne){return L.enter("lineEnding"),L.consume(ne),L.exit("lineEnding"),Q}function Q(ne){return L.enter("codeFencedFence"),Xe(ne)?ct(L,G,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ne):G(ne)}function G(ne){return ne===f?(L.enter("codeFencedFenceSequence"),O(ne)):B(ne)}function O(ne){return ne===f?(z++,L.consume(ne),O):z>=u?(L.exit("codeFencedFenceSequence"),Xe(ne)?ct(L,V,"whitespace")(ne):V(ne)):B(ne)}function V(ne){return ne===null||De(ne)?(L.exit("codeFencedFence"),R(ne)):B(ne)}}}function Yj(t,e,n){const r=this;return l;function l(u){return u===null?n(u):(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),o)}function o(u){return r.parser.lazy[r.now().line]?n(u):e(u)}}const lf={name:"codeIndented",tokenize:Zj},Jj={partial:!0,tokenize:Qj};function Zj(t,e,n){const r=this;return l;function l(h){return t.enter("codeIndented"),ct(t,o,"linePrefix",5)(h)}function o(h){const x=r.events[r.events.length-1];return x&&x[1].type==="linePrefix"&&x[2].sliceSerialize(x[1],!0).length>=4?u(h):n(h)}function u(h){return h===null?g(h):De(h)?t.attempt(Jj,u,g)(h):(t.enter("codeFlowValue"),f(h))}function f(h){return h===null||De(h)?(t.exit("codeFlowValue"),u(h)):(t.consume(h),f)}function g(h){return t.exit("codeIndented"),e(h)}}function Qj(t,e,n){const r=this;return l;function l(u){return r.parser.lazy[r.now().line]?n(u):De(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),l):ct(t,o,"linePrefix",5)(u)}function o(u){const f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?e(u):De(u)?l(u):n(u)}}const Kj={name:"codeText",previous:Xj,resolve:Wj,tokenize:eM};function Wj(t){let e=t.length-4,n=3,r,l;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)l===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(l=r):(r===e||t[r][1].type==="lineEnding")&&(t[l][1].type="codeTextData",r!==l+2&&(t[l][1].end=t[r-1][1].end,t.splice(l+2,r-l-2),e-=r-l-2,r=l+2),l=void 0);return t}function Xj(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function eM(t,e,n){let r=0,l,o;return u;function u(b){return t.enter("codeText"),t.enter("codeTextSequence"),f(b)}function f(b){return b===96?(t.consume(b),r++,f):(t.exit("codeTextSequence"),g(b))}function g(b){return b===null?n(b):b===32?(t.enter("space"),t.consume(b),t.exit("space"),g):b===96?(o=t.enter("codeTextSequence"),l=0,x(b)):De(b)?(t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),g):(t.enter("codeTextData"),h(b))}function h(b){return b===null||b===32||b===96||De(b)?(t.exit("codeTextData"),g(b)):(t.consume(b),h)}function x(b){return b===96?(t.consume(b),l++,x):l===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(b)):(o.type="codeTextData",h(b))}}class tM{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const l=n||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-l,Number.POSITIVE_INFINITY);return r&&Ul(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Ul(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Ul(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);Ul(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Ul(this.left,n.reverse())}}}function Ul(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function Qv(t){const e={};let n=-1,r,l,o,u,f,g,h;const x=new tM(t);for(;++n<x.length;){for(;n in e;)n=e[n];if(r=x.get(n),n&&r[1].type==="chunkFlow"&&x.get(n-1)[1].type==="listItemPrefix"&&(g=r[1]._tokenizer.events,o=0,o<g.length&&g[o][1].type==="lineEndingBlank"&&(o+=2),o<g.length&&g[o][1].type==="content"))for(;++o<g.length&&g[o][1].type!=="content";)g[o][1].type==="chunkText"&&(g[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,nM(x,n)),n=e[n],h=!0);else if(r[1]._container){for(o=n,l=void 0;o--;)if(u=x.get(o),u[1].type==="lineEnding"||u[1].type==="lineEndingBlank")u[0]==="enter"&&(l&&(x.get(l)[1].type="lineEndingBlank"),u[1].type="lineEnding",l=o);else if(!(u[1].type==="linePrefix"||u[1].type==="listItemIndent"))break;l&&(r[1].end={...x.get(l)[1].start},f=x.slice(l,n),f.unshift(r),x.splice(l,n-l+1,f))}}return Jn(t,0,Number.POSITIVE_INFINITY,x.slice(0)),!h}function nM(t,e){const n=t.get(e)[1],r=t.get(e)[2];let l=e-1;const o=[];let u=n._tokenizer;u||(u=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(u._contentTypeTextTrailing=!0));const f=u.events,g=[],h={};let x,b,N=-1,w=n,C=0,E=0;const _=[E];for(;w;){for(;t.get(++l)[1]!==w;);o.push(l),w._tokenizer||(x=r.sliceStream(w),w.next||x.push(null),b&&u.defineSkip(w.start),w._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=!0),u.write(x),w._isInFirstContentOfListItem&&(u._gfmTasklistFirstContentOfListItem=void 0)),b=w,w=w.next}for(w=n;++N<f.length;)f[N][0]==="exit"&&f[N-1][0]==="enter"&&f[N][1].type===f[N-1][1].type&&f[N][1].start.line!==f[N][1].end.line&&(E=N+1,_.push(E),w._tokenizer=void 0,w.previous=void 0,w=w.next);for(u.events=[],w?(w._tokenizer=void 0,w.previous=void 0):_.pop(),N=_.length;N--;){const A=f.slice(_[N],_[N+1]),P=o.pop();g.push([P,P+A.length-1]),t.splice(P,2,A)}for(g.reverse(),N=-1;++N<g.length;)h[C+g[N][0]]=C+g[N][1],C+=g[N][1]-g[N][0]-1;return h}const iM={resolve:sM,tokenize:lM},rM={partial:!0,tokenize:aM};function sM(t){return Qv(t),t}function lM(t,e){let n;return r;function r(f){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),l(f)}function l(f){return f===null?o(f):De(f)?t.check(rM,u,o)(f):(t.consume(f),l)}function o(f){return t.exit("chunkContent"),t.exit("content"),e(f)}function u(f){return t.consume(f),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,l}}function aM(t,e,n){const r=this;return l;function l(u){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),ct(t,o,"linePrefix")}function o(u){if(u===null||De(u))return n(u);const f=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?e(u):t.interrupt(r.parser.constructs.flow,n,e)(u)}}function Kv(t,e,n,r,l,o,u,f,g){const h=g||Number.POSITIVE_INFINITY;let x=0;return b;function b(A){return A===60?(t.enter(r),t.enter(l),t.enter(o),t.consume(A),t.exit(o),N):A===null||A===32||A===41||qf(A)?n(A):(t.enter(r),t.enter(u),t.enter(f),t.enter("chunkString",{contentType:"string"}),E(A))}function N(A){return A===62?(t.enter(o),t.consume(A),t.exit(o),t.exit(l),t.exit(r),e):(t.enter(f),t.enter("chunkString",{contentType:"string"}),w(A))}function w(A){return A===62?(t.exit("chunkString"),t.exit(f),N(A)):A===null||A===60||De(A)?n(A):(t.consume(A),A===92?C:w)}function C(A){return A===60||A===62||A===92?(t.consume(A),w):w(A)}function E(A){return!x&&(A===null||A===41||en(A))?(t.exit("chunkString"),t.exit(f),t.exit(u),t.exit(r),e(A)):x<h&&A===40?(t.consume(A),x++,E):A===41?(t.consume(A),x--,E):A===null||A===32||A===40||qf(A)?n(A):(t.consume(A),A===92?_:E)}function _(A){return A===40||A===41||A===92?(t.consume(A),E):E(A)}}function Wv(t,e,n,r,l,o){const u=this;let f=0,g;return h;function h(w){return t.enter(r),t.enter(l),t.consume(w),t.exit(l),t.enter(o),x}function x(w){return f>999||w===null||w===91||w===93&&!g||w===94&&!f&&"_hiddenFootnoteSupport"in u.parser.constructs?n(w):w===93?(t.exit(o),t.enter(l),t.consume(w),t.exit(l),t.exit(r),e):De(w)?(t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),x):(t.enter("chunkString",{contentType:"string"}),b(w))}function b(w){return w===null||w===91||w===93||De(w)||f++>999?(t.exit("chunkString"),x(w)):(t.consume(w),g||(g=!Xe(w)),w===92?N:b)}function N(w){return w===91||w===92||w===93?(t.consume(w),f++,b):b(w)}}function Xv(t,e,n,r,l,o){let u;return f;function f(N){return N===34||N===39||N===40?(t.enter(r),t.enter(l),t.consume(N),t.exit(l),u=N===40?41:N,g):n(N)}function g(N){return N===u?(t.enter(l),t.consume(N),t.exit(l),t.exit(r),e):(t.enter(o),h(N))}function h(N){return N===u?(t.exit(o),g(u)):N===null?n(N):De(N)?(t.enter("lineEnding"),t.consume(N),t.exit("lineEnding"),ct(t,h,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),x(N))}function x(N){return N===u||N===null||De(N)?(t.exit("chunkString"),h(N)):(t.consume(N),N===92?b:x)}function b(N){return N===u||N===92?(t.consume(N),x):x(N)}}function Gl(t,e){let n;return r;function r(l){return De(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),n=!0,r):Xe(l)?ct(t,r,n?"linePrefix":"lineSuffix")(l):e(l)}}const oM={name:"definition",tokenize:uM},cM={partial:!0,tokenize:dM};function uM(t,e,n){const r=this;let l;return o;function o(w){return t.enter("definition"),u(w)}function u(w){return Wv.call(r,t,f,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(w)}function f(w){return l=Ss(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),w===58?(t.enter("definitionMarker"),t.consume(w),t.exit("definitionMarker"),g):n(w)}function g(w){return en(w)?Gl(t,h)(w):h(w)}function h(w){return Kv(t,x,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(w)}function x(w){return t.attempt(cM,b,b)(w)}function b(w){return Xe(w)?ct(t,N,"whitespace")(w):N(w)}function N(w){return w===null||De(w)?(t.exit("definition"),r.parser.defined.push(l),e(w)):n(w)}}function dM(t,e,n){return r;function r(f){return en(f)?Gl(t,l)(f):n(f)}function l(f){return Xv(t,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(f)}function o(f){return Xe(f)?ct(t,u,"whitespace")(f):u(f)}function u(f){return f===null||De(f)?e(f):n(f)}}const fM={name:"hardBreakEscape",tokenize:mM};function mM(t,e,n){return r;function r(o){return t.enter("hardBreakEscape"),t.consume(o),l}function l(o){return De(o)?(t.exit("hardBreakEscape"),e(o)):n(o)}}const hM={name:"headingAtx",resolve:pM,tokenize:gM};function pM(t,e){let n=t.length-2,r=3,l,o;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(l={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},o={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Jn(t,r,n-r+1,[["enter",l,e],["enter",o,e],["exit",o,e],["exit",l,e]])),t}function gM(t,e,n){let r=0;return l;function l(x){return t.enter("atxHeading"),o(x)}function o(x){return t.enter("atxHeadingSequence"),u(x)}function u(x){return x===35&&r++<6?(t.consume(x),u):x===null||en(x)?(t.exit("atxHeadingSequence"),f(x)):n(x)}function f(x){return x===35?(t.enter("atxHeadingSequence"),g(x)):x===null||De(x)?(t.exit("atxHeading"),e(x)):Xe(x)?ct(t,f,"whitespace")(x):(t.enter("atxHeadingText"),h(x))}function g(x){return x===35?(t.consume(x),g):(t.exit("atxHeadingSequence"),f(x))}function h(x){return x===null||x===35||en(x)?(t.exit("atxHeadingText"),f(x)):(t.consume(x),h)}}const xM=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],n1=["pre","script","style","textarea"],yM={concrete:!0,name:"htmlFlow",resolveTo:wM,tokenize:NM},vM={partial:!0,tokenize:CM},bM={partial:!0,tokenize:SM};function wM(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function NM(t,e,n){const r=this;let l,o,u,f,g;return h;function h(j){return x(j)}function x(j){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(j),b}function b(j){return j===33?(t.consume(j),N):j===47?(t.consume(j),o=!0,E):j===63?(t.consume(j),l=3,r.interrupt?e:S):qn(j)?(t.consume(j),u=String.fromCharCode(j),_):n(j)}function N(j){return j===45?(t.consume(j),l=2,w):j===91?(t.consume(j),l=5,f=0,C):qn(j)?(t.consume(j),l=4,r.interrupt?e:S):n(j)}function w(j){return j===45?(t.consume(j),r.interrupt?e:S):n(j)}function C(j){const ge="CDATA[";return j===ge.charCodeAt(f++)?(t.consume(j),f===ge.length?r.interrupt?e:G:C):n(j)}function E(j){return qn(j)?(t.consume(j),u=String.fromCharCode(j),_):n(j)}function _(j){if(j===null||j===47||j===62||en(j)){const ge=j===47,Se=u.toLowerCase();return!ge&&!o&&n1.includes(Se)?(l=1,r.interrupt?e(j):G(j)):xM.includes(u.toLowerCase())?(l=6,ge?(t.consume(j),A):r.interrupt?e(j):G(j)):(l=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(j):o?P(j):D(j))}return j===45||fn(j)?(t.consume(j),u+=String.fromCharCode(j),_):n(j)}function A(j){return j===62?(t.consume(j),r.interrupt?e:G):n(j)}function P(j){return Xe(j)?(t.consume(j),P):X(j)}function D(j){return j===47?(t.consume(j),X):j===58||j===95||qn(j)?(t.consume(j),$):Xe(j)?(t.consume(j),D):X(j)}function $(j){return j===45||j===46||j===58||j===95||fn(j)?(t.consume(j),$):Z(j)}function Z(j){return j===61?(t.consume(j),L):Xe(j)?(t.consume(j),Z):D(j)}function L(j){return j===null||j===60||j===61||j===62||j===96?n(j):j===34||j===39?(t.consume(j),g=j,R):Xe(j)?(t.consume(j),L):B(j)}function R(j){return j===g?(t.consume(j),g=null,z):j===null||De(j)?n(j):(t.consume(j),R)}function B(j){return j===null||j===34||j===39||j===47||j===60||j===61||j===62||j===96||en(j)?Z(j):(t.consume(j),B)}function z(j){return j===47||j===62||Xe(j)?D(j):n(j)}function X(j){return j===62?(t.consume(j),Q):n(j)}function Q(j){return j===null||De(j)?G(j):Xe(j)?(t.consume(j),Q):n(j)}function G(j){return j===45&&l===2?(t.consume(j),I):j===60&&l===1?(t.consume(j),Y):j===62&&l===4?(t.consume(j),F):j===63&&l===3?(t.consume(j),S):j===93&&l===5?(t.consume(j),H):De(j)&&(l===6||l===7)?(t.exit("htmlFlowData"),t.check(vM,re,O)(j)):j===null||De(j)?(t.exit("htmlFlowData"),O(j)):(t.consume(j),G)}function O(j){return t.check(bM,V,re)(j)}function V(j){return t.enter("lineEnding"),t.consume(j),t.exit("lineEnding"),ne}function ne(j){return j===null||De(j)?O(j):(t.enter("htmlFlowData"),G(j))}function I(j){return j===45?(t.consume(j),S):G(j)}function Y(j){return j===47?(t.consume(j),u="",ue):G(j)}function ue(j){if(j===62){const ge=u.toLowerCase();return n1.includes(ge)?(t.consume(j),F):G(j)}return qn(j)&&u.length<8?(t.consume(j),u+=String.fromCharCode(j),ue):G(j)}function H(j){return j===93?(t.consume(j),S):G(j)}function S(j){return j===62?(t.consume(j),F):j===45&&l===2?(t.consume(j),S):G(j)}function F(j){return j===null||De(j)?(t.exit("htmlFlowData"),re(j)):(t.consume(j),F)}function re(j){return t.exit("htmlFlow"),e(j)}}function SM(t,e,n){const r=this;return l;function l(u){return De(u)?(t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),o):n(u)}function o(u){return r.parser.lazy[r.now().line]?n(u):e(u)}}function CM(t,e,n){return r;function r(l){return t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),t.attempt(ac,e,n)}}const TM={name:"htmlText",tokenize:EM};function EM(t,e,n){const r=this;let l,o,u;return f;function f(S){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(S),g}function g(S){return S===33?(t.consume(S),h):S===47?(t.consume(S),Z):S===63?(t.consume(S),D):qn(S)?(t.consume(S),B):n(S)}function h(S){return S===45?(t.consume(S),x):S===91?(t.consume(S),o=0,C):qn(S)?(t.consume(S),P):n(S)}function x(S){return S===45?(t.consume(S),w):n(S)}function b(S){return S===null?n(S):S===45?(t.consume(S),N):De(S)?(u=b,Y(S)):(t.consume(S),b)}function N(S){return S===45?(t.consume(S),w):b(S)}function w(S){return S===62?I(S):S===45?N(S):b(S)}function C(S){const F="CDATA[";return S===F.charCodeAt(o++)?(t.consume(S),o===F.length?E:C):n(S)}function E(S){return S===null?n(S):S===93?(t.consume(S),_):De(S)?(u=E,Y(S)):(t.consume(S),E)}function _(S){return S===93?(t.consume(S),A):E(S)}function A(S){return S===62?I(S):S===93?(t.consume(S),A):E(S)}function P(S){return S===null||S===62?I(S):De(S)?(u=P,Y(S)):(t.consume(S),P)}function D(S){return S===null?n(S):S===63?(t.consume(S),$):De(S)?(u=D,Y(S)):(t.consume(S),D)}function $(S){return S===62?I(S):D(S)}function Z(S){return qn(S)?(t.consume(S),L):n(S)}function L(S){return S===45||fn(S)?(t.consume(S),L):R(S)}function R(S){return De(S)?(u=R,Y(S)):Xe(S)?(t.consume(S),R):I(S)}function B(S){return S===45||fn(S)?(t.consume(S),B):S===47||S===62||en(S)?z(S):n(S)}function z(S){return S===47?(t.consume(S),I):S===58||S===95||qn(S)?(t.consume(S),X):De(S)?(u=z,Y(S)):Xe(S)?(t.consume(S),z):I(S)}function X(S){return S===45||S===46||S===58||S===95||fn(S)?(t.consume(S),X):Q(S)}function Q(S){return S===61?(t.consume(S),G):De(S)?(u=Q,Y(S)):Xe(S)?(t.consume(S),Q):z(S)}function G(S){return S===null||S===60||S===61||S===62||S===96?n(S):S===34||S===39?(t.consume(S),l=S,O):De(S)?(u=G,Y(S)):Xe(S)?(t.consume(S),G):(t.consume(S),V)}function O(S){return S===l?(t.consume(S),l=void 0,ne):S===null?n(S):De(S)?(u=O,Y(S)):(t.consume(S),O)}function V(S){return S===null||S===34||S===39||S===60||S===61||S===96?n(S):S===47||S===62||en(S)?z(S):(t.consume(S),V)}function ne(S){return S===47||S===62||en(S)?z(S):n(S)}function I(S){return S===62?(t.consume(S),t.exit("htmlTextData"),t.exit("htmlText"),e):n(S)}function Y(S){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(S),t.exit("lineEnding"),ue}function ue(S){return Xe(S)?ct(t,H,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(S):H(S)}function H(S){return t.enter("htmlTextData"),u(S)}}const vm={name:"labelEnd",resolveAll:jM,resolveTo:MM,tokenize:RM},kM={tokenize:IM},AM={tokenize:DM},_M={tokenize:LM};function jM(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const l=r.type==="labelImage"?4:2;r.type="data",e+=l}}return t.length!==n.length&&Jn(t,0,t.length,n),t}function MM(t,e){let n=t.length,r=0,l,o,u,f;for(;n--;)if(l=t[n][1],o){if(l.type==="link"||l.type==="labelLink"&&l._inactive)break;t[n][0]==="enter"&&l.type==="labelLink"&&(l._inactive=!0)}else if(u){if(t[n][0]==="enter"&&(l.type==="labelImage"||l.type==="labelLink")&&!l._balanced&&(o=n,l.type!=="labelLink")){r=2;break}}else l.type==="labelEnd"&&(u=n);const g={type:t[o][1].type==="labelLink"?"link":"image",start:{...t[o][1].start},end:{...t[t.length-1][1].end}},h={type:"label",start:{...t[o][1].start},end:{...t[u][1].end}},x={type:"labelText",start:{...t[o+r+2][1].end},end:{...t[u-2][1].start}};return f=[["enter",g,e],["enter",h,e]],f=Cn(f,t.slice(o+1,o+r+3)),f=Cn(f,[["enter",x,e]]),f=Cn(f,ym(e.parser.constructs.insideSpan.null,t.slice(o+r+4,u-3),e)),f=Cn(f,[["exit",x,e],t[u-2],t[u-1],["exit",h,e]]),f=Cn(f,t.slice(u+1)),f=Cn(f,[["exit",g,e]]),Jn(t,o,t.length,f),t}function RM(t,e,n){const r=this;let l=r.events.length,o,u;for(;l--;)if((r.events[l][1].type==="labelImage"||r.events[l][1].type==="labelLink")&&!r.events[l][1]._balanced){o=r.events[l][1];break}return f;function f(N){return o?o._inactive?b(N):(u=r.parser.defined.includes(Ss(r.sliceSerialize({start:o.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(N),t.exit("labelMarker"),t.exit("labelEnd"),g):n(N)}function g(N){return N===40?t.attempt(kM,x,u?x:b)(N):N===91?t.attempt(AM,x,u?h:b)(N):u?x(N):b(N)}function h(N){return t.attempt(_M,x,b)(N)}function x(N){return e(N)}function b(N){return o._balanced=!0,n(N)}}function IM(t,e,n){return r;function r(b){return t.enter("resource"),t.enter("resourceMarker"),t.consume(b),t.exit("resourceMarker"),l}function l(b){return en(b)?Gl(t,o)(b):o(b)}function o(b){return b===41?x(b):Kv(t,u,f,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(b)}function u(b){return en(b)?Gl(t,g)(b):x(b)}function f(b){return n(b)}function g(b){return b===34||b===39||b===40?Xv(t,h,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(b):x(b)}function h(b){return en(b)?Gl(t,x)(b):x(b)}function x(b){return b===41?(t.enter("resourceMarker"),t.consume(b),t.exit("resourceMarker"),t.exit("resource"),e):n(b)}}function DM(t,e,n){const r=this;return l;function l(f){return Wv.call(r,t,o,u,"reference","referenceMarker","referenceString")(f)}function o(f){return r.parser.defined.includes(Ss(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(f):n(f)}function u(f){return n(f)}}function LM(t,e,n){return r;function r(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),l}function l(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):n(o)}}const PM={name:"labelStartImage",resolveAll:vm.resolveAll,tokenize:OM};function OM(t,e,n){const r=this;return l;function l(f){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(f),t.exit("labelImageMarker"),o}function o(f){return f===91?(t.enter("labelMarker"),t.consume(f),t.exit("labelMarker"),t.exit("labelImage"),u):n(f)}function u(f){return f===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(f):e(f)}}const BM={name:"labelStartLink",resolveAll:vm.resolveAll,tokenize:UM};function UM(t,e,n){const r=this;return l;function l(u){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelLink"),o}function o(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):e(u)}}const af={name:"lineEnding",tokenize:zM};function zM(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),ct(t,e,"linePrefix")}}const Lo={name:"thematicBreak",tokenize:VM};function VM(t,e,n){let r=0,l;return o;function o(h){return t.enter("thematicBreak"),u(h)}function u(h){return l=h,f(h)}function f(h){return h===l?(t.enter("thematicBreakSequence"),g(h)):r>=3&&(h===null||De(h))?(t.exit("thematicBreak"),e(h)):n(h)}function g(h){return h===l?(t.consume(h),r++,g):(t.exit("thematicBreakSequence"),Xe(h)?ct(t,f,"whitespace")(h):f(h))}}const Xt={continuation:{tokenize:HM},exit:YM,name:"list",tokenize:FM},$M={partial:!0,tokenize:JM},qM={partial:!0,tokenize:GM};function FM(t,e,n){const r=this,l=r.events[r.events.length-1];let o=l&&l[1].type==="linePrefix"?l[2].sliceSerialize(l[1],!0).length:0,u=0;return f;function f(w){const C=r.containerState.type||(w===42||w===43||w===45?"listUnordered":"listOrdered");if(C==="listUnordered"?!r.containerState.marker||w===r.containerState.marker:Ff(w)){if(r.containerState.type||(r.containerState.type=C,t.enter(C,{_container:!0})),C==="listUnordered")return t.enter("listItemPrefix"),w===42||w===45?t.check(Lo,n,h)(w):h(w);if(!r.interrupt||w===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),g(w)}return n(w)}function g(w){return Ff(w)&&++u<10?(t.consume(w),g):(!r.interrupt||u<2)&&(r.containerState.marker?w===r.containerState.marker:w===41||w===46)?(t.exit("listItemValue"),h(w)):n(w)}function h(w){return t.enter("listItemMarker"),t.consume(w),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||w,t.check(ac,r.interrupt?n:x,t.attempt($M,N,b))}function x(w){return r.containerState.initialBlankLine=!0,o++,N(w)}function b(w){return Xe(w)?(t.enter("listItemPrefixWhitespace"),t.consume(w),t.exit("listItemPrefixWhitespace"),N):n(w)}function N(w){return r.containerState.size=o+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(w)}}function HM(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(ac,l,o);function l(f){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,ct(t,e,"listItemIndent",r.containerState.size+1)(f)}function o(f){return r.containerState.furtherBlankLines||!Xe(f)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,u(f)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(qM,e,u)(f))}function u(f){return r.containerState._closeFlow=!0,r.interrupt=void 0,ct(t,t.attempt(Xt,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(f)}}function GM(t,e,n){const r=this;return ct(t,l,"listItemIndent",r.containerState.size+1);function l(o){const u=r.events[r.events.length-1];return u&&u[1].type==="listItemIndent"&&u[2].sliceSerialize(u[1],!0).length===r.containerState.size?e(o):n(o)}}function YM(t){t.exit(this.containerState.type)}function JM(t,e,n){const r=this;return ct(t,l,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function l(o){const u=r.events[r.events.length-1];return!Xe(o)&&u&&u[1].type==="listItemPrefixWhitespace"?e(o):n(o)}}const i1={name:"setextUnderline",resolveTo:ZM,tokenize:QM};function ZM(t,e){let n=t.length,r,l,o;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(l=n)}else t[n][1].type==="content"&&t.splice(n,1),!o&&t[n][1].type==="definition"&&(o=n);const u={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[l][1].type="setextHeadingText",o?(t.splice(l,0,["enter",u,e]),t.splice(o+1,0,["exit",t[r][1],e]),t[r][1].end={...t[o][1].end}):t[r][1]=u,t.push(["exit",u,e]),t}function QM(t,e,n){const r=this;let l;return o;function o(h){let x=r.events.length,b;for(;x--;)if(r.events[x][1].type!=="lineEnding"&&r.events[x][1].type!=="linePrefix"&&r.events[x][1].type!=="content"){b=r.events[x][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||b)?(t.enter("setextHeadingLine"),l=h,u(h)):n(h)}function u(h){return t.enter("setextHeadingLineSequence"),f(h)}function f(h){return h===l?(t.consume(h),f):(t.exit("setextHeadingLineSequence"),Xe(h)?ct(t,g,"lineSuffix")(h):g(h))}function g(h){return h===null||De(h)?(t.exit("setextHeadingLine"),e(h)):n(h)}}const KM={tokenize:WM};function WM(t){const e=this,n=t.attempt(ac,r,t.attempt(this.parser.constructs.flowInitial,l,ct(t,t.attempt(this.parser.constructs.flow,l,t.attempt(iM,l)),"linePrefix")));return n;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function l(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const XM={resolveAll:tb()},e7=eb("string"),t7=eb("text");function eb(t){return{resolveAll:tb(t==="text"?n7:void 0),tokenize:e};function e(n){const r=this,l=this.parser.constructs[t],o=n.attempt(l,u,f);return u;function u(x){return h(x)?o(x):f(x)}function f(x){if(x===null){n.consume(x);return}return n.enter("data"),n.consume(x),g}function g(x){return h(x)?(n.exit("data"),o(x)):(n.consume(x),g)}function h(x){if(x===null)return!0;const b=l[x];let N=-1;if(b)for(;++N<b.length;){const w=b[N];if(!w.previous||w.previous.call(r,r.previous))return!0}return!1}}}function tb(t){return e;function e(n,r){let l=-1,o;for(;++l<=n.length;)o===void 0?n[l]&&n[l][1].type==="data"&&(o=l,l++):(!n[l]||n[l][1].type!=="data")&&(l!==o+2&&(n[o][1].end=n[l-1][1].end,n.splice(o+2,l-o-2),l=o+2),o=void 0);return t?t(n,r):n}}function n7(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],l=e.sliceStream(r);let o=l.length,u=-1,f=0,g;for(;o--;){const h=l[o];if(typeof h=="string"){for(u=h.length;h.charCodeAt(u-1)===32;)f++,u--;if(u)break;u=-1}else if(h===-2)g=!0,f++;else if(h!==-1){o++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(f=0),f){const h={type:n===t.length||g||f<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?u:r.start._bufferIndex+u,_index:r.start._index+o,line:r.end.line,column:r.end.column-f,offset:r.end.offset-f},end:{...r.end}};r.end={...h.start},r.start.offset===r.end.offset?Object.assign(r,h):(t.splice(n,0,["enter",h,e],["exit",h,e]),n+=2)}n++}return t}const i7={42:Xt,43:Xt,45:Xt,48:Xt,49:Xt,50:Xt,51:Xt,52:Xt,53:Xt,54:Xt,55:Xt,56:Xt,57:Xt,62:Yv},r7={91:oM},s7={[-2]:lf,[-1]:lf,32:lf},l7={35:hM,42:Lo,45:[i1,Lo],60:yM,61:i1,95:Lo,96:t1,126:t1},a7={38:Zv,92:Jv},o7={[-5]:af,[-4]:af,[-3]:af,33:PM,38:Zv,42:Hf,60:[Bj,TM],91:BM,92:[fM,Jv],93:vm,95:Hf,96:Kj},c7={null:[Hf,XM]},u7={null:[42,95]},d7={null:[]},f7=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:u7,contentInitial:r7,disable:d7,document:i7,flow:l7,flowInitial:s7,insideSpan:c7,string:a7,text:o7},Symbol.toStringTag,{value:"Module"}));function m7(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const l={},o=[];let u=[],f=[];const g={attempt:R(Z),check:R(L),consume:P,enter:D,exit:$,interrupt:R(L,{interrupt:!0})},h={code:null,containerState:{},defineSkip:E,events:[],now:C,parser:t,previous:null,sliceSerialize:N,sliceStream:w,write:b};let x=e.tokenize.call(h,g);return e.resolveAll&&o.push(e),h;function b(Q){return u=Cn(u,Q),_(),u[u.length-1]!==null?[]:(B(e,0),h.events=ym(o,h.events,h),h.events)}function N(Q,G){return p7(w(Q),G)}function w(Q){return h7(u,Q)}function C(){const{_bufferIndex:Q,_index:G,line:O,column:V,offset:ne}=r;return{_bufferIndex:Q,_index:G,line:O,column:V,offset:ne}}function E(Q){l[Q.line]=Q.column,X()}function _(){let Q;for(;r._index<u.length;){const G=u[r._index];if(typeof G=="string")for(Q=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===Q&&r._bufferIndex<G.length;)A(G.charCodeAt(r._bufferIndex));else A(G)}}function A(Q){x=x(Q)}function P(Q){De(Q)?(r.line++,r.column=1,r.offset+=Q===-3?2:1,X()):Q!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===u[r._index].length&&(r._bufferIndex=-1,r._index++)),h.previous=Q}function D(Q,G){const O=G||{};return O.type=Q,O.start=C(),h.events.push(["enter",O,h]),f.push(O),O}function $(Q){const G=f.pop();return G.end=C(),h.events.push(["exit",G,h]),G}function Z(Q,G){B(Q,G.from)}function L(Q,G){G.restore()}function R(Q,G){return O;function O(V,ne,I){let Y,ue,H,S;return Array.isArray(V)?re(V):"tokenize"in V?re([V]):F(V);function F(he){return Te;function Te(ve){const Ee=ve!==null&&he[ve],xt=ve!==null&&he.null,jt=[...Array.isArray(Ee)?Ee:Ee?[Ee]:[],...Array.isArray(xt)?xt:xt?[xt]:[]];return re(jt)(ve)}}function re(he){return Y=he,ue=0,he.length===0?I:j(he[ue])}function j(he){return Te;function Te(ve){return S=z(),H=he,he.partial||(h.currentConstruct=he),he.name&&h.parser.constructs.disable.null.includes(he.name)?Se():he.tokenize.call(G?Object.assign(Object.create(h),G):h,g,ge,Se)(ve)}}function ge(he){return Q(H,S),ne}function Se(he){return S.restore(),++ue<Y.length?j(Y[ue]):I}}}function B(Q,G){Q.resolveAll&&!o.includes(Q)&&o.push(Q),Q.resolve&&Jn(h.events,G,h.events.length-G,Q.resolve(h.events.slice(G),h)),Q.resolveTo&&(h.events=Q.resolveTo(h.events,h))}function z(){const Q=C(),G=h.previous,O=h.currentConstruct,V=h.events.length,ne=Array.from(f);return{from:V,restore:I};function I(){r=Q,h.previous=G,h.currentConstruct=O,h.events.length=V,f=ne,X()}}function X(){r.line in l&&r.column<2&&(r.column=l[r.line],r.offset+=l[r.line]-1)}}function h7(t,e){const n=e.start._index,r=e.start._bufferIndex,l=e.end._index,o=e.end._bufferIndex;let u;if(n===l)u=[t[n].slice(r,o)];else{if(u=t.slice(n,l),r>-1){const f=u[0];typeof f=="string"?u[0]=f.slice(r):u.shift()}o>0&&u.push(t[l].slice(0,o))}return u}function p7(t,e){let n=-1;const r=[];let l;for(;++n<t.length;){const o=t[n];let u;if(typeof o=="string")u=o;else switch(o){case-5:{u="\r";break}case-4:{u=`
`;break}case-3:{u=`\r
`;break}case-2:{u=e?" ":"	";break}case-1:{if(!e&&l)continue;u=" ";break}default:u=String.fromCharCode(o)}l=o===-2,r.push(u)}return r.join("")}function g7(t){const r={constructs:Sj([f7,...(t||{}).extensions||[]]),content:l(Mj),defined:[],document:l(Ij),flow:l(KM),lazy:{},string:l(e7),text:l(t7)};return r;function l(o){return u;function u(f){return m7(r,o,f)}}}function x7(t){for(;!Qv(t););return t}const r1=/[\0\t\n\r]/g;function y7(){let t=1,e="",n=!0,r;return l;function l(o,u,f){const g=[];let h,x,b,N,w;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(u||void 0).decode(o)),b=0,e="",n&&(o.charCodeAt(0)===65279&&b++,n=void 0);b<o.length;){if(r1.lastIndex=b,h=r1.exec(o),N=h&&h.index!==void 0?h.index:o.length,w=o.charCodeAt(N),!h){e=o.slice(b);break}if(w===10&&b===N&&r)g.push(-3),r=void 0;else switch(r&&(g.push(-5),r=void 0),b<N&&(g.push(o.slice(b,N)),t+=N-b),w){case 0:{g.push(65533),t++;break}case 9:{for(x=Math.ceil(t/4)*4,g.push(-2);t++<x;)g.push(-1);break}case 10:{g.push(-4),t=1;break}default:r=!0,t=1}b=N+1}return f&&(r&&g.push(-5),e&&g.push(e),g.push(null)),g}}const v7=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function b7(t){return t.replace(v7,w7)}function w7(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const l=n.charCodeAt(1),o=l===120||l===88;return Gv(n.slice(o?2:1),o?16:10)}return xm(n)||t}const nb={}.hasOwnProperty;function N7(t,e,n){return typeof e!="string"&&(n=e,e=void 0),S7(n)(x7(g7(n).document().write(y7()(t,e,!0))))}function S7(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(ce),autolinkProtocol:z,autolinkEmail:z,atxHeading:o(bi),blockQuote:o(xt),characterEscape:z,characterReference:z,codeFenced:o(jt),codeFencedFenceInfo:u,codeFencedFenceMeta:u,codeIndented:o(jt,u),codeText:o(nt,u),codeTextData:z,data:z,codeFlowValue:z,definition:o(mn),definitionDestinationString:u,definitionLabelString:u,definitionTitleString:u,emphasis:o(Kn),hardBreakEscape:o(wi),hardBreakTrailing:o(wi),htmlFlow:o(Pe,u),htmlFlowData:z,htmlText:o(Pe,u),htmlTextData:z,image:o(Xi),label:u,link:o(ce),listItem:o(Be),listItemValue:N,listOrdered:o(Je,b),listUnordered:o(Je),paragraph:o(yt),reference:j,referenceString:u,resourceDestinationString:u,resourceTitleString:u,setextHeading:o(bi),strong:o(de),thematicBreak:o(ke)},exit:{atxHeading:g(),atxHeadingSequence:Z,autolink:g(),autolinkEmail:Ee,autolinkProtocol:ve,blockQuote:g(),characterEscapeValue:X,characterReferenceMarkerHexadecimal:Se,characterReferenceMarkerNumeric:Se,characterReferenceValue:he,characterReference:Te,codeFenced:g(_),codeFencedFence:E,codeFencedFenceInfo:w,codeFencedFenceMeta:C,codeFlowValue:X,codeIndented:g(A),codeText:g(ne),codeTextData:X,data:X,definition:g(),definitionDestinationString:$,definitionLabelString:P,definitionTitleString:D,emphasis:g(),hardBreakEscape:g(G),hardBreakTrailing:g(G),htmlFlow:g(O),htmlFlowData:X,htmlText:g(V),htmlTextData:X,image:g(Y),label:H,labelText:ue,lineEnding:Q,link:g(I),listItem:g(),listOrdered:g(),listUnordered:g(),paragraph:g(),referenceString:ge,resourceDestinationString:S,resourceTitleString:F,resource:re,setextHeading:g(B),setextHeadingLineSequence:R,setextHeadingText:L,strong:g(),thematicBreak:g()}};ib(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(K){let se={type:"root",children:[]};const pe={stack:[se],tokenStack:[],config:e,enter:f,exit:h,buffer:u,resume:x,data:n},xe=[];let _e=-1;for(;++_e<K.length;)if(K[_e][1].type==="listOrdered"||K[_e][1].type==="listUnordered")if(K[_e][0]==="enter")xe.push(_e);else{const ft=xe.pop();_e=l(K,ft,_e)}for(_e=-1;++_e<K.length;){const ft=e[K[_e][0]];nb.call(ft,K[_e][1].type)&&ft[K[_e][1].type].call(Object.assign({sliceSerialize:K[_e][2].sliceSerialize},pe),K[_e][1])}if(pe.tokenStack.length>0){const ft=pe.tokenStack[pe.tokenStack.length-1];(ft[1]||s1).call(pe,void 0,ft[0])}for(se.position={start:Gi(K.length>0?K[0][1].start:{line:1,column:1,offset:0}),end:Gi(K.length>0?K[K.length-2][1].end:{line:1,column:1,offset:0})},_e=-1;++_e<e.transforms.length;)se=e.transforms[_e](se)||se;return se}function l(K,se,pe){let xe=se-1,_e=-1,ft=!1,Wn,Yt,Dn,nn;for(;++xe<=pe;){const Mt=K[xe];switch(Mt[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Mt[0]==="enter"?_e++:_e--,nn=void 0;break}case"lineEndingBlank":{Mt[0]==="enter"&&(Wn&&!nn&&!_e&&!Dn&&(Dn=xe),nn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:nn=void 0}if(!_e&&Mt[0]==="enter"&&Mt[1].type==="listItemPrefix"||_e===-1&&Mt[0]==="exit"&&(Mt[1].type==="listUnordered"||Mt[1].type==="listOrdered")){if(Wn){let hn=xe;for(Yt=void 0;hn--;){const En=K[hn];if(En[1].type==="lineEnding"||En[1].type==="lineEndingBlank"){if(En[0]==="exit")continue;Yt&&(K[Yt][1].type="lineEndingBlank",ft=!0),En[1].type="lineEnding",Yt=hn}else if(!(En[1].type==="linePrefix"||En[1].type==="blockQuotePrefix"||En[1].type==="blockQuotePrefixWhitespace"||En[1].type==="blockQuoteMarker"||En[1].type==="listItemIndent"))break}Dn&&(!Yt||Dn<Yt)&&(Wn._spread=!0),Wn.end=Object.assign({},Yt?K[Yt][1].start:Mt[1].end),K.splice(Yt||xe,0,["exit",Wn,Mt[2]]),xe++,pe++}if(Mt[1].type==="listItemPrefix"){const hn={type:"listItem",_spread:!1,start:Object.assign({},Mt[1].start),end:void 0};Wn=hn,K.splice(xe,0,["enter",hn,Mt[2]]),xe++,pe++,Dn=void 0,nn=!0}}}return K[se][1]._spread=ft,pe}function o(K,se){return pe;function pe(xe){f.call(this,K(xe),xe),se&&se.call(this,xe)}}function u(){this.stack.push({type:"fragment",children:[]})}function f(K,se,pe){this.stack[this.stack.length-1].children.push(K),this.stack.push(K),this.tokenStack.push([se,pe||void 0]),K.position={start:Gi(se.start),end:void 0}}function g(K){return se;function se(pe){K&&K.call(this,pe),h.call(this,pe)}}function h(K,se){const pe=this.stack.pop(),xe=this.tokenStack.pop();if(xe)xe[0].type!==K.type&&(se?se.call(this,K,xe[0]):(xe[1]||s1).call(this,K,xe[0]));else throw new Error("Cannot close `"+K.type+"` ("+Hl({start:K.start,end:K.end})+"): its not open");pe.position.end=Gi(K.end)}function x(){return wj(this.stack.pop())}function b(){this.data.expectingFirstListItemValue=!0}function N(K){if(this.data.expectingFirstListItemValue){const se=this.stack[this.stack.length-2];se.start=Number.parseInt(this.sliceSerialize(K),10),this.data.expectingFirstListItemValue=void 0}}function w(){const K=this.resume(),se=this.stack[this.stack.length-1];se.lang=K}function C(){const K=this.resume(),se=this.stack[this.stack.length-1];se.meta=K}function E(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function _(){const K=this.resume(),se=this.stack[this.stack.length-1];se.value=K.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function A(){const K=this.resume(),se=this.stack[this.stack.length-1];se.value=K.replace(/(\r?\n|\r)$/g,"")}function P(K){const se=this.resume(),pe=this.stack[this.stack.length-1];pe.label=se,pe.identifier=Ss(this.sliceSerialize(K)).toLowerCase()}function D(){const K=this.resume(),se=this.stack[this.stack.length-1];se.title=K}function $(){const K=this.resume(),se=this.stack[this.stack.length-1];se.url=K}function Z(K){const se=this.stack[this.stack.length-1];if(!se.depth){const pe=this.sliceSerialize(K).length;se.depth=pe}}function L(){this.data.setextHeadingSlurpLineEnding=!0}function R(K){const se=this.stack[this.stack.length-1];se.depth=this.sliceSerialize(K).codePointAt(0)===61?1:2}function B(){this.data.setextHeadingSlurpLineEnding=void 0}function z(K){const pe=this.stack[this.stack.length-1].children;let xe=pe[pe.length-1];(!xe||xe.type!=="text")&&(xe=ye(),xe.position={start:Gi(K.start),end:void 0},pe.push(xe)),this.stack.push(xe)}function X(K){const se=this.stack.pop();se.value+=this.sliceSerialize(K),se.position.end=Gi(K.end)}function Q(K){const se=this.stack[this.stack.length-1];if(this.data.atHardBreak){const pe=se.children[se.children.length-1];pe.position.end=Gi(K.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(se.type)&&(z.call(this,K),X.call(this,K))}function G(){this.data.atHardBreak=!0}function O(){const K=this.resume(),se=this.stack[this.stack.length-1];se.value=K}function V(){const K=this.resume(),se=this.stack[this.stack.length-1];se.value=K}function ne(){const K=this.resume(),se=this.stack[this.stack.length-1];se.value=K}function I(){const K=this.stack[this.stack.length-1];if(this.data.inReference){const se=this.data.referenceType||"shortcut";K.type+="Reference",K.referenceType=se,delete K.url,delete K.title}else delete K.identifier,delete K.label;this.data.referenceType=void 0}function Y(){const K=this.stack[this.stack.length-1];if(this.data.inReference){const se=this.data.referenceType||"shortcut";K.type+="Reference",K.referenceType=se,delete K.url,delete K.title}else delete K.identifier,delete K.label;this.data.referenceType=void 0}function ue(K){const se=this.sliceSerialize(K),pe=this.stack[this.stack.length-2];pe.label=b7(se),pe.identifier=Ss(se).toLowerCase()}function H(){const K=this.stack[this.stack.length-1],se=this.resume(),pe=this.stack[this.stack.length-1];if(this.data.inReference=!0,pe.type==="link"){const xe=K.children;pe.children=xe}else pe.alt=se}function S(){const K=this.resume(),se=this.stack[this.stack.length-1];se.url=K}function F(){const K=this.resume(),se=this.stack[this.stack.length-1];se.title=K}function re(){this.data.inReference=void 0}function j(){this.data.referenceType="collapsed"}function ge(K){const se=this.resume(),pe=this.stack[this.stack.length-1];pe.label=se,pe.identifier=Ss(this.sliceSerialize(K)).toLowerCase(),this.data.referenceType="full"}function Se(K){this.data.characterReferenceType=K.type}function he(K){const se=this.sliceSerialize(K),pe=this.data.characterReferenceType;let xe;pe?(xe=Gv(se,pe==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):xe=xm(se);const _e=this.stack[this.stack.length-1];_e.value+=xe}function Te(K){const se=this.stack.pop();se.position.end=Gi(K.end)}function ve(K){X.call(this,K);const se=this.stack[this.stack.length-1];se.url=this.sliceSerialize(K)}function Ee(K){X.call(this,K);const se=this.stack[this.stack.length-1];se.url="mailto:"+this.sliceSerialize(K)}function xt(){return{type:"blockquote",children:[]}}function jt(){return{type:"code",lang:null,meta:null,value:""}}function nt(){return{type:"inlineCode",value:""}}function mn(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Kn(){return{type:"emphasis",children:[]}}function bi(){return{type:"heading",depth:0,children:[]}}function wi(){return{type:"break"}}function Pe(){return{type:"html",value:""}}function Xi(){return{type:"image",title:null,url:"",alt:null}}function ce(){return{type:"link",title:null,url:"",children:[]}}function Je(K){return{type:"list",ordered:K.type==="listOrdered",start:null,spread:K._spread,children:[]}}function Be(K){return{type:"listItem",spread:K._spread,checked:null,children:[]}}function yt(){return{type:"paragraph",children:[]}}function de(){return{type:"strong",children:[]}}function ye(){return{type:"text",value:""}}function ke(){return{type:"thematicBreak"}}}function Gi(t){return{line:t.line,column:t.column,offset:t.offset}}function ib(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?ib(t,r):C7(t,r)}}function C7(t,e){let n;for(n in e)if(nb.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function s1(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Hl({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Hl({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Hl({start:e.start,end:e.end})+") is still open")}function T7(t){const e=this;e.parser=n;function n(r){return N7(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function E7(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function k7(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function A7(t,e){const n=e.value?e.value+`
`:"",r={};e.lang&&(r.className=["language-"+e.lang]);let l={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(l.data={meta:e.meta}),t.patch(e,l),l=t.applyData(e,l),l={type:"element",tagName:"pre",properties:{},children:[l]},t.patch(e,l),l}function _7(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function j7(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function M7(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),l=Ls(r.toLowerCase()),o=t.footnoteOrder.indexOf(r);let u,f=t.footnoteCounts.get(r);f===void 0?(f=0,t.footnoteOrder.push(r),u=t.footnoteOrder.length):u=o+1,f+=1,t.footnoteCounts.set(r,f);const g={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+l,id:n+"fnref-"+l+(f>1?"-"+f:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(u)}]};t.patch(e,g);const h={type:"element",tagName:"sup",properties:{},children:[g]};return t.patch(e,h),t.applyData(e,h)}function R7(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function I7(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function rb(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const l=t.all(e),o=l[0];o&&o.type==="text"?o.value="["+o.value:l.unshift({type:"text",value:"["});const u=l[l.length-1];return u&&u.type==="text"?u.value+=r:l.push({type:"text",value:r}),l}function D7(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return rb(t,e);const l={src:Ls(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(l.title=r.title);const o={type:"element",tagName:"img",properties:l,children:[]};return t.patch(e,o),t.applyData(e,o)}function L7(t,e){const n={src:Ls(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function P7(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function O7(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return rb(t,e);const l={href:Ls(r.url||"")};r.title!==null&&r.title!==void 0&&(l.title=r.title);const o={type:"element",tagName:"a",properties:l,children:t.all(e)};return t.patch(e,o),t.applyData(e,o)}function B7(t,e){const n={href:Ls(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function U7(t,e,n){const r=t.all(e),l=n?z7(n):sb(e),o={},u=[];if(typeof e.checked=="boolean"){const x=r[0];let b;x&&x.type==="element"&&x.tagName==="p"?b=x:(b={type:"element",tagName:"p",properties:{},children:[]},r.unshift(b)),b.children.length>0&&b.children.unshift({type:"text",value:" "}),b.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let f=-1;for(;++f<r.length;){const x=r[f];(l||f!==0||x.type!=="element"||x.tagName!=="p")&&u.push({type:"text",value:`
`}),x.type==="element"&&x.tagName==="p"&&!l?u.push(...x.children):u.push(x)}const g=r[r.length-1];g&&(l||g.type!=="element"||g.tagName!=="p")&&u.push({type:"text",value:`
`});const h={type:"element",tagName:"li",properties:o,children:u};return t.patch(e,h),t.applyData(e,h)}function z7(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=sb(n[r])}return e}function sb(t){const e=t.spread;return e??t.children.length>1}function V7(t,e){const n={},r=t.all(e);let l=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++l<r.length;){const u=r[l];if(u.type==="element"&&u.tagName==="li"&&u.properties&&Array.isArray(u.properties.className)&&u.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,o),t.applyData(e,o)}function $7(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function q7(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function F7(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function H7(t,e){const n=t.all(e),r=n.shift(),l=[];if(r){const u={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],u),l.push(u)}if(n.length>0){const u={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},f=mm(e.children[1]),g=Uv(e.children[e.children.length-1]);f&&g&&(u.position={start:f,end:g}),l.push(u)}const o={type:"element",tagName:"table",properties:{},children:t.wrap(l,!0)};return t.patch(e,o),t.applyData(e,o)}function G7(t,e,n){const r=n?n.children:void 0,o=(r?r.indexOf(e):1)===0?"th":"td",u=n&&n.type==="table"?n.align:void 0,f=u?u.length:e.children.length;let g=-1;const h=[];for(;++g<f;){const b=e.children[g],N={},w=u?u[g]:void 0;w&&(N.align=w);let C={type:"element",tagName:o,properties:N,children:[]};b&&(C.children=t.all(b),t.patch(b,C),C=t.applyData(b,C)),h.push(C)}const x={type:"element",tagName:"tr",properties:{},children:t.wrap(h,!0)};return t.patch(e,x),t.applyData(e,x)}function Y7(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const l1=9,a1=32;function J7(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),l=0;const o=[];for(;r;)o.push(o1(e.slice(l,r.index),l>0,!0),r[0]),l=r.index+r[0].length,r=n.exec(e);return o.push(o1(e.slice(l),l>0,!1)),o.join("")}function o1(t,e,n){let r=0,l=t.length;if(e){let o=t.codePointAt(r);for(;o===l1||o===a1;)r++,o=t.codePointAt(r)}if(n){let o=t.codePointAt(l-1);for(;o===l1||o===a1;)l--,o=t.codePointAt(l-1)}return l>r?t.slice(r,l):""}function Z7(t,e){const n={type:"text",value:J7(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function Q7(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const K7={blockquote:E7,break:k7,code:A7,delete:_7,emphasis:j7,footnoteReference:M7,heading:R7,html:I7,imageReference:D7,image:L7,inlineCode:P7,linkReference:O7,link:B7,listItem:U7,list:V7,paragraph:$7,root:q7,strong:F7,table:H7,tableCell:Y7,tableRow:G7,text:Z7,thematicBreak:Q7,toml:No,yaml:No,definition:No,footnoteDefinition:No};function No(){}const lb=-1,oc=0,Yl=1,Zo=2,bm=3,wm=4,Nm=5,Sm=6,ab=7,ob=8,c1=typeof self=="object"?self:globalThis,W7=(t,e)=>{const n=(l,o)=>(t.set(o,l),l),r=l=>{if(t.has(l))return t.get(l);const[o,u]=e[l];switch(o){case oc:case lb:return n(u,l);case Yl:{const f=n([],l);for(const g of u)f.push(r(g));return f}case Zo:{const f=n({},l);for(const[g,h]of u)f[r(g)]=r(h);return f}case bm:return n(new Date(u),l);case wm:{const{source:f,flags:g}=u;return n(new RegExp(f,g),l)}case Nm:{const f=n(new Map,l);for(const[g,h]of u)f.set(r(g),r(h));return f}case Sm:{const f=n(new Set,l);for(const g of u)f.add(r(g));return f}case ab:{const{name:f,message:g}=u;return n(new c1[f](g),l)}case ob:return n(BigInt(u),l);case"BigInt":return n(Object(BigInt(u)),l);case"ArrayBuffer":return n(new Uint8Array(u).buffer,u);case"DataView":{const{buffer:f}=new Uint8Array(u);return n(new DataView(f),u)}}return n(new c1[o](u),l)};return r},u1=t=>W7(new Map,t)(0),gs="",{toString:X7}={},{keys:e8}=Object,zl=t=>{const e=typeof t;if(e!=="object"||!t)return[oc,e];const n=X7.call(t).slice(8,-1);switch(n){case"Array":return[Yl,gs];case"Object":return[Zo,gs];case"Date":return[bm,gs];case"RegExp":return[wm,gs];case"Map":return[Nm,gs];case"Set":return[Sm,gs];case"DataView":return[Yl,n]}return n.includes("Array")?[Yl,n]:n.includes("Error")?[ab,n]:[Zo,n]},So=([t,e])=>t===oc&&(e==="function"||e==="symbol"),t8=(t,e,n,r)=>{const l=(u,f)=>{const g=r.push(u)-1;return n.set(f,g),g},o=u=>{if(n.has(u))return n.get(u);let[f,g]=zl(u);switch(f){case oc:{let x=u;switch(g){case"bigint":f=ob,x=u.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+g);x=null;break;case"undefined":return l([lb],u)}return l([f,x],u)}case Yl:{if(g){let N=u;return g==="DataView"?N=new Uint8Array(u.buffer):g==="ArrayBuffer"&&(N=new Uint8Array(u)),l([g,[...N]],u)}const x=[],b=l([f,x],u);for(const N of u)x.push(o(N));return b}case Zo:{if(g)switch(g){case"BigInt":return l([g,u.toString()],u);case"Boolean":case"Number":case"String":return l([g,u.valueOf()],u)}if(e&&"toJSON"in u)return o(u.toJSON());const x=[],b=l([f,x],u);for(const N of e8(u))(t||!So(zl(u[N])))&&x.push([o(N),o(u[N])]);return b}case bm:return l([f,u.toISOString()],u);case wm:{const{source:x,flags:b}=u;return l([f,{source:x,flags:b}],u)}case Nm:{const x=[],b=l([f,x],u);for(const[N,w]of u)(t||!(So(zl(N))||So(zl(w))))&&x.push([o(N),o(w)]);return b}case Sm:{const x=[],b=l([f,x],u);for(const N of u)(t||!So(zl(N)))&&x.push(o(N));return b}}const{message:h}=u;return l([f,{name:g,message:h}],u)};return o},d1=(t,{json:e,lossy:n}={})=>{const r=[];return t8(!(e||n),!!e,new Map,r)(t),r},Qo=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?u1(d1(t,e)):structuredClone(t):(t,e)=>u1(d1(t,e));function n8(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function i8(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function r8(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||n8,r=t.options.footnoteBackLabel||i8,l=t.options.footnoteLabel||"Footnotes",o=t.options.footnoteLabelTagName||"h2",u=t.options.footnoteLabelProperties||{className:["sr-only"]},f=[];let g=-1;for(;++g<t.footnoteOrder.length;){const h=t.footnoteById.get(t.footnoteOrder[g]);if(!h)continue;const x=t.all(h),b=String(h.identifier).toUpperCase(),N=Ls(b.toLowerCase());let w=0;const C=[],E=t.footnoteCounts.get(b);for(;E!==void 0&&++w<=E;){C.length>0&&C.push({type:"text",value:" "});let P=typeof n=="string"?n:n(g,w);typeof P=="string"&&(P={type:"text",value:P}),C.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+N+(w>1?"-"+w:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(g,w),className:["data-footnote-backref"]},children:Array.isArray(P)?P:[P]})}const _=x[x.length-1];if(_&&_.type==="element"&&_.tagName==="p"){const P=_.children[_.children.length-1];P&&P.type==="text"?P.value+=" ":_.children.push({type:"text",value:" "}),_.children.push(...C)}else x.push(...C);const A={type:"element",tagName:"li",properties:{id:e+"fn-"+N},children:t.wrap(x,!0)};t.patch(h,A),f.push(A)}if(f.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...Qo(u),id:"footnote-label"},children:[{type:"text",value:l}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(f,!0)},{type:"text",value:`
`}]}}const cb=function(t){if(t==null)return o8;if(typeof t=="function")return cc(t);if(typeof t=="object")return Array.isArray(t)?s8(t):l8(t);if(typeof t=="string")return a8(t);throw new Error("Expected function, string, or object as test")};function s8(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=cb(t[n]);return cc(r);function r(...l){let o=-1;for(;++o<e.length;)if(e[o].apply(this,l))return!0;return!1}}function l8(t){const e=t;return cc(n);function n(r){const l=r;let o;for(o in t)if(l[o]!==e[o])return!1;return!0}}function a8(t){return cc(e);function e(n){return n&&n.type===t}}function cc(t){return e;function e(n,r,l){return!!(c8(n)&&t.call(this,n,typeof r=="number"?r:void 0,l||void 0))}}function o8(){return!0}function c8(t){return t!==null&&typeof t=="object"&&"type"in t}const ub=[],u8=!0,f1=!1,d8="skip";function f8(t,e,n,r){let l;typeof e=="function"&&typeof n!="function"?(r=n,n=e):l=e;const o=cb(l),u=r?-1:1;f(t,void 0,[])();function f(g,h,x){const b=g&&typeof g=="object"?g:{};if(typeof b.type=="string"){const w=typeof b.tagName=="string"?b.tagName:typeof b.name=="string"?b.name:void 0;Object.defineProperty(N,"name",{value:"node ("+(g.type+(w?"<"+w+">":""))+")"})}return N;function N(){let w=ub,C,E,_;if((!e||o(g,h,x[x.length-1]||void 0))&&(w=m8(n(g,x)),w[0]===f1))return w;if("children"in g&&g.children){const A=g;if(A.children&&w[0]!==d8)for(E=(r?A.children.length:-1)+u,_=x.concat(A);E>-1&&E<A.children.length;){const P=A.children[E];if(C=f(P,E,_)(),C[0]===f1)return C;E=typeof C[1]=="number"?C[1]:E+u}}return w}}}function m8(t){return Array.isArray(t)?t:typeof t=="number"?[u8,t]:t==null?ub:[t]}function db(t,e,n,r){let l,o,u;typeof e=="function"&&typeof n!="function"?(o=void 0,u=e,l=n):(o=e,u=n,l=r),f8(t,o,f,l);function f(g,h){const x=h[h.length-1],b=x?x.children.indexOf(g):void 0;return u(g,b,x)}}const Gf={}.hasOwnProperty,h8={};function p8(t,e){const n=e||h8,r=new Map,l=new Map,o=new Map,u={...K7,...n.handlers},f={all:h,applyData:x8,definitionById:r,footnoteById:l,footnoteCounts:o,footnoteOrder:[],handlers:u,one:g,options:n,patch:g8,wrap:v8};return db(t,function(x){if(x.type==="definition"||x.type==="footnoteDefinition"){const b=x.type==="definition"?r:l,N=String(x.identifier).toUpperCase();b.has(N)||b.set(N,x)}}),f;function g(x,b){const N=x.type,w=f.handlers[N];if(Gf.call(f.handlers,N)&&w)return w(f,x,b);if(f.options.passThrough&&f.options.passThrough.includes(N)){if("children"in x){const{children:E,..._}=x,A=Qo(_);return A.children=f.all(x),A}return Qo(x)}return(f.options.unknownHandler||y8)(f,x,b)}function h(x){const b=[];if("children"in x){const N=x.children;let w=-1;for(;++w<N.length;){const C=f.one(N[w],x);if(C){if(w&&N[w-1].type==="break"&&(!Array.isArray(C)&&C.type==="text"&&(C.value=m1(C.value)),!Array.isArray(C)&&C.type==="element")){const E=C.children[0];E&&E.type==="text"&&(E.value=m1(E.value))}Array.isArray(C)?b.push(...C):b.push(C)}}}return b}}function g8(t,e){t.position&&(e.position=X_(t))}function x8(t,e){let n=e;if(t&&t.data){const r=t.data.hName,l=t.data.hChildren,o=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const u="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:u}}n.type==="element"&&o&&Object.assign(n.properties,Qo(o)),"children"in n&&n.children&&l!==null&&l!==void 0&&(n.children=l)}return n}function y8(t,e){const n=e.data||{},r="value"in e&&!(Gf.call(n,"hProperties")||Gf.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function v8(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function m1(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function h1(t,e){const n=p8(t,e),r=n.one(t,void 0),l=r8(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return l&&o.children.push({type:"text",value:`
`},l),o}function b8(t,e){return t&&"run"in t?async function(n,r){const l=h1(n,{file:r,...e});await t.run(l,r)}:function(n,r){return h1(n,{file:r,...t||e})}}function p1(t){if(t)throw t}var of,g1;function w8(){if(g1)return of;g1=1;var t=Object.prototype.hasOwnProperty,e=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,l=function(h){return typeof Array.isArray=="function"?Array.isArray(h):e.call(h)==="[object Array]"},o=function(h){if(!h||e.call(h)!=="[object Object]")return!1;var x=t.call(h,"constructor"),b=h.constructor&&h.constructor.prototype&&t.call(h.constructor.prototype,"isPrototypeOf");if(h.constructor&&!x&&!b)return!1;var N;for(N in h);return typeof N>"u"||t.call(h,N)},u=function(h,x){n&&x.name==="__proto__"?n(h,x.name,{enumerable:!0,configurable:!0,value:x.newValue,writable:!0}):h[x.name]=x.newValue},f=function(h,x){if(x==="__proto__")if(t.call(h,x)){if(r)return r(h,x).value}else return;return h[x]};return of=function g(){var h,x,b,N,w,C,E=arguments[0],_=1,A=arguments.length,P=!1;for(typeof E=="boolean"&&(P=E,E=arguments[1]||{},_=2),(E==null||typeof E!="object"&&typeof E!="function")&&(E={});_<A;++_)if(h=arguments[_],h!=null)for(x in h)b=f(E,x),N=f(h,x),E!==N&&(P&&N&&(o(N)||(w=l(N)))?(w?(w=!1,C=b&&l(b)?b:[]):C=b&&o(b)?b:{},u(E,{name:x,newValue:g(P,C,N)})):typeof N<"u"&&u(E,{name:x,newValue:N}));return E},of}var N8=w8();const cf=Wl(N8);function Yf(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function S8(){const t=[],e={run:n,use:r};return e;function n(...l){let o=-1;const u=l.pop();if(typeof u!="function")throw new TypeError("Expected function as last argument, not "+u);f(null,...l);function f(g,...h){const x=t[++o];let b=-1;if(g){u(g);return}for(;++b<l.length;)(h[b]===null||h[b]===void 0)&&(h[b]=l[b]);l=h,x?C8(x,f)(...h):u(null,...h)}}function r(l){if(typeof l!="function")throw new TypeError("Expected `middelware` to be a function, not "+l);return t.push(l),e}}function C8(t,e){let n;return r;function r(...u){const f=t.length>u.length;let g;f&&u.push(l);try{g=t.apply(this,u)}catch(h){const x=h;if(f&&n)throw x;return l(x)}f||(g&&g.then&&typeof g.then=="function"?g.then(o,l):g instanceof Error?l(g):o(g))}function l(u,...f){n||(n=!0,e(u,...f))}function o(u){l(null,u)}}const $n={basename:T8,dirname:E8,extname:k8,join:A8,sep:"/"};function T8(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');la(t);let n=0,r=-1,l=t.length,o;if(e===void 0||e.length===0||e.length>t.length){for(;l--;)if(t.codePointAt(l)===47){if(o){n=l+1;break}}else r<0&&(o=!0,r=l+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let u=-1,f=e.length-1;for(;l--;)if(t.codePointAt(l)===47){if(o){n=l+1;break}}else u<0&&(o=!0,u=l+1),f>-1&&(t.codePointAt(l)===e.codePointAt(f--)?f<0&&(r=l):(f=-1,r=u));return n===r?r=u:r<0&&(r=t.length),t.slice(n,r)}function E8(t){if(la(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function k8(t){la(t);let e=t.length,n=-1,r=0,l=-1,o=0,u;for(;e--;){const f=t.codePointAt(e);if(f===47){if(u){r=e+1;break}continue}n<0&&(u=!0,n=e+1),f===46?l<0?l=e:o!==1&&(o=1):l>-1&&(o=-1)}return l<0||n<0||o===0||o===1&&l===n-1&&l===r+1?"":t.slice(l,n)}function A8(...t){let e=-1,n;for(;++e<t.length;)la(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":_8(n)}function _8(t){la(t);const e=t.codePointAt(0)===47;let n=j8(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function j8(t,e){let n="",r=0,l=-1,o=0,u=-1,f,g;for(;++u<=t.length;){if(u<t.length)f=t.codePointAt(u);else{if(f===47)break;f=47}if(f===47){if(!(l===u-1||o===1))if(l!==u-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(g=n.lastIndexOf("/"),g!==n.length-1){g<0?(n="",r=0):(n=n.slice(0,g),r=n.length-1-n.lastIndexOf("/")),l=u,o=0;continue}}else if(n.length>0){n="",r=0,l=u,o=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(l+1,u):n=t.slice(l+1,u),r=u-l-1;l=u,o=0}else f===46&&o>-1?o++:o=-1}return n}function la(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const M8={cwd:R8};function R8(){return"/"}function Jf(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function I8(t){if(typeof t=="string")t=new URL(t);else if(!Jf(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return D8(t)}function D8(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const l=new TypeError("File URL path must not include encoded / characters");throw l.code="ERR_INVALID_FILE_URL_PATH",l}}return decodeURIComponent(e)}const uf=["history","path","basename","stem","extname","dirname"];class fb{constructor(e){let n;e?Jf(e)?n={path:e}:typeof e=="string"||L8(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":M8.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<uf.length;){const o=uf[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let l;for(l in n)uf.includes(l)||(this[l]=n[l])}get basename(){return typeof this.path=="string"?$n.basename(this.path):void 0}set basename(e){ff(e,"basename"),df(e,"basename"),this.path=$n.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?$n.dirname(this.path):void 0}set dirname(e){x1(this.basename,"dirname"),this.path=$n.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?$n.extname(this.path):void 0}set extname(e){if(df(e,"extname"),x1(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=$n.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Jf(e)&&(e=I8(e)),ff(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?$n.basename(this.path,this.extname):void 0}set stem(e){ff(e,"stem"),df(e,"stem"),this.path=$n.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const l=this.message(e,n,r);throw l.fatal=!0,l}info(e,n,r){const l=this.message(e,n,r);return l.fatal=void 0,l}message(e,n,r){const l=new qt(e,n,r);return this.path&&(l.name=this.path+":"+l.name,l.file=this.path),l.fatal=!1,this.messages.push(l),l}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function df(t,e){if(t&&t.includes($n.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+$n.sep+"`")}function ff(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function x1(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function L8(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const P8=function(t){const r=this.constructor.prototype,l=r[t],o=function(){return l.apply(o,arguments)};return Object.setPrototypeOf(o,r),o},O8={}.hasOwnProperty;class Cm extends P8{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=S8()}copy(){const e=new Cm;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(cf(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(pf("data",this.frozen),this.namespace[e]=n,this):O8.call(this.namespace,e)&&this.namespace[e]||void 0:e?(pf("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const l=n.call(e,...r);typeof l=="function"&&this.transformers.use(l)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=Co(e),r=this.parser||this.Parser;return mf("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),mf("process",this.parser||this.Parser),hf("process",this.compiler||this.Compiler),n?l(void 0,n):new Promise(l);function l(o,u){const f=Co(e),g=r.parse(f);r.run(g,f,function(x,b,N){if(x||!b||!N)return h(x);const w=b,C=r.stringify(w,N);z8(C)?N.value=C:N.result=C,h(x,N)});function h(x,b){x||!b?u(x):o?o(b):n(void 0,b)}}}processSync(e){let n=!1,r;return this.freeze(),mf("processSync",this.parser||this.Parser),hf("processSync",this.compiler||this.Compiler),this.process(e,l),v1("processSync","process",n),r;function l(o,u){n=!0,p1(o),r=u}}run(e,n,r){y1(e),this.freeze();const l=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(u,f){const g=Co(n);l.run(e,g,h);function h(x,b,N){const w=b||e;x?f(x):u?u(w):r(void 0,w,N)}}}runSync(e,n){let r=!1,l;return this.run(e,n,o),v1("runSync","run",r),l;function o(u,f){p1(u),l=f,r=!0}}stringify(e,n){this.freeze();const r=Co(n),l=this.compiler||this.Compiler;return hf("stringify",l),y1(e),l(e,r)}use(e,...n){const r=this.attachers,l=this.namespace;if(pf("use",this.frozen),e!=null)if(typeof e=="function")g(e,n);else if(typeof e=="object")Array.isArray(e)?f(e):u(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function o(h){if(typeof h=="function")g(h,[]);else if(typeof h=="object")if(Array.isArray(h)){const[x,...b]=h;g(x,b)}else u(h);else throw new TypeError("Expected usable value, not `"+h+"`")}function u(h){if(!("plugins"in h)&&!("settings"in h))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");f(h.plugins),h.settings&&(l.settings=cf(!0,l.settings,h.settings))}function f(h){let x=-1;if(h!=null)if(Array.isArray(h))for(;++x<h.length;){const b=h[x];o(b)}else throw new TypeError("Expected a list of plugins, not `"+h+"`")}function g(h,x){let b=-1,N=-1;for(;++b<r.length;)if(r[b][0]===h){N=b;break}if(N===-1)r.push([h,...x]);else if(x.length>0){let[w,...C]=x;const E=r[N][1];Yf(E)&&Yf(w)&&(w=cf(!0,E,w)),r[N]=[h,w,...C]}}}}const B8=new Cm().freeze();function mf(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function hf(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function pf(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function y1(t){if(!Yf(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function v1(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Co(t){return U8(t)?t:new fb(t)}function U8(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function z8(t){return typeof t=="string"||V8(t)}function V8(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const $8="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",b1=[],w1={allowDangerousHtml:!0},q8=/^(https?|ircs?|mailto|xmpp)$/i,F8=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function H8(t){const e=G8(t),n=Y8(t);return J8(e.runSync(e.parse(n),n),t)}function G8(t){const e=t.rehypePlugins||b1,n=t.remarkPlugins||b1,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...w1}:w1;return B8().use(T7).use(n).use(b8,r).use(e)}function Y8(t){const e=t.children||"",n=new fb;return typeof e=="string"&&(n.value=e),n}function J8(t,e){const n=e.allowedElements,r=e.allowElement,l=e.components,o=e.disallowedElements,u=e.skipHtml,f=e.unwrapDisallowed,g=e.urlTransform||Z8;for(const x of F8)Object.hasOwn(e,x.from)&&(""+x.from+(x.to?"use `"+x.to+"` instead":"remove it")+$8+x.id,void 0);return db(t,h),rj(t,{Fragment:a.Fragment,components:l,ignoreInvalidStyle:!0,jsx:a.jsx,jsxs:a.jsxs,passKeys:!0,passNode:!0});function h(x,b,N){if(x.type==="raw"&&N&&typeof b=="number")return u?N.children.splice(b,1):N.children[b]={type:"text",value:x.value},b;if(x.type==="element"){let w;for(w in sf)if(Object.hasOwn(sf,w)&&Object.hasOwn(x.properties,w)){const C=x.properties[w],E=sf[w];(E===null||E.includes(x.tagName))&&(x.properties[w]=g(String(C||""),w,x))}}if(x.type==="element"){let w=n?!n.includes(x.tagName):o?o.includes(x.tagName):!1;if(!w&&r&&typeof b=="number"&&(w=!r(x,b,N)),w&&N&&typeof b=="number")return f&&x.children?N.children.splice(b,1,...x.children):N.children.splice(b,1),b}}}function Z8(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),l=t.indexOf("/");return e===-1||l!==-1&&e>l||n!==-1&&e>n||r!==-1&&e>r||q8.test(t.slice(0,e))?t:""}const Tm=({content:t,className:e=""})=>a.jsx("div",{className:`prose prose-slate max-w-none ${e}`,children:a.jsx(H8,{components:{h1:({children:n})=>a.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-4 mt-6 leading-tight",children:n}),h2:({children:n})=>a.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-3 mt-5 leading-tight",children:n}),h3:({children:n})=>a.jsx("h3",{className:"text-lg font-semibold text-slate-700 mb-3 mt-4 leading-tight",children:n}),h4:({children:n})=>a.jsx("h4",{className:"text-base font-semibold text-slate-700 mb-2 mt-3 leading-tight",children:n}),p:({children:n})=>a.jsx("p",{className:"text-base leading-relaxed mb-4 text-slate-700",children:n}),ul:({children:n})=>a.jsx("ul",{className:"list-disc list-inside mb-4 space-y-2 text-slate-700",children:n}),ol:({children:n})=>a.jsx("ol",{className:"list-decimal list-inside mb-4 space-y-2 text-slate-700",children:n}),li:({children:n})=>a.jsx("li",{className:"leading-relaxed ml-4",children:n}),strong:({children:n})=>a.jsx("strong",{className:"font-bold text-slate-800",children:n}),em:({children:n})=>a.jsx("em",{className:"italic text-slate-700",children:n}),code:({className:n,children:r,...l})=>n?a.jsx("code",{className:"block bg-slate-100 text-slate-800 p-4 rounded-lg text-sm font-mono overflow-x-auto mb-4",...l,children:r}):a.jsx("code",{className:"bg-slate-100 text-slate-800 px-2 py-1 rounded text-sm font-mono",...l,children:r}),blockquote:({children:n})=>a.jsx("blockquote",{className:"border-l-4 border-indigo-300 pl-4 my-4 italic text-slate-600 bg-indigo-50 py-2 rounded-r",children:n}),hr:()=>a.jsx("hr",{className:"my-6 border-slate-300"}),a:({href:n,children:r})=>a.jsx("a",{href:n,className:"text-indigo-600 hover:text-indigo-800 underline font-medium",target:"_blank",rel:"noopener noreferrer",children:r}),table:({children:n})=>a.jsx("div",{className:"overflow-x-auto mb-4",children:a.jsx("table",{className:"w-full border-collapse border border-slate-300 rounded-lg",children:n})}),thead:({children:n})=>a.jsx("thead",{className:"bg-slate-100",children:n}),tbody:({children:n})=>a.jsx("tbody",{children:n}),tr:({children:n})=>a.jsx("tr",{className:"border-b border-slate-200",children:n}),th:({children:n})=>a.jsx("th",{className:"border border-slate-300 px-4 py-2 text-left font-semibold text-slate-700",children:n}),td:({children:n})=>a.jsx("td",{className:"border border-slate-300 px-4 py-2 text-slate-700",children:n})},children:t})}),Q8=()=>{const[t]=Er(),e=t.get("contentId"),n=t.get("binId"),[r,l]=M.useState(null),[o,u]=M.useState(!0),[f,g]=M.useState(null),[h,x]=M.useState(null),[b,N]=M.useState(0),[w,C]=M.useState([]),[E,_]=M.useState({}),[A,P]=M.useState({});M.useEffect(()=>{D()},[e,n]);const D=async()=>{try{u(!0),g(null);let H;if(n)H=await rc(n);else if(e){await Ut.init();const S=await Ut.getLessonPlan(e);if(!S)throw new Error("");H={topic:S.topic,learningObjectives:S.content.learningObjectives,contentBreakdown:S.content.contentBreakdown,confusingPoints:S.content.confusingPoints,classroomActivities:S.content.classroomActivities,onlineInteractiveQuiz:S.content.quiz,writingPractice:S.content.writingPractice}}else throw new Error("contentId  binId");l(H),$(H),await Z(H)}catch(H){console.error(":",H),g(H.message||"")}finally{u(!1)}},$=H=>{const S=[];H.learningObjectives&&H.learningObjectives.length>0&&H.learningObjectives.forEach((F,re)=>{S.push({id:`objective_${re}`,title:`  ${re+1}`,type:"objective",icon:"",description:F.objective.length>50?`${F.objective.substring(0,50)}...`:F.objective,data:F,index:re})}),H.contentBreakdown&&H.contentBreakdown.length>0&&H.contentBreakdown.forEach((F,re)=>{S.push({id:`breakdown_${re}`,title:`  ${re+1}`,type:"breakdown",icon:"",description:F.topic.length>50?`${F.topic.substring(0,50)}...`:F.topic,data:F,index:re})}),H.confusingPoints&&H.confusingPoints.length>0&&H.confusingPoints.forEach((F,re)=>{S.push({id:`confusing_${re}`,title:`  ${re+1}`,type:"confusing",icon:"",description:F.point.length>50?`${F.point.substring(0,50)}...`:F.point,data:F,index:re})}),S.push({id:"summary",title:" ",type:"summary",icon:"",description:""}),C(S)},Z=async H=>{const S=e||n||"unknown",F=`interactive_learning_${S}`;try{const re=localStorage.getItem(F);if(re){const j=JSON.parse(re);x(j)}else{const j={contentId:S,topic:H.topic||"",progress:{currentObjectiveIndex:0,completedObjectives:[],timeSpent:0,interactionCount:0,startTime:Date.now(),lastUpdateTime:Date.now(),completedActivities:[]},interactions:[],createdAt:Date.now(),updatedAt:Date.now()};x(j),localStorage.setItem(F,JSON.stringify(j))}}catch(re){console.error(":",re);const j={contentId:S,topic:H.topic||"",progress:{currentObjectiveIndex:0,completedObjectives:[],timeSpent:0,interactionCount:0,startTime:Date.now(),lastUpdateTime:Date.now(),completedActivities:[]},interactions:[],createdAt:Date.now(),updatedAt:Date.now()};x(j)}},L=H=>{const S=`interactive_learning_${h==null?void 0:h.contentId}`;H.updatedAt=Date.now(),H.progress.lastUpdateTime=Date.now(),x(H),localStorage.setItem(S,JSON.stringify(H))},R=H=>{H>=0&&H<w.length&&N(H)},B=()=>{b<w.length-1&&N(b+1)},z=()=>{b>0&&N(b-1)},X=()=>localStorage.getItem("gemini_api_key")||"",Q=async H=>{const S=X();if(!S)return console.warn(" API "),null;const F=`${H.type}_${H.index||0}`;if(E[F]||A[F])return E[F]||null;try{P(j=>({...j,[F]:!0}));let re=null;switch(H.type){case"objective":re=await Ao(H.data,S);break;case"breakdown":re=await _o(H.data,S);break;case"confusing":re=await jo(H.data,S);break;default:return null}return _(j=>({...j,[F]:re})),re}catch(re){return console.error(":",re),null}finally{P(re=>({...re,[F]:!1}))}},G=H=>{const S=`${H.type}_${H.index||0}`;return!!E[S]},O=H=>{const S=`${H.type}_${H.index||0}`;return!!A[S]},V=H=>{const S=`${H.type}_${H.index||0}`;return E[S]||null},ne=H=>H?[/#+\s/,/\*\*.*\*\*/,/\*.*\*/,/`.*`/,/^\s*[-*+]\s/m,/^\s*\d+\.\s/m,/\[.*\]\(.*\)/,/^\s*>/m,/```[\s\S]*?```/,/\n\s*\n/].some(F=>F.test(H)):!1,I=(H,S)=>ne(H)?a.jsx(Tm,{content:H,className:S}):a.jsx("span",{className:S,children:H});if(o)return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-sky-50 to-indigo-100 py-8 px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"flex justify-center items-center min-h-[50vh]",children:a.jsx(Zn,{})})});if(f)return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-sky-50 to-indigo-100 py-8 px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg shadow-md",children:[a.jsx("h3",{className:"font-bold text-lg mb-2",children:""}),a.jsx("p",{children:f})]})})});if(!r||!h||w.length===0)return null;const Y=w[b],ue=()=>{const H=V(Y),S=G(Y),F=O(Y),re=!!X();switch(Y.type){case"objective":const j=Y.data,ge=Y.index||0,Se=H||j;return a.jsxs("div",{className:"max-w-4xl mx-auto",children:[re&&Y.type!=="summary"&&a.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-8",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"text-2xl",children:""}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-slate-800",children:S?"":""}),a.jsx("p",{className:"text-sm text-slate-600",children:S?"":""})]})]}),!S&&a.jsx("button",{onClick:()=>Q(Y),disabled:F,className:"px-6 py-3 bg-indigo-500 hover:bg-indigo-600 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium rounded-lg transition-colors flex items-center gap-2",children:F?a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"..."]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 10V3L4 14h7v7l9-11h-7z"})}),""]})}),S&&a.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),""]})]})}),a.jsxs("div",{className:"bg-gradient-to-br from-indigo-500 to-sky-500 rounded-3xl shadow-2xl p-12 text-white text-center mb-8",children:[a.jsx("div",{className:"text-6xl mb-6",children:""}),a.jsx("div",{className:"text-4xl font-bold mb-6 leading-tight",children:I(Se.objective,"text-4xl font-bold leading-tight")}),Se.description&&a.jsx("div",{className:"text-xl text-indigo-100 leading-relaxed max-w-3xl mx-auto",children:I(Se.description,"text-xl text-indigo-100 leading-relaxed")})]}),S&&H?a.jsxs("div",{className:"space-y-8 mb-8",children:[H.personalRelevance&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[a.jsxs("h4",{className:"text-2xl font-bold text-purple-700 mb-6 flex items-center",children:[a.jsx("span",{className:"text-3xl mr-3",children:""}),""]}),a.jsx("div",{className:"bg-purple-50 rounded-xl p-6 text-lg leading-relaxed text-purple-900",children:I(H.personalRelevance,"text-lg leading-relaxed text-purple-900")})]}),H.teachingExample&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[a.jsxs("h4",{className:"text-2xl font-bold text-green-700 mb-6 flex items-center",children:[a.jsx("span",{className:"text-3xl mr-3",children:""}),""]}),a.jsx("div",{className:"bg-green-50 rounded-xl p-6 text-lg leading-relaxed text-green-900",children:I(H.teachingExample,"text-lg leading-relaxed text-green-900")})]}),H.encouragement&&a.jsxs("div",{className:"bg-gradient-to-r from-sky-50 to-indigo-50 rounded-2xl p-8",children:[a.jsxs("h4",{className:"text-2xl font-bold text-sky-700 mb-6 flex items-center",children:[a.jsx("span",{className:"text-3xl mr-3",children:""}),""]}),a.jsx("div",{className:"text-lg leading-relaxed text-sky-900 font-medium",children:I(H.encouragement,"text-lg leading-relaxed text-sky-900 font-medium")})]})]}):Se.teachingExample&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 mb-8",children:[a.jsxs("h4",{className:"text-2xl font-bold text-green-700 mb-6 flex items-center",children:[a.jsx("span",{className:"text-3xl mr-3",children:""}),""]}),a.jsx("div",{className:"bg-green-50 rounded-xl p-6 text-lg leading-relaxed",children:I(Se.teachingExample,"text-lg leading-relaxed")})]}),a.jsx("div",{className:"text-center",children:h.progress.completedObjectives.includes(`objective_${ge}`)?a.jsxs("div",{className:"bg-green-50 border-2 border-green-200 rounded-2xl p-8",children:[a.jsx("div",{className:"text-5xl mb-4",children:""}),a.jsx("h4",{className:"text-2xl font-bold text-green-700 mb-2",children:""}),a.jsx("p",{className:"text-green-600",children:""})]}):a.jsxs("div",{className:"bg-slate-50 rounded-2xl p-8",children:[a.jsx("h4",{className:"text-xl font-semibold text-slate-700 mb-4",children:""}),a.jsxs("button",{onClick:()=>{var xt;const ve=`objective_${ge}`,Ee={...h};if(!Ee.progress.completedObjectives.includes(ve)){Ee.progress.completedObjectives.push(ve),Ee.progress.interactionCount+=1;const jt=(xt=r.learningObjectives)==null?void 0:xt.findIndex((nt,mn)=>!Ee.progress.completedObjectives.includes(`objective_${mn}`)&&mn>ge);jt!==void 0&&jt!==-1&&(Ee.progress.currentObjectiveIndex=jt)}L(Ee)},className:"px-8 py-4 bg-green-500 hover:bg-green-600 text-white font-bold text-lg rounded-xl transition-colors flex items-center gap-3 mx-auto",children:[a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),""]})]})})]});case"breakdown":const he=Y.data;return a.jsxs("div",{className:"max-w-5xl mx-auto",children:[re&&Y.type!=="summary"&&a.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-8",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"text-2xl",children:""}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-slate-800",children:S?"":""}),a.jsx("p",{className:"text-sm text-slate-600",children:S?"":""})]})]}),!S&&a.jsx("button",{onClick:()=>Q(Y),disabled:F,className:"px-6 py-3 bg-indigo-500 hover:bg-indigo-600 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium rounded-lg transition-colors flex items-center gap-2",children:F?a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"..."]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 10V3L4 14h7v7l9-11h-7z"})}),""]})}),S&&a.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),""]})]})}),a.jsxs("div",{className:"bg-gradient-to-br from-sky-500 to-blue-500 rounded-3xl shadow-2xl p-12 text-white text-center mb-8",children:[a.jsx("div",{className:"text-6xl mb-6",children:""}),a.jsx("div",{className:"text-4xl font-bold mb-6 leading-tight",children:S&&(H!=null&&H.title)?I(H.title,"text-4xl font-bold leading-tight"):I(he.topic,"text-4xl font-bold leading-tight")}),S&&(H==null?void 0:H.introduction)&&a.jsx("div",{className:"text-xl text-sky-100 leading-relaxed max-w-3xl mx-auto",children:I(H.introduction,"text-xl text-sky-100 leading-relaxed")})]}),S&&H?a.jsxs("div",{className:"space-y-8 mb-8",children:[H.keyPoints&&H.keyPoints.length>0&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[a.jsxs("h4",{className:"text-2xl font-bold text-indigo-700 mb-6 flex items-center",children:[a.jsx("span",{className:"text-3xl mr-3",children:""}),""]}),a.jsx("div",{className:"bg-indigo-50 rounded-xl p-6",children:a.jsx("div",{className:"space-y-4",children:H.keyPoints.map((ve,Ee)=>a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"flex-shrink-0 w-8 h-8 bg-indigo-500 text-white rounded-full flex items-center justify-center text-sm font-bold mr-4",children:Ee+1}),a.jsx("div",{className:"text-lg text-indigo-900 leading-relaxed",children:I(ve,"text-lg text-indigo-900 leading-relaxed")})]},Ee))})})]}),H.realLifeExamples&&H.realLifeExamples.length>0&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[a.jsxs("h4",{className:"text-2xl font-bold text-green-700 mb-6 flex items-center",children:[a.jsx("span",{className:"text-3xl mr-3",children:""}),""]}),a.jsx("div",{className:"bg-green-50 rounded-xl p-6",children:a.jsx("div",{className:"space-y-4",children:H.realLifeExamples.map((ve,Ee)=>a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"flex-shrink-0 w-8 h-8 bg-green-500 text-white rounded-full flex items-center justify-center text-sm font-bold mr-4",children:Ee+1}),a.jsx("div",{className:"text-lg text-green-900 leading-relaxed",children:I(ve,"text-lg text-green-900 leading-relaxed")})]},Ee))})})]}),H.learningTips&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[a.jsxs("h4",{className:"text-2xl font-bold text-purple-700 mb-6 flex items-center",children:[a.jsx("span",{className:"text-3xl mr-3",children:""}),""]}),a.jsx("div",{className:"bg-purple-50 rounded-xl p-6 text-lg leading-relaxed text-purple-900",children:I(H.learningTips,"text-lg leading-relaxed text-purple-900")})]}),H.nextSteps&&a.jsxs("div",{className:"bg-gradient-to-r from-cyan-50 to-blue-50 rounded-2xl p-8",children:[a.jsxs("h4",{className:"text-2xl font-bold text-cyan-700 mb-6 flex items-center",children:[a.jsx("span",{className:"text-3xl mr-3",children:""}),""]}),a.jsx("div",{className:"text-lg leading-relaxed text-cyan-900",children:I(H.nextSteps,"text-lg leading-relaxed text-cyan-900")})]}),H.encouragement&&a.jsxs("div",{className:"bg-gradient-to-r from-sky-50 to-indigo-50 rounded-2xl p-8",children:[a.jsxs("h4",{className:"text-2xl font-bold text-sky-700 mb-6 flex items-center",children:[a.jsx("span",{className:"text-3xl mr-3",children:""}),""]}),a.jsx("div",{className:"text-lg leading-relaxed text-sky-900 font-medium",children:H.encouragement})]})]}):a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 mb-8",children:[a.jsxs("h4",{className:"text-2xl font-bold text-slate-800 mb-6 flex items-center",children:[a.jsx("span",{className:"text-3xl mr-3",children:""}),""]}),a.jsx("div",{className:"text-lg leading-relaxed text-slate-700 bg-slate-50 rounded-xl p-6",children:I(he.details,"text-lg leading-relaxed text-slate-700")})]}),!S&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid md:grid-cols-2 gap-8 mb-8",children:[he.coreConcept&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[a.jsxs("h4",{className:"text-2xl font-bold text-sky-700 mb-6 flex items-center",children:[a.jsx("span",{className:"text-3xl mr-3",children:""}),""]}),a.jsx("div",{className:"bg-sky-50 rounded-xl p-6 text-lg leading-relaxed text-sky-900",children:I(he.coreConcept,"text-lg leading-relaxed text-sky-900")})]}),he.teachingExample&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[a.jsxs("h4",{className:"text-2xl font-bold text-green-700 mb-6 flex items-center",children:[a.jsx("span",{className:"text-3xl mr-3",children:""}),""]}),a.jsx("div",{className:"bg-green-50 rounded-xl p-6 text-lg leading-relaxed text-green-900",children:I(he.teachingExample,"text-lg leading-relaxed text-green-900")})]})]}),he.teachingSentences&&he.teachingSentences.length>0&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 mb-8",children:[a.jsxs("h4",{className:"text-2xl font-bold text-indigo-700 mb-6 flex items-center",children:[a.jsx("span",{className:"text-3xl mr-3",children:""}),""]}),a.jsx("div",{className:"bg-indigo-50 rounded-xl p-6",children:a.jsx("div",{className:"space-y-4",children:he.teachingSentences.map((ve,Ee)=>a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"flex-shrink-0 w-8 h-8 bg-indigo-500 text-white rounded-full flex items-center justify-center text-sm font-bold mr-4",children:Ee+1}),a.jsx("div",{className:"text-lg text-indigo-900 leading-relaxed",children:I(ve,"text-lg text-indigo-900 leading-relaxed")})]},Ee))})})]}),he.teachingTips&&a.jsxs("div",{className:"bg-amber-50 border-2 border-amber-200 rounded-2xl p-8 mt-8",children:[a.jsxs("h4",{className:"text-xl font-bold text-amber-700 mb-4 flex items-center",children:[a.jsx("span",{className:"text-2xl mr-3",children:""}),""]}),a.jsx("div",{className:"text-lg text-amber-800 leading-relaxed",children:I(he.teachingTips,"text-lg text-amber-800 leading-relaxed")})]})]})]});case"confusing":const Te=Y.data;return a.jsxs("div",{className:"max-w-5xl mx-auto",children:[re&&Y.type!=="summary"&&a.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-8",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"text-2xl",children:""}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-slate-800",children:S?"":""}),a.jsx("p",{className:"text-sm text-slate-600",children:S?"":""})]})]}),!S&&a.jsx("button",{onClick:()=>Q(Y),disabled:F,className:"px-6 py-3 bg-indigo-500 hover:bg-indigo-600 disabled:opacity-50 disabled:cursor-not-allowed text-white font-medium rounded-lg transition-colors flex items-center gap-2",children:F?a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"..."]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 10V3L4 14h7v7l9-11h-7z"})}),""]})}),S&&a.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),""]})]})}),a.jsxs("div",{className:"bg-gradient-to-br from-amber-500 to-orange-500 rounded-3xl shadow-2xl p-12 text-white text-center mb-8",children:[a.jsx("div",{className:"text-6xl mb-6",children:""}),a.jsx("div",{className:"text-4xl font-bold mb-6 leading-tight",children:S&&(H!=null&&H.title)?I(H.title,"text-4xl font-bold leading-tight"):I(Te.point,"text-4xl font-bold leading-tight")}),a.jsx("p",{className:"text-xl text-amber-100 leading-relaxed max-w-3xl mx-auto",children:S&&(H!=null&&H.normalizeConfusion)?H.normalizeConfusion:""})]}),S&&H?a.jsxs("div",{className:"space-y-8 mb-8",children:[H.whyItHappens&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[a.jsxs("h4",{className:"text-2xl font-bold text-amber-700 mb-6 flex items-center",children:[a.jsx("span",{className:"text-3xl mr-3",children:""}),""]}),a.jsx("div",{className:"bg-amber-50 rounded-xl p-6 text-lg leading-relaxed text-amber-900",children:I(H.whyItHappens,"text-lg leading-relaxed text-amber-900")})]}),H.clearExplanation&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[a.jsxs("h4",{className:"text-2xl font-bold text-green-700 mb-6 flex items-center",children:[a.jsx("span",{className:"text-3xl mr-3",children:""}),""]}),a.jsx("div",{className:"bg-green-50 rounded-xl p-6 text-lg leading-relaxed text-green-900",children:I(H.clearExplanation,"text-lg leading-relaxed text-green-900")})]}),H.rememberingTricks&&H.rememberingTricks.length>0&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[a.jsxs("h4",{className:"text-2xl font-bold text-purple-700 mb-6 flex items-center",children:[a.jsx("span",{className:"text-3xl mr-3",children:""}),""]}),a.jsx("div",{className:"bg-purple-50 rounded-xl p-6",children:a.jsx("div",{className:"space-y-4",children:H.rememberingTricks.map((ve,Ee)=>a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"flex-shrink-0 w-8 h-8 bg-purple-500 text-white rounded-full flex items-center justify-center text-sm font-bold mr-4",children:Ee+1}),a.jsx("div",{className:"text-lg text-purple-900 leading-relaxed",children:I(ve,"text-lg text-purple-900 leading-relaxed")})]},Ee))})})]}),H.practiceExamples&&H.practiceExamples.length>0&&a.jsx("div",{className:"space-y-6",children:H.practiceExamples.map((ve,Ee)=>a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[a.jsxs("h4",{className:"text-xl font-bold text-slate-800 mb-6 text-center",children:[" ",Ee+1]}),a.jsxs("div",{className:"bg-slate-50 rounded-xl p-6 mb-6",children:[a.jsx("h5",{className:"text-lg font-bold text-slate-700 mb-3",children:""}),a.jsx("div",{className:"text-lg text-slate-800",children:I(ve.situation,"text-lg text-slate-800")})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{className:"bg-red-50 border-3 border-red-300 rounded-2xl p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"w-10 h-10 bg-red-500 text-white rounded-full flex items-center justify-center text-lg font-bold mr-3",children:""}),a.jsx("h5",{className:"text-xl font-bold text-red-700",children:""})]}),a.jsx("div",{className:"text-lg text-red-900 bg-white rounded-lg p-4",children:I(ve.wrongThinking,"text-lg text-red-900")})]}),a.jsxs("div",{className:"bg-green-50 border-3 border-green-300 rounded-2xl p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"w-10 h-10 bg-green-500 text-white rounded-full flex items-center justify-center text-lg font-bold mr-3",children:""}),a.jsx("h5",{className:"text-xl font-bold text-green-700",children:""})]}),a.jsx("div",{className:"text-lg text-green-900 bg-white rounded-lg p-4",children:I(ve.rightThinking,"text-lg text-green-900")})]})]}),a.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-xl p-6",children:[a.jsx("h5",{className:"text-lg font-bold text-blue-700 mb-3",children:""}),a.jsx("div",{className:"text-lg text-blue-900 leading-relaxed",children:I(ve.explanation,"text-lg text-blue-900 leading-relaxed")})]})]},Ee))}),H.confidenceBooster&&a.jsxs("div",{className:"bg-gradient-to-r from-sky-50 to-indigo-50 rounded-2xl p-8",children:[a.jsxs("h4",{className:"text-2xl font-bold text-sky-700 mb-6 flex items-center",children:[a.jsx("span",{className:"text-3xl mr-3",children:""}),""]}),a.jsx("div",{className:"text-lg leading-relaxed text-sky-900 font-medium",children:I(H.confidenceBooster,"text-lg leading-relaxed text-sky-900 font-medium")})]})]}):a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 mb-8",children:[a.jsxs("h4",{className:"text-2xl font-bold text-amber-800 mb-6 flex items-center",children:[a.jsx("span",{className:"text-3xl mr-3",children:""}),""]}),a.jsx("div",{className:"text-lg leading-relaxed text-slate-700 bg-amber-50 rounded-xl p-6",children:I(Te.clarification,"text-lg leading-relaxed text-slate-700")})]}),Te.errorType&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 mb-8",children:[a.jsxs("h4",{className:"text-2xl font-bold text-orange-700 mb-6 flex items-center",children:[a.jsx("span",{className:"text-3xl mr-3",children:""}),""]}),a.jsx("div",{className:"bg-orange-50 rounded-xl p-6 text-lg leading-relaxed text-orange-900",children:I(Te.errorType,"text-lg leading-relaxed text-orange-900")})]}),Te.correctVsWrong&&Te.correctVsWrong.length>0&&a.jsx("div",{className:"space-y-8 mb-8",children:Te.correctVsWrong.map((ve,Ee)=>a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[a.jsxs("h4",{className:"text-xl font-bold text-slate-800 mb-6 text-center",children:[" ",Ee+1]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{className:"bg-green-50 border-3 border-green-300 rounded-2xl p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"w-10 h-10 bg-green-500 text-white rounded-full flex items-center justify-center text-lg font-bold mr-3",children:""}),a.jsx("h5",{className:"text-xl font-bold text-green-700",children:""})]}),a.jsx("div",{className:"text-xl font-semibold text-green-900 bg-white rounded-lg p-4",children:I(ve.correct,"text-xl font-semibold text-green-900")})]}),a.jsxs("div",{className:"bg-red-50 border-3 border-red-300 rounded-2xl p-6",children:[a.jsxs("div",{className:"flex items-center mb-4",children:[a.jsx("div",{className:"w-10 h-10 bg-red-500 text-white rounded-full flex items-center justify-center text-lg font-bold mr-3",children:""}),a.jsx("h5",{className:"text-xl font-bold text-red-700",children:""})]}),a.jsx("div",{className:"text-xl font-semibold text-red-900 bg-white rounded-lg p-4",children:I(ve.wrong,"text-xl font-semibold text-red-900")})]})]}),a.jsxs("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-xl p-6",children:[a.jsxs("h5",{className:"text-lg font-bold text-blue-700 mb-3 flex items-center",children:[a.jsx("span",{className:"text-xl mr-2",children:""}),""]}),a.jsx("div",{className:"text-lg text-blue-900 leading-relaxed",children:I(ve.explanation,"text-lg text-blue-900 leading-relaxed")})]})]},Ee))}),Te.commonErrors&&Te.commonErrors.length>0&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 mb-8",children:[a.jsxs("h4",{className:"text-2xl font-bold text-red-700 mb-6 flex items-center",children:[a.jsx("span",{className:"text-3xl mr-3",children:""}),""]}),a.jsx("div",{className:"bg-red-50 rounded-xl p-6",children:a.jsx("div",{className:"space-y-3",children:Te.commonErrors.map((ve,Ee)=>a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"flex-shrink-0 w-8 h-8 bg-red-500 text-white rounded-full flex items-center justify-center text-sm font-bold mr-4",children:Ee+1}),a.jsx("div",{className:"text-lg text-red-900 leading-relaxed",children:I(ve,"text-lg text-red-900 leading-relaxed")})]},Ee))})})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[Te.preventionStrategy&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[a.jsxs("h4",{className:"text-2xl font-bold text-purple-700 mb-6 flex items-center",children:[a.jsx("span",{className:"text-3xl mr-3",children:""}),""]}),a.jsx("div",{className:"bg-purple-50 rounded-xl p-6 text-lg leading-relaxed text-purple-900",children:I(Te.preventionStrategy,"text-lg leading-relaxed text-purple-900")})]}),Te.correctionMethod&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[a.jsxs("h4",{className:"text-2xl font-bold text-indigo-700 mb-6 flex items-center",children:[a.jsx("span",{className:"text-3xl mr-3",children:""}),""]}),a.jsx("div",{className:"bg-indigo-50 rounded-xl p-6 text-lg leading-relaxed text-indigo-900",children:I(Te.correctionMethod,"text-lg leading-relaxed text-indigo-900")})]})]}),Te.practiceActivities&&Te.practiceActivities.length>0&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 mt-8",children:[a.jsxs("h4",{className:"text-2xl font-bold text-cyan-700 mb-6 flex items-center",children:[a.jsx("span",{className:"text-3xl mr-3",children:""}),""]}),a.jsx("div",{className:"bg-cyan-50 rounded-xl p-6",children:a.jsx("div",{className:"space-y-4",children:Te.practiceActivities.map((ve,Ee)=>a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"flex-shrink-0 w-8 h-8 bg-cyan-500 text-white rounded-full flex items-center justify-center text-sm font-bold mr-4",children:Ee+1}),a.jsx("div",{className:"text-lg text-cyan-900 leading-relaxed",children:I(ve,"text-lg text-cyan-900 leading-relaxed")})]},Ee))})})]})]});case"summary":return a.jsxs("div",{className:"text-center space-y-8",children:[a.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-2xl p-12",children:[a.jsx("div",{className:"text-6xl mb-6",children:""}),a.jsx("h3",{className:"text-3xl font-bold text-green-700 mb-4",children:""}),a.jsxs("p",{className:"text-lg text-slate-600 mb-8",children:["",r.topic,""]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md",children:[a.jsx("div",{className:"text-3xl text-indigo-600 mb-2",children:""}),a.jsx("div",{className:"text-2xl font-bold text-slate-800",children:h.progress.completedObjectives.length}),a.jsx("div",{className:"text-sm text-slate-600",children:""})]}),a.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md",children:[a.jsx("div",{className:"text-3xl text-sky-600 mb-2",children:""}),a.jsx("div",{className:"text-2xl font-bold text-slate-800",children:Math.round((Date.now()-h.progress.startTime)/6e4)}),a.jsx("div",{className:"text-sm text-slate-600",children:""})]}),a.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md",children:[a.jsx("div",{className:"text-3xl text-green-600 mb-2",children:""}),a.jsx("div",{className:"text-2xl font-bold text-slate-800",children:h.progress.interactionCount}),a.jsx("div",{className:"text-sm text-slate-600",children:""})]})]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 rounded-2xl p-8",children:[a.jsx("h4",{className:"text-2xl font-semibold text-purple-700 mb-6",children:" "}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[r.onlineInteractiveQuiz&&a.jsxs("a",{href:n?`/ai-page-gen/quiz?binId=${n}`:`/ai-page-gen/quiz?contentId=${e}`,className:"px-8 py-4 bg-orange-500 text-white font-medium rounded-xl hover:bg-orange-600 transition-colors flex items-center gap-3 text-lg",target:"_blank",rel:"noopener noreferrer",children:[a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),""]}),r.writingPractice&&a.jsxs("a",{href:n?`/ai-page-gen/writing?binId=${n}`:`/ai-page-gen/writing?contentId=${e}`,className:"px-8 py-4 bg-purple-500 text-white font-medium rounded-xl hover:bg-purple-600 transition-colors flex items-center gap-3 text-lg",target:"_blank",rel:"noopener noreferrer",children:[a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),""]})]})]})]});default:return a.jsx("div",{children:""})}};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-sky-50 to-indigo-100",children:[a.jsx("div",{className:"sticky top-0 z-10 bg-white/90 backdrop-blur-sm border-b border-slate-200",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-bold text-slate-800",children:r.topic}),a.jsxs("p",{className:"text-sm text-slate-600",children:["   ",b+1,"  ",w.length," "]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),Math.round((Date.now()-h.progress.startTime)/6e4)," "]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:a.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-sky-500 h-2 rounded-full transition-all duration-500 ease-out",style:{width:`${(b+1)/w.length*100}%`}})}),a.jsx("div",{className:"flex items-center gap-2 overflow-x-auto pb-1",children:w.map((H,S)=>{const F=H.type==="objective",re=H.type==="breakdown",j=H.type==="confusing",ge=H.type==="summary";return a.jsx("button",{onClick:()=>R(S),className:`
                      flex-shrink-0 w-8 h-8 rounded-full text-xs font-bold transition-all duration-200
                      ${S===b?"bg-indigo-500 text-white shadow-lg scale-110":S<b?"bg-green-400 text-white hover:bg-green-500":"bg-slate-300 text-slate-600 hover:bg-slate-400"}
                    `,title:H.title,children:F?(H.index||0)+1:re?"":j?"":ge?"":S+1},H.id)})}),a.jsx("div",{className:"text-center",children:a.jsxs("span",{className:"text-xs text-slate-500",children:[Y.type==="objective"&&" ",Y.type==="breakdown"&&" ",Y.type==="confusing"&&" ",Y.type==="summary"&&" "]})})]})]})}),a.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"text-5xl mb-4",children:Y.icon}),a.jsx("h2",{className:"text-3xl font-bold text-slate-800 mb-2",children:Y.title}),a.jsx("div",{className:"text-lg text-slate-600",children:I(Y.description,"text-lg text-slate-600")})]}),a.jsx("div",{className:"mb-8",children:ue()}),a.jsxs("div",{className:"flex items-center justify-between pt-8 border-t border-slate-200",children:[a.jsxs("button",{onClick:z,disabled:b===0,className:"flex items-center gap-2 px-6 py-3 bg-slate-500 text-white font-medium rounded-lg hover:bg-slate-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})}),""]}),a.jsx("div",{className:"text-center",children:a.jsxs("p",{className:"text-sm text-slate-600",children:[b+1," / ",w.length]})}),a.jsxs("button",{onClick:B,disabled:b===w.length-1,className:"flex items-center gap-2 px-6 py-3 bg-indigo-500 text-white font-medium rounded-lg hover:bg-indigo-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:["",a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})]})]})]})]})};class K8{constructor(){this.dbName="InteractiveContentDB",this.version=1,this.db=null}async init(){if(!this.db)return new Promise((e,n)=>{const r=indexedDB.open(this.dbName,this.version);r.onerror=()=>{n(new Error("Failed to open InteractiveContent database"))},r.onsuccess=()=>{this.db=r.result,e()},r.onupgradeneeded=l=>{const o=l.target.result;if(!o.objectStoreNames.contains("interactiveContent")){const u=o.createObjectStore("interactiveContent",{keyPath:"lessonPlanId"});u.createIndex("topic","topic",{unique:!1}),u.createIndex("lastAccessedAt","lastAccessedAt",{unique:!1})}}})}ensureDB(){if(!this.db)throw new Error("Database not initialized. Call init() first.");return this.db}async saveVersion(e,n,r,l,o,u){const f=this.ensureDB(),g=`version_${Date.now()}`,h=new Date().toISOString();return new Promise((x,b)=>{const w=f.transaction(["interactiveContent"],"readwrite").objectStore("interactiveContent"),C=w.get(e);C.onsuccess=()=>{const E=C.result,_={id:g,name:o||` ${h.slice(0,19).replace("T"," ")}`,description:u,createdAt:h,lastModifiedAt:h,transformedData:r,selectedSteps:l},A={lessonPlanId:e,topic:n,versions:E?[...E.versions,_]:[_],lastAccessedAt:h},P=w.put(A);P.onsuccess=()=>{x(g)},P.onerror=()=>{b(new Error("Failed to save interactive content version"))}},C.onerror=()=>{b(new Error("Failed to get existing interactive content"))}})}async getVersions(e){const n=this.ensureDB();return new Promise((r,l)=>{const f=n.transaction(["interactiveContent"],"readonly").objectStore("interactiveContent").get(e);f.onsuccess=()=>{const g=f.result;r(g?g.versions:[])},f.onerror=()=>{l(new Error("Failed to get interactive content versions"))}})}async getVersion(e,n){return(await this.getVersions(e)).find(l=>l.id===n)||null}async updateVersion(e,n,r){const l=this.ensureDB();return new Promise((o,u)=>{const g=l.transaction(["interactiveContent"],"readwrite").objectStore("interactiveContent"),h=g.get(e);h.onsuccess=()=>{const x=h.result;if(!x){u(new Error("Interactive content record not found"));return}const b=x.versions.findIndex(w=>w.id===n);if(b===-1){u(new Error("Version not found"));return}x.versions[b]={...x.versions[b],...r,lastModifiedAt:new Date().toISOString()};const N=g.put(x);N.onsuccess=()=>o(),N.onerror=()=>u(new Error("Failed to update version"))},h.onerror=()=>{u(new Error("Failed to get interactive content"))}})}async deleteVersion(e,n){const r=this.ensureDB();return new Promise((l,o)=>{const f=r.transaction(["interactiveContent"],"readwrite").objectStore("interactiveContent"),g=f.get(e);g.onsuccess=()=>{const h=g.result;if(!h){o(new Error("Interactive content record not found"));return}if(h.versions=h.versions.filter(x=>x.id!==n),h.versions.length===0){const x=f.delete(e);x.onsuccess=()=>l(),x.onerror=()=>o(new Error("Failed to delete record"))}else{const x=f.put(h);x.onsuccess=()=>l(),x.onerror=()=>o(new Error("Failed to update record"))}},g.onerror=()=>{o(new Error("Failed to get interactive content"))}})}async getAllRecords(){const e=this.ensureDB();return new Promise((n,r)=>{const u=e.transaction(["interactiveContent"],"readonly").objectStore("interactiveContent").getAll();u.onsuccess=()=>{n(u.result)},u.onerror=()=>{r(new Error("Failed to get all interactive content records"))}})}async updateLastAccessed(e){const n=this.ensureDB();return new Promise((r,l)=>{const u=n.transaction(["interactiveContent"],"readwrite").objectStore("interactiveContent"),f=u.get(e);f.onsuccess=()=>{const g=f.result;if(g){g.lastAccessedAt=new Date().toISOString();const h=u.put(g);h.onsuccess=()=>r(),h.onerror=()=>l(new Error("Failed to update last accessed time"))}else r()},f.onerror=()=>{l(new Error("Failed to get interactive content"))}})}}const hi=new K8,W8=()=>{var yt;const[t]=Er(),e=t.get("contentId"),n=t.get("binId"),[r,l]=M.useState(null),[o,u]=M.useState(!0),[f,g]=M.useState(null),[h,x]=M.useState(0),[b,N]=M.useState([]),[w,C]=M.useState({}),[E,_]=M.useState("idle"),[A,P]=M.useState(""),[D,$]=M.useState("idle"),[Z,L]=M.useState({current:0,total:0}),[R,B]=M.useState(new Set),[z,X]=M.useState([]),[Q,G]=M.useState(null),[O,V]=M.useState(!1),[ne,I]=M.useState("");M.useEffect(()=>{Y()},[e,n]);const Y=async()=>{try{u(!0),g(null);let de;if(n)de=await rc(n);else if(e){await Ut.init();const ye=await Ut.getLessonPlan(e);if(!ye)throw new Error("");de={topic:ye.topic,learningObjectives:ye.content.learningObjectives,contentBreakdown:ye.content.contentBreakdown,confusingPoints:ye.content.confusingPoints,classroomActivities:ye.content.classroomActivities,onlineInteractiveQuiz:ye.content.quiz,writingPractice:ye.content.writingPractice}}else throw new Error("contentId  binId");l(de),ue(de),e&&await Te(e)}catch(de){console.error(":",de),g(de.message||"")}finally{u(!1)}},ue=de=>{const ye=[],ke={};de.learningObjectives&&de.learningObjectives.length>0&&de.learningObjectives.forEach((K,se)=>{const pe=`objective_${se}`;ye.push({id:pe,title:` ${se+1}`,type:"objective",icon:"",data:K,index:se}),ke[pe]={original:K,transformed:null,isTransformed:!1,isTransforming:!1}}),de.contentBreakdown&&de.contentBreakdown.length>0&&de.contentBreakdown.forEach((K,se)=>{const pe=`breakdown_${se}`;ye.push({id:pe,title:` ${se+1}`,type:"breakdown",icon:"",data:K,index:se}),ke[pe]={original:K,transformed:null,isTransformed:!1,isTransforming:!1}}),de.confusingPoints&&de.confusingPoints.length>0&&de.confusingPoints.forEach((K,se)=>{const pe=`confusing_${se}`;ye.push({id:pe,title:` ${se+1}`,type:"confusing",icon:"",data:K,index:se}),ke[pe]={original:K,transformed:null,isTransformed:!1,isTransforming:!1}}),N(ye),C(ke)},H=()=>localStorage.getItem("gemini_api_key")||"",S=async de=>{const ye=H();if(!ye){alert(" Gemini API ");return}const ke=b.find(K=>K.id===de);if(ke){C(K=>({...K,[de]:{...K[de],isTransforming:!0}}));try{let K=null;switch(ke.type){case"objective":K=await Ao(ke.data,ye);break;case"breakdown":K=await _o(ke.data,ye);break;case"confusing":K=await jo(ke.data,ye);break}C(se=>({...se,[de]:{...se[de],transformed:K,isTransformed:!0,isTransforming:!1}}))}catch(K){console.error(":",K),C(se=>({...se,[de]:{...se[de],isTransforming:!1}})),alert("")}}},F=de=>{C(ye=>({...ye,[de]:{...ye[de],transformed:null,isTransformed:!1}}))},re=async()=>{var ke;if(!r)return;const de=localStorage.getItem("gemini_api_key");if(!de){alert(" Gemini API Key");return}$("running");const ye=b.length;L({current:0,total:ye});try{for(let K=0;K<b.length;K++){const se=b[K],pe=`step_${K}`;if(L({current:K+1,total:ye,currentStep:se.title}),!((ke=w[pe])!=null&&ke.isTransformed)){C(xe=>({...xe,[pe]:{...xe[pe],isTransforming:!0}}));try{let xe;switch(se.type){case"objective":xe=await Ao(se.data,de);break;case"breakdown":xe=await _o(se.data,de);break;case"confusing":xe=await jo(se.data,de);break}C(_e=>({..._e,[pe]:{..._e[pe],transformed:xe,isTransformed:!0,isTransforming:!1}}))}catch(xe){console.error(` ${se.title} :`,xe),C(_e=>({..._e,[pe]:{..._e[pe],isTransforming:!1}}))}await new Promise(xe=>setTimeout(xe,500))}}$("completed")}catch(K){console.error(":",K),$("error")}},j=de=>{B(ye=>{const ke=new Set(ye);return ke.has(de)?ke.delete(de):ke.add(de),ke})},ge=()=>{const de=b.map((ye,ke)=>`step_${ke}`);B(new Set(de))},Se=()=>{B(new Set)},he=async()=>{var ke;if(!r||R.size===0){alert("");return}const de=localStorage.getItem("gemini_api_key");if(!de){alert(" Gemini API Key");return}$("running");const ye=R.size;L({current:0,total:ye});try{let K=0;for(let se=0;se<b.length;se++){const pe=b[se],xe=`step_${se}`;if(R.has(xe)&&(K++,L({current:K,total:ye,currentStep:pe.title}),!((ke=w[xe])!=null&&ke.isTransformed))){C(_e=>({..._e,[xe]:{..._e[xe],isTransforming:!0}}));try{let _e;switch(pe.type){case"objective":_e=await Ao(pe.data,de);break;case"breakdown":_e=await _o(pe.data,de);break;case"confusing":_e=await jo(pe.data,de);break}C(ft=>({...ft,[xe]:{...ft[xe],transformed:_e,isTransformed:!0,isTransforming:!1}}))}catch(_e){console.error(` ${pe.title} :`,_e),C(ft=>({...ft,[xe]:{...ft[xe],isTransforming:!1}}))}await new Promise(_e=>setTimeout(_e,500))}}$("completed")}catch(K){console.error(":",K),$("error")}},Te=async de=>{try{await hi.init();const ye=await hi.getVersions(de);X(ye)}catch(ye){console.error(":",ye)}},ve=async()=>{if(!r||!e)return;const de={};if(Object.entries(w).forEach(([ye,ke])=>{ke.isTransformed&&ke.transformed&&(de[ye]=ke.transformed)}),Object.keys(de).length===0){alert("");return}try{await hi.init();const ye=ne||` ${new Date().toLocaleString("zh-TW")}`,ke=await hi.saveVersion(e,r.topic||"",de,Array.from(R),ye,` ${Object.keys(de).length} `);I(""),await Te(e),alert("")}catch(ye){console.error(":",ye),alert("")}},Ee=async de=>{if(e)try{await hi.init();const ye=await hi.getVersion(e,de);if(ye){C({});const ke={};b.forEach((K,se)=>{const pe=`step_${se}`;ke[pe]={original:K.data,transformed:null,isTransformed:!1,isTransforming:!1}}),Object.entries(ye.transformedData).forEach(([K,se])=>{ke[K]&&(ke[K]={...ke[K],transformed:se,isTransformed:!0})}),C(ke),B(new Set(ye.selectedSteps)),G(de),V(!1),await hi.updateLastAccessed(e)}}catch(ye){console.error(":",ye),alert("")}},xt=async de=>{if(!e)return;const ye=z.find(ke=>ke.id===de);if(ye&&confirm(`${ye.name}`))try{await hi.init(),await hi.deleteVersion(e,de),await Te(e),Q===de&&G(null)}catch(ke){console.error(":",ke),alert("")}},jt=de=>de?[/#+\s/,/\*\*.*\*\*/,/\*.*\*/,/`.*`/,/^\s*[-*+]\s/m,/^\s*\d+\.\s/m,/\[.*\]\(.*\)/,/^\s*>/m,/```[\s\S]*?```/,/\n\s*\n/].some(ke=>ke.test(de)):!1,nt=(de,ye)=>jt(de)?a.jsx(Tm,{content:de,className:ye}):a.jsx("span",{className:ye,children:de}),mn=async()=>{if(r){_("publishing");try{const de={},ye={};if(Object.entries(w).forEach(([pe,xe])=>{if(xe.isTransformed&&xe.transformed){de[pe]=xe.transformed;const _e=parseInt(pe.replace("step_","")),ft=b[_e];if(ft)switch(ft.type){case"objective":ye.learningObjectives||(ye.learningObjectives=[]),ye.learningObjectives.push(ft.data);break;case"breakdown":ye.contentBreakdown||(ye.contentBreakdown=[]),ye.contentBreakdown.push(ft.data);break;case"confusing":ye.confusingPoints||(ye.confusingPoints=[]),ye.confusingPoints.push(ft.data);break}}}),Object.keys(de).length===0){alert(""),_("idle");return}const ke={...ye,topic:r.topic,isInteractive:!0,transformedData:de,includedSteps:Object.keys(de)},K=await Yo(ke),se=`${window.location.origin}/ai-page-gen/student-interactive?binId=${K}`;P(se),_("published")}catch(de){console.error(":",de),_("error")}}},Kn=de=>{x(de)},bi=()=>{h<b.length-1&&x(h+1)},wi=()=>{h>0&&x(h-1)};if(o)return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-sky-50 to-indigo-100 py-8 px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"flex justify-center items-center min-h-[50vh]",children:a.jsx(Zn,{})})});if(f)return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-sky-50 to-indigo-100 py-8 px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg shadow-md",children:[a.jsx("h3",{className:"font-bold text-lg mb-2",children:""}),a.jsx("p",{children:f})]})})});if(!r||b.length===0)return null;const Pe=b[h],Xi=`step_${h}`,ce=w[Xi]||{original:Pe==null?void 0:Pe.data,transformed:null,isTransformed:!1},Je=Object.values(w).filter(de=>de.isTransformed).length,Be=b.length;return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-sky-50 to-indigo-100",children:[a.jsx("div",{className:"sticky top-0 z-10 bg-white/90 backdrop-blur-sm border-b border-slate-200",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-bold text-slate-800",children:""}),a.jsx("h2",{className:"text-lg font-semibold text-indigo-600",children:r.topic}),a.jsxs("p",{className:"text-sm text-slate-600",children:[" ",h+1,"  ",Be,"   ",Je,"/",Be]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[D==="running"&&a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("svg",{className:"w-4 h-4 text-blue-600 animate-spin",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),a.jsx("span",{className:"text-blue-800 font-medium",children:"..."})]}),a.jsx("div",{className:"text-xs text-blue-700",children:Z.currentStep&&`${Z.currentStep}`}),a.jsx("div",{className:"mt-1 bg-blue-200 rounded-full h-1",children:a.jsx("div",{className:"bg-blue-600 h-1 rounded-full transition-all duration-300",style:{width:`${Z.current/Z.total*100}%`}})})]}),D==="completed"&&a.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),a.jsx("span",{className:"text-green-800 font-medium text-sm",children:""})]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:he,disabled:D==="running"||R.size===0,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white font-medium rounded-lg transition-colors flex items-center gap-2",children:D==="running"?a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"..."]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 10V3L4 14h7v7l9-11h-7z"})})," (",R.size,")"]})}),a.jsx("button",{onClick:re,disabled:D==="running"||Je===Be,className:"px-3 py-2 bg-indigo-600 hover:bg-indigo-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white font-medium rounded-lg transition-colors flex items-center gap-2 text-sm",children:Je===Be?"":""})]}),E==="published"&&a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),a.jsx("span",{className:"text-green-800 font-medium",children:""})]}),a.jsx("div",{className:"text-xs text-green-700",children:a.jsx("a",{href:A,target:"_blank",rel:"noopener noreferrer",className:"underline hover:no-underline",children:""})})]}),a.jsx("button",{onClick:mn,disabled:E==="publishing"||Je===0,className:"px-6 py-3 bg-green-600 hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed text-white font-medium rounded-lg transition-colors flex items-center gap-2",children:E==="publishing"?a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"..."]}):a.jsxs(a.Fragment,{children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})}),""]})})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"w-full bg-slate-200 rounded-full h-2",children:a.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-sky-500 h-2 rounded-full transition-all duration-500 ease-out",style:{width:`${(h+1)/Be*100}%`}})}),a.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:ge,className:"text-xs text-indigo-600 hover:text-indigo-800 font-medium",children:""}),a.jsx("span",{className:"text-slate-300",children:"|"}),a.jsx("button",{onClick:Se,className:"text-xs text-slate-600 hover:text-slate-800 font-medium",children:""})]}),a.jsxs("div",{className:"text-xs text-slate-500",children:[" ",R.size," / ",b.length," "]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[z.length>0&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"text-slate-500",children:":"}),a.jsx("button",{onClick:()=>V(!O),className:"text-indigo-600 hover:text-indigo-800 font-medium",children:Q?((yt=z.find(de=>de.id===Q))==null?void 0:yt.name)||"":`${z.length} `})]}),a.jsx("input",{type:"text",placeholder:"",value:ne,onChange:de=>I(de.target.value),className:"px-2 py-1 text-xs border border-slate-300 rounded w-20"}),a.jsx("button",{onClick:ve,className:"text-green-600 hover:text-green-800 font-medium",children:""})]})]}),a.jsx("div",{className:"flex items-center gap-2 overflow-x-auto pb-1",children:b.map((de,ye)=>{var K,se,pe,xe,_e;const ke=`step_${ye}`;return a.jsx("div",{className:`
                      flex-shrink-0 p-2 rounded-lg border transition-all duration-200 bg-white
                      ${ye===h?"border-indigo-500 bg-indigo-50":(K=w[ke])!=null&&K.isTransformed?"border-green-200 bg-green-50":"border-slate-200"}
                    `,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:R.has(ke),onChange:()=>j(ke),className:"w-4 h-4 text-indigo-600 border-gray-300 rounded focus:ring-indigo-500"}),a.jsxs("button",{onClick:()=>Kn(ye),className:"flex items-center gap-1 text-xs font-medium hover:text-indigo-600 transition-colors",children:[a.jsx("span",{children:de.icon}),a.jsx("span",{children:de.title}),((se=w[ke])==null?void 0:se.isTransformed)&&a.jsx("svg",{className:"w-3 h-3 text-green-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})]}),(pe=w[ke])!=null&&pe.isTransformed?a.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[a.jsx("button",{onClick:()=>S(ke),className:"text-xs text-blue-600 hover:text-blue-800 font-medium px-1 py-0.5 rounded hover:bg-blue-50",title:"",children:""}),a.jsx("button",{onClick:()=>F(ke),className:"text-xs text-red-600 hover:text-red-800 font-medium px-1 py-0.5 rounded hover:bg-red-50",title:"",children:""})]}):a.jsx("button",{onClick:()=>S(ke),disabled:(xe=w[ke])==null?void 0:xe.isTransforming,className:"text-xs text-green-600 hover:text-green-800 font-medium px-2 py-0.5 rounded hover:bg-green-50 disabled:opacity-50 ml-2",children:(_e=w[ke])!=null&&_e.isTransforming?"":""})]})},de.id)})}),O&&z.length>0&&a.jsxs("div",{className:"mt-4 p-4 bg-slate-50 rounded-lg border",children:[a.jsx("h3",{className:"text-sm font-medium text-slate-800 mb-3",children:""}),a.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:z.map(de=>a.jsxs("div",{className:"flex items-center justify-between p-2 bg-white rounded border hover:bg-slate-50",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-medium",children:de.name}),Q===de.id&&a.jsx("span",{className:"px-2 py-1 bg-indigo-100 text-indigo-800 text-xs rounded",children:""})]}),a.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:[de.description,"  ",new Date(de.createdAt).toLocaleString("zh-TW")]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>Ee(de.id),className:"text-xs text-indigo-600 hover:text-indigo-800 font-medium",children:""}),a.jsx("button",{onClick:()=>xt(de.id),className:"text-xs text-red-600 hover:text-red-800 font-medium",children:""})]})]},de.id))}),a.jsx("button",{onClick:()=>V(!1),className:"mt-3 text-xs text-slate-600 hover:text-slate-800",children:""})]})]})]})}),a.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"text-5xl mb-4",children:Pe.icon}),a.jsx("h2",{className:"text-3xl font-bold text-slate-800 mb-2",children:Pe.title}),a.jsxs("p",{className:"text-lg text-slate-600",children:[Pe.type==="objective"&&"",Pe.type==="breakdown"&&"",Pe.type==="confusing"&&""]})]}),a.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-8",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"text-2xl",children:ce.isTransformed?"":""}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-slate-800",children:ce.isTransformed?"":""}),a.jsx("p",{className:"text-sm text-slate-600",children:ce.isTransformed?"":""})]})]}),a.jsx("div",{className:"text-sm text-slate-500",children:""})]})}),a.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 mb-8",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[a.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:[a.jsx("span",{children:""}),""]}),a.jsxs("div",{className:"bg-slate-50 rounded-xl p-4 text-sm text-slate-700 max-h-96 overflow-y-auto",children:[Pe.type==="objective"&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("strong",{children:""})," ",nt(Pe.data.objective)]}),Pe.data.description&&a.jsxs("div",{children:[a.jsx("strong",{children:""})," ",nt(Pe.data.description)]}),Pe.data.teachingExample&&a.jsxs("div",{children:[a.jsx("strong",{children:""})," ",nt(Pe.data.teachingExample)]})]}),Pe.type==="breakdown"&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("strong",{children:""})," ",nt(Pe.data.topic)]}),Pe.data.details&&a.jsxs("div",{children:[a.jsx("strong",{children:""})," ",nt(Pe.data.details)]}),Pe.data.teachingExample&&a.jsxs("div",{children:[a.jsx("strong",{children:""})," ",nt(Pe.data.teachingExample)]})]}),Pe.type==="confusing"&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("strong",{children:""})," ",nt(Pe.data.point)]}),Pe.data.clarification&&a.jsxs("div",{children:[a.jsx("strong",{children:""})," ",nt(Pe.data.clarification)]}),Pe.data.teachingExample&&a.jsxs("div",{children:[a.jsx("strong",{children:""})," ",nt(Pe.data.teachingExample)]})]})]})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:[a.jsxs("h3",{className:"text-lg font-bold text-slate-800 mb-4 flex items-center gap-2",children:[a.jsx("span",{children:""}),""]}),a.jsx("div",{className:"bg-gradient-to-br from-green-50 to-blue-50 rounded-xl p-4 text-sm max-h-96 overflow-y-auto",children:ce.isTransformed&&ce.transformed?a.jsxs("div",{className:"space-y-4",children:[Pe.type==="objective"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"text-green-800",children:[a.jsx("strong",{children:""}),a.jsx("div",{className:"mt-1",children:nt(ce.transformed.objective)})]}),ce.transformed.description&&a.jsxs("div",{className:"text-blue-800",children:[a.jsx("strong",{children:""}),a.jsx("div",{className:"mt-1",children:nt(ce.transformed.description)})]}),ce.transformed.personalRelevance&&a.jsxs("div",{className:"text-purple-800",children:[a.jsx("strong",{children:""}),a.jsx("div",{className:"mt-1",children:nt(ce.transformed.personalRelevance)})]}),ce.transformed.encouragement&&a.jsxs("div",{className:"text-sky-800",children:[a.jsx("strong",{children:""}),a.jsx("div",{className:"mt-1",children:nt(ce.transformed.encouragement)})]})]}),Pe.type==="breakdown"&&a.jsxs(a.Fragment,{children:[ce.transformed.title&&a.jsxs("div",{className:"text-green-800",children:[a.jsx("strong",{children:""}),a.jsx("div",{className:"mt-1",children:nt(ce.transformed.title)})]}),ce.transformed.introduction&&a.jsxs("div",{className:"text-blue-800",children:[a.jsx("strong",{children:""}),a.jsx("div",{className:"mt-1",children:nt(ce.transformed.introduction)})]}),ce.transformed.keyPoints&&a.jsxs("div",{className:"text-indigo-800",children:[a.jsx("strong",{children:""}),a.jsx("div",{className:"mt-1 space-y-1",children:ce.transformed.keyPoints.map((de,ye)=>a.jsxs("div",{children:[" ",nt(de)]},ye))})]})]}),Pe.type==="confusing"&&a.jsxs(a.Fragment,{children:[ce.transformed.title&&a.jsxs("div",{className:"text-amber-800",children:[a.jsx("strong",{children:""}),a.jsx("div",{className:"mt-1",children:nt(ce.transformed.title)})]}),ce.transformed.normalizeConfusion&&a.jsxs("div",{className:"text-green-800",children:[a.jsx("strong",{children:""}),a.jsx("div",{className:"mt-1",children:nt(ce.transformed.normalizeConfusion)})]}),ce.transformed.clearExplanation&&a.jsxs("div",{className:"text-blue-800",children:[a.jsx("strong",{children:""}),a.jsx("div",{className:"mt-1",children:nt(ce.transformed.clearExplanation)})]})]})]}):a.jsxs("div",{className:"text-slate-500 text-center py-8",children:[a.jsx("div",{className:"text-4xl mb-4",children:""}),a.jsx("p",{children:"  "})]})})]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-8 border-t border-slate-200",children:[a.jsxs("button",{onClick:wi,disabled:h===0,className:"flex items-center gap-2 px-6 py-3 bg-slate-500 text-white font-medium rounded-lg hover:bg-slate-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})}),""]}),a.jsx("div",{className:"text-center",children:a.jsxs("p",{className:"text-sm text-slate-600",children:[h+1," / ",Be]})}),a.jsxs("button",{onClick:bi,disabled:h===b.length-1,className:"flex items-center gap-2 px-6 py-3 bg-indigo-500 text-white font-medium rounded-lg hover:bg-indigo-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:["",a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})]})]})]})]})},X8=()=>{const[t]=Er(),e=t.get("binId"),[n,r]=M.useState(null),[l,o]=M.useState(!0),[u,f]=M.useState(null),[g,h]=M.useState(null),[x,b]=M.useState(0),[N,w]=M.useState([]);M.useEffect(()=>{e?C():(f("binId"),o(!1))},[e]),M.useEffect(()=>{n&&N.length>0&&_(n)},[n,N,e]);const C=async()=>{try{o(!0),f(null);const O=await rc(e);if(!O.isInteractive)throw new Error("");r(O),E(O)}catch(O){console.error(":",O),f(O.message||"")}finally{o(!1)}},E=O=>{const V=[],ne=O.transformedData||{};console.log("Initial content:",O),console.log("Transformed data keys:",Object.keys(ne)),console.log("Transformed data:",ne),O.originalContent&&console.log("Original content from JSON:",O.originalContent);const I=Object.keys(ne).sort((H,S)=>{const F=parseInt(H.replace("step_","")),re=parseInt(S.replace("step_",""));return F-re});console.log("Sorted step IDs:",I);const Y=O.includedSteps||Object.keys(ne);console.log("Included steps:",Y);const ue={};if(O.originalContent)console.log("Using originalContent from JSON for mapping"),Object.keys(O.originalContent).forEach(H=>{const S=O.originalContent[H];S&&Y.includes(H)&&(ue[H]={content:S.content,type:S.type,index:S.index||0})});else{console.log("Using fallback method to build original content mapping");const H=[];O.learningObjectives&&O.learningObjectives.forEach((S,F)=>{H.push({content:S,type:"objective",typeIndex:F})}),O.contentBreakdown&&O.contentBreakdown.forEach((S,F)=>{H.push({content:S,type:"breakdown",typeIndex:F})}),O.confusingPoints&&O.confusingPoints.forEach((S,F)=>{H.push({content:S,type:"confusing",typeIndex:F})}),console.log("All original content (fallback):",H),Y.forEach((S,F)=>{if(F<H.length){const re=H[F];ue[S]={content:re.content,type:re.type,index:re.typeIndex},console.log(`Mapping ${S} to original content at index ${F}:`,re)}})}console.log("Original lookup:",ue),I.forEach(H=>{var re,j,ge;const S=ne[H],F=ue[H];if(S&&F){let Se="",he="",Te="";switch(F.type){case"objective":Se=`  ${F.index+1}`,he="",Te=((re=S.objective)==null?void 0:re.length)>50?`${S.objective.substring(0,50)}...`:S.objective||F.content.objective;break;case"breakdown":Se=`  ${F.index+1}`,he="",Te=((j=S.title)==null?void 0:j.length)>50?`${S.title.substring(0,50)}...`:S.title||F.content.topic;break;case"confusing":Se=`  ${F.index+1}`,he="",Te=((ge=S.title)==null?void 0:ge.length)>50?`${S.title.substring(0,50)}...`:S.title||F.content.point;break}console.log(`Creating step: ${H}, type: ${F.type}, title: ${Se}`),V.push({id:H,title:Se,type:F.type,icon:he,description:Te,content:S,originalIndex:F.index})}}),V.length>0&&V.push({id:"summary",title:" ",type:"summary",icon:"",description:"",content:null}),console.log("Final steps:",V),w(V)},_=O=>{const V=`student_interactive_${e}`;try{const ne=localStorage.getItem(V);if(ne){const I=JSON.parse(ne);h(I);const Y=I.progress.currentObjectiveIndex||0,ue=Math.min(Math.max(0,Y),N.length-1);b(ue)}else{const I={contentId:e||"unknown",topic:O.topic||"",progress:{currentObjectiveIndex:0,completedObjectives:[],timeSpent:0,interactionCount:0,startTime:Date.now(),lastUpdateTime:Date.now(),completedActivities:[]},interactions:[],createdAt:Date.now(),updatedAt:Date.now()};h(I),localStorage.setItem(V,JSON.stringify(I))}}catch(ne){console.error(":",ne)}},A=O=>{const V=`student_interactive_${e}`;O.updatedAt=Date.now(),O.progress.lastUpdateTime=Date.now(),h(O),localStorage.setItem(V,JSON.stringify(O))},P=O=>{if(!g)return;const V={...g};V.progress.completedObjectives.includes(O)||(V.progress.completedObjectives.push(O),V.progress.interactionCount+=1),A(V)},D=O=>{if(O>=0&&O<N.length&&N[O]&&(b(O),window.scrollTo({top:0,behavior:"smooth"}),g)){const V={...g};V.progress.currentObjectiveIndex=O,A(V)}},$=()=>{x<N.length-1&&D(x+1)},Z=()=>{x>0&&D(x-1)},L=O=>O?[/#+\s/,/\*\*.*\*\*/,/\*.*\*/,/`.*`/,/^\s*[-*+]\s/m,/^\s*\d+\.\s/m,/\[.*\]\(.*\)/,/^\s*>/m,/```[\s\S]*?```/,/\n\s*\n/].some(ne=>ne.test(O)):!1,R=(O,V)=>L(O)?a.jsx(Tm,{content:O,className:V}):a.jsx("span",{className:V,children:O});if(l)return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-sky-50 to-indigo-100 py-8 px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"flex justify-center items-center min-h-[50vh]",children:a.jsx(Zn,{})})});if(u)return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-sky-50 to-indigo-100 py-8 px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg shadow-md",children:[a.jsx("h3",{className:"font-bold text-lg mb-2",children:""}),a.jsx("p",{children:u})]})})});if(!n||!g||N.length===0)return null;const B=N[x];if(!B)return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-sky-50 to-indigo-100 py-8 px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs("div",{className:"bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded-lg shadow-md",children:[a.jsx("h3",{className:"font-bold text-lg mb-2",children:""}),a.jsx("p",{children:""}),a.jsx("p",{className:"mt-2 text-sm",children:""})]})})});const z=g.progress.completedObjectives.length,X=N.length-1,Q=X>0?z/X*100:0,G=()=>{const O=g.progress.completedObjectives.includes(B.id);switch(B.type){case"objective":return a.jsxs("div",{className:"max-w-4xl mx-auto space-y-8",children:[a.jsxs("div",{className:"bg-gradient-to-br from-indigo-500 to-sky-500 rounded-3xl shadow-2xl p-12 text-white text-center",children:[a.jsx("div",{className:"text-6xl mb-6",children:""}),a.jsx("div",{className:"text-4xl font-bold mb-6 leading-tight",children:R(B.content.objective,"text-4xl font-bold leading-tight text-white")}),B.content.description&&a.jsx("div",{className:"text-xl text-indigo-100 leading-relaxed max-w-3xl mx-auto",children:R(B.content.description,"text-xl text-indigo-100 leading-relaxed")})]}),a.jsxs("div",{className:"space-y-6",children:[B.content.personalRelevance&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[a.jsxs("h3",{className:"text-2xl font-bold text-purple-700 mb-6 flex items-center",children:[a.jsx("span",{className:"text-3xl mr-3",children:""}),""]}),a.jsx("div",{className:"bg-purple-50 rounded-xl p-6 text-lg leading-relaxed text-purple-900",children:R(B.content.personalRelevance,"text-lg leading-relaxed text-purple-900")})]}),B.content.teachingExample&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[a.jsxs("h3",{className:"text-2xl font-bold text-green-700 mb-6 flex items-center",children:[a.jsx("span",{className:"text-3xl mr-3",children:""}),""]}),a.jsx("div",{className:"bg-green-50 rounded-xl p-6 text-lg leading-relaxed text-green-900",children:R(B.content.teachingExample,"text-lg leading-relaxed text-green-900")})]}),B.content.encouragement&&a.jsxs("div",{className:"bg-gradient-to-r from-sky-50 to-indigo-50 rounded-2xl p-8",children:[a.jsxs("h3",{className:"text-2xl font-bold text-sky-700 mb-6 flex items-center",children:[a.jsx("span",{className:"text-3xl mr-3",children:""}),""]}),a.jsx("div",{className:"text-lg leading-relaxed text-sky-900 font-medium",children:R(B.content.encouragement,"text-lg leading-relaxed text-sky-900 font-medium")})]})]}),a.jsx("div",{className:"text-center",children:O?a.jsxs("div",{className:"bg-green-50 border-2 border-green-200 rounded-2xl p-8",children:[a.jsx("div",{className:"text-5xl mb-4",children:""}),a.jsx("h4",{className:"text-2xl font-bold text-green-700 mb-2",children:""}),a.jsx("p",{className:"text-green-600",children:""})]}):a.jsxs("div",{className:"bg-slate-50 rounded-2xl p-8",children:[a.jsx("h4",{className:"text-xl font-semibold text-slate-700 mb-4",children:""}),a.jsxs("button",{onClick:()=>P(B.id),className:"px-8 py-4 bg-green-500 hover:bg-green-600 text-white font-bold text-lg rounded-xl transition-colors flex items-center gap-3 mx-auto",children:[a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),""]})]})})]});case"breakdown":return a.jsxs("div",{className:"max-w-5xl mx-auto space-y-8",children:[a.jsxs("div",{className:"bg-gradient-to-br from-sky-500 to-blue-500 rounded-3xl shadow-2xl p-12 text-white text-center",children:[a.jsx("div",{className:"text-6xl mb-6",children:""}),a.jsx("div",{className:"text-4xl font-bold mb-6 leading-tight",children:R(B.content.title||B.content.topic,"text-4xl font-bold leading-tight text-white")}),B.content.introduction&&a.jsx("div",{className:"text-xl text-sky-100 leading-relaxed max-w-3xl mx-auto",children:R(B.content.introduction,"text-xl text-sky-100 leading-relaxed")})]}),a.jsxs("div",{className:"space-y-6",children:[B.content.keyPoints&&B.content.keyPoints.length>0&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[a.jsxs("h3",{className:"text-2xl font-bold text-indigo-700 mb-6 flex items-center",children:[a.jsx("span",{className:"text-3xl mr-3",children:""}),""]}),a.jsx("div",{className:"bg-indigo-50 rounded-xl p-6",children:a.jsx("div",{className:"space-y-4",children:B.content.keyPoints.map((V,ne)=>a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"flex-shrink-0 w-8 h-8 bg-indigo-500 text-white rounded-full flex items-center justify-center text-sm font-bold mr-4",children:ne+1}),a.jsx("div",{className:"text-lg text-indigo-900 leading-relaxed",children:R(V,"text-lg text-indigo-900 leading-relaxed")})]},ne))})})]}),B.content.realLifeExamples&&B.content.realLifeExamples.length>0&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[a.jsxs("h3",{className:"text-2xl font-bold text-green-700 mb-6 flex items-center",children:[a.jsx("span",{className:"text-3xl mr-3",children:""}),""]}),a.jsx("div",{className:"bg-green-50 rounded-xl p-6",children:a.jsx("div",{className:"space-y-4",children:B.content.realLifeExamples.map((V,ne)=>a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"flex-shrink-0 w-8 h-8 bg-green-500 text-white rounded-full flex items-center justify-center text-sm font-bold mr-4",children:ne+1}),a.jsx("div",{className:"text-lg text-green-900 leading-relaxed",children:R(V,"text-lg text-green-900 leading-relaxed")})]},ne))})})]}),B.content.learningTips&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[a.jsxs("h3",{className:"text-2xl font-bold text-purple-700 mb-6 flex items-center",children:[a.jsx("span",{className:"text-3xl mr-3",children:""}),""]}),a.jsx("div",{className:"bg-purple-50 rounded-xl p-6 text-lg leading-relaxed text-purple-900",children:R(B.content.learningTips,"text-lg leading-relaxed text-purple-900")})]}),B.content.nextSteps&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[a.jsxs("h3",{className:"text-2xl font-bold text-orange-700 mb-6 flex items-center",children:[a.jsx("span",{className:"text-3xl mr-3",children:""}),""]}),a.jsx("div",{className:"bg-orange-50 rounded-xl p-6 text-lg leading-relaxed text-orange-900",children:R(B.content.nextSteps,"text-lg leading-relaxed text-orange-900")})]}),B.content.encouragement&&a.jsxs("div",{className:"bg-gradient-to-r from-pink-50 to-rose-50 rounded-2xl p-8",children:[a.jsxs("h3",{className:"text-2xl font-bold text-pink-700 mb-6 flex items-center",children:[a.jsx("span",{className:"text-3xl mr-3",children:""}),""]}),a.jsx("div",{className:"text-lg leading-relaxed text-pink-900 font-medium",children:R(B.content.encouragement,"text-lg leading-relaxed text-pink-900 font-medium")})]})]}),a.jsx("div",{className:"text-center",children:O?a.jsxs("div",{className:"bg-green-50 border-2 border-green-200 rounded-2xl p-8",children:[a.jsx("div",{className:"text-5xl mb-4",children:""}),a.jsx("h4",{className:"text-2xl font-bold text-green-700 mb-2",children:""}),a.jsx("p",{className:"text-green-600",children:""})]}):a.jsxs("div",{className:"bg-slate-50 rounded-2xl p-8",children:[a.jsx("h4",{className:"text-xl font-semibold text-slate-700 mb-4",children:""}),a.jsxs("button",{onClick:()=>P(B.id),className:"px-8 py-4 bg-blue-500 hover:bg-blue-600 text-white font-bold text-lg rounded-xl transition-colors flex items-center gap-3 mx-auto",children:[a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),""]})]})})]});case"confusing":return a.jsxs("div",{className:"max-w-5xl mx-auto space-y-8",children:[a.jsxs("div",{className:"bg-gradient-to-br from-amber-500 to-orange-500 rounded-3xl shadow-2xl p-12 text-white text-center",children:[a.jsx("div",{className:"text-6xl mb-6",children:""}),a.jsx("div",{className:"text-4xl font-bold mb-6 leading-tight",children:R(B.content.title||B.content.point,"text-4xl font-bold leading-tight text-white")}),B.content.normalizeConfusion&&a.jsx("div",{className:"text-xl text-amber-100 leading-relaxed max-w-3xl mx-auto",children:R(B.content.normalizeConfusion,"text-xl text-amber-100 leading-relaxed")})]}),a.jsxs("div",{className:"space-y-6",children:[B.content.commonMistake&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[a.jsxs("h3",{className:"text-2xl font-bold text-red-700 mb-6 flex items-center",children:[a.jsx("span",{className:"text-3xl mr-3",children:""}),""]}),a.jsx("div",{className:"bg-red-50 rounded-xl p-6 text-lg leading-relaxed text-red-900",children:R(B.content.commonMistake,"text-lg leading-relaxed text-red-900")})]}),B.content.whyItHappens&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[a.jsxs("h3",{className:"text-2xl font-bold text-amber-700 mb-6 flex items-center",children:[a.jsx("span",{className:"text-3xl mr-3",children:""}),""]}),a.jsx("div",{className:"bg-amber-50 rounded-xl p-6 text-lg leading-relaxed text-amber-900",children:R(B.content.whyItHappens,"text-lg leading-relaxed text-amber-900")})]}),B.content.clearExplanation&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[a.jsxs("h3",{className:"text-2xl font-bold text-green-700 mb-6 flex items-center",children:[a.jsx("span",{className:"text-3xl mr-3",children:""}),""]}),a.jsx("div",{className:"bg-green-50 rounded-xl p-6 text-lg leading-relaxed text-green-900",children:R(B.content.clearExplanation,"text-lg leading-relaxed text-green-900")})]}),B.content.practiceExamples&&B.content.practiceExamples.length>0&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[a.jsxs("h3",{className:"text-2xl font-bold text-blue-700 mb-6 flex items-center",children:[a.jsx("span",{className:"text-3xl mr-3",children:""}),""]}),a.jsx("div",{className:"bg-blue-50 rounded-xl p-6",children:a.jsx("div",{className:"space-y-6",children:B.content.practiceExamples.map((V,ne)=>a.jsx("div",{className:"border-l-4 border-blue-400 pl-4",children:a.jsxs("div",{className:"flex items-start mb-3",children:[a.jsx("span",{className:"flex-shrink-0 w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center text-sm font-bold mr-4",children:ne+1}),a.jsx("div",{className:"flex-1",children:typeof V=="string"?a.jsx("div",{className:"text-lg text-blue-900 leading-relaxed",children:R(V,"text-lg text-blue-900 leading-relaxed")}):a.jsxs("div",{className:"space-y-3",children:[V.situation&&a.jsxs("div",{children:[a.jsx("strong",{className:"text-blue-800",children:""}),a.jsx("span",{className:"text-blue-900 ml-2",children:R(V.situation,"text-blue-900")})]}),V.wrongThinking&&a.jsxs("div",{children:[a.jsx("strong",{className:"text-red-600",children:" "}),a.jsx("span",{className:"text-red-700 ml-2",children:R(V.wrongThinking,"text-red-700")})]}),V.rightThinking&&a.jsxs("div",{children:[a.jsx("strong",{className:"text-green-600",children:" "}),a.jsx("span",{className:"text-green-700 ml-2",children:R(V.rightThinking,"text-green-700")})]}),V.explanation&&a.jsxs("div",{children:[a.jsx("strong",{className:"text-purple-600",children:" "}),a.jsx("span",{className:"text-purple-700 ml-2",children:R(V.explanation,"text-purple-700")})]})]})})]})},ne))})})]}),B.content.rememberingTricks&&B.content.rememberingTricks.length>0&&a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[a.jsxs("h3",{className:"text-2xl font-bold text-purple-700 mb-6 flex items-center",children:[a.jsx("span",{className:"text-3xl mr-3",children:""}),""]}),a.jsx("div",{className:"bg-purple-50 rounded-xl p-6",children:a.jsx("div",{className:"space-y-4",children:B.content.rememberingTricks.map((V,ne)=>a.jsxs("div",{className:"flex items-start",children:[a.jsx("span",{className:"flex-shrink-0 w-8 h-8 bg-purple-500 text-white rounded-full flex items-center justify-center text-sm font-bold mr-4",children:ne+1}),a.jsx("div",{className:"text-lg text-purple-900 leading-relaxed",children:R(V,"text-lg text-purple-900 leading-relaxed")})]},ne))})})]}),B.content.confidenceBooster&&a.jsxs("div",{className:"bg-gradient-to-r from-sky-50 to-indigo-50 rounded-2xl p-8",children:[a.jsxs("h3",{className:"text-2xl font-bold text-sky-700 mb-6 flex items-center",children:[a.jsx("span",{className:"text-3xl mr-3",children:""}),""]}),a.jsx("div",{className:"text-lg leading-relaxed text-sky-900 font-medium",children:R(B.content.confidenceBooster,"text-lg leading-relaxed text-sky-900 font-medium")})]})]}),a.jsx("div",{className:"text-center",children:O?a.jsxs("div",{className:"bg-green-50 border-2 border-green-200 rounded-2xl p-8",children:[a.jsx("div",{className:"text-5xl mb-4",children:""}),a.jsx("h4",{className:"text-2xl font-bold text-green-700 mb-2",children:""}),a.jsx("p",{className:"text-green-600",children:""})]}):a.jsxs("div",{className:"bg-slate-50 rounded-2xl p-8",children:[a.jsx("h4",{className:"text-xl font-semibold text-slate-700 mb-4",children:""}),a.jsxs("button",{onClick:()=>P(B.id),className:"px-8 py-4 bg-amber-500 hover:bg-amber-600 text-white font-bold text-lg rounded-xl transition-colors flex items-center gap-3 mx-auto",children:[a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}),""]})]})})]});case"summary":return a.jsxs("div",{className:"text-center space-y-8",children:[a.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-2xl p-12",children:[a.jsx("div",{className:"text-6xl mb-6",children:""}),a.jsx("h3",{className:"text-3xl font-bold text-green-700 mb-4",children:""}),a.jsxs("p",{className:"text-lg text-slate-600 mb-8",children:["",n.topic,""]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md",children:[a.jsx("div",{className:"text-3xl text-indigo-600 mb-2",children:""}),a.jsx("div",{className:"text-2xl font-bold text-slate-800",children:z}),a.jsx("div",{className:"text-sm text-slate-600",children:""})]}),a.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md",children:[a.jsx("div",{className:"text-3xl text-sky-600 mb-2",children:""}),a.jsx("div",{className:"text-2xl font-bold text-slate-800",children:Math.round((Date.now()-g.progress.startTime)/6e4)}),a.jsx("div",{className:"text-sm text-slate-600",children:""})]}),a.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-md",children:[a.jsx("div",{className:"text-3xl text-green-600 mb-2",children:""}),a.jsxs("div",{className:"text-2xl font-bold text-slate-800",children:[Math.round(Q),"%"]}),a.jsx("div",{className:"text-sm text-slate-600",children:""})]})]})]}),a.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-indigo-50 rounded-2xl p-8",children:[a.jsx("h4",{className:"text-2xl font-semibold text-purple-700 mb-6",children:" "}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[n.onlineInteractiveQuiz&&a.jsxs("a",{href:`/ai-page-gen/quiz?binId=${e}`,className:"px-8 py-4 bg-orange-500 text-white font-medium rounded-xl hover:bg-orange-600 transition-colors flex items-center gap-3 text-lg",target:"_blank",rel:"noopener noreferrer",children:[a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})}),""]}),n.writingPractice&&a.jsxs("a",{href:`/ai-page-gen/writing?binId=${e}`,className:"px-8 py-4 bg-purple-500 text-white font-medium rounded-xl hover:bg-purple-600 transition-colors flex items-center gap-3 text-lg",target:"_blank",rel:"noopener noreferrer",children:[a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),""]})]})]})]});default:return a.jsx("div",{children:""})}};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-sky-50 to-indigo-100",children:[a.jsx("div",{className:"sticky top-0 z-10 bg-white/95 backdrop-blur-sm border-b border-slate-200 shadow-sm",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-2",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-lg font-semibold text-slate-800",children:n.topic}),a.jsxs("p",{className:"text-xs text-slate-500",children:[" ",x+1,"  ",N.length," "]})]}),a.jsxs("div",{className:"flex items-center gap-1 text-xs text-slate-500",children:[a.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),Math.round((Date.now()-g.progress.startTime)/6e4)," "]})]}),a.jsx("div",{className:"w-full bg-slate-200 rounded-full h-1.5 mb-1",children:a.jsx("div",{className:"bg-gradient-to-r from-indigo-500 to-sky-500 h-1.5 rounded-full transition-all duration-500 ease-out",style:{width:`${(x+1)/N.length*100}%`}})}),a.jsx("div",{className:"text-center",children:a.jsxs("span",{className:"text-xs text-slate-400",children:[" ",z,"/",X,"  ",Math.round(Q),"%"]})})]})}),a.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"text-5xl mb-4",children:B.icon}),a.jsx("h2",{className:"text-3xl font-bold text-slate-800 mb-2",children:B.title}),a.jsx("div",{className:"text-lg text-slate-600",children:R(B.description,"text-lg text-slate-600")})]}),a.jsx("div",{className:"mb-8",children:G()}),a.jsxs("div",{className:"flex items-center justify-between pt-8 border-t border-slate-200",children:[a.jsxs("button",{onClick:Z,disabled:x===0,className:"flex items-center gap-2 px-6 py-3 bg-slate-500 text-white font-medium rounded-lg hover:bg-slate-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})}),""]}),a.jsx("div",{className:"text-center",children:a.jsxs("p",{className:"text-sm text-slate-600",children:[x+1," / ",N.length]})}),a.jsxs("button",{onClick:$,disabled:x===N.length-1,className:"flex items-center gap-2 px-6 py-3 bg-indigo-500 text-white font-medium rounded-lg hover:bg-indigo-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:["",a.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})]})]})]})]})},Jl="gemini_api_key",eR=()=>{const[t]=Er(),e=t.get("binId"),[n,r]=Ge.useState(null),[l,o]=Ge.useState(!1),[u,f]=Ge.useState(""),[g,h]=Ge.useState(null),[x,b]=Ge.useState(!1);Ge.useEffect(()=>{if(!e){f(" binId");return}o(!0),rc(e).then(C=>{r(C),N(C,e)}).catch(C=>f(C.message||"")).finally(()=>o(!1))},[e]);const N=async(C,E)=>{try{if(await Ut.init(),await Ut.getLessonPlan(`shared_${E}`)){await Ut.updateLastAccessed(`shared_${E}`);return}const A={id:`shared_${E}`,topic:C.topic||"",createdAt:new Date().toISOString(),lastAccessedAt:new Date().toISOString(),content:{learningObjectives:C.learningObjectives,contentBreakdown:C.contentBreakdown,confusingPoints:C.confusingPoints,classroomActivities:C.classroomActivities,quiz:C.onlineInteractiveQuiz,writingPractice:C.writingPractice},metadata:{totalSections:[C.learningObjectives,C.contentBreakdown,C.confusingPoints,C.classroomActivities,C.onlineInteractiveQuiz,C.writingPractice].filter(Boolean).length,hasQuiz:!!C.onlineInteractiveQuiz,hasWriting:!!C.writingPractice,isShared:!0,sharedBinId:E}};await Ut.saveLessonPlan(A),console.log(`: ${C.topic||""} (${E})`)}catch(_){console.error(":",_)}};Ge.useEffect(()=>{const C=localStorage.getItem(Jl);C?h(C):b(!0)},[]);const w=C=>{localStorage.setItem(Jl,C),h(C),b(!1)};return l?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-sky-50 to-indigo-100 py-8 px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"flex justify-center my-10",children:a.jsx(Zn,{})})}):u?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-sky-50 to-indigo-100 py-8 px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsx("div",{className:"my-6 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg shadow-md",children:u})})}):n?a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-sky-50 to-indigo-100 py-8 px-4 sm:px-6 lg:px-8",children:[a.jsx(mv,{isOpen:x,onSave:w}),a.jsxs("div",{className:"max-w-4xl mx-auto",children:[!g&&!x&&a.jsx("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-yellow-600 mt-0.5 flex-shrink-0",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m0 0c.652-.286 1.323-.443 2.25-.443 1.38 0 2.652.24 3.75.697v-6a6 6 0 0 0-6 2.243M12 15.75V21m0-5.25c1.38 0 2.652-.24 3.75-.697v6a6 6 0 0 1-3.75-2.243M12 15.75L9 12"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-yellow-800 font-medium text-sm",children:" API Key "}),a.jsx("p",{className:"text-yellow-700 text-xs mt-1",children:" AI "})]})]}),a.jsx("button",{onClick:()=>b(!0),className:"px-3 py-1 bg-yellow-600 text-white rounded hover:bg-yellow-700 text-sm",children:" API Key"})]})}),a.jsx(sm,{content:n,topic:n.topic||"",selectedLevel:n.selectedLevel||null,selectedVocabularyLevel:n.selectedVocabularyLevel||null,apiKey:g||void 0,onContentUpdate:r})]})]}):null},tR=()=>{const[t,e]=M.useState(""),[n,r]=M.useState(null),[l,o]=M.useState(!1),[u,f]=M.useState(null),[g,h]=M.useState(null),[x,b]=M.useState(!1),[N,w]=M.useState(null),[C,E]=M.useState(null),[_,A]=M.useState(null),[P,D]=M.useState(!1),[$,Z]=M.useState(null),[L,R]=M.useState(!1),[B,z]=M.useState(!1);Ge.useEffect(()=>{const Y=new URLSearchParams(window.location.search).get("apikey");if(Y){localStorage.setItem(Jl,Y),h(Y),b(!1);const H=window.location.origin+window.location.pathname;window.history.replaceState({},document.title,H);return}const ue=localStorage.getItem(Jl);ue?h(ue):b(!0)},[]);const X=I=>{localStorage.setItem(Jl,I),h(I),b(!1)},Q=async(I,Y)=>{try{await Ut.init();const ue=S_(Y,I);await Ut.saveLessonPlan(ue)}catch(ue){console.error(":",ue)}},G=M.useCallback(async()=>{if(!t.trim()){f("");return}if(!g){f(" Gemini API "),b(!0);return}o(!0),f(null),E(null),r(null),A(null),Z(null),R(!1);const I=Mk(t);z(I);try{const Y=await Rk(t,g);E(Y),D(!0),I&&R(!0)}catch(Y){console.error(Y),f(Y.message||"")}finally{o(!1)}},[t,g]),O=M.useCallback(async I=>{if(!g){f(" Gemini API "),b(!0);return}if(B&&!$){f("");return}o(!0),f(null),A(I),r(null);try{let Y;B&&$?Y=await Dk(t,I,$,g):Y=await Ik(t,I,g),r(Y),D(!1),R(!1),await Q(Y,t)}catch(Y){console.error(Y),f(Y.message||"")}finally{o(!1)}},[t,g,B,$]),V=M.useCallback(async()=>{if(!t.trim()){f("");return}if(!g){f(" Gemini API "),b(!0);return}o(!0),f(null),r(null),D(!1),R(!1),z(!1);try{const I=await Vk(t,g);r(I),await Q(I,t)}catch(I){console.error(I),f(I.message||""),r(null)}finally{o(!1)}},[t,g]),ne=async()=>{if(!g){w(" API ");return}const I=`${window.location.origin}/ai-page-gen/?apikey=${encodeURIComponent(g)}`;try{await navigator.clipboard.writeText(I),w("")}catch{w("")}setTimeout(()=>w(null),2e3)};return a.jsx(d_,{basename:"/ai-page-gen/",children:a.jsxs(zA,{children:[a.jsx(Vn,{path:"share",element:a.jsx(eR,{})}),a.jsx(Vn,{path:"quiz",element:a.jsx(T_,{})}),a.jsx(Vn,{path:"writing",element:a.jsx(E_,{})}),a.jsx(Vn,{path:"student-results",element:a.jsx(A_,{})}),a.jsx(Vn,{path:"lesson-plans",element:a.jsx(__,{})}),a.jsx(Vn,{path:"interactive-learning",element:a.jsx(Q8,{})}),a.jsx(Vn,{path:"teacher-interactive-prep",element:a.jsx(W8,{})}),a.jsx(Vn,{path:"student-interactive",element:a.jsx(X8,{})}),a.jsx(Vn,{path:"/",element:a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-sky-50 to-indigo-100 py-8 px-4 sm:px-6 lg:px-8",children:[a.jsx(mv,{isOpen:x,onSave:X}),a.jsxs("header",{className:"text-center mb-10",children:[a.jsxs("h1",{className:"text-4xl sm:text-5xl font-extrabold text-sky-700 tracking-tight",children:["AI  ",a.jsx("span",{className:"text-indigo-600",children:""})]}),a.jsx("p",{className:"mt-3 text-lg text-slate-600 max-w-2xl mx-auto",children:" AI "}),a.jsxs("div",{className:"mt-6 max-w-2xl mx-auto bg-yellow-50 border-l-4 border-yellow-400 rounded-lg p-4 text-left shadow-sm",children:[a.jsxs("div",{className:"flex items-start mb-2",children:[a.jsx("svg",{className:"w-6 h-6 text-yellow-500 mr-2 flex-shrink-0",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M12 20a8 8 0 100-16 8 8 0 000 16z"})}),a.jsx("span",{className:"font-semibold text-yellow-800 text-base",children:""})]}),a.jsxs("ul",{className:"list-disc pl-8 text-yellow-900 text-sm space-y-1",children:[a.jsx("li",{children:"AI"}),a.jsx("li",{children:""})]})]})]}),a.jsxs("div",{className:"max-w-4xl mx-auto mb-8",children:[a.jsxs("div",{className:"flex justify-center gap-4",children:[a.jsxs("a",{href:"/ai-page-gen/lesson-plans",className:"flex items-center gap-2 px-6 py-3 bg-indigo-600 text-white font-medium rounded-lg hover:bg-indigo-700 transition-colors shadow-lg",children:[a.jsx(Rn,{className:"w-5 h-5"}),""]}),a.jsxs("button",{onClick:ne,className:"flex items-center gap-2 px-6 py-3 bg-purple-600 text-white font-medium rounded-lg hover:bg-purple-700 transition-colors shadow-lg",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-11.314a2.25 2.25 0 1 0 3.935-2.186 2.25 2.25 0 0 0-3.935 2.186Z"})}),""]})]}),N&&a.jsx("div",{className:"mt-3 text-center",children:a.jsx("p",{className:`text-sm ${N.includes("")?"text-red-600":"text-green-600"}`,children:N})})]}),a.jsxs("main",{className:"max-w-4xl mx-auto",children:[a.jsx(Gk,{topic:t,setTopic:e,onGenerate:V,onGenerateWithLevels:G,isLoading:l}),u&&!l&&a.jsxs("div",{className:"my-6 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg shadow-md",children:[a.jsxs("h3",{className:"font-bold text-lg mb-2 flex items-center",children:[a.jsx(Rf,{className:"w-6 h-6 mr-2 text-red-600"}),""]}),a.jsx("p",{children:u}),a.jsx("p",{className:"mt-2 text-sm",children:"AI  API "})]}),l&&a.jsx("div",{className:"flex justify-center my-10",children:a.jsx(Zn,{})}),P&&C&&!l&&!u&&a.jsx(J6,{learningLevels:C,onLevelSelect:A,onGenerateWithLevel:O,selectedLevelId:_==null?void 0:_.id,isLoading:l}),L&&B&&!l&&!u&&a.jsx(Z6,{onVocabularyLevelSelect:Z,selectedLevel:$,isVisible:!0}),n&&!l&&!u&&!P&&!L&&a.jsx(sm,{content:n,topic:t,selectedLevel:_,selectedVocabularyLevel:$,apiKey:g||void 0,onContentUpdate:r})]}),a.jsxs("footer",{className:"text-center mt-12 py-6 border-t border-slate-300",children:[a.jsx("p",{className:"text-sm text-slate-500",children:" Gemini API AI "}),a.jsx("button",{className:"mt-4 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded shadow transition",onClick:ne,disabled:!g,children:""}),N&&a.jsx("div",{className:"mt-2 text-green-600 text-sm",children:N})]})]})})]})})},mb=document.getElementById("root");if(!mb)throw new Error("Could not find root element to mount to");const nR=Pw.createRoot(mb);nR.render(a.jsx(Ge.StrictMode,{children:a.jsx(tR,{})}));
