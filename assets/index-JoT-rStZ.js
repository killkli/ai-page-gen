(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const m of l.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&a(m)}).observe(document,{childList:!0,subtree:!0});function i(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(r){if(r.ep)return;r.ep=!0;const l=i(r);fetch(r.href,l)}})();function hd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var cu={exports:{}},Oa={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tp;function Av(){if(Tp)return Oa;Tp=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,r,l){var m=null;if(l!==void 0&&(m=""+l),r.key!==void 0&&(m=""+r.key),"key"in r){l={};for(var p in r)p!=="key"&&(l[p]=r[p])}else l=r;return r=l.ref,{$$typeof:t,type:a,key:m,ref:r!==void 0?r:null,props:l}}return Oa.Fragment=e,Oa.jsx=i,Oa.jsxs=i,Oa}var Np;function _v(){return Np||(Np=1,cu.exports=Av()),cu.exports}var u=_v(),uu={exports:{}},Se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ep;function Mv(){if(Ep)return Se;Ep=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),m=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function w(R){return R===null||typeof R!="object"?null:(R=b&&R[b]||R["@@iterator"],typeof R=="function"?R:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,E={};function A(R,ee,ae){this.props=R,this.context=ee,this.refs=E,this.updater=ae||S}A.prototype.isReactComponent={},A.prototype.setState=function(R,ee){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,ee,"setState")},A.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function _(){}_.prototype=A.prototype;function L(R,ee,ae){this.props=R,this.context=ee,this.refs=E,this.updater=ae||S}var U=L.prototype=new _;U.constructor=L,T(U,A.prototype),U.isPureReactComponent=!0;var O=Array.isArray,F={H:null,A:null,T:null,S:null,V:null},H=Object.prototype.hasOwnProperty;function j(R,ee,ae,se,he,Ee){return ae=Ee.ref,{$$typeof:t,type:R,key:ee,ref:ae!==void 0?ae:null,props:Ee}}function z(R,ee){return j(R.type,ee,void 0,void 0,void 0,R.props)}function P(R){return typeof R=="object"&&R!==null&&R.$$typeof===t}function J(R){var ee={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(ae){return ee[ae]})}var ne=/\/+/g;function W(R,ee){return typeof R=="object"&&R!==null&&R.key!=null?J(""+R.key):ee.toString(36)}function Y(){}function K(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(Y,Y):(R.status="pending",R.then(function(ee){R.status==="pending"&&(R.status="fulfilled",R.value=ee)},function(ee){R.status==="pending"&&(R.status="rejected",R.reason=ee)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function le(R,ee,ae,se,he){var Ee=typeof R;(Ee==="undefined"||Ee==="boolean")&&(R=null);var xe=!1;if(R===null)xe=!0;else switch(Ee){case"bigint":case"string":case"number":xe=!0;break;case"object":switch(R.$$typeof){case t:case e:xe=!0;break;case v:return xe=R._init,le(xe(R._payload),ee,ae,se,he)}}if(xe)return he=he(R),xe=se===""?"."+W(R,0):se,O(he)?(ae="",xe!=null&&(ae=xe.replace(ne,"$&/")+"/"),le(he,ee,ae,"",function(ht){return ht})):he!=null&&(P(he)&&(he=z(he,ae+(he.key==null||R&&R.key===he.key?"":(""+he.key).replace(ne,"$&/")+"/")+xe)),ee.push(he)),1;xe=0;var Ye=se===""?".":se+":";if(O(R))for(var ke=0;ke<R.length;ke++)se=R[ke],Ee=Ye+W(se,ke),xe+=le(se,ee,ae,Ee,he);else if(ke=w(R),typeof ke=="function")for(R=ke.call(R),ke=0;!(se=R.next()).done;)se=se.value,Ee=Ye+W(se,ke++),xe+=le(se,ee,ae,Ee,he);else if(Ee==="object"){if(typeof R.then=="function")return le(K(R),ee,ae,se,he);throw ee=String(R),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return xe}function I(R,ee,ae){if(R==null)return R;var se=[],he=0;return le(R,se,"","",function(Ee){return ee.call(ae,Ee,he++)}),se}function Z(R){if(R._status===-1){var ee=R._result;ee=ee(),ee.then(function(ae){(R._status===0||R._status===-1)&&(R._status=1,R._result=ae)},function(ae){(R._status===0||R._status===-1)&&(R._status=2,R._result=ae)}),R._status===-1&&(R._status=0,R._result=ee)}if(R._status===1)return R._result.default;throw R._result}var oe=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)};function Ce(){}return Se.Children={map:I,forEach:function(R,ee,ae){I(R,function(){ee.apply(this,arguments)},ae)},count:function(R){var ee=0;return I(R,function(){ee++}),ee},toArray:function(R){return I(R,function(ee){return ee})||[]},only:function(R){if(!P(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},Se.Component=A,Se.Fragment=i,Se.Profiler=r,Se.PureComponent=L,Se.StrictMode=a,Se.Suspense=x,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Se.__COMPILER_RUNTIME={__proto__:null,c:function(R){return F.H.useMemoCache(R)}},Se.cache=function(R){return function(){return R.apply(null,arguments)}},Se.cloneElement=function(R,ee,ae){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var se=T({},R.props),he=R.key,Ee=void 0;if(ee!=null)for(xe in ee.ref!==void 0&&(Ee=void 0),ee.key!==void 0&&(he=""+ee.key),ee)!H.call(ee,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&ee.ref===void 0||(se[xe]=ee[xe]);var xe=arguments.length-2;if(xe===1)se.children=ae;else if(1<xe){for(var Ye=Array(xe),ke=0;ke<xe;ke++)Ye[ke]=arguments[ke+2];se.children=Ye}return j(R.type,he,void 0,void 0,Ee,se)},Se.createContext=function(R){return R={$$typeof:m,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:l,_context:R},R},Se.createElement=function(R,ee,ae){var se,he={},Ee=null;if(ee!=null)for(se in ee.key!==void 0&&(Ee=""+ee.key),ee)H.call(ee,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(he[se]=ee[se]);var xe=arguments.length-2;if(xe===1)he.children=ae;else if(1<xe){for(var Ye=Array(xe),ke=0;ke<xe;ke++)Ye[ke]=arguments[ke+2];he.children=Ye}if(R&&R.defaultProps)for(se in xe=R.defaultProps,xe)he[se]===void 0&&(he[se]=xe[se]);return j(R,Ee,void 0,void 0,null,he)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(R){return{$$typeof:p,render:R}},Se.isValidElement=P,Se.lazy=function(R){return{$$typeof:v,_payload:{_status:-1,_result:R},_init:Z}},Se.memo=function(R,ee){return{$$typeof:g,type:R,compare:ee===void 0?null:ee}},Se.startTransition=function(R){var ee=F.T,ae={};F.T=ae;try{var se=R(),he=F.S;he!==null&&he(ae,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(Ce,oe)}catch(Ee){oe(Ee)}finally{F.T=ee}},Se.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Se.use=function(R){return F.H.use(R)},Se.useActionState=function(R,ee,ae){return F.H.useActionState(R,ee,ae)},Se.useCallback=function(R,ee){return F.H.useCallback(R,ee)},Se.useContext=function(R){return F.H.useContext(R)},Se.useDebugValue=function(){},Se.useDeferredValue=function(R,ee){return F.H.useDeferredValue(R,ee)},Se.useEffect=function(R,ee,ae){var se=F.H;if(typeof ae=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(R,ee)},Se.useId=function(){return F.H.useId()},Se.useImperativeHandle=function(R,ee,ae){return F.H.useImperativeHandle(R,ee,ae)},Se.useInsertionEffect=function(R,ee){return F.H.useInsertionEffect(R,ee)},Se.useLayoutEffect=function(R,ee){return F.H.useLayoutEffect(R,ee)},Se.useMemo=function(R,ee){return F.H.useMemo(R,ee)},Se.useOptimistic=function(R,ee){return F.H.useOptimistic(R,ee)},Se.useReducer=function(R,ee,ae){return F.H.useReducer(R,ee,ae)},Se.useRef=function(R){return F.H.useRef(R)},Se.useState=function(R){return F.H.useState(R)},Se.useSyncExternalStore=function(R,ee,ae){return F.H.useSyncExternalStore(R,ee,ae)},Se.useTransition=function(){return F.H.useTransition()},Se.version="19.1.0",Se}var Ap;function pd(){return Ap||(Ap=1,uu.exports=Mv()),uu.exports}var M=pd();const je=hd(M);var du={exports:{}},Va={},fu={exports:{}},mu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _p;function kv(){return _p||(_p=1,function(t){function e(I,Z){var oe=I.length;I.push(Z);e:for(;0<oe;){var Ce=oe-1>>>1,R=I[Ce];if(0<r(R,Z))I[Ce]=Z,I[oe]=R,oe=Ce;else break e}}function i(I){return I.length===0?null:I[0]}function a(I){if(I.length===0)return null;var Z=I[0],oe=I.pop();if(oe!==Z){I[0]=oe;e:for(var Ce=0,R=I.length,ee=R>>>1;Ce<ee;){var ae=2*(Ce+1)-1,se=I[ae],he=ae+1,Ee=I[he];if(0>r(se,oe))he<R&&0>r(Ee,se)?(I[Ce]=Ee,I[he]=oe,Ce=he):(I[Ce]=se,I[ae]=oe,Ce=ae);else if(he<R&&0>r(Ee,oe))I[Ce]=Ee,I[he]=oe,Ce=he;else break e}}return Z}function r(I,Z){var oe=I.sortIndex-Z.sortIndex;return oe!==0?oe:I.id-Z.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var m=Date,p=m.now();t.unstable_now=function(){return m.now()-p}}var x=[],g=[],v=1,b=null,w=3,S=!1,T=!1,E=!1,A=!1,_=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function O(I){for(var Z=i(g);Z!==null;){if(Z.callback===null)a(g);else if(Z.startTime<=I)a(g),Z.sortIndex=Z.expirationTime,e(x,Z);else break;Z=i(g)}}function F(I){if(E=!1,O(I),!T)if(i(x)!==null)T=!0,H||(H=!0,W());else{var Z=i(g);Z!==null&&le(F,Z.startTime-I)}}var H=!1,j=-1,z=5,P=-1;function J(){return A?!0:!(t.unstable_now()-P<z)}function ne(){if(A=!1,H){var I=t.unstable_now();P=I;var Z=!0;try{e:{T=!1,E&&(E=!1,L(j),j=-1),S=!0;var oe=w;try{t:{for(O(I),b=i(x);b!==null&&!(b.expirationTime>I&&J());){var Ce=b.callback;if(typeof Ce=="function"){b.callback=null,w=b.priorityLevel;var R=Ce(b.expirationTime<=I);if(I=t.unstable_now(),typeof R=="function"){b.callback=R,O(I),Z=!0;break t}b===i(x)&&a(x),O(I)}else a(x);b=i(x)}if(b!==null)Z=!0;else{var ee=i(g);ee!==null&&le(F,ee.startTime-I),Z=!1}}break e}finally{b=null,w=oe,S=!1}Z=void 0}}finally{Z?W():H=!1}}}var W;if(typeof U=="function")W=function(){U(ne)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,K=Y.port2;Y.port1.onmessage=ne,W=function(){K.postMessage(null)}}else W=function(){_(ne,0)};function le(I,Z){j=_(function(){I(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(I){switch(w){case 1:case 2:case 3:var Z=3;break;default:Z=w}var oe=w;w=Z;try{return I()}finally{w=oe}},t.unstable_requestPaint=function(){A=!0},t.unstable_runWithPriority=function(I,Z){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var oe=w;w=I;try{return Z()}finally{w=oe}},t.unstable_scheduleCallback=function(I,Z,oe){var Ce=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Ce+oe:Ce):oe=Ce,I){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=oe+R,I={id:v++,callback:Z,priorityLevel:I,startTime:oe,expirationTime:R,sortIndex:-1},oe>Ce?(I.sortIndex=oe,e(g,I),i(x)===null&&I===i(g)&&(E?(L(j),j=-1):E=!0,le(F,oe-Ce))):(I.sortIndex=R,e(x,I),T||S||(T=!0,H||(H=!0,W()))),I},t.unstable_shouldYield=J,t.unstable_wrapCallback=function(I){var Z=w;return function(){var oe=w;w=Z;try{return I.apply(this,arguments)}finally{w=oe}}}}(mu)),mu}var Mp;function Rv(){return Mp||(Mp=1,fu.exports=kv()),fu.exports}var hu={exports:{}},bt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kp;function Dv(){if(kp)return bt;kp=1;var t=pd();function e(x){var g="https://react.dev/errors/"+x;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+x+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},r=Symbol.for("react.portal");function l(x,g,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:b==null?null:""+b,children:x,containerInfo:g,implementation:v}}var m=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(x,g){if(x==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return bt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,bt.createPortal=function(x,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(x,g,null,v)},bt.flushSync=function(x){var g=m.T,v=a.p;try{if(m.T=null,a.p=2,x)return x()}finally{m.T=g,a.p=v,a.d.f()}},bt.preconnect=function(x,g){typeof x=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(x,g))},bt.prefetchDNS=function(x){typeof x=="string"&&a.d.D(x)},bt.preinit=function(x,g){if(typeof x=="string"&&g&&typeof g.as=="string"){var v=g.as,b=p(v,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,S=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?a.d.S(x,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:w,fetchPriority:S}):v==="script"&&a.d.X(x,{crossOrigin:b,integrity:w,fetchPriority:S,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},bt.preinitModule=function(x,g){if(typeof x=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=p(g.as,g.crossOrigin);a.d.M(x,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(x)},bt.preload=function(x,g){if(typeof x=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,b=p(v,g.crossOrigin);a.d.L(x,v,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},bt.preloadModule=function(x,g){if(typeof x=="string")if(g){var v=p(g.as,g.crossOrigin);a.d.m(x,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(x)},bt.requestFormReset=function(x){a.d.r(x)},bt.unstable_batchedUpdates=function(x,g){return x(g)},bt.useFormState=function(x,g,v){return m.H.useFormState(x,g,v)},bt.useFormStatus=function(){return m.H.useHostTransitionStatus()},bt.version="19.1.0",bt}var Rp;function jv(){if(Rp)return hu.exports;Rp=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),hu.exports=Dv(),hu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dp;function Iv(){if(Dp)return Va;Dp=1;var t=Rv(),e=pd(),i=jv();function a(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var s=n,o=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(o=s.return),n=s.return;while(n)}return s.tag===3?o:null}function m(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function p(n){if(l(n)!==n)throw Error(a(188))}function x(n){var s=n.alternate;if(!s){if(s=l(n),s===null)throw Error(a(188));return s!==n?null:n}for(var o=n,c=s;;){var h=o.return;if(h===null)break;var y=h.alternate;if(y===null){if(c=h.return,c!==null){o=c;continue}break}if(h.child===y.child){for(y=h.child;y;){if(y===o)return p(h),n;if(y===c)return p(h),s;y=y.sibling}throw Error(a(188))}if(o.return!==c.return)o=h,c=y;else{for(var C=!1,N=h.child;N;){if(N===o){C=!0,o=h,c=y;break}if(N===c){C=!0,c=h,o=y;break}N=N.sibling}if(!C){for(N=y.child;N;){if(N===o){C=!0,o=y,c=h;break}if(N===c){C=!0,c=y,o=h;break}N=N.sibling}if(!C)throw Error(a(189))}}if(o.alternate!==c)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?n:s}function g(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=g(n),s!==null)return s;n=n.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),L=Symbol.for("react.consumer"),U=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),J=Symbol.for("react.memo_cache_sentinel"),ne=Symbol.iterator;function W(n){return n===null||typeof n!="object"?null:(n=ne&&n[ne]||n["@@iterator"],typeof n=="function"?n:null)}var Y=Symbol.for("react.client.reference");function K(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===Y?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case T:return"Fragment";case A:return"Profiler";case E:return"StrictMode";case F:return"Suspense";case H:return"SuspenseList";case P:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case S:return"Portal";case U:return(n.displayName||"Context")+".Provider";case L:return(n._context.displayName||"Context")+".Consumer";case O:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case j:return s=n.displayName||null,s!==null?s:K(n.type)||"Memo";case z:s=n._payload,n=n._init;try{return K(n(s))}catch{}}return null}var le=Array.isArray,I=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},Ce=[],R=-1;function ee(n){return{current:n}}function ae(n){0>R||(n.current=Ce[R],Ce[R]=null,R--)}function se(n,s){R++,Ce[R]=n.current,n.current=s}var he=ee(null),Ee=ee(null),xe=ee(null),Ye=ee(null);function ke(n,s){switch(se(xe,s),se(Ee,n),se(he,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?Wh(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=Wh(s),n=Xh(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ae(he),se(he,n)}function ht(){ae(he),ae(Ee),ae(xe)}function re(n){n.memoizedState!==null&&se(Ye,n);var s=he.current,o=Xh(s,n.type);s!==o&&(se(Ee,n),se(he,o))}function He(n){Ee.current===n&&(ae(he),ae(Ee)),Ye.current===n&&(ae(Ye),Ia._currentValue=oe)}var Pe=Object.prototype.hasOwnProperty,rt=t.unstable_scheduleCallback,Ko=t.unstable_cancelCallback,ay=t.unstable_shouldYield,ry=t.unstable_requestPaint,nn=t.unstable_now,oy=t.unstable_getCurrentPriorityLevel,Rd=t.unstable_ImmediatePriority,Dd=t.unstable_UserBlockingPriority,sr=t.unstable_NormalPriority,ly=t.unstable_LowPriority,jd=t.unstable_IdlePriority,cy=t.log,uy=t.unstable_setDisableYieldValue,$s=null,Mt=null;function Ln(n){if(typeof cy=="function"&&uy(n),Mt&&typeof Mt.setStrictMode=="function")try{Mt.setStrictMode($s,n)}catch{}}var kt=Math.clz32?Math.clz32:my,dy=Math.log,fy=Math.LN2;function my(n){return n>>>=0,n===0?32:31-(dy(n)/fy|0)|0}var ar=256,rr=4194304;function di(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function or(n,s,o){var c=n.pendingLanes;if(c===0)return 0;var h=0,y=n.suspendedLanes,C=n.pingedLanes;n=n.warmLanes;var N=c&134217727;return N!==0?(c=N&~y,c!==0?h=di(c):(C&=N,C!==0?h=di(C):o||(o=N&~n,o!==0&&(h=di(o))))):(N=c&~y,N!==0?h=di(N):C!==0?h=di(C):o||(o=c&~n,o!==0&&(h=di(o)))),h===0?0:s!==0&&s!==h&&(s&y)===0&&(y=h&-h,o=s&-s,y>=o||y===32&&(o&4194048)!==0)?s:h}function zs(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function hy(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Id(){var n=ar;return ar<<=1,(ar&4194048)===0&&(ar=256),n}function Ld(){var n=rr;return rr<<=1,(rr&62914560)===0&&(rr=4194304),n}function Wo(n){for(var s=[],o=0;31>o;o++)s.push(n);return s}function Hs(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function py(n,s,o,c,h,y){var C=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var N=n.entanglements,k=n.expirationTimes,q=n.hiddenUpdates;for(o=C&~o;0<o;){var Q=31-kt(o),te=1<<Q;N[Q]=0,k[Q]=-1;var $=q[Q];if($!==null)for(q[Q]=null,Q=0;Q<$.length;Q++){var G=$[Q];G!==null&&(G.lane&=-536870913)}o&=~te}c!==0&&Ud(n,c,0),y!==0&&h===0&&n.tag!==0&&(n.suspendedLanes|=y&~(C&~s))}function Ud(n,s,o){n.pendingLanes|=s,n.suspendedLanes&=~s;var c=31-kt(s);n.entangledLanes|=s,n.entanglements[c]=n.entanglements[c]|1073741824|o&4194090}function Pd(n,s){var o=n.entangledLanes|=s;for(n=n.entanglements;o;){var c=31-kt(o),h=1<<c;h&s|n[c]&s&&(n[c]|=s),o&=~h}}function Xo(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function el(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Bd(){var n=Z.p;return n!==0?n:(n=window.event,n===void 0?32:yp(n.type))}function gy(n,s){var o=Z.p;try{return Z.p=n,s()}finally{Z.p=o}}var Un=Math.random().toString(36).slice(2),yt="__reactFiber$"+Un,Tt="__reactProps$"+Un,Vi="__reactContainer$"+Un,tl="__reactEvents$"+Un,xy="__reactListeners$"+Un,yy="__reactHandles$"+Un,Od="__reactResources$"+Un,Gs="__reactMarker$"+Un;function nl(n){delete n[yt],delete n[Tt],delete n[tl],delete n[xy],delete n[yy]}function qi(n){var s=n[yt];if(s)return s;for(var o=n.parentNode;o;){if(s=o[Vi]||o[yt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(n=ip(n);n!==null;){if(o=n[yt])return o;n=ip(n)}return s}n=o,o=n.parentNode}return null}function $i(n){if(n=n[yt]||n[Vi]){var s=n.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return n}return null}function Fs(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(a(33))}function zi(n){var s=n[Od];return s||(s=n[Od]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function ut(n){n[Gs]=!0}var Vd=new Set,qd={};function fi(n,s){Hi(n,s),Hi(n+"Capture",s)}function Hi(n,s){for(qd[n]=s,n=0;n<s.length;n++)Vd.add(s[n])}var vy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$d={},zd={};function by(n){return Pe.call(zd,n)?!0:Pe.call($d,n)?!1:vy.test(n)?zd[n]=!0:($d[n]=!0,!1)}function lr(n,s,o){if(by(s))if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+o)}}function cr(n,s,o){if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+o)}}function pn(n,s,o,c){if(c===null)n.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(s,o,""+c)}}var il,Hd;function Gi(n){if(il===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);il=s&&s[1]||"",Hd=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+il+n+Hd}var sl=!1;function al(n,s){if(!n||sl)return"";sl=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(G){var $=G}Reflect.construct(n,[],te)}else{try{te.call()}catch(G){$=G}n.call(te.prototype)}}else{try{throw Error()}catch(G){$=G}(te=n())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(G){if(G&&$&&typeof G.stack=="string")return[G.stack,$.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),C=y[0],N=y[1];if(C&&N){var k=C.split(`
`),q=N.split(`
`);for(h=c=0;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(c===k.length||h===q.length)for(c=k.length-1,h=q.length-1;1<=c&&0<=h&&k[c]!==q[h];)h--;for(;1<=c&&0<=h;c--,h--)if(k[c]!==q[h]){if(c!==1||h!==1)do if(c--,h--,0>h||k[c]!==q[h]){var Q=`
`+k[c].replace(" at new "," at ");return n.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",n.displayName)),Q}while(1<=c&&0<=h);break}}}finally{sl=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?Gi(o):""}function wy(n){switch(n.tag){case 26:case 27:case 5:return Gi(n.type);case 16:return Gi("Lazy");case 13:return Gi("Suspense");case 19:return Gi("SuspenseList");case 0:case 15:return al(n.type,!1);case 11:return al(n.type.render,!1);case 1:return al(n.type,!0);case 31:return Gi("Activity");default:return""}}function Gd(n){try{var s="";do s+=wy(n),n=n.return;while(n);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Ot(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Fd(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Cy(n){var s=Fd(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),c=""+n[s];if(!n.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,y=o.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return h.call(this)},set:function(C){c=""+C,y.call(this,C)}}),Object.defineProperty(n,s,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(C){c=""+C},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function ur(n){n._valueTracker||(n._valueTracker=Cy(n))}function Yd(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return n&&(c=Fd(n)?n.checked?"true":"false":n.value),n=c,n!==o?(s.setValue(n),!0):!1}function dr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Sy=/[\n"\\]/g;function Vt(n){return n.replace(Sy,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function rl(n,s,o,c,h,y,C,N){n.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?n.type=C:n.removeAttribute("type"),s!=null?C==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+Ot(s)):n.value!==""+Ot(s)&&(n.value=""+Ot(s)):C!=="submit"&&C!=="reset"||n.removeAttribute("value"),s!=null?ol(n,C,Ot(s)):o!=null?ol(n,C,Ot(o)):c!=null&&n.removeAttribute("value"),h==null&&y!=null&&(n.defaultChecked=!!y),h!=null&&(n.checked=h&&typeof h!="function"&&typeof h!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?n.name=""+Ot(N):n.removeAttribute("name")}function Zd(n,s,o,c,h,y,C,N){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.type=y),s!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||s!=null))return;o=o!=null?""+Ot(o):"",s=s!=null?""+Ot(s):o,N||s===n.value||(n.value=s),n.defaultValue=s}c=c??h,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=N?n.checked:!!c,n.defaultChecked=!!c,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(n.name=C)}function ol(n,s,o){s==="number"&&dr(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function Fi(n,s,o,c){if(n=n.options,s){s={};for(var h=0;h<o.length;h++)s["$"+o[h]]=!0;for(o=0;o<n.length;o++)h=s.hasOwnProperty("$"+n[o].value),n[o].selected!==h&&(n[o].selected=h),h&&c&&(n[o].defaultSelected=!0)}else{for(o=""+Ot(o),s=null,h=0;h<n.length;h++){if(n[h].value===o){n[h].selected=!0,c&&(n[h].defaultSelected=!0);return}s!==null||n[h].disabled||(s=n[h])}s!==null&&(s.selected=!0)}}function Jd(n,s,o){if(s!=null&&(s=""+Ot(s),s!==n.value&&(n.value=s),o==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=o!=null?""+Ot(o):""}function Qd(n,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(a(92));if(le(c)){if(1<c.length)throw Error(a(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=Ot(s),n.defaultValue=o,c=n.textContent,c===o&&c!==""&&c!==null&&(n.value=c)}function Yi(n,s){if(s){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=s;return}}n.textContent=s}var Ty=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kd(n,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":c?n.setProperty(s,o):typeof o!="number"||o===0||Ty.has(s)?s==="float"?n.cssFloat=o:n[s]=(""+o).trim():n[s]=o+"px"}function Wd(n,s,o){if(s!=null&&typeof s!="object")throw Error(a(62));if(n=n.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var h in s)c=s[h],s.hasOwnProperty(h)&&o[h]!==c&&Kd(n,h,c)}else for(var y in s)s.hasOwnProperty(y)&&Kd(n,y,s[y])}function ll(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ny=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ey=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fr(n){return Ey.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var cl=null;function ul(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Zi=null,Ji=null;function Xd(n){var s=$i(n);if(s&&(n=s.stateNode)){var o=n[Tt]||null;e:switch(n=s.stateNode,s.type){case"input":if(rl(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Vt(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==n&&c.form===n.form){var h=c[Tt]||null;if(!h)throw Error(a(90));rl(c,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===n.form&&Yd(c)}break e;case"textarea":Jd(n,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Fi(n,!!o.multiple,s,!1)}}}var dl=!1;function ef(n,s,o){if(dl)return n(s,o);dl=!0;try{var c=n(s);return c}finally{if(dl=!1,(Zi!==null||Ji!==null)&&(Kr(),Zi&&(s=Zi,n=Ji,Ji=Zi=null,Xd(s),n)))for(s=0;s<n.length;s++)Xd(n[s])}}function Ys(n,s){var o=n.stateNode;if(o===null)return null;var c=o[Tt]||null;if(c===null)return null;o=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(a(231,s,typeof o));return o}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fl=!1;if(gn)try{var Zs={};Object.defineProperty(Zs,"passive",{get:function(){fl=!0}}),window.addEventListener("test",Zs,Zs),window.removeEventListener("test",Zs,Zs)}catch{fl=!1}var Pn=null,ml=null,mr=null;function tf(){if(mr)return mr;var n,s=ml,o=s.length,c,h="value"in Pn?Pn.value:Pn.textContent,y=h.length;for(n=0;n<o&&s[n]===h[n];n++);var C=o-n;for(c=1;c<=C&&s[o-c]===h[y-c];c++);return mr=h.slice(n,1<c?1-c:void 0)}function hr(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function pr(){return!0}function nf(){return!1}function Nt(n){function s(o,c,h,y,C){this._reactName=o,this._targetInst=h,this.type=c,this.nativeEvent=y,this.target=C,this.currentTarget=null;for(var N in n)n.hasOwnProperty(N)&&(o=n[N],this[N]=o?o(y):y[N]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?pr:nf,this.isPropagationStopped=nf,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=pr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=pr)},persist:function(){},isPersistent:pr}),s}var mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gr=Nt(mi),Js=v({},mi,{view:0,detail:0}),Ay=Nt(Js),hl,pl,Qs,xr=v({},Js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xl,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Qs&&(Qs&&n.type==="mousemove"?(hl=n.screenX-Qs.screenX,pl=n.screenY-Qs.screenY):pl=hl=0,Qs=n),hl)},movementY:function(n){return"movementY"in n?n.movementY:pl}}),sf=Nt(xr),_y=v({},xr,{dataTransfer:0}),My=Nt(_y),ky=v({},Js,{relatedTarget:0}),gl=Nt(ky),Ry=v({},mi,{animationName:0,elapsedTime:0,pseudoElement:0}),Dy=Nt(Ry),jy=v({},mi,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Iy=Nt(jy),Ly=v({},mi,{data:0}),af=Nt(Ly),Uy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Py={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},By={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Oy(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=By[n])?!!s[n]:!1}function xl(){return Oy}var Vy=v({},Js,{key:function(n){if(n.key){var s=Uy[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=hr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Py[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xl,charCode:function(n){return n.type==="keypress"?hr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?hr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),qy=Nt(Vy),$y=v({},xr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rf=Nt($y),zy=v({},Js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xl}),Hy=Nt(zy),Gy=v({},mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fy=Nt(Gy),Yy=v({},xr,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Zy=Nt(Yy),Jy=v({},mi,{newState:0,oldState:0}),Qy=Nt(Jy),Ky=[9,13,27,32],yl=gn&&"CompositionEvent"in window,Ks=null;gn&&"documentMode"in document&&(Ks=document.documentMode);var Wy=gn&&"TextEvent"in window&&!Ks,of=gn&&(!yl||Ks&&8<Ks&&11>=Ks),lf=" ",cf=!1;function uf(n,s){switch(n){case"keyup":return Ky.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function df(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Qi=!1;function Xy(n,s){switch(n){case"compositionend":return df(s);case"keypress":return s.which!==32?null:(cf=!0,lf);case"textInput":return n=s.data,n===lf&&cf?null:n;default:return null}}function e1(n,s){if(Qi)return n==="compositionend"||!yl&&uf(n,s)?(n=tf(),mr=ml=Pn=null,Qi=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return of&&s.locale!=="ko"?null:s.data;default:return null}}var t1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ff(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!t1[n.type]:s==="textarea"}function mf(n,s,o,c){Zi?Ji?Ji.push(c):Ji=[c]:Zi=c,s=io(s,"onChange"),0<s.length&&(o=new gr("onChange","change",null,o,c),n.push({event:o,listeners:s}))}var Ws=null,Xs=null;function n1(n){Yh(n,0)}function yr(n){var s=Fs(n);if(Yd(s))return n}function hf(n,s){if(n==="change")return s}var pf=!1;if(gn){var vl;if(gn){var bl="oninput"in document;if(!bl){var gf=document.createElement("div");gf.setAttribute("oninput","return;"),bl=typeof gf.oninput=="function"}vl=bl}else vl=!1;pf=vl&&(!document.documentMode||9<document.documentMode)}function xf(){Ws&&(Ws.detachEvent("onpropertychange",yf),Xs=Ws=null)}function yf(n){if(n.propertyName==="value"&&yr(Xs)){var s=[];mf(s,Xs,n,ul(n)),ef(n1,s)}}function i1(n,s,o){n==="focusin"?(xf(),Ws=s,Xs=o,Ws.attachEvent("onpropertychange",yf)):n==="focusout"&&xf()}function s1(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return yr(Xs)}function a1(n,s){if(n==="click")return yr(s)}function r1(n,s){if(n==="input"||n==="change")return yr(s)}function o1(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Rt=typeof Object.is=="function"?Object.is:o1;function ea(n,s){if(Rt(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var o=Object.keys(n),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var h=o[c];if(!Pe.call(s,h)||!Rt(n[h],s[h]))return!1}return!0}function vf(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function bf(n,s){var o=vf(n);n=0;for(var c;o;){if(o.nodeType===3){if(c=n+o.textContent.length,n<=s&&c>=s)return{node:o,offset:s-n};n=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=vf(o)}}function wf(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?wf(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Cf(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=dr(n.document);s instanceof n.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)n=s.contentWindow;else break;s=dr(n.document)}return s}function wl(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var l1=gn&&"documentMode"in document&&11>=document.documentMode,Ki=null,Cl=null,ta=null,Sl=!1;function Sf(n,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Sl||Ki==null||Ki!==dr(c)||(c=Ki,"selectionStart"in c&&wl(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ta&&ea(ta,c)||(ta=c,c=io(Cl,"onSelect"),0<c.length&&(s=new gr("onSelect","select",null,s,o),n.push({event:s,listeners:c}),s.target=Ki)))}function hi(n,s){var o={};return o[n.toLowerCase()]=s.toLowerCase(),o["Webkit"+n]="webkit"+s,o["Moz"+n]="moz"+s,o}var Wi={animationend:hi("Animation","AnimationEnd"),animationiteration:hi("Animation","AnimationIteration"),animationstart:hi("Animation","AnimationStart"),transitionrun:hi("Transition","TransitionRun"),transitionstart:hi("Transition","TransitionStart"),transitioncancel:hi("Transition","TransitionCancel"),transitionend:hi("Transition","TransitionEnd")},Tl={},Tf={};gn&&(Tf=document.createElement("div").style,"AnimationEvent"in window||(delete Wi.animationend.animation,delete Wi.animationiteration.animation,delete Wi.animationstart.animation),"TransitionEvent"in window||delete Wi.transitionend.transition);function pi(n){if(Tl[n])return Tl[n];if(!Wi[n])return n;var s=Wi[n],o;for(o in s)if(s.hasOwnProperty(o)&&o in Tf)return Tl[n]=s[o];return n}var Nf=pi("animationend"),Ef=pi("animationiteration"),Af=pi("animationstart"),c1=pi("transitionrun"),u1=pi("transitionstart"),d1=pi("transitioncancel"),_f=pi("transitionend"),Mf=new Map,Nl="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nl.push("scrollEnd");function Jt(n,s){Mf.set(n,s),fi(s,[n])}var kf=new WeakMap;function qt(n,s){if(typeof n=="object"&&n!==null){var o=kf.get(n);return o!==void 0?o:(s={value:n,source:s,stack:Gd(s)},kf.set(n,s),s)}return{value:n,source:s,stack:Gd(s)}}var $t=[],Xi=0,El=0;function vr(){for(var n=Xi,s=El=Xi=0;s<n;){var o=$t[s];$t[s++]=null;var c=$t[s];$t[s++]=null;var h=$t[s];$t[s++]=null;var y=$t[s];if($t[s++]=null,c!==null&&h!==null){var C=c.pending;C===null?h.next=h:(h.next=C.next,C.next=h),c.pending=h}y!==0&&Rf(o,h,y)}}function br(n,s,o,c){$t[Xi++]=n,$t[Xi++]=s,$t[Xi++]=o,$t[Xi++]=c,El|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function Al(n,s,o,c){return br(n,s,o,c),wr(n)}function es(n,s){return br(n,null,null,s),wr(n)}function Rf(n,s,o){n.lanes|=o;var c=n.alternate;c!==null&&(c.lanes|=o);for(var h=!1,y=n.return;y!==null;)y.childLanes|=o,c=y.alternate,c!==null&&(c.childLanes|=o),y.tag===22&&(n=y.stateNode,n===null||n._visibility&1||(h=!0)),n=y,y=y.return;return n.tag===3?(y=n.stateNode,h&&s!==null&&(h=31-kt(o),n=y.hiddenUpdates,c=n[h],c===null?n[h]=[s]:c.push(s),s.lane=o|536870912),y):null}function wr(n){if(50<Ea)throw Ea=0,jc=null,Error(a(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var ts={};function f1(n,s,o,c){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dt(n,s,o,c){return new f1(n,s,o,c)}function _l(n){return n=n.prototype,!(!n||!n.isReactComponent)}function xn(n,s){var o=n.alternate;return o===null?(o=Dt(n.tag,s,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=s,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,s=n.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function Df(n,s){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,s=o.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Cr(n,s,o,c,h,y){var C=0;if(c=n,typeof n=="function")_l(n)&&(C=1);else if(typeof n=="string")C=hv(n,o,he.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case P:return n=Dt(31,o,s,h),n.elementType=P,n.lanes=y,n;case T:return gi(o.children,h,y,s);case E:C=8,h|=24;break;case A:return n=Dt(12,o,s,h|2),n.elementType=A,n.lanes=y,n;case F:return n=Dt(13,o,s,h),n.elementType=F,n.lanes=y,n;case H:return n=Dt(19,o,s,h),n.elementType=H,n.lanes=y,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case _:case U:C=10;break e;case L:C=9;break e;case O:C=11;break e;case j:C=14;break e;case z:C=16,c=null;break e}C=29,o=Error(a(130,n===null?"null":typeof n,"")),c=null}return s=Dt(C,o,s,h),s.elementType=n,s.type=c,s.lanes=y,s}function gi(n,s,o,c){return n=Dt(7,n,c,s),n.lanes=o,n}function Ml(n,s,o){return n=Dt(6,n,null,s),n.lanes=o,n}function kl(n,s,o){return s=Dt(4,n.children!==null?n.children:[],n.key,s),s.lanes=o,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var ns=[],is=0,Sr=null,Tr=0,zt=[],Ht=0,xi=null,yn=1,vn="";function yi(n,s){ns[is++]=Tr,ns[is++]=Sr,Sr=n,Tr=s}function jf(n,s,o){zt[Ht++]=yn,zt[Ht++]=vn,zt[Ht++]=xi,xi=n;var c=yn;n=vn;var h=32-kt(c)-1;c&=~(1<<h),o+=1;var y=32-kt(s)+h;if(30<y){var C=h-h%5;y=(c&(1<<C)-1).toString(32),c>>=C,h-=C,yn=1<<32-kt(s)+h|o<<h|c,vn=y+n}else yn=1<<y|o<<h|c,vn=n}function Rl(n){n.return!==null&&(yi(n,1),jf(n,1,0))}function Dl(n){for(;n===Sr;)Sr=ns[--is],ns[is]=null,Tr=ns[--is],ns[is]=null;for(;n===xi;)xi=zt[--Ht],zt[Ht]=null,vn=zt[--Ht],zt[Ht]=null,yn=zt[--Ht],zt[Ht]=null}var wt=null,Xe=null,Ue=!1,vi=null,sn=!1,jl=Error(a(519));function bi(n){var s=Error(a(418,""));throw sa(qt(s,n)),jl}function If(n){var s=n.stateNode,o=n.type,c=n.memoizedProps;switch(s[yt]=n,s[Tt]=c,o){case"dialog":Me("cancel",s),Me("close",s);break;case"iframe":case"object":case"embed":Me("load",s);break;case"video":case"audio":for(o=0;o<_a.length;o++)Me(_a[o],s);break;case"source":Me("error",s);break;case"img":case"image":case"link":Me("error",s),Me("load",s);break;case"details":Me("toggle",s);break;case"input":Me("invalid",s),Zd(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),ur(s);break;case"select":Me("invalid",s);break;case"textarea":Me("invalid",s),Qd(s,c.value,c.defaultValue,c.children),ur(s)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||Kh(s.textContent,o)?(c.popover!=null&&(Me("beforetoggle",s),Me("toggle",s)),c.onScroll!=null&&Me("scroll",s),c.onScrollEnd!=null&&Me("scrollend",s),c.onClick!=null&&(s.onclick=so),s=!0):s=!1,s||bi(n)}function Lf(n){for(wt=n.return;wt;)switch(wt.tag){case 5:case 13:sn=!1;return;case 27:case 3:sn=!0;return;default:wt=wt.return}}function na(n){if(n!==wt)return!1;if(!Ue)return Lf(n),Ue=!0,!1;var s=n.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||Jc(n.type,n.memoizedProps)),o=!o),o&&Xe&&bi(n),Lf(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8)if(o=n.data,o==="/$"){if(s===0){Xe=Kt(n.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;n=n.nextSibling}Xe=null}}else s===27?(s=Xe,Xn(n.type)?(n=Xc,Xc=null,Xe=n):Xe=s):Xe=wt?Kt(n.stateNode.nextSibling):null;return!0}function ia(){Xe=wt=null,Ue=!1}function Uf(){var n=vi;return n!==null&&(_t===null?_t=n:_t.push.apply(_t,n),vi=null),n}function sa(n){vi===null?vi=[n]:vi.push(n)}var Il=ee(null),wi=null,bn=null;function Bn(n,s,o){se(Il,s._currentValue),s._currentValue=o}function wn(n){n._currentValue=Il.current,ae(Il)}function Ll(n,s,o){for(;n!==null;){var c=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),n===o)break;n=n.return}}function Ul(n,s,o,c){var h=n.child;for(h!==null&&(h.return=n);h!==null;){var y=h.dependencies;if(y!==null){var C=h.child;y=y.firstContext;e:for(;y!==null;){var N=y;y=h;for(var k=0;k<s.length;k++)if(N.context===s[k]){y.lanes|=o,N=y.alternate,N!==null&&(N.lanes|=o),Ll(y.return,o,n),c||(C=null);break e}y=N.next}}else if(h.tag===18){if(C=h.return,C===null)throw Error(a(341));C.lanes|=o,y=C.alternate,y!==null&&(y.lanes|=o),Ll(C,o,n),C=null}else C=h.child;if(C!==null)C.return=h;else for(C=h;C!==null;){if(C===n){C=null;break}if(h=C.sibling,h!==null){h.return=C.return,C=h;break}C=C.return}h=C}}function aa(n,s,o,c){n=null;for(var h=s,y=!1;h!==null;){if(!y){if((h.flags&524288)!==0)y=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var C=h.alternate;if(C===null)throw Error(a(387));if(C=C.memoizedProps,C!==null){var N=h.type;Rt(h.pendingProps.value,C.value)||(n!==null?n.push(N):n=[N])}}else if(h===Ye.current){if(C=h.alternate,C===null)throw Error(a(387));C.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(n!==null?n.push(Ia):n=[Ia])}h=h.return}n!==null&&Ul(s,n,o,c),s.flags|=262144}function Nr(n){for(n=n.firstContext;n!==null;){if(!Rt(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ci(n){wi=n,bn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function vt(n){return Pf(wi,n)}function Er(n,s){return wi===null&&Ci(n),Pf(n,s)}function Pf(n,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},bn===null){if(n===null)throw Error(a(308));bn=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else bn=bn.next=s;return o}var m1=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(o,c){n.push(c)}};this.abort=function(){s.aborted=!0,n.forEach(function(o){return o()})}},h1=t.unstable_scheduleCallback,p1=t.unstable_NormalPriority,ot={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pl(){return{controller:new m1,data:new Map,refCount:0}}function ra(n){n.refCount--,n.refCount===0&&h1(p1,function(){n.controller.abort()})}var oa=null,Bl=0,ss=0,as=null;function g1(n,s){if(oa===null){var o=oa=[];Bl=0,ss=Vc(),as={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Bl++,s.then(Bf,Bf),s}function Bf(){if(--Bl===0&&oa!==null){as!==null&&(as.status="fulfilled");var n=oa;oa=null,ss=0,as=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function x1(n,s){var o=[],c={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return n.then(function(){c.status="fulfilled",c.value=s;for(var h=0;h<o.length;h++)(0,o[h])(s)},function(h){for(c.status="rejected",c.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),c}var Of=I.S;I.S=function(n,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&g1(n,s),Of!==null&&Of(n,s)};var Si=ee(null);function Ol(){var n=Si.current;return n!==null?n:Ge.pooledCache}function Ar(n,s){s===null?se(Si,Si.current):se(Si,s.pool)}function Vf(){var n=Ol();return n===null?null:{parent:ot._currentValue,pool:n}}var la=Error(a(460)),qf=Error(a(474)),_r=Error(a(542)),Vl={then:function(){}};function $f(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Mr(){}function zf(n,s,o){switch(o=n[o],o===void 0?n.push(s):o!==s&&(s.then(Mr,Mr),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Gf(n),n;default:if(typeof s.status=="string")s.then(Mr,Mr);else{if(n=Ge,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=s,n.status="pending",n.then(function(c){if(s.status==="pending"){var h=s;h.status="fulfilled",h.value=c}},function(c){if(s.status==="pending"){var h=s;h.status="rejected",h.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Gf(n),n}throw ca=s,la}}var ca=null;function Hf(){if(ca===null)throw Error(a(459));var n=ca;return ca=null,n}function Gf(n){if(n===la||n===_r)throw Error(a(483))}var On=!1;function ql(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $l(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Vn(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function qn(n,s,o){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Be&2)!==0){var h=c.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),c.pending=s,s=wr(n),Rf(n,null,o),s}return br(n,c,s,o),wr(n)}function ua(n,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var c=s.lanes;c&=n.pendingLanes,o|=c,s.lanes=o,Pd(n,o)}}function zl(n,s){var o=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var h=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var C={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?h=y=C:y=y.next=C,o=o.next}while(o!==null);y===null?h=y=s:y=y.next=s}else h=y=s;o={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=s:n.next=s,o.lastBaseUpdate=s}var Hl=!1;function da(){if(Hl){var n=as;if(n!==null)throw n}}function fa(n,s,o,c){Hl=!1;var h=n.updateQueue;On=!1;var y=h.firstBaseUpdate,C=h.lastBaseUpdate,N=h.shared.pending;if(N!==null){h.shared.pending=null;var k=N,q=k.next;k.next=null,C===null?y=q:C.next=q,C=k;var Q=n.alternate;Q!==null&&(Q=Q.updateQueue,N=Q.lastBaseUpdate,N!==C&&(N===null?Q.firstBaseUpdate=q:N.next=q,Q.lastBaseUpdate=k))}if(y!==null){var te=h.baseState;C=0,Q=q=k=null,N=y;do{var $=N.lane&-536870913,G=$!==N.lane;if(G?(De&$)===$:(c&$)===$){$!==0&&$===ss&&(Hl=!0),Q!==null&&(Q=Q.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var ye=n,pe=N;$=s;var $e=o;switch(pe.tag){case 1:if(ye=pe.payload,typeof ye=="function"){te=ye.call($e,te,$);break e}te=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=pe.payload,$=typeof ye=="function"?ye.call($e,te,$):ye,$==null)break e;te=v({},te,$);break e;case 2:On=!0}}$=N.callback,$!==null&&(n.flags|=64,G&&(n.flags|=8192),G=h.callbacks,G===null?h.callbacks=[$]:G.push($))}else G={lane:$,tag:N.tag,payload:N.payload,callback:N.callback,next:null},Q===null?(q=Q=G,k=te):Q=Q.next=G,C|=$;if(N=N.next,N===null){if(N=h.shared.pending,N===null)break;G=N,N=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);Q===null&&(k=te),h.baseState=k,h.firstBaseUpdate=q,h.lastBaseUpdate=Q,y===null&&(h.shared.lanes=0),Jn|=C,n.lanes=C,n.memoizedState=te}}function Ff(n,s){if(typeof n!="function")throw Error(a(191,n));n.call(s)}function Yf(n,s){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)Ff(o[n],s)}var rs=ee(null),kr=ee(0);function Zf(n,s){n=_n,se(kr,n),se(rs,s),_n=n|s.baseLanes}function Gl(){se(kr,_n),se(rs,rs.current)}function Fl(){_n=kr.current,ae(rs),ae(kr)}var $n=0,Ne=null,Ve=null,it=null,Rr=!1,os=!1,Ti=!1,Dr=0,ma=0,ls=null,y1=0;function tt(){throw Error(a(321))}function Yl(n,s){if(s===null)return!1;for(var o=0;o<s.length&&o<n.length;o++)if(!Rt(n[o],s[o]))return!1;return!0}function Zl(n,s,o,c,h,y){return $n=y,Ne=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,I.H=n===null||n.memoizedState===null?Rm:Dm,Ti=!1,y=o(c,h),Ti=!1,os&&(y=Qf(s,o,c,h)),Jf(n),y}function Jf(n){I.H=Br;var s=Ve!==null&&Ve.next!==null;if($n=0,it=Ve=Ne=null,Rr=!1,ma=0,ls=null,s)throw Error(a(300));n===null||dt||(n=n.dependencies,n!==null&&Nr(n)&&(dt=!0))}function Qf(n,s,o,c){Ne=n;var h=0;do{if(os&&(ls=null),ma=0,os=!1,25<=h)throw Error(a(301));if(h+=1,it=Ve=null,n.updateQueue!=null){var y=n.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}I.H=N1,y=s(o,c)}while(os);return y}function v1(){var n=I.H,s=n.useState()[0];return s=typeof s.then=="function"?ha(s):s,n=n.useState()[0],(Ve!==null?Ve.memoizedState:null)!==n&&(Ne.flags|=1024),s}function Jl(){var n=Dr!==0;return Dr=0,n}function Ql(n,s,o){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~o}function Kl(n){if(Rr){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Rr=!1}$n=0,it=Ve=Ne=null,os=!1,ma=Dr=0,ls=null}function Et(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?Ne.memoizedState=it=n:it=it.next=n,it}function st(){if(Ve===null){var n=Ne.alternate;n=n!==null?n.memoizedState:null}else n=Ve.next;var s=it===null?Ne.memoizedState:it.next;if(s!==null)it=s,Ve=n;else{if(n===null)throw Ne.alternate===null?Error(a(467)):Error(a(310));Ve=n,n={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},it===null?Ne.memoizedState=it=n:it=it.next=n}return it}function Wl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ha(n){var s=ma;return ma+=1,ls===null&&(ls=[]),n=zf(ls,n,s),s=Ne,(it===null?s.memoizedState:it.next)===null&&(s=s.alternate,I.H=s===null||s.memoizedState===null?Rm:Dm),n}function jr(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return ha(n);if(n.$$typeof===U)return vt(n)}throw Error(a(438,String(n)))}function Xl(n){var s=null,o=Ne.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=Ne.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(h){return h.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Wl(),Ne.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(n),c=0;c<n;c++)o[c]=J;return s.index++,o}function Cn(n,s){return typeof s=="function"?s(n):s}function Ir(n){var s=st();return ec(s,Ve,n)}function ec(n,s,o){var c=n.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=o;var h=n.baseQueue,y=c.pending;if(y!==null){if(h!==null){var C=h.next;h.next=y.next,y.next=C}s.baseQueue=h=y,c.pending=null}if(y=n.baseState,h===null)n.memoizedState=y;else{s=h.next;var N=C=null,k=null,q=s,Q=!1;do{var te=q.lane&-536870913;if(te!==q.lane?(De&te)===te:($n&te)===te){var $=q.revertLane;if($===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),te===ss&&(Q=!0);else if(($n&$)===$){q=q.next,$===ss&&(Q=!0);continue}else te={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},k===null?(N=k=te,C=y):k=k.next=te,Ne.lanes|=$,Jn|=$;te=q.action,Ti&&o(y,te),y=q.hasEagerState?q.eagerState:o(y,te)}else $={lane:te,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},k===null?(N=k=$,C=y):k=k.next=$,Ne.lanes|=te,Jn|=te;q=q.next}while(q!==null&&q!==s);if(k===null?C=y:k.next=N,!Rt(y,n.memoizedState)&&(dt=!0,Q&&(o=as,o!==null)))throw o;n.memoizedState=y,n.baseState=C,n.baseQueue=k,c.lastRenderedState=y}return h===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function tc(n){var s=st(),o=s.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=n;var c=o.dispatch,h=o.pending,y=s.memoizedState;if(h!==null){o.pending=null;var C=h=h.next;do y=n(y,C.action),C=C.next;while(C!==h);Rt(y,s.memoizedState)||(dt=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),o.lastRenderedState=y}return[y,c]}function Kf(n,s,o){var c=Ne,h=st(),y=Ue;if(y){if(o===void 0)throw Error(a(407));o=o()}else o=s();var C=!Rt((Ve||h).memoizedState,o);C&&(h.memoizedState=o,dt=!0),h=h.queue;var N=em.bind(null,c,h,n);if(pa(2048,8,N,[n]),h.getSnapshot!==s||C||it!==null&&it.memoizedState.tag&1){if(c.flags|=2048,cs(9,Lr(),Xf.bind(null,c,h,o,s),null),Ge===null)throw Error(a(349));y||($n&124)!==0||Wf(c,s,o)}return o}function Wf(n,s,o){n.flags|=16384,n={getSnapshot:s,value:o},s=Ne.updateQueue,s===null?(s=Wl(),Ne.updateQueue=s,s.stores=[n]):(o=s.stores,o===null?s.stores=[n]:o.push(n))}function Xf(n,s,o,c){s.value=o,s.getSnapshot=c,tm(s)&&nm(n)}function em(n,s,o){return o(function(){tm(s)&&nm(n)})}function tm(n){var s=n.getSnapshot;n=n.value;try{var o=s();return!Rt(n,o)}catch{return!0}}function nm(n){var s=es(n,2);s!==null&&Pt(s,n,2)}function nc(n){var s=Et();if(typeof n=="function"){var o=n;if(n=o(),Ti){Ln(!0);try{o()}finally{Ln(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:n},s}function im(n,s,o,c){return n.baseState=o,ec(n,Ve,typeof c=="function"?c:Cn)}function b1(n,s,o,c,h){if(Pr(n))throw Error(a(485));if(n=s.action,n!==null){var y={payload:h,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){y.listeners.push(C)}};I.T!==null?o(!0):y.isTransition=!1,c(y),o=s.pending,o===null?(y.next=s.pending=y,sm(s,y)):(y.next=o.next,s.pending=o.next=y)}}function sm(n,s){var o=s.action,c=s.payload,h=n.state;if(s.isTransition){var y=I.T,C={};I.T=C;try{var N=o(h,c),k=I.S;k!==null&&k(C,N),am(n,s,N)}catch(q){ic(n,s,q)}finally{I.T=y}}else try{y=o(h,c),am(n,s,y)}catch(q){ic(n,s,q)}}function am(n,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){rm(n,s,c)},function(c){return ic(n,s,c)}):rm(n,s,o)}function rm(n,s,o){s.status="fulfilled",s.value=o,om(s),n.state=o,s=n.pending,s!==null&&(o=s.next,o===s?n.pending=null:(o=o.next,s.next=o,sm(n,o)))}function ic(n,s,o){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,om(s),s=s.next;while(s!==c)}n.action=null}function om(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function lm(n,s){return s}function cm(n,s){if(Ue){var o=Ge.formState;if(o!==null){e:{var c=Ne;if(Ue){if(Xe){t:{for(var h=Xe,y=sn;h.nodeType!==8;){if(!y){h=null;break t}if(h=Kt(h.nextSibling),h===null){h=null;break t}}y=h.data,h=y==="F!"||y==="F"?h:null}if(h){Xe=Kt(h.nextSibling),c=h.data==="F!";break e}}bi(c)}c=!1}c&&(s=o[0])}}return o=Et(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lm,lastRenderedState:s},o.queue=c,o=_m.bind(null,Ne,c),c.dispatch=o,c=nc(!1),y=lc.bind(null,Ne,!1,c.queue),c=Et(),h={state:s,dispatch:null,action:n,pending:null},c.queue=h,o=b1.bind(null,Ne,h,y,o),h.dispatch=o,c.memoizedState=n,[s,o,!1]}function um(n){var s=st();return dm(s,Ve,n)}function dm(n,s,o){if(s=ec(n,s,lm)[0],n=Ir(Cn)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=ha(s)}catch(C){throw C===la?_r:C}else c=s;s=st();var h=s.queue,y=h.dispatch;return o!==s.memoizedState&&(Ne.flags|=2048,cs(9,Lr(),w1.bind(null,h,o),null)),[c,y,n]}function w1(n,s){n.action=s}function fm(n){var s=st(),o=Ve;if(o!==null)return dm(s,o,n);st(),s=s.memoizedState,o=st();var c=o.queue.dispatch;return o.memoizedState=n,[s,c,!1]}function cs(n,s,o,c){return n={tag:n,create:o,deps:c,inst:s,next:null},s=Ne.updateQueue,s===null&&(s=Wl(),Ne.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=n.next=n:(c=o.next,o.next=n,n.next=c,s.lastEffect=n),n}function Lr(){return{destroy:void 0,resource:void 0}}function mm(){return st().memoizedState}function Ur(n,s,o,c){var h=Et();c=c===void 0?null:c,Ne.flags|=n,h.memoizedState=cs(1|s,Lr(),o,c)}function pa(n,s,o,c){var h=st();c=c===void 0?null:c;var y=h.memoizedState.inst;Ve!==null&&c!==null&&Yl(c,Ve.memoizedState.deps)?h.memoizedState=cs(s,y,o,c):(Ne.flags|=n,h.memoizedState=cs(1|s,y,o,c))}function hm(n,s){Ur(8390656,8,n,s)}function pm(n,s){pa(2048,8,n,s)}function gm(n,s){return pa(4,2,n,s)}function xm(n,s){return pa(4,4,n,s)}function ym(n,s){if(typeof s=="function"){n=n();var o=s(n);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function vm(n,s,o){o=o!=null?o.concat([n]):null,pa(4,4,ym.bind(null,s,n),o)}function sc(){}function bm(n,s){var o=st();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&Yl(s,c[1])?c[0]:(o.memoizedState=[n,s],n)}function wm(n,s){var o=st();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&Yl(s,c[1]))return c[0];if(c=n(),Ti){Ln(!0);try{n()}finally{Ln(!1)}}return o.memoizedState=[c,s],c}function ac(n,s,o){return o===void 0||($n&1073741824)!==0?n.memoizedState=s:(n.memoizedState=o,n=Th(),Ne.lanes|=n,Jn|=n,o)}function Cm(n,s,o,c){return Rt(o,s)?o:rs.current!==null?(n=ac(n,o,c),Rt(n,s)||(dt=!0),n):($n&42)===0?(dt=!0,n.memoizedState=o):(n=Th(),Ne.lanes|=n,Jn|=n,s)}function Sm(n,s,o,c,h){var y=Z.p;Z.p=y!==0&&8>y?y:8;var C=I.T,N={};I.T=N,lc(n,!1,s,o);try{var k=h(),q=I.S;if(q!==null&&q(N,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var Q=x1(k,c);ga(n,s,Q,Ut(n))}else ga(n,s,c,Ut(n))}catch(te){ga(n,s,{then:function(){},status:"rejected",reason:te},Ut())}finally{Z.p=y,I.T=C}}function C1(){}function rc(n,s,o,c){if(n.tag!==5)throw Error(a(476));var h=Tm(n).queue;Sm(n,h,s,oe,o===null?C1:function(){return Nm(n),o(c)})}function Tm(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:oe},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cn,lastRenderedState:o},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function Nm(n){var s=Tm(n).next.queue;ga(n,s,{},Ut())}function oc(){return vt(Ia)}function Em(){return st().memoizedState}function Am(){return st().memoizedState}function S1(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var o=Ut();n=Vn(o);var c=qn(s,n,o);c!==null&&(Pt(c,s,o),ua(c,s,o)),s={cache:Pl()},n.payload=s;return}s=s.return}}function T1(n,s,o){var c=Ut();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Pr(n)?Mm(s,o):(o=Al(n,s,o,c),o!==null&&(Pt(o,n,c),km(o,s,c)))}function _m(n,s,o){var c=Ut();ga(n,s,o,c)}function ga(n,s,o,c){var h={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Pr(n))Mm(s,h);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var C=s.lastRenderedState,N=y(C,o);if(h.hasEagerState=!0,h.eagerState=N,Rt(N,C))return br(n,s,h,0),Ge===null&&vr(),!1}catch{}finally{}if(o=Al(n,s,h,c),o!==null)return Pt(o,n,c),km(o,s,c),!0}return!1}function lc(n,s,o,c){if(c={lane:2,revertLane:Vc(),action:c,hasEagerState:!1,eagerState:null,next:null},Pr(n)){if(s)throw Error(a(479))}else s=Al(n,o,c,2),s!==null&&Pt(s,n,2)}function Pr(n){var s=n.alternate;return n===Ne||s!==null&&s===Ne}function Mm(n,s){os=Rr=!0;var o=n.pending;o===null?s.next=s:(s.next=o.next,o.next=s),n.pending=s}function km(n,s,o){if((o&4194048)!==0){var c=s.lanes;c&=n.pendingLanes,o|=c,s.lanes=o,Pd(n,o)}}var Br={readContext:vt,use:jr,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useLayoutEffect:tt,useInsertionEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useSyncExternalStore:tt,useId:tt,useHostTransitionStatus:tt,useFormState:tt,useActionState:tt,useOptimistic:tt,useMemoCache:tt,useCacheRefresh:tt},Rm={readContext:vt,use:jr,useCallback:function(n,s){return Et().memoizedState=[n,s===void 0?null:s],n},useContext:vt,useEffect:hm,useImperativeHandle:function(n,s,o){o=o!=null?o.concat([n]):null,Ur(4194308,4,ym.bind(null,s,n),o)},useLayoutEffect:function(n,s){return Ur(4194308,4,n,s)},useInsertionEffect:function(n,s){Ur(4,2,n,s)},useMemo:function(n,s){var o=Et();s=s===void 0?null:s;var c=n();if(Ti){Ln(!0);try{n()}finally{Ln(!1)}}return o.memoizedState=[c,s],c},useReducer:function(n,s,o){var c=Et();if(o!==void 0){var h=o(s);if(Ti){Ln(!0);try{o(s)}finally{Ln(!1)}}}else h=s;return c.memoizedState=c.baseState=h,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:h},c.queue=n,n=n.dispatch=T1.bind(null,Ne,n),[c.memoizedState,n]},useRef:function(n){var s=Et();return n={current:n},s.memoizedState=n},useState:function(n){n=nc(n);var s=n.queue,o=_m.bind(null,Ne,s);return s.dispatch=o,[n.memoizedState,o]},useDebugValue:sc,useDeferredValue:function(n,s){var o=Et();return ac(o,n,s)},useTransition:function(){var n=nc(!1);return n=Sm.bind(null,Ne,n.queue,!0,!1),Et().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,o){var c=Ne,h=Et();if(Ue){if(o===void 0)throw Error(a(407));o=o()}else{if(o=s(),Ge===null)throw Error(a(349));(De&124)!==0||Wf(c,s,o)}h.memoizedState=o;var y={value:o,getSnapshot:s};return h.queue=y,hm(em.bind(null,c,y,n),[n]),c.flags|=2048,cs(9,Lr(),Xf.bind(null,c,y,o,s),null),o},useId:function(){var n=Et(),s=Ge.identifierPrefix;if(Ue){var o=vn,c=yn;o=(c&~(1<<32-kt(c)-1)).toString(32)+o,s=""+s+"R"+o,o=Dr++,0<o&&(s+="H"+o.toString(32)),s+=""}else o=y1++,s=""+s+"r"+o.toString(32)+"";return n.memoizedState=s},useHostTransitionStatus:oc,useFormState:cm,useActionState:cm,useOptimistic:function(n){var s=Et();s.memoizedState=s.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=lc.bind(null,Ne,!0,o),o.dispatch=s,[n,s]},useMemoCache:Xl,useCacheRefresh:function(){return Et().memoizedState=S1.bind(null,Ne)}},Dm={readContext:vt,use:jr,useCallback:bm,useContext:vt,useEffect:pm,useImperativeHandle:vm,useInsertionEffect:gm,useLayoutEffect:xm,useMemo:wm,useReducer:Ir,useRef:mm,useState:function(){return Ir(Cn)},useDebugValue:sc,useDeferredValue:function(n,s){var o=st();return Cm(o,Ve.memoizedState,n,s)},useTransition:function(){var n=Ir(Cn)[0],s=st().memoizedState;return[typeof n=="boolean"?n:ha(n),s]},useSyncExternalStore:Kf,useId:Em,useHostTransitionStatus:oc,useFormState:um,useActionState:um,useOptimistic:function(n,s){var o=st();return im(o,Ve,n,s)},useMemoCache:Xl,useCacheRefresh:Am},N1={readContext:vt,use:jr,useCallback:bm,useContext:vt,useEffect:pm,useImperativeHandle:vm,useInsertionEffect:gm,useLayoutEffect:xm,useMemo:wm,useReducer:tc,useRef:mm,useState:function(){return tc(Cn)},useDebugValue:sc,useDeferredValue:function(n,s){var o=st();return Ve===null?ac(o,n,s):Cm(o,Ve.memoizedState,n,s)},useTransition:function(){var n=tc(Cn)[0],s=st().memoizedState;return[typeof n=="boolean"?n:ha(n),s]},useSyncExternalStore:Kf,useId:Em,useHostTransitionStatus:oc,useFormState:fm,useActionState:fm,useOptimistic:function(n,s){var o=st();return Ve!==null?im(o,Ve,n,s):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:Xl,useCacheRefresh:Am},us=null,xa=0;function Or(n){var s=xa;return xa+=1,us===null&&(us=[]),zf(us,n,s)}function ya(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Vr(n,s){throw s.$$typeof===b?Error(a(525)):(n=Object.prototype.toString.call(s),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function jm(n){var s=n._init;return s(n._payload)}function Im(n){function s(B,D){if(n){var V=B.deletions;V===null?(B.deletions=[D],B.flags|=16):V.push(D)}}function o(B,D){if(!n)return null;for(;D!==null;)s(B,D),D=D.sibling;return null}function c(B){for(var D=new Map;B!==null;)B.key!==null?D.set(B.key,B):D.set(B.index,B),B=B.sibling;return D}function h(B,D){return B=xn(B,D),B.index=0,B.sibling=null,B}function y(B,D,V){return B.index=V,n?(V=B.alternate,V!==null?(V=V.index,V<D?(B.flags|=67108866,D):V):(B.flags|=67108866,D)):(B.flags|=1048576,D)}function C(B){return n&&B.alternate===null&&(B.flags|=67108866),B}function N(B,D,V,X){return D===null||D.tag!==6?(D=Ml(V,B.mode,X),D.return=B,D):(D=h(D,V),D.return=B,D)}function k(B,D,V,X){var ue=V.type;return ue===T?Q(B,D,V.props.children,X,V.key):D!==null&&(D.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===z&&jm(ue)===D.type)?(D=h(D,V.props),ya(D,V),D.return=B,D):(D=Cr(V.type,V.key,V.props,null,B.mode,X),ya(D,V),D.return=B,D)}function q(B,D,V,X){return D===null||D.tag!==4||D.stateNode.containerInfo!==V.containerInfo||D.stateNode.implementation!==V.implementation?(D=kl(V,B.mode,X),D.return=B,D):(D=h(D,V.children||[]),D.return=B,D)}function Q(B,D,V,X,ue){return D===null||D.tag!==7?(D=gi(V,B.mode,X,ue),D.return=B,D):(D=h(D,V),D.return=B,D)}function te(B,D,V){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Ml(""+D,B.mode,V),D.return=B,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case w:return V=Cr(D.type,D.key,D.props,null,B.mode,V),ya(V,D),V.return=B,V;case S:return D=kl(D,B.mode,V),D.return=B,D;case z:var X=D._init;return D=X(D._payload),te(B,D,V)}if(le(D)||W(D))return D=gi(D,B.mode,V,null),D.return=B,D;if(typeof D.then=="function")return te(B,Or(D),V);if(D.$$typeof===U)return te(B,Er(B,D),V);Vr(B,D)}return null}function $(B,D,V,X){var ue=D!==null?D.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return ue!==null?null:N(B,D,""+V,X);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case w:return V.key===ue?k(B,D,V,X):null;case S:return V.key===ue?q(B,D,V,X):null;case z:return ue=V._init,V=ue(V._payload),$(B,D,V,X)}if(le(V)||W(V))return ue!==null?null:Q(B,D,V,X,null);if(typeof V.then=="function")return $(B,D,Or(V),X);if(V.$$typeof===U)return $(B,D,Er(B,V),X);Vr(B,V)}return null}function G(B,D,V,X,ue){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return B=B.get(V)||null,N(D,B,""+X,ue);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case w:return B=B.get(X.key===null?V:X.key)||null,k(D,B,X,ue);case S:return B=B.get(X.key===null?V:X.key)||null,q(D,B,X,ue);case z:var Ae=X._init;return X=Ae(X._payload),G(B,D,V,X,ue)}if(le(X)||W(X))return B=B.get(V)||null,Q(D,B,X,ue,null);if(typeof X.then=="function")return G(B,D,V,Or(X),ue);if(X.$$typeof===U)return G(B,D,V,Er(D,X),ue);Vr(D,X)}return null}function ye(B,D,V,X){for(var ue=null,Ae=null,me=D,ge=D=0,mt=null;me!==null&&ge<V.length;ge++){me.index>ge?(mt=me,me=null):mt=me.sibling;var Ie=$(B,me,V[ge],X);if(Ie===null){me===null&&(me=mt);break}n&&me&&Ie.alternate===null&&s(B,me),D=y(Ie,D,ge),Ae===null?ue=Ie:Ae.sibling=Ie,Ae=Ie,me=mt}if(ge===V.length)return o(B,me),Ue&&yi(B,ge),ue;if(me===null){for(;ge<V.length;ge++)me=te(B,V[ge],X),me!==null&&(D=y(me,D,ge),Ae===null?ue=me:Ae.sibling=me,Ae=me);return Ue&&yi(B,ge),ue}for(me=c(me);ge<V.length;ge++)mt=G(me,B,ge,V[ge],X),mt!==null&&(n&&mt.alternate!==null&&me.delete(mt.key===null?ge:mt.key),D=y(mt,D,ge),Ae===null?ue=mt:Ae.sibling=mt,Ae=mt);return n&&me.forEach(function(si){return s(B,si)}),Ue&&yi(B,ge),ue}function pe(B,D,V,X){if(V==null)throw Error(a(151));for(var ue=null,Ae=null,me=D,ge=D=0,mt=null,Ie=V.next();me!==null&&!Ie.done;ge++,Ie=V.next()){me.index>ge?(mt=me,me=null):mt=me.sibling;var si=$(B,me,Ie.value,X);if(si===null){me===null&&(me=mt);break}n&&me&&si.alternate===null&&s(B,me),D=y(si,D,ge),Ae===null?ue=si:Ae.sibling=si,Ae=si,me=mt}if(Ie.done)return o(B,me),Ue&&yi(B,ge),ue;if(me===null){for(;!Ie.done;ge++,Ie=V.next())Ie=te(B,Ie.value,X),Ie!==null&&(D=y(Ie,D,ge),Ae===null?ue=Ie:Ae.sibling=Ie,Ae=Ie);return Ue&&yi(B,ge),ue}for(me=c(me);!Ie.done;ge++,Ie=V.next())Ie=G(me,B,ge,Ie.value,X),Ie!==null&&(n&&Ie.alternate!==null&&me.delete(Ie.key===null?ge:Ie.key),D=y(Ie,D,ge),Ae===null?ue=Ie:Ae.sibling=Ie,Ae=Ie);return n&&me.forEach(function(Ev){return s(B,Ev)}),Ue&&yi(B,ge),ue}function $e(B,D,V,X){if(typeof V=="object"&&V!==null&&V.type===T&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case w:e:{for(var ue=V.key;D!==null;){if(D.key===ue){if(ue=V.type,ue===T){if(D.tag===7){o(B,D.sibling),X=h(D,V.props.children),X.return=B,B=X;break e}}else if(D.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===z&&jm(ue)===D.type){o(B,D.sibling),X=h(D,V.props),ya(X,V),X.return=B,B=X;break e}o(B,D);break}else s(B,D);D=D.sibling}V.type===T?(X=gi(V.props.children,B.mode,X,V.key),X.return=B,B=X):(X=Cr(V.type,V.key,V.props,null,B.mode,X),ya(X,V),X.return=B,B=X)}return C(B);case S:e:{for(ue=V.key;D!==null;){if(D.key===ue)if(D.tag===4&&D.stateNode.containerInfo===V.containerInfo&&D.stateNode.implementation===V.implementation){o(B,D.sibling),X=h(D,V.children||[]),X.return=B,B=X;break e}else{o(B,D);break}else s(B,D);D=D.sibling}X=kl(V,B.mode,X),X.return=B,B=X}return C(B);case z:return ue=V._init,V=ue(V._payload),$e(B,D,V,X)}if(le(V))return ye(B,D,V,X);if(W(V)){if(ue=W(V),typeof ue!="function")throw Error(a(150));return V=ue.call(V),pe(B,D,V,X)}if(typeof V.then=="function")return $e(B,D,Or(V),X);if(V.$$typeof===U)return $e(B,D,Er(B,V),X);Vr(B,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,D!==null&&D.tag===6?(o(B,D.sibling),X=h(D,V),X.return=B,B=X):(o(B,D),X=Ml(V,B.mode,X),X.return=B,B=X),C(B)):o(B,D)}return function(B,D,V,X){try{xa=0;var ue=$e(B,D,V,X);return us=null,ue}catch(me){if(me===la||me===_r)throw me;var Ae=Dt(29,me,null,B.mode);return Ae.lanes=X,Ae.return=B,Ae}finally{}}}var ds=Im(!0),Lm=Im(!1),Gt=ee(null),an=null;function zn(n){var s=n.alternate;se(lt,lt.current&1),se(Gt,n),an===null&&(s===null||rs.current!==null||s.memoizedState!==null)&&(an=n)}function Um(n){if(n.tag===22){if(se(lt,lt.current),se(Gt,n),an===null){var s=n.alternate;s!==null&&s.memoizedState!==null&&(an=n)}}else Hn()}function Hn(){se(lt,lt.current),se(Gt,Gt.current)}function Sn(n){ae(Gt),an===n&&(an=null),ae(lt)}var lt=ee(0);function qr(n){for(var s=n;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Wc(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function cc(n,s,o,c){s=n.memoizedState,o=o(c,s),o=o==null?s:v({},s,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var uc={enqueueSetState:function(n,s,o){n=n._reactInternals;var c=Ut(),h=Vn(c);h.payload=s,o!=null&&(h.callback=o),s=qn(n,h,c),s!==null&&(Pt(s,n,c),ua(s,n,c))},enqueueReplaceState:function(n,s,o){n=n._reactInternals;var c=Ut(),h=Vn(c);h.tag=1,h.payload=s,o!=null&&(h.callback=o),s=qn(n,h,c),s!==null&&(Pt(s,n,c),ua(s,n,c))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var o=Ut(),c=Vn(o);c.tag=2,s!=null&&(c.callback=s),s=qn(n,c,o),s!==null&&(Pt(s,n,o),ua(s,n,o))}};function Pm(n,s,o,c,h,y,C){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,y,C):s.prototype&&s.prototype.isPureReactComponent?!ea(o,c)||!ea(h,y):!0}function Bm(n,s,o,c){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==n&&uc.enqueueReplaceState(s,s.state,null)}function Ni(n,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(n=n.defaultProps){o===s&&(o=v({},o));for(var h in n)o[h]===void 0&&(o[h]=n[h])}return o}var $r=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Om(n){$r(n)}function Vm(n){console.error(n)}function qm(n){$r(n)}function zr(n,s){try{var o=n.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function $m(n,s,o){try{var c=n.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function dc(n,s,o){return o=Vn(o),o.tag=3,o.payload={element:null},o.callback=function(){zr(n,s)},o}function zm(n){return n=Vn(n),n.tag=3,n}function Hm(n,s,o,c){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var y=c.value;n.payload=function(){return h(y)},n.callback=function(){$m(s,o,c)}}var C=o.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(n.callback=function(){$m(s,o,c),typeof h!="function"&&(Qn===null?Qn=new Set([this]):Qn.add(this));var N=c.stack;this.componentDidCatch(c.value,{componentStack:N!==null?N:""})})}function E1(n,s,o,c,h){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&aa(s,o,h,!0),o=Gt.current,o!==null){switch(o.tag){case 13:return an===null?Lc():o.alternate===null&&et===0&&(et=3),o.flags&=-257,o.flags|=65536,o.lanes=h,c===Vl?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),Pc(n,c,h)),!1;case 22:return o.flags|=65536,c===Vl?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),Pc(n,c,h)),!1}throw Error(a(435,o.tag))}return Pc(n,c,h),Lc(),!1}if(Ue)return s=Gt.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=h,c!==jl&&(n=Error(a(422),{cause:c}),sa(qt(n,o)))):(c!==jl&&(s=Error(a(423),{cause:c}),sa(qt(s,o))),n=n.current.alternate,n.flags|=65536,h&=-h,n.lanes|=h,c=qt(c,o),h=dc(n.stateNode,c,h),zl(n,h),et!==4&&(et=2)),!1;var y=Error(a(520),{cause:c});if(y=qt(y,o),Na===null?Na=[y]:Na.push(y),et!==4&&(et=2),s===null)return!0;c=qt(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,n=h&-h,o.lanes|=n,n=dc(o.stateNode,c,n),zl(o,n),!1;case 1:if(s=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Qn===null||!Qn.has(y))))return o.flags|=65536,h&=-h,o.lanes|=h,h=zm(h),Hm(h,n,o,c),zl(o,h),!1}o=o.return}while(o!==null);return!1}var Gm=Error(a(461)),dt=!1;function pt(n,s,o,c){s.child=n===null?Lm(s,null,o,c):ds(s,n.child,o,c)}function Fm(n,s,o,c,h){o=o.render;var y=s.ref;if("ref"in c){var C={};for(var N in c)N!=="ref"&&(C[N]=c[N])}else C=c;return Ci(s),c=Zl(n,s,o,C,y,h),N=Jl(),n!==null&&!dt?(Ql(n,s,h),Tn(n,s,h)):(Ue&&N&&Rl(s),s.flags|=1,pt(n,s,c,h),s.child)}function Ym(n,s,o,c,h){if(n===null){var y=o.type;return typeof y=="function"&&!_l(y)&&y.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=y,Zm(n,s,y,c,h)):(n=Cr(o.type,null,c,s,s.mode,h),n.ref=s.ref,n.return=s,s.child=n)}if(y=n.child,!vc(n,h)){var C=y.memoizedProps;if(o=o.compare,o=o!==null?o:ea,o(C,c)&&n.ref===s.ref)return Tn(n,s,h)}return s.flags|=1,n=xn(y,c),n.ref=s.ref,n.return=s,s.child=n}function Zm(n,s,o,c,h){if(n!==null){var y=n.memoizedProps;if(ea(y,c)&&n.ref===s.ref)if(dt=!1,s.pendingProps=c=y,vc(n,h))(n.flags&131072)!==0&&(dt=!0);else return s.lanes=n.lanes,Tn(n,s,h)}return fc(n,s,o,c,h)}function Jm(n,s,o){var c=s.pendingProps,h=c.children,y=n!==null?n.memoizedState:null;if(c.mode==="hidden"){if((s.flags&128)!==0){if(c=y!==null?y.baseLanes|o:o,n!==null){for(h=s.child=n.child,y=0;h!==null;)y=y|h.lanes|h.childLanes,h=h.sibling;s.childLanes=y&~c}else s.childLanes=0,s.child=null;return Qm(n,s,c,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Ar(s,y!==null?y.cachePool:null),y!==null?Zf(s,y):Gl(),Um(s);else return s.lanes=s.childLanes=536870912,Qm(n,s,y!==null?y.baseLanes|o:o,o)}else y!==null?(Ar(s,y.cachePool),Zf(s,y),Hn(),s.memoizedState=null):(n!==null&&Ar(s,null),Gl(),Hn());return pt(n,s,h,o),s.child}function Qm(n,s,o,c){var h=Ol();return h=h===null?null:{parent:ot._currentValue,pool:h},s.memoizedState={baseLanes:o,cachePool:h},n!==null&&Ar(s,null),Gl(),Um(s),n!==null&&aa(n,s,c,!0),null}function Hr(n,s){var o=s.ref;if(o===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(n===null||n.ref!==o)&&(s.flags|=4194816)}}function fc(n,s,o,c,h){return Ci(s),o=Zl(n,s,o,c,void 0,h),c=Jl(),n!==null&&!dt?(Ql(n,s,h),Tn(n,s,h)):(Ue&&c&&Rl(s),s.flags|=1,pt(n,s,o,h),s.child)}function Km(n,s,o,c,h,y){return Ci(s),s.updateQueue=null,o=Qf(s,c,o,h),Jf(n),c=Jl(),n!==null&&!dt?(Ql(n,s,y),Tn(n,s,y)):(Ue&&c&&Rl(s),s.flags|=1,pt(n,s,o,y),s.child)}function Wm(n,s,o,c,h){if(Ci(s),s.stateNode===null){var y=ts,C=o.contextType;typeof C=="object"&&C!==null&&(y=vt(C)),y=new o(c,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=uc,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=c,y.state=s.memoizedState,y.refs={},ql(s),C=o.contextType,y.context=typeof C=="object"&&C!==null?vt(C):ts,y.state=s.memoizedState,C=o.getDerivedStateFromProps,typeof C=="function"&&(cc(s,o,C,c),y.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(C=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),C!==y.state&&uc.enqueueReplaceState(y,y.state,null),fa(s,c,y,h),da(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(n===null){y=s.stateNode;var N=s.memoizedProps,k=Ni(o,N);y.props=k;var q=y.context,Q=o.contextType;C=ts,typeof Q=="object"&&Q!==null&&(C=vt(Q));var te=o.getDerivedStateFromProps;Q=typeof te=="function"||typeof y.getSnapshotBeforeUpdate=="function",N=s.pendingProps!==N,Q||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(N||q!==C)&&Bm(s,y,c,C),On=!1;var $=s.memoizedState;y.state=$,fa(s,c,y,h),da(),q=s.memoizedState,N||$!==q||On?(typeof te=="function"&&(cc(s,o,te,c),q=s.memoizedState),(k=On||Pm(s,o,k,c,$,q,C))?(Q||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=q),y.props=c,y.state=q,y.context=C,c=k):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{y=s.stateNode,$l(n,s),C=s.memoizedProps,Q=Ni(o,C),y.props=Q,te=s.pendingProps,$=y.context,q=o.contextType,k=ts,typeof q=="object"&&q!==null&&(k=vt(q)),N=o.getDerivedStateFromProps,(q=typeof N=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C!==te||$!==k)&&Bm(s,y,c,k),On=!1,$=s.memoizedState,y.state=$,fa(s,c,y,h),da();var G=s.memoizedState;C!==te||$!==G||On||n!==null&&n.dependencies!==null&&Nr(n.dependencies)?(typeof N=="function"&&(cc(s,o,N,c),G=s.memoizedState),(Q=On||Pm(s,o,Q,c,$,G,k)||n!==null&&n.dependencies!==null&&Nr(n.dependencies))?(q||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,G,k),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,G,k)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||C===n.memoizedProps&&$===n.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&$===n.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=G),y.props=c,y.state=G,y.context=k,c=Q):(typeof y.componentDidUpdate!="function"||C===n.memoizedProps&&$===n.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||C===n.memoizedProps&&$===n.memoizedState||(s.flags|=1024),c=!1)}return y=c,Hr(n,s),c=(s.flags&128)!==0,y||c?(y=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,n!==null&&c?(s.child=ds(s,n.child,null,h),s.child=ds(s,null,o,h)):pt(n,s,o,h),s.memoizedState=y.state,n=s.child):n=Tn(n,s,h),n}function Xm(n,s,o,c){return ia(),s.flags|=256,pt(n,s,o,c),s.child}var mc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hc(n){return{baseLanes:n,cachePool:Vf()}}function pc(n,s,o){return n=n!==null?n.childLanes&~o:0,s&&(n|=Ft),n}function eh(n,s,o){var c=s.pendingProps,h=!1,y=(s.flags&128)!==0,C;if((C=y)||(C=n!==null&&n.memoizedState===null?!1:(lt.current&2)!==0),C&&(h=!0,s.flags&=-129),C=(s.flags&32)!==0,s.flags&=-33,n===null){if(Ue){if(h?zn(s):Hn(),Ue){var N=Xe,k;if(k=N){e:{for(k=N,N=sn;k.nodeType!==8;){if(!N){N=null;break e}if(k=Kt(k.nextSibling),k===null){N=null;break e}}N=k}N!==null?(s.memoizedState={dehydrated:N,treeContext:xi!==null?{id:yn,overflow:vn}:null,retryLane:536870912,hydrationErrors:null},k=Dt(18,null,null,0),k.stateNode=N,k.return=s,s.child=k,wt=s,Xe=null,k=!0):k=!1}k||bi(s)}if(N=s.memoizedState,N!==null&&(N=N.dehydrated,N!==null))return Wc(N)?s.lanes=32:s.lanes=536870912,null;Sn(s)}return N=c.children,c=c.fallback,h?(Hn(),h=s.mode,N=Gr({mode:"hidden",children:N},h),c=gi(c,h,o,null),N.return=s,c.return=s,N.sibling=c,s.child=N,h=s.child,h.memoizedState=hc(o),h.childLanes=pc(n,C,o),s.memoizedState=mc,c):(zn(s),gc(s,N))}if(k=n.memoizedState,k!==null&&(N=k.dehydrated,N!==null)){if(y)s.flags&256?(zn(s),s.flags&=-257,s=xc(n,s,o)):s.memoizedState!==null?(Hn(),s.child=n.child,s.flags|=128,s=null):(Hn(),h=c.fallback,N=s.mode,c=Gr({mode:"visible",children:c.children},N),h=gi(h,N,o,null),h.flags|=2,c.return=s,h.return=s,c.sibling=h,s.child=c,ds(s,n.child,null,o),c=s.child,c.memoizedState=hc(o),c.childLanes=pc(n,C,o),s.memoizedState=mc,s=h);else if(zn(s),Wc(N)){if(C=N.nextSibling&&N.nextSibling.dataset,C)var q=C.dgst;C=q,c=Error(a(419)),c.stack="",c.digest=C,sa({value:c,source:null,stack:null}),s=xc(n,s,o)}else if(dt||aa(n,s,o,!1),C=(o&n.childLanes)!==0,dt||C){if(C=Ge,C!==null&&(c=o&-o,c=(c&42)!==0?1:Xo(c),c=(c&(C.suspendedLanes|o))!==0?0:c,c!==0&&c!==k.retryLane))throw k.retryLane=c,es(n,c),Pt(C,n,c),Gm;N.data==="$?"||Lc(),s=xc(n,s,o)}else N.data==="$?"?(s.flags|=192,s.child=n.child,s=null):(n=k.treeContext,Xe=Kt(N.nextSibling),wt=s,Ue=!0,vi=null,sn=!1,n!==null&&(zt[Ht++]=yn,zt[Ht++]=vn,zt[Ht++]=xi,yn=n.id,vn=n.overflow,xi=s),s=gc(s,c.children),s.flags|=4096);return s}return h?(Hn(),h=c.fallback,N=s.mode,k=n.child,q=k.sibling,c=xn(k,{mode:"hidden",children:c.children}),c.subtreeFlags=k.subtreeFlags&65011712,q!==null?h=xn(q,h):(h=gi(h,N,o,null),h.flags|=2),h.return=s,c.return=s,c.sibling=h,s.child=c,c=h,h=s.child,N=n.child.memoizedState,N===null?N=hc(o):(k=N.cachePool,k!==null?(q=ot._currentValue,k=k.parent!==q?{parent:q,pool:q}:k):k=Vf(),N={baseLanes:N.baseLanes|o,cachePool:k}),h.memoizedState=N,h.childLanes=pc(n,C,o),s.memoizedState=mc,c):(zn(s),o=n.child,n=o.sibling,o=xn(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,n!==null&&(C=s.deletions,C===null?(s.deletions=[n],s.flags|=16):C.push(n)),s.child=o,s.memoizedState=null,o)}function gc(n,s){return s=Gr({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Gr(n,s){return n=Dt(22,n,null,s),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function xc(n,s,o){return ds(s,n.child,null,o),n=gc(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function th(n,s,o){n.lanes|=s;var c=n.alternate;c!==null&&(c.lanes|=s),Ll(n.return,s,o)}function yc(n,s,o,c,h){var y=n.memoizedState;y===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:h}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=o,y.tailMode=h)}function nh(n,s,o){var c=s.pendingProps,h=c.revealOrder,y=c.tail;if(pt(n,s,c.children,o),c=lt.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&th(n,o,s);else if(n.tag===19)th(n,o,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}switch(se(lt,c),h){case"forwards":for(o=s.child,h=null;o!==null;)n=o.alternate,n!==null&&qr(n)===null&&(h=o),o=o.sibling;o=h,o===null?(h=s.child,s.child=null):(h=o.sibling,o.sibling=null),yc(s,!1,h,o,y);break;case"backwards":for(o=null,h=s.child,s.child=null;h!==null;){if(n=h.alternate,n!==null&&qr(n)===null){s.child=h;break}n=h.sibling,h.sibling=o,o=h,h=n}yc(s,!0,o,null,y);break;case"together":yc(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Tn(n,s,o){if(n!==null&&(s.dependencies=n.dependencies),Jn|=s.lanes,(o&s.childLanes)===0)if(n!==null){if(aa(n,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(a(153));if(s.child!==null){for(n=s.child,o=xn(n,n.pendingProps),s.child=o,o.return=s;n.sibling!==null;)n=n.sibling,o=o.sibling=xn(n,n.pendingProps),o.return=s;o.sibling=null}return s.child}function vc(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Nr(n)))}function A1(n,s,o){switch(s.tag){case 3:ke(s,s.stateNode.containerInfo),Bn(s,ot,n.memoizedState.cache),ia();break;case 27:case 5:re(s);break;case 4:ke(s,s.stateNode.containerInfo);break;case 10:Bn(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(zn(s),s.flags|=128,null):(o&s.child.childLanes)!==0?eh(n,s,o):(zn(s),n=Tn(n,s,o),n!==null?n.sibling:null);zn(s);break;case 19:var h=(n.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||(aa(n,s,o,!1),c=(o&s.childLanes)!==0),h){if(c)return nh(n,s,o);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(lt,lt.current),c)break;return null;case 22:case 23:return s.lanes=0,Jm(n,s,o);case 24:Bn(s,ot,n.memoizedState.cache)}return Tn(n,s,o)}function ih(n,s,o){if(n!==null)if(n.memoizedProps!==s.pendingProps)dt=!0;else{if(!vc(n,o)&&(s.flags&128)===0)return dt=!1,A1(n,s,o);dt=(n.flags&131072)!==0}else dt=!1,Ue&&(s.flags&1048576)!==0&&jf(s,Tr,s.index);switch(s.lanes=0,s.tag){case 16:e:{n=s.pendingProps;var c=s.elementType,h=c._init;if(c=h(c._payload),s.type=c,typeof c=="function")_l(c)?(n=Ni(c,n),s.tag=1,s=Wm(null,s,c,n,o)):(s.tag=0,s=fc(null,s,c,n,o));else{if(c!=null){if(h=c.$$typeof,h===O){s.tag=11,s=Fm(null,s,c,n,o);break e}else if(h===j){s.tag=14,s=Ym(null,s,c,n,o);break e}}throw s=K(c)||c,Error(a(306,s,""))}}return s;case 0:return fc(n,s,s.type,s.pendingProps,o);case 1:return c=s.type,h=Ni(c,s.pendingProps),Wm(n,s,c,h,o);case 3:e:{if(ke(s,s.stateNode.containerInfo),n===null)throw Error(a(387));c=s.pendingProps;var y=s.memoizedState;h=y.element,$l(n,s),fa(s,c,null,o);var C=s.memoizedState;if(c=C.cache,Bn(s,ot,c),c!==y.cache&&Ul(s,[ot],o,!0),da(),c=C.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:C.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=Xm(n,s,c,o);break e}else if(c!==h){h=qt(Error(a(424)),s),sa(h),s=Xm(n,s,c,o);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Xe=Kt(n.firstChild),wt=s,Ue=!0,vi=null,sn=!0,o=Lm(s,null,c,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(ia(),c===h){s=Tn(n,s,o);break e}pt(n,s,c,o)}s=s.child}return s;case 26:return Hr(n,s),n===null?(o=op(s.type,null,s.pendingProps,null))?s.memoizedState=o:Ue||(o=s.type,n=s.pendingProps,c=ao(xe.current).createElement(o),c[yt]=s,c[Tt]=n,xt(c,o,n),ut(c),s.stateNode=c):s.memoizedState=op(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return re(s),n===null&&Ue&&(c=s.stateNode=sp(s.type,s.pendingProps,xe.current),wt=s,sn=!0,h=Xe,Xn(s.type)?(Xc=h,Xe=Kt(c.firstChild)):Xe=h),pt(n,s,s.pendingProps.children,o),Hr(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Ue&&((h=c=Xe)&&(c=tv(c,s.type,s.pendingProps,sn),c!==null?(s.stateNode=c,wt=s,Xe=Kt(c.firstChild),sn=!1,h=!0):h=!1),h||bi(s)),re(s),h=s.type,y=s.pendingProps,C=n!==null?n.memoizedProps:null,c=y.children,Jc(h,y)?c=null:C!==null&&Jc(h,C)&&(s.flags|=32),s.memoizedState!==null&&(h=Zl(n,s,v1,null,null,o),Ia._currentValue=h),Hr(n,s),pt(n,s,c,o),s.child;case 6:return n===null&&Ue&&((n=o=Xe)&&(o=nv(o,s.pendingProps,sn),o!==null?(s.stateNode=o,wt=s,Xe=null,n=!0):n=!1),n||bi(s)),null;case 13:return eh(n,s,o);case 4:return ke(s,s.stateNode.containerInfo),c=s.pendingProps,n===null?s.child=ds(s,null,c,o):pt(n,s,c,o),s.child;case 11:return Fm(n,s,s.type,s.pendingProps,o);case 7:return pt(n,s,s.pendingProps,o),s.child;case 8:return pt(n,s,s.pendingProps.children,o),s.child;case 12:return pt(n,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,Bn(s,s.type,c.value),pt(n,s,c.children,o),s.child;case 9:return h=s.type._context,c=s.pendingProps.children,Ci(s),h=vt(h),c=c(h),s.flags|=1,pt(n,s,c,o),s.child;case 14:return Ym(n,s,s.type,s.pendingProps,o);case 15:return Zm(n,s,s.type,s.pendingProps,o);case 19:return nh(n,s,o);case 31:return c=s.pendingProps,o=s.mode,c={mode:c.mode,children:c.children},n===null?(o=Gr(c,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=xn(n.child,c),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return Jm(n,s,o);case 24:return Ci(s),c=vt(ot),n===null?(h=Ol(),h===null&&(h=Ge,y=Pl(),h.pooledCache=y,y.refCount++,y!==null&&(h.pooledCacheLanes|=o),h=y),s.memoizedState={parent:c,cache:h},ql(s),Bn(s,ot,h)):((n.lanes&o)!==0&&($l(n,s),fa(s,null,null,o),da()),h=n.memoizedState,y=s.memoizedState,h.parent!==c?(h={parent:c,cache:c},s.memoizedState=h,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=h),Bn(s,ot,c)):(c=y.cache,Bn(s,ot,c),c!==h.cache&&Ul(s,[ot],o,!0))),pt(n,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(a(156,s.tag))}function Nn(n){n.flags|=4}function sh(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!fp(s)){if(s=Gt.current,s!==null&&((De&4194048)===De?an!==null:(De&62914560)!==De&&(De&536870912)===0||s!==an))throw ca=Vl,qf;n.flags|=8192}}function Fr(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?Ld():536870912,n.lanes|=s,ps|=s)}function va(n,s){if(!Ue)switch(n.tailMode){case"hidden":s=n.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Qe(n){var s=n.alternate!==null&&n.alternate.child===n.child,o=0,c=0;if(s)for(var h=n.child;h!==null;)o|=h.lanes|h.childLanes,c|=h.subtreeFlags&65011712,c|=h.flags&65011712,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)o|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=c,n.childLanes=o,s}function _1(n,s,o){var c=s.pendingProps;switch(Dl(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(s),null;case 1:return Qe(s),null;case 3:return o=s.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),wn(ot),ht(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(na(s)?Nn(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Uf())),Qe(s),null;case 26:return o=s.memoizedState,n===null?(Nn(s),o!==null?(Qe(s),sh(s,o)):(Qe(s),s.flags&=-16777217)):o?o!==n.memoizedState?(Nn(s),Qe(s),sh(s,o)):(Qe(s),s.flags&=-16777217):(n.memoizedProps!==c&&Nn(s),Qe(s),s.flags&=-16777217),null;case 27:He(s),o=xe.current;var h=s.type;if(n!==null&&s.stateNode!=null)n.memoizedProps!==c&&Nn(s);else{if(!c){if(s.stateNode===null)throw Error(a(166));return Qe(s),null}n=he.current,na(s)?If(s):(n=sp(h,c,o),s.stateNode=n,Nn(s))}return Qe(s),null;case 5:if(He(s),o=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==c&&Nn(s);else{if(!c){if(s.stateNode===null)throw Error(a(166));return Qe(s),null}if(n=he.current,na(s))If(s);else{switch(h=ao(xe.current),n){case 1:n=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:n=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":n=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":n=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":n=h.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof c.is=="string"?h.createElement("select",{is:c.is}):h.createElement("select"),c.multiple?n.multiple=!0:c.size&&(n.size=c.size);break;default:n=typeof c.is=="string"?h.createElement(o,{is:c.is}):h.createElement(o)}}n[yt]=s,n[Tt]=c;e:for(h=s.child;h!==null;){if(h.tag===5||h.tag===6)n.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===s)break e;for(;h.sibling===null;){if(h.return===null||h.return===s)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}s.stateNode=n;e:switch(xt(n,o,c),o){case"button":case"input":case"select":case"textarea":n=!!c.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Nn(s)}}return Qe(s),s.flags&=-16777217,null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==c&&Nn(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(a(166));if(n=xe.current,na(s)){if(n=s.stateNode,o=s.memoizedProps,c=null,h=wt,h!==null)switch(h.tag){case 27:case 5:c=h.memoizedProps}n[yt]=s,n=!!(n.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Kh(n.nodeValue,o)),n||bi(s)}else n=ao(n).createTextNode(c),n[yt]=s,s.stateNode=n}return Qe(s),null;case 13:if(c=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(h=na(s),c!==null&&c.dehydrated!==null){if(n===null){if(!h)throw Error(a(318));if(h=s.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[yt]=s}else ia(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Qe(s),h=!1}else h=Uf(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=h),h=!0;if(!h)return s.flags&256?(Sn(s),s):(Sn(s),null)}if(Sn(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=c!==null,n=n!==null&&n.memoizedState!==null,o){c=s.child,h=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(h=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==h&&(c.flags|=2048)}return o!==n&&o&&(s.child.flags|=8192),Fr(s,s.updateQueue),Qe(s),null;case 4:return ht(),n===null&&Hc(s.stateNode.containerInfo),Qe(s),null;case 10:return wn(s.type),Qe(s),null;case 19:if(ae(lt),h=s.memoizedState,h===null)return Qe(s),null;if(c=(s.flags&128)!==0,y=h.rendering,y===null)if(c)va(h,!1);else{if(et!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(y=qr(n),y!==null){for(s.flags|=128,va(h,!1),n=y.updateQueue,s.updateQueue=n,Fr(s,n),s.subtreeFlags=0,n=o,o=s.child;o!==null;)Df(o,n),o=o.sibling;return se(lt,lt.current&1|2),s.child}n=n.sibling}h.tail!==null&&nn()>Jr&&(s.flags|=128,c=!0,va(h,!1),s.lanes=4194304)}else{if(!c)if(n=qr(y),n!==null){if(s.flags|=128,c=!0,n=n.updateQueue,s.updateQueue=n,Fr(s,n),va(h,!0),h.tail===null&&h.tailMode==="hidden"&&!y.alternate&&!Ue)return Qe(s),null}else 2*nn()-h.renderingStartTime>Jr&&o!==536870912&&(s.flags|=128,c=!0,va(h,!1),s.lanes=4194304);h.isBackwards?(y.sibling=s.child,s.child=y):(n=h.last,n!==null?n.sibling=y:s.child=y,h.last=y)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=nn(),s.sibling=null,n=lt.current,se(lt,c?n&1|2:n&1),s):(Qe(s),null);case 22:case 23:return Sn(s),Fl(),c=s.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(o&536870912)!==0&&(s.flags&128)===0&&(Qe(s),s.subtreeFlags&6&&(s.flags|=8192)):Qe(s),o=s.updateQueue,o!==null&&Fr(s,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),n!==null&&ae(Si),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),wn(ot),Qe(s),null;case 25:return null;case 30:return null}throw Error(a(156,s.tag))}function M1(n,s){switch(Dl(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return wn(ot),ht(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return He(s),null;case 13:if(Sn(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(a(340));ia()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return ae(lt),null;case 4:return ht(),null;case 10:return wn(s.type),null;case 22:case 23:return Sn(s),Fl(),n!==null&&ae(Si),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return wn(ot),null;case 25:return null;default:return null}}function ah(n,s){switch(Dl(s),s.tag){case 3:wn(ot),ht();break;case 26:case 27:case 5:He(s);break;case 4:ht();break;case 13:Sn(s);break;case 19:ae(lt);break;case 10:wn(s.type);break;case 22:case 23:Sn(s),Fl(),n!==null&&ae(Si);break;case 24:wn(ot)}}function ba(n,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var h=c.next;o=h;do{if((o.tag&n)===n){c=void 0;var y=o.create,C=o.inst;c=y(),C.destroy=c}o=o.next}while(o!==h)}}catch(N){ze(s,s.return,N)}}function Gn(n,s,o){try{var c=s.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var y=h.next;c=y;do{if((c.tag&n)===n){var C=c.inst,N=C.destroy;if(N!==void 0){C.destroy=void 0,h=s;var k=o,q=N;try{q()}catch(Q){ze(h,k,Q)}}}c=c.next}while(c!==y)}}catch(Q){ze(s,s.return,Q)}}function rh(n){var s=n.updateQueue;if(s!==null){var o=n.stateNode;try{Yf(s,o)}catch(c){ze(n,n.return,c)}}}function oh(n,s,o){o.props=Ni(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(c){ze(n,s,c)}}function wa(n,s){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof o=="function"?n.refCleanup=o(c):o.current=c}}catch(h){ze(n,s,h)}}function rn(n,s){var o=n.ref,c=n.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(h){ze(n,s,h)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){ze(n,s,h)}else o.current=null}function lh(n){var s=n.type,o=n.memoizedProps,c=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(h){ze(n,n.return,h)}}function bc(n,s,o){try{var c=n.stateNode;Q1(c,n.type,o,s),c[Tt]=s}catch(h){ze(n,n.return,h)}}function ch(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Xn(n.type)||n.tag===4}function wc(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||ch(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Xn(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Cc(n,s,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(n),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=so));else if(c!==4&&(c===27&&Xn(n.type)&&(o=n.stateNode,s=null),n=n.child,n!==null))for(Cc(n,s,o),n=n.sibling;n!==null;)Cc(n,s,o),n=n.sibling}function Yr(n,s,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?o.insertBefore(n,s):o.appendChild(n);else if(c!==4&&(c===27&&Xn(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(Yr(n,s,o),n=n.sibling;n!==null;)Yr(n,s,o),n=n.sibling}function uh(n){var s=n.stateNode,o=n.memoizedProps;try{for(var c=n.type,h=s.attributes;h.length;)s.removeAttributeNode(h[0]);xt(s,c,o),s[yt]=n,s[Tt]=o}catch(y){ze(n,n.return,y)}}var En=!1,nt=!1,Sc=!1,dh=typeof WeakSet=="function"?WeakSet:Set,ft=null;function k1(n,s){if(n=n.containerInfo,Yc=fo,n=Cf(n),wl(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var h=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var C=0,N=-1,k=-1,q=0,Q=0,te=n,$=null;t:for(;;){for(var G;te!==o||h!==0&&te.nodeType!==3||(N=C+h),te!==y||c!==0&&te.nodeType!==3||(k=C+c),te.nodeType===3&&(C+=te.nodeValue.length),(G=te.firstChild)!==null;)$=te,te=G;for(;;){if(te===n)break t;if($===o&&++q===h&&(N=C),$===y&&++Q===c&&(k=C),(G=te.nextSibling)!==null)break;te=$,$=te.parentNode}te=G}o=N===-1||k===-1?null:{start:N,end:k}}else o=null}o=o||{start:0,end:0}}else o=null;for(Zc={focusedElem:n,selectionRange:o},fo=!1,ft=s;ft!==null;)if(s=ft,n=s.child,(s.subtreeFlags&1024)!==0&&n!==null)n.return=s,ft=n;else for(;ft!==null;){switch(s=ft,y=s.alternate,n=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&y!==null){n=void 0,o=s,h=y.memoizedProps,y=y.memoizedState,c=o.stateNode;try{var ye=Ni(o.type,h,o.elementType===o.type);n=c.getSnapshotBeforeUpdate(ye,y),c.__reactInternalSnapshotBeforeUpdate=n}catch(pe){ze(o,o.return,pe)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,o=n.nodeType,o===9)Kc(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Kc(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=s.sibling,n!==null){n.return=s.return,ft=n;break}ft=s.return}}function fh(n,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Fn(n,o),c&4&&ba(5,o);break;case 1:if(Fn(n,o),c&4)if(n=o.stateNode,s===null)try{n.componentDidMount()}catch(C){ze(o,o.return,C)}else{var h=Ni(o.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(h,s,n.__reactInternalSnapshotBeforeUpdate)}catch(C){ze(o,o.return,C)}}c&64&&rh(o),c&512&&wa(o,o.return);break;case 3:if(Fn(n,o),c&64&&(n=o.updateQueue,n!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{Yf(n,s)}catch(C){ze(o,o.return,C)}}break;case 27:s===null&&c&4&&uh(o);case 26:case 5:Fn(n,o),s===null&&c&4&&lh(o),c&512&&wa(o,o.return);break;case 12:Fn(n,o);break;case 13:Fn(n,o),c&4&&ph(n,o),c&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=O1.bind(null,o),iv(n,o))));break;case 22:if(c=o.memoizedState!==null||En,!c){s=s!==null&&s.memoizedState!==null||nt,h=En;var y=nt;En=c,(nt=s)&&!y?Yn(n,o,(o.subtreeFlags&8772)!==0):Fn(n,o),En=h,nt=y}break;case 30:break;default:Fn(n,o)}}function mh(n){var s=n.alternate;s!==null&&(n.alternate=null,mh(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&nl(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Je=null,At=!1;function An(n,s,o){for(o=o.child;o!==null;)hh(n,s,o),o=o.sibling}function hh(n,s,o){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount($s,o)}catch{}switch(o.tag){case 26:nt||rn(o,s),An(n,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:nt||rn(o,s);var c=Je,h=At;Xn(o.type)&&(Je=o.stateNode,At=!1),An(n,s,o),ka(o.stateNode),Je=c,At=h;break;case 5:nt||rn(o,s);case 6:if(c=Je,h=At,Je=null,An(n,s,o),Je=c,At=h,Je!==null)if(At)try{(Je.nodeType===9?Je.body:Je.nodeName==="HTML"?Je.ownerDocument.body:Je).removeChild(o.stateNode)}catch(y){ze(o,s,y)}else try{Je.removeChild(o.stateNode)}catch(y){ze(o,s,y)}break;case 18:Je!==null&&(At?(n=Je,np(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),Ba(n)):np(Je,o.stateNode));break;case 4:c=Je,h=At,Je=o.stateNode.containerInfo,At=!0,An(n,s,o),Je=c,At=h;break;case 0:case 11:case 14:case 15:nt||Gn(2,o,s),nt||Gn(4,o,s),An(n,s,o);break;case 1:nt||(rn(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&oh(o,s,c)),An(n,s,o);break;case 21:An(n,s,o);break;case 22:nt=(c=nt)||o.memoizedState!==null,An(n,s,o),nt=c;break;default:An(n,s,o)}}function ph(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Ba(n)}catch(o){ze(s,s.return,o)}}function R1(n){switch(n.tag){case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new dh),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new dh),s;default:throw Error(a(435,n.tag))}}function Tc(n,s){var o=R1(n);s.forEach(function(c){var h=V1.bind(null,n,c);o.has(c)||(o.add(c),c.then(h,h))})}function jt(n,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var h=o[c],y=n,C=s,N=C;e:for(;N!==null;){switch(N.tag){case 27:if(Xn(N.type)){Je=N.stateNode,At=!1;break e}break;case 5:Je=N.stateNode,At=!1;break e;case 3:case 4:Je=N.stateNode.containerInfo,At=!0;break e}N=N.return}if(Je===null)throw Error(a(160));hh(y,C,h),Je=null,At=!1,y=h.alternate,y!==null&&(y.return=null),h.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)gh(s,n),s=s.sibling}var Qt=null;function gh(n,s){var o=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:jt(s,n),It(n),c&4&&(Gn(3,n,n.return),ba(3,n),Gn(5,n,n.return));break;case 1:jt(s,n),It(n),c&512&&(nt||o===null||rn(o,o.return)),c&64&&En&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var h=Qt;if(jt(s,n),It(n),c&512&&(nt||o===null||rn(o,o.return)),c&4){var y=o!==null?o.memoizedState:null;if(c=n.memoizedState,o===null)if(c===null)if(n.stateNode===null){e:{c=n.type,o=n.memoizedProps,h=h.ownerDocument||h;t:switch(c){case"title":y=h.getElementsByTagName("title")[0],(!y||y[Gs]||y[yt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=h.createElement(c),h.head.insertBefore(y,h.querySelector("head > title"))),xt(y,c,o),y[yt]=n,ut(y),c=y;break e;case"link":var C=up("link","href",h).get(c+(o.href||""));if(C){for(var N=0;N<C.length;N++)if(y=C[N],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){C.splice(N,1);break t}}y=h.createElement(c),xt(y,c,o),h.head.appendChild(y);break;case"meta":if(C=up("meta","content",h).get(c+(o.content||""))){for(N=0;N<C.length;N++)if(y=C[N],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){C.splice(N,1);break t}}y=h.createElement(c),xt(y,c,o),h.head.appendChild(y);break;default:throw Error(a(468,c))}y[yt]=n,ut(y),c=y}n.stateNode=c}else dp(h,n.type,n.stateNode);else n.stateNode=cp(h,c,n.memoizedProps);else y!==c?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,c===null?dp(h,n.type,n.stateNode):cp(h,c,n.memoizedProps)):c===null&&n.stateNode!==null&&bc(n,n.memoizedProps,o.memoizedProps)}break;case 27:jt(s,n),It(n),c&512&&(nt||o===null||rn(o,o.return)),o!==null&&c&4&&bc(n,n.memoizedProps,o.memoizedProps);break;case 5:if(jt(s,n),It(n),c&512&&(nt||o===null||rn(o,o.return)),n.flags&32){h=n.stateNode;try{Yi(h,"")}catch(G){ze(n,n.return,G)}}c&4&&n.stateNode!=null&&(h=n.memoizedProps,bc(n,h,o!==null?o.memoizedProps:h)),c&1024&&(Sc=!0);break;case 6:if(jt(s,n),It(n),c&4){if(n.stateNode===null)throw Error(a(162));c=n.memoizedProps,o=n.stateNode;try{o.nodeValue=c}catch(G){ze(n,n.return,G)}}break;case 3:if(lo=null,h=Qt,Qt=ro(s.containerInfo),jt(s,n),Qt=h,It(n),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Ba(s.containerInfo)}catch(G){ze(n,n.return,G)}Sc&&(Sc=!1,xh(n));break;case 4:c=Qt,Qt=ro(n.stateNode.containerInfo),jt(s,n),It(n),Qt=c;break;case 12:jt(s,n),It(n);break;case 13:jt(s,n),It(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(kc=nn()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Tc(n,c)));break;case 22:h=n.memoizedState!==null;var k=o!==null&&o.memoizedState!==null,q=En,Q=nt;if(En=q||h,nt=Q||k,jt(s,n),nt=Q,En=q,It(n),c&8192)e:for(s=n.stateNode,s._visibility=h?s._visibility&-2:s._visibility|1,h&&(o===null||k||En||nt||Ei(n)),o=null,s=n;;){if(s.tag===5||s.tag===26){if(o===null){k=o=s;try{if(y=k.stateNode,h)C=y.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{N=k.stateNode;var te=k.memoizedProps.style,$=te!=null&&te.hasOwnProperty("display")?te.display:null;N.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(G){ze(k,k.return,G)}}}else if(s.tag===6){if(o===null){k=s;try{k.stateNode.nodeValue=h?"":k.memoizedProps}catch(G){ze(k,k.return,G)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=n.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Tc(n,o))));break;case 19:jt(s,n),It(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Tc(n,c)));break;case 30:break;case 21:break;default:jt(s,n),It(n)}}function It(n){var s=n.flags;if(s&2){try{for(var o,c=n.return;c!==null;){if(ch(c)){o=c;break}c=c.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var h=o.stateNode,y=wc(n);Yr(n,y,h);break;case 5:var C=o.stateNode;o.flags&32&&(Yi(C,""),o.flags&=-33);var N=wc(n);Yr(n,N,C);break;case 3:case 4:var k=o.stateNode.containerInfo,q=wc(n);Cc(n,q,k);break;default:throw Error(a(161))}}catch(Q){ze(n,n.return,Q)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function xh(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;xh(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Fn(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)fh(n,s.alternate,s),s=s.sibling}function Ei(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:Gn(4,s,s.return),Ei(s);break;case 1:rn(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&oh(s,s.return,o),Ei(s);break;case 27:ka(s.stateNode);case 26:case 5:rn(s,s.return),Ei(s);break;case 22:s.memoizedState===null&&Ei(s);break;case 30:Ei(s);break;default:Ei(s)}n=n.sibling}}function Yn(n,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,h=n,y=s,C=y.flags;switch(y.tag){case 0:case 11:case 15:Yn(h,y,o),ba(4,y);break;case 1:if(Yn(h,y,o),c=y,h=c.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){ze(c,c.return,q)}if(c=y,h=c.updateQueue,h!==null){var N=c.stateNode;try{var k=h.shared.hiddenCallbacks;if(k!==null)for(h.shared.hiddenCallbacks=null,h=0;h<k.length;h++)Ff(k[h],N)}catch(q){ze(c,c.return,q)}}o&&C&64&&rh(y),wa(y,y.return);break;case 27:uh(y);case 26:case 5:Yn(h,y,o),o&&c===null&&C&4&&lh(y),wa(y,y.return);break;case 12:Yn(h,y,o);break;case 13:Yn(h,y,o),o&&C&4&&ph(h,y);break;case 22:y.memoizedState===null&&Yn(h,y,o),wa(y,y.return);break;case 30:break;default:Yn(h,y,o)}s=s.sibling}}function Nc(n,s){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&ra(o))}function Ec(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&ra(n))}function on(n,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)yh(n,s,o,c),s=s.sibling}function yh(n,s,o,c){var h=s.flags;switch(s.tag){case 0:case 11:case 15:on(n,s,o,c),h&2048&&ba(9,s);break;case 1:on(n,s,o,c);break;case 3:on(n,s,o,c),h&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&ra(n)));break;case 12:if(h&2048){on(n,s,o,c),n=s.stateNode;try{var y=s.memoizedProps,C=y.id,N=y.onPostCommit;typeof N=="function"&&N(C,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(k){ze(s,s.return,k)}}else on(n,s,o,c);break;case 13:on(n,s,o,c);break;case 23:break;case 22:y=s.stateNode,C=s.alternate,s.memoizedState!==null?y._visibility&2?on(n,s,o,c):Ca(n,s):y._visibility&2?on(n,s,o,c):(y._visibility|=2,fs(n,s,o,c,(s.subtreeFlags&10256)!==0)),h&2048&&Nc(C,s);break;case 24:on(n,s,o,c),h&2048&&Ec(s.alternate,s);break;default:on(n,s,o,c)}}function fs(n,s,o,c,h){for(h=h&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var y=n,C=s,N=o,k=c,q=C.flags;switch(C.tag){case 0:case 11:case 15:fs(y,C,N,k,h),ba(8,C);break;case 23:break;case 22:var Q=C.stateNode;C.memoizedState!==null?Q._visibility&2?fs(y,C,N,k,h):Ca(y,C):(Q._visibility|=2,fs(y,C,N,k,h)),h&&q&2048&&Nc(C.alternate,C);break;case 24:fs(y,C,N,k,h),h&&q&2048&&Ec(C.alternate,C);break;default:fs(y,C,N,k,h)}s=s.sibling}}function Ca(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=n,c=s,h=c.flags;switch(c.tag){case 22:Ca(o,c),h&2048&&Nc(c.alternate,c);break;case 24:Ca(o,c),h&2048&&Ec(c.alternate,c);break;default:Ca(o,c)}s=s.sibling}}var Sa=8192;function ms(n){if(n.subtreeFlags&Sa)for(n=n.child;n!==null;)vh(n),n=n.sibling}function vh(n){switch(n.tag){case 26:ms(n),n.flags&Sa&&n.memoizedState!==null&&gv(Qt,n.memoizedState,n.memoizedProps);break;case 5:ms(n);break;case 3:case 4:var s=Qt;Qt=ro(n.stateNode.containerInfo),ms(n),Qt=s;break;case 22:n.memoizedState===null&&(s=n.alternate,s!==null&&s.memoizedState!==null?(s=Sa,Sa=16777216,ms(n),Sa=s):ms(n));break;default:ms(n)}}function bh(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function Ta(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];ft=c,Ch(c,n)}bh(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)wh(n),n=n.sibling}function wh(n){switch(n.tag){case 0:case 11:case 15:Ta(n),n.flags&2048&&Gn(9,n,n.return);break;case 3:Ta(n);break;case 12:Ta(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Zr(n)):Ta(n);break;default:Ta(n)}}function Zr(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];ft=c,Ch(c,n)}bh(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:Gn(8,s,s.return),Zr(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Zr(s));break;default:Zr(s)}n=n.sibling}}function Ch(n,s){for(;ft!==null;){var o=ft;switch(o.tag){case 0:case 11:case 15:Gn(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:ra(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,ft=c;else e:for(o=n;ft!==null;){c=ft;var h=c.sibling,y=c.return;if(mh(c),c===o){ft=null;break e}if(h!==null){h.return=y,ft=h;break e}ft=y}}}var D1={getCacheForType:function(n){var s=vt(ot),o=s.data.get(n);return o===void 0&&(o=n(),s.data.set(n,o)),o}},j1=typeof WeakMap=="function"?WeakMap:Map,Be=0,Ge=null,_e=null,De=0,Oe=0,Lt=null,Zn=!1,hs=!1,Ac=!1,_n=0,et=0,Jn=0,Ai=0,_c=0,Ft=0,ps=0,Na=null,_t=null,Mc=!1,kc=0,Jr=1/0,Qr=null,Qn=null,gt=0,Kn=null,gs=null,xs=0,Rc=0,Dc=null,Sh=null,Ea=0,jc=null;function Ut(){if((Be&2)!==0&&De!==0)return De&-De;if(I.T!==null){var n=ss;return n!==0?n:Vc()}return Bd()}function Th(){Ft===0&&(Ft=(De&536870912)===0||Ue?Id():536870912);var n=Gt.current;return n!==null&&(n.flags|=32),Ft}function Pt(n,s,o){(n===Ge&&(Oe===2||Oe===9)||n.cancelPendingCommit!==null)&&(ys(n,0),Wn(n,De,Ft,!1)),Hs(n,o),((Be&2)===0||n!==Ge)&&(n===Ge&&((Be&2)===0&&(Ai|=o),et===4&&Wn(n,De,Ft,!1)),ln(n))}function Nh(n,s,o){if((Be&6)!==0)throw Error(a(327));var c=!o&&(s&124)===0&&(s&n.expiredLanes)===0||zs(n,s),h=c?U1(n,s):Uc(n,s,!0),y=c;do{if(h===0){hs&&!c&&Wn(n,s,0,!1);break}else{if(o=n.current.alternate,y&&!I1(o)){h=Uc(n,s,!1),y=!1;continue}if(h===2){if(y=s,n.errorRecoveryDisabledLanes&y)var C=0;else C=n.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){s=C;e:{var N=n;h=Na;var k=N.current.memoizedState.isDehydrated;if(k&&(ys(N,C).flags|=256),C=Uc(N,C,!1),C!==2){if(Ac&&!k){N.errorRecoveryDisabledLanes|=y,Ai|=y,h=4;break e}y=_t,_t=h,y!==null&&(_t===null?_t=y:_t.push.apply(_t,y))}h=C}if(y=!1,h!==2)continue}}if(h===1){ys(n,0),Wn(n,s,0,!0);break}e:{switch(c=n,y=h,y){case 0:case 1:throw Error(a(345));case 4:if((s&4194048)!==s)break;case 6:Wn(c,s,Ft,!Zn);break e;case 2:_t=null;break;case 3:case 5:break;default:throw Error(a(329))}if((s&62914560)===s&&(h=kc+300-nn(),10<h)){if(Wn(c,s,Ft,!Zn),or(c,0,!0)!==0)break e;c.timeoutHandle=ep(Eh.bind(null,c,o,_t,Qr,Mc,s,Ft,Ai,ps,Zn,y,2,-0,0),h);break e}Eh(c,o,_t,Qr,Mc,s,Ft,Ai,ps,Zn,y,0,-0,0)}}break}while(!0);ln(n)}function Eh(n,s,o,c,h,y,C,N,k,q,Q,te,$,G){if(n.timeoutHandle=-1,te=s.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(ja={stylesheets:null,count:0,unsuspend:pv},vh(s),te=xv(),te!==null)){n.cancelPendingCommit=te(jh.bind(null,n,s,y,o,c,h,C,N,k,Q,1,$,G)),Wn(n,y,C,!q);return}jh(n,s,y,o,c,h,C,N,k)}function I1(n){for(var s=n;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var h=o[c],y=h.getSnapshot;h=h.value;try{if(!Rt(y(),h))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Wn(n,s,o,c){s&=~_c,s&=~Ai,n.suspendedLanes|=s,n.pingedLanes&=~s,c&&(n.warmLanes|=s),c=n.expirationTimes;for(var h=s;0<h;){var y=31-kt(h),C=1<<y;c[y]=-1,h&=~C}o!==0&&Ud(n,o,s)}function Kr(){return(Be&6)===0?(Aa(0),!1):!0}function Ic(){if(_e!==null){if(Oe===0)var n=_e.return;else n=_e,bn=wi=null,Kl(n),us=null,xa=0,n=_e;for(;n!==null;)ah(n.alternate,n),n=n.return;_e=null}}function ys(n,s){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,W1(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),Ic(),Ge=n,_e=o=xn(n.current,null),De=s,Oe=0,Lt=null,Zn=!1,hs=zs(n,s),Ac=!1,ps=Ft=_c=Ai=Jn=et=0,_t=Na=null,Mc=!1,(s&8)!==0&&(s|=s&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=s;0<c;){var h=31-kt(c),y=1<<h;s|=n[h],c&=~y}return _n=s,vr(),o}function Ah(n,s){Ne=null,I.H=Br,s===la||s===_r?(s=Hf(),Oe=3):s===qf?(s=Hf(),Oe=4):Oe=s===Gm?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Lt=s,_e===null&&(et=1,zr(n,qt(s,n.current)))}function _h(){var n=I.H;return I.H=Br,n===null?Br:n}function Mh(){var n=I.A;return I.A=D1,n}function Lc(){et=4,Zn||(De&4194048)!==De&&Gt.current!==null||(hs=!0),(Jn&134217727)===0&&(Ai&134217727)===0||Ge===null||Wn(Ge,De,Ft,!1)}function Uc(n,s,o){var c=Be;Be|=2;var h=_h(),y=Mh();(Ge!==n||De!==s)&&(Qr=null,ys(n,s)),s=!1;var C=et;e:do try{if(Oe!==0&&_e!==null){var N=_e,k=Lt;switch(Oe){case 8:Ic(),C=6;break e;case 3:case 2:case 9:case 6:Gt.current===null&&(s=!0);var q=Oe;if(Oe=0,Lt=null,vs(n,N,k,q),o&&hs){C=0;break e}break;default:q=Oe,Oe=0,Lt=null,vs(n,N,k,q)}}L1(),C=et;break}catch(Q){Ah(n,Q)}while(!0);return s&&n.shellSuspendCounter++,bn=wi=null,Be=c,I.H=h,I.A=y,_e===null&&(Ge=null,De=0,vr()),C}function L1(){for(;_e!==null;)kh(_e)}function U1(n,s){var o=Be;Be|=2;var c=_h(),h=Mh();Ge!==n||De!==s?(Qr=null,Jr=nn()+500,ys(n,s)):hs=zs(n,s);e:do try{if(Oe!==0&&_e!==null){s=_e;var y=Lt;t:switch(Oe){case 1:Oe=0,Lt=null,vs(n,s,y,1);break;case 2:case 9:if($f(y)){Oe=0,Lt=null,Rh(s);break}s=function(){Oe!==2&&Oe!==9||Ge!==n||(Oe=7),ln(n)},y.then(s,s);break e;case 3:Oe=7;break e;case 4:Oe=5;break e;case 7:$f(y)?(Oe=0,Lt=null,Rh(s)):(Oe=0,Lt=null,vs(n,s,y,7));break;case 5:var C=null;switch(_e.tag){case 26:C=_e.memoizedState;case 5:case 27:var N=_e;if(!C||fp(C)){Oe=0,Lt=null;var k=N.sibling;if(k!==null)_e=k;else{var q=N.return;q!==null?(_e=q,Wr(q)):_e=null}break t}}Oe=0,Lt=null,vs(n,s,y,5);break;case 6:Oe=0,Lt=null,vs(n,s,y,6);break;case 8:Ic(),et=6;break e;default:throw Error(a(462))}}P1();break}catch(Q){Ah(n,Q)}while(!0);return bn=wi=null,I.H=c,I.A=h,Be=o,_e!==null?0:(Ge=null,De=0,vr(),et)}function P1(){for(;_e!==null&&!ay();)kh(_e)}function kh(n){var s=ih(n.alternate,n,_n);n.memoizedProps=n.pendingProps,s===null?Wr(n):_e=s}function Rh(n){var s=n,o=s.alternate;switch(s.tag){case 15:case 0:s=Km(o,s,s.pendingProps,s.type,void 0,De);break;case 11:s=Km(o,s,s.pendingProps,s.type.render,s.ref,De);break;case 5:Kl(s);default:ah(o,s),s=_e=Df(s,_n),s=ih(o,s,_n)}n.memoizedProps=n.pendingProps,s===null?Wr(n):_e=s}function vs(n,s,o,c){bn=wi=null,Kl(s),us=null,xa=0;var h=s.return;try{if(E1(n,h,s,o,De)){et=1,zr(n,qt(o,n.current)),_e=null;return}}catch(y){if(h!==null)throw _e=h,y;et=1,zr(n,qt(o,n.current)),_e=null;return}s.flags&32768?(Ue||c===1?n=!0:hs||(De&536870912)!==0?n=!1:(Zn=n=!0,(c===2||c===9||c===3||c===6)&&(c=Gt.current,c!==null&&c.tag===13&&(c.flags|=16384))),Dh(s,n)):Wr(s)}function Wr(n){var s=n;do{if((s.flags&32768)!==0){Dh(s,Zn);return}n=s.return;var o=_1(s.alternate,s,_n);if(o!==null){_e=o;return}if(s=s.sibling,s!==null){_e=s;return}_e=s=n}while(s!==null);et===0&&(et=5)}function Dh(n,s){do{var o=M1(n.alternate,n);if(o!==null){o.flags&=32767,_e=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(n=n.sibling,n!==null)){_e=n;return}_e=n=o}while(n!==null);et=6,_e=null}function jh(n,s,o,c,h,y,C,N,k){n.cancelPendingCommit=null;do Xr();while(gt!==0);if((Be&6)!==0)throw Error(a(327));if(s!==null){if(s===n.current)throw Error(a(177));if(y=s.lanes|s.childLanes,y|=El,py(n,o,y,C,N,k),n===Ge&&(_e=Ge=null,De=0),gs=s,Kn=n,xs=o,Rc=y,Dc=h,Sh=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,q1(sr,function(){return Bh(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=I.T,I.T=null,h=Z.p,Z.p=2,C=Be,Be|=4;try{k1(n,s,o)}finally{Be=C,Z.p=h,I.T=c}}gt=1,Ih(),Lh(),Uh()}}function Ih(){if(gt===1){gt=0;var n=Kn,s=gs,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=I.T,I.T=null;var c=Z.p;Z.p=2;var h=Be;Be|=4;try{gh(s,n);var y=Zc,C=Cf(n.containerInfo),N=y.focusedElem,k=y.selectionRange;if(C!==N&&N&&N.ownerDocument&&wf(N.ownerDocument.documentElement,N)){if(k!==null&&wl(N)){var q=k.start,Q=k.end;if(Q===void 0&&(Q=q),"selectionStart"in N)N.selectionStart=q,N.selectionEnd=Math.min(Q,N.value.length);else{var te=N.ownerDocument||document,$=te&&te.defaultView||window;if($.getSelection){var G=$.getSelection(),ye=N.textContent.length,pe=Math.min(k.start,ye),$e=k.end===void 0?pe:Math.min(k.end,ye);!G.extend&&pe>$e&&(C=$e,$e=pe,pe=C);var B=bf(N,pe),D=bf(N,$e);if(B&&D&&(G.rangeCount!==1||G.anchorNode!==B.node||G.anchorOffset!==B.offset||G.focusNode!==D.node||G.focusOffset!==D.offset)){var V=te.createRange();V.setStart(B.node,B.offset),G.removeAllRanges(),pe>$e?(G.addRange(V),G.extend(D.node,D.offset)):(V.setEnd(D.node,D.offset),G.addRange(V))}}}}for(te=[],G=N;G=G.parentNode;)G.nodeType===1&&te.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<te.length;N++){var X=te[N];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}fo=!!Yc,Zc=Yc=null}finally{Be=h,Z.p=c,I.T=o}}n.current=s,gt=2}}function Lh(){if(gt===2){gt=0;var n=Kn,s=gs,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=I.T,I.T=null;var c=Z.p;Z.p=2;var h=Be;Be|=4;try{fh(n,s.alternate,s)}finally{Be=h,Z.p=c,I.T=o}}gt=3}}function Uh(){if(gt===4||gt===3){gt=0,ry();var n=Kn,s=gs,o=xs,c=Sh;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?gt=5:(gt=0,gs=Kn=null,Ph(n,n.pendingLanes));var h=n.pendingLanes;if(h===0&&(Qn=null),el(o),s=s.stateNode,Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot($s,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=I.T,h=Z.p,Z.p=2,I.T=null;try{for(var y=n.onRecoverableError,C=0;C<c.length;C++){var N=c[C];y(N.value,{componentStack:N.stack})}}finally{I.T=s,Z.p=h}}(xs&3)!==0&&Xr(),ln(n),h=n.pendingLanes,(o&4194090)!==0&&(h&42)!==0?n===jc?Ea++:(Ea=0,jc=n):Ea=0,Aa(0)}}function Ph(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,ra(s)))}function Xr(n){return Ih(),Lh(),Uh(),Bh()}function Bh(){if(gt!==5)return!1;var n=Kn,s=Rc;Rc=0;var o=el(xs),c=I.T,h=Z.p;try{Z.p=32>o?32:o,I.T=null,o=Dc,Dc=null;var y=Kn,C=xs;if(gt=0,gs=Kn=null,xs=0,(Be&6)!==0)throw Error(a(331));var N=Be;if(Be|=4,wh(y.current),yh(y,y.current,C,o),Be=N,Aa(0,!1),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot($s,y)}catch{}return!0}finally{Z.p=h,I.T=c,Ph(n,s)}}function Oh(n,s,o){s=qt(o,s),s=dc(n.stateNode,s,2),n=qn(n,s,2),n!==null&&(Hs(n,2),ln(n))}function ze(n,s,o){if(n.tag===3)Oh(n,n,o);else for(;s!==null;){if(s.tag===3){Oh(s,n,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Qn===null||!Qn.has(c))){n=qt(o,n),o=zm(2),c=qn(s,o,2),c!==null&&(Hm(o,c,s,n),Hs(c,2),ln(c));break}}s=s.return}}function Pc(n,s,o){var c=n.pingCache;if(c===null){c=n.pingCache=new j1;var h=new Set;c.set(s,h)}else h=c.get(s),h===void 0&&(h=new Set,c.set(s,h));h.has(o)||(Ac=!0,h.add(o),n=B1.bind(null,n,s,o),s.then(n,n))}function B1(n,s,o){var c=n.pingCache;c!==null&&c.delete(s),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,Ge===n&&(De&o)===o&&(et===4||et===3&&(De&62914560)===De&&300>nn()-kc?(Be&2)===0&&ys(n,0):_c|=o,ps===De&&(ps=0)),ln(n)}function Vh(n,s){s===0&&(s=Ld()),n=es(n,s),n!==null&&(Hs(n,s),ln(n))}function O1(n){var s=n.memoizedState,o=0;s!==null&&(o=s.retryLane),Vh(n,o)}function V1(n,s){var o=0;switch(n.tag){case 13:var c=n.stateNode,h=n.memoizedState;h!==null&&(o=h.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(a(314))}c!==null&&c.delete(s),Vh(n,o)}function q1(n,s){return rt(n,s)}var eo=null,bs=null,Bc=!1,to=!1,Oc=!1,_i=0;function ln(n){n!==bs&&n.next===null&&(bs===null?eo=bs=n:bs=bs.next=n),to=!0,Bc||(Bc=!0,z1())}function Aa(n,s){if(!Oc&&to){Oc=!0;do for(var o=!1,c=eo;c!==null;){if(n!==0){var h=c.pendingLanes;if(h===0)var y=0;else{var C=c.suspendedLanes,N=c.pingedLanes;y=(1<<31-kt(42|n)+1)-1,y&=h&~(C&~N),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,Hh(c,y))}else y=De,y=or(c,c===Ge?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||zs(c,y)||(o=!0,Hh(c,y));c=c.next}while(o);Oc=!1}}function $1(){qh()}function qh(){to=Bc=!1;var n=0;_i!==0&&(K1()&&(n=_i),_i=0);for(var s=nn(),o=null,c=eo;c!==null;){var h=c.next,y=$h(c,s);y===0?(c.next=null,o===null?eo=h:o.next=h,h===null&&(bs=o)):(o=c,(n!==0||(y&3)!==0)&&(to=!0)),c=h}Aa(n)}function $h(n,s){for(var o=n.suspendedLanes,c=n.pingedLanes,h=n.expirationTimes,y=n.pendingLanes&-62914561;0<y;){var C=31-kt(y),N=1<<C,k=h[C];k===-1?((N&o)===0||(N&c)!==0)&&(h[C]=hy(N,s)):k<=s&&(n.expiredLanes|=N),y&=~N}if(s=Ge,o=De,o=or(n,n===s?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,o===0||n===s&&(Oe===2||Oe===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&Ko(c),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||zs(n,o)){if(s=o&-o,s===n.callbackPriority)return s;switch(c!==null&&Ko(c),el(o)){case 2:case 8:o=Dd;break;case 32:o=sr;break;case 268435456:o=jd;break;default:o=sr}return c=zh.bind(null,n),o=rt(o,c),n.callbackPriority=s,n.callbackNode=o,s}return c!==null&&c!==null&&Ko(c),n.callbackPriority=2,n.callbackNode=null,2}function zh(n,s){if(gt!==0&&gt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(Xr()&&n.callbackNode!==o)return null;var c=De;return c=or(n,n===Ge?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(Nh(n,c,s),$h(n,nn()),n.callbackNode!=null&&n.callbackNode===o?zh.bind(null,n):null)}function Hh(n,s){if(Xr())return null;Nh(n,s,!0)}function z1(){X1(function(){(Be&6)!==0?rt(Rd,$1):qh()})}function Vc(){return _i===0&&(_i=Id()),_i}function Gh(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:fr(""+n)}function Fh(n,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,n.id&&o.setAttribute("form",n.id),s.parentNode.insertBefore(o,s),n=new FormData(n),o.parentNode.removeChild(o),n}function H1(n,s,o,c,h){if(s==="submit"&&o&&o.stateNode===h){var y=Gh((h[Tt]||null).action),C=c.submitter;C&&(s=(s=C[Tt]||null)?Gh(s.formAction):C.getAttribute("formAction"),s!==null&&(y=s,C=null));var N=new gr("action","action",null,c,h);n.push({event:N,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(_i!==0){var k=C?Fh(h,C):new FormData(h);rc(o,{pending:!0,data:k,method:h.method,action:y},null,k)}}else typeof y=="function"&&(N.preventDefault(),k=C?Fh(h,C):new FormData(h),rc(o,{pending:!0,data:k,method:h.method,action:y},y,k))},currentTarget:h}]})}}for(var qc=0;qc<Nl.length;qc++){var $c=Nl[qc],G1=$c.toLowerCase(),F1=$c[0].toUpperCase()+$c.slice(1);Jt(G1,"on"+F1)}Jt(Nf,"onAnimationEnd"),Jt(Ef,"onAnimationIteration"),Jt(Af,"onAnimationStart"),Jt("dblclick","onDoubleClick"),Jt("focusin","onFocus"),Jt("focusout","onBlur"),Jt(c1,"onTransitionRun"),Jt(u1,"onTransitionStart"),Jt(d1,"onTransitionCancel"),Jt(_f,"onTransitionEnd"),Hi("onMouseEnter",["mouseout","mouseover"]),Hi("onMouseLeave",["mouseout","mouseover"]),Hi("onPointerEnter",["pointerout","pointerover"]),Hi("onPointerLeave",["pointerout","pointerover"]),fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _a="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_a));function Yh(n,s){s=(s&4)!==0;for(var o=0;o<n.length;o++){var c=n[o],h=c.event;c=c.listeners;e:{var y=void 0;if(s)for(var C=c.length-1;0<=C;C--){var N=c[C],k=N.instance,q=N.currentTarget;if(N=N.listener,k!==y&&h.isPropagationStopped())break e;y=N,h.currentTarget=q;try{y(h)}catch(Q){$r(Q)}h.currentTarget=null,y=k}else for(C=0;C<c.length;C++){if(N=c[C],k=N.instance,q=N.currentTarget,N=N.listener,k!==y&&h.isPropagationStopped())break e;y=N,h.currentTarget=q;try{y(h)}catch(Q){$r(Q)}h.currentTarget=null,y=k}}}}function Me(n,s){var o=s[tl];o===void 0&&(o=s[tl]=new Set);var c=n+"__bubble";o.has(c)||(Zh(s,n,2,!1),o.add(c))}function zc(n,s,o){var c=0;s&&(c|=4),Zh(o,n,c,s)}var no="_reactListening"+Math.random().toString(36).slice(2);function Hc(n){if(!n[no]){n[no]=!0,Vd.forEach(function(o){o!=="selectionchange"&&(Y1.has(o)||zc(o,!1,n),zc(o,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[no]||(s[no]=!0,zc("selectionchange",!1,s))}}function Zh(n,s,o,c){switch(yp(s)){case 2:var h=bv;break;case 8:h=wv;break;default:h=su}o=h.bind(null,s,o,n),h=void 0,!fl||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),c?h!==void 0?n.addEventListener(s,o,{capture:!0,passive:h}):n.addEventListener(s,o,!0):h!==void 0?n.addEventListener(s,o,{passive:h}):n.addEventListener(s,o,!1)}function Gc(n,s,o,c,h){var y=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var C=c.tag;if(C===3||C===4){var N=c.stateNode.containerInfo;if(N===h)break;if(C===4)for(C=c.return;C!==null;){var k=C.tag;if((k===3||k===4)&&C.stateNode.containerInfo===h)return;C=C.return}for(;N!==null;){if(C=qi(N),C===null)return;if(k=C.tag,k===5||k===6||k===26||k===27){c=y=C;continue e}N=N.parentNode}}c=c.return}ef(function(){var q=y,Q=ul(o),te=[];e:{var $=Mf.get(n);if($!==void 0){var G=gr,ye=n;switch(n){case"keypress":if(hr(o)===0)break e;case"keydown":case"keyup":G=qy;break;case"focusin":ye="focus",G=gl;break;case"focusout":ye="blur",G=gl;break;case"beforeblur":case"afterblur":G=gl;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=sf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=My;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Hy;break;case Nf:case Ef:case Af:G=Dy;break;case _f:G=Fy;break;case"scroll":case"scrollend":G=Ay;break;case"wheel":G=Zy;break;case"copy":case"cut":case"paste":G=Iy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=rf;break;case"toggle":case"beforetoggle":G=Qy}var pe=(s&4)!==0,$e=!pe&&(n==="scroll"||n==="scrollend"),B=pe?$!==null?$+"Capture":null:$;pe=[];for(var D=q,V;D!==null;){var X=D;if(V=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||V===null||B===null||(X=Ys(D,B),X!=null&&pe.push(Ma(D,X,V))),$e)break;D=D.return}0<pe.length&&($=new G($,ye,null,o,Q),te.push({event:$,listeners:pe}))}}if((s&7)===0){e:{if($=n==="mouseover"||n==="pointerover",G=n==="mouseout"||n==="pointerout",$&&o!==cl&&(ye=o.relatedTarget||o.fromElement)&&(qi(ye)||ye[Vi]))break e;if((G||$)&&($=Q.window===Q?Q:($=Q.ownerDocument)?$.defaultView||$.parentWindow:window,G?(ye=o.relatedTarget||o.toElement,G=q,ye=ye?qi(ye):null,ye!==null&&($e=l(ye),pe=ye.tag,ye!==$e||pe!==5&&pe!==27&&pe!==6)&&(ye=null)):(G=null,ye=q),G!==ye)){if(pe=sf,X="onMouseLeave",B="onMouseEnter",D="mouse",(n==="pointerout"||n==="pointerover")&&(pe=rf,X="onPointerLeave",B="onPointerEnter",D="pointer"),$e=G==null?$:Fs(G),V=ye==null?$:Fs(ye),$=new pe(X,D+"leave",G,o,Q),$.target=$e,$.relatedTarget=V,X=null,qi(Q)===q&&(pe=new pe(B,D+"enter",ye,o,Q),pe.target=V,pe.relatedTarget=$e,X=pe),$e=X,G&&ye)t:{for(pe=G,B=ye,D=0,V=pe;V;V=ws(V))D++;for(V=0,X=B;X;X=ws(X))V++;for(;0<D-V;)pe=ws(pe),D--;for(;0<V-D;)B=ws(B),V--;for(;D--;){if(pe===B||B!==null&&pe===B.alternate)break t;pe=ws(pe),B=ws(B)}pe=null}else pe=null;G!==null&&Jh(te,$,G,pe,!1),ye!==null&&$e!==null&&Jh(te,$e,ye,pe,!0)}}e:{if($=q?Fs(q):window,G=$.nodeName&&$.nodeName.toLowerCase(),G==="select"||G==="input"&&$.type==="file")var ue=hf;else if(ff($))if(pf)ue=r1;else{ue=s1;var Ae=i1}else G=$.nodeName,!G||G.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?q&&ll(q.elementType)&&(ue=hf):ue=a1;if(ue&&(ue=ue(n,q))){mf(te,ue,o,Q);break e}Ae&&Ae(n,$,q),n==="focusout"&&q&&$.type==="number"&&q.memoizedProps.value!=null&&ol($,"number",$.value)}switch(Ae=q?Fs(q):window,n){case"focusin":(ff(Ae)||Ae.contentEditable==="true")&&(Ki=Ae,Cl=q,ta=null);break;case"focusout":ta=Cl=Ki=null;break;case"mousedown":Sl=!0;break;case"contextmenu":case"mouseup":case"dragend":Sl=!1,Sf(te,o,Q);break;case"selectionchange":if(l1)break;case"keydown":case"keyup":Sf(te,o,Q)}var me;if(yl)e:{switch(n){case"compositionstart":var ge="onCompositionStart";break e;case"compositionend":ge="onCompositionEnd";break e;case"compositionupdate":ge="onCompositionUpdate";break e}ge=void 0}else Qi?uf(n,o)&&(ge="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(ge="onCompositionStart");ge&&(of&&o.locale!=="ko"&&(Qi||ge!=="onCompositionStart"?ge==="onCompositionEnd"&&Qi&&(me=tf()):(Pn=Q,ml="value"in Pn?Pn.value:Pn.textContent,Qi=!0)),Ae=io(q,ge),0<Ae.length&&(ge=new af(ge,n,null,o,Q),te.push({event:ge,listeners:Ae}),me?ge.data=me:(me=df(o),me!==null&&(ge.data=me)))),(me=Wy?Xy(n,o):e1(n,o))&&(ge=io(q,"onBeforeInput"),0<ge.length&&(Ae=new af("onBeforeInput","beforeinput",null,o,Q),te.push({event:Ae,listeners:ge}),Ae.data=me)),H1(te,n,q,o,Q)}Yh(te,s)})}function Ma(n,s,o){return{instance:n,listener:s,currentTarget:o}}function io(n,s){for(var o=s+"Capture",c=[];n!==null;){var h=n,y=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||y===null||(h=Ys(n,o),h!=null&&c.unshift(Ma(n,h,y)),h=Ys(n,s),h!=null&&c.push(Ma(n,h,y))),n.tag===3)return c;n=n.return}return[]}function ws(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Jh(n,s,o,c,h){for(var y=s._reactName,C=[];o!==null&&o!==c;){var N=o,k=N.alternate,q=N.stateNode;if(N=N.tag,k!==null&&k===c)break;N!==5&&N!==26&&N!==27||q===null||(k=q,h?(q=Ys(o,y),q!=null&&C.unshift(Ma(o,q,k))):h||(q=Ys(o,y),q!=null&&C.push(Ma(o,q,k)))),o=o.return}C.length!==0&&n.push({event:s,listeners:C})}var Z1=/\r\n?/g,J1=/\u0000|\uFFFD/g;function Qh(n){return(typeof n=="string"?n:""+n).replace(Z1,`
`).replace(J1,"")}function Kh(n,s){return s=Qh(s),Qh(n)===s}function so(){}function qe(n,s,o,c,h,y){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||Yi(n,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&Yi(n,""+c);break;case"className":cr(n,"class",c);break;case"tabIndex":cr(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":cr(n,o,c);break;case"style":Wd(n,c,y);break;case"data":if(s!=="object"){cr(n,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){n.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(o);break}c=fr(""+c),n.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(s!=="input"&&qe(n,s,"name",h.name,h,null),qe(n,s,"formEncType",h.formEncType,h,null),qe(n,s,"formMethod",h.formMethod,h,null),qe(n,s,"formTarget",h.formTarget,h,null)):(qe(n,s,"encType",h.encType,h,null),qe(n,s,"method",h.method,h,null),qe(n,s,"target",h.target,h,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(o);break}c=fr(""+c),n.setAttribute(o,c);break;case"onClick":c!=null&&(n.onclick=so);break;case"onScroll":c!=null&&Me("scroll",n);break;case"onScrollEnd":c!=null&&Me("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(h.children!=null)throw Error(a(60));n.innerHTML=o}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}o=fr(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,""+c):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":c===!0?n.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,c):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(o,c):n.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(o):n.setAttribute(o,c);break;case"popover":Me("beforetoggle",n),Me("toggle",n),lr(n,"popover",c);break;case"xlinkActuate":pn(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":pn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":pn(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":pn(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":pn(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":pn(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":pn(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":pn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":pn(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":lr(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Ny.get(o)||o,lr(n,o,c))}}function Fc(n,s,o,c,h,y){switch(o){case"style":Wd(n,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(h.children!=null)throw Error(a(60));n.innerHTML=o}}break;case"children":typeof c=="string"?Yi(n,c):(typeof c=="number"||typeof c=="bigint")&&Yi(n,""+c);break;case"onScroll":c!=null&&Me("scroll",n);break;case"onScrollEnd":c!=null&&Me("scrollend",n);break;case"onClick":c!=null&&(n.onclick=so);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qd.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),s=o.slice(2,h?o.length-7:void 0),y=n[Tt]||null,y=y!=null?y[o]:null,typeof y=="function"&&n.removeEventListener(s,y,h),typeof c=="function")){typeof y!="function"&&y!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(s,c,h);break e}o in n?n[o]=c:c===!0?n.setAttribute(o,""):lr(n,o,c)}}}function xt(n,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",n),Me("load",n);var c=!1,h=!1,y;for(y in o)if(o.hasOwnProperty(y)){var C=o[y];if(C!=null)switch(y){case"src":c=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:qe(n,s,y,C,o,null)}}h&&qe(n,s,"srcSet",o.srcSet,o,null),c&&qe(n,s,"src",o.src,o,null);return;case"input":Me("invalid",n);var N=y=C=h=null,k=null,q=null;for(c in o)if(o.hasOwnProperty(c)){var Q=o[c];if(Q!=null)switch(c){case"name":h=Q;break;case"type":C=Q;break;case"checked":k=Q;break;case"defaultChecked":q=Q;break;case"value":y=Q;break;case"defaultValue":N=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,s));break;default:qe(n,s,c,Q,o,null)}}Zd(n,y,N,k,q,C,h,!1),ur(n);return;case"select":Me("invalid",n),c=C=y=null;for(h in o)if(o.hasOwnProperty(h)&&(N=o[h],N!=null))switch(h){case"value":y=N;break;case"defaultValue":C=N;break;case"multiple":c=N;default:qe(n,s,h,N,o,null)}s=y,o=C,n.multiple=!!c,s!=null?Fi(n,!!c,s,!1):o!=null&&Fi(n,!!c,o,!0);return;case"textarea":Me("invalid",n),y=h=c=null;for(C in o)if(o.hasOwnProperty(C)&&(N=o[C],N!=null))switch(C){case"value":c=N;break;case"defaultValue":h=N;break;case"children":y=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(a(91));break;default:qe(n,s,C,N,o,null)}Qd(n,c,h,y),ur(n);return;case"option":for(k in o)if(o.hasOwnProperty(k)&&(c=o[k],c!=null))switch(k){case"selected":n.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:qe(n,s,k,c,o,null)}return;case"dialog":Me("beforetoggle",n),Me("toggle",n),Me("cancel",n),Me("close",n);break;case"iframe":case"object":Me("load",n);break;case"video":case"audio":for(c=0;c<_a.length;c++)Me(_a[c],n);break;case"image":Me("error",n),Me("load",n);break;case"details":Me("toggle",n);break;case"embed":case"source":case"link":Me("error",n),Me("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in o)if(o.hasOwnProperty(q)&&(c=o[q],c!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,s));default:qe(n,s,q,c,o,null)}return;default:if(ll(s)){for(Q in o)o.hasOwnProperty(Q)&&(c=o[Q],c!==void 0&&Fc(n,s,Q,c,o,void 0));return}}for(N in o)o.hasOwnProperty(N)&&(c=o[N],c!=null&&qe(n,s,N,c,o,null))}function Q1(n,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,y=null,C=null,N=null,k=null,q=null,Q=null;for(G in o){var te=o[G];if(o.hasOwnProperty(G)&&te!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":k=te;default:c.hasOwnProperty(G)||qe(n,s,G,null,c,te)}}for(var $ in c){var G=c[$];if(te=o[$],c.hasOwnProperty($)&&(G!=null||te!=null))switch($){case"type":y=G;break;case"name":h=G;break;case"checked":q=G;break;case"defaultChecked":Q=G;break;case"value":C=G;break;case"defaultValue":N=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,s));break;default:G!==te&&qe(n,s,$,G,c,te)}}rl(n,C,N,k,q,Q,y,h);return;case"select":G=C=N=$=null;for(y in o)if(k=o[y],o.hasOwnProperty(y)&&k!=null)switch(y){case"value":break;case"multiple":G=k;default:c.hasOwnProperty(y)||qe(n,s,y,null,c,k)}for(h in c)if(y=c[h],k=o[h],c.hasOwnProperty(h)&&(y!=null||k!=null))switch(h){case"value":$=y;break;case"defaultValue":N=y;break;case"multiple":C=y;default:y!==k&&qe(n,s,h,y,c,k)}s=N,o=C,c=G,$!=null?Fi(n,!!o,$,!1):!!c!=!!o&&(s!=null?Fi(n,!!o,s,!0):Fi(n,!!o,o?[]:"",!1));return;case"textarea":G=$=null;for(N in o)if(h=o[N],o.hasOwnProperty(N)&&h!=null&&!c.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:qe(n,s,N,null,c,h)}for(C in c)if(h=c[C],y=o[C],c.hasOwnProperty(C)&&(h!=null||y!=null))switch(C){case"value":$=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==y&&qe(n,s,C,h,c,y)}Jd(n,$,G);return;case"option":for(var ye in o)if($=o[ye],o.hasOwnProperty(ye)&&$!=null&&!c.hasOwnProperty(ye))switch(ye){case"selected":n.selected=!1;break;default:qe(n,s,ye,null,c,$)}for(k in c)if($=c[k],G=o[k],c.hasOwnProperty(k)&&$!==G&&($!=null||G!=null))switch(k){case"selected":n.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:qe(n,s,k,$,c,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in o)$=o[pe],o.hasOwnProperty(pe)&&$!=null&&!c.hasOwnProperty(pe)&&qe(n,s,pe,null,c,$);for(q in c)if($=c[q],G=o[q],c.hasOwnProperty(q)&&$!==G&&($!=null||G!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(a(137,s));break;default:qe(n,s,q,$,c,G)}return;default:if(ll(s)){for(var $e in o)$=o[$e],o.hasOwnProperty($e)&&$!==void 0&&!c.hasOwnProperty($e)&&Fc(n,s,$e,void 0,c,$);for(Q in c)$=c[Q],G=o[Q],!c.hasOwnProperty(Q)||$===G||$===void 0&&G===void 0||Fc(n,s,Q,$,c,G);return}}for(var B in o)$=o[B],o.hasOwnProperty(B)&&$!=null&&!c.hasOwnProperty(B)&&qe(n,s,B,null,c,$);for(te in c)$=c[te],G=o[te],!c.hasOwnProperty(te)||$===G||$==null&&G==null||qe(n,s,te,$,c,G)}var Yc=null,Zc=null;function ao(n){return n.nodeType===9?n:n.ownerDocument}function Wh(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xh(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function Jc(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Qc=null;function K1(){var n=window.event;return n&&n.type==="popstate"?n===Qc?!1:(Qc=n,!0):(Qc=null,!1)}var ep=typeof setTimeout=="function"?setTimeout:void 0,W1=typeof clearTimeout=="function"?clearTimeout:void 0,tp=typeof Promise=="function"?Promise:void 0,X1=typeof queueMicrotask=="function"?queueMicrotask:typeof tp<"u"?function(n){return tp.resolve(null).then(n).catch(ev)}:ep;function ev(n){setTimeout(function(){throw n})}function Xn(n){return n==="head"}function np(n,s){var o=s,c=0,h=0;do{var y=o.nextSibling;if(n.removeChild(o),y&&y.nodeType===8)if(o=y.data,o==="/$"){if(0<c&&8>c){o=c;var C=n.ownerDocument;if(o&1&&ka(C.documentElement),o&2&&ka(C.body),o&4)for(o=C.head,ka(o),C=o.firstChild;C;){var N=C.nextSibling,k=C.nodeName;C[Gs]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&C.rel.toLowerCase()==="stylesheet"||o.removeChild(C),C=N}}if(h===0){n.removeChild(y),Ba(s);return}h--}else o==="$"||o==="$?"||o==="$!"?h++:c=o.charCodeAt(0)-48;else c=0;o=y}while(o);Ba(s)}function Kc(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Kc(o),nl(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function tv(n,s,o,c){for(;n.nodeType===1;){var h=o;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[Gs])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(y=n.getAttribute("rel"),y==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(y!==h.rel||n.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||n.getAttribute("title")!==(h.title==null?null:h.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(y=n.getAttribute("src"),(y!==(h.src==null?null:h.src)||n.getAttribute("type")!==(h.type==null?null:h.type)||n.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&y&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var y=h.name==null?null:""+h.name;if(h.type==="hidden"&&n.getAttribute("name")===y)return n}else return n;if(n=Kt(n.nextSibling),n===null)break}return null}function nv(n,s,o){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=Kt(n.nextSibling),n===null))return null;return n}function Wc(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function iv(n,s){var o=n.ownerDocument;if(n.data!=="$?"||o.readyState==="complete")s();else{var c=function(){s(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function Kt(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return n}var Xc=null;function ip(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return n;s--}else o==="/$"&&s++}n=n.previousSibling}return null}function sp(n,s,o){switch(s=ao(o),n){case"html":if(n=s.documentElement,!n)throw Error(a(452));return n;case"head":if(n=s.head,!n)throw Error(a(453));return n;case"body":if(n=s.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function ka(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);nl(n)}var Yt=new Map,ap=new Set;function ro(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Mn=Z.d;Z.d={f:sv,r:av,D:rv,C:ov,L:lv,m:cv,X:dv,S:uv,M:fv};function sv(){var n=Mn.f(),s=Kr();return n||s}function av(n){var s=$i(n);s!==null&&s.tag===5&&s.type==="form"?Nm(s):Mn.r(n)}var Cs=typeof document>"u"?null:document;function rp(n,s,o){var c=Cs;if(c&&typeof s=="string"&&s){var h=Vt(s);h='link[rel="'+n+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),ap.has(h)||(ap.add(h),n={rel:n,crossOrigin:o,href:s},c.querySelector(h)===null&&(s=c.createElement("link"),xt(s,"link",n),ut(s),c.head.appendChild(s)))}}function rv(n){Mn.D(n),rp("dns-prefetch",n,null)}function ov(n,s){Mn.C(n,s),rp("preconnect",n,s)}function lv(n,s,o){Mn.L(n,s,o);var c=Cs;if(c&&n&&s){var h='link[rel="preload"][as="'+Vt(s)+'"]';s==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+Vt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+Vt(o.imageSizes)+'"]')):h+='[href="'+Vt(n)+'"]';var y=h;switch(s){case"style":y=Ss(n);break;case"script":y=Ts(n)}Yt.has(y)||(n=v({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:n,as:s},o),Yt.set(y,n),c.querySelector(h)!==null||s==="style"&&c.querySelector(Ra(y))||s==="script"&&c.querySelector(Da(y))||(s=c.createElement("link"),xt(s,"link",n),ut(s),c.head.appendChild(s)))}}function cv(n,s){Mn.m(n,s);var o=Cs;if(o&&n){var c=s&&typeof s.as=="string"?s.as:"script",h='link[rel="modulepreload"][as="'+Vt(c)+'"][href="'+Vt(n)+'"]',y=h;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Ts(n)}if(!Yt.has(y)&&(n=v({rel:"modulepreload",href:n},s),Yt.set(y,n),o.querySelector(h)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Da(y)))return}c=o.createElement("link"),xt(c,"link",n),ut(c),o.head.appendChild(c)}}}function uv(n,s,o){Mn.S(n,s,o);var c=Cs;if(c&&n){var h=zi(c).hoistableStyles,y=Ss(n);s=s||"default";var C=h.get(y);if(!C){var N={loading:0,preload:null};if(C=c.querySelector(Ra(y)))N.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":s},o),(o=Yt.get(y))&&eu(n,o);var k=C=c.createElement("link");ut(k),xt(k,"link",n),k._p=new Promise(function(q,Q){k.onload=q,k.onerror=Q}),k.addEventListener("load",function(){N.loading|=1}),k.addEventListener("error",function(){N.loading|=2}),N.loading|=4,oo(C,s,c)}C={type:"stylesheet",instance:C,count:1,state:N},h.set(y,C)}}}function dv(n,s){Mn.X(n,s);var o=Cs;if(o&&n){var c=zi(o).hoistableScripts,h=Ts(n),y=c.get(h);y||(y=o.querySelector(Da(h)),y||(n=v({src:n,async:!0},s),(s=Yt.get(h))&&tu(n,s),y=o.createElement("script"),ut(y),xt(y,"link",n),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(h,y))}}function fv(n,s){Mn.M(n,s);var o=Cs;if(o&&n){var c=zi(o).hoistableScripts,h=Ts(n),y=c.get(h);y||(y=o.querySelector(Da(h)),y||(n=v({src:n,async:!0,type:"module"},s),(s=Yt.get(h))&&tu(n,s),y=o.createElement("script"),ut(y),xt(y,"link",n),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(h,y))}}function op(n,s,o,c){var h=(h=xe.current)?ro(h):null;if(!h)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Ss(o.href),o=zi(h).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=Ss(o.href);var y=zi(h).hoistableStyles,C=y.get(n);if(C||(h=h.ownerDocument||h,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(n,C),(y=h.querySelector(Ra(n)))&&!y._p&&(C.instance=y,C.state.loading=5),Yt.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Yt.set(n,o),y||mv(h,n,o,C.state))),s&&c===null)throw Error(a(528,""));return C}if(s&&c!==null)throw Error(a(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ts(o),o=zi(h).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function Ss(n){return'href="'+Vt(n)+'"'}function Ra(n){return'link[rel="stylesheet"]['+n+"]"}function lp(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function mv(n,s,o,c){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=n.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),xt(s,"link",o),ut(s),n.head.appendChild(s))}function Ts(n){return'[src="'+Vt(n)+'"]'}function Da(n){return"script[async]"+n}function cp(n,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=n.querySelector('style[data-href~="'+Vt(o.href)+'"]');if(c)return s.instance=c,ut(c),c;var h=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),ut(c),xt(c,"style",h),oo(c,o.precedence,n),s.instance=c;case"stylesheet":h=Ss(o.href);var y=n.querySelector(Ra(h));if(y)return s.state.loading|=4,s.instance=y,ut(y),y;c=lp(o),(h=Yt.get(h))&&eu(c,h),y=(n.ownerDocument||n).createElement("link"),ut(y);var C=y;return C._p=new Promise(function(N,k){C.onload=N,C.onerror=k}),xt(y,"link",c),s.state.loading|=4,oo(y,o.precedence,n),s.instance=y;case"script":return y=Ts(o.src),(h=n.querySelector(Da(y)))?(s.instance=h,ut(h),h):(c=o,(h=Yt.get(y))&&(c=v({},o),tu(c,h)),n=n.ownerDocument||n,h=n.createElement("script"),ut(h),xt(h,"link",c),n.head.appendChild(h),s.instance=h);case"void":return null;default:throw Error(a(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,oo(c,o.precedence,n));return s.instance}function oo(n,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=c.length?c[c.length-1]:null,y=h,C=0;C<c.length;C++){var N=c[C];if(N.dataset.precedence===s)y=N;else if(y!==h)break}y?y.parentNode.insertBefore(n,y.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(n,s.firstChild))}function eu(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function tu(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var lo=null;function up(n,s,o){if(lo===null){var c=new Map,h=lo=new Map;h.set(o,c)}else h=lo,c=h.get(o),c||(c=new Map,h.set(o,c));if(c.has(n))return c;for(c.set(n,null),o=o.getElementsByTagName(n),h=0;h<o.length;h++){var y=o[h];if(!(y[Gs]||y[yt]||n==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var C=y.getAttribute(s)||"";C=n+C;var N=c.get(C);N?N.push(y):c.set(C,[y])}}return c}function dp(n,s,o){n=n.ownerDocument||n,n.head.insertBefore(o,s==="title"?n.querySelector("head > title"):null)}function hv(n,s,o){if(o===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function fp(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var ja=null;function pv(){}function gv(n,s,o){if(ja===null)throw Error(a(475));var c=ja;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Ss(o.href),y=n.querySelector(Ra(h));if(y){n=y._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(c.count++,c=co.bind(c),n.then(c,c)),s.state.loading|=4,s.instance=y,ut(y);return}y=n.ownerDocument||n,o=lp(o),(h=Yt.get(h))&&eu(o,h),y=y.createElement("link"),ut(y);var C=y;C._p=new Promise(function(N,k){C.onload=N,C.onerror=k}),xt(y,"link",o),s.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(c.count++,s=co.bind(c),n.addEventListener("load",s),n.addEventListener("error",s))}}function xv(){if(ja===null)throw Error(a(475));var n=ja;return n.stylesheets&&n.count===0&&nu(n,n.stylesheets),0<n.count?function(s){var o=setTimeout(function(){if(n.stylesheets&&nu(n,n.stylesheets),n.unsuspend){var c=n.unsuspend;n.unsuspend=null,c()}},6e4);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(o)}}:null}function co(){if(this.count--,this.count===0){if(this.stylesheets)nu(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var uo=null;function nu(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,uo=new Map,s.forEach(yv,n),uo=null,co.call(n))}function yv(n,s){if(!(s.state.loading&4)){var o=uo.get(n);if(o)var c=o.get(null);else{o=new Map,uo.set(n,o);for(var h=n.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<h.length;y++){var C=h[y];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(o.set(C.dataset.precedence,C),c=C)}c&&o.set(null,c)}h=s.instance,C=h.getAttribute("data-precedence"),y=o.get(C)||c,y===c&&o.set(null,h),o.set(C,h),this.count++,c=co.bind(this),h.addEventListener("load",c),h.addEventListener("error",c),y?y.parentNode.insertBefore(h,y.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(h,n.firstChild)),s.state.loading|=4}}var Ia={$$typeof:U,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function vv(n,s,o,c,h,y,C,N){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wo(0),this.hiddenUpdates=Wo(null),this.identifierPrefix=c,this.onUncaughtError=h,this.onCaughtError=y,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function mp(n,s,o,c,h,y,C,N,k,q,Q,te){return n=new vv(n,s,o,C,N,k,q,te),s=1,y===!0&&(s|=24),y=Dt(3,null,null,s),n.current=y,y.stateNode=n,s=Pl(),s.refCount++,n.pooledCache=s,s.refCount++,y.memoizedState={element:c,isDehydrated:o,cache:s},ql(y),n}function hp(n){return n?(n=ts,n):ts}function pp(n,s,o,c,h,y){h=hp(h),c.context===null?c.context=h:c.pendingContext=h,c=Vn(s),c.payload={element:o},y=y===void 0?null:y,y!==null&&(c.callback=y),o=qn(n,c,s),o!==null&&(Pt(o,n,s),ua(o,n,s))}function gp(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<s?o:s}}function iu(n,s){gp(n,s),(n=n.alternate)&&gp(n,s)}function xp(n){if(n.tag===13){var s=es(n,67108864);s!==null&&Pt(s,n,67108864),iu(n,67108864)}}var fo=!0;function bv(n,s,o,c){var h=I.T;I.T=null;var y=Z.p;try{Z.p=2,su(n,s,o,c)}finally{Z.p=y,I.T=h}}function wv(n,s,o,c){var h=I.T;I.T=null;var y=Z.p;try{Z.p=8,su(n,s,o,c)}finally{Z.p=y,I.T=h}}function su(n,s,o,c){if(fo){var h=au(c);if(h===null)Gc(n,s,c,mo,o),vp(n,c);else if(Sv(h,n,s,o,c))c.stopPropagation();else if(vp(n,c),s&4&&-1<Cv.indexOf(n)){for(;h!==null;){var y=$i(h);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var C=di(y.pendingLanes);if(C!==0){var N=y;for(N.pendingLanes|=2,N.entangledLanes|=2;C;){var k=1<<31-kt(C);N.entanglements[1]|=k,C&=~k}ln(y),(Be&6)===0&&(Jr=nn()+500,Aa(0))}}break;case 13:N=es(y,2),N!==null&&Pt(N,y,2),Kr(),iu(y,2)}if(y=au(c),y===null&&Gc(n,s,c,mo,o),y===h)break;h=y}h!==null&&c.stopPropagation()}else Gc(n,s,c,null,o)}}function au(n){return n=ul(n),ru(n)}var mo=null;function ru(n){if(mo=null,n=qi(n),n!==null){var s=l(n);if(s===null)n=null;else{var o=s.tag;if(o===13){if(n=m(s),n!==null)return n;n=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return mo=n,null}function yp(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(oy()){case Rd:return 2;case Dd:return 8;case sr:case ly:return 32;case jd:return 268435456;default:return 32}default:return 32}}var ou=!1,ei=null,ti=null,ni=null,La=new Map,Ua=new Map,ii=[],Cv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vp(n,s){switch(n){case"focusin":case"focusout":ei=null;break;case"dragenter":case"dragleave":ti=null;break;case"mouseover":case"mouseout":ni=null;break;case"pointerover":case"pointerout":La.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ua.delete(s.pointerId)}}function Pa(n,s,o,c,h,y){return n===null||n.nativeEvent!==y?(n={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:y,targetContainers:[h]},s!==null&&(s=$i(s),s!==null&&xp(s)),n):(n.eventSystemFlags|=c,s=n.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),n)}function Sv(n,s,o,c,h){switch(s){case"focusin":return ei=Pa(ei,n,s,o,c,h),!0;case"dragenter":return ti=Pa(ti,n,s,o,c,h),!0;case"mouseover":return ni=Pa(ni,n,s,o,c,h),!0;case"pointerover":var y=h.pointerId;return La.set(y,Pa(La.get(y)||null,n,s,o,c,h)),!0;case"gotpointercapture":return y=h.pointerId,Ua.set(y,Pa(Ua.get(y)||null,n,s,o,c,h)),!0}return!1}function bp(n){var s=qi(n.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=m(o),s!==null){n.blockedOn=s,gy(n.priority,function(){if(o.tag===13){var c=Ut();c=Xo(c);var h=es(o,c);h!==null&&Pt(h,o,c),iu(o,c)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ho(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var o=au(n.nativeEvent);if(o===null){o=n.nativeEvent;var c=new o.constructor(o.type,o);cl=c,o.target.dispatchEvent(c),cl=null}else return s=$i(o),s!==null&&xp(s),n.blockedOn=o,!1;s.shift()}return!0}function wp(n,s,o){ho(n)&&o.delete(s)}function Tv(){ou=!1,ei!==null&&ho(ei)&&(ei=null),ti!==null&&ho(ti)&&(ti=null),ni!==null&&ho(ni)&&(ni=null),La.forEach(wp),Ua.forEach(wp)}function po(n,s){n.blockedOn===s&&(n.blockedOn=null,ou||(ou=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Tv)))}var go=null;function Cp(n){go!==n&&(go=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){go===n&&(go=null);for(var s=0;s<n.length;s+=3){var o=n[s],c=n[s+1],h=n[s+2];if(typeof c!="function"){if(ru(c||o)===null)continue;break}var y=$i(o);y!==null&&(n.splice(s,3),s-=3,rc(y,{pending:!0,data:h,method:o.method,action:c},c,h))}}))}function Ba(n){function s(k){return po(k,n)}ei!==null&&po(ei,n),ti!==null&&po(ti,n),ni!==null&&po(ni,n),La.forEach(s),Ua.forEach(s);for(var o=0;o<ii.length;o++){var c=ii[o];c.blockedOn===n&&(c.blockedOn=null)}for(;0<ii.length&&(o=ii[0],o.blockedOn===null);)bp(o),o.blockedOn===null&&ii.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var h=o[c],y=o[c+1],C=h[Tt]||null;if(typeof y=="function")C||Cp(o);else if(C){var N=null;if(y&&y.hasAttribute("formAction")){if(h=y,C=y[Tt]||null)N=C.formAction;else if(ru(h)!==null)continue}else N=C.action;typeof N=="function"?o[c+1]=N:(o.splice(c,3),c-=3),Cp(o)}}}function lu(n){this._internalRoot=n}xo.prototype.render=lu.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(a(409));var o=s.current,c=Ut();pp(o,c,n,s,null,null)},xo.prototype.unmount=lu.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;pp(n.current,2,null,n,null,null),Kr(),s[Vi]=null}};function xo(n){this._internalRoot=n}xo.prototype.unstable_scheduleHydration=function(n){if(n){var s=Bd();n={blockedOn:null,target:n,priority:s};for(var o=0;o<ii.length&&s!==0&&s<ii[o].priority;o++);ii.splice(o,0,n),o===0&&bp(n)}};var Sp=e.version;if(Sp!=="19.1.0")throw Error(a(527,Sp,"19.1.0"));Z.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=x(s),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var Nv={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:I,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yo.isDisabled&&yo.supportsFiber)try{$s=yo.inject(Nv),Mt=yo}catch{}}return Va.createRoot=function(n,s){if(!r(n))throw Error(a(299));var o=!1,c="",h=Om,y=Vm,C=qm,N=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(C=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(N=s.unstable_transitionCallbacks)),s=mp(n,1,!1,null,null,o,c,h,y,C,N,null),n[Vi]=s.current,Hc(n),new lu(s)},Va.hydrateRoot=function(n,s,o){if(!r(n))throw Error(a(299));var c=!1,h="",y=Om,C=Vm,N=qm,k=null,q=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(C=o.onCaughtError),o.onRecoverableError!==void 0&&(N=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(k=o.unstable_transitionCallbacks),o.formState!==void 0&&(q=o.formState)),s=mp(n,1,!0,s,o??null,c,h,y,C,N,k,q),s.context=hp(null),o=s.current,c=Ut(),c=Xo(c),h=Vn(c),h.callback=null,qn(o,h,c),o=c,s.current.lanes=o,Hs(s,o),ln(s),n[Vi]=s.current,Hc(n),new xo(s)},Va.version="19.1.0",Va}var jp;function Lv(){if(jp)return du.exports;jp=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),du.exports=Iv(),du.exports}var Uv=Lv();const Pv=hd(Uv);var Le;(function(t){t.assertEqual=r=>{};function e(r){}t.assertIs=e;function i(r){throw new Error}t.assertNever=i,t.arrayToEnum=r=>{const l={};for(const m of r)l[m]=m;return l},t.getValidEnumValues=r=>{const l=t.objectKeys(r).filter(p=>typeof r[r[p]]!="number"),m={};for(const p of l)m[p]=r[p];return t.objectValues(m)},t.objectValues=r=>t.objectKeys(r).map(function(l){return r[l]}),t.objectKeys=typeof Object.keys=="function"?r=>Object.keys(r):r=>{const l=[];for(const m in r)Object.prototype.hasOwnProperty.call(r,m)&&l.push(m);return l},t.find=(r,l)=>{for(const m of r)if(l(m))return m},t.isInteger=typeof Number.isInteger=="function"?r=>Number.isInteger(r):r=>typeof r=="number"&&Number.isFinite(r)&&Math.floor(r)===r;function a(r,l=" | "){return r.map(m=>typeof m=="string"?`'${m}'`:m).join(l)}t.joinValues=a,t.jsonStringifyReplacer=(r,l)=>typeof l=="bigint"?l.toString():l})(Le||(Le={}));var Ip;(function(t){t.mergeShapes=(e,i)=>({...e,...i})})(Ip||(Ip={}));const de=Le.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ri=t=>{switch(typeof t){case"undefined":return de.undefined;case"string":return de.string;case"number":return Number.isNaN(t)?de.nan:de.number;case"boolean":return de.boolean;case"function":return de.function;case"bigint":return de.bigint;case"symbol":return de.symbol;case"object":return Array.isArray(t)?de.array:t===null?de.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?de.promise:typeof Map<"u"&&t instanceof Map?de.map:typeof Set<"u"&&t instanceof Set?de.set:typeof Date<"u"&&t instanceof Date?de.date:de.object;default:return de.unknown}},ie=Le.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Rn extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=a=>{this.issues=[...this.issues,a]},this.addIssues=(a=[])=>{this.issues=[...this.issues,...a]};const i=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,i):this.__proto__=i,this.name="ZodError",this.issues=e}format(e){const i=e||function(l){return l.message},a={_errors:[]},r=l=>{for(const m of l.issues)if(m.code==="invalid_union")m.unionErrors.map(r);else if(m.code==="invalid_return_type")r(m.returnTypeError);else if(m.code==="invalid_arguments")r(m.argumentsError);else if(m.path.length===0)a._errors.push(i(m));else{let p=a,x=0;for(;x<m.path.length;){const g=m.path[x];x===m.path.length-1?(p[g]=p[g]||{_errors:[]},p[g]._errors.push(i(m))):p[g]=p[g]||{_errors:[]},p=p[g],x++}}};return r(this),a}static assert(e){if(!(e instanceof Rn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Le.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=i=>i.message){const i={},a=[];for(const r of this.issues)r.path.length>0?(i[r.path[0]]=i[r.path[0]]||[],i[r.path[0]].push(e(r))):a.push(e(r));return{formErrors:a,fieldErrors:i}}get formErrors(){return this.flatten()}}Rn.create=t=>new Rn(t);const Hu=(t,e)=>{let i;switch(t.code){case ie.invalid_type:t.received===de.undefined?i="Required":i=`Expected ${t.expected}, received ${t.received}`;break;case ie.invalid_literal:i=`Invalid literal value, expected ${JSON.stringify(t.expected,Le.jsonStringifyReplacer)}`;break;case ie.unrecognized_keys:i=`Unrecognized key(s) in object: ${Le.joinValues(t.keys,", ")}`;break;case ie.invalid_union:i="Invalid input";break;case ie.invalid_union_discriminator:i=`Invalid discriminator value. Expected ${Le.joinValues(t.options)}`;break;case ie.invalid_enum_value:i=`Invalid enum value. Expected ${Le.joinValues(t.options)}, received '${t.received}'`;break;case ie.invalid_arguments:i="Invalid function arguments";break;case ie.invalid_return_type:i="Invalid function return type";break;case ie.invalid_date:i="Invalid date";break;case ie.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(i=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(i=`${i} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?i=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?i=`Invalid input: must end with "${t.validation.endsWith}"`:Le.assertNever(t.validation):t.validation!=="regex"?i=`Invalid ${t.validation}`:i="Invalid";break;case ie.too_small:t.type==="array"?i=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?i=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?i=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?i=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:i="Invalid input";break;case ie.too_big:t.type==="array"?i=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?i=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?i=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?i=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?i=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:i="Invalid input";break;case ie.custom:i="Invalid input";break;case ie.invalid_intersection_types:i="Intersection results could not be merged";break;case ie.not_multiple_of:i=`Number must be a multiple of ${t.multipleOf}`;break;case ie.not_finite:i="Number must be finite";break;default:i=e.defaultError,Le.assertNever(t)}return{message:i}};let Bv=Hu;function Ov(){return Bv}const Vv=t=>{const{data:e,path:i,errorMaps:a,issueData:r}=t,l=[...i,...r.path||[]],m={...r,path:l};if(r.message!==void 0)return{...r,path:l,message:r.message};let p="";const x=a.filter(g=>!!g).slice().reverse();for(const g of x)p=g(m,{data:e,defaultError:p}).message;return{...r,path:l,message:p}};function ce(t,e){const i=Ov(),a=Vv({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,i,i===Hu?void 0:Hu].filter(r=>!!r)});t.common.issues.push(a)}class St{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,i){const a=[];for(const r of i){if(r.status==="aborted")return we;r.status==="dirty"&&e.dirty(),a.push(r.value)}return{status:e.value,value:a}}static async mergeObjectAsync(e,i){const a=[];for(const r of i){const l=await r.key,m=await r.value;a.push({key:l,value:m})}return St.mergeObjectSync(e,a)}static mergeObjectSync(e,i){const a={};for(const r of i){const{key:l,value:m}=r;if(l.status==="aborted"||m.status==="aborted")return we;l.status==="dirty"&&e.dirty(),m.status==="dirty"&&e.dirty(),l.value!=="__proto__"&&(typeof m.value<"u"||r.alwaysSet)&&(a[l.value]=m.value)}return{status:e.value,value:a}}}const we=Object.freeze({status:"aborted"}),Ga=t=>({status:"dirty",value:t}),Zt=t=>({status:"valid",value:t}),Lp=t=>t.status==="aborted",Up=t=>t.status==="dirty",Ds=t=>t.status==="valid",Mo=t=>typeof Promise<"u"&&t instanceof Promise;var fe;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(fe||(fe={}));class mn{constructor(e,i,a,r){this._cachedPath=[],this.parent=e,this.data=i,this._path=a,this._key=r}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Pp=(t,e)=>{if(Ds(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const i=new Rn(t.common.issues);return this._error=i,this._error}}};function Te(t){if(!t)return{};const{errorMap:e,invalid_type_error:i,required_error:a,description:r}=t;if(e&&(i||a))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:r}:{errorMap:(m,p)=>{const{message:x}=t;return m.code==="invalid_enum_value"?{message:x??p.defaultError}:typeof p.data>"u"?{message:x??a??p.defaultError}:m.code!=="invalid_type"?{message:p.defaultError}:{message:x??i??p.defaultError}},description:r}}class Re{get description(){return this._def.description}_getType(e){return ri(e.data)}_getOrReturnCtx(e,i){return i||{common:e.parent.common,data:e.data,parsedType:ri(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new St,ctx:{common:e.parent.common,data:e.data,parsedType:ri(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const i=this._parse(e);if(Mo(i))throw new Error("Synchronous parse encountered promise.");return i}_parseAsync(e){const i=this._parse(e);return Promise.resolve(i)}parse(e,i){const a=this.safeParse(e,i);if(a.success)return a.data;throw a.error}safeParse(e,i){const a={common:{issues:[],async:(i==null?void 0:i.async)??!1,contextualErrorMap:i==null?void 0:i.errorMap},path:(i==null?void 0:i.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ri(e)},r=this._parseSync({data:e,path:a.path,parent:a});return Pp(a,r)}"~validate"(e){var a,r;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ri(e)};if(!this["~standard"].async)try{const l=this._parseSync({data:e,path:[],parent:i});return Ds(l)?{value:l.value}:{issues:i.common.issues}}catch(l){(r=(a=l==null?void 0:l.message)==null?void 0:a.toLowerCase())!=null&&r.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:i}).then(l=>Ds(l)?{value:l.value}:{issues:i.common.issues})}async parseAsync(e,i){const a=await this.safeParseAsync(e,i);if(a.success)return a.data;throw a.error}async safeParseAsync(e,i){const a={common:{issues:[],contextualErrorMap:i==null?void 0:i.errorMap,async:!0},path:(i==null?void 0:i.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ri(e)},r=this._parse({data:e,path:a.path,parent:a}),l=await(Mo(r)?r:Promise.resolve(r));return Pp(a,l)}refine(e,i){const a=r=>typeof i=="string"||typeof i>"u"?{message:i}:typeof i=="function"?i(r):i;return this._refinement((r,l)=>{const m=e(r),p=()=>l.addIssue({code:ie.custom,...a(r)});return typeof Promise<"u"&&m instanceof Promise?m.then(x=>x?!0:(p(),!1)):m?!0:(p(),!1)})}refinement(e,i){return this._refinement((a,r)=>e(a)?!0:(r.addIssue(typeof i=="function"?i(a,r):i),!1))}_refinement(e){return new Ls({schema:this,typeName:be.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:i=>this["~validate"](i)}}optional(){return oi.create(this,this._def)}nullable(){return Us.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return fn.create(this)}promise(){return Io.create(this,this._def)}or(e){return Ro.create([this,e],this._def)}and(e){return Do.create(this,e,this._def)}transform(e){return new Ls({...Te(this._def),schema:this,typeName:be.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const i=typeof e=="function"?e:()=>e;return new Zu({...Te(this._def),innerType:this,defaultValue:i,typeName:be.ZodDefault})}brand(){return new c2({typeName:be.ZodBranded,type:this,...Te(this._def)})}catch(e){const i=typeof e=="function"?e:()=>e;return new Ju({...Te(this._def),innerType:this,catchValue:i,typeName:be.ZodCatch})}describe(e){const i=this.constructor;return new i({...this._def,description:e})}pipe(e){return gd.create(this,e)}readonly(){return Qu.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const qv=/^c[^\s-]{8,}$/i,$v=/^[0-9a-z]+$/,zv=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Hv=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Gv=/^[a-z0-9_-]{21}$/i,Fv=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Yv=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Zv=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Jv="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let pu;const Qv=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Kv=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Wv=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Xv=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,e2=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,t2=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Y0="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",n2=new RegExp(`^${Y0}$`);function Z0(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const i=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${i}`}function i2(t){return new RegExp(`^${Z0(t)}$`)}function s2(t){let e=`${Y0}T${Z0(t)}`;const i=[];return i.push(t.local?"Z?":"Z"),t.offset&&i.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${i.join("|")})`,new RegExp(`^${e}$`)}function a2(t,e){return!!((e==="v4"||!e)&&Qv.test(t)||(e==="v6"||!e)&&Wv.test(t))}function r2(t,e){if(!Fv.test(t))return!1;try{const[i]=t.split("."),a=i.replace(/-/g,"+").replace(/_/g,"/").padEnd(i.length+(4-i.length%4)%4,"="),r=JSON.parse(atob(a));return!(typeof r!="object"||r===null||"typ"in r&&(r==null?void 0:r.typ)!=="JWT"||!r.alg||e&&r.alg!==e)}catch{return!1}}function o2(t,e){return!!((e==="v4"||!e)&&Kv.test(t)||(e==="v6"||!e)&&Xv.test(t))}class un extends Re{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==de.string){const l=this._getOrReturnCtx(e);return ce(l,{code:ie.invalid_type,expected:de.string,received:l.parsedType}),we}const a=new St;let r;for(const l of this._def.checks)if(l.kind==="min")e.data.length<l.value&&(r=this._getOrReturnCtx(e,r),ce(r,{code:ie.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),a.dirty());else if(l.kind==="max")e.data.length>l.value&&(r=this._getOrReturnCtx(e,r),ce(r,{code:ie.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!1,message:l.message}),a.dirty());else if(l.kind==="length"){const m=e.data.length>l.value,p=e.data.length<l.value;(m||p)&&(r=this._getOrReturnCtx(e,r),m?ce(r,{code:ie.too_big,maximum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}):p&&ce(r,{code:ie.too_small,minimum:l.value,type:"string",inclusive:!0,exact:!0,message:l.message}),a.dirty())}else if(l.kind==="email")Zv.test(e.data)||(r=this._getOrReturnCtx(e,r),ce(r,{validation:"email",code:ie.invalid_string,message:l.message}),a.dirty());else if(l.kind==="emoji")pu||(pu=new RegExp(Jv,"u")),pu.test(e.data)||(r=this._getOrReturnCtx(e,r),ce(r,{validation:"emoji",code:ie.invalid_string,message:l.message}),a.dirty());else if(l.kind==="uuid")Hv.test(e.data)||(r=this._getOrReturnCtx(e,r),ce(r,{validation:"uuid",code:ie.invalid_string,message:l.message}),a.dirty());else if(l.kind==="nanoid")Gv.test(e.data)||(r=this._getOrReturnCtx(e,r),ce(r,{validation:"nanoid",code:ie.invalid_string,message:l.message}),a.dirty());else if(l.kind==="cuid")qv.test(e.data)||(r=this._getOrReturnCtx(e,r),ce(r,{validation:"cuid",code:ie.invalid_string,message:l.message}),a.dirty());else if(l.kind==="cuid2")$v.test(e.data)||(r=this._getOrReturnCtx(e,r),ce(r,{validation:"cuid2",code:ie.invalid_string,message:l.message}),a.dirty());else if(l.kind==="ulid")zv.test(e.data)||(r=this._getOrReturnCtx(e,r),ce(r,{validation:"ulid",code:ie.invalid_string,message:l.message}),a.dirty());else if(l.kind==="url")try{new URL(e.data)}catch{r=this._getOrReturnCtx(e,r),ce(r,{validation:"url",code:ie.invalid_string,message:l.message}),a.dirty()}else l.kind==="regex"?(l.regex.lastIndex=0,l.regex.test(e.data)||(r=this._getOrReturnCtx(e,r),ce(r,{validation:"regex",code:ie.invalid_string,message:l.message}),a.dirty())):l.kind==="trim"?e.data=e.data.trim():l.kind==="includes"?e.data.includes(l.value,l.position)||(r=this._getOrReturnCtx(e,r),ce(r,{code:ie.invalid_string,validation:{includes:l.value,position:l.position},message:l.message}),a.dirty()):l.kind==="toLowerCase"?e.data=e.data.toLowerCase():l.kind==="toUpperCase"?e.data=e.data.toUpperCase():l.kind==="startsWith"?e.data.startsWith(l.value)||(r=this._getOrReturnCtx(e,r),ce(r,{code:ie.invalid_string,validation:{startsWith:l.value},message:l.message}),a.dirty()):l.kind==="endsWith"?e.data.endsWith(l.value)||(r=this._getOrReturnCtx(e,r),ce(r,{code:ie.invalid_string,validation:{endsWith:l.value},message:l.message}),a.dirty()):l.kind==="datetime"?s2(l).test(e.data)||(r=this._getOrReturnCtx(e,r),ce(r,{code:ie.invalid_string,validation:"datetime",message:l.message}),a.dirty()):l.kind==="date"?n2.test(e.data)||(r=this._getOrReturnCtx(e,r),ce(r,{code:ie.invalid_string,validation:"date",message:l.message}),a.dirty()):l.kind==="time"?i2(l).test(e.data)||(r=this._getOrReturnCtx(e,r),ce(r,{code:ie.invalid_string,validation:"time",message:l.message}),a.dirty()):l.kind==="duration"?Yv.test(e.data)||(r=this._getOrReturnCtx(e,r),ce(r,{validation:"duration",code:ie.invalid_string,message:l.message}),a.dirty()):l.kind==="ip"?a2(e.data,l.version)||(r=this._getOrReturnCtx(e,r),ce(r,{validation:"ip",code:ie.invalid_string,message:l.message}),a.dirty()):l.kind==="jwt"?r2(e.data,l.alg)||(r=this._getOrReturnCtx(e,r),ce(r,{validation:"jwt",code:ie.invalid_string,message:l.message}),a.dirty()):l.kind==="cidr"?o2(e.data,l.version)||(r=this._getOrReturnCtx(e,r),ce(r,{validation:"cidr",code:ie.invalid_string,message:l.message}),a.dirty()):l.kind==="base64"?e2.test(e.data)||(r=this._getOrReturnCtx(e,r),ce(r,{validation:"base64",code:ie.invalid_string,message:l.message}),a.dirty()):l.kind==="base64url"?t2.test(e.data)||(r=this._getOrReturnCtx(e,r),ce(r,{validation:"base64url",code:ie.invalid_string,message:l.message}),a.dirty()):Le.assertNever(l);return{status:a.value,value:e.data}}_regex(e,i,a){return this.refinement(r=>e.test(r),{validation:i,code:ie.invalid_string,...fe.errToObj(a)})}_addCheck(e){return new un({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...fe.errToObj(e)})}url(e){return this._addCheck({kind:"url",...fe.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...fe.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...fe.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...fe.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...fe.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...fe.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...fe.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...fe.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...fe.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...fe.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...fe.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...fe.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...fe.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...fe.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...fe.errToObj(e)})}regex(e,i){return this._addCheck({kind:"regex",regex:e,...fe.errToObj(i)})}includes(e,i){return this._addCheck({kind:"includes",value:e,position:i==null?void 0:i.position,...fe.errToObj(i==null?void 0:i.message)})}startsWith(e,i){return this._addCheck({kind:"startsWith",value:e,...fe.errToObj(i)})}endsWith(e,i){return this._addCheck({kind:"endsWith",value:e,...fe.errToObj(i)})}min(e,i){return this._addCheck({kind:"min",value:e,...fe.errToObj(i)})}max(e,i){return this._addCheck({kind:"max",value:e,...fe.errToObj(i)})}length(e,i){return this._addCheck({kind:"length",value:e,...fe.errToObj(i)})}nonempty(e){return this.min(1,fe.errToObj(e))}trim(){return new un({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new un({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new un({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const i of this._def.checks)i.kind==="min"&&(e===null||i.value>e)&&(e=i.value);return e}get maxLength(){let e=null;for(const i of this._def.checks)i.kind==="max"&&(e===null||i.value<e)&&(e=i.value);return e}}un.create=t=>new un({checks:[],typeName:be.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Te(t)});function l2(t,e){const i=(t.toString().split(".")[1]||"").length,a=(e.toString().split(".")[1]||"").length,r=i>a?i:a,l=Number.parseInt(t.toFixed(r).replace(".","")),m=Number.parseInt(e.toFixed(r).replace(".",""));return l%m/10**r}class Di extends Re{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==de.number){const l=this._getOrReturnCtx(e);return ce(l,{code:ie.invalid_type,expected:de.number,received:l.parsedType}),we}let a;const r=new St;for(const l of this._def.checks)l.kind==="int"?Le.isInteger(e.data)||(a=this._getOrReturnCtx(e,a),ce(a,{code:ie.invalid_type,expected:"integer",received:"float",message:l.message}),r.dirty()):l.kind==="min"?(l.inclusive?e.data<l.value:e.data<=l.value)&&(a=this._getOrReturnCtx(e,a),ce(a,{code:ie.too_small,minimum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),r.dirty()):l.kind==="max"?(l.inclusive?e.data>l.value:e.data>=l.value)&&(a=this._getOrReturnCtx(e,a),ce(a,{code:ie.too_big,maximum:l.value,type:"number",inclusive:l.inclusive,exact:!1,message:l.message}),r.dirty()):l.kind==="multipleOf"?l2(e.data,l.value)!==0&&(a=this._getOrReturnCtx(e,a),ce(a,{code:ie.not_multiple_of,multipleOf:l.value,message:l.message}),r.dirty()):l.kind==="finite"?Number.isFinite(e.data)||(a=this._getOrReturnCtx(e,a),ce(a,{code:ie.not_finite,message:l.message}),r.dirty()):Le.assertNever(l);return{status:r.value,value:e.data}}gte(e,i){return this.setLimit("min",e,!0,fe.toString(i))}gt(e,i){return this.setLimit("min",e,!1,fe.toString(i))}lte(e,i){return this.setLimit("max",e,!0,fe.toString(i))}lt(e,i){return this.setLimit("max",e,!1,fe.toString(i))}setLimit(e,i,a,r){return new Di({...this._def,checks:[...this._def.checks,{kind:e,value:i,inclusive:a,message:fe.toString(r)}]})}_addCheck(e){return new Di({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:fe.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:fe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:fe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:fe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:fe.toString(e)})}multipleOf(e,i){return this._addCheck({kind:"multipleOf",value:e,message:fe.toString(i)})}finite(e){return this._addCheck({kind:"finite",message:fe.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:fe.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:fe.toString(e)})}get minValue(){let e=null;for(const i of this._def.checks)i.kind==="min"&&(e===null||i.value>e)&&(e=i.value);return e}get maxValue(){let e=null;for(const i of this._def.checks)i.kind==="max"&&(e===null||i.value<e)&&(e=i.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Le.isInteger(e.value))}get isFinite(){let e=null,i=null;for(const a of this._def.checks){if(a.kind==="finite"||a.kind==="int"||a.kind==="multipleOf")return!0;a.kind==="min"?(i===null||a.value>i)&&(i=a.value):a.kind==="max"&&(e===null||a.value<e)&&(e=a.value)}return Number.isFinite(i)&&Number.isFinite(e)}}Di.create=t=>new Di({checks:[],typeName:be.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Te(t)});class ji extends Re{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==de.bigint)return this._getInvalidInput(e);let a;const r=new St;for(const l of this._def.checks)l.kind==="min"?(l.inclusive?e.data<l.value:e.data<=l.value)&&(a=this._getOrReturnCtx(e,a),ce(a,{code:ie.too_small,type:"bigint",minimum:l.value,inclusive:l.inclusive,message:l.message}),r.dirty()):l.kind==="max"?(l.inclusive?e.data>l.value:e.data>=l.value)&&(a=this._getOrReturnCtx(e,a),ce(a,{code:ie.too_big,type:"bigint",maximum:l.value,inclusive:l.inclusive,message:l.message}),r.dirty()):l.kind==="multipleOf"?e.data%l.value!==BigInt(0)&&(a=this._getOrReturnCtx(e,a),ce(a,{code:ie.not_multiple_of,multipleOf:l.value,message:l.message}),r.dirty()):Le.assertNever(l);return{status:r.value,value:e.data}}_getInvalidInput(e){const i=this._getOrReturnCtx(e);return ce(i,{code:ie.invalid_type,expected:de.bigint,received:i.parsedType}),we}gte(e,i){return this.setLimit("min",e,!0,fe.toString(i))}gt(e,i){return this.setLimit("min",e,!1,fe.toString(i))}lte(e,i){return this.setLimit("max",e,!0,fe.toString(i))}lt(e,i){return this.setLimit("max",e,!1,fe.toString(i))}setLimit(e,i,a,r){return new ji({...this._def,checks:[...this._def.checks,{kind:e,value:i,inclusive:a,message:fe.toString(r)}]})}_addCheck(e){return new ji({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:fe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:fe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:fe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:fe.toString(e)})}multipleOf(e,i){return this._addCheck({kind:"multipleOf",value:e,message:fe.toString(i)})}get minValue(){let e=null;for(const i of this._def.checks)i.kind==="min"&&(e===null||i.value>e)&&(e=i.value);return e}get maxValue(){let e=null;for(const i of this._def.checks)i.kind==="max"&&(e===null||i.value<e)&&(e=i.value);return e}}ji.create=t=>new ji({checks:[],typeName:be.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Te(t)});class ko extends Re{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==de.boolean){const a=this._getOrReturnCtx(e);return ce(a,{code:ie.invalid_type,expected:de.boolean,received:a.parsedType}),we}return Zt(e.data)}}ko.create=t=>new ko({typeName:be.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Te(t)});class js extends Re{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==de.date){const l=this._getOrReturnCtx(e);return ce(l,{code:ie.invalid_type,expected:de.date,received:l.parsedType}),we}if(Number.isNaN(e.data.getTime())){const l=this._getOrReturnCtx(e);return ce(l,{code:ie.invalid_date}),we}const a=new St;let r;for(const l of this._def.checks)l.kind==="min"?e.data.getTime()<l.value&&(r=this._getOrReturnCtx(e,r),ce(r,{code:ie.too_small,message:l.message,inclusive:!0,exact:!1,minimum:l.value,type:"date"}),a.dirty()):l.kind==="max"?e.data.getTime()>l.value&&(r=this._getOrReturnCtx(e,r),ce(r,{code:ie.too_big,message:l.message,inclusive:!0,exact:!1,maximum:l.value,type:"date"}),a.dirty()):Le.assertNever(l);return{status:a.value,value:new Date(e.data.getTime())}}_addCheck(e){return new js({...this._def,checks:[...this._def.checks,e]})}min(e,i){return this._addCheck({kind:"min",value:e.getTime(),message:fe.toString(i)})}max(e,i){return this._addCheck({kind:"max",value:e.getTime(),message:fe.toString(i)})}get minDate(){let e=null;for(const i of this._def.checks)i.kind==="min"&&(e===null||i.value>e)&&(e=i.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const i of this._def.checks)i.kind==="max"&&(e===null||i.value<e)&&(e=i.value);return e!=null?new Date(e):null}}js.create=t=>new js({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:be.ZodDate,...Te(t)});class Bp extends Re{_parse(e){if(this._getType(e)!==de.symbol){const a=this._getOrReturnCtx(e);return ce(a,{code:ie.invalid_type,expected:de.symbol,received:a.parsedType}),we}return Zt(e.data)}}Bp.create=t=>new Bp({typeName:be.ZodSymbol,...Te(t)});class Op extends Re{_parse(e){if(this._getType(e)!==de.undefined){const a=this._getOrReturnCtx(e);return ce(a,{code:ie.invalid_type,expected:de.undefined,received:a.parsedType}),we}return Zt(e.data)}}Op.create=t=>new Op({typeName:be.ZodUndefined,...Te(t)});class Vp extends Re{_parse(e){if(this._getType(e)!==de.null){const a=this._getOrReturnCtx(e);return ce(a,{code:ie.invalid_type,expected:de.null,received:a.parsedType}),we}return Zt(e.data)}}Vp.create=t=>new Vp({typeName:be.ZodNull,...Te(t)});class qp extends Re{constructor(){super(...arguments),this._any=!0}_parse(e){return Zt(e.data)}}qp.create=t=>new qp({typeName:be.ZodAny,...Te(t)});class Gu extends Re{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Zt(e.data)}}Gu.create=t=>new Gu({typeName:be.ZodUnknown,...Te(t)});class li extends Re{_parse(e){const i=this._getOrReturnCtx(e);return ce(i,{code:ie.invalid_type,expected:de.never,received:i.parsedType}),we}}li.create=t=>new li({typeName:be.ZodNever,...Te(t)});class $p extends Re{_parse(e){if(this._getType(e)!==de.undefined){const a=this._getOrReturnCtx(e);return ce(a,{code:ie.invalid_type,expected:de.void,received:a.parsedType}),we}return Zt(e.data)}}$p.create=t=>new $p({typeName:be.ZodVoid,...Te(t)});class fn extends Re{_parse(e){const{ctx:i,status:a}=this._processInputParams(e),r=this._def;if(i.parsedType!==de.array)return ce(i,{code:ie.invalid_type,expected:de.array,received:i.parsedType}),we;if(r.exactLength!==null){const m=i.data.length>r.exactLength.value,p=i.data.length<r.exactLength.value;(m||p)&&(ce(i,{code:m?ie.too_big:ie.too_small,minimum:p?r.exactLength.value:void 0,maximum:m?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),a.dirty())}if(r.minLength!==null&&i.data.length<r.minLength.value&&(ce(i,{code:ie.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),a.dirty()),r.maxLength!==null&&i.data.length>r.maxLength.value&&(ce(i,{code:ie.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),a.dirty()),i.common.async)return Promise.all([...i.data].map((m,p)=>r.type._parseAsync(new mn(i,m,i.path,p)))).then(m=>St.mergeArray(a,m));const l=[...i.data].map((m,p)=>r.type._parseSync(new mn(i,m,i.path,p)));return St.mergeArray(a,l)}get element(){return this._def.type}min(e,i){return new fn({...this._def,minLength:{value:e,message:fe.toString(i)}})}max(e,i){return new fn({...this._def,maxLength:{value:e,message:fe.toString(i)}})}length(e,i){return new fn({...this._def,exactLength:{value:e,message:fe.toString(i)}})}nonempty(e){return this.min(1,e)}}fn.create=(t,e)=>new fn({type:t,minLength:null,maxLength:null,exactLength:null,typeName:be.ZodArray,...Te(e)});function As(t){if(t instanceof at){const e={};for(const i in t.shape){const a=t.shape[i];e[i]=oi.create(As(a))}return new at({...t._def,shape:()=>e})}else return t instanceof fn?new fn({...t._def,type:As(t.element)}):t instanceof oi?oi.create(As(t.unwrap())):t instanceof Us?Us.create(As(t.unwrap())):t instanceof Ii?Ii.create(t.items.map(e=>As(e))):t}class at extends Re{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),i=Le.objectKeys(e);return this._cached={shape:e,keys:i},this._cached}_parse(e){if(this._getType(e)!==de.object){const g=this._getOrReturnCtx(e);return ce(g,{code:ie.invalid_type,expected:de.object,received:g.parsedType}),we}const{status:a,ctx:r}=this._processInputParams(e),{shape:l,keys:m}=this._getCached(),p=[];if(!(this._def.catchall instanceof li&&this._def.unknownKeys==="strip"))for(const g in r.data)m.includes(g)||p.push(g);const x=[];for(const g of m){const v=l[g],b=r.data[g];x.push({key:{status:"valid",value:g},value:v._parse(new mn(r,b,r.path,g)),alwaysSet:g in r.data})}if(this._def.catchall instanceof li){const g=this._def.unknownKeys;if(g==="passthrough")for(const v of p)x.push({key:{status:"valid",value:v},value:{status:"valid",value:r.data[v]}});else if(g==="strict")p.length>0&&(ce(r,{code:ie.unrecognized_keys,keys:p}),a.dirty());else if(g!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const g=this._def.catchall;for(const v of p){const b=r.data[v];x.push({key:{status:"valid",value:v},value:g._parse(new mn(r,b,r.path,v)),alwaysSet:v in r.data})}}return r.common.async?Promise.resolve().then(async()=>{const g=[];for(const v of x){const b=await v.key,w=await v.value;g.push({key:b,value:w,alwaysSet:v.alwaysSet})}return g}).then(g=>St.mergeObjectSync(a,g)):St.mergeObjectSync(a,x)}get shape(){return this._def.shape()}strict(e){return fe.errToObj,new at({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(i,a)=>{var l,m;const r=((m=(l=this._def).errorMap)==null?void 0:m.call(l,i,a).message)??a.defaultError;return i.code==="unrecognized_keys"?{message:fe.errToObj(e).message??r}:{message:r}}}:{}})}strip(){return new at({...this._def,unknownKeys:"strip"})}passthrough(){return new at({...this._def,unknownKeys:"passthrough"})}extend(e){return new at({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new at({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:be.ZodObject})}setKey(e,i){return this.augment({[e]:i})}catchall(e){return new at({...this._def,catchall:e})}pick(e){const i={};for(const a of Le.objectKeys(e))e[a]&&this.shape[a]&&(i[a]=this.shape[a]);return new at({...this._def,shape:()=>i})}omit(e){const i={};for(const a of Le.objectKeys(this.shape))e[a]||(i[a]=this.shape[a]);return new at({...this._def,shape:()=>i})}deepPartial(){return As(this)}partial(e){const i={};for(const a of Le.objectKeys(this.shape)){const r=this.shape[a];e&&!e[a]?i[a]=r:i[a]=r.optional()}return new at({...this._def,shape:()=>i})}required(e){const i={};for(const a of Le.objectKeys(this.shape))if(e&&!e[a])i[a]=this.shape[a];else{let l=this.shape[a];for(;l instanceof oi;)l=l._def.innerType;i[a]=l}return new at({...this._def,shape:()=>i})}keyof(){return J0(Le.objectKeys(this.shape))}}at.create=(t,e)=>new at({shape:()=>t,unknownKeys:"strip",catchall:li.create(),typeName:be.ZodObject,...Te(e)});at.strictCreate=(t,e)=>new at({shape:()=>t,unknownKeys:"strict",catchall:li.create(),typeName:be.ZodObject,...Te(e)});at.lazycreate=(t,e)=>new at({shape:t,unknownKeys:"strip",catchall:li.create(),typeName:be.ZodObject,...Te(e)});class Ro extends Re{_parse(e){const{ctx:i}=this._processInputParams(e),a=this._def.options;function r(l){for(const p of l)if(p.result.status==="valid")return p.result;for(const p of l)if(p.result.status==="dirty")return i.common.issues.push(...p.ctx.common.issues),p.result;const m=l.map(p=>new Rn(p.ctx.common.issues));return ce(i,{code:ie.invalid_union,unionErrors:m}),we}if(i.common.async)return Promise.all(a.map(async l=>{const m={...i,common:{...i.common,issues:[]},parent:null};return{result:await l._parseAsync({data:i.data,path:i.path,parent:m}),ctx:m}})).then(r);{let l;const m=[];for(const x of a){const g={...i,common:{...i.common,issues:[]},parent:null},v=x._parseSync({data:i.data,path:i.path,parent:g});if(v.status==="valid")return v;v.status==="dirty"&&!l&&(l={result:v,ctx:g}),g.common.issues.length&&m.push(g.common.issues)}if(l)return i.common.issues.push(...l.ctx.common.issues),l.result;const p=m.map(x=>new Rn(x));return ce(i,{code:ie.invalid_union,unionErrors:p}),we}}get options(){return this._def.options}}Ro.create=(t,e)=>new Ro({options:t,typeName:be.ZodUnion,...Te(e)});function Fu(t,e){const i=ri(t),a=ri(e);if(t===e)return{valid:!0,data:t};if(i===de.object&&a===de.object){const r=Le.objectKeys(e),l=Le.objectKeys(t).filter(p=>r.indexOf(p)!==-1),m={...t,...e};for(const p of l){const x=Fu(t[p],e[p]);if(!x.valid)return{valid:!1};m[p]=x.data}return{valid:!0,data:m}}else if(i===de.array&&a===de.array){if(t.length!==e.length)return{valid:!1};const r=[];for(let l=0;l<t.length;l++){const m=t[l],p=e[l],x=Fu(m,p);if(!x.valid)return{valid:!1};r.push(x.data)}return{valid:!0,data:r}}else return i===de.date&&a===de.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Do extends Re{_parse(e){const{status:i,ctx:a}=this._processInputParams(e),r=(l,m)=>{if(Lp(l)||Lp(m))return we;const p=Fu(l.value,m.value);return p.valid?((Up(l)||Up(m))&&i.dirty(),{status:i.value,value:p.data}):(ce(a,{code:ie.invalid_intersection_types}),we)};return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then(([l,m])=>r(l,m)):r(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}}Do.create=(t,e,i)=>new Do({left:t,right:e,typeName:be.ZodIntersection,...Te(i)});class Ii extends Re{_parse(e){const{status:i,ctx:a}=this._processInputParams(e);if(a.parsedType!==de.array)return ce(a,{code:ie.invalid_type,expected:de.array,received:a.parsedType}),we;if(a.data.length<this._def.items.length)return ce(a,{code:ie.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),we;!this._def.rest&&a.data.length>this._def.items.length&&(ce(a,{code:ie.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),i.dirty());const l=[...a.data].map((m,p)=>{const x=this._def.items[p]||this._def.rest;return x?x._parse(new mn(a,m,a.path,p)):null}).filter(m=>!!m);return a.common.async?Promise.all(l).then(m=>St.mergeArray(i,m)):St.mergeArray(i,l)}get items(){return this._def.items}rest(e){return new Ii({...this._def,rest:e})}}Ii.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ii({items:t,typeName:be.ZodTuple,rest:null,...Te(e)})};class jo extends Re{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:i,ctx:a}=this._processInputParams(e);if(a.parsedType!==de.object)return ce(a,{code:ie.invalid_type,expected:de.object,received:a.parsedType}),we;const r=[],l=this._def.keyType,m=this._def.valueType;for(const p in a.data)r.push({key:l._parse(new mn(a,p,a.path,p)),value:m._parse(new mn(a,a.data[p],a.path,p)),alwaysSet:p in a.data});return a.common.async?St.mergeObjectAsync(i,r):St.mergeObjectSync(i,r)}get element(){return this._def.valueType}static create(e,i,a){return i instanceof Re?new jo({keyType:e,valueType:i,typeName:be.ZodRecord,...Te(a)}):new jo({keyType:un.create(),valueType:e,typeName:be.ZodRecord,...Te(i)})}}class zp extends Re{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:i,ctx:a}=this._processInputParams(e);if(a.parsedType!==de.map)return ce(a,{code:ie.invalid_type,expected:de.map,received:a.parsedType}),we;const r=this._def.keyType,l=this._def.valueType,m=[...a.data.entries()].map(([p,x],g)=>({key:r._parse(new mn(a,p,a.path,[g,"key"])),value:l._parse(new mn(a,x,a.path,[g,"value"]))}));if(a.common.async){const p=new Map;return Promise.resolve().then(async()=>{for(const x of m){const g=await x.key,v=await x.value;if(g.status==="aborted"||v.status==="aborted")return we;(g.status==="dirty"||v.status==="dirty")&&i.dirty(),p.set(g.value,v.value)}return{status:i.value,value:p}})}else{const p=new Map;for(const x of m){const g=x.key,v=x.value;if(g.status==="aborted"||v.status==="aborted")return we;(g.status==="dirty"||v.status==="dirty")&&i.dirty(),p.set(g.value,v.value)}return{status:i.value,value:p}}}}zp.create=(t,e,i)=>new zp({valueType:e,keyType:t,typeName:be.ZodMap,...Te(i)});class Qa extends Re{_parse(e){const{status:i,ctx:a}=this._processInputParams(e);if(a.parsedType!==de.set)return ce(a,{code:ie.invalid_type,expected:de.set,received:a.parsedType}),we;const r=this._def;r.minSize!==null&&a.data.size<r.minSize.value&&(ce(a,{code:ie.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),i.dirty()),r.maxSize!==null&&a.data.size>r.maxSize.value&&(ce(a,{code:ie.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),i.dirty());const l=this._def.valueType;function m(x){const g=new Set;for(const v of x){if(v.status==="aborted")return we;v.status==="dirty"&&i.dirty(),g.add(v.value)}return{status:i.value,value:g}}const p=[...a.data.values()].map((x,g)=>l._parse(new mn(a,x,a.path,g)));return a.common.async?Promise.all(p).then(x=>m(x)):m(p)}min(e,i){return new Qa({...this._def,minSize:{value:e,message:fe.toString(i)}})}max(e,i){return new Qa({...this._def,maxSize:{value:e,message:fe.toString(i)}})}size(e,i){return this.min(e,i).max(e,i)}nonempty(e){return this.min(1,e)}}Qa.create=(t,e)=>new Qa({valueType:t,minSize:null,maxSize:null,typeName:be.ZodSet,...Te(e)});class Yu extends Re{get schema(){return this._def.getter()}_parse(e){const{ctx:i}=this._processInputParams(e);return this._def.getter()._parse({data:i.data,path:i.path,parent:i})}}Yu.create=(t,e)=>new Yu({getter:t,typeName:be.ZodLazy,...Te(e)});class Hp extends Re{_parse(e){if(e.data!==this._def.value){const i=this._getOrReturnCtx(e);return ce(i,{received:i.data,code:ie.invalid_literal,expected:this._def.value}),we}return{status:"valid",value:e.data}}get value(){return this._def.value}}Hp.create=(t,e)=>new Hp({value:t,typeName:be.ZodLiteral,...Te(e)});function J0(t,e){return new Is({values:t,typeName:be.ZodEnum,...Te(e)})}class Is extends Re{_parse(e){if(typeof e.data!="string"){const i=this._getOrReturnCtx(e),a=this._def.values;return ce(i,{expected:Le.joinValues(a),received:i.parsedType,code:ie.invalid_type}),we}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const i=this._getOrReturnCtx(e),a=this._def.values;return ce(i,{received:i.data,code:ie.invalid_enum_value,options:a}),we}return Zt(e.data)}get options(){return this._def.values}get enum(){const e={};for(const i of this._def.values)e[i]=i;return e}get Values(){const e={};for(const i of this._def.values)e[i]=i;return e}get Enum(){const e={};for(const i of this._def.values)e[i]=i;return e}extract(e,i=this._def){return Is.create(e,{...this._def,...i})}exclude(e,i=this._def){return Is.create(this.options.filter(a=>!e.includes(a)),{...this._def,...i})}}Is.create=J0;class Gp extends Re{_parse(e){const i=Le.getValidEnumValues(this._def.values),a=this._getOrReturnCtx(e);if(a.parsedType!==de.string&&a.parsedType!==de.number){const r=Le.objectValues(i);return ce(a,{expected:Le.joinValues(r),received:a.parsedType,code:ie.invalid_type}),we}if(this._cache||(this._cache=new Set(Le.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const r=Le.objectValues(i);return ce(a,{received:a.data,code:ie.invalid_enum_value,options:r}),we}return Zt(e.data)}get enum(){return this._def.values}}Gp.create=(t,e)=>new Gp({values:t,typeName:be.ZodNativeEnum,...Te(e)});class Io extends Re{unwrap(){return this._def.type}_parse(e){const{ctx:i}=this._processInputParams(e);if(i.parsedType!==de.promise&&i.common.async===!1)return ce(i,{code:ie.invalid_type,expected:de.promise,received:i.parsedType}),we;const a=i.parsedType===de.promise?i.data:Promise.resolve(i.data);return Zt(a.then(r=>this._def.type.parseAsync(r,{path:i.path,errorMap:i.common.contextualErrorMap})))}}Io.create=(t,e)=>new Io({type:t,typeName:be.ZodPromise,...Te(e)});class Ls extends Re{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===be.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:i,ctx:a}=this._processInputParams(e),r=this._def.effect||null,l={addIssue:m=>{ce(a,m),m.fatal?i.abort():i.dirty()},get path(){return a.path}};if(l.addIssue=l.addIssue.bind(l),r.type==="preprocess"){const m=r.transform(a.data,l);if(a.common.async)return Promise.resolve(m).then(async p=>{if(i.value==="aborted")return we;const x=await this._def.schema._parseAsync({data:p,path:a.path,parent:a});return x.status==="aborted"?we:x.status==="dirty"||i.value==="dirty"?Ga(x.value):x});{if(i.value==="aborted")return we;const p=this._def.schema._parseSync({data:m,path:a.path,parent:a});return p.status==="aborted"?we:p.status==="dirty"||i.value==="dirty"?Ga(p.value):p}}if(r.type==="refinement"){const m=p=>{const x=r.refinement(p,l);if(a.common.async)return Promise.resolve(x);if(x instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return p};if(a.common.async===!1){const p=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return p.status==="aborted"?we:(p.status==="dirty"&&i.dirty(),m(p.value),{status:i.value,value:p.value})}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(p=>p.status==="aborted"?we:(p.status==="dirty"&&i.dirty(),m(p.value).then(()=>({status:i.value,value:p.value}))))}if(r.type==="transform")if(a.common.async===!1){const m=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!Ds(m))return we;const p=r.transform(m.value,l);if(p instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:i.value,value:p}}else return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then(m=>Ds(m)?Promise.resolve(r.transform(m.value,l)).then(p=>({status:i.value,value:p})):we);Le.assertNever(r)}}Ls.create=(t,e,i)=>new Ls({schema:t,typeName:be.ZodEffects,effect:e,...Te(i)});Ls.createWithPreprocess=(t,e,i)=>new Ls({schema:e,effect:{type:"preprocess",transform:t},typeName:be.ZodEffects,...Te(i)});class oi extends Re{_parse(e){return this._getType(e)===de.undefined?Zt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}oi.create=(t,e)=>new oi({innerType:t,typeName:be.ZodOptional,...Te(e)});class Us extends Re{_parse(e){return this._getType(e)===de.null?Zt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Us.create=(t,e)=>new Us({innerType:t,typeName:be.ZodNullable,...Te(e)});class Zu extends Re{_parse(e){const{ctx:i}=this._processInputParams(e);let a=i.data;return i.parsedType===de.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:i.path,parent:i})}removeDefault(){return this._def.innerType}}Zu.create=(t,e)=>new Zu({innerType:t,typeName:be.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Te(e)});class Ju extends Re{_parse(e){const{ctx:i}=this._processInputParams(e),a={...i,common:{...i.common,issues:[]}},r=this._def.innerType._parse({data:a.data,path:a.path,parent:{...a}});return Mo(r)?r.then(l=>({status:"valid",value:l.status==="valid"?l.value:this._def.catchValue({get error(){return new Rn(a.common.issues)},input:a.data})})):{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new Rn(a.common.issues)},input:a.data})}}removeCatch(){return this._def.innerType}}Ju.create=(t,e)=>new Ju({innerType:t,typeName:be.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Te(e)});class Fp extends Re{_parse(e){if(this._getType(e)!==de.nan){const a=this._getOrReturnCtx(e);return ce(a,{code:ie.invalid_type,expected:de.nan,received:a.parsedType}),we}return{status:"valid",value:e.data}}}Fp.create=t=>new Fp({typeName:be.ZodNaN,...Te(t)});class c2 extends Re{_parse(e){const{ctx:i}=this._processInputParams(e),a=i.data;return this._def.type._parse({data:a,path:i.path,parent:i})}unwrap(){return this._def.type}}class gd extends Re{_parse(e){const{status:i,ctx:a}=this._processInputParams(e);if(a.common.async)return(async()=>{const l=await this._def.in._parseAsync({data:a.data,path:a.path,parent:a});return l.status==="aborted"?we:l.status==="dirty"?(i.dirty(),Ga(l.value)):this._def.out._parseAsync({data:l.value,path:a.path,parent:a})})();{const r=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return r.status==="aborted"?we:r.status==="dirty"?(i.dirty(),{status:"dirty",value:r.value}):this._def.out._parseSync({data:r.value,path:a.path,parent:a})}}static create(e,i){return new gd({in:e,out:i,typeName:be.ZodPipeline})}}class Qu extends Re{_parse(e){const i=this._def.innerType._parse(e),a=r=>(Ds(r)&&(r.value=Object.freeze(r.value)),r);return Mo(i)?i.then(r=>a(r)):a(i)}unwrap(){return this._def.innerType}}Qu.create=(t,e)=>new Qu({innerType:t,typeName:be.ZodReadonly,...Te(e)});var be;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(be||(be={}));const Mi=un.create,Yp=Di.create;ji.create;const u2=ko.create;js.create;const Zp=Gu.create;li.create;const Fa=fn.create,d2=at.create,f2=Ro.create;Do.create;Ii.create;const m2=jo.create,h2=Yu.create,p2=Is.create;Io.create;oi.create;Us.create;const Ns={string:t=>un.create({...t,coerce:!0}),number:t=>Di.create({...t,coerce:!0}),boolean:t=>ko.create({...t,coerce:!0}),bigint:t=>ji.create({...t,coerce:!0}),date:t=>js.create({...t,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let g2,x2;function y2(){return{geminiUrl:g2,vertexUrl:x2}}function v2(t,e,i){var a,r,l;if(!(!((a=t.httpOptions)===null||a===void 0)&&a.baseUrl)){const m=y2();return t.vertexai?(r=m.vertexUrl)!==null&&r!==void 0?r:e:(l=m.geminiUrl)!==null&&l!==void 0?l:i}return t.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Bs{}function ve(t,e){const i=/\{([^}]+)\}/g;return t.replace(i,(a,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const l=e[r];return l!=null?String(l):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function f(t,e,i){for(let l=0;l<e.length-1;l++){const m=e[l];if(m.endsWith("[]")){const p=m.slice(0,-2);if(!(p in t))if(Array.isArray(i))t[p]=Array.from({length:i.length},()=>({}));else throw new Error(`Value must be a list given an array path ${m}`);if(Array.isArray(t[p])){const x=t[p];if(Array.isArray(i))for(let g=0;g<x.length;g++){const v=x[g];f(v,e.slice(l+1),i[g])}else for(const g of x)f(g,e.slice(l+1),i)}return}else if(m.endsWith("[0]")){const p=m.slice(0,-3);p in t||(t[p]=[{}]);const x=t[p];f(x[0],e.slice(l+1),i);return}(!t[m]||typeof t[m]!="object")&&(t[m]={}),t=t[m]}const a=e[e.length-1],r=t[a];if(r!==void 0){if(!i||typeof i=="object"&&Object.keys(i).length===0||i===r)return;if(typeof r=="object"&&typeof i=="object"&&r!==null&&i!==null)Object.assign(r,i);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else t[a]=i}function d(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let i=0;i<e.length;i++){if(typeof t!="object"||t===null)return;const a=e[i];if(a.endsWith("[]")){const r=a.slice(0,-2);if(r in t){const l=t[r];return Array.isArray(l)?l.map(m=>d(m,e.slice(i+1))):void 0}else return}else t=t[a]}return t}catch(i){if(i instanceof TypeError)return;throw i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Jp;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Jp||(Jp={}));var Qp;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(Qp||(Qp={}));var dn;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(dn||(dn={}));var Kp;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Kp||(Kp={}));var Wp;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Wp||(Wp={}));var Xp;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Xp||(Xp={}));var eg;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(eg||(eg={}));var tg;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(tg||(tg={}));var ng;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(ng||(ng={}));var ig;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(ig||(ig={}));var sg;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(sg||(sg={}));var ag;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(ag||(ag={}));var rg;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(rg||(rg={}));var Lo;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Lo||(Lo={}));var og;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(og||(og={}));var Ku;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Ku||(Ku={}));var lg;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(lg||(lg={}));var cg;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(cg||(cg={}));var ug;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(ug||(ug={}));var dg;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(dg||(dg={}));var fg;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(fg||(fg={}));var mg;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(mg||(mg={}));var hg;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(hg||(hg={}));var pg;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(pg||(pg={}));var gg;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi"})(gg||(gg={}));var xg;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(xg||(xg={}));var yg;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(yg||(yg={}));var vg;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(vg||(vg={}));var bg;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(bg||(bg={}));var wg;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(wg||(wg={}));var Cg;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(Cg||(Cg={}));var Sg;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Sg||(Sg={}));var Tg;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Tg||(Tg={}));var Ng;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Ng||(Ng={}));var Eg;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(Eg||(Eg={}));var Ag;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Ag||(Ag={}));var _g;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(_g||(_g={}));var Mg;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Mg||(Mg={}));var _s;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(_s||(_s={}));class Wu{constructor(e){const i={};for(const a of e.headers.entries())i[a[0]]=a[1];this.headers=i,this.responseInternal=e}json(){return this.responseInternal.json()}}class qa{get text(){var e,i,a,r,l,m,p,x;if(((r=(a=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let g="",v=!1;const b=[];for(const w of(x=(p=(m=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||m===void 0?void 0:m.content)===null||p===void 0?void 0:p.parts)!==null&&x!==void 0?x:[]){for(const[S,T]of Object.entries(w))S!=="text"&&S!=="thought"&&(T!==null||T!==void 0)&&b.push(S);if(typeof w.text=="string"){if(typeof w.thought=="boolean"&&w.thought)continue;v=!0,g+=w.text}}return b.length>0&&console.warn(`there are non-text parts ${b} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?g:void 0}get data(){var e,i,a,r,l,m,p,x;if(((r=(a=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let g="";const v=[];for(const b of(x=(p=(m=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||m===void 0?void 0:m.content)===null||p===void 0?void 0:p.parts)!==null&&x!==void 0?x:[]){for(const[w,S]of Object.entries(b))w!=="inlineData"&&(S!==null||S!==void 0)&&v.push(w);b.inlineData&&typeof b.inlineData.data=="string"&&(g+=atob(b.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),g.length>0?btoa(g):void 0}get functionCalls(){var e,i,a,r,l,m,p,x;if(((r=(a=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const g=(x=(p=(m=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||m===void 0?void 0:m.content)===null||p===void 0?void 0:p.parts)===null||x===void 0?void 0:x.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((g==null?void 0:g.length)!==0)return g}get executableCode(){var e,i,a,r,l,m,p,x,g;if(((r=(a=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(x=(p=(m=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||m===void 0?void 0:m.content)===null||p===void 0?void 0:p.parts)===null||x===void 0?void 0:x.filter(b=>b.executableCode).map(b=>b.executableCode).filter(b=>b!==void 0);if((v==null?void 0:v.length)!==0)return(g=v==null?void 0:v[0])===null||g===void 0?void 0:g.code}get codeExecutionResult(){var e,i,a,r,l,m,p,x,g;if(((r=(a=(i=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(x=(p=(m=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||m===void 0?void 0:m.content)===null||p===void 0?void 0:p.parts)===null||x===void 0?void 0:x.filter(b=>b.codeExecutionResult).map(b=>b.codeExecutionResult).filter(b=>b!==void 0);if((v==null?void 0:v.length)!==0)return(g=v==null?void 0:v[0])===null||g===void 0?void 0:g.output}}class kg{}class Rg{}class b2{}class w2{}class Dg{}class jg{}class Ig{}class C2{}class Lg{}class Ug{}class Pg{}class S2{}class T2{}class N2{}class E2{get text(){var e,i,a;let r="",l=!1;const m=[];for(const p of(a=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&a!==void 0?a:[]){for(const[x,g]of Object.entries(p))x!=="text"&&x!=="thought"&&g!==null&&m.push(x);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;l=!0,r+=p.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?r:void 0}get data(){var e,i,a;let r="";const l=[];for(const m of(a=(i=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||i===void 0?void 0:i.parts)!==null&&a!==void 0?a:[]){for(const[p,x]of Object.entries(m))p!=="inlineData"&&x!==null&&l.push(p);m.inlineData&&typeof m.inlineData.data=="string"&&(r+=atob(m.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class A2{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fe(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const i=e.split("/",2);return`publishers/${i[0]}/models/${i[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Q0(t,e){const i=Fe(t,e);return i?i.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${i}`:i.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${i}`:i:""}function K0(t){return Array.isArray(t)?t.map(e=>Uo(e)):[Uo(t)]}function Uo(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function _2(t){const e=Uo(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function M2(t){const e=Uo(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Bg(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function W0(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Bg(e)):[Bg(t)]}function Xu(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Og(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Vg(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function Ct(t){if(t==null)throw new Error("ContentUnion is required");return Xu(t)?t:{role:"user",parts:W0(t)}}function X0(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(i=>{const a=Ct(i);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(t.isVertexAI()){const i=Ct(e);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]}return Array.isArray(e)?e.map(i=>Ct(i)):[Ct(e)]}function Xt(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Og(t)||Vg(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Ct(t)]}const e=[],i=[],a=Xu(t[0]);for(const r of t){const l=Xu(r);if(l!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)e.push(r);else{if(Og(r)||Vg(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");i.push(r)}}return a||e.push({role:"user",parts:W0(i)}),e}const k2=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),qg=p2(["string","number","integer","object","array","boolean","null"]),R2=f2([qg,Fa(qg)]);function D2(t=!0){const e=h2(()=>{const i=d2({type:R2.optional(),format:Mi().optional(),title:Mi().optional(),description:Mi().optional(),default:Zp().optional(),items:e.optional(),minItems:Ns.string().optional(),maxItems:Ns.string().optional(),enum:Fa(Zp()).optional(),properties:m2(Mi(),e).optional(),required:Fa(Mi()).optional(),minProperties:Ns.string().optional(),maxProperties:Ns.string().optional(),propertyOrdering:Fa(Mi()).optional(),minimum:Yp().optional(),maximum:Yp().optional(),minLength:Ns.string().optional(),maxLength:Ns.string().optional(),pattern:Mi().optional(),anyOf:Fa(e).optional(),additionalProperties:u2().optional()});return t?i.strict():i});return e}function j2(t,e){t.includes("null")&&(e.nullable=!0);const i=t.filter(a=>a!=="null");if(i.length===1)e.type=Object.values(dn).includes(i[0].toUpperCase())?i[0].toUpperCase():dn.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const a of i)e.anyOf.push({type:Object.values(dn).includes(a.toUpperCase())?a.toUpperCase():dn.TYPE_UNSPECIFIED})}}function Ms(t){const e={},i=["items"],a=["anyOf"],r=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const l=t.anyOf;l!=null&&l.length==2&&(l[0].type==="null"?(e.nullable=!0,t=l[1]):l[1].type==="null"&&(e.nullable=!0,t=l[0])),t.type instanceof Array&&j2(t.type,e);for(const[m,p]of Object.entries(t))if(p!=null)if(m=="type"){if(p==="null")throw new Error("type: null can not be the only possible type for the field.");if(p instanceof Array)continue;e.type=Object.values(dn).includes(p.toUpperCase())?p.toUpperCase():dn.TYPE_UNSPECIFIED}else if(i.includes(m))e[m]=Ms(p);else if(a.includes(m)){const x=[];for(const g of p){if(g.type=="null"){e.nullable=!0;continue}x.push(Ms(g))}e[m]=x}else if(r.includes(m)){const x={};for(const[g,v]of Object.entries(p))x[g]=Ms(v);e[m]=x}else{if(m==="additionalProperties")continue;e[m]=p}return e}function Po(t){if(Object.keys(t).includes("$schema")){delete t.$schema;const e=D2().parse(t);return Ms(e)}else return Ms(t)}function ex(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function xd(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Wa(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(e.parameters=Po(e.parameters)),e.response&&(e.response=Po(e.response));return t}function Xa(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const i of t)e.push(i);return e}function I2(t,e,i,a=1){const r=!e.startsWith(`${i}/`)&&e.split("/").length===a;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${i}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:r?`projects/${t.getProject()}/locations/${t.getLocation()}/${i}/${e}`:e:r?`${i}/${e}`:e}function ci(t,e){if(typeof e!="string")throw new Error("name must be a string");return I2(t,e,"cachedContents")}function tx(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function jn(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function L2(t){return t!=null&&typeof t=="object"&&"name"in t}function U2(t){return t!=null&&typeof t=="object"&&"video"in t}function P2(t){return t!=null&&typeof t=="object"&&"uri"in t}function nx(t){var e;let i;if(L2(t)&&(i=t.name),!(P2(t)&&(i=t.uri,i===void 0))&&!(U2(t)&&(i=(e=t.video)===null||e===void 0?void 0:e.uri,i===void 0))){if(typeof t=="string"&&(i=t),i===void 0)throw new Error("Could not extract file name from the provided input.");if(i.startsWith("https://")){const r=i.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${i}`);i=r[0]}else i.startsWith("files/")&&(i=i.split("files/")[1]);return i}}function ix(t,e){let i;return t.isVertexAI()?i=e?"publishers/google/models":"models":i=e?"models":"tunedModels",i}function sx(t){for(const e of["models","tunedModels","publisherModels"])if(B2(t,e))return t[e];return[]}function B2(t,e){return t!==null&&typeof t=="object"&&e in t}function O2(t,e={}){const i=t,a={name:i.name,description:i.description,parameters:Ms(qo(i.inputSchema))};return e.behavior&&(a.behavior=e.behavior),{functionDeclarations:[a]}}function V2(t,e={}){const i=[],a=new Set;for(const r of t){const l=r.name;if(a.has(l))throw new Error(`Duplicate function name ${l} found in MCP tools. Please ensure function names are unique.`);a.add(l);const m=O2(r,e);m.functionDeclarations&&i.push(...m.functionDeclarations)}return{functionDeclarations:i}}function q2(t){const e=[];for(const i of t)e.push(qo(i));return e}function $2(t){const e={};for(const[i,a]of Object.entries(t)){const r=a;e[i]=qo(r)}return e}function qo(t){const e=new Set(["items"]),i=new Set(["anyOf"]),a=new Set(["properties"]),r={};for(const[l,m]of Object.entries(t))if(e.has(l))r[l]=qo(m);else if(i.has(l))r[l]=q2(m);else if(a.has(l))r[l]=$2(m);else if(l==="type"){const p=m.toUpperCase();r[l]=Object.values(dn).includes(p)?p:dn.TYPE_UNSPECIFIED}else k2.has(l)&&(r[l]=m);return r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function z2(t){const e={},i=d(t,["fps"]);i!=null&&f(e,["fps"],i);const a=d(t,["endOffset"]);a!=null&&f(e,["endOffset"],a);const r=d(t,["startOffset"]);return r!=null&&f(e,["startOffset"],r),e}function H2(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["data"]);i!=null&&f(e,["data"],i);const a=d(t,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}function G2(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const a=d(t,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}function F2(t){const e={},i=d(t,["videoMetadata"]);i!=null&&f(e,["videoMetadata"],z2(i));const a=d(t,["thought"]);a!=null&&f(e,["thought"],a);const r=d(t,["inlineData"]);r!=null&&f(e,["inlineData"],H2(r));const l=d(t,["fileData"]);l!=null&&f(e,["fileData"],G2(l));const m=d(t,["thoughtSignature"]);m!=null&&f(e,["thoughtSignature"],m);const p=d(t,["codeExecutionResult"]);p!=null&&f(e,["codeExecutionResult"],p);const x=d(t,["executableCode"]);x!=null&&f(e,["executableCode"],x);const g=d(t,["functionCall"]);g!=null&&f(e,["functionCall"],g);const v=d(t,["functionResponse"]);v!=null&&f(e,["functionResponse"],v);const b=d(t,["text"]);return b!=null&&f(e,["text"],b),e}function $g(t){const e={},i=d(t,["parts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>F2(l))),f(e,["parts"],r)}const a=d(t,["role"]);return a!=null&&f(e,["role"],a),e}function Y2(t){const e={},i=d(t,["behavior"]);i!=null&&f(e,["behavior"],i);const a=d(t,["description"]);a!=null&&f(e,["description"],a);const r=d(t,["name"]);r!=null&&f(e,["name"],r);const l=d(t,["parameters"]);l!=null&&f(e,["parameters"],l);const m=d(t,["parametersJsonSchema"]);m!=null&&f(e,["parametersJsonSchema"],m);const p=d(t,["response"]);p!=null&&f(e,["response"],p);const x=d(t,["responseJsonSchema"]);return x!=null&&f(e,["responseJsonSchema"],x),e}function Z2(t){const e={},i=d(t,["startTime"]);i!=null&&f(e,["startTime"],i);const a=d(t,["endTime"]);return a!=null&&f(e,["endTime"],a),e}function J2(t){const e={},i=d(t,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],Z2(i)),e}function Q2(t){const e={},i=d(t,["mode"]);i!=null&&f(e,["mode"],i);const a=d(t,["dynamicThreshold"]);return a!=null&&f(e,["dynamicThreshold"],a),e}function K2(t){const e={},i=d(t,["dynamicRetrievalConfig"]);return i!=null&&f(e,["dynamicRetrievalConfig"],Q2(i)),e}function W2(){return{}}function X2(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(x=>Y2(x))),f(e,["functionDeclarations"],p)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=d(t,["googleSearch"]);a!=null&&f(e,["googleSearch"],J2(a));const r=d(t,["googleSearchRetrieval"]);if(r!=null&&f(e,["googleSearchRetrieval"],K2(r)),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(t,["urlContext"])!=null&&f(e,["urlContext"],W2());const m=d(t,["codeExecution"]);return m!=null&&f(e,["codeExecution"],m),e}function eb(t){const e={},i=d(t,["mode"]);i!=null&&f(e,["mode"],i);const a=d(t,["allowedFunctionNames"]);return a!=null&&f(e,["allowedFunctionNames"],a),e}function tb(t){const e={},i=d(t,["latitude"]);i!=null&&f(e,["latitude"],i);const a=d(t,["longitude"]);return a!=null&&f(e,["longitude"],a),e}function nb(t){const e={},i=d(t,["latLng"]);i!=null&&f(e,["latLng"],tb(i));const a=d(t,["languageCode"]);return a!=null&&f(e,["languageCode"],a),e}function ib(t){const e={},i=d(t,["functionCallingConfig"]);i!=null&&f(e,["functionCallingConfig"],eb(i));const a=d(t,["retrievalConfig"]);return a!=null&&f(e,["retrievalConfig"],nb(a)),e}function sb(t,e){const i={},a=d(t,["ttl"]);e!==void 0&&a!=null&&f(e,["ttl"],a);const r=d(t,["expireTime"]);e!==void 0&&r!=null&&f(e,["expireTime"],r);const l=d(t,["displayName"]);e!==void 0&&l!=null&&f(e,["displayName"],l);const m=d(t,["contents"]);if(e!==void 0&&m!=null){let v=Xt(m);Array.isArray(v)&&(v=v.map(b=>$g(b))),f(e,["contents"],v)}const p=d(t,["systemInstruction"]);e!==void 0&&p!=null&&f(e,["systemInstruction"],$g(Ct(p)));const x=d(t,["tools"]);if(e!==void 0&&x!=null){let v=x;Array.isArray(v)&&(v=v.map(b=>X2(b))),f(e,["tools"],v)}const g=d(t,["toolConfig"]);if(e!==void 0&&g!=null&&f(e,["toolConfig"],ib(g)),d(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return i}function ab(t,e){const i={},a=d(e,["model"]);a!=null&&f(i,["model"],Q0(t,a));const r=d(e,["config"]);return r!=null&&f(i,["config"],sb(r,i)),i}function rb(t,e){const i={},a=d(e,["name"]);a!=null&&f(i,["_url","name"],ci(t,a));const r=d(e,["config"]);return r!=null&&f(i,["config"],r),i}function ob(t,e){const i={},a=d(e,["name"]);a!=null&&f(i,["_url","name"],ci(t,a));const r=d(e,["config"]);return r!=null&&f(i,["config"],r),i}function lb(t,e){const i={},a=d(t,["ttl"]);e!==void 0&&a!=null&&f(e,["ttl"],a);const r=d(t,["expireTime"]);return e!==void 0&&r!=null&&f(e,["expireTime"],r),i}function cb(t,e){const i={},a=d(e,["name"]);a!=null&&f(i,["_url","name"],ci(t,a));const r=d(e,["config"]);return r!=null&&f(i,["config"],lb(r,i)),i}function ub(t,e){const i={},a=d(t,["pageSize"]);e!==void 0&&a!=null&&f(e,["_query","pageSize"],a);const r=d(t,["pageToken"]);return e!==void 0&&r!=null&&f(e,["_query","pageToken"],r),i}function db(t){const e={},i=d(t,["config"]);return i!=null&&f(e,["config"],ub(i,e)),e}function fb(t){const e={},i=d(t,["fps"]);i!=null&&f(e,["fps"],i);const a=d(t,["endOffset"]);a!=null&&f(e,["endOffset"],a);const r=d(t,["startOffset"]);return r!=null&&f(e,["startOffset"],r),e}function mb(t){const e={},i=d(t,["displayName"]);i!=null&&f(e,["displayName"],i);const a=d(t,["data"]);a!=null&&f(e,["data"],a);const r=d(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function hb(t){const e={},i=d(t,["displayName"]);i!=null&&f(e,["displayName"],i);const a=d(t,["fileUri"]);a!=null&&f(e,["fileUri"],a);const r=d(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function pb(t){const e={},i=d(t,["videoMetadata"]);i!=null&&f(e,["videoMetadata"],fb(i));const a=d(t,["thought"]);a!=null&&f(e,["thought"],a);const r=d(t,["inlineData"]);r!=null&&f(e,["inlineData"],mb(r));const l=d(t,["fileData"]);l!=null&&f(e,["fileData"],hb(l));const m=d(t,["thoughtSignature"]);m!=null&&f(e,["thoughtSignature"],m);const p=d(t,["codeExecutionResult"]);p!=null&&f(e,["codeExecutionResult"],p);const x=d(t,["executableCode"]);x!=null&&f(e,["executableCode"],x);const g=d(t,["functionCall"]);g!=null&&f(e,["functionCall"],g);const v=d(t,["functionResponse"]);v!=null&&f(e,["functionResponse"],v);const b=d(t,["text"]);return b!=null&&f(e,["text"],b),e}function zg(t){const e={},i=d(t,["parts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>pb(l))),f(e,["parts"],r)}const a=d(t,["role"]);return a!=null&&f(e,["role"],a),e}function gb(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=d(t,["description"]);i!=null&&f(e,["description"],i);const a=d(t,["name"]);a!=null&&f(e,["name"],a);const r=d(t,["parameters"]);r!=null&&f(e,["parameters"],r);const l=d(t,["parametersJsonSchema"]);l!=null&&f(e,["parametersJsonSchema"],l);const m=d(t,["response"]);m!=null&&f(e,["response"],m);const p=d(t,["responseJsonSchema"]);return p!=null&&f(e,["responseJsonSchema"],p),e}function xb(t){const e={},i=d(t,["startTime"]);i!=null&&f(e,["startTime"],i);const a=d(t,["endTime"]);return a!=null&&f(e,["endTime"],a),e}function yb(t){const e={},i=d(t,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],xb(i)),e}function vb(t){const e={},i=d(t,["mode"]);i!=null&&f(e,["mode"],i);const a=d(t,["dynamicThreshold"]);return a!=null&&f(e,["dynamicThreshold"],a),e}function bb(t){const e={},i=d(t,["dynamicRetrievalConfig"]);return i!=null&&f(e,["dynamicRetrievalConfig"],vb(i)),e}function wb(){return{}}function Cb(t){const e={},i=d(t,["apiKeyString"]);return i!=null&&f(e,["apiKeyString"],i),e}function Sb(t){const e={},i=d(t,["apiKeyConfig"]);i!=null&&f(e,["apiKeyConfig"],Cb(i));const a=d(t,["authType"]);a!=null&&f(e,["authType"],a);const r=d(t,["googleServiceAccountConfig"]);r!=null&&f(e,["googleServiceAccountConfig"],r);const l=d(t,["httpBasicAuthConfig"]);l!=null&&f(e,["httpBasicAuthConfig"],l);const m=d(t,["oauthConfig"]);m!=null&&f(e,["oauthConfig"],m);const p=d(t,["oidcConfig"]);return p!=null&&f(e,["oidcConfig"],p),e}function Tb(t){const e={},i=d(t,["authConfig"]);return i!=null&&f(e,["authConfig"],Sb(i)),e}function Nb(){return{}}function Eb(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(b=>gb(b))),f(e,["functionDeclarations"],v)}const a=d(t,["retrieval"]);a!=null&&f(e,["retrieval"],a);const r=d(t,["googleSearch"]);r!=null&&f(e,["googleSearch"],yb(r));const l=d(t,["googleSearchRetrieval"]);l!=null&&f(e,["googleSearchRetrieval"],bb(l)),d(t,["enterpriseWebSearch"])!=null&&f(e,["enterpriseWebSearch"],wb());const p=d(t,["googleMaps"]);p!=null&&f(e,["googleMaps"],Tb(p)),d(t,["urlContext"])!=null&&f(e,["urlContext"],Nb());const g=d(t,["codeExecution"]);return g!=null&&f(e,["codeExecution"],g),e}function Ab(t){const e={},i=d(t,["mode"]);i!=null&&f(e,["mode"],i);const a=d(t,["allowedFunctionNames"]);return a!=null&&f(e,["allowedFunctionNames"],a),e}function _b(t){const e={},i=d(t,["latitude"]);i!=null&&f(e,["latitude"],i);const a=d(t,["longitude"]);return a!=null&&f(e,["longitude"],a),e}function Mb(t){const e={},i=d(t,["latLng"]);i!=null&&f(e,["latLng"],_b(i));const a=d(t,["languageCode"]);return a!=null&&f(e,["languageCode"],a),e}function kb(t){const e={},i=d(t,["functionCallingConfig"]);i!=null&&f(e,["functionCallingConfig"],Ab(i));const a=d(t,["retrievalConfig"]);return a!=null&&f(e,["retrievalConfig"],Mb(a)),e}function Rb(t,e){const i={},a=d(t,["ttl"]);e!==void 0&&a!=null&&f(e,["ttl"],a);const r=d(t,["expireTime"]);e!==void 0&&r!=null&&f(e,["expireTime"],r);const l=d(t,["displayName"]);e!==void 0&&l!=null&&f(e,["displayName"],l);const m=d(t,["contents"]);if(e!==void 0&&m!=null){let b=Xt(m);Array.isArray(b)&&(b=b.map(w=>zg(w))),f(e,["contents"],b)}const p=d(t,["systemInstruction"]);e!==void 0&&p!=null&&f(e,["systemInstruction"],zg(Ct(p)));const x=d(t,["tools"]);if(e!==void 0&&x!=null){let b=x;Array.isArray(b)&&(b=b.map(w=>Eb(w))),f(e,["tools"],b)}const g=d(t,["toolConfig"]);e!==void 0&&g!=null&&f(e,["toolConfig"],kb(g));const v=d(t,["kmsKeyName"]);return e!==void 0&&v!=null&&f(e,["encryption_spec","kmsKeyName"],v),i}function Db(t,e){const i={},a=d(e,["model"]);a!=null&&f(i,["model"],Q0(t,a));const r=d(e,["config"]);return r!=null&&f(i,["config"],Rb(r,i)),i}function jb(t,e){const i={},a=d(e,["name"]);a!=null&&f(i,["_url","name"],ci(t,a));const r=d(e,["config"]);return r!=null&&f(i,["config"],r),i}function Ib(t,e){const i={},a=d(e,["name"]);a!=null&&f(i,["_url","name"],ci(t,a));const r=d(e,["config"]);return r!=null&&f(i,["config"],r),i}function Lb(t,e){const i={},a=d(t,["ttl"]);e!==void 0&&a!=null&&f(e,["ttl"],a);const r=d(t,["expireTime"]);return e!==void 0&&r!=null&&f(e,["expireTime"],r),i}function Ub(t,e){const i={},a=d(e,["name"]);a!=null&&f(i,["_url","name"],ci(t,a));const r=d(e,["config"]);return r!=null&&f(i,["config"],Lb(r,i)),i}function Pb(t,e){const i={},a=d(t,["pageSize"]);e!==void 0&&a!=null&&f(e,["_query","pageSize"],a);const r=d(t,["pageToken"]);return e!==void 0&&r!=null&&f(e,["_query","pageToken"],r),i}function Bb(t){const e={},i=d(t,["config"]);return i!=null&&f(e,["config"],Pb(i,e)),e}function So(t){const e={},i=d(t,["name"]);i!=null&&f(e,["name"],i);const a=d(t,["displayName"]);a!=null&&f(e,["displayName"],a);const r=d(t,["model"]);r!=null&&f(e,["model"],r);const l=d(t,["createTime"]);l!=null&&f(e,["createTime"],l);const m=d(t,["updateTime"]);m!=null&&f(e,["updateTime"],m);const p=d(t,["expireTime"]);p!=null&&f(e,["expireTime"],p);const x=d(t,["usageMetadata"]);return x!=null&&f(e,["usageMetadata"],x),e}function Ob(){return{}}function Vb(t){const e={},i=d(t,["nextPageToken"]);i!=null&&f(e,["nextPageToken"],i);const a=d(t,["cachedContents"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(l=>So(l))),f(e,["cachedContents"],r)}return e}function To(t){const e={},i=d(t,["name"]);i!=null&&f(e,["name"],i);const a=d(t,["displayName"]);a!=null&&f(e,["displayName"],a);const r=d(t,["model"]);r!=null&&f(e,["model"],r);const l=d(t,["createTime"]);l!=null&&f(e,["createTime"],l);const m=d(t,["updateTime"]);m!=null&&f(e,["updateTime"],m);const p=d(t,["expireTime"]);p!=null&&f(e,["expireTime"],p);const x=d(t,["usageMetadata"]);return x!=null&&f(e,["usageMetadata"],x),e}function qb(){return{}}function $b(t){const e={},i=d(t,["nextPageToken"]);i!=null&&f(e,["nextPageToken"],i);const a=d(t,["cachedContents"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(l=>To(l))),f(e,["cachedContents"],r)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ps;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Ps||(Ps={}));class $o{constructor(e,i,a,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=i,this.init(e,a,r)}init(e,i,a){var r,l;this.nameInternal=e,this.pageInternal=i[this.nameInternal]||[],this.idxInternal=0;let m={config:{}};a?typeof a=="object"?m=Object.assign({},a):m=a:m={config:{}},m.config&&(m.config.pageToken=i.nextPageToken),this.paramsInternal=m,this.pageInternalSize=(l=(r=m.config)===null||r===void 0?void 0:r.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zb extends Bs{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new $o(Ps.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(i),i)}async create(e){var i,a,r,l;let m,p="",x={};if(this.apiClient.isVertexAI()){const g=Db(this.apiClient,e);return p=ve("cachedContents",g._url),x=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>To(v))}else{const g=ab(this.apiClient,e);return p=ve("cachedContents",g._url),x=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>So(v))}}async get(e){var i,a,r,l;let m,p="",x={};if(this.apiClient.isVertexAI()){const g=jb(this.apiClient,e);return p=ve("{name}",g._url),x=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>To(v))}else{const g=rb(this.apiClient,e);return p=ve("{name}",g._url),x=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>So(v))}}async delete(e){var i,a,r,l;let m,p="",x={};if(this.apiClient.isVertexAI()){const g=Ib(this.apiClient,e);return p=ve("{name}",g._url),x=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(()=>{const v=qb(),b=new Ug;return Object.assign(b,v),b})}else{const g=ob(this.apiClient,e);return p=ve("{name}",g._url),x=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(()=>{const v=Ob(),b=new Ug;return Object.assign(b,v),b})}}async update(e){var i,a,r,l;let m,p="",x={};if(this.apiClient.isVertexAI()){const g=Ub(this.apiClient,e);return p=ve("{name}",g._url),x=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>To(v))}else{const g=cb(this.apiClient,e);return p=ve("{name}",g._url),x=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>So(v))}}async listInternal(e){var i,a,r,l;let m,p="",x={};if(this.apiClient.isVertexAI()){const g=Bb(e);return p=ve("cachedContents",g._url),x=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>{const b=$b(v),w=new Pg;return Object.assign(w,b),w})}else{const g=db(e);return p=ve("cachedContents",g._url),x=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>{const b=Vb(v),w=new Pg;return Object.assign(w,b),w})}}}function Hg(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],a=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&a>=t.length&&(t=void 0),{value:t&&t[a++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ze(t){return this instanceof Ze?(this.v=t,this):new Ze(t)}function ks(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=i.apply(t,e||[]),r,l=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",m),r[Symbol.asyncIterator]=function(){return this},r;function m(S){return function(T){return Promise.resolve(T).then(S,b)}}function p(S,T){a[S]&&(r[S]=function(E){return new Promise(function(A,_){l.push([S,E,A,_])>1||x(S,E)})},T&&(r[S]=T(r[S])))}function x(S,T){try{g(a[S](T))}catch(E){w(l[0][3],E)}}function g(S){S.value instanceof Ze?Promise.resolve(S.value.v).then(v,b):w(l[0][2],S)}function v(S){x("next",S)}function b(S){x("throw",S)}function w(S,T){S(T),l.shift(),l.length&&x(l[0][0],l[0][1])}}function Ya(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof Hg=="function"?Hg(t):t[Symbol.iterator](),i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i);function a(l){i[l]=t[l]&&function(m){return new Promise(function(p,x){m=t[l](m),r(p,x,m.done,m.value)})}}function r(l,m,p,x){Promise.resolve(x).then(function(g){l({value:g,done:p})},m)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hb(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const i=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return i===void 0?!1:ax(i)}function ax(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function Gb(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Gg(t){if(t===void 0||t.length===0)return[];const e=[],i=t.length;let a=0;for(;a<i;)if(t[a].role==="user")e.push(t[a]),a++;else{const r=[];let l=!0;for(;a<i&&t[a].role==="model";)r.push(t[a]),l&&!ax(t[a])&&(l=!1),a++;l?e.push(...r):e.pop()}return e}class Fb{constructor(e,i){this.modelsModule=e,this.apiClient=i}create(e){return new Yb(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Yb{constructor(e,i,a,r={},l=[]){this.apiClient=e,this.modelsModule=i,this.model=a,this.config=r,this.history=l,this.sendPromise=Promise.resolve(),Gb(l)}async sendMessage(e){var i;await this.sendPromise;const a=Ct(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(i=e.config)!==null&&i!==void 0?i:this.config});return this.sendPromise=(async()=>{var l,m,p;const x=await r,g=(m=(l=x.candidates)===null||l===void 0?void 0:l[0])===null||m===void 0?void 0:m.content,v=x.automaticFunctionCallingHistory,b=this.getHistory(!0).length;let w=[];v!=null&&(w=(p=v.slice(b))!==null&&p!==void 0?p:[]);const S=g?[g]:[];this.recordHistory(a,S,w)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var i;await this.sendPromise;const a=Ct(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(i=e.config)!==null&&i!==void 0?i:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const l=await r;return this.processStreamResponse(l,a)}getHistory(e=!1){const i=e?Gg(this.history):this.history;return structuredClone(i)}processStreamResponse(e,i){var a,r;return ks(this,arguments,function*(){var m,p,x,g;const v=[];try{for(var b=!0,w=Ya(e),S;S=yield Ze(w.next()),m=S.done,!m;b=!0){g=S.value,b=!1;const T=g;if(Hb(T)){const E=(r=(a=T.candidates)===null||a===void 0?void 0:a[0])===null||r===void 0?void 0:r.content;E!==void 0&&v.push(E)}yield yield Ze(T)}}catch(T){p={error:T}}finally{try{!b&&!m&&(x=w.return)&&(yield Ze(x.call(w)))}finally{if(p)throw p.error}}this.recordHistory(i,v)})}recordHistory(e,i,a){let r=[];i.length>0&&i.every(l=>l.role!==void 0)?r=i:r.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...Gg(a)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zo extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,zo.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zb(t,e){const i={},a=d(t,["pageSize"]);e!==void 0&&a!=null&&f(e,["_query","pageSize"],a);const r=d(t,["pageToken"]);return e!==void 0&&r!=null&&f(e,["_query","pageToken"],r),i}function Jb(t){const e={},i=d(t,["config"]);return i!=null&&f(e,["config"],Zb(i,e)),e}function Qb(t){const e={},i=d(t,["details"]);i!=null&&f(e,["details"],i);const a=d(t,["message"]);a!=null&&f(e,["message"],a);const r=d(t,["code"]);return r!=null&&f(e,["code"],r),e}function Kb(t){const e={},i=d(t,["name"]);i!=null&&f(e,["name"],i);const a=d(t,["displayName"]);a!=null&&f(e,["displayName"],a);const r=d(t,["mimeType"]);r!=null&&f(e,["mimeType"],r);const l=d(t,["sizeBytes"]);l!=null&&f(e,["sizeBytes"],l);const m=d(t,["createTime"]);m!=null&&f(e,["createTime"],m);const p=d(t,["expirationTime"]);p!=null&&f(e,["expirationTime"],p);const x=d(t,["updateTime"]);x!=null&&f(e,["updateTime"],x);const g=d(t,["sha256Hash"]);g!=null&&f(e,["sha256Hash"],g);const v=d(t,["uri"]);v!=null&&f(e,["uri"],v);const b=d(t,["downloadUri"]);b!=null&&f(e,["downloadUri"],b);const w=d(t,["state"]);w!=null&&f(e,["state"],w);const S=d(t,["source"]);S!=null&&f(e,["source"],S);const T=d(t,["videoMetadata"]);T!=null&&f(e,["videoMetadata"],T);const E=d(t,["error"]);return E!=null&&f(e,["error"],Qb(E)),e}function Wb(t){const e={},i=d(t,["file"]);i!=null&&f(e,["file"],Kb(i));const a=d(t,["config"]);return a!=null&&f(e,["config"],a),e}function Xb(t){const e={},i=d(t,["name"]);i!=null&&f(e,["_url","file"],nx(i));const a=d(t,["config"]);return a!=null&&f(e,["config"],a),e}function e5(t){const e={},i=d(t,["name"]);i!=null&&f(e,["_url","file"],nx(i));const a=d(t,["config"]);return a!=null&&f(e,["config"],a),e}function t5(t){const e={},i=d(t,["details"]);i!=null&&f(e,["details"],i);const a=d(t,["message"]);a!=null&&f(e,["message"],a);const r=d(t,["code"]);return r!=null&&f(e,["code"],r),e}function ed(t){const e={},i=d(t,["name"]);i!=null&&f(e,["name"],i);const a=d(t,["displayName"]);a!=null&&f(e,["displayName"],a);const r=d(t,["mimeType"]);r!=null&&f(e,["mimeType"],r);const l=d(t,["sizeBytes"]);l!=null&&f(e,["sizeBytes"],l);const m=d(t,["createTime"]);m!=null&&f(e,["createTime"],m);const p=d(t,["expirationTime"]);p!=null&&f(e,["expirationTime"],p);const x=d(t,["updateTime"]);x!=null&&f(e,["updateTime"],x);const g=d(t,["sha256Hash"]);g!=null&&f(e,["sha256Hash"],g);const v=d(t,["uri"]);v!=null&&f(e,["uri"],v);const b=d(t,["downloadUri"]);b!=null&&f(e,["downloadUri"],b);const w=d(t,["state"]);w!=null&&f(e,["state"],w);const S=d(t,["source"]);S!=null&&f(e,["source"],S);const T=d(t,["videoMetadata"]);T!=null&&f(e,["videoMetadata"],T);const E=d(t,["error"]);return E!=null&&f(e,["error"],t5(E)),e}function n5(t){const e={},i=d(t,["nextPageToken"]);i!=null&&f(e,["nextPageToken"],i);const a=d(t,["files"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(l=>ed(l))),f(e,["files"],r)}return e}function i5(){return{}}function s5(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class a5 extends Bs{constructor(e){super(),this.apiClient=e,this.list=async(i={})=>new $o(Ps.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(i),i)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(i=>ed(i))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var i,a;let r,l="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Jb(e);return l=ve("files",p._url),m=p._query,delete p.config,delete p._url,delete p._query,r=this.apiClient.request({path:l,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),r.then(x=>{const g=n5(x),v=new S2;return Object.assign(v,g),v})}}async createInternal(e){var i,a;let r,l="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Wb(e);return l=ve("upload/v1beta/files",p._url),m=p._query,delete p.config,delete p._url,delete p._query,r=this.apiClient.request({path:l,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),r.then(()=>{const x=i5(),g=new T2;return Object.assign(g,x),g})}}async get(e){var i,a;let r,l="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Xb(e);return l=ve("files/{file}",p._url),m=p._query,delete p.config,delete p._url,delete p._query,r=this.apiClient.request({path:l,queryParams:m,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),r.then(x=>ed(x))}}async delete(e){var i,a;let r,l="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=e5(e);return l=ve("files/{file}",p._url),m=p._query,delete p.config,delete p._url,delete p._query,r=this.apiClient.request({path:l,queryParams:m,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),r.then(()=>{const x=s5(),g=new N2;return Object.assign(g,x),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function r5(t){const e={},i=d(t,["voiceName"]);return i!=null&&f(e,["voiceName"],i),e}function o5(t){const e={},i=d(t,["voiceName"]);return i!=null&&f(e,["voiceName"],i),e}function rx(t){const e={},i=d(t,["prebuiltVoiceConfig"]);return i!=null&&f(e,["prebuiltVoiceConfig"],r5(i)),e}function l5(t){const e={},i=d(t,["prebuiltVoiceConfig"]);return i!=null&&f(e,["prebuiltVoiceConfig"],o5(i)),e}function c5(t){const e={},i=d(t,["speaker"]);i!=null&&f(e,["speaker"],i);const a=d(t,["voiceConfig"]);return a!=null&&f(e,["voiceConfig"],rx(a)),e}function u5(t){const e={},i=d(t,["speakerVoiceConfigs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(r=>c5(r))),f(e,["speakerVoiceConfigs"],a)}return e}function d5(t){const e={},i=d(t,["voiceConfig"]);i!=null&&f(e,["voiceConfig"],rx(i));const a=d(t,["multiSpeakerVoiceConfig"]);a!=null&&f(e,["multiSpeakerVoiceConfig"],u5(a));const r=d(t,["languageCode"]);return r!=null&&f(e,["languageCode"],r),e}function f5(t){const e={},i=d(t,["voiceConfig"]);if(i!=null&&f(e,["voiceConfig"],l5(i)),d(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const a=d(t,["languageCode"]);return a!=null&&f(e,["languageCode"],a),e}function m5(t){const e={},i=d(t,["fps"]);i!=null&&f(e,["fps"],i);const a=d(t,["endOffset"]);a!=null&&f(e,["endOffset"],a);const r=d(t,["startOffset"]);return r!=null&&f(e,["startOffset"],r),e}function h5(t){const e={},i=d(t,["fps"]);i!=null&&f(e,["fps"],i);const a=d(t,["endOffset"]);a!=null&&f(e,["endOffset"],a);const r=d(t,["startOffset"]);return r!=null&&f(e,["startOffset"],r),e}function p5(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["data"]);i!=null&&f(e,["data"],i);const a=d(t,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}function g5(t){const e={},i=d(t,["displayName"]);i!=null&&f(e,["displayName"],i);const a=d(t,["data"]);a!=null&&f(e,["data"],a);const r=d(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function x5(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const a=d(t,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}function y5(t){const e={},i=d(t,["displayName"]);i!=null&&f(e,["displayName"],i);const a=d(t,["fileUri"]);a!=null&&f(e,["fileUri"],a);const r=d(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function v5(t){const e={},i=d(t,["videoMetadata"]);i!=null&&f(e,["videoMetadata"],m5(i));const a=d(t,["thought"]);a!=null&&f(e,["thought"],a);const r=d(t,["inlineData"]);r!=null&&f(e,["inlineData"],p5(r));const l=d(t,["fileData"]);l!=null&&f(e,["fileData"],x5(l));const m=d(t,["thoughtSignature"]);m!=null&&f(e,["thoughtSignature"],m);const p=d(t,["codeExecutionResult"]);p!=null&&f(e,["codeExecutionResult"],p);const x=d(t,["executableCode"]);x!=null&&f(e,["executableCode"],x);const g=d(t,["functionCall"]);g!=null&&f(e,["functionCall"],g);const v=d(t,["functionResponse"]);v!=null&&f(e,["functionResponse"],v);const b=d(t,["text"]);return b!=null&&f(e,["text"],b),e}function b5(t){const e={},i=d(t,["videoMetadata"]);i!=null&&f(e,["videoMetadata"],h5(i));const a=d(t,["thought"]);a!=null&&f(e,["thought"],a);const r=d(t,["inlineData"]);r!=null&&f(e,["inlineData"],g5(r));const l=d(t,["fileData"]);l!=null&&f(e,["fileData"],y5(l));const m=d(t,["thoughtSignature"]);m!=null&&f(e,["thoughtSignature"],m);const p=d(t,["codeExecutionResult"]);p!=null&&f(e,["codeExecutionResult"],p);const x=d(t,["executableCode"]);x!=null&&f(e,["executableCode"],x);const g=d(t,["functionCall"]);g!=null&&f(e,["functionCall"],g);const v=d(t,["functionResponse"]);v!=null&&f(e,["functionResponse"],v);const b=d(t,["text"]);return b!=null&&f(e,["text"],b),e}function w5(t){const e={},i=d(t,["parts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>v5(l))),f(e,["parts"],r)}const a=d(t,["role"]);return a!=null&&f(e,["role"],a),e}function C5(t){const e={},i=d(t,["parts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>b5(l))),f(e,["parts"],r)}const a=d(t,["role"]);return a!=null&&f(e,["role"],a),e}function S5(t){const e={},i=d(t,["behavior"]);i!=null&&f(e,["behavior"],i);const a=d(t,["description"]);a!=null&&f(e,["description"],a);const r=d(t,["name"]);r!=null&&f(e,["name"],r);const l=d(t,["parameters"]);l!=null&&f(e,["parameters"],l);const m=d(t,["parametersJsonSchema"]);m!=null&&f(e,["parametersJsonSchema"],m);const p=d(t,["response"]);p!=null&&f(e,["response"],p);const x=d(t,["responseJsonSchema"]);return x!=null&&f(e,["responseJsonSchema"],x),e}function T5(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=d(t,["description"]);i!=null&&f(e,["description"],i);const a=d(t,["name"]);a!=null&&f(e,["name"],a);const r=d(t,["parameters"]);r!=null&&f(e,["parameters"],r);const l=d(t,["parametersJsonSchema"]);l!=null&&f(e,["parametersJsonSchema"],l);const m=d(t,["response"]);m!=null&&f(e,["response"],m);const p=d(t,["responseJsonSchema"]);return p!=null&&f(e,["responseJsonSchema"],p),e}function N5(t){const e={},i=d(t,["startTime"]);i!=null&&f(e,["startTime"],i);const a=d(t,["endTime"]);return a!=null&&f(e,["endTime"],a),e}function E5(t){const e={},i=d(t,["startTime"]);i!=null&&f(e,["startTime"],i);const a=d(t,["endTime"]);return a!=null&&f(e,["endTime"],a),e}function A5(t){const e={},i=d(t,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],N5(i)),e}function _5(t){const e={},i=d(t,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],E5(i)),e}function M5(t){const e={},i=d(t,["mode"]);i!=null&&f(e,["mode"],i);const a=d(t,["dynamicThreshold"]);return a!=null&&f(e,["dynamicThreshold"],a),e}function k5(t){const e={},i=d(t,["mode"]);i!=null&&f(e,["mode"],i);const a=d(t,["dynamicThreshold"]);return a!=null&&f(e,["dynamicThreshold"],a),e}function R5(t){const e={},i=d(t,["dynamicRetrievalConfig"]);return i!=null&&f(e,["dynamicRetrievalConfig"],M5(i)),e}function D5(t){const e={},i=d(t,["dynamicRetrievalConfig"]);return i!=null&&f(e,["dynamicRetrievalConfig"],k5(i)),e}function j5(){return{}}function I5(t){const e={},i=d(t,["apiKeyString"]);return i!=null&&f(e,["apiKeyString"],i),e}function L5(t){const e={},i=d(t,["apiKeyConfig"]);i!=null&&f(e,["apiKeyConfig"],I5(i));const a=d(t,["authType"]);a!=null&&f(e,["authType"],a);const r=d(t,["googleServiceAccountConfig"]);r!=null&&f(e,["googleServiceAccountConfig"],r);const l=d(t,["httpBasicAuthConfig"]);l!=null&&f(e,["httpBasicAuthConfig"],l);const m=d(t,["oauthConfig"]);m!=null&&f(e,["oauthConfig"],m);const p=d(t,["oidcConfig"]);return p!=null&&f(e,["oidcConfig"],p),e}function U5(t){const e={},i=d(t,["authConfig"]);return i!=null&&f(e,["authConfig"],L5(i)),e}function P5(){return{}}function B5(){return{}}function O5(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(x=>S5(x))),f(e,["functionDeclarations"],p)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=d(t,["googleSearch"]);a!=null&&f(e,["googleSearch"],A5(a));const r=d(t,["googleSearchRetrieval"]);if(r!=null&&f(e,["googleSearchRetrieval"],R5(r)),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(t,["urlContext"])!=null&&f(e,["urlContext"],P5());const m=d(t,["codeExecution"]);return m!=null&&f(e,["codeExecution"],m),e}function V5(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(b=>T5(b))),f(e,["functionDeclarations"],v)}const a=d(t,["retrieval"]);a!=null&&f(e,["retrieval"],a);const r=d(t,["googleSearch"]);r!=null&&f(e,["googleSearch"],_5(r));const l=d(t,["googleSearchRetrieval"]);l!=null&&f(e,["googleSearchRetrieval"],D5(l)),d(t,["enterpriseWebSearch"])!=null&&f(e,["enterpriseWebSearch"],j5());const p=d(t,["googleMaps"]);p!=null&&f(e,["googleMaps"],U5(p)),d(t,["urlContext"])!=null&&f(e,["urlContext"],B5());const g=d(t,["codeExecution"]);return g!=null&&f(e,["codeExecution"],g),e}function q5(t){const e={},i=d(t,["handle"]);if(i!=null&&f(e,["handle"],i),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function $5(t){const e={},i=d(t,["handle"]);i!=null&&f(e,["handle"],i);const a=d(t,["transparent"]);return a!=null&&f(e,["transparent"],a),e}function Fg(){return{}}function Yg(){return{}}function z5(t){const e={},i=d(t,["disabled"]);i!=null&&f(e,["disabled"],i);const a=d(t,["startOfSpeechSensitivity"]);a!=null&&f(e,["startOfSpeechSensitivity"],a);const r=d(t,["endOfSpeechSensitivity"]);r!=null&&f(e,["endOfSpeechSensitivity"],r);const l=d(t,["prefixPaddingMs"]);l!=null&&f(e,["prefixPaddingMs"],l);const m=d(t,["silenceDurationMs"]);return m!=null&&f(e,["silenceDurationMs"],m),e}function H5(t){const e={},i=d(t,["disabled"]);i!=null&&f(e,["disabled"],i);const a=d(t,["startOfSpeechSensitivity"]);a!=null&&f(e,["startOfSpeechSensitivity"],a);const r=d(t,["endOfSpeechSensitivity"]);r!=null&&f(e,["endOfSpeechSensitivity"],r);const l=d(t,["prefixPaddingMs"]);l!=null&&f(e,["prefixPaddingMs"],l);const m=d(t,["silenceDurationMs"]);return m!=null&&f(e,["silenceDurationMs"],m),e}function G5(t){const e={},i=d(t,["automaticActivityDetection"]);i!=null&&f(e,["automaticActivityDetection"],z5(i));const a=d(t,["activityHandling"]);a!=null&&f(e,["activityHandling"],a);const r=d(t,["turnCoverage"]);return r!=null&&f(e,["turnCoverage"],r),e}function F5(t){const e={},i=d(t,["automaticActivityDetection"]);i!=null&&f(e,["automaticActivityDetection"],H5(i));const a=d(t,["activityHandling"]);a!=null&&f(e,["activityHandling"],a);const r=d(t,["turnCoverage"]);return r!=null&&f(e,["turnCoverage"],r),e}function Y5(t){const e={},i=d(t,["targetTokens"]);return i!=null&&f(e,["targetTokens"],i),e}function Z5(t){const e={},i=d(t,["targetTokens"]);return i!=null&&f(e,["targetTokens"],i),e}function J5(t){const e={},i=d(t,["triggerTokens"]);i!=null&&f(e,["triggerTokens"],i);const a=d(t,["slidingWindow"]);return a!=null&&f(e,["slidingWindow"],Y5(a)),e}function Q5(t){const e={},i=d(t,["triggerTokens"]);i!=null&&f(e,["triggerTokens"],i);const a=d(t,["slidingWindow"]);return a!=null&&f(e,["slidingWindow"],Z5(a)),e}function K5(t){const e={},i=d(t,["proactiveAudio"]);return i!=null&&f(e,["proactiveAudio"],i),e}function W5(t){const e={},i=d(t,["proactiveAudio"]);return i!=null&&f(e,["proactiveAudio"],i),e}function X5(t,e){const i={},a=d(t,["generationConfig"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig"],a);const r=d(t,["responseModalities"]);e!==void 0&&r!=null&&f(e,["setup","generationConfig","responseModalities"],r);const l=d(t,["temperature"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","temperature"],l);const m=d(t,["topP"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","topP"],m);const p=d(t,["topK"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","topK"],p);const x=d(t,["maxOutputTokens"]);e!==void 0&&x!=null&&f(e,["setup","generationConfig","maxOutputTokens"],x);const g=d(t,["mediaResolution"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","mediaResolution"],g);const v=d(t,["seed"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","seed"],v);const b=d(t,["speechConfig"]);e!==void 0&&b!=null&&f(e,["setup","generationConfig","speechConfig"],d5(xd(b)));const w=d(t,["enableAffectiveDialog"]);e!==void 0&&w!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],w);const S=d(t,["systemInstruction"]);e!==void 0&&S!=null&&f(e,["setup","systemInstruction"],w5(Ct(S)));const T=d(t,["tools"]);if(e!==void 0&&T!=null){let F=Xa(T);Array.isArray(F)&&(F=F.map(H=>O5(Wa(H)))),f(e,["setup","tools"],F)}const E=d(t,["sessionResumption"]);e!==void 0&&E!=null&&f(e,["setup","sessionResumption"],q5(E));const A=d(t,["inputAudioTranscription"]);e!==void 0&&A!=null&&f(e,["setup","inputAudioTranscription"],Fg());const _=d(t,["outputAudioTranscription"]);e!==void 0&&_!=null&&f(e,["setup","outputAudioTranscription"],Fg());const L=d(t,["realtimeInputConfig"]);e!==void 0&&L!=null&&f(e,["setup","realtimeInputConfig"],G5(L));const U=d(t,["contextWindowCompression"]);e!==void 0&&U!=null&&f(e,["setup","contextWindowCompression"],J5(U));const O=d(t,["proactivity"]);return e!==void 0&&O!=null&&f(e,["setup","proactivity"],K5(O)),i}function ew(t,e){const i={},a=d(t,["generationConfig"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig"],a);const r=d(t,["responseModalities"]);e!==void 0&&r!=null&&f(e,["setup","generationConfig","responseModalities"],r);const l=d(t,["temperature"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","temperature"],l);const m=d(t,["topP"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","topP"],m);const p=d(t,["topK"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","topK"],p);const x=d(t,["maxOutputTokens"]);e!==void 0&&x!=null&&f(e,["setup","generationConfig","maxOutputTokens"],x);const g=d(t,["mediaResolution"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","mediaResolution"],g);const v=d(t,["seed"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","seed"],v);const b=d(t,["speechConfig"]);e!==void 0&&b!=null&&f(e,["setup","generationConfig","speechConfig"],f5(xd(b)));const w=d(t,["enableAffectiveDialog"]);e!==void 0&&w!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],w);const S=d(t,["systemInstruction"]);e!==void 0&&S!=null&&f(e,["setup","systemInstruction"],C5(Ct(S)));const T=d(t,["tools"]);if(e!==void 0&&T!=null){let F=Xa(T);Array.isArray(F)&&(F=F.map(H=>V5(Wa(H)))),f(e,["setup","tools"],F)}const E=d(t,["sessionResumption"]);e!==void 0&&E!=null&&f(e,["setup","sessionResumption"],$5(E));const A=d(t,["inputAudioTranscription"]);e!==void 0&&A!=null&&f(e,["setup","inputAudioTranscription"],Yg());const _=d(t,["outputAudioTranscription"]);e!==void 0&&_!=null&&f(e,["setup","outputAudioTranscription"],Yg());const L=d(t,["realtimeInputConfig"]);e!==void 0&&L!=null&&f(e,["setup","realtimeInputConfig"],F5(L));const U=d(t,["contextWindowCompression"]);e!==void 0&&U!=null&&f(e,["setup","contextWindowCompression"],Q5(U));const O=d(t,["proactivity"]);return e!==void 0&&O!=null&&f(e,["setup","proactivity"],W5(O)),i}function tw(t,e){const i={},a=d(e,["model"]);a!=null&&f(i,["setup","model"],Fe(t,a));const r=d(e,["config"]);return r!=null&&f(i,["config"],X5(r,i)),i}function nw(t,e){const i={},a=d(e,["model"]);a!=null&&f(i,["setup","model"],Fe(t,a));const r=d(e,["config"]);return r!=null&&f(i,["config"],ew(r,i)),i}function iw(){return{}}function sw(){return{}}function aw(){return{}}function rw(){return{}}function ow(t){const e={},i=d(t,["media"]);i!=null&&f(e,["mediaChunks"],K0(i));const a=d(t,["audio"]);a!=null&&f(e,["audio"],M2(a));const r=d(t,["audioStreamEnd"]);r!=null&&f(e,["audioStreamEnd"],r);const l=d(t,["video"]);l!=null&&f(e,["video"],_2(l));const m=d(t,["text"]);return m!=null&&f(e,["text"],m),d(t,["activityStart"])!=null&&f(e,["activityStart"],iw()),d(t,["activityEnd"])!=null&&f(e,["activityEnd"],aw()),e}function lw(t){const e={},i=d(t,["media"]);if(i!=null&&f(e,["mediaChunks"],K0(i)),d(t,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const a=d(t,["audioStreamEnd"]);if(a!=null&&f(e,["audioStreamEnd"],a),d(t,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(d(t,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return d(t,["activityStart"])!=null&&f(e,["activityStart"],sw()),d(t,["activityEnd"])!=null&&f(e,["activityEnd"],rw()),e}function ox(t){const e={},i=d(t,["text"]);i!=null&&f(e,["text"],i);const a=d(t,["weight"]);return a!=null&&f(e,["weight"],a),e}function cw(t){const e={},i=d(t,["weightedPrompts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(r=>ox(r))),f(e,["weightedPrompts"],a)}return e}function lx(t){const e={},i=d(t,["temperature"]);i!=null&&f(e,["temperature"],i);const a=d(t,["topK"]);a!=null&&f(e,["topK"],a);const r=d(t,["seed"]);r!=null&&f(e,["seed"],r);const l=d(t,["guidance"]);l!=null&&f(e,["guidance"],l);const m=d(t,["bpm"]);m!=null&&f(e,["bpm"],m);const p=d(t,["density"]);p!=null&&f(e,["density"],p);const x=d(t,["brightness"]);x!=null&&f(e,["brightness"],x);const g=d(t,["scale"]);g!=null&&f(e,["scale"],g);const v=d(t,["muteBass"]);v!=null&&f(e,["muteBass"],v);const b=d(t,["muteDrums"]);b!=null&&f(e,["muteDrums"],b);const w=d(t,["onlyBassAndDrums"]);return w!=null&&f(e,["onlyBassAndDrums"],w),e}function uw(t){const e={},i=d(t,["musicGenerationConfig"]);return i!=null&&f(e,["musicGenerationConfig"],lx(i)),e}function cx(t){const e={},i=d(t,["model"]);return i!=null&&f(e,["model"],i),e}function ux(t){const e={},i=d(t,["weightedPrompts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(r=>ox(r))),f(e,["weightedPrompts"],a)}return e}function td(t){const e={},i=d(t,["setup"]);i!=null&&f(e,["setup"],cx(i));const a=d(t,["clientContent"]);a!=null&&f(e,["clientContent"],ux(a));const r=d(t,["musicGenerationConfig"]);r!=null&&f(e,["musicGenerationConfig"],lx(r));const l=d(t,["playbackControl"]);return l!=null&&f(e,["playbackControl"],l),e}function dw(){return{}}function fw(){return{}}function mw(t){const e={},i=d(t,["fps"]);i!=null&&f(e,["fps"],i);const a=d(t,["endOffset"]);a!=null&&f(e,["endOffset"],a);const r=d(t,["startOffset"]);return r!=null&&f(e,["startOffset"],r),e}function hw(t){const e={},i=d(t,["fps"]);i!=null&&f(e,["fps"],i);const a=d(t,["endOffset"]);a!=null&&f(e,["endOffset"],a);const r=d(t,["startOffset"]);return r!=null&&f(e,["startOffset"],r),e}function pw(t){const e={},i=d(t,["data"]);i!=null&&f(e,["data"],i);const a=d(t,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}function gw(t){const e={},i=d(t,["displayName"]);i!=null&&f(e,["displayName"],i);const a=d(t,["data"]);a!=null&&f(e,["data"],a);const r=d(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function xw(t){const e={},i=d(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const a=d(t,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}function yw(t){const e={},i=d(t,["displayName"]);i!=null&&f(e,["displayName"],i);const a=d(t,["fileUri"]);a!=null&&f(e,["fileUri"],a);const r=d(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function vw(t){const e={},i=d(t,["videoMetadata"]);i!=null&&f(e,["videoMetadata"],mw(i));const a=d(t,["thought"]);a!=null&&f(e,["thought"],a);const r=d(t,["inlineData"]);r!=null&&f(e,["inlineData"],pw(r));const l=d(t,["fileData"]);l!=null&&f(e,["fileData"],xw(l));const m=d(t,["thoughtSignature"]);m!=null&&f(e,["thoughtSignature"],m);const p=d(t,["codeExecutionResult"]);p!=null&&f(e,["codeExecutionResult"],p);const x=d(t,["executableCode"]);x!=null&&f(e,["executableCode"],x);const g=d(t,["functionCall"]);g!=null&&f(e,["functionCall"],g);const v=d(t,["functionResponse"]);v!=null&&f(e,["functionResponse"],v);const b=d(t,["text"]);return b!=null&&f(e,["text"],b),e}function bw(t){const e={},i=d(t,["videoMetadata"]);i!=null&&f(e,["videoMetadata"],hw(i));const a=d(t,["thought"]);a!=null&&f(e,["thought"],a);const r=d(t,["inlineData"]);r!=null&&f(e,["inlineData"],gw(r));const l=d(t,["fileData"]);l!=null&&f(e,["fileData"],yw(l));const m=d(t,["thoughtSignature"]);m!=null&&f(e,["thoughtSignature"],m);const p=d(t,["codeExecutionResult"]);p!=null&&f(e,["codeExecutionResult"],p);const x=d(t,["executableCode"]);x!=null&&f(e,["executableCode"],x);const g=d(t,["functionCall"]);g!=null&&f(e,["functionCall"],g);const v=d(t,["functionResponse"]);v!=null&&f(e,["functionResponse"],v);const b=d(t,["text"]);return b!=null&&f(e,["text"],b),e}function ww(t){const e={},i=d(t,["parts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>vw(l))),f(e,["parts"],r)}const a=d(t,["role"]);return a!=null&&f(e,["role"],a),e}function Cw(t){const e={},i=d(t,["parts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>bw(l))),f(e,["parts"],r)}const a=d(t,["role"]);return a!=null&&f(e,["role"],a),e}function Zg(t){const e={},i=d(t,["text"]);i!=null&&f(e,["text"],i);const a=d(t,["finished"]);return a!=null&&f(e,["finished"],a),e}function Jg(t){const e={},i=d(t,["text"]);i!=null&&f(e,["text"],i);const a=d(t,["finished"]);return a!=null&&f(e,["finished"],a),e}function Sw(t){const e={},i=d(t,["retrievedUrl"]);i!=null&&f(e,["retrievedUrl"],i);const a=d(t,["urlRetrievalStatus"]);return a!=null&&f(e,["urlRetrievalStatus"],a),e}function Tw(t){const e={},i=d(t,["urlMetadata"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(r=>Sw(r))),f(e,["urlMetadata"],a)}return e}function Nw(t){const e={},i=d(t,["modelTurn"]);i!=null&&f(e,["modelTurn"],ww(i));const a=d(t,["turnComplete"]);a!=null&&f(e,["turnComplete"],a);const r=d(t,["interrupted"]);r!=null&&f(e,["interrupted"],r);const l=d(t,["groundingMetadata"]);l!=null&&f(e,["groundingMetadata"],l);const m=d(t,["generationComplete"]);m!=null&&f(e,["generationComplete"],m);const p=d(t,["inputTranscription"]);p!=null&&f(e,["inputTranscription"],Zg(p));const x=d(t,["outputTranscription"]);x!=null&&f(e,["outputTranscription"],Zg(x));const g=d(t,["urlContextMetadata"]);return g!=null&&f(e,["urlContextMetadata"],Tw(g)),e}function Ew(t){const e={},i=d(t,["modelTurn"]);i!=null&&f(e,["modelTurn"],Cw(i));const a=d(t,["turnComplete"]);a!=null&&f(e,["turnComplete"],a);const r=d(t,["interrupted"]);r!=null&&f(e,["interrupted"],r);const l=d(t,["groundingMetadata"]);l!=null&&f(e,["groundingMetadata"],l);const m=d(t,["generationComplete"]);m!=null&&f(e,["generationComplete"],m);const p=d(t,["inputTranscription"]);p!=null&&f(e,["inputTranscription"],Jg(p));const x=d(t,["outputTranscription"]);return x!=null&&f(e,["outputTranscription"],Jg(x)),e}function Aw(t){const e={},i=d(t,["id"]);i!=null&&f(e,["id"],i);const a=d(t,["args"]);a!=null&&f(e,["args"],a);const r=d(t,["name"]);return r!=null&&f(e,["name"],r),e}function _w(t){const e={},i=d(t,["args"]);i!=null&&f(e,["args"],i);const a=d(t,["name"]);return a!=null&&f(e,["name"],a),e}function Mw(t){const e={},i=d(t,["functionCalls"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(r=>Aw(r))),f(e,["functionCalls"],a)}return e}function kw(t){const e={},i=d(t,["functionCalls"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(r=>_w(r))),f(e,["functionCalls"],a)}return e}function Rw(t){const e={},i=d(t,["ids"]);return i!=null&&f(e,["ids"],i),e}function Dw(t){const e={},i=d(t,["ids"]);return i!=null&&f(e,["ids"],i),e}function vo(t){const e={},i=d(t,["modality"]);i!=null&&f(e,["modality"],i);const a=d(t,["tokenCount"]);return a!=null&&f(e,["tokenCount"],a),e}function bo(t){const e={},i=d(t,["modality"]);i!=null&&f(e,["modality"],i);const a=d(t,["tokenCount"]);return a!=null&&f(e,["tokenCount"],a),e}function jw(t){const e={},i=d(t,["promptTokenCount"]);i!=null&&f(e,["promptTokenCount"],i);const a=d(t,["cachedContentTokenCount"]);a!=null&&f(e,["cachedContentTokenCount"],a);const r=d(t,["responseTokenCount"]);r!=null&&f(e,["responseTokenCount"],r);const l=d(t,["toolUsePromptTokenCount"]);l!=null&&f(e,["toolUsePromptTokenCount"],l);const m=d(t,["thoughtsTokenCount"]);m!=null&&f(e,["thoughtsTokenCount"],m);const p=d(t,["totalTokenCount"]);p!=null&&f(e,["totalTokenCount"],p);const x=d(t,["promptTokensDetails"]);if(x!=null){let w=x;Array.isArray(w)&&(w=w.map(S=>vo(S))),f(e,["promptTokensDetails"],w)}const g=d(t,["cacheTokensDetails"]);if(g!=null){let w=g;Array.isArray(w)&&(w=w.map(S=>vo(S))),f(e,["cacheTokensDetails"],w)}const v=d(t,["responseTokensDetails"]);if(v!=null){let w=v;Array.isArray(w)&&(w=w.map(S=>vo(S))),f(e,["responseTokensDetails"],w)}const b=d(t,["toolUsePromptTokensDetails"]);if(b!=null){let w=b;Array.isArray(w)&&(w=w.map(S=>vo(S))),f(e,["toolUsePromptTokensDetails"],w)}return e}function Iw(t){const e={},i=d(t,["promptTokenCount"]);i!=null&&f(e,["promptTokenCount"],i);const a=d(t,["cachedContentTokenCount"]);a!=null&&f(e,["cachedContentTokenCount"],a);const r=d(t,["candidatesTokenCount"]);r!=null&&f(e,["responseTokenCount"],r);const l=d(t,["toolUsePromptTokenCount"]);l!=null&&f(e,["toolUsePromptTokenCount"],l);const m=d(t,["thoughtsTokenCount"]);m!=null&&f(e,["thoughtsTokenCount"],m);const p=d(t,["totalTokenCount"]);p!=null&&f(e,["totalTokenCount"],p);const x=d(t,["promptTokensDetails"]);if(x!=null){let S=x;Array.isArray(S)&&(S=S.map(T=>bo(T))),f(e,["promptTokensDetails"],S)}const g=d(t,["cacheTokensDetails"]);if(g!=null){let S=g;Array.isArray(S)&&(S=S.map(T=>bo(T))),f(e,["cacheTokensDetails"],S)}const v=d(t,["candidatesTokensDetails"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(T=>bo(T))),f(e,["responseTokensDetails"],S)}const b=d(t,["toolUsePromptTokensDetails"]);if(b!=null){let S=b;Array.isArray(S)&&(S=S.map(T=>bo(T))),f(e,["toolUsePromptTokensDetails"],S)}const w=d(t,["trafficType"]);return w!=null&&f(e,["trafficType"],w),e}function Lw(t){const e={},i=d(t,["timeLeft"]);return i!=null&&f(e,["timeLeft"],i),e}function Uw(t){const e={},i=d(t,["timeLeft"]);return i!=null&&f(e,["timeLeft"],i),e}function Pw(t){const e={},i=d(t,["newHandle"]);i!=null&&f(e,["newHandle"],i);const a=d(t,["resumable"]);a!=null&&f(e,["resumable"],a);const r=d(t,["lastConsumedClientMessageIndex"]);return r!=null&&f(e,["lastConsumedClientMessageIndex"],r),e}function Bw(t){const e={},i=d(t,["newHandle"]);i!=null&&f(e,["newHandle"],i);const a=d(t,["resumable"]);a!=null&&f(e,["resumable"],a);const r=d(t,["lastConsumedClientMessageIndex"]);return r!=null&&f(e,["lastConsumedClientMessageIndex"],r),e}function Ow(t){const e={};d(t,["setupComplete"])!=null&&f(e,["setupComplete"],dw());const a=d(t,["serverContent"]);a!=null&&f(e,["serverContent"],Nw(a));const r=d(t,["toolCall"]);r!=null&&f(e,["toolCall"],Mw(r));const l=d(t,["toolCallCancellation"]);l!=null&&f(e,["toolCallCancellation"],Rw(l));const m=d(t,["usageMetadata"]);m!=null&&f(e,["usageMetadata"],jw(m));const p=d(t,["goAway"]);p!=null&&f(e,["goAway"],Lw(p));const x=d(t,["sessionResumptionUpdate"]);return x!=null&&f(e,["sessionResumptionUpdate"],Pw(x)),e}function Vw(t){const e={};d(t,["setupComplete"])!=null&&f(e,["setupComplete"],fw());const a=d(t,["serverContent"]);a!=null&&f(e,["serverContent"],Ew(a));const r=d(t,["toolCall"]);r!=null&&f(e,["toolCall"],kw(r));const l=d(t,["toolCallCancellation"]);l!=null&&f(e,["toolCallCancellation"],Dw(l));const m=d(t,["usageMetadata"]);m!=null&&f(e,["usageMetadata"],Iw(m));const p=d(t,["goAway"]);p!=null&&f(e,["goAway"],Uw(p));const x=d(t,["sessionResumptionUpdate"]);return x!=null&&f(e,["sessionResumptionUpdate"],Bw(x)),e}function qw(){return{}}function $w(t){const e={},i=d(t,["text"]);i!=null&&f(e,["text"],i);const a=d(t,["weight"]);return a!=null&&f(e,["weight"],a),e}function zw(t){const e={},i=d(t,["weightedPrompts"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(r=>$w(r))),f(e,["weightedPrompts"],a)}return e}function Hw(t){const e={},i=d(t,["temperature"]);i!=null&&f(e,["temperature"],i);const a=d(t,["topK"]);a!=null&&f(e,["topK"],a);const r=d(t,["seed"]);r!=null&&f(e,["seed"],r);const l=d(t,["guidance"]);l!=null&&f(e,["guidance"],l);const m=d(t,["bpm"]);m!=null&&f(e,["bpm"],m);const p=d(t,["density"]);p!=null&&f(e,["density"],p);const x=d(t,["brightness"]);x!=null&&f(e,["brightness"],x);const g=d(t,["scale"]);g!=null&&f(e,["scale"],g);const v=d(t,["muteBass"]);v!=null&&f(e,["muteBass"],v);const b=d(t,["muteDrums"]);b!=null&&f(e,["muteDrums"],b);const w=d(t,["onlyBassAndDrums"]);return w!=null&&f(e,["onlyBassAndDrums"],w),e}function Gw(t){const e={},i=d(t,["clientContent"]);i!=null&&f(e,["clientContent"],zw(i));const a=d(t,["musicGenerationConfig"]);return a!=null&&f(e,["musicGenerationConfig"],Hw(a)),e}function Fw(t){const e={},i=d(t,["data"]);i!=null&&f(e,["data"],i);const a=d(t,["mimeType"]);a!=null&&f(e,["mimeType"],a);const r=d(t,["sourceMetadata"]);return r!=null&&f(e,["sourceMetadata"],Gw(r)),e}function Yw(t){const e={},i=d(t,["audioChunks"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(r=>Fw(r))),f(e,["audioChunks"],a)}return e}function Zw(t){const e={},i=d(t,["text"]);i!=null&&f(e,["text"],i);const a=d(t,["filteredReason"]);return a!=null&&f(e,["filteredReason"],a),e}function Jw(t){const e={};d(t,["setupComplete"])!=null&&f(e,["setupComplete"],qw());const a=d(t,["serverContent"]);a!=null&&f(e,["serverContent"],Yw(a));const r=d(t,["filteredPrompt"]);return r!=null&&f(e,["filteredPrompt"],Zw(r)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Qw(t){const e={},i=d(t,["fps"]);i!=null&&f(e,["fps"],i);const a=d(t,["endOffset"]);a!=null&&f(e,["endOffset"],a);const r=d(t,["startOffset"]);return r!=null&&f(e,["startOffset"],r),e}function Kw(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["data"]);i!=null&&f(e,["data"],i);const a=d(t,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}function Ww(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const a=d(t,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}function Xw(t){const e={},i=d(t,["videoMetadata"]);i!=null&&f(e,["videoMetadata"],Qw(i));const a=d(t,["thought"]);a!=null&&f(e,["thought"],a);const r=d(t,["inlineData"]);r!=null&&f(e,["inlineData"],Kw(r));const l=d(t,["fileData"]);l!=null&&f(e,["fileData"],Ww(l));const m=d(t,["thoughtSignature"]);m!=null&&f(e,["thoughtSignature"],m);const p=d(t,["codeExecutionResult"]);p!=null&&f(e,["codeExecutionResult"],p);const x=d(t,["executableCode"]);x!=null&&f(e,["executableCode"],x);const g=d(t,["functionCall"]);g!=null&&f(e,["functionCall"],g);const v=d(t,["functionResponse"]);v!=null&&f(e,["functionResponse"],v);const b=d(t,["text"]);return b!=null&&f(e,["text"],b),e}function Ho(t){const e={},i=d(t,["parts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>Xw(l))),f(e,["parts"],r)}const a=d(t,["role"]);return a!=null&&f(e,["role"],a),e}function eC(t){const e={},i=d(t,["anyOf"]);i!=null&&f(e,["anyOf"],i);const a=d(t,["default"]);a!=null&&f(e,["default"],a);const r=d(t,["description"]);r!=null&&f(e,["description"],r);const l=d(t,["enum"]);l!=null&&f(e,["enum"],l);const m=d(t,["example"]);m!=null&&f(e,["example"],m);const p=d(t,["format"]);p!=null&&f(e,["format"],p);const x=d(t,["items"]);x!=null&&f(e,["items"],x);const g=d(t,["maxItems"]);g!=null&&f(e,["maxItems"],g);const v=d(t,["maxLength"]);v!=null&&f(e,["maxLength"],v);const b=d(t,["maxProperties"]);b!=null&&f(e,["maxProperties"],b);const w=d(t,["maximum"]);w!=null&&f(e,["maximum"],w);const S=d(t,["minItems"]);S!=null&&f(e,["minItems"],S);const T=d(t,["minLength"]);T!=null&&f(e,["minLength"],T);const E=d(t,["minProperties"]);E!=null&&f(e,["minProperties"],E);const A=d(t,["minimum"]);A!=null&&f(e,["minimum"],A);const _=d(t,["nullable"]);_!=null&&f(e,["nullable"],_);const L=d(t,["pattern"]);L!=null&&f(e,["pattern"],L);const U=d(t,["properties"]);U!=null&&f(e,["properties"],U);const O=d(t,["propertyOrdering"]);O!=null&&f(e,["propertyOrdering"],O);const F=d(t,["required"]);F!=null&&f(e,["required"],F);const H=d(t,["title"]);H!=null&&f(e,["title"],H);const j=d(t,["type"]);return j!=null&&f(e,["type"],j),e}function tC(t){const e={};if(d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=d(t,["category"]);i!=null&&f(e,["category"],i);const a=d(t,["threshold"]);return a!=null&&f(e,["threshold"],a),e}function nC(t){const e={},i=d(t,["behavior"]);i!=null&&f(e,["behavior"],i);const a=d(t,["description"]);a!=null&&f(e,["description"],a);const r=d(t,["name"]);r!=null&&f(e,["name"],r);const l=d(t,["parameters"]);l!=null&&f(e,["parameters"],l);const m=d(t,["parametersJsonSchema"]);m!=null&&f(e,["parametersJsonSchema"],m);const p=d(t,["response"]);p!=null&&f(e,["response"],p);const x=d(t,["responseJsonSchema"]);return x!=null&&f(e,["responseJsonSchema"],x),e}function iC(t){const e={},i=d(t,["startTime"]);i!=null&&f(e,["startTime"],i);const a=d(t,["endTime"]);return a!=null&&f(e,["endTime"],a),e}function sC(t){const e={},i=d(t,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],iC(i)),e}function aC(t){const e={},i=d(t,["mode"]);i!=null&&f(e,["mode"],i);const a=d(t,["dynamicThreshold"]);return a!=null&&f(e,["dynamicThreshold"],a),e}function rC(t){const e={},i=d(t,["dynamicRetrievalConfig"]);return i!=null&&f(e,["dynamicRetrievalConfig"],aC(i)),e}function oC(){return{}}function lC(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(x=>nC(x))),f(e,["functionDeclarations"],p)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=d(t,["googleSearch"]);a!=null&&f(e,["googleSearch"],sC(a));const r=d(t,["googleSearchRetrieval"]);if(r!=null&&f(e,["googleSearchRetrieval"],rC(r)),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(t,["urlContext"])!=null&&f(e,["urlContext"],oC());const m=d(t,["codeExecution"]);return m!=null&&f(e,["codeExecution"],m),e}function cC(t){const e={},i=d(t,["mode"]);i!=null&&f(e,["mode"],i);const a=d(t,["allowedFunctionNames"]);return a!=null&&f(e,["allowedFunctionNames"],a),e}function uC(t){const e={},i=d(t,["latitude"]);i!=null&&f(e,["latitude"],i);const a=d(t,["longitude"]);return a!=null&&f(e,["longitude"],a),e}function dC(t){const e={},i=d(t,["latLng"]);i!=null&&f(e,["latLng"],uC(i));const a=d(t,["languageCode"]);return a!=null&&f(e,["languageCode"],a),e}function fC(t){const e={},i=d(t,["functionCallingConfig"]);i!=null&&f(e,["functionCallingConfig"],cC(i));const a=d(t,["retrievalConfig"]);return a!=null&&f(e,["retrievalConfig"],dC(a)),e}function mC(t){const e={},i=d(t,["voiceName"]);return i!=null&&f(e,["voiceName"],i),e}function dx(t){const e={},i=d(t,["prebuiltVoiceConfig"]);return i!=null&&f(e,["prebuiltVoiceConfig"],mC(i)),e}function hC(t){const e={},i=d(t,["speaker"]);i!=null&&f(e,["speaker"],i);const a=d(t,["voiceConfig"]);return a!=null&&f(e,["voiceConfig"],dx(a)),e}function pC(t){const e={},i=d(t,["speakerVoiceConfigs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(r=>hC(r))),f(e,["speakerVoiceConfigs"],a)}return e}function gC(t){const e={},i=d(t,["voiceConfig"]);i!=null&&f(e,["voiceConfig"],dx(i));const a=d(t,["multiSpeakerVoiceConfig"]);a!=null&&f(e,["multiSpeakerVoiceConfig"],pC(a));const r=d(t,["languageCode"]);return r!=null&&f(e,["languageCode"],r),e}function xC(t){const e={},i=d(t,["includeThoughts"]);i!=null&&f(e,["includeThoughts"],i);const a=d(t,["thinkingBudget"]);return a!=null&&f(e,["thinkingBudget"],a),e}function yC(t,e,i){const a={},r=d(e,["systemInstruction"]);i!==void 0&&r!=null&&f(i,["systemInstruction"],Ho(Ct(r)));const l=d(e,["temperature"]);l!=null&&f(a,["temperature"],l);const m=d(e,["topP"]);m!=null&&f(a,["topP"],m);const p=d(e,["topK"]);p!=null&&f(a,["topK"],p);const x=d(e,["candidateCount"]);x!=null&&f(a,["candidateCount"],x);const g=d(e,["maxOutputTokens"]);g!=null&&f(a,["maxOutputTokens"],g);const v=d(e,["stopSequences"]);v!=null&&f(a,["stopSequences"],v);const b=d(e,["responseLogprobs"]);b!=null&&f(a,["responseLogprobs"],b);const w=d(e,["logprobs"]);w!=null&&f(a,["logprobs"],w);const S=d(e,["presencePenalty"]);S!=null&&f(a,["presencePenalty"],S);const T=d(e,["frequencyPenalty"]);T!=null&&f(a,["frequencyPenalty"],T);const E=d(e,["seed"]);E!=null&&f(a,["seed"],E);const A=d(e,["responseMimeType"]);A!=null&&f(a,["responseMimeType"],A);const _=d(e,["responseSchema"]);if(_!=null&&f(a,["responseSchema"],eC(Po(_))),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const L=d(e,["safetySettings"]);if(i!==void 0&&L!=null){let J=L;Array.isArray(J)&&(J=J.map(ne=>tC(ne))),f(i,["safetySettings"],J)}const U=d(e,["tools"]);if(i!==void 0&&U!=null){let J=Xa(U);Array.isArray(J)&&(J=J.map(ne=>lC(Wa(ne)))),f(i,["tools"],J)}const O=d(e,["toolConfig"]);if(i!==void 0&&O!=null&&f(i,["toolConfig"],fC(O)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const F=d(e,["cachedContent"]);i!==void 0&&F!=null&&f(i,["cachedContent"],ci(t,F));const H=d(e,["responseModalities"]);H!=null&&f(a,["responseModalities"],H);const j=d(e,["mediaResolution"]);j!=null&&f(a,["mediaResolution"],j);const z=d(e,["speechConfig"]);if(z!=null&&f(a,["speechConfig"],gC(ex(z))),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const P=d(e,["thinkingConfig"]);return P!=null&&f(a,["thinkingConfig"],xC(P)),a}function Qg(t,e){const i={},a=d(e,["model"]);a!=null&&f(i,["_url","model"],Fe(t,a));const r=d(e,["contents"]);if(r!=null){let m=Xt(r);Array.isArray(m)&&(m=m.map(p=>Ho(p))),f(i,["contents"],m)}const l=d(e,["config"]);return l!=null&&f(i,["generationConfig"],yC(t,l,i)),i}function vC(t,e){const i={},a=d(t,["taskType"]);e!==void 0&&a!=null&&f(e,["requests[]","taskType"],a);const r=d(t,["title"]);e!==void 0&&r!=null&&f(e,["requests[]","title"],r);const l=d(t,["outputDimensionality"]);if(e!==void 0&&l!=null&&f(e,["requests[]","outputDimensionality"],l),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return i}function bC(t,e){const i={},a=d(e,["model"]);a!=null&&f(i,["_url","model"],Fe(t,a));const r=d(e,["contents"]);r!=null&&f(i,["requests[]","content"],X0(t,r));const l=d(e,["config"]);l!=null&&f(i,["config"],vC(l,i));const m=d(e,["model"]);return m!==void 0&&f(i,["requests[]","model"],Fe(t,m)),i}function wC(t,e){const i={};if(d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=d(t,["numberOfImages"]);e!==void 0&&a!=null&&f(e,["parameters","sampleCount"],a);const r=d(t,["aspectRatio"]);e!==void 0&&r!=null&&f(e,["parameters","aspectRatio"],r);const l=d(t,["guidanceScale"]);if(e!==void 0&&l!=null&&f(e,["parameters","guidanceScale"],l),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=d(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&f(e,["parameters","safetySetting"],m);const p=d(t,["personGeneration"]);e!==void 0&&p!=null&&f(e,["parameters","personGeneration"],p);const x=d(t,["includeSafetyAttributes"]);e!==void 0&&x!=null&&f(e,["parameters","includeSafetyAttributes"],x);const g=d(t,["includeRaiReason"]);e!==void 0&&g!=null&&f(e,["parameters","includeRaiReason"],g);const v=d(t,["language"]);e!==void 0&&v!=null&&f(e,["parameters","language"],v);const b=d(t,["outputMimeType"]);e!==void 0&&b!=null&&f(e,["parameters","outputOptions","mimeType"],b);const w=d(t,["outputCompressionQuality"]);if(e!==void 0&&w!=null&&f(e,["parameters","outputOptions","compressionQuality"],w),d(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return i}function CC(t,e){const i={},a=d(e,["model"]);a!=null&&f(i,["_url","model"],Fe(t,a));const r=d(e,["prompt"]);r!=null&&f(i,["instances[0]","prompt"],r);const l=d(e,["config"]);return l!=null&&f(i,["config"],wC(l,i)),i}function SC(t,e){const i={},a=d(e,["model"]);a!=null&&f(i,["_url","name"],Fe(t,a));const r=d(e,["config"]);return r!=null&&f(i,["config"],r),i}function TC(t,e,i){const a={},r=d(e,["pageSize"]);i!==void 0&&r!=null&&f(i,["_query","pageSize"],r);const l=d(e,["pageToken"]);i!==void 0&&l!=null&&f(i,["_query","pageToken"],l);const m=d(e,["filter"]);i!==void 0&&m!=null&&f(i,["_query","filter"],m);const p=d(e,["queryBase"]);return i!==void 0&&p!=null&&f(i,["_url","models_url"],ix(t,p)),a}function NC(t,e){const i={},a=d(e,["config"]);return a!=null&&f(i,["config"],TC(t,a,i)),i}function EC(t,e){const i={},a=d(t,["displayName"]);e!==void 0&&a!=null&&f(e,["displayName"],a);const r=d(t,["description"]);e!==void 0&&r!=null&&f(e,["description"],r);const l=d(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&f(e,["defaultCheckpointId"],l),i}function AC(t,e){const i={},a=d(e,["model"]);a!=null&&f(i,["_url","name"],Fe(t,a));const r=d(e,["config"]);return r!=null&&f(i,["config"],EC(r,i)),i}function _C(t,e){const i={},a=d(e,["model"]);a!=null&&f(i,["_url","name"],Fe(t,a));const r=d(e,["config"]);return r!=null&&f(i,["config"],r),i}function MC(t){const e={};if(d(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function kC(t,e){const i={},a=d(e,["model"]);a!=null&&f(i,["_url","model"],Fe(t,a));const r=d(e,["contents"]);if(r!=null){let m=Xt(r);Array.isArray(m)&&(m=m.map(p=>Ho(p))),f(i,["contents"],m)}const l=d(e,["config"]);return l!=null&&f(i,["config"],MC(l)),i}function RC(t){const e={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=d(t,["imageBytes"]);i!=null&&f(e,["bytesBase64Encoded"],jn(i));const a=d(t,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}function DC(t,e){const i={},a=d(t,["numberOfVideos"]);if(e!==void 0&&a!=null&&f(e,["parameters","sampleCount"],a),d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=d(t,["durationSeconds"]);if(e!==void 0&&r!=null&&f(e,["parameters","durationSeconds"],r),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=d(t,["aspectRatio"]);if(e!==void 0&&l!=null&&f(e,["parameters","aspectRatio"],l),d(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const m=d(t,["personGeneration"]);if(e!==void 0&&m!=null&&f(e,["parameters","personGeneration"],m),d(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const p=d(t,["negativePrompt"]);e!==void 0&&p!=null&&f(e,["parameters","negativePrompt"],p);const x=d(t,["enhancePrompt"]);if(e!==void 0&&x!=null&&f(e,["parameters","enhancePrompt"],x),d(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(d(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");return i}function jC(t,e){const i={},a=d(e,["model"]);a!=null&&f(i,["_url","model"],Fe(t,a));const r=d(e,["prompt"]);r!=null&&f(i,["instances[0]","prompt"],r);const l=d(e,["image"]);if(l!=null&&f(i,["instances[0]","image"],RC(l)),d(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const m=d(e,["config"]);return m!=null&&f(i,["config"],DC(m,i)),i}function IC(t){const e={},i=d(t,["fps"]);i!=null&&f(e,["fps"],i);const a=d(t,["endOffset"]);a!=null&&f(e,["endOffset"],a);const r=d(t,["startOffset"]);return r!=null&&f(e,["startOffset"],r),e}function LC(t){const e={},i=d(t,["displayName"]);i!=null&&f(e,["displayName"],i);const a=d(t,["data"]);a!=null&&f(e,["data"],a);const r=d(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function UC(t){const e={},i=d(t,["displayName"]);i!=null&&f(e,["displayName"],i);const a=d(t,["fileUri"]);a!=null&&f(e,["fileUri"],a);const r=d(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function PC(t){const e={},i=d(t,["videoMetadata"]);i!=null&&f(e,["videoMetadata"],IC(i));const a=d(t,["thought"]);a!=null&&f(e,["thought"],a);const r=d(t,["inlineData"]);r!=null&&f(e,["inlineData"],LC(r));const l=d(t,["fileData"]);l!=null&&f(e,["fileData"],UC(l));const m=d(t,["thoughtSignature"]);m!=null&&f(e,["thoughtSignature"],m);const p=d(t,["codeExecutionResult"]);p!=null&&f(e,["codeExecutionResult"],p);const x=d(t,["executableCode"]);x!=null&&f(e,["executableCode"],x);const g=d(t,["functionCall"]);g!=null&&f(e,["functionCall"],g);const v=d(t,["functionResponse"]);v!=null&&f(e,["functionResponse"],v);const b=d(t,["text"]);return b!=null&&f(e,["text"],b),e}function Os(t){const e={},i=d(t,["parts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>PC(l))),f(e,["parts"],r)}const a=d(t,["role"]);return a!=null&&f(e,["role"],a),e}function BC(t){const e={},i=d(t,["anyOf"]);i!=null&&f(e,["anyOf"],i);const a=d(t,["default"]);a!=null&&f(e,["default"],a);const r=d(t,["description"]);r!=null&&f(e,["description"],r);const l=d(t,["enum"]);l!=null&&f(e,["enum"],l);const m=d(t,["example"]);m!=null&&f(e,["example"],m);const p=d(t,["format"]);p!=null&&f(e,["format"],p);const x=d(t,["items"]);x!=null&&f(e,["items"],x);const g=d(t,["maxItems"]);g!=null&&f(e,["maxItems"],g);const v=d(t,["maxLength"]);v!=null&&f(e,["maxLength"],v);const b=d(t,["maxProperties"]);b!=null&&f(e,["maxProperties"],b);const w=d(t,["maximum"]);w!=null&&f(e,["maximum"],w);const S=d(t,["minItems"]);S!=null&&f(e,["minItems"],S);const T=d(t,["minLength"]);T!=null&&f(e,["minLength"],T);const E=d(t,["minProperties"]);E!=null&&f(e,["minProperties"],E);const A=d(t,["minimum"]);A!=null&&f(e,["minimum"],A);const _=d(t,["nullable"]);_!=null&&f(e,["nullable"],_);const L=d(t,["pattern"]);L!=null&&f(e,["pattern"],L);const U=d(t,["properties"]);U!=null&&f(e,["properties"],U);const O=d(t,["propertyOrdering"]);O!=null&&f(e,["propertyOrdering"],O);const F=d(t,["required"]);F!=null&&f(e,["required"],F);const H=d(t,["title"]);H!=null&&f(e,["title"],H);const j=d(t,["type"]);return j!=null&&f(e,["type"],j),e}function OC(t){const e={},i=d(t,["featureSelectionPreference"]);return i!=null&&f(e,["featureSelectionPreference"],i),e}function VC(t){const e={},i=d(t,["method"]);i!=null&&f(e,["method"],i);const a=d(t,["category"]);a!=null&&f(e,["category"],a);const r=d(t,["threshold"]);return r!=null&&f(e,["threshold"],r),e}function qC(t){const e={};if(d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const i=d(t,["description"]);i!=null&&f(e,["description"],i);const a=d(t,["name"]);a!=null&&f(e,["name"],a);const r=d(t,["parameters"]);r!=null&&f(e,["parameters"],r);const l=d(t,["parametersJsonSchema"]);l!=null&&f(e,["parametersJsonSchema"],l);const m=d(t,["response"]);m!=null&&f(e,["response"],m);const p=d(t,["responseJsonSchema"]);return p!=null&&f(e,["responseJsonSchema"],p),e}function $C(t){const e={},i=d(t,["startTime"]);i!=null&&f(e,["startTime"],i);const a=d(t,["endTime"]);return a!=null&&f(e,["endTime"],a),e}function zC(t){const e={},i=d(t,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],$C(i)),e}function HC(t){const e={},i=d(t,["mode"]);i!=null&&f(e,["mode"],i);const a=d(t,["dynamicThreshold"]);return a!=null&&f(e,["dynamicThreshold"],a),e}function GC(t){const e={},i=d(t,["dynamicRetrievalConfig"]);return i!=null&&f(e,["dynamicRetrievalConfig"],HC(i)),e}function FC(){return{}}function YC(t){const e={},i=d(t,["apiKeyString"]);return i!=null&&f(e,["apiKeyString"],i),e}function ZC(t){const e={},i=d(t,["apiKeyConfig"]);i!=null&&f(e,["apiKeyConfig"],YC(i));const a=d(t,["authType"]);a!=null&&f(e,["authType"],a);const r=d(t,["googleServiceAccountConfig"]);r!=null&&f(e,["googleServiceAccountConfig"],r);const l=d(t,["httpBasicAuthConfig"]);l!=null&&f(e,["httpBasicAuthConfig"],l);const m=d(t,["oauthConfig"]);m!=null&&f(e,["oauthConfig"],m);const p=d(t,["oidcConfig"]);return p!=null&&f(e,["oidcConfig"],p),e}function JC(t){const e={},i=d(t,["authConfig"]);return i!=null&&f(e,["authConfig"],ZC(i)),e}function QC(){return{}}function fx(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let v=i;Array.isArray(v)&&(v=v.map(b=>qC(b))),f(e,["functionDeclarations"],v)}const a=d(t,["retrieval"]);a!=null&&f(e,["retrieval"],a);const r=d(t,["googleSearch"]);r!=null&&f(e,["googleSearch"],zC(r));const l=d(t,["googleSearchRetrieval"]);l!=null&&f(e,["googleSearchRetrieval"],GC(l)),d(t,["enterpriseWebSearch"])!=null&&f(e,["enterpriseWebSearch"],FC());const p=d(t,["googleMaps"]);p!=null&&f(e,["googleMaps"],JC(p)),d(t,["urlContext"])!=null&&f(e,["urlContext"],QC());const g=d(t,["codeExecution"]);return g!=null&&f(e,["codeExecution"],g),e}function KC(t){const e={},i=d(t,["mode"]);i!=null&&f(e,["mode"],i);const a=d(t,["allowedFunctionNames"]);return a!=null&&f(e,["allowedFunctionNames"],a),e}function WC(t){const e={},i=d(t,["latitude"]);i!=null&&f(e,["latitude"],i);const a=d(t,["longitude"]);return a!=null&&f(e,["longitude"],a),e}function XC(t){const e={},i=d(t,["latLng"]);i!=null&&f(e,["latLng"],WC(i));const a=d(t,["languageCode"]);return a!=null&&f(e,["languageCode"],a),e}function eS(t){const e={},i=d(t,["functionCallingConfig"]);i!=null&&f(e,["functionCallingConfig"],KC(i));const a=d(t,["retrievalConfig"]);return a!=null&&f(e,["retrievalConfig"],XC(a)),e}function tS(t){const e={},i=d(t,["voiceName"]);return i!=null&&f(e,["voiceName"],i),e}function nS(t){const e={},i=d(t,["prebuiltVoiceConfig"]);return i!=null&&f(e,["prebuiltVoiceConfig"],tS(i)),e}function iS(t){const e={},i=d(t,["voiceConfig"]);if(i!=null&&f(e,["voiceConfig"],nS(i)),d(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const a=d(t,["languageCode"]);return a!=null&&f(e,["languageCode"],a),e}function sS(t){const e={},i=d(t,["includeThoughts"]);i!=null&&f(e,["includeThoughts"],i);const a=d(t,["thinkingBudget"]);return a!=null&&f(e,["thinkingBudget"],a),e}function aS(t,e,i){const a={},r=d(e,["systemInstruction"]);i!==void 0&&r!=null&&f(i,["systemInstruction"],Os(Ct(r)));const l=d(e,["temperature"]);l!=null&&f(a,["temperature"],l);const m=d(e,["topP"]);m!=null&&f(a,["topP"],m);const p=d(e,["topK"]);p!=null&&f(a,["topK"],p);const x=d(e,["candidateCount"]);x!=null&&f(a,["candidateCount"],x);const g=d(e,["maxOutputTokens"]);g!=null&&f(a,["maxOutputTokens"],g);const v=d(e,["stopSequences"]);v!=null&&f(a,["stopSequences"],v);const b=d(e,["responseLogprobs"]);b!=null&&f(a,["responseLogprobs"],b);const w=d(e,["logprobs"]);w!=null&&f(a,["logprobs"],w);const S=d(e,["presencePenalty"]);S!=null&&f(a,["presencePenalty"],S);const T=d(e,["frequencyPenalty"]);T!=null&&f(a,["frequencyPenalty"],T);const E=d(e,["seed"]);E!=null&&f(a,["seed"],E);const A=d(e,["responseMimeType"]);A!=null&&f(a,["responseMimeType"],A);const _=d(e,["responseSchema"]);_!=null&&f(a,["responseSchema"],BC(Po(_)));const L=d(e,["routingConfig"]);L!=null&&f(a,["routingConfig"],L);const U=d(e,["modelSelectionConfig"]);U!=null&&f(a,["modelConfig"],OC(U));const O=d(e,["safetySettings"]);if(i!==void 0&&O!=null){let K=O;Array.isArray(K)&&(K=K.map(le=>VC(le))),f(i,["safetySettings"],K)}const F=d(e,["tools"]);if(i!==void 0&&F!=null){let K=Xa(F);Array.isArray(K)&&(K=K.map(le=>fx(Wa(le)))),f(i,["tools"],K)}const H=d(e,["toolConfig"]);i!==void 0&&H!=null&&f(i,["toolConfig"],eS(H));const j=d(e,["labels"]);i!==void 0&&j!=null&&f(i,["labels"],j);const z=d(e,["cachedContent"]);i!==void 0&&z!=null&&f(i,["cachedContent"],ci(t,z));const P=d(e,["responseModalities"]);P!=null&&f(a,["responseModalities"],P);const J=d(e,["mediaResolution"]);J!=null&&f(a,["mediaResolution"],J);const ne=d(e,["speechConfig"]);ne!=null&&f(a,["speechConfig"],iS(ex(ne)));const W=d(e,["audioTimestamp"]);W!=null&&f(a,["audioTimestamp"],W);const Y=d(e,["thinkingConfig"]);return Y!=null&&f(a,["thinkingConfig"],sS(Y)),a}function Kg(t,e){const i={},a=d(e,["model"]);a!=null&&f(i,["_url","model"],Fe(t,a));const r=d(e,["contents"]);if(r!=null){let m=Xt(r);Array.isArray(m)&&(m=m.map(p=>Os(p))),f(i,["contents"],m)}const l=d(e,["config"]);return l!=null&&f(i,["generationConfig"],aS(t,l,i)),i}function rS(t,e){const i={},a=d(t,["taskType"]);e!==void 0&&a!=null&&f(e,["instances[]","task_type"],a);const r=d(t,["title"]);e!==void 0&&r!=null&&f(e,["instances[]","title"],r);const l=d(t,["outputDimensionality"]);e!==void 0&&l!=null&&f(e,["parameters","outputDimensionality"],l);const m=d(t,["mimeType"]);e!==void 0&&m!=null&&f(e,["instances[]","mimeType"],m);const p=d(t,["autoTruncate"]);return e!==void 0&&p!=null&&f(e,["parameters","autoTruncate"],p),i}function oS(t,e){const i={},a=d(e,["model"]);a!=null&&f(i,["_url","model"],Fe(t,a));const r=d(e,["contents"]);r!=null&&f(i,["instances[]","content"],X0(t,r));const l=d(e,["config"]);return l!=null&&f(i,["config"],rS(l,i)),i}function lS(t,e){const i={},a=d(t,["outputGcsUri"]);e!==void 0&&a!=null&&f(e,["parameters","storageUri"],a);const r=d(t,["negativePrompt"]);e!==void 0&&r!=null&&f(e,["parameters","negativePrompt"],r);const l=d(t,["numberOfImages"]);e!==void 0&&l!=null&&f(e,["parameters","sampleCount"],l);const m=d(t,["aspectRatio"]);e!==void 0&&m!=null&&f(e,["parameters","aspectRatio"],m);const p=d(t,["guidanceScale"]);e!==void 0&&p!=null&&f(e,["parameters","guidanceScale"],p);const x=d(t,["seed"]);e!==void 0&&x!=null&&f(e,["parameters","seed"],x);const g=d(t,["safetyFilterLevel"]);e!==void 0&&g!=null&&f(e,["parameters","safetySetting"],g);const v=d(t,["personGeneration"]);e!==void 0&&v!=null&&f(e,["parameters","personGeneration"],v);const b=d(t,["includeSafetyAttributes"]);e!==void 0&&b!=null&&f(e,["parameters","includeSafetyAttributes"],b);const w=d(t,["includeRaiReason"]);e!==void 0&&w!=null&&f(e,["parameters","includeRaiReason"],w);const S=d(t,["language"]);e!==void 0&&S!=null&&f(e,["parameters","language"],S);const T=d(t,["outputMimeType"]);e!==void 0&&T!=null&&f(e,["parameters","outputOptions","mimeType"],T);const E=d(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&f(e,["parameters","outputOptions","compressionQuality"],E);const A=d(t,["addWatermark"]);e!==void 0&&A!=null&&f(e,["parameters","addWatermark"],A);const _=d(t,["enhancePrompt"]);return e!==void 0&&_!=null&&f(e,["parameters","enhancePrompt"],_),i}function cS(t,e){const i={},a=d(e,["model"]);a!=null&&f(i,["_url","model"],Fe(t,a));const r=d(e,["prompt"]);r!=null&&f(i,["instances[0]","prompt"],r);const l=d(e,["config"]);return l!=null&&f(i,["config"],lS(l,i)),i}function Go(t){const e={},i=d(t,["gcsUri"]);i!=null&&f(e,["gcsUri"],i);const a=d(t,["imageBytes"]);a!=null&&f(e,["bytesBase64Encoded"],jn(a));const r=d(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function uS(t){const e={},i=d(t,["maskMode"]);i!=null&&f(e,["maskMode"],i);const a=d(t,["segmentationClasses"]);a!=null&&f(e,["maskClasses"],a);const r=d(t,["maskDilation"]);return r!=null&&f(e,["dilation"],r),e}function dS(t){const e={},i=d(t,["controlType"]);i!=null&&f(e,["controlType"],i);const a=d(t,["enableControlImageComputation"]);return a!=null&&f(e,["computeControl"],a),e}function fS(t){const e={},i=d(t,["styleDescription"]);return i!=null&&f(e,["styleDescription"],i),e}function mS(t){const e={},i=d(t,["subjectType"]);i!=null&&f(e,["subjectType"],i);const a=d(t,["subjectDescription"]);return a!=null&&f(e,["subjectDescription"],a),e}function hS(t){const e={},i=d(t,["referenceImage"]);i!=null&&f(e,["referenceImage"],Go(i));const a=d(t,["referenceId"]);a!=null&&f(e,["referenceId"],a);const r=d(t,["referenceType"]);r!=null&&f(e,["referenceType"],r);const l=d(t,["maskImageConfig"]);l!=null&&f(e,["maskImageConfig"],uS(l));const m=d(t,["controlImageConfig"]);m!=null&&f(e,["controlImageConfig"],dS(m));const p=d(t,["styleImageConfig"]);p!=null&&f(e,["styleImageConfig"],fS(p));const x=d(t,["subjectImageConfig"]);return x!=null&&f(e,["subjectImageConfig"],mS(x)),e}function pS(t,e){const i={},a=d(t,["outputGcsUri"]);e!==void 0&&a!=null&&f(e,["parameters","storageUri"],a);const r=d(t,["negativePrompt"]);e!==void 0&&r!=null&&f(e,["parameters","negativePrompt"],r);const l=d(t,["numberOfImages"]);e!==void 0&&l!=null&&f(e,["parameters","sampleCount"],l);const m=d(t,["aspectRatio"]);e!==void 0&&m!=null&&f(e,["parameters","aspectRatio"],m);const p=d(t,["guidanceScale"]);e!==void 0&&p!=null&&f(e,["parameters","guidanceScale"],p);const x=d(t,["seed"]);e!==void 0&&x!=null&&f(e,["parameters","seed"],x);const g=d(t,["safetyFilterLevel"]);e!==void 0&&g!=null&&f(e,["parameters","safetySetting"],g);const v=d(t,["personGeneration"]);e!==void 0&&v!=null&&f(e,["parameters","personGeneration"],v);const b=d(t,["includeSafetyAttributes"]);e!==void 0&&b!=null&&f(e,["parameters","includeSafetyAttributes"],b);const w=d(t,["includeRaiReason"]);e!==void 0&&w!=null&&f(e,["parameters","includeRaiReason"],w);const S=d(t,["language"]);e!==void 0&&S!=null&&f(e,["parameters","language"],S);const T=d(t,["outputMimeType"]);e!==void 0&&T!=null&&f(e,["parameters","outputOptions","mimeType"],T);const E=d(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&f(e,["parameters","outputOptions","compressionQuality"],E);const A=d(t,["editMode"]);e!==void 0&&A!=null&&f(e,["parameters","editMode"],A);const _=d(t,["baseSteps"]);return e!==void 0&&_!=null&&f(e,["parameters","editConfig","baseSteps"],_),i}function gS(t,e){const i={},a=d(e,["model"]);a!=null&&f(i,["_url","model"],Fe(t,a));const r=d(e,["prompt"]);r!=null&&f(i,["instances[0]","prompt"],r);const l=d(e,["referenceImages"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(x=>hS(x))),f(i,["instances[0]","referenceImages"],p)}const m=d(e,["config"]);return m!=null&&f(i,["config"],pS(m,i)),i}function xS(t,e){const i={},a=d(t,["includeRaiReason"]);e!==void 0&&a!=null&&f(e,["parameters","includeRaiReason"],a);const r=d(t,["outputMimeType"]);e!==void 0&&r!=null&&f(e,["parameters","outputOptions","mimeType"],r);const l=d(t,["outputCompressionQuality"]);e!==void 0&&l!=null&&f(e,["parameters","outputOptions","compressionQuality"],l);const m=d(t,["numberOfImages"]);e!==void 0&&m!=null&&f(e,["parameters","sampleCount"],m);const p=d(t,["mode"]);return e!==void 0&&p!=null&&f(e,["parameters","mode"],p),i}function yS(t,e){const i={},a=d(e,["model"]);a!=null&&f(i,["_url","model"],Fe(t,a));const r=d(e,["image"]);r!=null&&f(i,["instances[0]","image"],Go(r));const l=d(e,["upscaleFactor"]);l!=null&&f(i,["parameters","upscaleConfig","upscaleFactor"],l);const m=d(e,["config"]);return m!=null&&f(i,["config"],xS(m,i)),i}function vS(t,e){const i={},a=d(e,["model"]);a!=null&&f(i,["_url","name"],Fe(t,a));const r=d(e,["config"]);return r!=null&&f(i,["config"],r),i}function bS(t,e,i){const a={},r=d(e,["pageSize"]);i!==void 0&&r!=null&&f(i,["_query","pageSize"],r);const l=d(e,["pageToken"]);i!==void 0&&l!=null&&f(i,["_query","pageToken"],l);const m=d(e,["filter"]);i!==void 0&&m!=null&&f(i,["_query","filter"],m);const p=d(e,["queryBase"]);return i!==void 0&&p!=null&&f(i,["_url","models_url"],ix(t,p)),a}function wS(t,e){const i={},a=d(e,["config"]);return a!=null&&f(i,["config"],bS(t,a,i)),i}function CS(t,e){const i={},a=d(t,["displayName"]);e!==void 0&&a!=null&&f(e,["displayName"],a);const r=d(t,["description"]);e!==void 0&&r!=null&&f(e,["description"],r);const l=d(t,["defaultCheckpointId"]);return e!==void 0&&l!=null&&f(e,["defaultCheckpointId"],l),i}function SS(t,e){const i={},a=d(e,["model"]);a!=null&&f(i,["_url","model"],Fe(t,a));const r=d(e,["config"]);return r!=null&&f(i,["config"],CS(r,i)),i}function TS(t,e){const i={},a=d(e,["model"]);a!=null&&f(i,["_url","name"],Fe(t,a));const r=d(e,["config"]);return r!=null&&f(i,["config"],r),i}function NS(t,e){const i={},a=d(t,["systemInstruction"]);e!==void 0&&a!=null&&f(e,["systemInstruction"],Os(Ct(a)));const r=d(t,["tools"]);if(e!==void 0&&r!=null){let m=r;Array.isArray(m)&&(m=m.map(p=>fx(p))),f(e,["tools"],m)}const l=d(t,["generationConfig"]);return e!==void 0&&l!=null&&f(e,["generationConfig"],l),i}function ES(t,e){const i={},a=d(e,["model"]);a!=null&&f(i,["_url","model"],Fe(t,a));const r=d(e,["contents"]);if(r!=null){let m=Xt(r);Array.isArray(m)&&(m=m.map(p=>Os(p))),f(i,["contents"],m)}const l=d(e,["config"]);return l!=null&&f(i,["config"],NS(l,i)),i}function AS(t,e){const i={},a=d(e,["model"]);a!=null&&f(i,["_url","model"],Fe(t,a));const r=d(e,["contents"]);if(r!=null){let m=Xt(r);Array.isArray(m)&&(m=m.map(p=>Os(p))),f(i,["contents"],m)}const l=d(e,["config"]);return l!=null&&f(i,["config"],l),i}function _S(t){const e={},i=d(t,["uri"]);i!=null&&f(e,["gcsUri"],i);const a=d(t,["videoBytes"]);a!=null&&f(e,["bytesBase64Encoded"],jn(a));const r=d(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function MS(t,e){const i={},a=d(t,["numberOfVideos"]);e!==void 0&&a!=null&&f(e,["parameters","sampleCount"],a);const r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&f(e,["parameters","storageUri"],r);const l=d(t,["fps"]);e!==void 0&&l!=null&&f(e,["parameters","fps"],l);const m=d(t,["durationSeconds"]);e!==void 0&&m!=null&&f(e,["parameters","durationSeconds"],m);const p=d(t,["seed"]);e!==void 0&&p!=null&&f(e,["parameters","seed"],p);const x=d(t,["aspectRatio"]);e!==void 0&&x!=null&&f(e,["parameters","aspectRatio"],x);const g=d(t,["resolution"]);e!==void 0&&g!=null&&f(e,["parameters","resolution"],g);const v=d(t,["personGeneration"]);e!==void 0&&v!=null&&f(e,["parameters","personGeneration"],v);const b=d(t,["pubsubTopic"]);e!==void 0&&b!=null&&f(e,["parameters","pubsubTopic"],b);const w=d(t,["negativePrompt"]);e!==void 0&&w!=null&&f(e,["parameters","negativePrompt"],w);const S=d(t,["enhancePrompt"]);e!==void 0&&S!=null&&f(e,["parameters","enhancePrompt"],S);const T=d(t,["generateAudio"]);e!==void 0&&T!=null&&f(e,["parameters","generateAudio"],T);const E=d(t,["lastFrame"]);return e!==void 0&&E!=null&&f(e,["instances[0]","lastFrame"],Go(E)),i}function kS(t,e){const i={},a=d(e,["model"]);a!=null&&f(i,["_url","model"],Fe(t,a));const r=d(e,["prompt"]);r!=null&&f(i,["instances[0]","prompt"],r);const l=d(e,["image"]);l!=null&&f(i,["instances[0]","image"],Go(l));const m=d(e,["video"]);m!=null&&f(i,["instances[0]","video"],_S(m));const p=d(e,["config"]);return p!=null&&f(i,["config"],MS(p,i)),i}function RS(t){const e={},i=d(t,["fps"]);i!=null&&f(e,["fps"],i);const a=d(t,["endOffset"]);a!=null&&f(e,["endOffset"],a);const r=d(t,["startOffset"]);return r!=null&&f(e,["startOffset"],r),e}function DS(t){const e={},i=d(t,["data"]);i!=null&&f(e,["data"],i);const a=d(t,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}function jS(t){const e={},i=d(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const a=d(t,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}function IS(t){const e={},i=d(t,["videoMetadata"]);i!=null&&f(e,["videoMetadata"],RS(i));const a=d(t,["thought"]);a!=null&&f(e,["thought"],a);const r=d(t,["inlineData"]);r!=null&&f(e,["inlineData"],DS(r));const l=d(t,["fileData"]);l!=null&&f(e,["fileData"],jS(l));const m=d(t,["thoughtSignature"]);m!=null&&f(e,["thoughtSignature"],m);const p=d(t,["codeExecutionResult"]);p!=null&&f(e,["codeExecutionResult"],p);const x=d(t,["executableCode"]);x!=null&&f(e,["executableCode"],x);const g=d(t,["functionCall"]);g!=null&&f(e,["functionCall"],g);const v=d(t,["functionResponse"]);v!=null&&f(e,["functionResponse"],v);const b=d(t,["text"]);return b!=null&&f(e,["text"],b),e}function LS(t){const e={},i=d(t,["parts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>IS(l))),f(e,["parts"],r)}const a=d(t,["role"]);return a!=null&&f(e,["role"],a),e}function US(t){const e={},i=d(t,["citationSources"]);return i!=null&&f(e,["citations"],i),e}function PS(t){const e={},i=d(t,["retrievedUrl"]);i!=null&&f(e,["retrievedUrl"],i);const a=d(t,["urlRetrievalStatus"]);return a!=null&&f(e,["urlRetrievalStatus"],a),e}function BS(t){const e={},i=d(t,["urlMetadata"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(r=>PS(r))),f(e,["urlMetadata"],a)}return e}function OS(t){const e={},i=d(t,["content"]);i!=null&&f(e,["content"],LS(i));const a=d(t,["citationMetadata"]);a!=null&&f(e,["citationMetadata"],US(a));const r=d(t,["tokenCount"]);r!=null&&f(e,["tokenCount"],r);const l=d(t,["finishReason"]);l!=null&&f(e,["finishReason"],l);const m=d(t,["urlContextMetadata"]);m!=null&&f(e,["urlContextMetadata"],BS(m));const p=d(t,["avgLogprobs"]);p!=null&&f(e,["avgLogprobs"],p);const x=d(t,["groundingMetadata"]);x!=null&&f(e,["groundingMetadata"],x);const g=d(t,["index"]);g!=null&&f(e,["index"],g);const v=d(t,["logprobsResult"]);v!=null&&f(e,["logprobsResult"],v);const b=d(t,["safetyRatings"]);return b!=null&&f(e,["safetyRatings"],b),e}function Wg(t){const e={},i=d(t,["candidates"]);if(i!=null){let m=i;Array.isArray(m)&&(m=m.map(p=>OS(p))),f(e,["candidates"],m)}const a=d(t,["modelVersion"]);a!=null&&f(e,["modelVersion"],a);const r=d(t,["promptFeedback"]);r!=null&&f(e,["promptFeedback"],r);const l=d(t,["usageMetadata"]);return l!=null&&f(e,["usageMetadata"],l),e}function VS(t){const e={},i=d(t,["values"]);return i!=null&&f(e,["values"],i),e}function qS(){return{}}function $S(t){const e={},i=d(t,["embeddings"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>VS(l))),f(e,["embeddings"],r)}return d(t,["metadata"])!=null&&f(e,["metadata"],qS()),e}function zS(t){const e={},i=d(t,["bytesBase64Encoded"]);i!=null&&f(e,["imageBytes"],jn(i));const a=d(t,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}function mx(t){const e={},i=d(t,["safetyAttributes","categories"]);i!=null&&f(e,["categories"],i);const a=d(t,["safetyAttributes","scores"]);a!=null&&f(e,["scores"],a);const r=d(t,["contentType"]);return r!=null&&f(e,["contentType"],r),e}function HS(t){const e={},i=d(t,["_self"]);i!=null&&f(e,["image"],zS(i));const a=d(t,["raiFilteredReason"]);a!=null&&f(e,["raiFilteredReason"],a);const r=d(t,["_self"]);return r!=null&&f(e,["safetyAttributes"],mx(r)),e}function GS(t){const e={},i=d(t,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>HS(l))),f(e,["generatedImages"],r)}const a=d(t,["positivePromptSafetyAttributes"]);return a!=null&&f(e,["positivePromptSafetyAttributes"],mx(a)),e}function FS(t){const e={},i=d(t,["baseModel"]);i!=null&&f(e,["baseModel"],i);const a=d(t,["createTime"]);a!=null&&f(e,["createTime"],a);const r=d(t,["updateTime"]);return r!=null&&f(e,["updateTime"],r),e}function nd(t){const e={},i=d(t,["name"]);i!=null&&f(e,["name"],i);const a=d(t,["displayName"]);a!=null&&f(e,["displayName"],a);const r=d(t,["description"]);r!=null&&f(e,["description"],r);const l=d(t,["version"]);l!=null&&f(e,["version"],l);const m=d(t,["_self"]);m!=null&&f(e,["tunedModelInfo"],FS(m));const p=d(t,["inputTokenLimit"]);p!=null&&f(e,["inputTokenLimit"],p);const x=d(t,["outputTokenLimit"]);x!=null&&f(e,["outputTokenLimit"],x);const g=d(t,["supportedGenerationMethods"]);return g!=null&&f(e,["supportedActions"],g),e}function YS(t,e){const i={},a=d(e,["nextPageToken"]);a!=null&&f(i,["nextPageToken"],a);const r=d(e,["_self"]);if(r!=null){let l=sx(r);Array.isArray(l)&&(l=l.map(m=>nd(m))),f(i,["models"],l)}return i}function ZS(){return{}}function JS(t){const e={},i=d(t,["totalTokens"]);i!=null&&f(e,["totalTokens"],i);const a=d(t,["cachedContentTokenCount"]);return a!=null&&f(e,["cachedContentTokenCount"],a),e}function QS(t){const e={},i=d(t,["video","uri"]);i!=null&&f(e,["uri"],i);const a=d(t,["video","encodedVideo"]);a!=null&&f(e,["videoBytes"],jn(a));const r=d(t,["encoding"]);return r!=null&&f(e,["mimeType"],r),e}function KS(t){const e={},i=d(t,["_self"]);return i!=null&&f(e,["video"],QS(i)),e}function WS(t){const e={},i=d(t,["generatedSamples"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(m=>KS(m))),f(e,["generatedVideos"],l)}const a=d(t,["raiMediaFilteredCount"]);a!=null&&f(e,["raiMediaFilteredCount"],a);const r=d(t,["raiMediaFilteredReasons"]);return r!=null&&f(e,["raiMediaFilteredReasons"],r),e}function XS(t){const e={},i=d(t,["name"]);i!=null&&f(e,["name"],i);const a=d(t,["metadata"]);a!=null&&f(e,["metadata"],a);const r=d(t,["done"]);r!=null&&f(e,["done"],r);const l=d(t,["error"]);l!=null&&f(e,["error"],l);const m=d(t,["response","generateVideoResponse"]);return m!=null&&f(e,["response"],WS(m)),e}function eT(t){const e={},i=d(t,["fps"]);i!=null&&f(e,["fps"],i);const a=d(t,["endOffset"]);a!=null&&f(e,["endOffset"],a);const r=d(t,["startOffset"]);return r!=null&&f(e,["startOffset"],r),e}function tT(t){const e={},i=d(t,["displayName"]);i!=null&&f(e,["displayName"],i);const a=d(t,["data"]);a!=null&&f(e,["data"],a);const r=d(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function nT(t){const e={},i=d(t,["displayName"]);i!=null&&f(e,["displayName"],i);const a=d(t,["fileUri"]);a!=null&&f(e,["fileUri"],a);const r=d(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function iT(t){const e={},i=d(t,["videoMetadata"]);i!=null&&f(e,["videoMetadata"],eT(i));const a=d(t,["thought"]);a!=null&&f(e,["thought"],a);const r=d(t,["inlineData"]);r!=null&&f(e,["inlineData"],tT(r));const l=d(t,["fileData"]);l!=null&&f(e,["fileData"],nT(l));const m=d(t,["thoughtSignature"]);m!=null&&f(e,["thoughtSignature"],m);const p=d(t,["codeExecutionResult"]);p!=null&&f(e,["codeExecutionResult"],p);const x=d(t,["executableCode"]);x!=null&&f(e,["executableCode"],x);const g=d(t,["functionCall"]);g!=null&&f(e,["functionCall"],g);const v=d(t,["functionResponse"]);v!=null&&f(e,["functionResponse"],v);const b=d(t,["text"]);return b!=null&&f(e,["text"],b),e}function sT(t){const e={},i=d(t,["parts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>iT(l))),f(e,["parts"],r)}const a=d(t,["role"]);return a!=null&&f(e,["role"],a),e}function aT(t){const e={},i=d(t,["citations"]);return i!=null&&f(e,["citations"],i),e}function rT(t){const e={},i=d(t,["retrievedUrl"]);i!=null&&f(e,["retrievedUrl"],i);const a=d(t,["urlRetrievalStatus"]);return a!=null&&f(e,["urlRetrievalStatus"],a),e}function oT(t){const e={},i=d(t,["urlMetadata"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(r=>rT(r))),f(e,["urlMetadata"],a)}return e}function lT(t){const e={},i=d(t,["content"]);i!=null&&f(e,["content"],sT(i));const a=d(t,["citationMetadata"]);a!=null&&f(e,["citationMetadata"],aT(a));const r=d(t,["finishMessage"]);r!=null&&f(e,["finishMessage"],r);const l=d(t,["finishReason"]);l!=null&&f(e,["finishReason"],l);const m=d(t,["urlContextMetadata"]);m!=null&&f(e,["urlContextMetadata"],oT(m));const p=d(t,["avgLogprobs"]);p!=null&&f(e,["avgLogprobs"],p);const x=d(t,["groundingMetadata"]);x!=null&&f(e,["groundingMetadata"],x);const g=d(t,["index"]);g!=null&&f(e,["index"],g);const v=d(t,["logprobsResult"]);v!=null&&f(e,["logprobsResult"],v);const b=d(t,["safetyRatings"]);return b!=null&&f(e,["safetyRatings"],b),e}function Xg(t){const e={},i=d(t,["candidates"]);if(i!=null){let x=i;Array.isArray(x)&&(x=x.map(g=>lT(g))),f(e,["candidates"],x)}const a=d(t,["createTime"]);a!=null&&f(e,["createTime"],a);const r=d(t,["responseId"]);r!=null&&f(e,["responseId"],r);const l=d(t,["modelVersion"]);l!=null&&f(e,["modelVersion"],l);const m=d(t,["promptFeedback"]);m!=null&&f(e,["promptFeedback"],m);const p=d(t,["usageMetadata"]);return p!=null&&f(e,["usageMetadata"],p),e}function cT(t){const e={},i=d(t,["truncated"]);i!=null&&f(e,["truncated"],i);const a=d(t,["token_count"]);return a!=null&&f(e,["tokenCount"],a),e}function uT(t){const e={},i=d(t,["values"]);i!=null&&f(e,["values"],i);const a=d(t,["statistics"]);return a!=null&&f(e,["statistics"],cT(a)),e}function dT(t){const e={},i=d(t,["billableCharacterCount"]);return i!=null&&f(e,["billableCharacterCount"],i),e}function fT(t){const e={},i=d(t,["predictions[]","embeddings"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>uT(l))),f(e,["embeddings"],r)}const a=d(t,["metadata"]);return a!=null&&f(e,["metadata"],dT(a)),e}function mT(t){const e={},i=d(t,["gcsUri"]);i!=null&&f(e,["gcsUri"],i);const a=d(t,["bytesBase64Encoded"]);a!=null&&f(e,["imageBytes"],jn(a));const r=d(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function hx(t){const e={},i=d(t,["safetyAttributes","categories"]);i!=null&&f(e,["categories"],i);const a=d(t,["safetyAttributes","scores"]);a!=null&&f(e,["scores"],a);const r=d(t,["contentType"]);return r!=null&&f(e,["contentType"],r),e}function yd(t){const e={},i=d(t,["_self"]);i!=null&&f(e,["image"],mT(i));const a=d(t,["raiFilteredReason"]);a!=null&&f(e,["raiFilteredReason"],a);const r=d(t,["_self"]);r!=null&&f(e,["safetyAttributes"],hx(r));const l=d(t,["prompt"]);return l!=null&&f(e,["enhancedPrompt"],l),e}function hT(t){const e={},i=d(t,["predictions"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>yd(l))),f(e,["generatedImages"],r)}const a=d(t,["positivePromptSafetyAttributes"]);return a!=null&&f(e,["positivePromptSafetyAttributes"],hx(a)),e}function pT(t){const e={},i=d(t,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(r=>yd(r))),f(e,["generatedImages"],a)}return e}function gT(t){const e={},i=d(t,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(r=>yd(r))),f(e,["generatedImages"],a)}return e}function xT(t){const e={},i=d(t,["endpoint"]);i!=null&&f(e,["name"],i);const a=d(t,["deployedModelId"]);return a!=null&&f(e,["deployedModelId"],a),e}function yT(t){const e={},i=d(t,["labels","google-vertex-llm-tuning-base-model-id"]);i!=null&&f(e,["baseModel"],i);const a=d(t,["createTime"]);a!=null&&f(e,["createTime"],a);const r=d(t,["updateTime"]);return r!=null&&f(e,["updateTime"],r),e}function vT(t){const e={},i=d(t,["checkpointId"]);i!=null&&f(e,["checkpointId"],i);const a=d(t,["epoch"]);a!=null&&f(e,["epoch"],a);const r=d(t,["step"]);return r!=null&&f(e,["step"],r),e}function id(t){const e={},i=d(t,["name"]);i!=null&&f(e,["name"],i);const a=d(t,["displayName"]);a!=null&&f(e,["displayName"],a);const r=d(t,["description"]);r!=null&&f(e,["description"],r);const l=d(t,["versionId"]);l!=null&&f(e,["version"],l);const m=d(t,["deployedModels"]);if(m!=null){let b=m;Array.isArray(b)&&(b=b.map(w=>xT(w))),f(e,["endpoints"],b)}const p=d(t,["labels"]);p!=null&&f(e,["labels"],p);const x=d(t,["_self"]);x!=null&&f(e,["tunedModelInfo"],yT(x));const g=d(t,["defaultCheckpointId"]);g!=null&&f(e,["defaultCheckpointId"],g);const v=d(t,["checkpoints"]);if(v!=null){let b=v;Array.isArray(b)&&(b=b.map(w=>vT(w))),f(e,["checkpoints"],b)}return e}function bT(t,e){const i={},a=d(e,["nextPageToken"]);a!=null&&f(i,["nextPageToken"],a);const r=d(e,["_self"]);if(r!=null){let l=sx(r);Array.isArray(l)&&(l=l.map(m=>id(m))),f(i,["models"],l)}return i}function wT(){return{}}function CT(t){const e={},i=d(t,["totalTokens"]);return i!=null&&f(e,["totalTokens"],i),e}function ST(t){const e={},i=d(t,["tokensInfo"]);return i!=null&&f(e,["tokensInfo"],i),e}function TT(t){const e={},i=d(t,["gcsUri"]);i!=null&&f(e,["uri"],i);const a=d(t,["bytesBase64Encoded"]);a!=null&&f(e,["videoBytes"],jn(a));const r=d(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function NT(t){const e={},i=d(t,["_self"]);return i!=null&&f(e,["video"],TT(i)),e}function ET(t){const e={},i=d(t,["videos"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(m=>NT(m))),f(e,["generatedVideos"],l)}const a=d(t,["raiMediaFilteredCount"]);a!=null&&f(e,["raiMediaFilteredCount"],a);const r=d(t,["raiMediaFilteredReasons"]);return r!=null&&f(e,["raiMediaFilteredReasons"],r),e}function AT(t){const e={},i=d(t,["name"]);i!=null&&f(e,["name"],i);const a=d(t,["metadata"]);a!=null&&f(e,["metadata"],a);const r=d(t,["done"]);r!=null&&f(e,["done"],r);const l=d(t,["error"]);l!=null&&f(e,["error"],l);const m=d(t,["response"]);return m!=null&&f(e,["response"],ET(m)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _T="Content-Type",MT="X-Server-Timeout",kT="User-Agent",sd="x-goog-api-client",RT="1.6.0",DT=`google-genai-sdk/${RT}`,jT="v1beta1",IT="v1beta",e0=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class LT{constructor(e){var i,a;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:jT,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:IT,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&a.push(e.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),i=new URL(e);return i.protocol=i.protocol=="http:"?"ws":"wss",i.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,i,a){const r=[this.getRequestUrlInternal(i)];return a&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const a=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,i,a);if(e.queryParams)for(const[m,p]of Object.entries(e.queryParams))r.searchParams.append(m,String(p));let l={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=e.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,i,e.abortSignal),this.unaryApiCall(r,l,e.httpMethod)}patchHttpOptions(e,i){const a=JSON.parse(JSON.stringify(e));for(const[r,l]of Object.entries(i))typeof l=="object"?a[r]=Object.assign(Object.assign({},a[r]),l):l!==void 0&&(a[r]=l);return a}async requestStream(e){let i=this.clientOptions.httpOptions;e.httpOptions&&(i=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const a=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,i,a);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let l={};return l.body=e.body,l=await this.includeExtraHttpOptionsToRequestInit(l,i,e.abortSignal),this.streamApiCall(r,l,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,i,a){if(i&&i.timeout||a){const r=new AbortController,l=r.signal;i.timeout&&(i==null?void 0:i.timeout)>0&&setTimeout(()=>r.abort(),i.timeout),a&&a.addEventListener("abort",()=>{r.abort()}),e.signal=l}return i&&i.extraBody!==null&&UT(e,i.extraBody),e.headers=await this.getHeadersInternal(i),e}async unaryApiCall(e,i,a){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:a})).then(async r=>(await t0(r),new Wu(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,i,a){return this.apiCall(e.toString(),Object.assign(Object.assign({},i),{method:a})).then(async r=>(await t0(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){var i;return ks(this,arguments,function*(){const r=(i=e==null?void 0:e.body)===null||i===void 0?void 0:i.getReader(),l=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let m="";for(;;){const{done:p,value:x}=yield Ze(r.read());if(p){if(m.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const g=l.decode(x);try{const b=JSON.parse(g);if("error"in b){const w=JSON.parse(JSON.stringify(b.error)),S=w.status,T=w.code,E=`got status: ${S}. ${JSON.stringify(b)}`;if(T>=400&&T<600)throw new zo({message:E,status:T})}}catch(b){if(b.name==="ApiError")throw b}m+=g;let v=m.match(e0);for(;v;){const b=v[1];try{const w=new Response(b,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ze(new Wu(w)),m=m.slice(v[0].length),v=m.match(e0)}catch(w){throw new Error(`exception parsing stream chunk ${b}. ${w}`)}}}}finally{r.releaseLock()}})}async apiCall(e,i){return fetch(e,i).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const e={},i=DT+" "+this.clientOptions.userAgentExtra;return e[kT]=i,e[sd]=i,e[_T]="application/json",e}async getHeadersInternal(e){const i=new Headers;if(e&&e.headers){for(const[a,r]of Object.entries(e.headers))i.append(a,r);e.timeout&&e.timeout>0&&i.append(MT,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i),i}async uploadFile(e,i){var a;const r={};i!=null&&(r.mimeType=i.mimeType,r.name=i.name,r.displayName=i.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const l=this.clientOptions.uploader,m=await l.stat(e);r.sizeBytes=String(m.size);const p=(a=i==null?void 0:i.mimeType)!==null&&a!==void 0?a:m.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=p;const x=await this.fetchUploadUrl(r,i);return l.upload(e,x,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,i){var a;let r={};i!=null&&i.httpOptions?r=i.httpOptions:r={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const l={file:e},m=await this.request({path:ve("upload/v1beta/files",l._url),body:JSON.stringify(l),httpMethod:"POST",httpOptions:r});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const p=(a=m==null?void 0:m.headers)===null||a===void 0?void 0:a["x-goog-upload-url"];if(p===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return p}}async function t0(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const i=t.status;let a;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?a=await t.json():a={error:{message:await t.text(),code:t.status,status:t.statusText}};const r=JSON.stringify(a);throw i>=400&&i<600?new zo({message:r,status:i}):new Error(r)}}function UT(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let i={};if(typeof t.body=="string"&&t.body.length>0)try{const l=JSON.parse(t.body);if(typeof l=="object"&&l!==null&&!Array.isArray(l))i=l;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(l,m){const p=Object.assign({},l);for(const x in m)if(Object.prototype.hasOwnProperty.call(m,x)){const g=m[x],v=p[x];g&&typeof g=="object"&&!Array.isArray(g)&&v&&typeof v=="object"&&!Array.isArray(v)?p[x]=a(v,g):(v&&g&&typeof v!=typeof g&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${x}". Original type: ${typeof v}, New type: ${typeof g}. Overwriting.`),p[x]=g)}return p}const r=a(i,e);t.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const PT="mcp_used/unknown";function px(t){for(const e of t)if(vd(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function gx(t){var e;const i=(e=t[sd])!==null&&e!==void 0?e:"";t[sd]=(i+` ${PT}`).trimStart()}function BT(t){var e,i,a;return(a=(i=(e=t.config)===null||e===void 0?void 0:e.tools)===null||i===void 0?void 0:i.some(r=>vd(r)))!==null&&a!==void 0?a:!1}function OT(t){var e,i,a;return(a=(i=(e=t.config)===null||e===void 0?void 0:e.tools)===null||i===void 0?void 0:i.some(r=>!vd(r)))!==null&&a!==void 0?a:!1}function vd(t){return t!==null&&typeof t=="object"&&t instanceof bd}function VT(t,e=100){return ks(this,arguments,function*(){let a,r=0;for(;r<e;){const l=yield Ze(t.listTools({cursor:a}));for(const m of l.tools)yield yield Ze(m),r++;if(!l.nextCursor)break;a=l.nextCursor}})}class bd{constructor(e=[],i){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=i}static create(e,i){return new bd(e,i)}async initialize(){var e,i,a,r;if(this.mcpTools.length>0)return;const l={},m=[];for(const v of this.mcpClients)try{for(var p=!0,x=(i=void 0,Ya(VT(v))),g;g=await x.next(),e=g.done,!e;p=!0){r=g.value,p=!1;const b=r;m.push(b);const w=b.name;if(l[w])throw new Error(`Duplicate function name ${w} found in MCP tools. Please ensure function names are unique.`);l[w]=v}}catch(b){i={error:b}}finally{try{!p&&!e&&(a=x.return)&&await a.call(x)}finally{if(i)throw i.error}}this.mcpTools=m,this.functionNameToMcpClient=l}async tool(){return await this.initialize(),V2(this.mcpTools,this.config)}async callTool(e){await this.initialize();const i=[];for(const a of e)if(a.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[a.name];let l;this.config.timeout&&(l={timeout:this.config.timeout});const m=await r.callTool({name:a.name,arguments:a.args},void 0,l);i.push({functionResponse:{name:a.name,response:m.isError?{error:m}:m}})}return i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function qT(t,e,i){const a=new A2;let r;i.data instanceof Blob?r=JSON.parse(await i.data.text()):r=JSON.parse(i.data);const l=Jw(r);Object.assign(a,l),e(a)}class $T{constructor(e,i,a){this.apiClient=e,this.auth=i,this.webSocketFactory=a}async connect(e){var i,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion(),m=GT(this.apiClient.getDefaultHeaders()),p=this.apiClient.getApiKey(),x=`${r}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateMusic?key=${p}`;let g=()=>{};const v=new Promise(U=>{g=U}),b=e.callbacks,w=function(){g({})},S=this.apiClient,T={onopen:w,onmessage:U=>{qT(S,b.onmessage,U)},onerror:(i=b==null?void 0:b.onerror)!==null&&i!==void 0?i:function(U){},onclose:(a=b==null?void 0:b.onclose)!==null&&a!==void 0?a:function(U){}},E=this.webSocketFactory.create(x,HT(m),T);E.connect(),await v;const A=Fe(this.apiClient,e.model),_=cx({model:A}),L=td({setup:_});return E.send(JSON.stringify(L)),new zT(E,this.apiClient)}}class zT{constructor(e,i){this.conn=e,this.apiClient=i}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const i=cw(e),a=ux(i);this.conn.send(JSON.stringify({clientContent:a}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const i=uw(e),a=td(i);this.conn.send(JSON.stringify(a))}sendPlaybackControl(e){const i=td({playbackControl:e});this.conn.send(JSON.stringify(i))}play(){this.sendPlaybackControl(_s.PLAY)}pause(){this.sendPlaybackControl(_s.PAUSE)}stop(){this.sendPlaybackControl(_s.STOP)}resetContext(){this.sendPlaybackControl(_s.RESET_CONTEXT)}close(){this.conn.close()}}function HT(t){const e={};return t.forEach((i,a)=>{e[a]=i}),e}function GT(t){const e=new Headers;for(const[i,a]of Object.entries(t))e.append(i,a);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const FT="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function YT(t,e,i){const a=new E2;let r;if(i.data instanceof Blob?r=JSON.parse(await i.data.text()):r=JSON.parse(i.data),t.isVertexAI()){const l=Vw(r);Object.assign(a,l)}else{const l=Ow(r);Object.assign(a,l)}e(a)}class ZT{constructor(e,i,a){this.apiClient=e,this.auth=i,this.webSocketFactory=a,this.music=new $T(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var i,a,r,l,m,p;const x=this.apiClient.getWebsocketBaseUrl(),g=this.apiClient.getApiVersion();let v;const b=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&px(e.config.tools)&&gx(b);const w=WT(b);if(this.apiClient.isVertexAI())v=`${x}/ws/google.cloud.aiplatform.${g}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(w);else{const P=this.apiClient.getApiKey();let J="BidiGenerateContent",ne="key";P!=null&&P.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),J="BidiGenerateContentConstrained",ne="access_token"),v=`${x}/ws/google.ai.generativelanguage.${g}.GenerativeService.${J}?${ne}=${P}`}let S=()=>{};const T=new Promise(P=>{S=P}),E=e.callbacks,A=function(){var P;(P=E==null?void 0:E.onopen)===null||P===void 0||P.call(E),S({})},_=this.apiClient,L={onopen:A,onmessage:P=>{YT(_,E.onmessage,P)},onerror:(i=E==null?void 0:E.onerror)!==null&&i!==void 0?i:function(P){},onclose:(a=E==null?void 0:E.onclose)!==null&&a!==void 0?a:function(P){}},U=this.webSocketFactory.create(v,KT(w),L);U.connect(),await T;let O=Fe(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&O.startsWith("publishers/")){const P=this.apiClient.getProject(),J=this.apiClient.getLocation();O=`projects/${P}/locations/${J}/`+O}let F={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Lo.AUDIO]}:e.config.responseModalities=[Lo.AUDIO]),!((l=e.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const H=(p=(m=e.config)===null||m===void 0?void 0:m.tools)!==null&&p!==void 0?p:[],j=[];for(const P of H)if(this.isCallableTool(P)){const J=P;j.push(await J.tool())}else j.push(P);j.length>0&&(e.config.tools=j);const z={model:O,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?F=nw(this.apiClient,z):F=tw(this.apiClient,z),delete F.config,U.send(JSON.stringify(F)),new QT(U,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const JT={turnComplete:!0};class QT{constructor(e,i){this.conn=e,this.apiClient=i}tLiveClientContent(e,i){if(i.turns!==null&&i.turns!==void 0){let a=[];try{a=Xt(i.turns),e.isVertexAI()?a=a.map(r=>Os(r)):a=a.map(r=>Ho(r))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof i.turns}'`)}return{clientContent:{turns:a,turnComplete:i.turnComplete}}}return{clientContent:{turnComplete:i.turnComplete}}}tLiveClienttToolResponse(e,i){let a=[];if(i.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(i.functionResponses)?a=i.functionResponses:a=[i.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const l of a){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!e.isVertexAI()&&!("id"in l))throw new Error(FT)}return{toolResponse:{functionResponses:a}}}sendClientContent(e){e=Object.assign(Object.assign({},JT),e);const i=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(i))}sendRealtimeInput(e){let i={};this.apiClient.isVertexAI()?i={realtimeInput:lw(e)}:i={realtimeInput:ow(e)},this.conn.send(JSON.stringify(i))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const i=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(i))}close(){this.conn.close()}}function KT(t){const e={};return t.forEach((i,a)=>{e[a]=i}),e}function WT(t){const e=new Headers;for(const[i,a]of Object.entries(t))e.append(i,a);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const n0=10;function i0(t){var e,i,a;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const m of(i=t==null?void 0:t.tools)!==null&&i!==void 0?i:[])if(No(m)){r=!0;break}if(!r)return!0;const l=(a=t==null?void 0:t.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return l&&(l<0||!Number.isInteger(l))||l==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",l),!0):!1}function No(t){return"callTool"in t&&typeof t.callTool=="function"}function s0(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XT extends Bs{constructor(e){super(),this.apiClient=e,this.generateContent=async i=>{var a,r,l,m,p;const x=await this.processParamsForMcpUsage(i);if(!BT(i)||i0(i.config))return await this.generateContentInternal(x);if(OT(i))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let g,v;const b=Xt(x.contents),w=(l=(r=(a=x.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&l!==void 0?l:n0;let S=0;for(;S<w&&(g=await this.generateContentInternal(x),!(!g.functionCalls||g.functionCalls.length===0));){const T=g.candidates[0].content,E=[];for(const A of(p=(m=i.config)===null||m===void 0?void 0:m.tools)!==null&&p!==void 0?p:[])if(No(A)){const L=await A.callTool(g.functionCalls);E.push(...L)}S++,v={role:"user",parts:E},x.contents=Xt(x.contents),x.contents.push(T),x.contents.push(v),s0(x.config)&&(b.push(T),b.push(v))}return s0(x.config)&&(g.automaticFunctionCallingHistory=b),g},this.generateContentStream=async i=>{if(i0(i.config)){const a=await this.processParamsForMcpUsage(i);return await this.generateContentStreamInternal(a)}else return await this.processAfcStream(i)},this.generateImages=async i=>await this.generateImagesInternal(i).then(a=>{var r;let l;const m=[];if(a!=null&&a.generatedImages)for(const x of a.generatedImages)x&&(x!=null&&x.safetyAttributes)&&((r=x==null?void 0:x.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?l=x==null?void 0:x.safetyAttributes:m.push(x);let p;return l?p={generatedImages:m,positivePromptSafetyAttributes:l}:p={generatedImages:m},p}),this.list=async i=>{var a;const m={config:Object.assign(Object.assign({},{queryBase:!0}),i==null?void 0:i.config)};if(this.apiClient.isVertexAI()&&!m.config.queryBase){if(!((a=m.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");m.config.filter="labels.tune-type:*"}return new $o(Ps.PAGED_ITEM_MODELS,p=>this.listInternal(p),await this.listInternal(m),m)},this.editImage=async i=>{const a={model:i.model,prompt:i.prompt,referenceImages:[],config:i.config};return i.referenceImages&&i.referenceImages&&(a.referenceImages=i.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async i=>{let a={numberOfImages:1,mode:"upscale"};i.config&&(a=Object.assign(Object.assign({},a),i.config));const r={model:i.model,image:i.image,upscaleFactor:i.upscaleFactor,config:a};return await this.upscaleImageInternal(r)}}async processParamsForMcpUsage(e){var i,a,r;const l=(i=e.config)===null||i===void 0?void 0:i.tools;if(!l)return e;const m=await Promise.all(l.map(async x=>No(x)?await x.tool():x)),p={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:m})};if(p.config.tools=m,e.config&&e.config.tools&&px(e.config.tools)){const x=(r=(a=e.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&r!==void 0?r:{};let g=Object.assign({},x);Object.keys(g).length===0&&(g=this.apiClient.getDefaultHeaders()),gx(g),p.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:g})}return p}async initAfcToolsMap(e){var i,a,r;const l=new Map;for(const m of(a=(i=e.config)===null||i===void 0?void 0:i.tools)!==null&&a!==void 0?a:[])if(No(m)){const p=m,x=await p.tool();for(const g of(r=x.functionDeclarations)!==null&&r!==void 0?r:[]){if(!g.name)throw new Error("Function declaration name is required.");if(l.has(g.name))throw new Error(`Duplicate tool declaration name: ${g.name}`);l.set(g.name,p)}}return l}async processAfcStream(e){var i,a,r;const l=(r=(a=(i=e.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&r!==void 0?r:n0;let m=!1,p=0;const x=await this.initAfcToolsMap(e);return function(g,v,b){var w,S;return ks(this,arguments,function*(){for(var T,E,A,_;p<l;){m&&(p++,m=!1);const F=yield Ze(g.processParamsForMcpUsage(b)),H=yield Ze(g.generateContentStreamInternal(F)),j=[],z=[];try{for(var L=!0,U=(E=void 0,Ya(H)),O;O=yield Ze(U.next()),T=O.done,!T;L=!0){_=O.value,L=!1;const P=_;if(yield yield Ze(P),P.candidates&&(!((w=P.candidates[0])===null||w===void 0)&&w.content)){z.push(P.candidates[0].content);for(const J of(S=P.candidates[0].content.parts)!==null&&S!==void 0?S:[])if(p<l&&J.functionCall){if(!J.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(J.functionCall.name)){const ne=yield Ze(v.get(J.functionCall.name).callTool([J.functionCall]));j.push(...ne)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${J.functionCall.name}`)}}}}catch(P){E={error:P}}finally{try{!L&&!T&&(A=U.return)&&(yield Ze(A.call(U)))}finally{if(E)throw E.error}}if(j.length>0){m=!0;const P=new qa;P.candidates=[{content:{role:"user",parts:j}}],yield yield Ze(P);const J=[];J.push(...z),J.push({role:"user",parts:j});const ne=Xt(b.contents).concat(J);b.contents=ne}else break}})}(this,x,e)}async generateContentInternal(e){var i,a,r,l;let m,p="",x={};if(this.apiClient.isVertexAI()){const g=Kg(this.apiClient,e);return p=ve("{model}:generateContent",g._url),x=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>{const b=Xg(v),w=new qa;return Object.assign(w,b),w})}else{const g=Qg(this.apiClient,e);return p=ve("{model}:generateContent",g._url),x=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>{const b=Wg(v),w=new qa;return Object.assign(w,b),w})}}async generateContentStreamInternal(e){var i,a,r,l;let m,p="",x={};if(this.apiClient.isVertexAI()){const g=Kg(this.apiClient,e);return p=ve("{model}:streamGenerateContent?alt=sse",g._url),x=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.requestStream({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),m.then(function(b){return ks(this,arguments,function*(){var w,S,T,E;try{for(var A=!0,_=Ya(b),L;L=yield Ze(_.next()),w=L.done,!w;A=!0){E=L.value,A=!1;const O=Xg(yield Ze(E.json())),F=new qa;Object.assign(F,O),yield yield Ze(F)}}catch(U){S={error:U}}finally{try{!A&&!w&&(T=_.return)&&(yield Ze(T.call(_)))}finally{if(S)throw S.error}}})})}else{const g=Qg(this.apiClient,e);return p=ve("{model}:streamGenerateContent?alt=sse",g._url),x=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.requestStream({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),m.then(function(b){return ks(this,arguments,function*(){var w,S,T,E;try{for(var A=!0,_=Ya(b),L;L=yield Ze(_.next()),w=L.done,!w;A=!0){E=L.value,A=!1;const O=Wg(yield Ze(E.json())),F=new qa;Object.assign(F,O),yield yield Ze(F)}}catch(U){S={error:U}}finally{try{!A&&!w&&(T=_.return)&&(yield Ze(T.call(_)))}finally{if(S)throw S.error}}})})}}async embedContent(e){var i,a,r,l;let m,p="",x={};if(this.apiClient.isVertexAI()){const g=oS(this.apiClient,e);return p=ve("{model}:predict",g._url),x=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>{const b=fT(v),w=new kg;return Object.assign(w,b),w})}else{const g=bC(this.apiClient,e);return p=ve("{model}:batchEmbedContents",g._url),x=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>{const b=$S(v),w=new kg;return Object.assign(w,b),w})}}async generateImagesInternal(e){var i,a,r,l;let m,p="",x={};if(this.apiClient.isVertexAI()){const g=cS(this.apiClient,e);return p=ve("{model}:predict",g._url),x=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>{const b=hT(v),w=new Rg;return Object.assign(w,b),w})}else{const g=CC(this.apiClient,e);return p=ve("{model}:predict",g._url),x=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>{const b=GS(v),w=new Rg;return Object.assign(w,b),w})}}async editImageInternal(e){var i,a;let r,l="",m={};if(this.apiClient.isVertexAI()){const p=gS(this.apiClient,e);return l=ve("{model}:predict",p._url),m=p._query,delete p.config,delete p._url,delete p._query,r=this.apiClient.request({path:l,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),r.then(x=>{const g=pT(x),v=new b2;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var i,a;let r,l="",m={};if(this.apiClient.isVertexAI()){const p=yS(this.apiClient,e);return l=ve("{model}:predict",p._url),m=p._query,delete p.config,delete p._url,delete p._query,r=this.apiClient.request({path:l,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),r.then(x=>{const g=gT(x),v=new w2;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var i,a,r,l;let m,p="",x={};if(this.apiClient.isVertexAI()){const g=vS(this.apiClient,e);return p=ve("{name}",g._url),x=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>id(v))}else{const g=SC(this.apiClient,e);return p=ve("{name}",g._url),x=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>nd(v))}}async listInternal(e){var i,a,r,l;let m,p="",x={};if(this.apiClient.isVertexAI()){const g=wS(this.apiClient,e);return p=ve("{models_url}",g._url),x=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>{const b=bT(this.apiClient,v),w=new Dg;return Object.assign(w,b),w})}else{const g=NC(this.apiClient,e);return p=ve("{models_url}",g._url),x=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>{const b=YS(this.apiClient,v),w=new Dg;return Object.assign(w,b),w})}}async update(e){var i,a,r,l;let m,p="",x={};if(this.apiClient.isVertexAI()){const g=SS(this.apiClient,e);return p=ve("{model}",g._url),x=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>id(v))}else{const g=AC(this.apiClient,e);return p=ve("{name}",g._url),x=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>nd(v))}}async delete(e){var i,a,r,l;let m,p="",x={};if(this.apiClient.isVertexAI()){const g=TS(this.apiClient,e);return p=ve("{name}",g._url),x=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(()=>{const v=wT(),b=new jg;return Object.assign(b,v),b})}else{const g=_C(this.apiClient,e);return p=ve("{name}",g._url),x=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(()=>{const v=ZS(),b=new jg;return Object.assign(b,v),b})}}async countTokens(e){var i,a,r,l;let m,p="",x={};if(this.apiClient.isVertexAI()){const g=ES(this.apiClient,e);return p=ve("{model}:countTokens",g._url),x=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>{const b=CT(v),w=new Ig;return Object.assign(w,b),w})}else{const g=kC(this.apiClient,e);return p=ve("{model}:countTokens",g._url),x=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>{const b=JS(v),w=new Ig;return Object.assign(w,b),w})}}async computeTokens(e){var i,a;let r,l="",m={};if(this.apiClient.isVertexAI()){const p=AS(this.apiClient,e);return l=ve("{model}:computeTokens",p._url),m=p._query,delete p.config,delete p._url,delete p._query,r=this.apiClient.request({path:l,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),r.then(x=>{const g=ST(x),v=new C2;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var i,a,r,l;let m,p="",x={};if(this.apiClient.isVertexAI()){const g=kS(this.apiClient,e);return p=ve("{model}:predictLongRunning",g._url),x=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>AT(v))}else{const g=jC(this.apiClient,e);return p=ve("{model}:predictLongRunning",g._url),x=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>XS(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eN(t){const e={},i=d(t,["operationName"]);i!=null&&f(e,["_url","operationName"],i);const a=d(t,["config"]);return a!=null&&f(e,["config"],a),e}function tN(t){const e={},i=d(t,["operationName"]);i!=null&&f(e,["_url","operationName"],i);const a=d(t,["config"]);return a!=null&&f(e,["config"],a),e}function nN(t){const e={},i=d(t,["operationName"]);i!=null&&f(e,["operationName"],i);const a=d(t,["resourceName"]);a!=null&&f(e,["_url","resourceName"],a);const r=d(t,["config"]);return r!=null&&f(e,["config"],r),e}function iN(t){const e={},i=d(t,["video","uri"]);i!=null&&f(e,["uri"],i);const a=d(t,["video","encodedVideo"]);a!=null&&f(e,["videoBytes"],jn(a));const r=d(t,["encoding"]);return r!=null&&f(e,["mimeType"],r),e}function sN(t){const e={},i=d(t,["_self"]);return i!=null&&f(e,["video"],iN(i)),e}function aN(t){const e={},i=d(t,["generatedSamples"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(m=>sN(m))),f(e,["generatedVideos"],l)}const a=d(t,["raiMediaFilteredCount"]);a!=null&&f(e,["raiMediaFilteredCount"],a);const r=d(t,["raiMediaFilteredReasons"]);return r!=null&&f(e,["raiMediaFilteredReasons"],r),e}function rN(t){const e={},i=d(t,["name"]);i!=null&&f(e,["name"],i);const a=d(t,["metadata"]);a!=null&&f(e,["metadata"],a);const r=d(t,["done"]);r!=null&&f(e,["done"],r);const l=d(t,["error"]);l!=null&&f(e,["error"],l);const m=d(t,["response","generateVideoResponse"]);return m!=null&&f(e,["response"],aN(m)),e}function oN(t){const e={},i=d(t,["gcsUri"]);i!=null&&f(e,["uri"],i);const a=d(t,["bytesBase64Encoded"]);a!=null&&f(e,["videoBytes"],jn(a));const r=d(t,["mimeType"]);return r!=null&&f(e,["mimeType"],r),e}function lN(t){const e={},i=d(t,["_self"]);return i!=null&&f(e,["video"],oN(i)),e}function cN(t){const e={},i=d(t,["videos"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(m=>lN(m))),f(e,["generatedVideos"],l)}const a=d(t,["raiMediaFilteredCount"]);a!=null&&f(e,["raiMediaFilteredCount"],a);const r=d(t,["raiMediaFilteredReasons"]);return r!=null&&f(e,["raiMediaFilteredReasons"],r),e}function a0(t){const e={},i=d(t,["name"]);i!=null&&f(e,["name"],i);const a=d(t,["metadata"]);a!=null&&f(e,["metadata"],a);const r=d(t,["done"]);r!=null&&f(e,["done"],r);const l=d(t,["error"]);l!=null&&f(e,["error"],l);const m=d(t,["response"]);return m!=null&&f(e,["response"],cN(m)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uN extends Bs{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const i=e.operation,a=e.config;if(i.name===void 0||i.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=i.name.split("/operations/")[0];let l;return a&&"httpOptions"in a&&(l=a.httpOptions),this.fetchPredictVideosOperationInternal({operationName:i.name,resourceName:r,config:{httpOptions:l}})}else return this.getVideosOperationInternal({operationName:i.name,config:a})}async getVideosOperationInternal(e){var i,a,r,l;let m,p="",x={};if(this.apiClient.isVertexAI()){const g=tN(e);return p=ve("{operationName}",g._url),x=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>a0(v))}else{const g=eN(e);return p=ve("{operationName}",g._url),x=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>rN(v))}}async fetchPredictVideosOperationInternal(e){var i,a;let r,l="",m={};if(this.apiClient.isVertexAI()){const p=nN(e);return l=ve("{resourceName}:fetchPredictOperation",p._url),m=p._query,delete p.config,delete p._url,delete p._query,r=this.apiClient.request({path:l,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),r.then(x=>a0(x))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dN(t){const e={},i=d(t,["voiceName"]);return i!=null&&f(e,["voiceName"],i),e}function xx(t){const e={},i=d(t,["prebuiltVoiceConfig"]);return i!=null&&f(e,["prebuiltVoiceConfig"],dN(i)),e}function fN(t){const e={},i=d(t,["speaker"]);i!=null&&f(e,["speaker"],i);const a=d(t,["voiceConfig"]);return a!=null&&f(e,["voiceConfig"],xx(a)),e}function mN(t){const e={},i=d(t,["speakerVoiceConfigs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(r=>fN(r))),f(e,["speakerVoiceConfigs"],a)}return e}function hN(t){const e={},i=d(t,["voiceConfig"]);i!=null&&f(e,["voiceConfig"],xx(i));const a=d(t,["multiSpeakerVoiceConfig"]);a!=null&&f(e,["multiSpeakerVoiceConfig"],mN(a));const r=d(t,["languageCode"]);return r!=null&&f(e,["languageCode"],r),e}function pN(t){const e={},i=d(t,["fps"]);i!=null&&f(e,["fps"],i);const a=d(t,["endOffset"]);a!=null&&f(e,["endOffset"],a);const r=d(t,["startOffset"]);return r!=null&&f(e,["startOffset"],r),e}function gN(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["data"]);i!=null&&f(e,["data"],i);const a=d(t,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}function xN(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=d(t,["fileUri"]);i!=null&&f(e,["fileUri"],i);const a=d(t,["mimeType"]);return a!=null&&f(e,["mimeType"],a),e}function yN(t){const e={},i=d(t,["videoMetadata"]);i!=null&&f(e,["videoMetadata"],pN(i));const a=d(t,["thought"]);a!=null&&f(e,["thought"],a);const r=d(t,["inlineData"]);r!=null&&f(e,["inlineData"],gN(r));const l=d(t,["fileData"]);l!=null&&f(e,["fileData"],xN(l));const m=d(t,["thoughtSignature"]);m!=null&&f(e,["thoughtSignature"],m);const p=d(t,["codeExecutionResult"]);p!=null&&f(e,["codeExecutionResult"],p);const x=d(t,["executableCode"]);x!=null&&f(e,["executableCode"],x);const g=d(t,["functionCall"]);g!=null&&f(e,["functionCall"],g);const v=d(t,["functionResponse"]);v!=null&&f(e,["functionResponse"],v);const b=d(t,["text"]);return b!=null&&f(e,["text"],b),e}function vN(t){const e={},i=d(t,["parts"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>yN(l))),f(e,["parts"],r)}const a=d(t,["role"]);return a!=null&&f(e,["role"],a),e}function bN(t){const e={},i=d(t,["behavior"]);i!=null&&f(e,["behavior"],i);const a=d(t,["description"]);a!=null&&f(e,["description"],a);const r=d(t,["name"]);r!=null&&f(e,["name"],r);const l=d(t,["parameters"]);l!=null&&f(e,["parameters"],l);const m=d(t,["parametersJsonSchema"]);m!=null&&f(e,["parametersJsonSchema"],m);const p=d(t,["response"]);p!=null&&f(e,["response"],p);const x=d(t,["responseJsonSchema"]);return x!=null&&f(e,["responseJsonSchema"],x),e}function wN(t){const e={},i=d(t,["startTime"]);i!=null&&f(e,["startTime"],i);const a=d(t,["endTime"]);return a!=null&&f(e,["endTime"],a),e}function CN(t){const e={},i=d(t,["timeRangeFilter"]);return i!=null&&f(e,["timeRangeFilter"],wN(i)),e}function SN(t){const e={},i=d(t,["mode"]);i!=null&&f(e,["mode"],i);const a=d(t,["dynamicThreshold"]);return a!=null&&f(e,["dynamicThreshold"],a),e}function TN(t){const e={},i=d(t,["dynamicRetrievalConfig"]);return i!=null&&f(e,["dynamicRetrievalConfig"],SN(i)),e}function NN(){return{}}function EN(t){const e={},i=d(t,["functionDeclarations"]);if(i!=null){let p=i;Array.isArray(p)&&(p=p.map(x=>bN(x))),f(e,["functionDeclarations"],p)}if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=d(t,["googleSearch"]);a!=null&&f(e,["googleSearch"],CN(a));const r=d(t,["googleSearchRetrieval"]);if(r!=null&&f(e,["googleSearchRetrieval"],TN(r)),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(d(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");d(t,["urlContext"])!=null&&f(e,["urlContext"],NN());const m=d(t,["codeExecution"]);return m!=null&&f(e,["codeExecution"],m),e}function AN(t){const e={},i=d(t,["handle"]);if(i!=null&&f(e,["handle"],i),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function r0(){return{}}function _N(t){const e={},i=d(t,["disabled"]);i!=null&&f(e,["disabled"],i);const a=d(t,["startOfSpeechSensitivity"]);a!=null&&f(e,["startOfSpeechSensitivity"],a);const r=d(t,["endOfSpeechSensitivity"]);r!=null&&f(e,["endOfSpeechSensitivity"],r);const l=d(t,["prefixPaddingMs"]);l!=null&&f(e,["prefixPaddingMs"],l);const m=d(t,["silenceDurationMs"]);return m!=null&&f(e,["silenceDurationMs"],m),e}function MN(t){const e={},i=d(t,["automaticActivityDetection"]);i!=null&&f(e,["automaticActivityDetection"],_N(i));const a=d(t,["activityHandling"]);a!=null&&f(e,["activityHandling"],a);const r=d(t,["turnCoverage"]);return r!=null&&f(e,["turnCoverage"],r),e}function kN(t){const e={},i=d(t,["targetTokens"]);return i!=null&&f(e,["targetTokens"],i),e}function RN(t){const e={},i=d(t,["triggerTokens"]);i!=null&&f(e,["triggerTokens"],i);const a=d(t,["slidingWindow"]);return a!=null&&f(e,["slidingWindow"],kN(a)),e}function DN(t){const e={},i=d(t,["proactiveAudio"]);return i!=null&&f(e,["proactiveAudio"],i),e}function jN(t,e){const i={},a=d(t,["generationConfig"]);e!==void 0&&a!=null&&f(e,["setup","generationConfig"],a);const r=d(t,["responseModalities"]);e!==void 0&&r!=null&&f(e,["setup","generationConfig","responseModalities"],r);const l=d(t,["temperature"]);e!==void 0&&l!=null&&f(e,["setup","generationConfig","temperature"],l);const m=d(t,["topP"]);e!==void 0&&m!=null&&f(e,["setup","generationConfig","topP"],m);const p=d(t,["topK"]);e!==void 0&&p!=null&&f(e,["setup","generationConfig","topK"],p);const x=d(t,["maxOutputTokens"]);e!==void 0&&x!=null&&f(e,["setup","generationConfig","maxOutputTokens"],x);const g=d(t,["mediaResolution"]);e!==void 0&&g!=null&&f(e,["setup","generationConfig","mediaResolution"],g);const v=d(t,["seed"]);e!==void 0&&v!=null&&f(e,["setup","generationConfig","seed"],v);const b=d(t,["speechConfig"]);e!==void 0&&b!=null&&f(e,["setup","generationConfig","speechConfig"],hN(xd(b)));const w=d(t,["enableAffectiveDialog"]);e!==void 0&&w!=null&&f(e,["setup","generationConfig","enableAffectiveDialog"],w);const S=d(t,["systemInstruction"]);e!==void 0&&S!=null&&f(e,["setup","systemInstruction"],vN(Ct(S)));const T=d(t,["tools"]);if(e!==void 0&&T!=null){let F=Xa(T);Array.isArray(F)&&(F=F.map(H=>EN(Wa(H)))),f(e,["setup","tools"],F)}const E=d(t,["sessionResumption"]);e!==void 0&&E!=null&&f(e,["setup","sessionResumption"],AN(E));const A=d(t,["inputAudioTranscription"]);e!==void 0&&A!=null&&f(e,["setup","inputAudioTranscription"],r0());const _=d(t,["outputAudioTranscription"]);e!==void 0&&_!=null&&f(e,["setup","outputAudioTranscription"],r0());const L=d(t,["realtimeInputConfig"]);e!==void 0&&L!=null&&f(e,["setup","realtimeInputConfig"],MN(L));const U=d(t,["contextWindowCompression"]);e!==void 0&&U!=null&&f(e,["setup","contextWindowCompression"],RN(U));const O=d(t,["proactivity"]);return e!==void 0&&O!=null&&f(e,["setup","proactivity"],DN(O)),i}function IN(t,e){const i={},a=d(e,["model"]);a!=null&&f(i,["setup","model"],Fe(t,a));const r=d(e,["config"]);return r!=null&&f(i,["config"],jN(r,i)),i}function LN(t,e,i){const a={},r=d(e,["expireTime"]);i!==void 0&&r!=null&&f(i,["expireTime"],r);const l=d(e,["newSessionExpireTime"]);i!==void 0&&l!=null&&f(i,["newSessionExpireTime"],l);const m=d(e,["uses"]);i!==void 0&&m!=null&&f(i,["uses"],m);const p=d(e,["liveConnectConstraints"]);i!==void 0&&p!=null&&f(i,["bidiGenerateContentSetup"],IN(t,p));const x=d(e,["lockAdditionalFields"]);return i!==void 0&&x!=null&&f(i,["fieldMask"],x),a}function UN(t,e){const i={},a=d(e,["config"]);return a!=null&&f(i,["config"],LN(t,a,i)),i}function PN(t){const e={},i=d(t,["name"]);return i!=null&&f(e,["name"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BN(t){const e=[];for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const a=t[i];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const r=Object.keys(a).map(l=>`${i}.${l}`);e.push(...r)}else e.push(i)}return e.join(",")}function ON(t,e){let i=null;const a=t.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const l=a.setup;typeof l=="object"&&l!==null?(t.bidiGenerateContentSetup=l,i=l):delete t.bidiGenerateContentSetup}else a!==void 0&&delete t.bidiGenerateContentSetup;const r=t.fieldMask;if(i){const l=BN(i);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)l?t.fieldMask=l:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const m=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let p=[];r.length>0&&(p=r.map(g=>m.includes(g)?`generationConfig.${g}`:g));const x=[];l&&x.push(l),p.length>0&&x.push(...p),x.length>0?t.fieldMask=x.join(","):delete t.fieldMask}else delete t.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?t.fieldMask=r.join(","):delete t.fieldMask;return t}class VN extends Bs{constructor(e){super(),this.apiClient=e}async create(e){var i,a;let r,l="",m={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const p=UN(this.apiClient,e);l=ve("auth_tokens",p._url),m=p._query,delete p.config,delete p._url,delete p._query;const x=ON(p,e.config);return r=this.apiClient.request({path:l,queryParams:m,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r.then(g=>PN(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qN(t){const e={},i=d(t,["name"]);i!=null&&f(e,["_url","name"],i);const a=d(t,["config"]);return a!=null&&f(e,["config"],a),e}function $N(t,e){const i={},a=d(t,["pageSize"]);e!==void 0&&a!=null&&f(e,["_query","pageSize"],a);const r=d(t,["pageToken"]);e!==void 0&&r!=null&&f(e,["_query","pageToken"],r);const l=d(t,["filter"]);return e!==void 0&&l!=null&&f(e,["_query","filter"],l),i}function zN(t){const e={},i=d(t,["config"]);return i!=null&&f(e,["config"],$N(i,e)),e}function HN(t){const e={},i=d(t,["textInput"]);i!=null&&f(e,["textInput"],i);const a=d(t,["output"]);return a!=null&&f(e,["output"],a),e}function GN(t){const e={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const i=d(t,["examples"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(r=>HN(r))),f(e,["examples","examples"],a)}return e}function FN(t,e){const i={};if(d(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=d(t,["tunedModelDisplayName"]);if(e!==void 0&&a!=null&&f(e,["displayName"],a),d(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const r=d(t,["epochCount"]);e!==void 0&&r!=null&&f(e,["tuningTask","hyperparameters","epochCount"],r);const l=d(t,["learningRateMultiplier"]);if(l!=null&&f(i,["tuningTask","hyperparameters","learningRateMultiplier"],l),d(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const m=d(t,["batchSize"]);e!==void 0&&m!=null&&f(e,["tuningTask","hyperparameters","batchSize"],m);const p=d(t,["learningRate"]);return e!==void 0&&p!=null&&f(e,["tuningTask","hyperparameters","learningRate"],p),i}function YN(t){const e={},i=d(t,["baseModel"]);i!=null&&f(e,["baseModel"],i);const a=d(t,["trainingDataset"]);a!=null&&f(e,["tuningTask","trainingData"],GN(a));const r=d(t,["config"]);return r!=null&&f(e,["config"],FN(r,e)),e}function ZN(t){const e={},i=d(t,["name"]);i!=null&&f(e,["_url","name"],i);const a=d(t,["config"]);return a!=null&&f(e,["config"],a),e}function JN(t,e){const i={},a=d(t,["pageSize"]);e!==void 0&&a!=null&&f(e,["_query","pageSize"],a);const r=d(t,["pageToken"]);e!==void 0&&r!=null&&f(e,["_query","pageToken"],r);const l=d(t,["filter"]);return e!==void 0&&l!=null&&f(e,["_query","filter"],l),i}function QN(t){const e={},i=d(t,["config"]);return i!=null&&f(e,["config"],JN(i,e)),e}function KN(t,e){const i={},a=d(t,["gcsUri"]);if(e!==void 0&&a!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],a),d(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function WN(t){const e={},i=d(t,["gcsUri"]);return i!=null&&f(e,["validationDatasetUri"],i),e}function XN(t,e){const i={},a=d(t,["validationDataset"]);e!==void 0&&a!=null&&f(e,["supervisedTuningSpec"],WN(a));const r=d(t,["tunedModelDisplayName"]);e!==void 0&&r!=null&&f(e,["tunedModelDisplayName"],r);const l=d(t,["description"]);e!==void 0&&l!=null&&f(e,["description"],l);const m=d(t,["epochCount"]);e!==void 0&&m!=null&&f(e,["supervisedTuningSpec","hyperParameters","epochCount"],m);const p=d(t,["learningRateMultiplier"]);e!==void 0&&p!=null&&f(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],p);const x=d(t,["exportLastCheckpointOnly"]);e!==void 0&&x!=null&&f(e,["supervisedTuningSpec","exportLastCheckpointOnly"],x);const g=d(t,["adapterSize"]);if(e!==void 0&&g!=null&&f(e,["supervisedTuningSpec","hyperParameters","adapterSize"],g),d(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return i}function e4(t){const e={},i=d(t,["baseModel"]);i!=null&&f(e,["baseModel"],i);const a=d(t,["trainingDataset"]);a!=null&&f(e,["supervisedTuningSpec","trainingDatasetUri"],KN(a,e));const r=d(t,["config"]);return r!=null&&f(e,["config"],XN(r,e)),e}function t4(t){const e={},i=d(t,["name"]);i!=null&&f(e,["model"],i);const a=d(t,["name"]);return a!=null&&f(e,["endpoint"],a),e}function yx(t){const e={},i=d(t,["name"]);i!=null&&f(e,["name"],i);const a=d(t,["state"]);a!=null&&f(e,["state"],tx(a));const r=d(t,["createTime"]);r!=null&&f(e,["createTime"],r);const l=d(t,["tuningTask","startTime"]);l!=null&&f(e,["startTime"],l);const m=d(t,["tuningTask","completeTime"]);m!=null&&f(e,["endTime"],m);const p=d(t,["updateTime"]);p!=null&&f(e,["updateTime"],p);const x=d(t,["description"]);x!=null&&f(e,["description"],x);const g=d(t,["baseModel"]);g!=null&&f(e,["baseModel"],g);const v=d(t,["_self"]);v!=null&&f(e,["tunedModel"],t4(v));const b=d(t,["distillationSpec"]);b!=null&&f(e,["distillationSpec"],b);const w=d(t,["experiment"]);w!=null&&f(e,["experiment"],w);const S=d(t,["labels"]);S!=null&&f(e,["labels"],S);const T=d(t,["pipelineJob"]);T!=null&&f(e,["pipelineJob"],T);const E=d(t,["serviceAccount"]);E!=null&&f(e,["serviceAccount"],E);const A=d(t,["tunedModelDisplayName"]);return A!=null&&f(e,["tunedModelDisplayName"],A),e}function n4(t){const e={},i=d(t,["nextPageToken"]);i!=null&&f(e,["nextPageToken"],i);const a=d(t,["tunedModels"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(l=>yx(l))),f(e,["tuningJobs"],r)}return e}function i4(t){const e={},i=d(t,["name"]);i!=null&&f(e,["name"],i);const a=d(t,["metadata"]);a!=null&&f(e,["metadata"],a);const r=d(t,["done"]);r!=null&&f(e,["done"],r);const l=d(t,["error"]);return l!=null&&f(e,["error"],l),e}function s4(t){const e={},i=d(t,["checkpointId"]);i!=null&&f(e,["checkpointId"],i);const a=d(t,["epoch"]);a!=null&&f(e,["epoch"],a);const r=d(t,["step"]);r!=null&&f(e,["step"],r);const l=d(t,["endpoint"]);return l!=null&&f(e,["endpoint"],l),e}function a4(t){const e={},i=d(t,["model"]);i!=null&&f(e,["model"],i);const a=d(t,["endpoint"]);a!=null&&f(e,["endpoint"],a);const r=d(t,["checkpoints"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(m=>s4(m))),f(e,["checkpoints"],l)}return e}function ad(t){const e={},i=d(t,["name"]);i!=null&&f(e,["name"],i);const a=d(t,["state"]);a!=null&&f(e,["state"],tx(a));const r=d(t,["createTime"]);r!=null&&f(e,["createTime"],r);const l=d(t,["startTime"]);l!=null&&f(e,["startTime"],l);const m=d(t,["endTime"]);m!=null&&f(e,["endTime"],m);const p=d(t,["updateTime"]);p!=null&&f(e,["updateTime"],p);const x=d(t,["error"]);x!=null&&f(e,["error"],x);const g=d(t,["description"]);g!=null&&f(e,["description"],g);const v=d(t,["baseModel"]);v!=null&&f(e,["baseModel"],v);const b=d(t,["tunedModel"]);b!=null&&f(e,["tunedModel"],a4(b));const w=d(t,["supervisedTuningSpec"]);w!=null&&f(e,["supervisedTuningSpec"],w);const S=d(t,["tuningDataStats"]);S!=null&&f(e,["tuningDataStats"],S);const T=d(t,["encryptionSpec"]);T!=null&&f(e,["encryptionSpec"],T);const E=d(t,["partnerModelTuningSpec"]);E!=null&&f(e,["partnerModelTuningSpec"],E);const A=d(t,["distillationSpec"]);A!=null&&f(e,["distillationSpec"],A);const _=d(t,["experiment"]);_!=null&&f(e,["experiment"],_);const L=d(t,["labels"]);L!=null&&f(e,["labels"],L);const U=d(t,["pipelineJob"]);U!=null&&f(e,["pipelineJob"],U);const O=d(t,["serviceAccount"]);O!=null&&f(e,["serviceAccount"],O);const F=d(t,["tunedModelDisplayName"]);return F!=null&&f(e,["tunedModelDisplayName"],F),e}function r4(t){const e={},i=d(t,["nextPageToken"]);i!=null&&f(e,["nextPageToken"],i);const a=d(t,["tuningJobs"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(l=>ad(l))),f(e,["tuningJobs"],r)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class o4 extends Bs{constructor(e){super(),this.apiClient=e,this.get=async i=>await this.getInternal(i),this.list=async(i={})=>new $o(Ps.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(i),i),this.tune=async i=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(i);{const a=await this.tuneMldevInternal(i);let r="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?r=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(r=a.name.split("/operations/")[0]),{name:r,state:Ku.JOB_STATE_QUEUED}}}}async getInternal(e){var i,a,r,l;let m,p="",x={};if(this.apiClient.isVertexAI()){const g=ZN(e);return p=ve("{name}",g._url),x=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>ad(v))}else{const g=qN(e);return p=ve("{name}",g._url),x=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>yx(v))}}async listInternal(e){var i,a,r,l;let m,p="",x={};if(this.apiClient.isVertexAI()){const g=QN(e);return p=ve("tuningJobs",g._url),x=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),m.then(v=>{const b=r4(v),w=new Lg;return Object.assign(w,b),w})}else{const g=zN(e);return p=ve("tunedModels",g._url),x=g._query,delete g.config,delete g._url,delete g._query,m=this.apiClient.request({path:p,queryParams:x,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>{const b=n4(v),w=new Lg;return Object.assign(w,b),w})}}async tuneInternal(e){var i,a;let r,l="",m={};if(this.apiClient.isVertexAI()){const p=e4(e);return l=ve("tuningJobs",p._url),m=p._query,delete p.config,delete p._url,delete p._query,r=this.apiClient.request({path:l,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),r.then(x=>ad(x))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var i,a;let r,l="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=YN(e);return l=ve("tunedModels",p._url),m=p._query,delete p.config,delete p._url,delete p._query,r=this.apiClient.request({path:l,queryParams:m,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),r.then(x=>i4(x))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class l4{async download(e,i){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const c4=1024*1024*8,u4=3,d4=1e3,f4=2,gu="x-goog-upload-status";async function m4(t,e,i){var a,r,l;let m=0,p=0,x=new Wu(new Response),g="upload";for(m=t.size;p<m;){const b=Math.min(c4,m-p),w=t.slice(p,p+b);p+b>=m&&(g+=", finalize");let S=0,T=d4;for(;S<u4&&(x=await i.request({path:"",body:w,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":String(p),"Content-Length":String(b)}}}),!(!((a=x==null?void 0:x.headers)===null||a===void 0)&&a[gu]));)S++,await p4(T),T=T*f4;if(p+=b,((r=x==null?void 0:x.headers)===null||r===void 0?void 0:r[gu])!=="active")break;if(m<=p)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const v=await(x==null?void 0:x.json());if(((l=x==null?void 0:x.headers)===null||l===void 0?void 0:l[gu])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return v.file}async function h4(t){return{size:t.size,type:t.type}}function p4(t){return new Promise(e=>setTimeout(e,t))}class g4{async upload(e,i,a){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await m4(e,i,a)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await h4(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class x4{create(e,i,a){return new y4(e,i,a)}}class y4{constructor(e,i,a){this.url=e,this.headers=i,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const o0="x-goog-api-key";class v4{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(o0)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(o0,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const b4="gl-node/";class vx{constructor(e){var i;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(i=e.vertexai)!==null&&i!==void 0?i:!1,this.apiKey=e.apiKey;const a=v2(e,void 0,void 0);a&&(e.httpOptions?e.httpOptions.baseUrl=a:e.httpOptions={baseUrl:a}),this.apiVersion=e.apiVersion;const r=new v4(this.apiKey);this.apiClient=new LT({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:b4+"web",uploader:new g4,downloader:new l4}),this.models=new XT(this.apiClient),this.live=new ZT(this.apiClient,r,new x4),this.chats=new Fb(this.models,this.apiClient),this.caches=new zb(this.apiClient),this.files=new a5(this.apiClient),this.operations=new uN(this.apiClient),this.authTokens=new VN(this.apiClient),this.tunings=new o4(this.apiClient)}}var ct=(t=>(t.Easy="easy",t.Normal="normal",t.Hard="hard",t))(ct||{});const bx={easy:{trueFalse:5,multipleChoice:5,fillInTheBlanks:5,sentenceScramble:5,memoryCardGame:1},normal:{trueFalse:5,multipleChoice:5,fillInTheBlanks:5,sentenceScramble:5,memoryCardGame:1},hard:{trueFalse:5,multipleChoice:5,fillInTheBlanks:5,sentenceScramble:5,memoryCardGame:1}},Ri={trueFalse:10,multipleChoice:10,fillInTheBlanks:10,sentenceScramble:10,memoryCardGame:2},We=async(t,e)=>{const i=new vx({apiKey:e}),a="gemini-2.5-flash";try{const r=await i.models.generateContent({model:a,contents:t,config:{responseMimeType:"application/json"}});if(!r.text)throw new Error("AI  API ");let l=r.text.trim();const m=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,p=l.match(m);if(p&&p[2]&&(l=p[2].trim()),!l.startsWith("{")&&!l.startsWith("[")&&(l.includes("{")||l.includes("["))){const x=l.indexOf("{"),g=l.indexOf("[");let v=-1,b=-1;x!==-1&&(g===-1||x<g)?(v=x,b=l.lastIndexOf("}")):g!==-1&&(v=g,b=l.lastIndexOf("]")),v!==-1&&b!==-1&&b>v&&(l=l.substring(v,b+1))}try{return JSON.parse(l)}catch{throw console.error("AI  (JSON parse ):",r.text),new Error("AI  ( JSON)")}}catch(r){let l="";if(r instanceof Error&&(l+=`  ${r.message}`),r&&typeof r=="object"&&"message"in r){const m=r;m.message.includes("API key not valid")||m.message.includes("API_KEY_INVALID")?l="Gemini API ":m.message.includes("quota")||m.message.includes("RESOURCE_EXHAUSTED")?l=" API ":(m.message.toLowerCase().includes("json")||m.message.includes("Unexpected token"))&&(l="AI  ( JSON)")}throw new Error(l)}},wx=async(t,e)=>{const i=`
    Please generate at least 3 (but more is better if appropriate) clear and distinct learning objectives for the topic: "${t}".
    The objectives should be based on scaffolding theory and gamification, and written in the primary language of the topic.
    For each objective, provide the objective statement, a detailed description, and a concrete teaching example (such as a sample sentence, scenario, or application).
    Output MUST be a valid JSON array of objects, e.g.:
    [
      { 
        "objective": "${t}", 
        "description": "${t}...", 
        "teachingExample": "${t}..." 
      },
      { 
        "objective": "${t}", 
        "description": "...", 
        "teachingExample": "${t}..." 
      },
      { 
        "objective": "${t}", 
        "description": "${t}...", 
        "teachingExample": "..." 
      },
      //...or more items
    ]
    Do NOT include any explanation or extra text. Only output the JSON array.
  `;return await We(i,e)},w4=async(t,e,i)=>{const a=/english|||grammar|vocabulary|pronunciation|speaking|listening|reading|writing/i.test(t),r=`
    Based on the following learning objectives: ${JSON.stringify(i)}
    Please break down the topic "${t}" into at least 3 (but more is better if appropriate) micro-units. For each, provide a sub-topic, a brief explanation, and a concrete teaching example.
    
    ${a?`
    SPECIAL REQUIREMENTS FOR ENGLISH LEARNING TOPICS:
    For each breakdown item, also include:
    - coreConcept:  (core learning concept for this point)
    - teachingSentences: 3-5 (array of 3-5 teaching example sentences)
    - teachingTips:  (teaching tips and explanations)
    
    Output format for English learning topics:
    [
      {
        "topic": "A", 
        "details": "A...", 
        "teachingExample": "A...",
        "coreConcept": "...",
        "teachingSentences": ["1", "2", "3", "4", "5"],
        "teachingTips": "..."
      }
    ]
    `:`
    Standard output format:
    [
      { "topic": "A", "details": "A...", "teachingExample": "A..." }
    ]
    `}
    
    Do NOT include any explanation or extra text. Only output the JSON array.
  `;return await We(r,e)},C4=async(t,e,i)=>{const a=`
    Based on the following learning objectives: ${JSON.stringify(i)}
    Generate at least 3 (but more is better if appropriate) comprehensive analysis of common misconceptions or difficulties students may have with "${t}".
    
    Output MUST be a valid JSON array with the following comprehensive structure:
    [
      {
        "point": "",
        "clarification": "",
        "teachingExample": "",
        "errorType": " (///)",
        "commonErrors": ["1", "2", "3"],
        "correctVsWrong": [
          {
            "correct": "",
            "wrong": "", 
            "explanation": ""
          }
        ],
        "preventionStrategy": " - ",
        "correctionMethod": " - ",
        "practiceActivities": ["1", "2", "3"]
      }
    ]
    
    Requirements:
    - Each confusing point should include ALL fields above
    - commonErrors: Provide at least 3 typical student mistakes
    - correctVsWrong: Provide at least 1 comparison (more if helpful)  
    - practiceActivities: Provide at least 3 targeted practice activities
    - All text should be in the primary language of the topic
    - Focus on practical teaching guidance that educators can immediately apply
    
    Do NOT include any explanation or extra text. Only output the JSON array.
  `;return await We(a,e)},S4=async(t,e,i)=>{const a=`
    Based on the following learning objectives: ${JSON.stringify(i)}
    Suggest at least 3 (but more is better if appropriate) engaging, interactive classroom activities (preferably game-like) for the topic "${t}".
    For each activity, provide the following comprehensive fields:
      - title: / (The name of the activity)
      - description:  (Brief description of the core concept)
      - objective:  (Main learning goal or purpose)
      - timing:  (When to use: lesson introduction, during unit, after unit, review, etc.)
      - materials:  (Required tools, materials, or props)
      - environment:  (Seating arrangement, space needs, equipment conditions)
      - steps:  (Step-by-step process of teacher-student interactions as array)
      - assessmentPoints:  (Learning effectiveness observation and assessment criteria as array)
    
    Output MUST be a valid JSON array of objects, e.g.:
    [
      {
        "title": "1",
        "description": "1...",
        "objective": "1...",
        "timing": "//...",
        "materials": "...",
        "environment": "...",
        "steps": ["1: ...", "2: ...", "3: ..."],
        "assessmentPoints": ["", "", ""]
      },
      // ... more items
    ]
    Do NOT include any explanation or extra text. Only output the JSON array.
  `;return await We(a,e)},T4=async(t,e,i)=>{const a=`
    Based on the following learning objectives: ${JSON.stringify(i)}
    Please generate quiz content for "${t}" in the following JSON structure (no explanation, no extra text):
    {
      "easy": {
        "trueFalse": [
          { "statement": "1...", "isTrue": true, "explanation": "1" },
          { "statement": "2...", "isTrue": false, "explanation": "2" }
          // ...  5 
        ],
        "multipleChoice": [
          { "question": "1...", "options": ["A", "B", "C"], "correctAnswerIndex": 0 },
          { "question": "2...", "options": ["A", "B", "C"], "correctAnswerIndex": 1 }
          // ...  5 
        ],
        "fillInTheBlanks": [
          { "sentenceWithBlank": "1...____...", "correctAnswer": "1" },
          { "sentenceWithBlank": "2...____...", "correctAnswer": "2" }
          // ...  5 
        ],
        "sentenceScramble": [
          { "originalSentence": "1...", "scrambledWords": ["...", "...", "..."] },
          { "originalSentence": "2...", "scrambledWords": ["...", "...", "..."] }
          // ...  5 
        ],
        "memoryCardGame": [
          {
            "pairs": [
              { "question": "1", "answer": "1" },
              { "question": "2", "answer": "2" },
              { "question": "3", "answer": "3" },
              { "question": "4", "answer": "4" },
              { "question": "5", "answer": "5" }
              // ...  5 
            ],
            "instructions": ""
          }
        ]
      },
      "normal": { /* same structure as easy, memoryCardGame  1 pairs  5  */ },
      "hard": { /* same structure as easy, memoryCardGame  1 pairs  5  */ }
    }
    For each quiz type (trueFalse, multipleChoice, fillInTheBlanks, sentenceScramble), generate at least 5 questions per difficulty level (easy, normal, hard), but more is better if appropriate.
    For memoryCardGame, generate ONLY 1 question per difficulty, but the "pairs" array inside must contain at least 5 pairs (each pair is a related concept, word/definition, Q&A, or translation relevant to '${t}'), and more is better if appropriate.
    Each memoryCardGame question should include clear "instructions" for the matching task.
    All text must be in the primary language of the topic. Only output the JSON object, no explanation or extra text.
  `;return await We(a,e)},N4=async(t,e,i)=>{const a=`
    Based on the following learning objectives: ${JSON.stringify(i)}
    Please generate a short, natural English conversation (at least 3 lines, but more is better if appropriate, 2 speakers) about the topic "${t}" (use English translation if topic is not English).
    Output MUST be a valid JSON array, e.g.:
    [
      { "speaker": "Speaker A", "line": "Hello! Let's talk about ${t}." },
      { "speaker": "Speaker B", "line": "Great idea! What's the first thing we should discuss regarding ${t}?" },
      { "speaker": "Speaker A", "line": "Perhaps we can start with..." },
      { "speaker": "Speaker B", "line": "I think examples would help." }
    ]
    Do NOT include any explanation or extra text. Only output the JSON array.
  `;return await We(a,e)},E4=async(t,e,i)=>{const a=`
    Please generate at least 3 (but more is better if appropriate) clear and distinct learning objectives for the topic: "${t}" appropriate for learning level "${e.name}" (${e.description}).
    The objectives should be based on scaffolding theory and gamification, written in the primary language of the topic, and tailored to the learner's level and capabilities described in: "${e.description}".
    For each objective, provide the objective statement, a detailed description, and a concrete teaching example (such as a sample sentence, scenario, or application).
    Output MUST be a valid JSON array of objects, e.g.:
    [
      { 
        "objective": "${t}${e.name}", 
        "description": "${e.name}...", 
        "teachingExample": "..." 
      },
      { 
        "objective": "${t}${e.name}", 
        "description": "...", 
        "teachingExample": "..." 
      },
      { 
        "objective": "${t}", 
        "description": "...", 
        "teachingExample": "..." 
      },
      //...or more items
    ]
    Do NOT include any explanation or extra text. Only output the JSON array.
  `;return await We(a,i)},A4=async(t,e,i,a)=>{const r=/english|||grammar|vocabulary|pronunciation|speaking|listening|reading|writing/i.test(t),l=`
    Based on the following learning objectives: ${JSON.stringify(a)}
    Please break down the topic "${t}" into at least 3 (but more is better if appropriate) micro-units appropriate for "${e.name}" level learners (${e.description}). For each, provide a sub-topic, a brief explanation, and a concrete teaching example.
    The content depth and complexity should match the level description: "${e.description}".
    
    ${r?`
    SPECIAL REQUIREMENTS FOR ENGLISH LEARNING TOPICS:
    For each breakdown item, also include:
    - coreConcept:  (core learning concept for this point)
    - teachingSentences: 3-5 (array of 3-5 teaching example sentences)
    - teachingTips:  (teaching tips and explanations)
    
    Output format for English learning topics:
    [
      {
        "topic": "${e.name}A", 
        "details": "A${e.name}...", 
        "teachingExample": "A...",
        "coreConcept": "...",
        "teachingSentences": ["1", "2", "3", "4", "5"],
        "teachingTips": "..."
      }
    ]
    `:`
    Standard output format:
    [
      { "topic": "${e.name}A", "details": "A${e.name}...", "teachingExample": "A..." }
    ]
    `}
    
    Do NOT include any explanation or extra text. Only output the JSON array.
  `;return await We(l,i)},_4=async(t,e,i,a)=>{const r=`
    Based on the following learning objectives: ${JSON.stringify(a)}
    Generate at least 3 (but more is better if appropriate) comprehensive analysis of common misconceptions or difficulties that "${e.name}" level learners (${e.description}) may have with "${t}".
    
    Output MUST be a valid JSON array with the following comprehensive structure:
    [
      {
        "point": "${e.name}",
        "clarification": "${e.description}",
        "teachingExample": "",
        "errorType": " (///)",
        "commonErrors": ["1", "2", "3"],
        "correctVsWrong": [
          {
            "correct": "${e.name}",
            "wrong": "", 
            "explanation": ""
          }
        ],
        "preventionStrategy": "${e.name}",
        "correctionMethod": "",
        "practiceActivities": ["1", "2", "3"]
      }
    ]
    
    Requirements:
    - All content should be appropriate for "${e.description}"
    - Each confusing point should include ALL fields above
    - commonErrors: Provide at least 3 typical student mistakes at this level
    - correctVsWrong: Provide at least 1 comparison (more if helpful)  
    - practiceActivities: Provide at least 3 level-appropriate targeted practice activities
    - All text should be in the primary language of the topic
    - Focus on confusion points specific to "${e.name}" level: "${e.description}"
    
    Do NOT include any explanation or extra text. Only output the JSON array.
  `;return await We(r,i)},M4=async(t,e,i,a)=>{const r=`
    Based on the following learning objectives: ${JSON.stringify(a)}
    Suggest at least 3 (but more is better if appropriate) engaging, interactive classroom activities (preferably game-like) for the topic "${t}" suitable for "${e.name}" level learners (${e.description}).
    Activities should match the complexity and capabilities described in: "${e.description}".
    For each activity, provide the following comprehensive fields:
      - title: / (The name of the activity)
      - description:  (Brief description of the core concept)
      - objective:  (Main learning goal or purpose)
      - timing:  (When to use: lesson introduction, during unit, after unit, review, etc.)
      - materials:  (Required tools, materials, or props)
      - environment:  (Seating arrangement, space needs, equipment conditions)
      - steps:  (Step-by-step process of teacher-student interactions as array)
      - assessmentPoints:  (Learning effectiveness observation and assessment criteria as array)
    
    Output MUST be a valid JSON array of objects, e.g.:
    [
      {
        "title": "${e.name}1",
        "description": "1...",
        "objective": "1${e.name}...",
        "timing": "//...",
        "materials": "...",
        "environment": "...",
        "steps": ["1: ...", "2: ...", "3: ..."],
        "assessmentPoints": ["", "", ""]
      },
      // ... more items
    ]
    Do NOT include any explanation or extra text. Only output the JSON array.
  `;return await We(r,i)},k4=async(t,e,i,a)=>{const r=`
    ${t}${e.name}(${e.description})
    ${JSON.stringify(a)}
    
    ${e.name}
    ${e.description}
    
     JSON 
    {
      "easy": {
        "trueFalse": [
          { "statement": "1...", "isTrue": true, "explanation": "1" },
          { "statement": "2...", "isTrue": false, "explanation": "2" }
          // ...  5 
        ],
        "multipleChoice": [
          { "question": "1...", "options": ["A", "B", "C"], "correctAnswerIndex": 0 },
          { "question": "2...", "options": ["A", "B", "C"], "correctAnswerIndex": 1 }
          // ...  5 
        ],
        "fillInTheBlanks": [
          { "sentenceWithBlank": "1...____...", "correctAnswer": "1" },
          { "sentenceWithBlank": "2...____...", "correctAnswer": "2" }
          // ...  5 
        ],
        "sentenceScramble": [
          { "originalSentence": "1...", "scrambledWords": ["...", "...", "..."] },
          { "originalSentence": "2...", "scrambledWords": ["...", "...", "..."] }
          // ...  5 
        ],
        "memoryCardGame": [
          {
            "pairs": [
              { "question": "1", "answer": "1" },
              { "question": "2", "answer": "2" },
              { "question": "3", "answer": "3" },
              { "question": "4", "answer": "4" },
              { "question": "5", "answer": "5" }
              // ...  5 
            ],
            "instructions": ""
          }
        ]
      },
      "normal": { /*  easymemoryCardGame  1 pairs  5  */ },
      "hard": { /*  easymemoryCardGame  1 pairs  5  */ }
    }
    
     (trueFalse, multipleChoice, fillInTheBlanks, sentenceScramble) (easy, normal, hard)  5 
     memoryCardGame 1  "pairs"  5 ${t}/
     memoryCardGame  "instructions" 
     JSON 
  `;return await We(r,i)},R4=async(t,e,i,a)=>{const r=`
    Based on the following learning objectives: ${JSON.stringify(a)}
    Please generate a short, natural English conversation (at least 3 lines, but more is better if appropriate, 2 speakers) about the topic "${t}" (use English translation if topic is not English) appropriate for "${e.name}" level learners (${e.description}).
    Language complexity and vocabulary should match: "${e.description}".
    Output MUST be a valid JSON array, e.g.:
    [
      { "speaker": "Speaker A", "line": "Hello! Let's talk about ${t}." },
      { "speaker": "Speaker B", "line": "Great idea! What's the first thing we should discuss regarding ${t}?" },
      { "speaker": "Speaker A", "line": "Perhaps we can start with..." },
      { "speaker": "Speaker B", "line": "I think examples would help." }
    ]
    Do NOT include any explanation or extra text. Only output the JSON array.
  `;return await We(r,i)},Cx=async(t,e,i)=>{const a=`
    Based on the topic "${t}" and learning objectives: ${JSON.stringify(i)}
    Please generate 3-4 learning levels that are specific to this topic. Each level should have a unique name, description, and order.
    The levels should progress from basic understanding to advanced mastery, tailored specifically to the subject matter.
    
    Output MUST be a valid JSON object with this exact structure:
    {
      "suggestedLevels": [
        {
          "id": "beginner",
          "name": "",
          "description": "${t}",
          "order": 1
        },
        {
          "id": "intermediate", 
          "name": "",
          "description": "${t}",
          "order": 2
        },
        {
          "id": "advanced",
          "name": "", 
          "description": "${t}",
          "order": 3
        }
      ],
      "defaultLevelId": "beginner"
    }
    
    Make sure to:
    1. Create level names and descriptions that are specific to the topic (not generic)
    2. Use appropriate terminology for the subject area
    3. Ensure descriptions explain what learners at each level can do
    4. Use the primary language of the topic for names and descriptions
    
    Do NOT include any explanation or extra text. Only output the JSON object.
  `;return await We(a,e)},D4=t=>{const e=["english","grammar","vocabulary","pronunciation","speaking","writing","reading","listening","conversation","toefl","ielts","toeic","english literature","business english","academic english","phrasal verbs","idioms","prepositions","tenses","articles","adjectives","adverbs","nouns","verbs","","","","","","","","","","","","","","","","","","","","","","","","",""],i=t.toLowerCase();return e.some(a=>i.includes(a.toLowerCase()))},j4=async(t,e)=>{if(!e)throw new Error("Gemini API ");const i=await wx(t,e);return await Cx(t,e,i)},I4=async(t,e,i)=>{if(!i)throw new Error("Gemini API ");const a=await E4(t,e,i),[r,l,m,p,x,g]=await Promise.all([A4(t,e,i,a),_4(t,e,i,a),M4(t,e,i,a),k4(t,e,i,a),R4(t,e,i,a),wd(t,i,a,e)]);return{learningObjectives:a,contentBreakdown:r,confusingPoints:l,classroomActivities:m,onlineInteractiveQuiz:p,englishConversation:x,writingPractice:g}},L4=async(t,e,i,a)=>{if(!a)throw new Error("Gemini API ");const r=await U4(t,e,i,a),[l,m,p,x,g,v]=await Promise.all([P4(t,e,i,a,r),B4(t,e,i,a,r),O4(t,e,i,a,r),V4(t,e,i,a,r),q4(t,e,i,a,r),wd(t,a,r,e,i)]);return{learningObjectives:r,contentBreakdown:l,confusingPoints:m,classroomActivities:p,onlineInteractiveQuiz:x,englishConversation:g,writingPractice:v}},U4=async(t,e,i,a)=>{const r=`
    Please generate at least 3 (but more is better if appropriate) clear and distinct learning objectives for the topic: "${t}" appropriate for learning level "${e.name}" (${e.description}) and English vocabulary level "${i.name}" (${i.wordCount} words: ${i.description}).
    The objectives should be based on scaffolding theory and gamification, written in the primary language of the topic, and tailored to both the learner's level and vocabulary constraints.
    For each objective, provide the objective statement, a detailed description, and a concrete teaching example (such as a sample sentence, scenario, or application).
    
    CRITICAL VOCABULARY CONSTRAINTS for English content:
    - All English text must use vocabulary within the ${i.wordCount} most common English words
    - Adjust language complexity to match ${i.description}
    - Avoid advanced vocabulary that exceeds this level
    
    Output MUST be a valid JSON array of objects, e.g.:
    [
      { 
        "objective": "${t}${e.name}${i.wordCount}", 
        "description": "${e.name}${i.name}...", 
        "teachingExample": "${i.wordCount}..." 
      },
      { 
        "objective": "${t}${e.name}${i.name}", 
        "description": "...", 
        "teachingExample": "${i.wordCount}..." 
      },
      { 
        "objective": "${t}", 
        "description": "...", 
        "teachingExample": "..." 
      },
      //...or more items
    ]
    Do NOT include any explanation or extra text. Only output the JSON array.
  `;return await We(r,a)},P4=async(t,e,i,a,r)=>{const l=/english|||grammar|vocabulary|pronunciation|speaking|listening|reading|writing/i.test(t),m=`
    Based on the following learning objectives: ${JSON.stringify(r)}
    Please break down the topic "${t}" into at least 3 (but more is better if appropriate) micro-units appropriate for "${e.name}" level learners (${e.description}) with English vocabulary level "${i.name}" (${i.wordCount} words: ${i.description}).
    
    CRITICAL VOCABULARY CONSTRAINTS for English content:
    - All English text must use vocabulary within the ${i.wordCount} most common English words
    - Teaching examples should match ${i.description}
    - Avoid complex words that exceed this vocabulary level
    - Sentence structures should be appropriate for ${i.name} learners
    
    ${l?`
    SPECIAL REQUIREMENTS FOR ENGLISH LEARNING TOPICS:
    For each breakdown item, also include:
    - coreConcept:  (core learning concept for this point)
    - teachingSentences: 3-5${i.wordCount} (array of 3-5 teaching sentences using vocabulary within ${i.wordCount} words)
    - teachingTips:  (teaching tips and explanations)
    
    Output format for English learning topics:
    [
      {
        "topic": "${i.name}A", 
        "details": "A${i.wordCount}...", 
        "teachingExample": "A${i.name}...",
        "coreConcept": "...",
        "teachingSentences": ["Simple example 1", "Easy sentence 2", "Basic example 3"],
        "teachingTips": "..."
      }
    ]
    `:`
    Standard output format:
    [
      { "topic": "${i.name}A", "details": "A${i.wordCount}...", "teachingExample": "A${i.name}..." }
    ]
    `}
    
    Do NOT include any explanation or extra text. Only output the JSON array.
  `;return await We(m,a)},B4=async(t,e,i,a,r)=>{const l=`
    Based on the following learning objectives: ${JSON.stringify(r)}
    Generate at least 3 (but more is better if appropriate) comprehensive analysis of common misconceptions or difficulties that "${e.name}" level learners (${e.description}) with English vocabulary level "${i.name}" (${i.wordCount} words: ${i.description}) may have with "${t}".
    
    CRITICAL VOCABULARY CONSTRAINTS for English content:
    - All explanations must use vocabulary within the ${i.wordCount} most common English words
    - Examples should be appropriate for ${i.description}
    - Focus on confusion points that arise specifically at this vocabulary level
    
    Output MUST be a valid JSON array with the following comprehensive structure:
    [
      {
        "point": "${i.name}",
        "clarification": "${i.wordCount}",
        "teachingExample": "${i.name}",
        "errorType": " (///)",
        "commonErrors": ["1", "2", "3"],
        "correctVsWrong": [
          {
            "correct": "${i.wordCount}",
            "wrong": "",
            "explanation": ""
          }
        ],
        "preventionStrategy": "${i.name}",
        "correctionMethod": "",
        "practiceActivities": ["1", "2", "3"]
      }
    ]
    
    All English content must stay within the ${i.wordCount} word vocabulary limit and match ${e.description}.
    Do NOT include any explanation or extra text. Only output the JSON array.
  `;return await We(l,a)},O4=async(t,e,i,a,r)=>{const l=`
    Based on the following learning objectives: ${JSON.stringify(r)}
    Suggest at least 3 (but more is better if appropriate) engaging, interactive classroom activities (preferably game-like) for the topic "${t}" suitable for "${e.name}" level learners (${e.description}) with English vocabulary level "${i.name}" (${i.wordCount} words: ${i.description}).
    
    CRITICAL VOCABULARY CONSTRAINTS for English content:
    - Activity instructions must use vocabulary within the ${i.wordCount} most common English words
    - Activity content should match ${i.description}
    - Consider vocabulary limitations when designing complexity
    
    For each activity, provide the following comprehensive fields:
      - title: / (The name of the activity)
      - description:  (Brief description of the core concept)
      - objective:  (Main learning goal or purpose)
      - timing:  (When to use: lesson introduction, during unit, after unit, review, etc.)
      - materials:  (Required tools, materials, or props)
      - environment:  (Seating arrangement, space needs, equipment conditions)
      - steps:  (Step-by-step process of teacher-student interactions as array)
      - assessmentPoints:  (Learning effectiveness observation and assessment criteria as array)
    
    Output MUST be a valid JSON array of objects, e.g.:
    [
      {
        "title": "${i.name}1",
        "description": "1${i.wordCount}...",
        "objective": "1${i.name}...",
        "timing": "//...",
        "materials": "...",
        "environment": "...",
        "steps": ["1: ...", "2: ...", "3: ..."],
        "assessmentPoints": ["", "", ""]
      },
      // ... more items
    ]
    Do NOT include any explanation or extra text. Only output the JSON array.
  `;return await We(l,a)},V4=async(t,e,i,a,r)=>{const l=`
    Based on the following learning objectives: ${JSON.stringify(r)}
    Please generate quiz content for "${t}" suitable for learning level "${e.name}" (${e.description}) and English vocabulary level "${i.name}" (${i.wordCount} words: ${i.description}).
    
    CRITICAL VOCABULARY CONSTRAINTS for English content:
    - All English text in quiz questions, options, and examples must use vocabulary within the ${i.wordCount} most common English words
    - Sentence structures should be appropriate for ${i.description}
    - Avoid advanced vocabulary that exceeds this level
    
    Output in the following JSON structure (no explanation, no extra text):
    {
      "easy": {
        "trueFalse": [
          { "statement": "1...", "isTrue": true, "explanation": "1" },
          { "statement": "2...", "isTrue": false, "explanation": "2" }
          // ...  5 
        ],
        "multipleChoice": [
          { "question": "1...", "options": ["A", "B", "C"], "correctAnswerIndex": 0 },
          { "question": "2...", "options": ["A", "B", "C"], "correctAnswerIndex": 1 }
          // ...  5 
        ],
        "fillInTheBlanks": [
          { "sentenceWithBlank": "1...____...", "correctAnswer": "1" },
          { "sentenceWithBlank": "2...____...", "correctAnswer": "2" }
          // ...  5 
        ],
        "sentenceScramble": [
          { "originalSentence": "1...", "scrambledWords": ["...", "...", "..."] },
          { "originalSentence": "2...", "scrambledWords": ["...", "...", "..."] }
          // ...  5 
        ],
        "memoryCardGame": [
          {
            "pairs": [
              { "question": "1", "answer": "1" },
              { "question": "2", "answer": "2" },
              { "question": "3", "answer": "3" },
              { "question": "4", "answer": "4" },
              { "question": "5", "answer": "5" }
              // ...  5 
            ],
            "instructions": ""
          }
        ]
      },
      "normal": { /* same structure as easy, memoryCardGame  1 pairs  5  */ },
      "hard": { /* same structure as easy, memoryCardGame  1 pairs  5  */ }
    }
    For each quiz type (trueFalse, multipleChoice, fillInTheBlanks, sentenceScramble), generate at least 5 questions per difficulty level (easy, normal, hard), but more is better if appropriate.
    For memoryCardGame, generate ONLY 1 question per difficulty, but the "pairs" array inside must contain at least 5 pairs (each pair is a related concept, word/definition, Q&A, or translation relevant to '${t}'), and more is better if appropriate.
    Each memoryCardGame question should include clear "instructions" for the matching task.
    All text must be in the primary language of the topic. For English learning topics, limit English vocabulary to ${i.wordCount} most common words. Only output the JSON object, no explanation or extra text.
  `;return await We(l,a)},q4=async(t,e,i,a,r)=>{const l=`
    Based on the following learning objectives: ${JSON.stringify(r)}
    Please generate a short, natural English conversation (at least 3 lines, but more is better if appropriate, 2 speakers) about the topic "${t}" (use English translation if topic is not English) appropriate for "${e.name}" level learners (${e.description}) with English vocabulary level "${i.name}" (${i.wordCount} words: ${i.description}).
    
    CRITICAL VOCABULARY CONSTRAINTS:
    - Use ONLY vocabulary within the ${i.wordCount} most common English words
    - Sentence structures must be appropriate for ${i.description}
    - Conversation complexity should match ${i.name} level
    - Avoid advanced vocabulary that exceeds this level
    - Keep sentences simple and clear for ${i.name} learners
    
    Output MUST be a valid JSON array, e.g.:
    [
      { "speaker": "Speaker A", "line": "Hello! Let's talk about ${t} using simple words for ${i.name} level." },
      { "speaker": "Speaker B", "line": "Great idea! What should we discuss first about ${t}?" },
      { "speaker": "Speaker A", "line": "Perhaps we can start with..." },
      { "speaker": "Speaker B", "line": "I think examples would help." }
    ]
    Do NOT include any explanation or extra text. Only output the JSON array.
  `;return await We(l,a)},$4=async(t,e)=>{if(!e)throw new Error("Gemini API ");const i=await wx(t,e),[a,r,l,m,p,x,g]=await Promise.all([w4(t,e,i),C4(t,e,i),S4(t,e,i),T4(t,e,i),N4(t,e,i),Cx(t,e,i),wd(t,e,i)]);return{learningObjectives:i,contentBreakdown:a,confusingPoints:r,classroomActivities:l,onlineInteractiveQuiz:m,englishConversation:p,learningLevels:x,writingPractice:g}},z4=t=>{const e=i=>({trueFalse:Math.max(0,Math.min(i.trueFalse,Ri.trueFalse)),multipleChoice:Math.max(0,Math.min(i.multipleChoice,Ri.multipleChoice)),fillInTheBlanks:Math.max(0,Math.min(i.fillInTheBlanks,Ri.fillInTheBlanks)),sentenceScramble:Math.max(0,Math.min(i.sentenceScramble,Ri.sentenceScramble)),memoryCardGame:Math.max(0,Math.min(i.memoryCardGame,Ri.memoryCardGame))});return{easy:e(t.easy),normal:e(t.normal),hard:e(t.hard)}},H4=async(t,e,i,a,r,l)=>{const m=z4(a),p=async b=>{const w=m[b];let S="";r&&(S=`${r.name} (${r.description}) `);let T="";l&&(T=`
      CRITICAL VOCABULARY CONSTRAINTS for English content:
      - All English text must use vocabulary within the ${l.wordCount} most common English words
      - Examples should be appropriate for ${l.description}
      `);const E=`
      Based on the following learning objectives: ${JSON.stringify(i)}
      Please generate ${S}quiz content for "${t}" with the following specific quantities:
      
      - True/False questions: ${w.trueFalse} questions
      - Multiple choice questions: ${w.multipleChoice} questions  
      - Fill in the blanks questions: ${w.fillInTheBlanks} questions
      - Sentence scramble questions: ${w.sentenceScramble} questions
      - Memory card game questions: ${w.memoryCardGame} questions
      
      ${T}
      
      Output MUST be a valid JSON object with this exact structure:
      {
        "trueFalse": [${w.trueFalse>0?`
          { "statement": "", "isTrue": true, "explanation": "" }
          //  ${w.trueFalse} `:"//  0 "}],
        "multipleChoice": [${w.multipleChoice>0?`
          { "question": "", "options": ["A", "B", "C", "D"], "correctAnswerIndex": 0 }
          //  ${w.multipleChoice} `:"//  0 "}],
        "fillInTheBlanks": [${w.fillInTheBlanks>0?`
          { "sentenceWithBlank": " ____ ", "correctAnswer": "" }
          //  ${w.fillInTheBlanks} `:"//  0 "}],
        "sentenceScramble": [${w.sentenceScramble>0?`
          { "originalSentence": "", "scrambledWords": ["", "", "", ""] }
          //  ${w.sentenceScramble} `:"//  0 "}],
        "memoryCardGame": [${w.memoryCardGame>0?`
          { "pairs": [{"question": "", "answer": ""}, ...], "instructions": "" }
          //  ${w.memoryCardGame}  5 `:"//  0 "}]
      }
      
      IMPORTANT: 
      - Generate EXACTLY the number of questions specified for each type (supports up to 10 questions for most types, 2 for memory card games)
      - If a question type is set to 0, provide an empty array []
      - For memoryCardGame, each question should contain at least 5 pairs in the "pairs" array
      - Maximum limits: trueFalse/multipleChoice/fillInTheBlanks/sentenceScramble up to 10 questions, memoryCardGame up to 2 questions
      - All text must be in the primary language of the topic
      - Do NOT include any explanation or extra text, only output the JSON object
    `;return await We(E,e)},[x,g,v]=await Promise.all([p("easy"),p("normal"),p("hard")]);return{easy:x,normal:g,hard:v}},G4=async(t,e,i,a,r,l)=>await H4(t,e,i,a,r,l),wd=async(t,e,i,a,r)=>{const l=`
    Based on the topic "${t}" and learning objectives: ${JSON.stringify(i)}
    Generate 6 sentence-making practice prompts (2 easy, 2 normal, 2 hard difficulty).
    
    ${a?`The content should be suitable for "${a.name}" level learners (${a.description}).`:""}
    ${r?`
    VOCABULARY CONSTRAINTS for English content:
    - All instructions and keywords must use vocabulary within the ${r.wordCount} most common English words
    - Examples should be appropriate for ${r.description}
    `:""}
    
    Output MUST be a valid JSON array:
    [
      {
        "id": "sentence_1",
        "instruction": "",
        "keywords": ["1", "2", "3"],
        "exampleSentence": "",
        "hints": ["1", "2"],
        "difficulty": "easy"
      }
    ]
    
    Requirements:
    - Each prompt should include 2-4 keywords that must be used
    - Provide clear instructions in the primary language of the topic
    - Include helpful hints for sentence construction
    - Example sentences should demonstrate proper usage
    - Progressive difficulty from easy to hard
    
    Do NOT include explanation, only output the JSON array.
  `,m=`
    Based on the topic "${t}" and learning objectives: ${JSON.stringify(i)}
    Generate 6 writing practice prompts (2 easy, 2 normal, 2 hard difficulty).
    
    ${a?`The content should be suitable for "${a.name}" level learners (${a.description}).`:""}
    ${r?`
    VOCABULARY CONSTRAINTS for English content:
    - All instructions and suggested keywords must use vocabulary within the ${r.wordCount} most common English words
    - Writing requirements should match ${r.description}
    `:""}
    
    Output MUST be a valid JSON array:
    [
      {
        "id": "writing_1", 
        "title": "",
        "instruction": "",
        "structure": ["1", "2", "3"],
        "keywords": ["1", "2"],
        "minLength": 100,
        "maxLength": 300,
        "exampleOutline": "",
        "difficulty": "easy"
      }
    ]
    
    Requirements:
    - Easy: 100-200 words, simple structure
    - Normal: 200-400 words, moderate complexity  
    - Hard: 300-600 words, complex structure
    - Provide clear writing guidelines and structure suggestions
    - Include relevant vocabulary recommendations
    - All text in the primary language of the topic
    
    Do NOT include explanation, only output the JSON array.
  `,[p,x]=await Promise.all([We(l,e),We(m,e)]);return{sentencePractice:p,writingPractice:x,instructions:"AI"}},F4=async(t,e,i,a,r)=>{const l=/[a-zA-Z]/.test(t),m=l?"English":"Chinese",p=`
    Please provide detailed feedback for this ${e} practice work:
    
    Original Prompt: ${JSON.stringify(i)}
    Student Work: "${t}"
    
    ${r&&l?`
    VOCABULARY LEVEL CONTEXT:
    - Target level: ${r.name} (${r.wordCount} words: ${r.description})
    - Evaluate if vocabulary usage matches this level
    `:""}
    
    Provide comprehensive feedback in JSON format:
    {
      "score": 85,
      "strengths": ["1", "2"],
      "improvements": ["1", "2"],
      "grammarCorrections": [
        {
          "original": "",
          "corrected": "", 
          "explanation": ""
        }
      ],
      "vocabularyTips": ["1", "2"],
      "structureFeedback": "",
      "overallComment": ""
    }
    
    Evaluation Criteria:
    - Content relevance and completion of requirements
    - Grammar and language accuracy
    - Vocabulary usage and variety
    - Structure and organization (for writing)
    - Creativity and expression
    
    ${e==="sentence"?`
    For sentence practice:
    - Check if required keywords are used correctly
    - Evaluate sentence structure and grammar
    - Assess creativity in sentence construction
    `:`
    For writing practice:
    - Evaluate if word count requirements are met
    - Assess paragraph structure and flow
    - Check adherence to suggested outline
    - Evaluate argument development and coherence
    `}
    
    Provide feedback in Traditional Chinese for better understanding.
    Be encouraging and constructive. Score range: 0-100.
    
    Do NOT include explanation, only output the JSON object.
  `;return await We(p,a)},Y4=({topic:t,setTopic:e,onGenerate:i,onGenerateWithLevels:a,isLoading:r})=>{const l=p=>{p.preventDefault(),!r&&t.trim()&&i()},m=p=>{p.preventDefault(),!r&&t.trim()&&a&&a()};return u.jsxs("form",{onSubmit:l,className:"mb-8 p-6 bg-white shadow-lg rounded-xl",children:[u.jsx("label",{htmlFor:"topic-input",className:"block text-xl font-semibold text-slate-700 mb-3",children:""}),u.jsxs("div",{className:"flex flex-col space-y-3",children:[u.jsx("input",{id:"topic-input",type:"text",value:t,onChange:p=>e(p.target.value),placeholder:"JavaScript Promises",className:"w-full p-3 border border-slate-400 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-600 transition-shadow bg-slate-50 text-slate-800 placeholder-slate-500",disabled:r,"aria-label":""}),u.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3",children:[a&&u.jsx("button",{type:"button",onClick:m,disabled:r||!t.trim(),className:"flex-1 px-6 py-3 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50 transition-colors disabled:bg-slate-400 disabled:cursor-not-allowed flex items-center justify-center",children:r?u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"..."]}):" "}),u.jsx("button",{type:"submit",disabled:r||!t.trim(),className:"flex-1 px-6 py-3 bg-sky-600 text-white font-semibold rounded-lg hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-opacity-50 transition-colors disabled:bg-slate-400 disabled:cursor-not-allowed flex items-center justify-center","aria-live":"polite",children:r?u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"..."]}):" "})]}),a&&u.jsxs("div",{className:"text-sm text-slate-600 bg-slate-50 p-3 rounded-lg",children:[u.jsxs("p",{children:[u.jsx("strong",{children:" "})," "]}),u.jsxs("p",{children:[u.jsx("strong",{children:" "})," "]})]})]})]})},Li=()=>u.jsxs("div",{className:"flex flex-col items-center justify-center space-y-2",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-sky-600"}),u.jsx("p",{className:"text-sky-700",children:"..."})]}),Wt=({title:t,icon:e,children:i,className:a})=>u.jsxs("div",{className:`bg-white shadow-lg rounded-xl p-6 mb-6 ${a||""}`,children:[u.jsxs("h2",{className:"text-2xl font-semibold text-sky-700 mb-4 flex items-center",children:[e&&u.jsx("span",{className:"mr-3 text-sky-600",children:e}),t]}),u.jsx("div",{className:"text-slate-700 space-y-3",children:i})]}),Fo=async(t,e)=>{const i=new vx({apiKey:e}),a="gemini-2.5-flash";try{const r=await i.models.generateContent({model:a,contents:t,config:{responseMimeType:"application/json"}});if(!r.text)throw new Error("AI  API ");let l=r.text.trim();const m=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,p=l.match(m);if(p&&p[2]&&(l=p[2].trim()),!l.startsWith("{")&&!l.startsWith("[")&&(l.includes("{")||l.includes("["))){const x=l.indexOf("{"),g=l.indexOf("[");let v=-1,b=-1;x!==-1&&(g===-1||x<g)?(v=x,b=l.lastIndexOf("}")):g!==-1&&(v=g,b=l.lastIndexOf("]")),v!==-1&&b!==-1&&b>v&&(l=l.substring(v,b+1))}try{return JSON.parse(l)}catch{throw console.error("AI  (JSON parse ):",r.text),new Error("AI  ( JSON)")}}catch(r){let l="";throw r instanceof Error&&(l+=`  ${r.message}`),new Error(l)}},Z4=t=>{const e=new Map;return t.forEach(i=>{e.has(i.questionType)||e.set(i.questionType,{questionType:i.questionType,totalQuestions:0,correctCount:0,accuracy:0,averageTime:0,commonErrors:[],difficultyBreakdown:{easy:{total:0,correct:0,accuracy:0},normal:{total:0,correct:0,accuracy:0},hard:{total:0,correct:0,accuracy:0}}})}),t.forEach(i=>{const a=e.get(i.questionType);a.totalQuestions++,i.isCorrect&&a.correctCount++;const r=a.difficultyBreakdown[i.difficulty];r.total++,i.isCorrect&&r.correct++,r.accuracy=r.total>0?Math.round(r.correct/r.total*100):0}),e.forEach(i=>{i.accuracy=i.totalQuestions>0?Math.round(i.correctCount/i.totalQuestions*100):0;const r=t.filter(l=>l.questionType===i.questionType).filter(l=>l.responseTime).map(l=>l.responseTime);i.averageTime=r.length>0?Math.round(r.reduce((l,m)=>l+m,0)/r.length):void 0}),Array.from(e.values())},Sx=t=>{if(t.length===0)return 0;const e=t.filter(i=>i.isCorrect).length;return Math.round(e/t.length*100)},J4=t=>t>=80?"advanced":t>=60?"intermediate":"beginner",Q4=async(t,e,i,a)=>{const r=e.filter(g=>!g.isCorrect),l=e.filter(g=>g.isCorrect),m=r.map(g=>`
    : ${g.questionType}
    : ${g.difficulty}
    : ${JSON.stringify(g.userAnswer)}
    : ${JSON.stringify(g.correctAnswer)}
    : ${g.attempts||1}`).join(`
`),p=l.map(g=>`
    : ${g.questionType}
    : ${g.difficulty}
    : ${JSON.stringify(g.userAnswer)}`).join(`
`),x=`
    ${t}
    
    
    - ${l.length}
    - ${r.length}
    - ${Math.round(l.length/e.length*100)}%
    
    ${m}
    
    ${p}
    
     JSON 
    {
      "strengths": [
        {
          "area": "",
          "description": "",
          "level": "good|excellent|outstanding",
          "examples": [""],
          "leverageOpportunities": [""]
        }
      ],
      "weaknesses": [
        {
          "area": "",
          "description": "",
          "severity": "low|medium|high",
          "affectedTopics": [""],
          "recommendedActions": [""]
        }
      ],
      "learningStyle": "",
      "cognitivePattern": ""
    }
    
    
  `;try{return await Fo(x,a)}catch(g){return console.error("AI :",g),{strengths:[],weaknesses:[],learningStyle:"",cognitivePattern:""}}},K4=async(t,e,i,a,r,l)=>{const m=`
    Generate personalized learning recommendations for a student based on their performance analysis.
    
    Context:
    - Topic: "${t}"
    - Overall Score: ${e}%
    - Learning Level: ${i}
    - Key Strengths: ${a.map(p=>p.area).join(", ")}
    - Areas for Improvement: ${r.map(p=>p.area).join(", ")}
    
    Please provide 3-5 personalized recommendations in the following JSON structure (no explanation, no extra text):
    {
      "recommendations": [
        {
          "category": "immediate|short-term|long-term",
          "priority": "high|medium|low",
          "title": "",
          "description": "",
          "actionSteps": ["1", "2"],
          "expectedOutcome": "",
          "estimatedTime": "",
          "resources": [""]
        }
      ]
    }
    
    Focus on actionable, specific recommendations that consider the student's current level and identified strengths/weaknesses.
    Respond in Traditional Chinese ().
  `;try{return(await Fo(m,l)).recommendations||[]}catch(p){return console.error("AI :",p),[]}},W4=async(t,e,i,a,r,l,m,p,x)=>{const v=((x==null?void 0:x.filter(w=>!w.isCorrect))||[]).map(w=>`
  - ${w.questionType} (: ${w.difficulty}): ${JSON.stringify(w.userAnswer)}${JSON.stringify(w.correctAnswer)}`).join(""),b=`
    ${t}
    
    
    - ${e}%
    - ${i}
    - ${r.map(w=>w.area).join("")}
    - ${l.map(w=>w.area).join("")}
    
    ${v}
    
     JSON 
    {
      "encouragementMessage": "",
      "keyStrengths": ["", "", ""],
      "improvementAreas": ["", ""],
      "nextSteps": ["", "", ""],
      "studyTips": ["", "", ""],
      "motivationalQuote": ""
    }
    
    
    
  `;try{const w=await Fo(b,m);return{studentId:p,overallScore:e,overallLevel:i,encouragementMessage:w.encouragementMessage||"",keyStrengths:w.keyStrengths||[],improvementAreas:w.improvementAreas||[],nextSteps:w.nextSteps||[],studyTips:w.studyTips||[],motivationalQuote:w.motivationalQuote||""}}catch(w){return console.error("AI :",w),{studentId:p,overallScore:e,overallLevel:i,encouragementMessage:"",keyStrengths:["",""],improvementAreas:[""],nextSteps:["","",""],studyTips:["","",""],motivationalQuote:""}}},X4=async(t,e,i,a,r,l,m)=>{const x=((m==null?void 0:m.filter(v=>!v.isCorrect))||[]).map(v=>`
  - : ${v.questionType}, : ${v.difficulty}
    : ${JSON.stringify(v.userAnswer)}
    : ${JSON.stringify(v.correctAnswer)}
    : ${v.attempts||1}`).join(""),g=`
    ${t}
    
    
    - ${e}%
    - ${a.map(v=>v.area).join("")}
    - ${r.map(v=>v.area).join("")}
    - ${i.map(v=>`${v.questionType}: ${v.accuracy}%`).join("")}
    
    ${x}
    
     JSON 
    {
      "immediateInterventions": ["", ""],
      "instructionalStrategies": ["", "", ""],
      "differentiation": ["", ""],
      "parentGuidance": ["", ""]
    }
    
    
    
  `;try{const v=await Fo(g,l);return{immediateInterventions:v.immediateInterventions||[],instructionalStrategies:v.instructionalStrategies||[],differentiation:v.differentiation||[],parentGuidance:v.parentGuidance||[]}}catch(v){return console.error("AI :",v),{immediateInterventions:[],instructionalStrategies:[],differentiation:[],parentGuidance:[]}}},e3=async(t,e,i={includeDetailedAnalysis:!0,includeComparativeData:!1,includeVisualCharts:!1,language:"zh-TW",reportFormat:"standard"})=>{try{const a=Z4(t.responses),r=Sx(t.responses),l=J4(r),m=await Q4(t.topic,t.responses,a,e),p=await K4(t.topic,r,l,m.strengths,m.weaknesses,e),x=await W4(t.topic,r,l,a,m.strengths,m.weaknesses,e,t.studentId,t.responses),g=await X4(t.topic,r,a,m.strengths,m.weaknesses,e,t.responses),v={studentId:t.studentId,assessmentDate:new Date().toISOString(),topic:t.topic,overallPerformance:{totalScore:r,level:l,timeSpent:t.endTime&&t.startTime?Math.round((new Date(t.endTime).getTime()-new Date(t.startTime).getTime())/6e4):0},performanceByType:a,learningAnalysis:m,teachingRecommendations:g,personalizedRecommendations:p,progressTracking:{keyMetrics:["","",""],checkpoints:["","",""],reassessmentSuggestion:" 2-3 "}};return{session:t,studentFeedback:x,teacherReport:v,rawData:{responses:t.responses,statistics:a}}}catch(a){throw console.error(":",a),new Error("")}},Bo=(t,e)=>({sessionId:`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,studentId:e,topic:t,startTime:new Date().toISOString(),responses:[],isCompleted:!1,metadata:{userAgent:navigator.userAgent,deviceType:/Mobi|Android/i.test(navigator.userAgent)?"mobile":"desktop"}}),Eo=t=>({...t,endTime:new Date().toISOString(),isCompleted:!0}),rd=({className:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.31M8.25 18.75a12.064 12.064 0 0 0 7.5 0M12 6.75a2.25 2.25 0 1 1 0 4.5 2.25 2.5 0 0 1 0-4.5ZM12 6.75V3.75m0 3a12.022 12.022 0 0 0-5.483 1.348M12 6.75a12.022 12.022 0 0 1 5.483 1.348"})}),Oo=({className:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6-2.292m0 0V3.75m0 12.15V21"})}),Za=({className:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.25 7.756a4.5 4.5 0 1 0 0 8.488M7.5 10.5h5.25m-5.25 3h5.25M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),Ui=({className:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),Pi=({className:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),en=({className:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.627 48.627 0 0 1 12 20.904a48.627 48.627 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.57 50.57 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.697 50.697 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"})}),t3=({className:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m5.231 13.481L15 17.25m-4.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Zm3.75 11.625a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"})}),n3=({className:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"})}),i3=({className:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"})}),s3=({className:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18.75a6 6 0 0 0 6-6v-1.5m-6 7.5a6 6 0 0 1-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15c-1.13 0-2.25-.264-3.25-.73A4.505 4.505 0 0 1 5.25 9.75V8.25A6.75 6.75 0 0 1 12 1.5a6.75 6.75 0 0 1 6.75 6.75v1.5a4.505 4.505 0 0 1-3.5 4.52M12 15V8.25"})}),a3=({className:t})=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 9.563C9 9.254 9.254 9 9.563 9h4.874c.309 0 .563.254.563.563v4.874c0 .309-.254.563-.563.563H9.563A.562.562 0 0 1 9 14.437V9.564Z"})]}),od=({className:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-2.184-2.183a1.724 1.724 0 0 0-1.235-.517H7.72c-1.137 0-2.1-.847-2.193-1.98A11.974 11.974 0 0 1 5.5 13H4.75a2.25 2.25 0 0 1-2.25-2.25V6.75a2.25 2.25 0 0 1 2.25-2.25h4.718c.468 0 .92.052 1.354.143L12 6l2.454-2.454L16.5 6h1.252a2.25 2.25 0 0 1 2.25 2.25v.233Z"})}),Rs=({className:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"})}),ld=({className:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),xu=({className:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-11.314a2.25 2.25 0 1 0 3.935-2.186 2.25 2.25 0 0 0-3.935 2.186Z"})}),r3=({className:t})=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})}),l0=({className:t})=>u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]}),Tx=({question:t,itemNumber:e,onAnswer:i})=>{const[a,r]=M.useState(null),[l,m]=M.useState(null),[p,x]=M.useState(0);M.useEffect(()=>{r(null),m(null),x(Date.now())},[t]);const g=v=>{r(v);const b=v===t.isTrue;let w=b?"":"";b||(w+=` ${t.isTrue?" (True)":" (False)"}`),m({isCorrect:b,message:w,explanation:t.explanation});const S=p>0?Date.now()-p:void 0;i&&i(v,b,S)};return u.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg bg-slate-50 mb-3",children:[u.jsxs("p",{className:"font-medium text-slate-700 mb-2",children:[e,". ",t.statement||"..."]}),u.jsxs("div",{className:"flex space-x-3 mb-3",children:[u.jsx("button",{onClick:()=>g(!0),className:`px-6 py-2 rounded-md font-medium transition-all
            ${a===!0?l!=null&&l.isCorrect?"bg-green-500 text-white ring-2 ring-green-300":"bg-red-500 text-white ring-2 ring-red-300":"bg-slate-200 hover:bg-slate-300 text-slate-700"}
          `,"aria-pressed":a===!0,disabled:l!==null,children:" (True)"}),u.jsx("button",{onClick:()=>g(!1),className:`px-6 py-2 rounded-md font-medium transition-all
            ${a===!1?l!=null&&l.isCorrect?"bg-green-500 text-white ring-2 ring-green-300":"bg-red-500 text-white ring-2 ring-red-300":"bg-slate-200 hover:bg-slate-300 text-slate-700"}
          `,"aria-pressed":a===!1,disabled:l!==null,children:" (False)"})]}),l&&u.jsxs("div",{className:`mt-2 p-2 rounded-md text-sm flex flex-col items-start ${l.isCorrect?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[u.jsxs("div",{className:"flex items-center",children:[l.isCorrect?u.jsx(Ui,{className:"w-5 h-5 mr-2"}):u.jsx(Pi,{className:"w-5 h-5 mr-2"}),l.message]}),l.explanation&&u.jsx("p",{className:"mt-1 pl-7 text-xs italic",children:l.explanation})]})]})},Nx=({question:t,itemNumber:e,onAnswer:i})=>{const[a,r]=M.useState(null),[l,m]=M.useState(null),[p,x]=M.useState(0);M.useEffect(()=>{r(null),m(null),x(Date.now())},[t]);const g=()=>{if(a===null){m({isCorrect:!1,message:""});return}const v=a===t.correctAnswerIndex;m({isCorrect:v,message:v?"":` ${(t.options||[])[t.correctAnswerIndex]||""}`});const b=p>0?Date.now()-p:void 0;i&&i(a,v,b)};return u.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg bg-slate-50 mb-3",children:[u.jsxs("p",{className:"font-medium text-slate-700 mb-2",children:[e,". ",t.question]}),u.jsx("div",{className:"space-y-2 mb-3",children:(t.options||[]).map((v,b)=>u.jsxs("label",{className:`flex items-center p-2 border rounded-md cursor-pointer hover:bg-sky-50 transition-colors ${a===b?"bg-sky-100 border-sky-500":"border-slate-300"} ${l!==null?"cursor-not-allowed opacity-70":""}`,children:[u.jsx("input",{type:"radio",name:`mcq-${e}-${t.question}`,value:b,checked:a===b,onChange:()=>{l===null&&r(b)},className:"mr-2 h-4 w-4 text-sky-600 focus:ring-sky-500 border-slate-400",disabled:l!==null}),v]},b))}),u.jsx("button",{onClick:g,className:"px-4 py-2 bg-sky-500 text-white rounded-md hover:bg-sky-600 transition-colors disabled:bg-slate-400",disabled:l!==null||a===null,children:""}),l&&u.jsxs("div",{className:`mt-2 p-2 rounded-md text-sm flex items-center ${l.isCorrect?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[l.isCorrect?u.jsx(Ui,{className:"w-5 h-5 mr-2"}):u.jsx(Pi,{className:"w-5 h-5 mr-2"}),l.message]})]})},Ex=({question:t,itemNumber:e,onAnswer:i})=>{var b;const[a,r]=M.useState(""),[l,m]=M.useState(null),[p,x]=M.useState(0);M.useEffect(()=>{r(""),m(null),x(Date.now())},[t]);const g=w=>{if(w.preventDefault(),!a.trim()){m({isCorrect:!1,message:""});return}const S=a.trim().toLowerCase()===t.correctAnswer.toLowerCase();m({isCorrect:S,message:S?"":` ${t.correctAnswer}`});const T=p>0?Date.now()-p:void 0;i&&i(a.trim(),S,T)},v=((b=t.sentenceWithBlank)==null?void 0:b.split("____"))||["",""];return u.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg bg-slate-50 mb-3",children:[u.jsxs("form",{onSubmit:g,className:"space-y-2",children:[u.jsxs("label",{htmlFor:`fillblank-${e}-${t.sentenceWithBlank}`,className:"font-medium text-slate-700 mb-1 block",children:[e,". ",v[0],u.jsx("input",{id:`fillblank-${e}-${t.sentenceWithBlank}`,type:"text",value:a,onChange:w=>{l===null&&r(w.target.value)},className:"mx-1 p-1 border-b-2 border-slate-400 focus:border-sky-500 outline-none w-24 sm:w-32 bg-transparent",placeholder:"",disabled:l!==null}),v[1]]}),u.jsx("button",{type:"submit",className:"px-4 py-2 bg-sky-500 text-white rounded-md hover:bg-sky-600 transition-colors disabled:bg-slate-400",disabled:l!==null||!a.trim(),children:""})]}),l&&u.jsxs("div",{className:`mt-2 p-2 rounded-md text-sm flex items-center ${l.isCorrect?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[l.isCorrect?u.jsx(Ui,{className:"w-5 h-5 mr-2"}):u.jsx(Pi,{className:"w-5 h-5 mr-2"}),l.message]})]})},Ax=({question:t,itemNumber:e,onAnswer:i})=>{const[a,r]=M.useState([]),[l,m]=M.useState([]),[p,x]=M.useState(null),[g,v]=M.useState(0);M.useEffect(()=>{const E=t.scrambledWords||[];m([...E].sort(()=>Math.random()-.5)),r([]),x(null),v(Date.now())},[t]);const b=(E,A)=>{r([...a,E]);const _=[...l];_.splice(A,1),m(_),p&&x(null)},w=(E,A)=>{m([...l,E]);const _=[...a];_.splice(A,1),r(_),p&&x(null)},S=()=>{const E=t.scrambledWords||[];m([...E].sort(()=>Math.random()-.5)),r([]),p&&x(null)},T=()=>{const E=a.join(" ").trim(),A=U=>U.toLowerCase().replace(/[.,!?;:]/g,"").replace(/\s+/g," ").trim(),_=A(E)===A(t.originalSentence);x({isCorrect:_,message:_?"":` "${t.originalSentence}"`});const L=g>0?Date.now()-g:void 0;i&&i(E,_,L)};return u.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg bg-slate-50 mb-3",children:[u.jsxs("p",{className:"font-medium text-slate-700 mb-2",children:[e,". "]}),u.jsx("div",{className:"mb-3 p-3 border border-dashed border-slate-400 rounded-md min-h-[40px] bg-white flex flex-wrap gap-2",children:a.length>0?a.map((E,A)=>u.jsx("button",{onClick:()=>w(E,A),className:"px-2 py-1 bg-sky-200 text-sky-800 rounded-md hover:bg-sky-300 transition-colors",children:E},`${E}-${A}-constructed`)):u.jsx("span",{className:"text-slate-400 italic",children:""})}),u.jsx("div",{className:"mb-3 flex flex-wrap gap-2",children:l.map((E,A)=>u.jsx("button",{onClick:()=>b(E,A),className:"px-2 py-1 bg-slate-200 text-slate-700 rounded-md hover:bg-slate-300 transition-colors",children:E},`${E}-${A}-available`))}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("button",{onClick:T,className:"px-4 py-2 bg-sky-500 text-white rounded-md hover:bg-sky-600 transition-colors",children:""}),u.jsx("button",{onClick:S,className:"px-4 py-2 bg-slate-500 text-white rounded-md hover:bg-slate-600 transition-colors",children:""})]}),p&&u.jsxs("div",{className:`mt-3 p-2 rounded-md text-sm flex items-center ${p.isCorrect?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[p.isCorrect?u.jsx(Ui,{className:"w-5 h-5 mr-2"}):u.jsx(Pi,{className:"w-5 h-5 mr-2"}),p.message]})]})};function o3(t){const e=[...t];for(let i=e.length-1;i>0;i--){const a=Math.floor(Math.random()*(i+1));[e[i],e[a]]=[e[a],e[i]]}return e}const _x=({question:t,itemNumber:e,onAnswer:i})=>{const[a,r]=M.useState([]),[l,m]=M.useState([]),[p,x]=M.useState(0),[g,v]=M.useState(0),[b,w]=M.useState(!1),[S,T]=M.useState(0);M.useEffect(()=>{let _=0;const L=(t.pairs||[]).flatMap((U,O)=>[{id:_++,content:U.question,pairId:O,isFlipped:!1,isMatched:!1},{id:_++,content:U.answer,pairId:O,isFlipped:!1,isMatched:!1}]);r(o3(L)),m([]),x(0),v(0),w(!1),T(Date.now())},[t]);const E=_=>{if(a[_].isFlipped||a[_].isMatched||l.length===2||b)return;const L=a.map((O,F)=>F===_?{...O,isFlipped:!0}:O),U=[...l,_];if(r(L),m(U),U.length===2&&v(O=>O+1),U.length===2){const[O,F]=U;L[O].pairId===L[F].pairId?setTimeout(()=>{r(H=>H.map((j,z)=>z===O||z===F?{...j,isMatched:!0}:j)),m([]),x(H=>H+1)},600):setTimeout(()=>{r(H=>H.map((j,z)=>z===O||z===F?{...j,isFlipped:!1}:j)),m([])},900)}},A=p===(t.pairs||[]).length;return M.useEffect(()=>{if(A&&!b&&i){w(!0);const _=S>0?Date.now()-S:void 0;i(g,!0,_)}},[A,b,g,i,S]),u.jsxs("div",{className:"mb-4 p-4 border rounded bg-slate-50",children:[u.jsxs("div",{className:"font-semibold mb-2",children:[e,". "]}),t.instructions&&u.jsx("div",{className:"mb-2 text-sky-700 text-sm",children:t.instructions}),u.jsxs("div",{className:"mb-3 text-sm text-gray-600 flex justify-between items-center",children:[u.jsxs("span",{children:[": ",p,"/",(t.pairs||[]).length]}),u.jsxs("span",{children:[": ",g]}),A&&u.jsx("span",{className:"text-green-600 font-medium",children:" "})]}),u.jsx("div",{className:"grid grid-cols-4 gap-3 max-w-xl mx-auto mb-2",children:a.map((_,L)=>u.jsxs("button",{className:`relative h-20 w-full rounded shadow border transition-transform duration-200 ${_.isMatched?"bg-green-200 border-green-400":"bg-white border-slate-300"} ${_.isFlipped||_.isMatched?"":"hover:scale-105"}`,onClick:()=>E(L),disabled:_.isFlipped||_.isMatched||l.length===2,style:{perspective:"600px"},children:[u.jsx("div",{className:`absolute inset-0 flex items-center justify-center text-base font-medium transition-all duration-300 ${_.isFlipped||_.isMatched?"opacity-100 rotate-y-0":"opacity-0 rotate-y-180"}`,style:{backfaceVisibility:"hidden",transform:_.isFlipped||_.isMatched?"rotateY(0deg)":"rotateY(180deg)"},children:_.content}),u.jsx("div",{className:`absolute inset-0 flex items-center justify-center text-2xl font-bold text-sky-600 transition-all duration-300 ${_.isFlipped||_.isMatched?"opacity-0 rotate-y-180":"opacity-100 rotate-y-0"}`,style:{backfaceVisibility:"hidden",transform:_.isFlipped||_.isMatched?"rotateY(180deg)":"rotateY(0deg)"},children:"?"})]},_.id))}),A&&u.jsx("div",{className:"text-green-600 font-semibold mt-2",children:""})]})},Yo="https://api.jsonbin.io/v3/b",er="$2a$10$0PieG5Wm.V.6svtN4PbaTuVxU4LY0nL2Vaz4N3g2aYlb0cL1NG4Qa";async function Mx(t){const i=await(await fetch(Yo,{method:"POST",headers:{"Content-Type":"application/json","X-Master-Key":er,"X-Bin-Private":"false"},body:JSON.stringify(t)})).json();if(!i||!i.metadata||!i.metadata.id)throw new Error(" jsonbin id");return i.metadata.id}async function l3(t){const i=await(await fetch(`https://api.jsonbin.io/v3/b/${t}/latest`,{})).json();if(!i||!i.record)throw new Error("");return i.record}async function c3(t){const e={type:"quiz",quiz:t.quiz,topic:t.topic,apiKey:t.apiKey,metadata:t.metadata,createdAt:new Date().toISOString(),supportsDiagnostic:!!t.apiKey},a=await(await fetch(Yo,{method:"POST",headers:{"Content-Type":"application/json","X-Master-Key":er,"X-Bin-Private":"false"},body:JSON.stringify(e)})).json();if(!a||!a.metadata||!a.metadata.id)throw new Error("");return a.metadata.id}async function u3(t){const i=await(await fetch(`https://api.jsonbin.io/v3/b/${t}/latest`,{})).json();if(!i||!i.record)throw new Error("");const a=i.record;if(a.type!=="quiz")throw new Error("");return{quiz:a.quiz,topic:a.topic,apiKey:a.apiKey,supportsDiagnostic:a.supportsDiagnostic||!1,metadata:a.metadata}}async function d3(t){const e={type:"writing",writingPractice:t.writingPractice,topic:t.topic,metadata:t.metadata,createdAt:new Date().toISOString()},a=await(await fetch(Yo,{method:"POST",headers:{"Content-Type":"application/json","X-Master-Key":er,"X-Bin-Private":"false"},body:JSON.stringify(e)})).json();if(!a||!a.metadata||!a.metadata.id)throw new Error("");return a.metadata.id}async function f3(t){const i=await(await fetch(`https://api.jsonbin.io/v3/b/${t}/latest`,{})).json();if(!i||!i.record)throw new Error("");const a=i.record;if(a.type!=="writing")throw new Error("");return{writingPractice:a.writingPractice,topic:a.topic,metadata:a.metadata}}async function m3(t){const e={type:"student-results",...t,createdAt:new Date().toISOString()},a=await(await fetch(Yo,{method:"POST",headers:{"Content-Type":"application/json","X-Master-Key":er,"X-Bin-Private":"false"},body:JSON.stringify(e)})).json();if(!a||!a.metadata||!a.metadata.id)throw new Error("");return a.metadata.id}async function kx(t){const i=await(await fetch(`https://api.jsonbin.io/v3/b/${t}/latest`,{})).json();if(!i||!i.record)throw new Error("");const a=i.record;if(a.type!=="student-results")throw new Error("");return{studentName:a.studentName,topic:a.topic,difficulty:a.difficulty,responses:a.responses,overallScore:a.overallScore,completedAt:a.completedAt,quizBinId:a.quizBinId,quizContent:a.quizContent,metadata:a.metadata,diagnosticReport:a.diagnosticReport}}async function h3(t,e){const r={type:"student-results",...{...await kx(t),diagnosticReport:{...e,generatedAt:new Date().toISOString(),resultsBinId:t},updatedAt:new Date().toISOString()}},m=await(await fetch(`https://api.jsonbin.io/v3/b/${t}`,{method:"PUT",headers:{"Content-Type":"application/json","X-Master-Key":er},body:JSON.stringify(r)})).json();if(!m||!m.metadata)throw new Error("")}const p3=({feedback:t,onContinueLearning:e,onRetakeQuiz:i,showActions:a=!0})=>{const r=g=>g>=80?"text-green-600 bg-green-100":g>=60?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100",l=g=>g>=80?"border-green-200":g>=60?"border-yellow-200":"border-red-200",m=g=>{switch(g){case"advanced":return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8 text-green-600",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 0 0 7.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25s4.544.16 6.75.471v1.515M7.73 9.728a6.726 6.726 0 0 0 2.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.228V2.721A48.133 48.133 0 0 0 12 2.25c-2.291 0-4.544.16-6.75.471v1.515M7.73 9.728l3.75.814.97 4.286c.078.348.14.699.185 1.053m8.272-6.842-3.75.814-.97 4.286a24.216 24.216 0 0 1-.185 1.053M12 19.5a2.25 2.25 0 0 1-2.25-2.25V14.25m4.5 5.25a2.25 2.25 0 0 1 2.25-2.25V14.25"})});case"intermediate":return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8 text-yellow-600",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"})});default:return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8 text-blue-600",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443a55.381 55.381 0 0 1 5.25 2.882V15"})})}},p=g=>{switch(g){case"advanced":return"";case"intermediate":return"";default:return""}},x=g=>{switch(g){case"advanced":return"";case"intermediate":return"";default:return""}};return u.jsxs("div",{className:"max-w-4xl mx-auto p-6 bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 rounded-xl shadow-lg",children:[u.jsxs("div",{className:`text-center mb-8 p-6 bg-white rounded-lg shadow-md border-2 ${l(t.overallScore)}`,children:[u.jsxs("div",{className:"flex items-center justify-center mb-4",children:[m(t.overallLevel),u.jsx("div",{className:"ml-4",children:u.jsxs("div",{className:`text-4xl font-bold px-4 py-2 rounded-full ${r(t.overallScore)}`,children:[t.overallScore,""]})})]}),u.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:p(t.overallLevel)}),u.jsx("p",{className:"text-lg text-gray-600",children:x(t.overallLevel)})]}),u.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6 border-l-4 border-blue-500",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-blue-500 mt-1 flex-shrink-0",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"})}),u.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:t.encouragementMessage})]})}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[u.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[u.jsxs("h3",{className:"text-xl font-bold text-green-700 mb-4 flex items-center gap-2",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.745 3.745 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"})})," "]}),t.keyStrengths.length>0?u.jsx("ul",{className:"space-y-3",children:t.keyStrengths.map((g,v)=>u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-green-500 mt-1.5",children:""}),u.jsx("span",{className:"text-gray-700",children:g})]},v))}):u.jsx("p",{className:"text-gray-500 italic",children:""})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[u.jsxs("h3",{className:"text-xl font-bold text-orange-700 mb-4 flex items-center gap-2",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"})})," "]}),t.improvementAreas.length>0?u.jsx("ul",{className:"space-y-3",children:t.improvementAreas.map((g,v)=>u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-orange-500 mt-1.5",children:""}),u.jsx("span",{className:"text-gray-700",children:g})]},v))}):u.jsx("p",{className:"text-gray-500 italic",children:""})]})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[u.jsxs("h3",{className:"text-xl font-bold text-blue-700 mb-4 flex items-center gap-2",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"})})," "]}),t.nextSteps.length>0?u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.nextSteps.map((g,v)=>u.jsxs("div",{className:"flex items-start gap-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[u.jsx("span",{className:"bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold flex-shrink-0 mt-0.5",children:v+1}),u.jsx("span",{className:"text-gray-700",children:g})]},v))}):u.jsx("p",{className:"text-gray-500 italic",children:""})]}),u.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg shadow-md p-6 mb-6 border border-purple-200",children:[u.jsxs("h3",{className:"text-xl font-bold text-purple-700 mb-4 flex items-center gap-2",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"})})," "]}),t.studyTips.length>0?u.jsx("ul",{className:"space-y-2",children:t.studyTips.map((g,v)=>u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-purple-500 mt-1",children:""}),u.jsx("span",{className:"text-gray-700",children:g})]},v))}):u.jsx("p",{className:"text-gray-500 italic",children:""})]}),u.jsxs("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 rounded-lg shadow-lg p-6 text-center text-white mb-6",children:[u.jsx("div",{className:"flex items-center justify-center mb-3",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"})})}),u.jsxs("p",{className:"text-xl font-medium italic",children:['"',t.motivationalQuote,'"']})]}),a&&u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[u.jsxs("button",{onClick:e,className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all transform hover:scale-105 shadow-md flex items-center justify-center gap-2 font-medium",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12l-7.5 7.5M3 12h16.5"})}),""]}),u.jsxs("button",{onClick:i,className:"px-6 py-3 bg-gradient-to-r from-gray-600 to-gray-700 text-white rounded-lg hover:from-gray-700 hover:to-gray-800 transition-all transform hover:scale-105 shadow-md flex items-center justify-center gap-2 font-medium",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"})}),""]})]})]})},g3=({report:t,onExportReport:e,onSaveReport:i,showExportOptions:a=!0})=>{const[r,l]=M.useState("overview"),m=S=>S>=80?"text-green-600 bg-green-50 border-green-200":S>=60?"text-yellow-600 bg-yellow-50 border-yellow-200":"text-red-600 bg-red-50 border-red-200",p=S=>{switch(S){case"high":return"text-red-600 bg-red-100 border-red-200";case"medium":return"text-yellow-600 bg-yellow-100 border-yellow-200";case"low":return"text-blue-600 bg-blue-100 border-blue-200"}},x=S=>{switch(S){case"outstanding":return"text-purple-600 bg-purple-100 border-purple-200";case"excellent":return"text-green-600 bg-green-100 border-green-200";case"good":return"text-blue-600 bg-blue-100 border-blue-200"}},g=S=>{switch(S){case"high":return"text-red-600 bg-red-50 border-l-red-500";case"medium":return"text-yellow-600 bg-yellow-50 border-l-yellow-500";case"low":return"text-green-600 bg-green-50 border-l-green-500"}},v=S=>({trueFalse:"",multipleChoice:"",fillInTheBlanks:"",sentenceScramble:"",memoryCardGame:""})[S]||S,b=S=>new Date(S).toLocaleDateString("zh-TW",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),w=[{key:"overview",label:"",icon:""},{key:"performance",label:"",icon:""},{key:"analysis",label:"",icon:""},{key:"recommendations",label:"",icon:""},{key:"teaching",label:"",icon:""}];return u.jsxs("div",{className:"max-w-7xl mx-auto p-6 bg-gray-50 min-h-screen",children:[u.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:""}),u.jsxs("p",{className:"text-gray-600",children:["",u.jsx("span",{className:"font-semibold",children:t.topic})]}),u.jsxs("p",{className:"text-gray-600",children:["",b(t.assessmentDate)]}),t.studentId&&u.jsxs("p",{className:"text-gray-600",children:["ID",u.jsx("span",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded",children:t.studentId})]})]}),a&&u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("button",{onClick:i,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"})}),""]}),u.jsxs("button",{onClick:e,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})}),""]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[u.jsx("h3",{className:"text-sm font-semibold text-blue-700 mb-1",children:""}),u.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[t.overallPerformance.totalScore,""]})]}),u.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 border border-purple-200",children:[u.jsx("h3",{className:"text-sm font-semibold text-purple-700 mb-1",children:""}),u.jsx("p",{className:"text-lg font-semibold text-purple-600 capitalize",children:t.overallPerformance.level})]}),u.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[u.jsx("h3",{className:"text-sm font-semibold text-green-700 mb-1",children:""}),u.jsx("p",{className:"text-2xl font-bold text-green-600",children:t.learningAnalysis.strengths.length})]}),u.jsxs("div",{className:"bg-orange-50 rounded-lg p-4 border border-orange-200",children:[u.jsx("h3",{className:"text-sm font-semibold text-orange-700 mb-1",children:""}),u.jsx("p",{className:"text-2xl font-bold text-orange-600",children:t.learningAnalysis.weaknesses.length})]})]})]}),u.jsx("div",{className:"bg-white rounded-lg shadow-md mb-6",children:u.jsx("div",{className:"flex overflow-x-auto",children:w.map(S=>u.jsxs("button",{onClick:()=>l(S.key),className:`flex-shrink-0 px-6 py-4 font-medium text-sm border-b-2 transition-colors ${r===S.key?"border-blue-500 text-blue-600 bg-blue-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[u.jsx("span",{className:"mr-2",children:S.icon}),S.label]},S.key))})}),u.jsxs("div",{className:"space-y-6",children:[r==="overview"&&u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:""}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:""}),u.jsxs("span",{className:"font-semibold",children:[t.overallPerformance.totalScore,"/100"]})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:""}),u.jsx("span",{className:"font-semibold capitalize",children:t.overallPerformance.level})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:""}),u.jsxs("span",{className:"font-semibold",children:[t.overallPerformance.timeSpent," "]})]}),t.overallPerformance.percentile&&u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600",children:""}),u.jsxs("span",{className:"font-semibold",children:[" ",100-t.overallPerformance.percentile,"%"]})]})]})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:""}),u.jsxs("div",{className:"space-y-3",children:[t.learningAnalysis.learningStyle&&u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-600",children:""}),u.jsx("span",{className:"ml-2 font-semibold",children:t.learningAnalysis.learningStyle})]}),t.learningAnalysis.cognitivePattern&&u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-600",children:""}),u.jsx("span",{className:"ml-2 font-semibold",children:t.learningAnalysis.cognitivePattern})]}),u.jsx("div",{className:"pt-2",children:u.jsx("p",{className:"text-sm text-gray-500",children:""})})]})]})]}),r==="performance"&&u.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[u.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-6",children:""}),u.jsx("div",{className:"space-y-6",children:t.performanceByType.map(S=>u.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:v(S.questionType)}),u.jsxs("div",{className:`px-3 py-1 rounded-full text-sm font-medium border ${m(S.accuracy)}`,children:[S.accuracy,"% "]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-sm text-gray-600",children:""}),u.jsx("p",{className:"text-2xl font-bold text-gray-800",children:S.totalQuestions})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-sm text-gray-600",children:""}),u.jsx("p",{className:"text-2xl font-bold text-green-600",children:S.correctCount})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-sm text-gray-600",children:""}),u.jsx("p",{className:"text-2xl font-bold text-blue-600",children:S.averageTime?`${Math.round(S.averageTime/1e3)}`:"N/A"})]})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[u.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg border border-green-200",children:[u.jsx("p",{className:"text-xs text-green-700 font-medium",children:""}),u.jsxs("p",{className:"text-lg font-bold text-green-600",children:[S.difficultyBreakdown.easy.accuracy,"%"]}),u.jsxs("p",{className:"text-xs text-gray-600",children:[S.difficultyBreakdown.easy.correct,"/",S.difficultyBreakdown.easy.total]})]}),u.jsxs("div",{className:"text-center p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:[u.jsx("p",{className:"text-xs text-yellow-700 font-medium",children:""}),u.jsxs("p",{className:"text-lg font-bold text-yellow-600",children:[S.difficultyBreakdown.normal.accuracy,"%"]}),u.jsxs("p",{className:"text-xs text-gray-600",children:[S.difficultyBreakdown.normal.correct,"/",S.difficultyBreakdown.normal.total]})]}),u.jsxs("div",{className:"text-center p-3 bg-red-50 rounded-lg border border-red-200",children:[u.jsx("p",{className:"text-xs text-red-700 font-medium",children:""}),u.jsxs("p",{className:"text-lg font-bold text-red-600",children:[S.difficultyBreakdown.hard.accuracy,"%"]}),u.jsxs("p",{className:"text-xs text-gray-600",children:[S.difficultyBreakdown.hard.correct,"/",S.difficultyBreakdown.hard.total]})]})]}),S.commonErrors.length>0&&u.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[u.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:""}),u.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:S.commonErrors.map((T,E)=>u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-red-500 mt-1",children:""}),T]},E))})]})]},S.questionType))})]}),r==="analysis"&&u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[u.jsxs("h3",{className:"text-xl font-bold text-green-700 mb-4 flex items-center gap-2",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 0 0 7.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25s4.544.16 6.75.471v1.515M7.73 9.728a6.726 6.726 0 0 0 2.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.228V2.721A48.133 48.133 0 0 0 12 2.25c-2.291 0-4.544.16-6.75.471v1.515M7.73 9.728l3.75.814.97 4.286c.078.348.14.699.185 1.053m8.272-6.842-3.75.814-.97 4.286a24.216 24.216 0 0 1-.185 1.053M12 19.5a2.25 2.25 0 0 1-2.25-2.25V14.25m4.5 5.25a2.25 2.25 0 0 1 2.25-2.25V14.25"})}),""]}),u.jsx("div",{className:"space-y-4",children:t.learningAnalysis.strengths.map((S,T)=>u.jsxs("div",{className:`p-4 rounded-lg border ${x(S.level)}`,children:[u.jsx("h4",{className:"font-semibold mb-2",children:S.area}),u.jsx("p",{className:"text-sm mb-3",children:S.description}),S.examples.length>0&&u.jsxs("div",{className:"mb-3",children:[u.jsx("p",{className:"text-xs font-medium text-gray-700 mb-1",children:""}),u.jsx("ul",{className:"text-xs space-y-1",children:S.examples.map((E,A)=>u.jsxs("li",{className:"flex items-start gap-1",children:[u.jsx("span",{className:"text-green-500 mt-1",children:""}),E]},A))})]}),S.leverageOpportunities.length>0&&u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-medium text-gray-700 mb-1",children:""}),u.jsx("ul",{className:"text-xs space-y-1",children:S.leverageOpportunities.map((E,A)=>u.jsxs("li",{className:"flex items-start gap-1",children:[u.jsx("span",{className:"text-blue-500 mt-1",children:""}),E]},A))})]})]},T))})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[u.jsxs("h3",{className:"text-xl font-bold text-red-700 mb-4 flex items-center gap-2",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})}),""]}),u.jsx("div",{className:"space-y-4",children:t.learningAnalysis.weaknesses.map((S,T)=>u.jsxs("div",{className:`p-4 rounded-lg border ${p(S.severity)}`,children:[u.jsx("h4",{className:"font-semibold mb-2",children:S.area}),u.jsx("p",{className:"text-sm mb-3",children:S.description}),S.affectedTopics.length>0&&u.jsxs("div",{className:"mb-3",children:[u.jsx("p",{className:"text-xs font-medium text-gray-700 mb-1",children:""}),u.jsx("div",{className:"flex flex-wrap gap-1",children:S.affectedTopics.map((E,A)=>u.jsx("span",{className:"text-xs px-2 py-1 bg-gray-200 rounded-full",children:E},A))})]}),S.recommendedActions.length>0&&u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-medium text-gray-700 mb-1",children:""}),u.jsx("ul",{className:"text-xs space-y-1",children:S.recommendedActions.map((E,A)=>u.jsxs("li",{className:"flex items-start gap-1",children:[u.jsx("span",{className:"text-orange-500 mt-1",children:""}),E]},A))})]})]},T))})]})]}),r==="recommendations"&&u.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[u.jsx("h3",{className:"text-xl font-bold text-blue-700 mb-6",children:""}),u.jsx("div",{className:"space-y-6",children:t.personalizedRecommendations.map((S,T)=>u.jsxs("div",{className:`p-6 rounded-lg border-l-4 ${g(S.priority)}`,children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-1",children:S.title}),u.jsxs("div",{className:"flex gap-2 text-xs",children:[u.jsx("span",{className:`px-2 py-1 rounded-full border ${S.category==="immediate"?"text-red-600 bg-red-100 border-red-200":S.category==="short-term"?"text-yellow-600 bg-yellow-100 border-yellow-200":"text-blue-600 bg-blue-100 border-blue-200"}`,children:S.category==="immediate"?"":S.category==="short-term"?"":""}),u.jsx("span",{className:`px-2 py-1 rounded-full border ${S.priority==="high"?"text-red-600 bg-red-100 border-red-200":S.priority==="medium"?"text-yellow-600 bg-yellow-100 border-yellow-200":"text-green-600 bg-green-100 border-green-200"}`,children:S.priority==="high"?"":S.priority==="medium"?"":""})]})]}),u.jsx("span",{className:"text-sm text-gray-600 bg-gray-100 px-3 py-1 rounded-full",children:S.estimatedTime})]}),u.jsx("p",{className:"text-gray-700 mb-4",children:S.description}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:""}),u.jsx("ol",{className:"text-sm space-y-1",children:S.actionSteps.map((E,A)=>u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"bg-blue-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold flex-shrink-0 mt-0.5",children:A+1}),E]},A))})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:""}),u.jsx("p",{className:"text-sm text-gray-600 mb-3",children:S.expectedOutcome}),S.resources&&S.resources.length>0&&u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:""}),u.jsx("ul",{className:"text-sm space-y-1",children:S.resources.map((E,A)=>u.jsxs("li",{className:"flex items-start gap-1",children:[u.jsx("span",{className:"text-green-500 mt-1",children:""}),E]},A))})]})]})]})]},T))})]}),r==="teaching"&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[u.jsxs("h3",{className:"text-xl font-bold text-red-700 mb-4 flex items-center gap-2",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})}),""]}),u.jsx("ul",{className:"space-y-3",children:t.teachingRecommendations.immediateInterventions.map((S,T)=>u.jsxs("li",{className:"flex items-start gap-3 p-3 bg-red-50 rounded-lg border border-red-200",children:[u.jsx("span",{className:"bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold flex-shrink-0 mt-0.5",children:"!"}),u.jsx("span",{className:"text-gray-700",children:S})]},T))})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[u.jsxs("h3",{className:"text-xl font-bold text-blue-700 mb-4 flex items-center gap-2",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443a55.381 55.381 0 0 1 5.25 2.882V15"})}),""]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.teachingRecommendations.instructionalStrategies.map((S,T)=>u.jsx("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:u.jsxs("div",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold flex-shrink-0 mt-0.5",children:T+1}),u.jsx("span",{className:"text-gray-700",children:S})]})},T))})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[u.jsxs("h3",{className:"text-xl font-bold text-purple-700 mb-4 flex items-center gap-2",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"})}),""]}),u.jsx("ul",{className:"space-y-3",children:t.teachingRecommendations.differentiation.map((S,T)=>u.jsxs("li",{className:"flex items-start gap-3 p-3 bg-purple-50 rounded-lg border border-purple-200",children:[u.jsx("span",{className:"bg-purple-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold flex-shrink-0 mt-0.5",children:""}),u.jsx("span",{className:"text-gray-700",children:S})]},T))})]}),t.teachingRecommendations.parentGuidance&&t.teachingRecommendations.parentGuidance.length>0&&u.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[u.jsxs("h3",{className:"text-xl font-bold text-green-700 mb-4 flex items-center gap-2",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})}),""]}),u.jsx("ul",{className:"space-y-3",children:t.teachingRecommendations.parentGuidance.map((S,T)=>u.jsxs("li",{className:"flex items-start gap-3 p-3 bg-green-50 rounded-lg border border-green-200",children:[u.jsx("span",{className:"bg-green-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold flex-shrink-0 mt-0.5",children:""}),u.jsx("span",{className:"text-gray-700",children:S})]},T))})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[u.jsxs("h3",{className:"text-xl font-bold text-indigo-700 mb-4 flex items-center gap-2",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"})}),""]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:""}),u.jsx("ul",{className:"text-sm space-y-1",children:t.progressTracking.keyMetrics.map((S,T)=>u.jsxs("li",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"w-2 h-2 bg-indigo-500 rounded-full"}),S]},T))})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:""}),u.jsx("ul",{className:"text-sm space-y-1",children:t.progressTracking.checkpoints.map((S,T)=>u.jsxs("li",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),S]},T))})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:""}),u.jsx("p",{className:"text-sm text-gray-600",children:t.progressTracking.reassessmentSuggestion})]})]})]})]})]})]})},Cd=({topic:t,quizData:e,studentId:i,apiKey:a,mode:r="both",onClose:l,onRetakeQuiz:m,onContinueLearning:p,initialResponses:x=[],existingReport:g,resultsBinId:v,onReportSaved:b})=>{const[w,S]=M.useState(null),[T,E]=M.useState(!1),[A,_]=M.useState(null),[L,U]=M.useState(r==="teacher"?"teacher":"student"),[O,F]=M.useState(null),H=M.useCallback(async P=>{if(!a){_(" API Key ");return}E(!0),_(null);try{const W={...await e3(P,a,{includeDetailedAnalysis:!0,includeComparativeData:!1,includeVisualCharts:!1,language:"zh-TW",reportFormat:"standard"}),generatedAt:new Date().toISOString(),resultsBinId:v};if(S(W),v)try{await h3(v,W),console.log(""),b==null||b(W)}catch(Y){console.warn(":",Y)}}catch(J){console.error(":",J),_(J instanceof Error?J.message:"")}finally{E(!1)}},[a,v,b]);M.useEffect(()=>{if(g){S(g);const P=Bo(t,i);P.responses=x,F(Eo(P))}else if(t&&x.length>0){const P=Bo(t,i);P.responses=x,F(Eo(P)),H(P)}},[t,i,x,g,H]),M.useCallback(P=>{if(!O)return;const J={...O,responses:[...O.responses,P]};F(J)},[O]),M.useCallback(()=>{if(!O)return;const P=Eo(O);F(P),H(P)},[O,H]);const j=M.useCallback(()=>{if(!w)return;const P={studentFeedback:w.studentFeedback,teacherReport:w.teacherReport,exportDate:new Date().toISOString()},J=JSON.stringify(P,null,2),ne="data:application/json;charset=utf-8,"+encodeURIComponent(J),W=`learning_diagnostic_${t}_${new Date().toISOString().split("T")[0]}.json`,Y=document.createElement("a");Y.setAttribute("href",ne),Y.setAttribute("download",W),Y.click()},[w,t]),z=M.useCallback(()=>{if(!w)return;const P=JSON.parse(localStorage.getItem("learningDiagnosticReports")||"[]");P.push({id:`report_${Date.now()}`,topic:t,studentId:i,createdAt:new Date().toISOString(),result:w}),localStorage.setItem("learningDiagnosticReports",JSON.stringify(P)),alert("")},[w,t,i]);return T?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx(Li,{}),u.jsxs("div",{className:"mt-6 space-y-2",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:""}),u.jsx("p",{className:"text-gray-600",children:"AI ..."}),u.jsx("div",{className:"flex items-center justify-center space-x-1 mt-4",children:u.jsxs("div",{className:"flex space-x-1",children:[u.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce"}),u.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),u.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})]})}):A?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-pink-100 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-16 h-16 text-red-500 mx-auto mb-4",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})}),u.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:""}),u.jsx("p",{className:"text-gray-600 mb-6",children:A}),u.jsxs("div",{className:"flex gap-3 justify-center",children:[u.jsx("button",{onClick:()=>O&&H(O),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:""}),l&&u.jsx("button",{onClick:l,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:""})]})]})}):w?u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsx("div",{className:"bg-white shadow-sm border-b",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex justify-between items-center h-16",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:""}),r==="both"&&u.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[u.jsx("button",{onClick:()=>U("student"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${L==="student"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:""}),u.jsx("button",{onClick:()=>U("teacher"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${L==="teacher"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:""})]})]}),u.jsxs("div",{className:"flex items-center space-x-3",children:[L==="teacher"&&u.jsxs(u.Fragment,{children:[u.jsxs("button",{onClick:z,className:"px-3 py-2 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center gap-2",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"})}),""]}),u.jsxs("button",{onClick:j,className:"px-3 py-2 text-sm bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors flex items-center gap-2",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})}),""]})]}),l&&u.jsx("button",{onClick:l,className:"px-3 py-2 text-sm bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",children:""})]})]})})}),u.jsxs("div",{className:"py-8",children:[(r==="student"||r==="both"&&L==="student")&&u.jsx(p3,{feedback:w.studentFeedback,onContinueLearning:p,onRetakeQuiz:m,showActions:r!=="both"}),(r==="teacher"||r==="both"&&L==="teacher")&&u.jsx(g3,{report:w.teacherReport,onExportReport:j,onSaveReport:z,showExportOptions:r!=="both"})]}),r==="both"&&u.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t shadow-lg",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:u.jsxs("div",{className:"flex justify-center space-x-4",children:[u.jsxs("button",{onClick:m,className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors flex items-center gap-2 font-medium",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"})}),""]}),u.jsxs("button",{onClick:p,className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all flex items-center gap-2 font-medium",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12l-7.5 7.5M3 12h16.5"})}),""]})]})})})]}):u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-16 h-16 text-gray-400 mx-auto mb-4",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})}),u.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:""}),u.jsx("p",{className:"text-gray-600 mb-6",children:""}),l&&u.jsx("button",{onClick:l,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:""})]})})},x3=({quizzes:t,topic:e,studentId:i,apiKey:a,onDiagnosticComplete:r,enableDiagnostic:l=!0})=>{const[m,p]=M.useState(ct.Easy),[x,g]=M.useState(null),[v,b]=M.useState([]),[w,S]=M.useState(!1),[T,E]=M.useState(new Set),A=M.useRef(null);M.useEffect(()=>{if(l&&e&&!x){const W=Bo(e,i);g(W),A.current=Date.now()}},[e,i,l,x]);const _=()=>{if(!t||!z)return 0;let W=0;return Object.values(z).forEach(Y=>{Array.isArray(Y)&&(W+=Y.length)}),W},L=()=>{const W=m.toLowerCase();return v.filter(Y=>Y.difficulty===W).length},U=()=>{const W=m.toLowerCase();return v.filter(Y=>Y.difficulty===W)},O=M.useCallback((W,Y,K,le,I,Z)=>{if(!l||!x)return;const oe=A.current?Date.now()-A.current:void 0,Ce={questionId:W,questionType:Y,difficulty:K,userAnswer:le,correctAnswer:I,isCorrect:Z,responseTime:oe,attempts:1};b(R=>R.find(ae=>ae.questionId===W)?R.map(ae=>ae.questionId===W?{...Ce,attempts:(ae.attempts||0)+1}:ae):[...R,Ce]),E(R=>new Set([...R,W])),A.current=Date.now()},[l,x]),F=M.useCallback(()=>{if(!x||!l)return;const W=Eo(x);W.responses=v,g(W),S(!0),r&&r({session:W,responses:v})},[x,v,l,r]),H=M.useCallback(()=>{S(!1);const W=m.toLowerCase();if(b(Y=>Y.filter(K=>K.difficulty!==W)),E(Y=>{const K=new Set(Y),le=m.toLowerCase();return Array.from(Y).forEach(I=>{I.startsWith(`${le}-`)&&K.delete(I)}),K}),l){const Y=Bo(e,i);g(Y),A.current=Date.now()}},[l,e,i,m]),j=M.useCallback(()=>{S(!1)},[]);if(w&&l){const W=m===ct.Easy?"":m===ct.Normal?"":"";return u.jsx(Cd,{topic:`${e} (${W})`,quizData:t,studentId:i,apiKey:a,mode:"both",onRetakeQuiz:H,onContinueLearning:j,onClose:()=>S(!1),initialResponses:U()})}if(!t)return u.jsx(Wt,{title:"",icon:u.jsx(Za,{}),children:""});const z=t[m],P=[{key:ct.Easy,label:""},{key:ct.Normal,label:""},{key:ct.Hard,label:""}],J={trueFalse:"",multipleChoice:"",fillInTheBlanks:"",sentenceScramble:"",memoryCardGame:""},ne=()=>{const W=_(),Y=L();return W>0?Y/W*100:0};return u.jsxs(Wt,{title:"",icon:u.jsx(Za,{className:"w-7 h-7"}),children:[l&&u.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:[u.jsxs("div",{className:"flex justify-between items-center mb-3",children:[u.jsx("h4",{className:"text-sm font-semibold text-gray-800",children:""}),u.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[u.jsxs("span",{className:"text-gray-600",children:[": ",L()," / ",_()]}),u.jsxs("button",{onClick:F,disabled:L()===0,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 text-sm",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.745 3.745 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"})}),""]})]})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:u.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-green-500 h-3 rounded-full transition-all duration-300 ease-out",style:{width:`${ne()}%`}})}),u.jsx("p",{className:"text-xs text-gray-600 mt-2",children:" "})]}),u.jsx("div",{className:"mb-6",children:u.jsx("div",{className:"flex flex-wrap gap-2 border-b border-slate-300 pb-3 mb-4",children:P.map(({key:W,label:Y})=>u.jsx("button",{onClick:()=>p(W),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors
                ${m===W?"bg-sky-600 text-white shadow-md":"bg-slate-200 text-slate-700 hover:bg-slate-300"}`,children:Y},W))})}),z?Object.keys(J).map(W=>{if(!z.hasOwnProperty(W))return null;const Y=z[W];return!Y||Y.length===0?null:u.jsxs("div",{className:"mb-8",children:[u.jsxs("h4",{className:"text-xl font-semibold text-slate-700 mb-3 border-b-2 border-sky-200 pb-1 flex items-center justify-between",children:[u.jsx("span",{children:J[W]}),l&&u.jsxs("span",{className:"text-sm text-gray-500 font-normal",children:[": ",v.filter(K=>K.questionType===W&&K.difficulty===m).length," / ",Y.length]})]}),W==="trueFalse"&&Y.map((K,le)=>{const I=`${m}-tf-${le}`;return u.jsx("div",{className:T.has(I)?"opacity-75":"",children:u.jsx(Tx,{question:K,itemNumber:le+1,onAnswer:l?(Z,oe)=>{O(I,"trueFalse",m,Z,K.isTrue,oe)}:void 0})},I)}),W==="multipleChoice"&&Y.map((K,le)=>{const I=`${m}-mc-${le}`;return u.jsx("div",{className:T.has(I)?"opacity-75":"",children:u.jsx(Nx,{question:K,itemNumber:le+1,onAnswer:l?(Z,oe)=>{O(I,"multipleChoice",m,Z,K.correctAnswerIndex,oe)}:void 0})},I)}),W==="fillInTheBlanks"&&Y.map((K,le)=>{const I=`${m}-fb-${le}`;return u.jsx("div",{className:T.has(I)?"opacity-75":"",children:u.jsx(Ex,{question:K,itemNumber:le+1,onAnswer:l?(Z,oe)=>{O(I,"fillInTheBlanks",m,Z,K.correctAnswer,oe)}:void 0})},I)}),W==="sentenceScramble"&&Y.map((K,le)=>{const I=`${m}-ss-${le}`;return u.jsx("div",{className:T.has(I)?"opacity-75":"",children:u.jsx(Ax,{question:K,itemNumber:le+1,onAnswer:l?(Z,oe)=>{O(I,"sentenceScramble",m,Z,K.originalSentence,oe)}:void 0})},I)}),W==="memoryCardGame"&&Y.map((K,le)=>{const I=`${m}-mcg-${le}`;return u.jsx("div",{className:T.has(I)?"opacity-75":"",children:u.jsx(_x,{question:K,itemNumber:le+1,onAnswer:l?(Z,oe)=>{O(I,"memoryCardGame",m,Z,K.pairs,oe)}:void 0})},I)})]},`${m}-${W}`)}):u.jsx("p",{children:""}),l&&L()>0&&u.jsx("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-yellow-600 mt-0.5 flex-shrink-0",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-yellow-800 font-medium text-sm",children:""}),u.jsxs("p",{className:"text-yellow-700 text-sm mt-1",children:[" ",L()," AI "]})]})]})})]})},y3=({dialogue:t})=>{const[e,i]=M.useState(null),[a,r]=M.useState(null),[l,m]=M.useState(!1),[p,x]=M.useState(""),[g,v]=M.useState(null),[b,w]=M.useState(!1),[S,T]=M.useState({tts:!0,sr:!0}),E=M.useRef(null),A=M.useRef(null);M.useEffect(()=>{const H="speechSynthesis"in window,j="SpeechRecognition"in window||"webkitSpeechRecognition"in window;if(T({tts:H,sr:j}),j){const z=window.SpeechRecognition||window.webkitSpeechRecognition;E.current=new z,E.current.continuous=!1,E.current.interimResults=!1,E.current.lang="en-US",E.current.onresult=P=>{const J=P.results[0][0].transcript;x(J),F(J)},E.current.onerror=P=>{console.error("Speech recognition error:",P.error),v({type:"error",message:`: ${P.error==="no-speech"?"":P.error==="audio-capture"?"":P.error==="not-allowed"?"":""}`}),m(!1)},E.current.onend=()=>{m(!1)}}return()=>{window.speechSynthesis&&window.speechSynthesis.speaking&&window.speechSynthesis.cancel()}},[]);const _=(H,j)=>{if(!S.tts||!H)return;window.speechSynthesis.speaking&&window.speechSynthesis.cancel();const z=new SpeechSynthesisUtterance(H);z.lang="en-US";const P=window.speechSynthesis.getVoices(),J=P.find(ne=>ne.lang.startsWith("en")&&ne.name.includes("Google")&&ne.localService)||P.find(ne=>ne.lang.startsWith("en")&&ne.localService)||P.find(ne=>ne.lang.startsWith("en"));J&&(z.voice=J),z.onstart=()=>{w(!0),i(j)},z.onend=()=>{w(!1),i(null)},z.onerror=ne=>{console.error("Speech synthesis error:",ne),w(!1),i(null),v({type:"error",message:""})},A.current=z,window.speechSynthesis.speak(z)},L=H=>{if(!(!S.sr||!E.current||l)){r(H),x(""),v(null),m(!0);try{E.current.start()}catch(j){console.error("Error starting recognition: ",j),m(!1),v({type:"error",message:""})}}},U=()=>{E.current&&l&&(E.current.stop(),m(!1))},O=H=>H.toLowerCase().replace(/[.,!?;:"']/g,"").trim(),F=H=>{if(a===null)return;const j=t[a].line;O(H)===O(j)?v({type:"success",message:`: "${H}"`}):v({type:"error",message:`: "${H}": "${j}"`})};return!t||t.length===0?u.jsx(Wt,{title:"",icon:u.jsx(od,{className:"w-7 h-7"}),children:u.jsx("p",{className:"text-slate-600",children:""})}):u.jsxs(Wt,{title:"",icon:u.jsx(od,{className:"w-7 h-7"}),children:[!S.tts&&u.jsx("p",{className:"text-red-600 bg-red-100 p-2 rounded-md",children:" (TTS)"}),!S.sr&&u.jsx("p",{className:"text-red-600 bg-red-100 p-2 rounded-md mt-2",children:" (SR) Chrome  Edge"}),u.jsx("div",{className:"space-y-4",children:t.map((H,j)=>u.jsxs("div",{className:`p-3 rounded-lg ${H.speaker==="Speaker A"?"bg-sky-50":"bg-indigo-50"} border ${H.speaker==="Speaker A"?"border-sky-200":"border-indigo-200"}`,children:[u.jsxs("p",{className:"font-semibold text-sm mb-1 ${item.speaker === 'Speaker A' ? 'text-sky-700' : 'text-indigo-700'}",children:[H.speaker,":"]}),u.jsx("p",{className:"text-slate-800 mb-2",children:H.line}),u.jsxs("div",{className:"flex items-center space-x-2",children:[S.tts&&u.jsx("button",{onClick:()=>_(H.line,j),disabled:b&&e!==j,className:`p-1.5 rounded-full hover:bg-slate-200 transition-colors disabled:opacity-50 ${b&&e===j?"text-sky-500 animate-pulse":"text-slate-600"}`,"aria-label":` ${H.speaker} `,children:u.jsx(i3,{className:"w-5 h-5"})}),S.sr&&(l&&a===j?u.jsx("button",{onClick:U,className:"p-1.5 rounded-full text-red-600 hover:bg-red-100 transition-colors","aria-label":"",children:u.jsx(a3,{className:"w-5 h-5"})}):u.jsx("button",{onClick:()=>L(j),disabled:l||b,className:"p-1.5 rounded-full text-slate-600 hover:bg-slate-200 transition-colors disabled:opacity-50","aria-label":` ${H.speaker} `,children:u.jsx(s3,{className:"w-5 h-5"})}))]}),a===j&&p&&u.jsxs("p",{className:"mt-2 text-sm text-slate-600 italic",children:[': "',p,'"']}),a===j&&g&&u.jsxs("div",{className:`mt-2 p-2 rounded-md text-sm flex items-start ${g.type==="success"?"bg-green-100 text-green-700":g.type==="error"?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"}`,children:[g.type==="success"&&u.jsx(Ui,{className:"w-5 h-5 mr-2 flex-shrink-0"}),g.type==="error"&&u.jsx(Pi,{className:"w-5 h-5 mr-2 flex-shrink-0"}),u.jsx("span",{children:g.message})]})]},j))}),l&&u.jsx("p",{className:"mt-4 text-center text-sky-600 font-medium animate-pulse",children:"..."})]})},Rx=({content:t,apiKey:e,vocabularyLevel:i,isStudentMode:a=!1})=>{const[r,l]=M.useState("sentence"),[m,p]=M.useState({}),[x,g]=M.useState({}),[v,b]=M.useState({}),w=M.useCallback((A,_)=>{p(L=>({...L,[A]:_}))},[]),S=M.useCallback(async(A,_)=>{if(!e){alert(" API Key  AI ");return}const L=m[A.id];if(!(L!=null&&L.trim())){alert("");return}b(U=>({...U,[A.id]:!0}));try{const U=await F4(L,_,A,e,i);g(O=>({...O,[A.id]:U}))}catch(U){console.error("AI :",U),alert("AI  API Key ")}finally{b(U=>({...U,[A.id]:!1}))}},[e,m,i]),T=()=>u.jsx("div",{className:"space-y-6",children:t.sentencePractice.map((A,_)=>{var L;return u.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border border-blue-200",children:[u.jsx("div",{className:"flex items-start justify-between mb-4",children:u.jsxs("div",{children:[u.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:[" ",_+1,u.jsx("span",{className:`ml-2 px-2 py-1 text-xs rounded-full ${A.difficulty==="easy"?"bg-green-100 text-green-700":A.difficulty==="normal"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:A.difficulty==="easy"?"":A.difficulty==="normal"?"":""})]}),u.jsx("p",{className:"text-gray-700 mb-3",children:A.instruction}),A.keywords.length>0&&u.jsxs("div",{className:"mb-3",children:[u.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:""}),u.jsx("div",{className:"flex flex-wrap gap-2",children:A.keywords.map((U,O)=>u.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-sm",children:U},O))})]}),A.exampleSentence&&u.jsxs("div",{className:"mb-3 p-3 bg-gray-50 rounded-lg",children:[u.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:""}),u.jsx("p",{className:"text-gray-700 italic",children:A.exampleSentence})]}),A.hints&&A.hints.length>0&&u.jsxs("div",{className:"mb-3",children:[u.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:""}),u.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:A.hints.map((U,O)=>u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-blue-500 mt-1",children:""}),U]},O))})]})]})}),u.jsxs("div",{className:"border-t pt-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u.jsx("textarea",{value:m[A.id]||"",onChange:U=>w(A.id,U.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"..."}),u.jsxs("div",{className:"mt-3 flex justify-between items-center",children:[u.jsxs("span",{className:"text-sm text-gray-500",children:[": ",(m[A.id]||"").length]}),e&&u.jsx("button",{onClick:()=>S(A,"sentence"),disabled:!((L=m[A.id])!=null&&L.trim())||v[A.id],className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:v[A.id]?u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"animate-spin",children:""}),"AI ..."]}):u.jsxs(u.Fragment,{children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})})," AI "]})})]})]}),x[A.id]&&u.jsx(c0,{feedback:x[A.id]})]},A.id)})}),E=()=>u.jsx("div",{className:"space-y-6",children:t.writingPractice.map((A,_)=>{var L;return u.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border border-purple-200",children:[u.jsxs("div",{className:"mb-4",children:[u.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:[A.title,u.jsx("span",{className:`ml-2 px-2 py-1 text-xs rounded-full ${A.difficulty==="easy"?"bg-green-100 text-green-700":A.difficulty==="normal"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:A.difficulty==="easy"?"":A.difficulty==="normal"?"":""})]}),u.jsx("p",{className:"text-gray-700 mb-3",children:A.instruction}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-600 mb-2",children:""}),u.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:A.structure.map((U,O)=>u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"text-purple-500 mt-1",children:""}),U]},O))})]}),u.jsxs("div",{children:[u.jsxs("p",{className:"text-sm font-medium text-gray-600 mb-2",children:[": ",A.minLength," - ",A.maxLength," "]}),A.keywords&&A.keywords.length>0&&u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:""}),u.jsx("div",{className:"flex flex-wrap gap-1",children:A.keywords.map((U,O)=>u.jsx("span",{className:"bg-purple-100 text-purple-800 px-2 py-1 rounded text-xs",children:U},O))})]})]})]}),A.exampleOutline&&u.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg mb-4",children:[u.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:""}),u.jsx("p",{className:"text-gray-700 text-sm",children:A.exampleOutline})]})]}),u.jsxs("div",{className:"border-t pt-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),u.jsx("textarea",{value:m[A.id]||"",onChange:U=>w(A.id,U.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",rows:8,placeholder:"..."}),u.jsxs("div",{className:"mt-3 flex justify-between items-center",children:[u.jsxs("div",{className:"text-sm text-gray-500",children:[u.jsxs("span",{children:[": ",(m[A.id]||"").length]}),u.jsx("span",{className:"ml-4",children:(m[A.id]||"").length<A.minLength?` ${A.minLength-(m[A.id]||"").length} `:(m[A.id]||"").length>A.maxLength?` ${(m[A.id]||"").length-A.maxLength} `:""})]}),e&&u.jsx("button",{onClick:()=>S(A,"writing"),disabled:!((L=m[A.id])!=null&&L.trim())||v[A.id],className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:v[A.id]?u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"animate-spin",children:""}),"AI ..."]}):u.jsxs(u.Fragment,{children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})})," AI "]})})]})]}),x[A.id]&&u.jsx(c0,{feedback:x[A.id]})]},A.id)})});return u.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-lg p-6 mt-8",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8 text-blue-600",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:" AI "}),u.jsx("p",{className:"text-gray-600 text-sm",children:t.instructions})]})]}),!a&&u.jsxs("div",{className:"text-sm text-gray-500 bg-white px-3 py-2 rounded-lg border",children:[u.jsxs("div",{children:[": ",t.sentencePractice.length," "]}),u.jsxs("div",{children:[": ",t.writingPractice.length," "]})]})]}),u.jsxs("div",{className:"flex border-b border-gray-200 mb-6",children:[u.jsxs("button",{onClick:()=>l("sentence"),className:`px-6 py-3 font-medium text-sm border-b-2 transition-colors ${r==="sentence"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[" (",t.sentencePractice.length,")"]}),u.jsxs("button",{onClick:()=>l("writing"),className:`px-6 py-3 font-medium text-sm border-b-2 transition-colors ${r==="writing"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[" (",t.writingPractice.length,")"]})]}),r==="sentence"?T():E()]})},c0=({feedback:t})=>u.jsxs("div",{className:"mt-4 border-t pt-4 bg-gradient-to-r from-green-50 to-blue-50 rounded-lg p-4",children:[u.jsxs("h5",{className:"font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-green-600",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.847a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.847.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456Z"})}),"AI ",u.jsxs("div",{className:`ml-2 px-3 py-1 rounded-full text-sm font-bold ${t.score>=85?"bg-green-100 text-green-800":t.score>=70?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[t.score," "]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[t.strengths.length>0&&u.jsxs("div",{children:[u.jsx("h6",{className:"font-medium text-green-700 mb-2",children:" "}),u.jsx("ul",{className:"space-y-1",children:t.strengths.map((e,i)=>u.jsxs("li",{className:"text-sm text-gray-700 flex items-start gap-2",children:[u.jsx("span",{className:"text-green-500 mt-1",children:""}),e]},i))})]}),t.improvements.length>0&&u.jsxs("div",{children:[u.jsx("h6",{className:"font-medium text-orange-700 mb-2",children:" "}),u.jsx("ul",{className:"space-y-1",children:t.improvements.map((e,i)=>u.jsxs("li",{className:"text-sm text-gray-700 flex items-start gap-2",children:[u.jsx("span",{className:"text-orange-500 mt-1",children:""}),e]},i))})]})]}),t.grammarCorrections&&t.grammarCorrections.length>0&&u.jsxs("div",{className:"mb-4 p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:[u.jsx("h6",{className:"font-medium text-yellow-800 mb-2",children:" "}),t.grammarCorrections.map((e,i)=>u.jsxs("div",{className:"mb-2 last:mb-0",children:[u.jsxs("div",{className:"text-sm",children:[u.jsx("span",{className:"text-red-600 line-through",children:e.original}),u.jsx("span",{className:"mx-2",children:""}),u.jsx("span",{className:"text-green-600 font-medium",children:e.corrected})]}),u.jsx("div",{className:"text-xs text-gray-600 mt-1",children:e.explanation})]},i))]}),t.vocabularyTips&&t.vocabularyTips.length>0&&u.jsxs("div",{className:"mb-4",children:[u.jsx("h6",{className:"font-medium text-blue-700 mb-2",children:" "}),u.jsx("ul",{className:"space-y-1",children:t.vocabularyTips.map((e,i)=>u.jsxs("li",{className:"text-sm text-gray-700 flex items-start gap-2",children:[u.jsx("span",{className:"text-blue-500 mt-1",children:""}),e]},i))})]}),t.structureFeedback&&u.jsxs("div",{className:"mb-4",children:[u.jsx("h6",{className:"font-medium text-purple-700 mb-2",children:" "}),u.jsx("p",{className:"text-sm text-gray-700",children:t.structureFeedback})]}),u.jsxs("div",{className:"border-t pt-3",children:[u.jsx("h6",{className:"font-medium text-gray-800 mb-2",children:" "}),u.jsx("p",{className:"text-sm text-gray-700 bg-white p-3 rounded-lg border",children:t.overallComment})]})]}),v3=t=>`
    <div class="tabs">
      <button class="tab-btn active" data-tab-target="easy-quiz-content" data-difficulty="easy"></button>
      <button class="tab-btn" data-tab-target="normal-quiz-content" data-difficulty="normal"></button>
      <button class="tab-btn" data-tab-target="hard-quiz-content" data-difficulty="hard"></button>
    </div>
    <div id="easy-quiz-content" class="tab-content active">
      <!-- Content rendered by JS -->
      <div class="quiz-items-container" data-difficulty="easy"></div>
    </div>
    <div id="normal-quiz-content" class="tab-content">
      <!-- Content rendered by JS -->
      <div class="quiz-items-container" data-difficulty="normal"></div>
    </div>
    <div id="hard-quiz-content" class="tab-content">
      <!-- Content rendered by JS -->
      <div class="quiz-items-container" data-difficulty="hard"></div>
    </div>
    <script type="application/json" id="quizDataStore">
      ${t}
    <\/script>
  `,b3=(t,e)=>{const i=t.learningObjectives&&t.learningObjectives.length>0?t.learningObjectives.map(T=>`
        <div class="objective-item" style="margin-bottom:20px; padding:16px; background:#f0fdf4; border-left:4px solid #10b981; border-radius:6px;">
          <h3 style="color:#059669; margin-bottom:8px; font-size:1.1em; font-weight:600;">${T.objective}</h3>
          <p style="color:#047857; margin-bottom:8px; line-height:1.6;">${T.description}</p>
          ${T.teachingExample?`
            <div style="background:#ecfdf5; border:1px solid #a7f3d0; padding:12px; border-radius:4px; margin-top:8px;">
              <strong style="color:#065f46; font-size:0.85em; display:block; margin-bottom:4px;"></strong>
              <span style="color:#047857; font-size:0.9em;">${T.teachingExample}</span>
            </div>`:""}
        </div>`).join(""):"<p></p>",a=t.contentBreakdown&&t.contentBreakdown.length>0?t.contentBreakdown.map(T=>`
        <div class="breakdown-item" style="margin-bottom:24px; padding-bottom:20px; border-bottom:1px solid #e2e8f0;">
          <h3 style="color:#0369a1; margin-bottom:8px;">${T.topic}</h3>
          <p style="margin-bottom:12px; color:#475569;">${T.details}</p>
          
          ${T.coreConcept?`
            <div style="background:#eff6ff; border-left:4px solid #3b82f6; padding:12px; border-radius:4px; margin-bottom:12px;">
              <strong style="color:#1e40af; font-size:0.85em; display:block; margin-bottom:4px;"></strong>
              <span style="color:#1e3a8a; font-size:0.9em;">${T.coreConcept}</span>
            </div>`:""}
          
          ${T.teachingSentences&&T.teachingSentences.length>0?`
            <div style="background:#eef2ff; border-left:4px solid #6366f1; padding:12px; border-radius:4px; margin-bottom:12px;">
              <strong style="color:#4338ca; font-size:0.85em; display:block; margin-bottom:8px;"></strong>
              <div style="line-height:1.6;">
                ${T.teachingSentences.map((E,A)=>`
                  <div style="color:#312e81; font-size:0.9em; margin-bottom:4px;">
                    <span style="color:#6366f1; font-family:monospace;">${A+1}.</span> ${E}
                  </div>
                `).join("")}
              </div>
            </div>`:""}
          
          ${T.teachingTips?`
            <div style="background:#faf5ff; border-left:4px solid #8b5cf6; padding:12px; border-radius:4px; margin-bottom:12px;">
              <strong style="color:#7c3aed; font-size:0.85em; display:block; margin-bottom:4px;"></strong>
              <span style="color:#6b21a8; font-size:0.9em;">${T.teachingTips}</span>
            </div>`:""}
          
          ${T.teachingExample?`
            <div style="background:#f0f9ff; border-left:4px solid #0ea5e9; padding:12px; border-radius:4px;">
              <strong style="color:#0284c7; font-size:0.85em; display:block; margin-bottom:4px;"></strong>
              <span style="color:#0c4a6e; font-size:0.9em;">${T.teachingExample}</span>
            </div>`:""}
        </div>`).join(""):"<p></p>",r=t.confusingPoints&&t.confusingPoints.length>0?t.confusingPoints.map(T=>`
        <div class="confusing-point-item" style="border:1px solid #e2e8f0; border-radius:8px; padding:20px; margin-bottom:24px; background:#fefefe;">
          <h3 style="color:#b91c1c; margin-bottom:12px; font-size:1.3em; font-weight:600;">${T.point}</h3>
          <p style="margin-bottom:16px; color:#475569; line-height:1.6;">${T.clarification}</p>
          
          ${T.errorType?`
          <div style="background:#fff7ed; border-left:4px solid #f97316; padding:12px; margin-bottom:12px; border-radius:4px;">
            <strong style="color:#c2410c; font-size:0.8em; display:block; margin-bottom:4px;"></strong>
            <span style="color:#9a3412; font-size:0.9em;">${T.errorType}</span>
          </div>`:""}
          
          ${T.commonErrors&&T.commonErrors.length>0?`
          <div style="background:#fef2f2; border-left:4px solid #ef4444; padding:12px; margin-bottom:12px; border-radius:4px;">
            <strong style="color:#dc2626; font-size:0.8em; display:block; margin-bottom:8px;"></strong>
            <div style="margin-left:0;">
              ${T.commonErrors.map((E,A)=>`
                <div style="color:#991b1b; font-size:0.9em; margin-bottom:4px;">
                  <span style="color:#dc2626; font-family:monospace; margin-right:6px;">${A+1}.</span>${E}
                </div>
              `).join("")}
            </div>
          </div>`:""}
          
          ${T.correctVsWrong&&T.correctVsWrong.length>0?`
          <div style="background:#fefce8; border-left:4px solid #eab308; padding:12px; margin-bottom:12px; border-radius:4px;">
            <strong style="color:#a16207; font-size:0.8em; display:block; margin-bottom:8px;"></strong>
            ${T.correctVsWrong.map((E,A)=>`
              <div style="border:1px solid #fde047; background:#fffbeb; padding:12px; margin-bottom:8px; border-radius:6px;">
                <div style="display:grid; grid-template-columns:1fr 1fr; gap:12px; margin-bottom:8px;">
                  <div style="background:#f0fdf4; padding:10px; border-radius:4px; border:1px solid #bbf7d0;">
                    <strong style="color:#166534; font-size:0.8em; display:block; margin-bottom:4px;"> </strong>
                    <span style="color:#15803d; font-size:0.9em;">${E.correct}</span>
                  </div>
                  <div style="background:#fef2f2; padding:10px; border-radius:4px; border:1px solid #fecaca;">
                    <strong style="color:#dc2626; font-size:0.8em; display:block; margin-bottom:4px;"> </strong>
                    <span style="color:#991b1b; font-size:0.9em;">${E.wrong}</span>
                  </div>
                </div>
                <div style="background:#eff6ff; padding:10px; border-radius:4px; border:1px solid #bfdbfe;">
                  <strong style="color:#1d4ed8; font-size:0.8em; display:block; margin-bottom:4px;"></strong>
                  <span style="color:#1e40af; font-size:0.9em;">${E.explanation}</span>
                </div>
              </div>
            `).join("")}
          </div>`:""}
          
          ${T.preventionStrategy?`
          <div style="background:#eff6ff; border-left:4px solid #3b82f6; padding:12px; margin-bottom:12px; border-radius:4px;">
            <strong style="color:#1d4ed8; font-size:0.8em; display:block; margin-bottom:4px;"></strong>
            <span style="color:#1e40af; font-size:0.9em;">${T.preventionStrategy}</span>
          </div>`:""}
          
          ${T.correctionMethod?`
          <div style="background:#faf5ff; border-left:4px solid #a855f7; padding:12px; margin-bottom:12px; border-radius:4px;">
            <strong style="color:#7c3aed; font-size:0.8em; display:block; margin-bottom:4px;"></strong>
            <span style="color:#6b21a8; font-size:0.9em;">${T.correctionMethod}</span>
          </div>`:""}
          
          ${T.practiceActivities&&T.practiceActivities.length>0?`
          <div style="background:#f0f9ff; border-left:4px solid #6366f1; padding:12px; margin-bottom:12px; border-radius:4px;">
            <strong style="color:#4338ca; font-size:0.8em; display:block; margin-bottom:8px;"></strong>
            <div style="margin-left:0;">
              ${T.practiceActivities.map((E,A)=>`
                <div style="color:#312e81; font-size:0.9em; margin-bottom:4px;">
                  <span style="color:#4338ca; font-family:monospace; margin-right:6px;">${A+1}.</span>${E}
                </div>
              `).join("")}
            </div>
          </div>`:""}
          
          ${T.teachingExample?`
          <div style="background:#f9fafb; border-left:4px solid #6b7280; padding:12px; border-radius:4px;">
            <strong style="color:#374151; font-size:0.8em; display:block; margin-bottom:4px;"></strong>
            <span style="color:#111827; font-size:0.9em;">${T.teachingExample}</span>
          </div>`:""}
        </div>`).join(""):"<p></p>",l=t.classroomActivities&&t.classroomActivities.length>0?t.classroomActivities.map(T=>`
        <div class="activity-item" style="border:1px solid #e0e7ef; border-radius:6px; padding:16px; margin-bottom:16px; background:#f8fafc;">
          <h3 style="color:#2563eb; margin-bottom:8px; font-size:1.2em;">${T.title}</h3>
          <p style="margin-bottom:12px; color:#475569;">${T.description}</p>
          
          <div style="display:grid; grid-template-columns:1fr 1fr; gap:12px; margin-bottom:12px;">
            ${T.objective?`
              <div>
                <strong style="color:#0f172a;"></strong>
                <p style="margin:4px 0 0 0; font-size:0.9em;">${T.objective}</p>
              </div>`:""}
            ${T.timing?`
              <div>
                <strong style="color:#0f172a;"></strong>
                <p style="margin:4px 0 0 0; font-size:0.9em;">${T.timing}</p>
              </div>`:""}
            ${T.materials?`
            <div>
              <strong style="color:#0f172a;"></strong>
              <p style="margin:4px 0 0 0; font-size:0.9em;">${T.materials}</p>
            </div>`:""}
            ${T.environment?`
            <div>
              <strong style="color:#0f172a;"></strong>
              <p style="margin:4px 0 0 0; font-size:0.9em;">${T.environment}</p>
            </div>`:""}
          </div>
          
          ${T.steps&&T.steps.length>0?`
            <div style="margin-bottom:12px;">
              <strong style="color:#0f172a;"></strong>
              <ol style="margin:8px 0 0 20px; padding:0;">
                ${T.steps.map(E=>`<li style="margin-bottom:4px; font-size:0.9em;">${E}</li>`).join("")}
              </ol>
            </div>`:""}
          
          ${T.assessmentPoints&&T.assessmentPoints.length>0?`
            <div>
              <strong style="color:#0f172a;"></strong>
              <ul style="margin:8px 0 0 20px; padding:0;">
                ${T.assessmentPoints.map(E=>`<li style="margin-bottom:4px; font-size:0.9em;">${E}</li>`).join("")}
              </ul>
            </div>`:""}
        </div>
      `).join(""):"<p></p>",m=t.englishConversation&&t.englishConversation.length>0?t.englishConversation.map(T=>`
        <div class="dialogue-line ${T.speaker==="Speaker A"?"speakerA":"speakerB"}">
          <span class="speaker">${T.speaker}:</span> ${T.line}
        </div>`).join("")+"<p><small><em></em></small></p>":"<p></p>",p=t.learningLevels&&t.learningLevels.suggestedLevels&&t.learningLevels.suggestedLevels.length>0?t.learningLevels.suggestedLevels.sort((T,E)=>T.order-E.order).map(T=>`
          <div class="level-item" style="border:1px solid #e0e7ef; border-radius:8px; padding:16px; margin-bottom:12px; background:${T.id===t.learningLevels.defaultLevelId?"#eff8ff":"#f8fafc"}; border-left: 4px solid ${T.id===t.learningLevels.defaultLevelId?"#0ea5e9":"#e2e8f0"};">
            <div style="display:flex; align-items:center; margin-bottom:8px;">
              <div style="width:32px; height:32px; border-radius:50%; background-color:${T.id===t.learningLevels.defaultLevelId?"#0ea5e9":"#94a3b8"}; color:white; display:flex; align-items:center; justify-content:center; font-weight:bold; margin-right:12px;">${T.order}</div>
              <h3 style="margin:0; color:${T.id===t.learningLevels.defaultLevelId?"#0c4a6e":"#334155"};">${T.name}</h3>
              ${T.id===t.learningLevels.defaultLevelId?'<span style="background:#dcfce7; color:#166534; padding:2px 8px; border-radius:4px; font-size:0.8em; margin-left:8px;"></span>':""}
            </div>
            <p style="margin:0; color:#64748b; line-height:1.5;">${T.description}</p>
          </div>
        `).join(""):"<p></p>",x=JSON.stringify(t.onlineInteractiveQuiz||{}),g=v3(x),v=`
    <!DOCTYPE html>
    <html lang="zh-Hant">
    <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>${e}</title>
      <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"; margin: 0; padding: 20px; line-height: 1.6; background-color: #f4f7f9; color: #333; }
        .container { max-width: 800px; margin: 0 auto; background-color: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        h1 { color: #2c3e50; text-align: center; border-bottom: 2px solid #3498db; padding-bottom: 10px; }
        h2 { color: #3498db; margin-top: 30px; border-bottom: 1px solid #eee; padding-bottom: 8px;}
        h3 { color: #2980b9; margin-top: 20px; }
        h4 { color: #16a085; margin-top:15px; font-size: 1.1em; margin-bottom: 10px; padding-bottom: 5px; border-bottom: 1px dashed #bdc3c7;}
        ul { list-style-type: disc; padding-left: 20px; }
        li { margin-bottom: 8px; }
        p { margin-bottom: 10px; }
        .section { margin-bottom: 25px; }
        .breakdown-item, .confusing-point-item { border-left: 3px solid #3498db; padding-left: 15px; margin-bottom: 15px; background-color: #fdfdfe; padding:10px; border-radius: 0 4px 4px 0;}
        .dialogue-line { margin-bottom: 8px; padding: 10px; border-radius: 5px; }
        .dialogue-line .speaker { font-weight: bold; color: #0056b3; }
        .dialogue-line.speakerA { background-color: #e7f3ff; border-left: 3px solid #79a6dc; }
        .dialogue-line.speakerB { background-color: #e6fff0; border-left: 3px solid #68d19a; }
        
        .tabs { display: flex; margin-bottom: 0; border-bottom: 1px solid #ccc;}
        .tabs button { padding: 10px 15px; cursor: pointer; border: 1px solid #ccc; background-color: #f0f0f0; margin-right: 0px; border-bottom: none; border-radius: 5px 5px 0 0; font-size: 1em;}
        .tabs button.active { background-color: #fff; border-bottom: 1px solid #fff; color: #3498db; font-weight: bold; position:relative; top:1px;}
        .tab-content { display: none; padding: 15px; border: 1px solid #ccc; border-top: none; background-color:#fff; border-radius: 0 0 5px 5px;}
        .tab-content.active { display: block; }

        .quiz-item { border: 1px solid #e0e0e0; padding: 15px; margin-bottom: 15px; border-radius: 5px; background: #f9f9f9; }
        .quiz-question { font-weight: 500; margin-bottom: 8px; color: #333; }
        .quiz-item p:first-child { margin-top: 0; }
        .quiz-feedback { padding: 8px; margin-top: 10px; border-radius: 4px; font-size: 0.9em; }
        .quiz-feedback.correct { background-color: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .quiz-feedback.incorrect { background-color: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
        .quiz-feedback em { color: #555;}
        
        .tf-options button { margin-right: 10px; padding: 8px 12px; border-radius: 4px; border: 1px solid #ccc; cursor: pointer; }
        .tf-options button.selected.correct, .tf-options button.correct { background-color: #28a745; color: white; border-color: #28a745; }
        .tf-options button.selected.incorrect, .tf-options button.incorrect { background-color: #dc3545; color: white; border-color: #dc3545; }
        .tf-options button:disabled { opacity: 0.7; cursor: not-allowed; }

        .mc-options label { display: block; margin-bottom: 8px; padding: 8px; border: 1px solid #eee; border-radius: 4px; cursor: pointer; transition: background-color 0.2s, border-color 0.2s; }
        .mc-options label:hover { background-color: #f0f8ff; }
        .mc-options input[type="radio"] { margin-right: 8px; }
        .mc-options label.selected { background-color: #e0f0ff; border-color: #79a6dc; }
        .mc-options label.correct-answer { background-color: #d4edda !important; border-color: #c3e6cb !important; color: #155724;}
        .mc-options label.incorrect-selection { background-color: #f8d7da !important; border-color: #f5c6cb !important; color: #721c24;}
        .mc-options label.disabled { cursor: not-allowed; opacity: 0.7; }


        .fb-input { padding: 6px; border: 1px solid #ccc; border-radius: 4px; margin: 0 5px; min-width:100px; }
        .fb-input:disabled { background-color: #eee; }

        .ss-word-bank, .ss-constructed-sentence-area { display: flex; flex-wrap: wrap; gap: 8px; padding: 10px; border: 1px dashed #ccc; border-radius: 4px; min-height: 40px; margin-bottom: 10px; }
        .ss-word-bank { background-color: #f0f8ff; }
        .ss-constructed-sentence-area { background-color: #e6fff0; }
        .ss-word-bank button, .ss-constructed-sentence-area button { padding: 5px 10px; background-color: #add8e6; border: none; border-radius: 4px; cursor: pointer; font-size: 0.95em;}
        .ss-word-bank button:hover, .ss-constructed-sentence-area button:hover { background-color: #90cce0; }
        .ss-constructed-sentence-area button { background-color: #a2d2ff; }


        .quiz-item button.check-answer-btn, .quiz-item button.ss-action-btn {
          background-color: #3498db; color: white; border: none; padding: 8px 12px; border-radius: 4px; cursor: pointer; font-size: 0.9em; margin-top: 10px; transition: background-color 0.2s;
        }
        .quiz-item button.check-answer-btn:hover, .quiz-item button.ss-action-btn:hover { background-color: #2980b9; }
        .quiz-item button.ss-action-btn.ss-clear { background-color: #e74c3c; margin-left: 5px;}
        .quiz-item button.ss-action-btn.ss-clear:hover { background-color: #c0392b; }
        .quiz-item button:disabled, .quiz-item button.check-answer-btn:disabled, .quiz-item button.ss-action-btn:disabled { background-color: #bdc3c7; cursor: not-allowed; opacity: 0.7;}
        
        footer { text-align: center; margin-top: 30px; padding-top: 15px; border-top: 1px solid #ddd; font-size: 0.9em; color: #777; }
      </style>
    </head>
    <body>
      <div class="container">
        <h1>${e}</h1>

        <div class="section">
          <h2></h2>
          ${p}
        </div>

        <div class="section">
          <h2></h2>
          ${i}
        </div>

        <div class="section">
          <h2></h2>
          ${a}
        </div>

        <div class="section">
          <h2></h2>
          ${r}
        </div>

        <div class="section">
          <h2></h2>
          ${l}
        </div>
        
        <div class="section">
          <h2></h2>
          ${m}
        </div>

        <div class="section">
          <h2></h2>
          ${g}
        </div>
        
        <footer>
          <p> AI ${new Date().toLocaleString()}</p>
        </footer>
      </div>

      <script>
        document.addEventListener('DOMContentLoaded', () => {
          const quizData = JSON.parse(document.getElementById('quizDataStore').textContent || '{}');
          let sentenceScrambleStates = {}; // To store dynamic state for sentence scramble

          const normalizeText = (str) => {
            if (typeof str !== 'string') return '';
            // Corrected regex for multiple spaces: s+ instead of \\s+
            return str.toLowerCase().replace(/[.,!?;:'"'""]/g, '').replace(/s+/g, ' ').trim();
          };

          const renderQuizzesForDifficulty = (difficulty) => {
            const container = document.querySelector(\`.quiz-items-container[data-difficulty="\${difficulty}"]\`);
            if (!container) return;
            container.innerHTML = ''; 
            sentenceScrambleStates[difficulty] = {}; // Reset states for this difficulty

            const difficultyData = quizData[difficulty];
            if (!difficultyData || Object.keys(difficultyData).every(type => !difficultyData[type] || difficultyData[type].length === 0)) {
              container.innerHTML = '<p></p>';
              return;
            }

            let itemGlobalIndex = 0;
            const typeLabels = { trueFalse: "", multipleChoice: "", fillInTheBlanks: "", sentenceScramble: ""};

            const createHtml = (type, q, index) => {
              const questionId = \`\${difficulty}-\${type}-\${index}\`;
              let itemHtml = \`<div class="quiz-item \${type}-item" id="item-\${questionId}">\`;
              
              if (type === 'trueFalse') {
                itemHtml += \`<p class="quiz-question">\${itemGlobalIndex + 1}. \${q.statement}</p>\`;
                itemHtml += \`<div class="tf-options">\`;
                itemHtml += \`<button data-value="true" data-question-id="\${questionId}"> (True)</button>\`;
                itemHtml += \`<button data-value="false" data-question-id="\${questionId}"> (False)</button>\`;
                itemHtml += \`</div>\`;
              } else if (type === 'multipleChoice') {
                itemHtml += \`<p class="quiz-question">\${itemGlobalIndex + 1}. \${q.question}</p>\`;
                itemHtml += \`<div class="mc-options">\`;
                q.options.forEach((opt, optIndex) => {
                  itemHtml += \`<label><input type="radio" name="mc-\${questionId}" value="\${optIndex}"> \${String.fromCharCode(65 + optIndex)}. \${opt}</label>\`;
                });
                itemHtml += \`</div>\`;
                itemHtml += \`<button class="check-answer-btn mc-check" data-question-id="\${questionId}"></button>\`;
              } else if (type === 'fillInTheBlanks') {
                itemHtml += \`<p class="quiz-question">\${itemGlobalIndex + 1}. \${q.sentenceWithBlank.replace('____', '<input type="text" class="fb-input" id="fb-input-\${questionId}" placeholder="">')}</p>\`;
                itemHtml += \`<button class="check-answer-btn fb-check" data-question-id="\${questionId}"></button>\`;
              } else if (type === 'sentenceScramble') {
                sentenceScrambleStates[difficulty][questionId] = {
                    availableWords: q.scrambledWords.slice().sort(() => Math.random() - 0.5),
                    constructedWords: []
                };
                itemHtml += \`<p class="quiz-question">\${itemGlobalIndex + 1}. </p>\`;
                itemHtml += \`<p class="ss-instruction"></p>\`
                itemHtml += \`<div class="ss-word-bank" id="ss-bank-\${questionId}">\`;
                sentenceScrambleStates[difficulty][questionId].availableWords.forEach(word => {
                   itemHtml += \`<button class="ss-word" data-word="\${word}" data-question-id="\${questionId}" data-source="bank">\${word}</button>\`;
                });
                itemHtml += \`</div>\`;
                itemHtml += \`<p class="quiz-question"></p><div class="ss-constructed-sentence-area" id="ss-area-\${questionId}"></div>\`;
                itemHtml += \`<button class="check-answer-btn ss-check" data-question-id="\${questionId}"></button>\`;
                itemHtml += \`<button class="ss-action-btn ss-clear" data-question-id="\${questionId}"></button>\`;
              }
              itemHtml += \`<div class="quiz-feedback" id="feedback-\${questionId}"></div></div>\`;
              itemGlobalIndex++;
              return itemHtml;
            };
            
            const quizTypes = ['trueFalse', 'multipleChoice', 'fillInTheBlanks', 'sentenceScramble'];
            let hasContentForDifficulty = false;

            quizTypes.forEach(type => {
              if (difficultyData[type] && difficultyData[type].length > 0) {
                hasContentForDifficulty = true;
                const typeHeader = document.createElement('h4');
                typeHeader.textContent = typeLabels[type];
                container.appendChild(typeHeader);
                difficultyData[type].forEach((q, i) => {
                  const questionElement = document.createElement('div');
                  questionElement.innerHTML = createHtml(type, q, i);
                  container.appendChild(questionElement.firstChild);
                });
              }
            });
             if (!hasContentForDifficulty) {
                 container.innerHTML = '<p></p>';
            }
          };

          const tabButtons = document.querySelectorAll('.tabs .tab-btn');
          const tabContents = document.querySelectorAll('.tab-content');

          tabButtons.forEach(button => {
            button.addEventListener('click', () => {
              tabButtons.forEach(btn => btn.classList.remove('active'));
              tabContents.forEach(content => content.classList.remove('active'));

              button.classList.add('active');
              const targetContentId = button.getAttribute('data-tab-target');
              document.getElementById(targetContentId).classList.add('active');
              
              const difficulty = button.getAttribute('data-difficulty');
              renderQuizzesForDifficulty(difficulty);
            });
          });
          
          // Initial render for the default active tab
          renderQuizzesForDifficulty('easy');


          // Event delegation for quiz interactions
          document.querySelector('.container').addEventListener('click', (event) => {
            const target = event.target;
            // Ensure target is an HTMLElement before trying to access attributes or match selectors
            if (!(target instanceof HTMLElement)) return;

            const questionId = target.getAttribute('data-question-id');
            if (!questionId) return;

            const [difficulty, type, indexStr] = questionId.split('-');
            const index = parseInt(indexStr);
            const questionData = quizData[difficulty]?.[type]?.[index];
            const feedbackEl = document.getElementById(\`feedback-\${questionId}\`);

            if (!questionData || !feedbackEl) return;

            // True/False
            if (target.matches('.tf-options button')) {
              const selectedValue = target.getAttribute('data-value') === 'true';
              const isCorrect = selectedValue === questionData.isTrue;
              feedbackEl.className = 'quiz-feedback ' + (isCorrect ? 'correct' : 'incorrect');
              let message = isCorrect ? '' : \`\${questionData.isTrue ? ' (True)' : ' (False)'}\`;
              if (questionData.explanation) message += \` <em>\${questionData.explanation}</em>\`;
              feedbackEl.innerHTML = message;
              
              target.classList.add('selected', isCorrect ? 'correct' : 'incorrect');
              Array.from(target.parentElement.children).forEach(btn => btn.disabled = true);
            }

            // Multiple Choice Check
            else if (target.matches('.mc-check')) {
              const selectedRadio = document.querySelector(\`input[name="mc-\${questionId}"]:checked\`);
              if (!selectedRadio) {
                feedbackEl.className = 'quiz-feedback incorrect';
                feedbackEl.textContent = '';
                return;
              }
              const selectedOptionIndex = parseInt(selectedRadio.value);
              const isCorrect = selectedOptionIndex === questionData.correctAnswerIndex;
              
              feedbackEl.className = 'quiz-feedback ' + (isCorrect ? 'correct' : 'incorrect');
              let message = isCorrect ? '' : \`\${String.fromCharCode(65 + questionData.correctAnswerIndex)}. \${questionData.options[questionData.correctAnswerIndex]}\`;
              feedbackEl.innerHTML = message;

              // Visually mark options
              const optionLabels = document.querySelectorAll(\`#item-\${questionId} .mc-options label\`);
              optionLabels.forEach((label, idx) => {
                label.classList.add('disabled');
                const radioInLabel = label.querySelector('input');
                if (radioInLabel) radioInLabel.disabled = true;

                if (idx === questionData.correctAnswerIndex) {
                    label.classList.add('correct-answer');
                }
                if (idx === selectedOptionIndex && !isCorrect) {
                    label.classList.add('incorrect-selection');
                }
                 if (idx === selectedOptionIndex) {
                    label.classList.add('selected');
                }
              });
              target.disabled = true;
            }

            // Fill in the Blanks Check
            else if (target.matches('.fb-check')) {
              const inputEl = document.getElementById(\`fb-input-\${questionId}\`);
              // Add null check for inputEl
              if (!inputEl) {
                  console.error('Fill-in-the-blanks input element not found for ID:', \`fb-input-\${questionId}\`);
                  feedbackEl.className = 'quiz-feedback incorrect';
                  feedbackEl.textContent = '';
                  return;
              }
              const userAnswer = inputEl.value.trim();
              if (userAnswer === '') {
                feedbackEl.className = 'quiz-feedback incorrect';
                feedbackEl.textContent = '';
                return;
              }
              const isCorrect = normalizeText(userAnswer) === normalizeText(questionData.correctAnswer);
              feedbackEl.className = 'quiz-feedback ' + (isCorrect ? 'correct' : 'incorrect');
              feedbackEl.textContent = isCorrect ? '' : \` "\${questionData.correctAnswer}"\`;
              inputEl.disabled = true;
              target.disabled = true;
            }
            
            // Sentence Scramble
            else if (target.matches('.ss-word') || target.matches('.ss-check') || target.matches('.ss-clear')) {
                const state = sentenceScrambleStates[difficulty][questionId];
                if (!state) return; // Should not happen if initialized correctly

                const bankEl = document.getElementById(\`ss-bank-\${questionId}\`);
                const areaEl = document.getElementById(\`ss-area-\${questionId}\`);
                
                if(!bankEl || !areaEl) return;


                const redrawScramble = () => {
                    bankEl.innerHTML = '';
                    state.availableWords.forEach(w => {
                        bankEl.innerHTML += \`<button class="ss-word" data-word="\${w}" data-question-id="\${questionId}" data-source="bank">\${w}</button>\`;
                    });
                    areaEl.innerHTML = '';
                    state.constructedWords.forEach(w => {
                        areaEl.innerHTML += \`<button class="ss-word" data-word="\${w}" data-question-id="\${questionId}" data-source="area">\${w}</button>\`;
                    });
                };

                if (target.matches('.ss-word')) {
                    const word = target.getAttribute('data-word');
                    const source = target.getAttribute('data-source');
                    if (source === 'bank') {
                        state.constructedWords.push(word);
                        // Correctly remove only one instance of the word from availableWords
                        const wordIndexInBank = state.availableWords.indexOf(word);
                        if (wordIndexInBank > -1) {
                            state.availableWords.splice(wordIndexInBank, 1);
                        }
                    } else { // source === 'area'
                        state.availableWords.push(word);
                        // Correctly remove only one instance of the word from constructedWords
                        const wordIndexInArea = state.constructedWords.indexOf(word);
                        if (wordIndexInArea > -1) {
                            state.constructedWords.splice(wordIndexInArea, 1);
                        }
                    }
                    redrawScramble();
                    feedbackEl.textContent = '';
                    feedbackEl.className = 'quiz-feedback';
                } else if (target.matches('.ss-check')) {
                    const userAnswer = state.constructedWords.join(' ').trim();
                    const isCorrect = normalizeText(userAnswer) === normalizeText(questionData.originalSentence);
                    feedbackEl.className = 'quiz-feedback ' + (isCorrect ? 'correct' : 'incorrect');
                    feedbackEl.textContent = isCorrect ? '' : \` "\${questionData.originalSentence}"\`;
                    target.disabled = true;
                    const clearButton = document.querySelector(\`#item-\${questionId} .ss-clear\`);
                    if(clearButton) clearButton.disabled = true;
                    
                    bankEl.querySelectorAll('button').forEach(b => b.disabled = true);
                    areaEl.querySelectorAll('button').forEach(b => b.disabled = true);

                } else if (target.matches('.ss-clear')) {
                    state.availableWords = questionData.scrambledWords.slice().sort(() => Math.random() - 0.5);
                    state.constructedWords = [];
                    redrawScramble();
                    feedbackEl.textContent = '';
                    feedbackEl.className = 'quiz-feedback';
                }
            }

          });
        });
      <\/script>
    </body>
    </html>
  `,b=new Blob([v],{type:"text/html;charset=utf-8"}),w=URL.createObjectURL(b),S=document.createElement("a");S.href=w,S.download=`learning-plan-${e.replace(/\s+/g,"_")||"untitled"}.html`,document.body.appendChild(S),S.click(),document.body.removeChild(S),URL.revokeObjectURL(w)},Sd="AES-GCM",w3=256,cd=12;async function Dx(t,e){const i=new TextEncoder,a=await crypto.subtle.importKey("raw",i.encode(t),"PBKDF2",!1,["deriveKey"]);return crypto.subtle.deriveKey({name:"PBKDF2",salt:e,iterations:1e5,hash:"SHA-256"},a,{name:Sd,length:w3},!1,["encrypt","decrypt"])}async function C3(t,e="ai-page-gen-2024"){try{const a=new TextEncoder().encode(t),r=crypto.getRandomValues(new Uint8Array(16)),l=crypto.getRandomValues(new Uint8Array(cd)),m=await Dx(e,r),p=await crypto.subtle.encrypt({name:Sd,iv:l},m,a),x=new Uint8Array(r.length+l.length+p.byteLength);return x.set(r,0),x.set(l,r.length),x.set(new Uint8Array(p),r.length+l.length),T3(x)}catch(i){throw console.error(" API Key :",i),new Error("")}}async function S3(t,e="ai-page-gen-2024"){try{const i=N3(t),a=i.slice(0,16),r=i.slice(16,16+cd),l=i.slice(16+cd),m=await Dx(e,a),p=await crypto.subtle.decrypt({name:Sd,iv:r},m,l);return new TextDecoder().decode(p)}catch(i){throw console.error(" API Key :",i),new Error("")}}function T3(t){const e=new Uint8Array(t);let i="";for(let a=0;a<e.byteLength;a++)i+=String.fromCharCode(e[a]);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function N3(t){const e="=".repeat((4-t.length%4)%4),i=t.replace(/-/g,"+").replace(/_/g,"/")+e,a=atob(i),r=new Uint8Array(a.length);for(let l=0;l<a.length;l++)r[l]=a.charCodeAt(l);return r}function jx(){return typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof crypto.subtle.encrypt=="function"}async function u0(t){if(!jx())return console.warn("Web Crypto API "),`apikey=${encodeURIComponent(t)}`;const e=await C3(t);return`enckey=${encodeURIComponent(e)}`}async function Ix(t){const e=t.get("enckey");if(e&&jx())try{return await S3(decodeURIComponent(e))}catch(a){console.error(" API Key :",a)}const i=t.get("apikey");return i?decodeURIComponent(i):null}const E3=({tabs:t,current:e,onChange:i,children:a})=>u.jsxs("div",{children:[u.jsx("div",{className:"flex border-b mb-4",children:t.map(r=>u.jsx("button",{className:`px-4 py-2 -mb-px border-b-2 font-medium transition-colors focus:outline-none ${e===r.key?"border-indigo-600 text-indigo-700 bg-white":"border-transparent text-slate-500 hover:text-indigo-600"}`,onClick:()=>i(r.key),type:"button",children:r.label},r.key))}),u.jsx("div",{children:a[t.findIndex(r=>r.key===e)]})]}),A3=({config:t,onConfigChange:e,onRegenerate:i,isGenerating:a})=>{const r={trueFalse:"",multipleChoice:"",fillInTheBlanks:"",sentenceScramble:"",memoryCardGame:""},l=(g,v)=>{const b=Ri[g],w=Math.max(0,Math.min(b,v)),S={easy:{...t.easy,[g]:w},normal:{...t.normal,[g]:w},hard:{...t.hard,[g]:w}};e(S)},m=()=>{e(bx)},p=()=>{const g=Object.values(t.easy).reduce((w,S)=>w+S,0),v=Object.values(t.normal).reduce((w,S)=>w+S,0),b=Object.values(t.hard).reduce((w,S)=>w+S,0);return g+v+b},x=g=>t.easy[g]+t.normal[g]+t.hard[g];return u.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6 border border-indigo-200",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-2 flex items-center gap-2",children:[u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-indigo-600",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a6.759 6.759 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]}),""]}),u.jsxs("p",{className:"text-sm text-gray-600",children:["  : ",u.jsx("span",{className:"font-semibold text-indigo-600",children:p()})," "]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:m,className:"px-3 py-2 text-sm bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors",children:""}),u.jsx("button",{onClick:i,disabled:a,className:"px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg hover:from-indigo-700 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all transform hover:scale-105 shadow-md flex items-center gap-2 font-medium",children:a?u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"animate-spin",children:""}),"..."]}):u.jsxs(u.Fragment,{children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"})}),""]})})]})]}),u.jsx("div",{className:"space-y-6",children:Object.keys(r).map(g=>{const v=Ri[g],b=t.easy[g],w=x(g);return u.jsxs("div",{className:"bg-gradient-to-r from-slate-50 to-gray-50 rounded-lg p-5 border border-slate-200",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"w-3 h-3 bg-indigo-500 rounded-full"}),u.jsx("h4",{className:"font-semibold text-lg text-gray-800",children:r[g]}),u.jsxs("span",{className:"text-sm text-gray-500 bg-white px-2 py-1 rounded-full border",children:[": 0-",v," "]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:"text-sm text-gray-600",children:[": ",u.jsx("span",{className:"font-mono font-medium",children:b})," "]}),u.jsxs("div",{className:"text-xs text-indigo-600",children:[": ",u.jsx("span",{className:"font-semibold",children:w})," "]})]})]}),u.jsxs("div",{className:"flex items-center justify-center gap-4",children:[u.jsx("button",{onClick:()=>l(g,b-1),className:"w-10 h-10 rounded-full bg-red-100 hover:bg-red-200 flex items-center justify-center text-red-600 font-bold text-lg transition-colors shadow-sm",disabled:b<=0,children:"-"}),u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("div",{className:"text-3xl font-bold text-gray-800 mb-1",children:b}),u.jsx("div",{className:"text-xs text-gray-500",children:""})]}),u.jsx("button",{onClick:()=>l(g,b+1),className:"w-10 h-10 rounded-full bg-green-100 hover:bg-green-200 flex items-center justify-center text-green-600 font-bold text-lg transition-colors shadow-sm",disabled:b>=v,children:"+"})]}),u.jsxs("div",{className:"mt-4 flex justify-center gap-4",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center text-green-700 text-sm font-semibold mb-1",children:t.easy[g]}),u.jsx("div",{className:"text-xs text-green-700",children:""})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center text-yellow-700 text-sm font-semibold mb-1",children:t.normal[g]}),u.jsx("div",{className:"text-xs text-yellow-700",children:""})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center text-red-700 text-sm font-semibold mb-1",children:t.hard[g]}),u.jsx("div",{className:"text-xs text-red-700",children:""})]})]})]},g)})}),u.jsx("div",{className:"mt-6 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-blue-600 mt-0.5 flex-shrink-0",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"})}),u.jsxs("div",{className:"text-sm text-blue-800",children:[u.jsx("p",{className:"font-medium mb-2",children:" "}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-xs",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-blue-900 mb-1",children:" "}),u.jsx("p",{children:""})]}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-blue-900 mb-1",children:" "}),u.jsx("p",{children:": 0-10 | : 0-2"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-blue-900 mb-1",children:" "}),u.jsx("p",{children:" 0 "})]}),u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-blue-900 mb-1",children:" "}),u.jsx("p",{children:" 1-2 "})]})]})]})]})})]})};var Es={},yu,d0;function _3(){return d0||(d0=1,yu=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),yu}var vu={},ai={},f0;function Bi(){if(f0)return ai;f0=1;let t;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return ai.getSymbolSize=function(a){if(!a)throw new Error('"version" cannot be null or undefined');if(a<1||a>40)throw new Error('"version" should be in range from 1 to 40');return a*4+17},ai.getSymbolTotalCodewords=function(a){return e[a]},ai.getBCHDigit=function(i){let a=0;for(;i!==0;)a++,i>>>=1;return a},ai.setToSJISFunction=function(a){if(typeof a!="function")throw new Error('"toSJISFunc" is not a valid function.');t=a},ai.isKanjiModeEnabled=function(){return typeof t<"u"},ai.toSJIS=function(a){return t(a)},ai}var bu={},m0;function Td(){return m0||(m0=1,function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+i)}}t.isValid=function(a){return a&&typeof a.bit<"u"&&a.bit>=0&&a.bit<4},t.from=function(a,r){if(t.isValid(a))return a;try{return e(a)}catch{return r}}}(bu)),bu}var wu,h0;function M3(){if(h0)return wu;h0=1;function t(){this.buffer=[],this.length=0}return t.prototype={get:function(e){const i=Math.floor(e/8);return(this.buffer[i]>>>7-e%8&1)===1},put:function(e,i){for(let a=0;a<i;a++)this.putBit((e>>>i-a-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const i=Math.floor(this.length/8);this.buffer.length<=i&&this.buffer.push(0),e&&(this.buffer[i]|=128>>>this.length%8),this.length++}},wu=t,wu}var Cu,p0;function k3(){if(p0)return Cu;p0=1;function t(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return t.prototype.set=function(e,i,a,r){const l=e*this.size+i;this.data[l]=a,r&&(this.reservedBit[l]=!0)},t.prototype.get=function(e,i){return this.data[e*this.size+i]},t.prototype.xor=function(e,i,a){this.data[e*this.size+i]^=a},t.prototype.isReserved=function(e,i){return this.reservedBit[e*this.size+i]},Cu=t,Cu}var Su={},g0;function R3(){return g0||(g0=1,function(t){const e=Bi().getSymbolSize;t.getRowColCoords=function(a){if(a===1)return[];const r=Math.floor(a/7)+2,l=e(a),m=l===145?26:Math.ceil((l-13)/(2*r-2))*2,p=[l-7];for(let x=1;x<r-1;x++)p[x]=p[x-1]-m;return p.push(6),p.reverse()},t.getPositions=function(a){const r=[],l=t.getRowColCoords(a),m=l.length;for(let p=0;p<m;p++)for(let x=0;x<m;x++)p===0&&x===0||p===0&&x===m-1||p===m-1&&x===0||r.push([l[p],l[x]]);return r}}(Su)),Su}var Tu={},x0;function D3(){if(x0)return Tu;x0=1;const t=Bi().getSymbolSize,e=7;return Tu.getPositions=function(a){const r=t(a);return[[0,0],[r-e,0],[0,r-e]]},Tu}var Nu={},y0;function j3(){return y0||(y0=1,function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(r){return r!=null&&r!==""&&!isNaN(r)&&r>=0&&r<=7},t.from=function(r){return t.isValid(r)?parseInt(r,10):void 0},t.getPenaltyN1=function(r){const l=r.size;let m=0,p=0,x=0,g=null,v=null;for(let b=0;b<l;b++){p=x=0,g=v=null;for(let w=0;w<l;w++){let S=r.get(b,w);S===g?p++:(p>=5&&(m+=e.N1+(p-5)),g=S,p=1),S=r.get(w,b),S===v?x++:(x>=5&&(m+=e.N1+(x-5)),v=S,x=1)}p>=5&&(m+=e.N1+(p-5)),x>=5&&(m+=e.N1+(x-5))}return m},t.getPenaltyN2=function(r){const l=r.size;let m=0;for(let p=0;p<l-1;p++)for(let x=0;x<l-1;x++){const g=r.get(p,x)+r.get(p,x+1)+r.get(p+1,x)+r.get(p+1,x+1);(g===4||g===0)&&m++}return m*e.N2},t.getPenaltyN3=function(r){const l=r.size;let m=0,p=0,x=0;for(let g=0;g<l;g++){p=x=0;for(let v=0;v<l;v++)p=p<<1&2047|r.get(g,v),v>=10&&(p===1488||p===93)&&m++,x=x<<1&2047|r.get(v,g),v>=10&&(x===1488||x===93)&&m++}return m*e.N3},t.getPenaltyN4=function(r){let l=0;const m=r.data.length;for(let x=0;x<m;x++)l+=r.data[x];return Math.abs(Math.ceil(l*100/m/5)-10)*e.N4};function i(a,r,l){switch(a){case t.Patterns.PATTERN000:return(r+l)%2===0;case t.Patterns.PATTERN001:return r%2===0;case t.Patterns.PATTERN010:return l%3===0;case t.Patterns.PATTERN011:return(r+l)%3===0;case t.Patterns.PATTERN100:return(Math.floor(r/2)+Math.floor(l/3))%2===0;case t.Patterns.PATTERN101:return r*l%2+r*l%3===0;case t.Patterns.PATTERN110:return(r*l%2+r*l%3)%2===0;case t.Patterns.PATTERN111:return(r*l%3+(r+l)%2)%2===0;default:throw new Error("bad maskPattern:"+a)}}t.applyMask=function(r,l){const m=l.size;for(let p=0;p<m;p++)for(let x=0;x<m;x++)l.isReserved(x,p)||l.xor(x,p,i(r,x,p))},t.getBestMask=function(r,l){const m=Object.keys(t.Patterns).length;let p=0,x=1/0;for(let g=0;g<m;g++){l(g),t.applyMask(g,r);const v=t.getPenaltyN1(r)+t.getPenaltyN2(r)+t.getPenaltyN3(r)+t.getPenaltyN4(r);t.applyMask(g,r),v<x&&(x=v,p=g)}return p}}(Nu)),Nu}var wo={},v0;function Lx(){if(v0)return wo;v0=1;const t=Td(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],i=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return wo.getBlocksCount=function(r,l){switch(l){case t.L:return e[(r-1)*4+0];case t.M:return e[(r-1)*4+1];case t.Q:return e[(r-1)*4+2];case t.H:return e[(r-1)*4+3];default:return}},wo.getTotalCodewordsCount=function(r,l){switch(l){case t.L:return i[(r-1)*4+0];case t.M:return i[(r-1)*4+1];case t.Q:return i[(r-1)*4+2];case t.H:return i[(r-1)*4+3];default:return}},wo}var Eu={},$a={},b0;function I3(){if(b0)return $a;b0=1;const t=new Uint8Array(512),e=new Uint8Array(256);return function(){let a=1;for(let r=0;r<255;r++)t[r]=a,e[a]=r,a<<=1,a&256&&(a^=285);for(let r=255;r<512;r++)t[r]=t[r-255]}(),$a.log=function(a){if(a<1)throw new Error("log("+a+")");return e[a]},$a.exp=function(a){return t[a]},$a.mul=function(a,r){return a===0||r===0?0:t[e[a]+e[r]]},$a}var w0;function L3(){return w0||(w0=1,function(t){const e=I3();t.mul=function(a,r){const l=new Uint8Array(a.length+r.length-1);for(let m=0;m<a.length;m++)for(let p=0;p<r.length;p++)l[m+p]^=e.mul(a[m],r[p]);return l},t.mod=function(a,r){let l=new Uint8Array(a);for(;l.length-r.length>=0;){const m=l[0];for(let x=0;x<r.length;x++)l[x]^=e.mul(r[x],m);let p=0;for(;p<l.length&&l[p]===0;)p++;l=l.slice(p)}return l},t.generateECPolynomial=function(a){let r=new Uint8Array([1]);for(let l=0;l<a;l++)r=t.mul(r,new Uint8Array([1,e.exp(l)]));return r}}(Eu)),Eu}var Au,C0;function U3(){if(C0)return Au;C0=1;const t=L3();function e(i){this.genPoly=void 0,this.degree=i,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(a){this.degree=a,this.genPoly=t.generateECPolynomial(this.degree)},e.prototype.encode=function(a){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(a.length+this.degree);r.set(a);const l=t.mod(r,this.genPoly),m=this.degree-l.length;if(m>0){const p=new Uint8Array(this.degree);return p.set(l,m),p}return l},Au=e,Au}var _u={},Mu={},ku={},S0;function Ux(){return S0||(S0=1,ku.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),ku}var cn={},T0;function Px(){if(T0)return cn;T0=1;const t="[0-9]+",e="[A-Z $%*+\\-./:]+";let i="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";i=i.replace(/u/g,"\\u");const a="(?:(?![A-Z0-9 $%*+\\-./:]|"+i+`)(?:.|[\r
]))+`;cn.KANJI=new RegExp(i,"g"),cn.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),cn.BYTE=new RegExp(a,"g"),cn.NUMERIC=new RegExp(t,"g"),cn.ALPHANUMERIC=new RegExp(e,"g");const r=new RegExp("^"+i+"$"),l=new RegExp("^"+t+"$"),m=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return cn.testKanji=function(x){return r.test(x)},cn.testNumeric=function(x){return l.test(x)},cn.testAlphanumeric=function(x){return m.test(x)},cn}var N0;function Oi(){return N0||(N0=1,function(t){const e=Ux(),i=Px();t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(l,m){if(!l.ccBits)throw new Error("Invalid mode: "+l);if(!e.isValid(m))throw new Error("Invalid version: "+m);return m>=1&&m<10?l.ccBits[0]:m<27?l.ccBits[1]:l.ccBits[2]},t.getBestModeForData=function(l){return i.testNumeric(l)?t.NUMERIC:i.testAlphanumeric(l)?t.ALPHANUMERIC:i.testKanji(l)?t.KANJI:t.BYTE},t.toString=function(l){if(l&&l.id)return l.id;throw new Error("Invalid mode")},t.isValid=function(l){return l&&l.bit&&l.ccBits};function a(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+r)}}t.from=function(l,m){if(t.isValid(l))return l;try{return a(l)}catch{return m}}}(Mu)),Mu}var E0;function P3(){return E0||(E0=1,function(t){const e=Bi(),i=Lx(),a=Td(),r=Oi(),l=Ux(),m=7973,p=e.getBCHDigit(m);function x(w,S,T){for(let E=1;E<=40;E++)if(S<=t.getCapacity(E,T,w))return E}function g(w,S){return r.getCharCountIndicator(w,S)+4}function v(w,S){let T=0;return w.forEach(function(E){const A=g(E.mode,S);T+=A+E.getBitsLength()}),T}function b(w,S){for(let T=1;T<=40;T++)if(v(w,T)<=t.getCapacity(T,S,r.MIXED))return T}t.from=function(S,T){return l.isValid(S)?parseInt(S,10):T},t.getCapacity=function(S,T,E){if(!l.isValid(S))throw new Error("Invalid QR Code version");typeof E>"u"&&(E=r.BYTE);const A=e.getSymbolTotalCodewords(S),_=i.getTotalCodewordsCount(S,T),L=(A-_)*8;if(E===r.MIXED)return L;const U=L-g(E,S);switch(E){case r.NUMERIC:return Math.floor(U/10*3);case r.ALPHANUMERIC:return Math.floor(U/11*2);case r.KANJI:return Math.floor(U/13);case r.BYTE:default:return Math.floor(U/8)}},t.getBestVersionForData=function(S,T){let E;const A=a.from(T,a.M);if(Array.isArray(S)){if(S.length>1)return b(S,A);if(S.length===0)return 1;E=S[0]}else E=S;return x(E.mode,E.getLength(),A)},t.getEncodedBits=function(S){if(!l.isValid(S)||S<7)throw new Error("Invalid QR Code version");let T=S<<12;for(;e.getBCHDigit(T)-p>=0;)T^=m<<e.getBCHDigit(T)-p;return S<<12|T}}(_u)),_u}var Ru={},A0;function B3(){if(A0)return Ru;A0=1;const t=Bi(),e=1335,i=21522,a=t.getBCHDigit(e);return Ru.getEncodedBits=function(l,m){const p=l.bit<<3|m;let x=p<<10;for(;t.getBCHDigit(x)-a>=0;)x^=e<<t.getBCHDigit(x)-a;return(p<<10|x)^i},Ru}var Du={},ju,_0;function O3(){if(_0)return ju;_0=1;const t=Oi();function e(i){this.mode=t.NUMERIC,this.data=i.toString()}return e.getBitsLength=function(a){return 10*Math.floor(a/3)+(a%3?a%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(a){let r,l,m;for(r=0;r+3<=this.data.length;r+=3)l=this.data.substr(r,3),m=parseInt(l,10),a.put(m,10);const p=this.data.length-r;p>0&&(l=this.data.substr(r),m=parseInt(l,10),a.put(m,p*3+1))},ju=e,ju}var Iu,M0;function V3(){if(M0)return Iu;M0=1;const t=Oi(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function i(a){this.mode=t.ALPHANUMERIC,this.data=a}return i.getBitsLength=function(r){return 11*Math.floor(r/2)+6*(r%2)},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(r){let l;for(l=0;l+2<=this.data.length;l+=2){let m=e.indexOf(this.data[l])*45;m+=e.indexOf(this.data[l+1]),r.put(m,11)}this.data.length%2&&r.put(e.indexOf(this.data[l]),6)},Iu=i,Iu}var Lu,k0;function q3(){if(k0)return Lu;k0=1;const t=Oi();function e(i){this.mode=t.BYTE,typeof i=="string"?this.data=new TextEncoder().encode(i):this.data=new Uint8Array(i)}return e.getBitsLength=function(a){return a*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(i){for(let a=0,r=this.data.length;a<r;a++)i.put(this.data[a],8)},Lu=e,Lu}var Uu,R0;function $3(){if(R0)return Uu;R0=1;const t=Oi(),e=Bi();function i(a){this.mode=t.KANJI,this.data=a}return i.getBitsLength=function(r){return r*13},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(a){let r;for(r=0;r<this.data.length;r++){let l=e.toSJIS(this.data[r]);if(l>=33088&&l<=40956)l-=33088;else if(l>=57408&&l<=60351)l-=49472;else throw new Error("Invalid SJIS character: "+this.data[r]+`
Make sure your charset is UTF-8`);l=(l>>>8&255)*192+(l&255),a.put(l,13)}},Uu=i,Uu}var Pu={exports:{}},D0;function z3(){return D0||(D0=1,function(t){var e={single_source_shortest_paths:function(i,a,r){var l={},m={};m[a]=0;var p=e.PriorityQueue.make();p.push(a,0);for(var x,g,v,b,w,S,T,E,A;!p.empty();){x=p.pop(),g=x.value,b=x.cost,w=i[g]||{};for(v in w)w.hasOwnProperty(v)&&(S=w[v],T=b+S,E=m[v],A=typeof m[v]>"u",(A||E>T)&&(m[v]=T,p.push(v,T),l[v]=g))}if(typeof r<"u"&&typeof m[r]>"u"){var _=["Could not find a path from ",a," to ",r,"."].join("");throw new Error(_)}return l},extract_shortest_path_from_predecessor_list:function(i,a){for(var r=[],l=a;l;)r.push(l),i[l],l=i[l];return r.reverse(),r},find_path:function(i,a,r){var l=e.single_source_shortest_paths(i,a,r);return e.extract_shortest_path_from_predecessor_list(l,r)},PriorityQueue:{make:function(i){var a=e.PriorityQueue,r={},l;i=i||{};for(l in a)a.hasOwnProperty(l)&&(r[l]=a[l]);return r.queue=[],r.sorter=i.sorter||a.default_sorter,r},default_sorter:function(i,a){return i.cost-a.cost},push:function(i,a){var r={value:i,cost:a};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e}(Pu)),Pu.exports}var j0;function H3(){return j0||(j0=1,function(t){const e=Oi(),i=O3(),a=V3(),r=q3(),l=$3(),m=Px(),p=Bi(),x=z3();function g(_){return unescape(encodeURIComponent(_)).length}function v(_,L,U){const O=[];let F;for(;(F=_.exec(U))!==null;)O.push({data:F[0],index:F.index,mode:L,length:F[0].length});return O}function b(_){const L=v(m.NUMERIC,e.NUMERIC,_),U=v(m.ALPHANUMERIC,e.ALPHANUMERIC,_);let O,F;return p.isKanjiModeEnabled()?(O=v(m.BYTE,e.BYTE,_),F=v(m.KANJI,e.KANJI,_)):(O=v(m.BYTE_KANJI,e.BYTE,_),F=[]),L.concat(U,O,F).sort(function(j,z){return j.index-z.index}).map(function(j){return{data:j.data,mode:j.mode,length:j.length}})}function w(_,L){switch(L){case e.NUMERIC:return i.getBitsLength(_);case e.ALPHANUMERIC:return a.getBitsLength(_);case e.KANJI:return l.getBitsLength(_);case e.BYTE:return r.getBitsLength(_)}}function S(_){return _.reduce(function(L,U){const O=L.length-1>=0?L[L.length-1]:null;return O&&O.mode===U.mode?(L[L.length-1].data+=U.data,L):(L.push(U),L)},[])}function T(_){const L=[];for(let U=0;U<_.length;U++){const O=_[U];switch(O.mode){case e.NUMERIC:L.push([O,{data:O.data,mode:e.ALPHANUMERIC,length:O.length},{data:O.data,mode:e.BYTE,length:O.length}]);break;case e.ALPHANUMERIC:L.push([O,{data:O.data,mode:e.BYTE,length:O.length}]);break;case e.KANJI:L.push([O,{data:O.data,mode:e.BYTE,length:g(O.data)}]);break;case e.BYTE:L.push([{data:O.data,mode:e.BYTE,length:g(O.data)}])}}return L}function E(_,L){const U={},O={start:{}};let F=["start"];for(let H=0;H<_.length;H++){const j=_[H],z=[];for(let P=0;P<j.length;P++){const J=j[P],ne=""+H+P;z.push(ne),U[ne]={node:J,lastCount:0},O[ne]={};for(let W=0;W<F.length;W++){const Y=F[W];U[Y]&&U[Y].node.mode===J.mode?(O[Y][ne]=w(U[Y].lastCount+J.length,J.mode)-w(U[Y].lastCount,J.mode),U[Y].lastCount+=J.length):(U[Y]&&(U[Y].lastCount=J.length),O[Y][ne]=w(J.length,J.mode)+4+e.getCharCountIndicator(J.mode,L))}}F=z}for(let H=0;H<F.length;H++)O[F[H]].end=0;return{map:O,table:U}}function A(_,L){let U;const O=e.getBestModeForData(_);if(U=e.from(L,O),U!==e.BYTE&&U.bit<O.bit)throw new Error('"'+_+'" cannot be encoded with mode '+e.toString(U)+`.
 Suggested mode is: `+e.toString(O));switch(U===e.KANJI&&!p.isKanjiModeEnabled()&&(U=e.BYTE),U){case e.NUMERIC:return new i(_);case e.ALPHANUMERIC:return new a(_);case e.KANJI:return new l(_);case e.BYTE:return new r(_)}}t.fromArray=function(L){return L.reduce(function(U,O){return typeof O=="string"?U.push(A(O,null)):O.data&&U.push(A(O.data,O.mode)),U},[])},t.fromString=function(L,U){const O=b(L,p.isKanjiModeEnabled()),F=T(O),H=E(F,U),j=x.find_path(H.map,"start","end"),z=[];for(let P=1;P<j.length-1;P++)z.push(H.table[j[P]].node);return t.fromArray(S(z))},t.rawSplit=function(L){return t.fromArray(b(L,p.isKanjiModeEnabled()))}}(Du)),Du}var I0;function G3(){if(I0)return vu;I0=1;const t=Bi(),e=Td(),i=M3(),a=k3(),r=R3(),l=D3(),m=j3(),p=Lx(),x=U3(),g=P3(),v=B3(),b=Oi(),w=H3();function S(H,j){const z=H.size,P=l.getPositions(j);for(let J=0;J<P.length;J++){const ne=P[J][0],W=P[J][1];for(let Y=-1;Y<=7;Y++)if(!(ne+Y<=-1||z<=ne+Y))for(let K=-1;K<=7;K++)W+K<=-1||z<=W+K||(Y>=0&&Y<=6&&(K===0||K===6)||K>=0&&K<=6&&(Y===0||Y===6)||Y>=2&&Y<=4&&K>=2&&K<=4?H.set(ne+Y,W+K,!0,!0):H.set(ne+Y,W+K,!1,!0))}}function T(H){const j=H.size;for(let z=8;z<j-8;z++){const P=z%2===0;H.set(z,6,P,!0),H.set(6,z,P,!0)}}function E(H,j){const z=r.getPositions(j);for(let P=0;P<z.length;P++){const J=z[P][0],ne=z[P][1];for(let W=-2;W<=2;W++)for(let Y=-2;Y<=2;Y++)W===-2||W===2||Y===-2||Y===2||W===0&&Y===0?H.set(J+W,ne+Y,!0,!0):H.set(J+W,ne+Y,!1,!0)}}function A(H,j){const z=H.size,P=g.getEncodedBits(j);let J,ne,W;for(let Y=0;Y<18;Y++)J=Math.floor(Y/3),ne=Y%3+z-8-3,W=(P>>Y&1)===1,H.set(J,ne,W,!0),H.set(ne,J,W,!0)}function _(H,j,z){const P=H.size,J=v.getEncodedBits(j,z);let ne,W;for(ne=0;ne<15;ne++)W=(J>>ne&1)===1,ne<6?H.set(ne,8,W,!0):ne<8?H.set(ne+1,8,W,!0):H.set(P-15+ne,8,W,!0),ne<8?H.set(8,P-ne-1,W,!0):ne<9?H.set(8,15-ne-1+1,W,!0):H.set(8,15-ne-1,W,!0);H.set(P-8,8,1,!0)}function L(H,j){const z=H.size;let P=-1,J=z-1,ne=7,W=0;for(let Y=z-1;Y>0;Y-=2)for(Y===6&&Y--;;){for(let K=0;K<2;K++)if(!H.isReserved(J,Y-K)){let le=!1;W<j.length&&(le=(j[W]>>>ne&1)===1),H.set(J,Y-K,le),ne--,ne===-1&&(W++,ne=7)}if(J+=P,J<0||z<=J){J-=P,P=-P;break}}}function U(H,j,z){const P=new i;z.forEach(function(K){P.put(K.mode.bit,4),P.put(K.getLength(),b.getCharCountIndicator(K.mode,H)),K.write(P)});const J=t.getSymbolTotalCodewords(H),ne=p.getTotalCodewordsCount(H,j),W=(J-ne)*8;for(P.getLengthInBits()+4<=W&&P.put(0,4);P.getLengthInBits()%8!==0;)P.putBit(0);const Y=(W-P.getLengthInBits())/8;for(let K=0;K<Y;K++)P.put(K%2?17:236,8);return O(P,H,j)}function O(H,j,z){const P=t.getSymbolTotalCodewords(j),J=p.getTotalCodewordsCount(j,z),ne=P-J,W=p.getBlocksCount(j,z),Y=P%W,K=W-Y,le=Math.floor(P/W),I=Math.floor(ne/W),Z=I+1,oe=le-I,Ce=new x(oe);let R=0;const ee=new Array(W),ae=new Array(W);let se=0;const he=new Uint8Array(H.buffer);for(let ht=0;ht<W;ht++){const re=ht<K?I:Z;ee[ht]=he.slice(R,R+re),ae[ht]=Ce.encode(ee[ht]),R+=re,se=Math.max(se,re)}const Ee=new Uint8Array(P);let xe=0,Ye,ke;for(Ye=0;Ye<se;Ye++)for(ke=0;ke<W;ke++)Ye<ee[ke].length&&(Ee[xe++]=ee[ke][Ye]);for(Ye=0;Ye<oe;Ye++)for(ke=0;ke<W;ke++)Ee[xe++]=ae[ke][Ye];return Ee}function F(H,j,z,P){let J;if(Array.isArray(H))J=w.fromArray(H);else if(typeof H=="string"){let le=j;if(!le){const I=w.rawSplit(H);le=g.getBestVersionForData(I,z)}J=w.fromString(H,le||40)}else throw new Error("Invalid data");const ne=g.getBestVersionForData(J,z);if(!ne)throw new Error("The amount of data is too big to be stored in a QR Code");if(!j)j=ne;else if(j<ne)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+ne+`.
`);const W=U(j,z,J),Y=t.getSymbolSize(j),K=new a(Y);return S(K,j),T(K),E(K,j),_(K,z,0),j>=7&&A(K,j),L(K,W),isNaN(P)&&(P=m.getBestMask(K,_.bind(null,K,z))),m.applyMask(P,K),_(K,z,P),{modules:K,version:j,errorCorrectionLevel:z,maskPattern:P,segments:J}}return vu.create=function(j,z){if(typeof j>"u"||j==="")throw new Error("No input text");let P=e.M,J,ne;return typeof z<"u"&&(P=e.from(z.errorCorrectionLevel,e.M),J=g.from(z.version),ne=m.from(z.maskPattern),z.toSJISFunc&&t.setToSJISFunction(z.toSJISFunc)),F(j,J,P,ne)},vu}var Bu={},Ou={},L0;function Bx(){return L0||(L0=1,function(t){function e(i){if(typeof i=="number"&&(i=i.toString()),typeof i!="string")throw new Error("Color should be defined as hex string");let a=i.slice().replace("#","").split("");if(a.length<3||a.length===5||a.length>8)throw new Error("Invalid hex color: "+i);(a.length===3||a.length===4)&&(a=Array.prototype.concat.apply([],a.map(function(l){return[l,l]}))),a.length===6&&a.push("F","F");const r=parseInt(a.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:r&255,hex:"#"+a.slice(0,6).join("")}}t.getOptions=function(a){a||(a={}),a.color||(a.color={});const r=typeof a.margin>"u"||a.margin===null||a.margin<0?4:a.margin,l=a.width&&a.width>=21?a.width:void 0,m=a.scale||4;return{width:l,scale:l?4:m,margin:r,color:{dark:e(a.color.dark||"#000000ff"),light:e(a.color.light||"#ffffffff")},type:a.type,rendererOpts:a.rendererOpts||{}}},t.getScale=function(a,r){return r.width&&r.width>=a+r.margin*2?r.width/(a+r.margin*2):r.scale},t.getImageWidth=function(a,r){const l=t.getScale(a,r);return Math.floor((a+r.margin*2)*l)},t.qrToImageData=function(a,r,l){const m=r.modules.size,p=r.modules.data,x=t.getScale(m,l),g=Math.floor((m+l.margin*2)*x),v=l.margin*x,b=[l.color.light,l.color.dark];for(let w=0;w<g;w++)for(let S=0;S<g;S++){let T=(w*g+S)*4,E=l.color.light;if(w>=v&&S>=v&&w<g-v&&S<g-v){const A=Math.floor((w-v)/x),_=Math.floor((S-v)/x);E=b[p[A*m+_]?1:0]}a[T++]=E.r,a[T++]=E.g,a[T++]=E.b,a[T]=E.a}}}(Ou)),Ou}var U0;function F3(){return U0||(U0=1,function(t){const e=Bx();function i(r,l,m){r.clearRect(0,0,l.width,l.height),l.style||(l.style={}),l.height=m,l.width=m,l.style.height=m+"px",l.style.width=m+"px"}function a(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(l,m,p){let x=p,g=m;typeof x>"u"&&(!m||!m.getContext)&&(x=m,m=void 0),m||(g=a()),x=e.getOptions(x);const v=e.getImageWidth(l.modules.size,x),b=g.getContext("2d"),w=b.createImageData(v,v);return e.qrToImageData(w.data,l,x),i(b,g,v),b.putImageData(w,0,0),g},t.renderToDataURL=function(l,m,p){let x=p;typeof x>"u"&&(!m||!m.getContext)&&(x=m,m=void 0),x||(x={});const g=t.render(l,m,x),v=x.type||"image/png",b=x.rendererOpts||{};return g.toDataURL(v,b.quality)}}(Bu)),Bu}var Vu={},P0;function Y3(){if(P0)return Vu;P0=1;const t=Bx();function e(r,l){const m=r.a/255,p=l+'="'+r.hex+'"';return m<1?p+" "+l+'-opacity="'+m.toFixed(2).slice(1)+'"':p}function i(r,l,m){let p=r+l;return typeof m<"u"&&(p+=" "+m),p}function a(r,l,m){let p="",x=0,g=!1,v=0;for(let b=0;b<r.length;b++){const w=Math.floor(b%l),S=Math.floor(b/l);!w&&!g&&(g=!0),r[b]?(v++,b>0&&w>0&&r[b-1]||(p+=g?i("M",w+m,.5+S+m):i("m",x,0),x=0,g=!1),w+1<l&&r[b+1]||(p+=i("h",v),v=0)):x++}return p}return Vu.render=function(l,m,p){const x=t.getOptions(m),g=l.modules.size,v=l.modules.data,b=g+x.margin*2,w=x.color.light.a?"<path "+e(x.color.light,"fill")+' d="M0 0h'+b+"v"+b+'H0z"/>':"",S="<path "+e(x.color.dark,"stroke")+' d="'+a(v,g,x.margin)+'"/>',T='viewBox="0 0 '+b+" "+b+'"',A='<svg xmlns="http://www.w3.org/2000/svg" '+(x.width?'width="'+x.width+'" height="'+x.width+'" ':"")+T+' shape-rendering="crispEdges">'+w+S+`</svg>
`;return typeof p=="function"&&p(null,A),A},Vu}var B0;function Z3(){if(B0)return Es;B0=1;const t=_3(),e=G3(),i=F3(),a=Y3();function r(l,m,p,x,g){const v=[].slice.call(arguments,1),b=v.length,w=typeof v[b-1]=="function";if(!w&&!t())throw new Error("Callback required as last argument");if(w){if(b<2)throw new Error("Too few arguments provided");b===2?(g=p,p=m,m=x=void 0):b===3&&(m.getContext&&typeof g>"u"?(g=x,x=void 0):(g=x,x=p,p=m,m=void 0))}else{if(b<1)throw new Error("Too few arguments provided");return b===1?(p=m,m=x=void 0):b===2&&!m.getContext&&(x=p,p=m,m=void 0),new Promise(function(S,T){try{const E=e.create(p,x);S(l(E,m,x))}catch(E){T(E)}})}try{const S=e.create(p,x);g(null,l(S,m,x))}catch(S){g(S)}}return Es.create=e.create,Es.toCanvas=r.bind(null,i.render),Es.toDataURL=r.bind(null,i.renderToDataURL),Es.toString=r.bind(null,function(l,m,p){return a.render(l,p)}),Es}var J3=Z3();const O0=hd(J3),ud=({url:t,title:e="QR Code",size:i=256,className:a="",showDownload:r=!0,onError:l})=>{const[m,p]=M.useState(""),[x,g]=M.useState(!0),[v,b]=M.useState(null),w=M.useRef(null);M.useEffect(()=>{t&&(async()=>{try{g(!0),b(null);const A={width:i,margin:2,color:{dark:"#000000",light:"#FFFFFF"},errorCorrectionLevel:"M"},_=await O0.toDataURL(t,A);p(_),w.current&&await O0.toCanvas(w.current,t,A)}catch(A){const _=A instanceof Error?A.message:"QR Code ";b(_),l==null||l(_)}finally{g(!1)}})()},[t,i,l]);const S=()=>{if(w.current)try{const E=document.createElement("a");E.download=`qrcode-${Date.now()}.png`,E.href=w.current.toDataURL(),document.body.appendChild(E),E.click(),document.body.removeChild(E)}catch(E){console.error(" QR Code :",E)}},T=async()=>{if(w.current)try{w.current.toBlob(async E=>{if(E&&navigator.clipboard)try{await navigator.clipboard.write([new ClipboardItem({"image/png":E})]),alert("QR Code ")}catch(A){console.error(":",A),alert("")}})}catch(E){console.error(" QR Code :",E)}};return x?u.jsxs("div",{className:`flex flex-col items-center p-4 ${a}`,children:[u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mb-3"}),u.jsx("p",{className:"text-sm text-gray-600",children:" QR Code ..."})]}):v?u.jsxs("div",{className:`flex flex-col items-center p-4 text-red-600 ${a}`,children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8 mb-2",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})}),u.jsx("p",{className:"text-sm text-center",children:v})]}):u.jsxs("div",{className:`flex flex-col items-center ${a}`,children:[e&&u.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3 text-center",children:e}),u.jsx("div",{className:"bg-white p-4 rounded-lg shadow-md border",children:u.jsx("img",{src:m,alt:`QR Code for ${e}`,className:"block",style:{width:i,height:i}})}),u.jsx("canvas",{ref:w,style:{display:"none"},width:i,height:i}),u.jsx("div",{className:"mt-3 max-w-xs w-full",children:u.jsx("p",{className:"text-xs text-gray-500 text-center break-all",children:t})}),r&&u.jsxs("div",{className:"mt-4 flex gap-2",children:[u.jsxs("button",{onClick:S,className:"flex items-center gap-2 px-3 py-2 bg-indigo-600 text-white text-sm rounded-lg hover:bg-indigo-700 transition-colors",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})}),""]}),u.jsxs("button",{onClick:T,className:"flex items-center gap-2 px-3 py-2 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 transition-colors",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"})}),""]})]})]})},V0=[{key:"objectives",label:""},{key:"breakdown",label:""},{key:"confusing",label:""},{key:"activities",label:""},{key:"conversation",label:""},{key:"writing",label:""},{key:"quiz",label:""}],Nd=({content:t,topic:e,selectedLevel:i,selectedVocabularyLevel:a,apiKey:r,onContentUpdate:l})=>{const[m,p]=je.useState(""),[x,g]=je.useState(""),[v,b]=je.useState(V0[0].key),[w,S]=je.useState(!1),[T,E]=je.useState(""),[A,_]=je.useState(""),[L,U]=je.useState(!1),[O,F]=je.useState(""),[H,j]=je.useState(""),[z,P]=je.useState(!1),[J,ne]=je.useState(!1),[W,Y]=je.useState(""),[K,le]=je.useState(""),[I,Z]=je.useState(!1),[oe,Ce]=je.useState(bx),[R,ee]=je.useState(!1),[ae,se]=je.useState(!1),he=()=>{navigator.clipboard.writeText(JSON.stringify(t,null,2)).then(()=>{p("JSON "),setTimeout(()=>p(""),2e3)}).catch(re=>{p(""),console.error("Failed to copy: ",re),setTimeout(()=>p(""),2e3)})},Ee=()=>{try{b3(t,e),g("HTML "),setTimeout(()=>g(""),3e3)}catch(re){console.error("Failed to export HTML:",re),g(" HTML "),setTimeout(()=>g(""),3e3)}},xe=async()=>{S(!0),E(""),_("");try{const re={...t,topic:e,selectedLevel:i,selectedVocabularyLevel:a,sharedAt:new Date().toISOString()},He=await Mx(re),Pe=`${window.location.origin}/ai-page-gen/share?binId=${He}`;_(Pe)}catch(re){E(re.message||"")}finally{S(!1)}},Ye=async()=>{if(U(!0),F(""),j(""),!t.onlineInteractiveQuiz){F(""),U(!1);return}try{const re=await c3({quiz:t.onlineInteractiveQuiz,topic:e,apiKey:r,metadata:{selectedLevel:i==null?void 0:i.name,selectedVocabularyLevel:a==null?void 0:a.name,createdAt:new Date().toISOString(),supportsDiagnostic:!!r}});let He=`${window.location.origin}/ai-page-gen/quiz?binId=${re}`;if(r)try{const Pe=await u0(r);He+=`&${Pe}`}catch(Pe){console.warn(" API Key  API Key:",Pe)}j(He)}catch(re){F(re.message||"")}finally{U(!1)}},ke=async()=>{if(ne(!0),Y(""),le(""),!t.writingPractice){Y(""),ne(!1);return}try{const re=await d3({writingPractice:t.writingPractice,topic:e,metadata:{selectedLevel:i==null?void 0:i.name,selectedVocabularyLevel:a==null?void 0:a.name,createdAt:new Date().toISOString()}});let He=`${window.location.origin}/ai-page-gen/writing?binId=${re}`;if(r)try{const Pe=await u0(r);He+=`&${Pe}`}catch(Pe){console.warn(" API Key  API Key:",Pe)}le(He)}catch(re){Y(re.message||"")}finally{ne(!1)}},ht=async()=>{if(!t.learningObjectives){alert("");return}const re=localStorage.getItem("gemini_api_key")||localStorage.getItem("geminiApiKey")||r;if(!re){alert(" Gemini API ");return}ee(!0);try{const He=await G4(e,re,t.learningObjectives,oe,i,a),Pe={...t,onlineInteractiveQuiz:He};l&&l(Pe),se(!1),alert("")}catch(He){console.error(":",He),alert(": "+(He.message||""))}finally{ee(!1)}};return u.jsxs("div",{className:"mt-8",children:[u.jsxs("div",{className:"flex flex-wrap justify-end items-center gap-2 mb-4",children:[u.jsxs("button",{onClick:he,className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors flex items-center text-sm","aria-label":" JSON ",children:[u.jsx(n3,{className:"w-4 h-4 mr-2"}),"  JSON"]}),u.jsxs("button",{onClick:Ee,className:"px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition-colors flex items-center text-sm","aria-label":" HTML ",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4 mr-2",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})})," HTML"]}),u.jsx("button",{onClick:xe,className:"px-4 py-2 bg-purple-500 text-white rounded-md hover:bg-purple-600 transition-colors flex items-center text-sm disabled:opacity-60","aria-label":"",disabled:w,children:w?u.jsxs("span",{className:"flex items-center",children:[u.jsx("span",{className:"animate-spin mr-2",children:""})," ..."]}):u.jsx("span",{children:""})}),m&&u.jsx("span",{className:"text-sm text-green-600",children:m}),x&&u.jsx("span",{className:"text-sm text-blue-600",children:x}),T&&u.jsx("span",{className:"text-sm text-red-600",children:T})]}),A&&u.jsxs("div",{className:"mb-4 p-4 bg-purple-50 border border-purple-200 rounded-lg",children:[u.jsx("p",{className:"text-sm text-purple-700 mb-2",children:""}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"text",value:A,readOnly:!0,className:"flex-1 px-3 py-2 bg-white border border-purple-300 rounded text-sm",onClick:()=>navigator.clipboard.writeText(A)}),u.jsx("button",{onClick:()=>navigator.clipboard.writeText(A),className:"px-3 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 text-sm",children:""})]})]}),u.jsx("div",{className:"mb-8 p-6 bg-gradient-to-r from-indigo-50 to-blue-50 border border-indigo-200 rounded-lg shadow-sm",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(rd,{className:"w-5 h-5 text-indigo-600 flex-shrink-0"}),u.jsx("span",{className:"text-sm font-medium text-indigo-600",children:""})]}),u.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-0 truncate",children:e})]}),(i||a)&&u.jsxs("div",{className:"flex gap-3 ml-6 flex-shrink-0",children:[i&&u.jsxs("div",{className:"bg-white px-3 py-2 rounded-lg shadow-sm border border-indigo-100",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(en,{className:"w-4 h-4 text-indigo-500"}),u.jsx("span",{className:"text-xs font-medium text-indigo-600",children:""})]}),u.jsx("div",{className:"text-sm font-semibold text-gray-900",children:i.name}),u.jsx("div",{className:"text-xs text-gray-500 truncate max-w-32",title:i.description,children:i.description.length>20?i.description.substring(0,20)+"...":i.description})]}),a&&u.jsxs("div",{className:"bg-white px-3 py-2 rounded-lg shadow-sm border border-blue-100",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(Oo,{className:"w-4 h-4 text-blue-500"}),u.jsx("span",{className:"text-xs font-medium text-blue-600",children:""})]}),u.jsx("div",{className:"text-sm font-semibold text-gray-900",children:a.name}),u.jsxs("div",{className:"text-xs text-gray-500",children:[a.wordCount," "]})]})]})]})}),u.jsxs(E3,{tabs:V0,current:v,onChange:b,children:[u.jsx(Wt,{title:"",icon:u.jsx(en,{className:"w-7 h-7"}),children:t.learningObjectives&&t.learningObjectives.length>0?t.learningObjectives.map((re,He)=>u.jsxs("div",{className:"mb-4 pb-4 border-b border-slate-200 last:border-b-0 last:pb-0",children:[u.jsx("h4",{className:"font-semibold text-lg text-green-800 mb-1",children:re.objective}),u.jsx("p",{className:"text-slate-700 mb-2",children:re.description}),re.teachingExample&&u.jsxs("div",{className:"bg-green-50 border-l-4 border-green-400 p-3 rounded-md mt-2",children:[u.jsx("span",{className:"block text-xs font-semibold text-green-700 mb-1",children:""}),u.jsx("span",{className:"text-green-900 text-sm",children:re.teachingExample})]})]},He)):u.jsx("p",{children:""})}),u.jsx(Wt,{title:"",icon:u.jsx(Oo,{className:"w-7 h-7"}),children:t.contentBreakdown&&t.contentBreakdown.length>0?t.contentBreakdown.map((re,He)=>u.jsxs("div",{className:"mb-6 pb-6 border-b border-slate-200 last:border-b-0 last:pb-0",children:[u.jsx("h4",{className:"font-semibold text-lg text-sky-800 mb-1",children:re.topic}),u.jsx("p",{className:"text-slate-700 mb-3",children:re.details}),re.coreConcept&&u.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-3 rounded-md mb-3",children:[u.jsx("span",{className:"block text-xs font-semibold text-blue-700 mb-1",children:""}),u.jsx("span",{className:"text-blue-900 text-sm",children:re.coreConcept})]}),re.teachingSentences&&re.teachingSentences.length>0&&u.jsxs("div",{className:"bg-indigo-50 border-l-4 border-indigo-400 p-3 rounded-md mb-3",children:[u.jsx("span",{className:"block text-xs font-semibold text-indigo-700 mb-2",children:""}),u.jsx("div",{className:"space-y-1",children:re.teachingSentences.map((Pe,rt)=>u.jsxs("div",{className:"text-indigo-900 text-sm",children:[u.jsxs("span",{className:"font-mono text-indigo-600",children:[rt+1,"."]})," ",Pe]},rt))})]}),re.teachingTips&&u.jsxs("div",{className:"bg-purple-50 border-l-4 border-purple-400 p-3 rounded-md mb-3",children:[u.jsx("span",{className:"block text-xs font-semibold text-purple-700 mb-1",children:""}),u.jsx("span",{className:"text-purple-900 text-sm",children:re.teachingTips})]}),re.teachingExample&&u.jsxs("div",{className:"bg-sky-50 border-l-4 border-sky-400 p-3 rounded-md",children:[u.jsx("span",{className:"block text-xs font-semibold text-sky-700 mb-1",children:""}),u.jsx("span",{className:"text-sky-900 text-sm",children:re.teachingExample})]})]},He)):u.jsx("p",{children:""})}),u.jsx(Wt,{title:"",icon:u.jsx(rd,{className:"w-7 h-7"}),children:t.confusingPoints&&t.confusingPoints.length>0?t.confusingPoints.map((re,He)=>u.jsxs("div",{className:"mb-6 pb-6 border-b border-slate-200 last:border-b-0 last:pb-0",children:[u.jsx("h4",{className:"font-semibold text-lg text-red-700 mb-2",children:re.point}),u.jsx("p",{className:"text-slate-700 mb-3",children:re.clarification}),re.errorType&&u.jsxs("div",{className:"bg-orange-50 border-l-4 border-orange-400 p-3 rounded-md mb-3",children:[u.jsx("span",{className:"block text-xs font-semibold text-orange-700 mb-1",children:""}),u.jsx("span",{className:"text-orange-900 text-sm",children:re.errorType})]}),re.commonErrors&&re.commonErrors.length>0&&u.jsxs("div",{className:"bg-red-50 border-l-4 border-red-400 p-3 rounded-md mb-3",children:[u.jsx("span",{className:"block text-xs font-semibold text-red-700 mb-2",children:""}),u.jsx("div",{className:"space-y-1",children:re.commonErrors.map((Pe,rt)=>u.jsxs("div",{className:"text-red-900 text-sm",children:[u.jsxs("span",{className:"font-mono text-red-600",children:[rt+1,"."]})," ",Pe]},rt))})]}),re.correctVsWrong&&re.correctVsWrong.length>0&&u.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-3 rounded-md mb-3",children:[u.jsx("span",{className:"block text-xs font-semibold text-yellow-700 mb-2",children:""}),u.jsx("div",{className:"space-y-3",children:re.correctVsWrong.map((Pe,rt)=>u.jsxs("div",{className:"border border-yellow-200 rounded-md p-2 bg-white",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-2",children:[u.jsxs("div",{className:"bg-green-50 p-2 rounded border border-green-200",children:[u.jsx("span",{className:"block text-xs font-semibold text-green-700 mb-1",children:" "}),u.jsx("span",{className:"text-green-900 text-sm",children:Pe.correct})]}),u.jsxs("div",{className:"bg-red-50 p-2 rounded border border-red-200",children:[u.jsx("span",{className:"block text-xs font-semibold text-red-700 mb-1",children:" "}),u.jsx("span",{className:"text-red-900 text-sm",children:Pe.wrong})]})]}),u.jsxs("div",{className:"bg-blue-50 p-2 rounded border border-blue-200",children:[u.jsx("span",{className:"block text-xs font-semibold text-blue-700 mb-1",children:""}),u.jsx("span",{className:"text-blue-900 text-sm",children:Pe.explanation})]})]},rt))})]}),re.preventionStrategy&&u.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-3 rounded-md mb-3",children:[u.jsx("span",{className:"block text-xs font-semibold text-blue-700 mb-1",children:""}),u.jsx("span",{className:"text-blue-900 text-sm",children:re.preventionStrategy})]}),re.correctionMethod&&u.jsxs("div",{className:"bg-purple-50 border-l-4 border-purple-400 p-3 rounded-md mb-3",children:[u.jsx("span",{className:"block text-xs font-semibold text-purple-700 mb-1",children:""}),u.jsx("span",{className:"text-purple-900 text-sm",children:re.correctionMethod})]}),re.practiceActivities&&re.practiceActivities.length>0&&u.jsxs("div",{className:"bg-indigo-50 border-l-4 border-indigo-400 p-3 rounded-md mb-3",children:[u.jsx("span",{className:"block text-xs font-semibold text-indigo-700 mb-2",children:""}),u.jsx("div",{className:"space-y-1",children:re.practiceActivities.map((Pe,rt)=>u.jsxs("div",{className:"text-indigo-900 text-sm",children:[u.jsxs("span",{className:"font-mono text-indigo-600",children:[rt+1,"."]})," ",Pe]},rt))})]}),re.teachingExample&&u.jsxs("div",{className:"bg-gray-50 border-l-4 border-gray-400 p-3 rounded-md",children:[u.jsx("span",{className:"block text-xs font-semibold text-gray-700 mb-1",children:""}),u.jsx("span",{className:"text-gray-900 text-sm",children:re.teachingExample})]})]},He)):u.jsx("p",{children:""})}),u.jsx(Wt,{title:"",icon:u.jsx(t3,{className:"w-7 h-7"}),children:t.classroomActivities&&t.classroomActivities.length>0?u.jsx("div",{className:"space-y-6",children:t.classroomActivities.map((re,He)=>u.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl shadow-sm hover:shadow-md transition-shadow duration-200",children:[u.jsxs("div",{className:"bg-gradient-to-r from-sky-50 to-blue-50 px-6 py-4 border-b border-slate-200 rounded-t-xl",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-sky-500 text-white rounded-full font-bold text-sm",children:He+1}),u.jsx("h4",{className:"font-bold text-xl text-sky-800",children:re.title})]}),u.jsx("p",{className:"mt-3 text-slate-700 leading-relaxed",children:re.description})]}),u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[re.objective&&u.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),u.jsx("span",{className:"font-semibold text-green-800 text-sm",children:""})]}),u.jsx("p",{className:"text-green-900 text-sm leading-relaxed",children:re.objective})]}),re.timing&&u.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),u.jsx("span",{className:"font-semibold text-purple-800 text-sm",children:""})]}),u.jsx("p",{className:"text-purple-900 text-sm leading-relaxed",children:re.timing})]}),re.materials&&u.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),u.jsx("span",{className:"font-semibold text-orange-800 text-sm",children:""})]}),u.jsx("p",{className:"text-orange-900 text-sm leading-relaxed",children:re.materials})]}),re.environment&&u.jsxs("div",{className:"bg-teal-50 border border-teal-200 rounded-lg p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("div",{className:"w-2 h-2 bg-teal-500 rounded-full"}),u.jsx("span",{className:"font-semibold text-teal-800 text-sm",children:""})]}),u.jsx("p",{className:"text-teal-900 text-sm leading-relaxed",children:re.environment})]})]}),re.steps&&re.steps.length>0&&u.jsx("div",{className:"mb-6",children:u.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5 text-blue-600",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0ZM3.75 12h.007v.008H3.75V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm-.375 5.25h.007v.008H3.75v-.008Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"})}),u.jsx("span",{className:"font-semibold text-blue-800",children:""})]}),u.jsx("div",{className:"space-y-3",children:re.steps.map((Pe,rt)=>u.jsxs("div",{className:"flex gap-3",children:[u.jsx("div",{className:"flex items-center justify-center w-6 h-6 bg-blue-500 text-white rounded-full font-semibold text-xs flex-shrink-0 mt-0.5",children:rt+1}),u.jsx("p",{className:"text-blue-900 text-sm leading-relaxed flex-1",children:Pe})]},rt))})]})}),re.assessmentPoints&&re.assessmentPoints.length>0&&u.jsx("div",{children:u.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-4",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5 text-indigo-600",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.746 3.746 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"})}),u.jsx("span",{className:"font-semibold text-indigo-800",children:""})]}),u.jsx("div",{className:"space-y-2",children:re.assessmentPoints.map((Pe,rt)=>u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("div",{className:"w-2 h-2 bg-indigo-500 rounded-full mt-2 flex-shrink-0"}),u.jsx("p",{className:"text-indigo-900 text-sm leading-relaxed",children:Pe})]},rt))})]})})]})]},He))}):u.jsx("p",{children:""})}),t.englishConversation&&t.englishConversation.length>0?u.jsx(y3,{dialogue:t.englishConversation}):u.jsx(Wt,{title:"",icon:u.jsx(od,{className:"w-7 h-7"}),children:u.jsx("p",{children:""})}),t.writingPractice?u.jsxs("div",{children:[u.jsx("div",{className:"flex justify-end mb-4",children:u.jsx("button",{onClick:ke,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center gap-2 text-sm",disabled:J,children:J?u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"animate-spin",children:""}),"..."]}):u.jsxs(u.Fragment,{children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.935-2.186 2.25 2.25 0 0 0-3.935 2.186Z"})}),""]})})}),W&&u.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-lg",children:W}),K&&u.jsxs("div",{className:"mb-4 p-4 bg-purple-50 border border-purple-200 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("p",{className:"text-sm text-purple-700",children:""}),r&&u.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full",children:" AI "})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"text",value:K,readOnly:!0,className:"flex-1 px-3 py-2 bg-white border border-purple-300 rounded text-sm",onClick:()=>navigator.clipboard.writeText(K)}),u.jsx("button",{onClick:()=>navigator.clipboard.writeText(K),className:"px-3 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 text-sm",children:""}),u.jsxs("button",{onClick:()=>Z(!I),className:"px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm flex items-center gap-1",children:[u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 3.75 9.375v-4.5ZM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5ZM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 13.5 9.375v-4.5Z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 6.75h.75v.75h-.75v-.75ZM6.75 16.5h.75v.75h-.75v-.75ZM16.5 6.75h.75v.75h-.75v-.75ZM13.5 13.5H8.25v1.5H13.5V13.5ZM13.5 16.5H8.25V18H13.5v-1.5ZM16.5 16.5h1.5V18h-1.5v-1.5ZM16.5 13.5h1.5v1.5h-1.5v-1.5Z"})]}),"QR Code"]})]}),I&&u.jsx("div",{className:"mt-4 flex justify-center",children:u.jsx(ud,{url:K,title:" QR Code",size:200,className:"bg-white p-4 rounded-lg shadow-sm"})}),r&&u.jsx("p",{className:"text-xs text-purple-600 mt-2",children:"  API Key AI "})]}),u.jsx(Rx,{content:t.writingPractice,apiKey:r,vocabularyLevel:a||void 0})]}):u.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center border border-gray-200",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-16 h-16 text-gray-400 mx-auto mb-4",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})}),u.jsx("h4",{className:"text-lg font-semibold text-gray-700 mb-2",children:""}),u.jsx("p",{className:"text-gray-500",children:""})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex flex-wrap justify-end items-center gap-2 mb-4",children:[u.jsx("button",{onClick:Ye,className:"px-4 py-2 bg-orange-500 text-white rounded-md hover:bg-orange-600 transition-colors flex items-center text-sm disabled:opacity-60","aria-label":"",disabled:L,children:L?u.jsxs("span",{className:"flex items-center",children:[u.jsx("span",{className:"animate-spin mr-2",children:""})," ..."]}):u.jsxs("span",{className:"flex items-center",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4 mr-2",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})}),""]})}),u.jsxs("button",{onClick:()=>se(!ae),className:"px-4 py-2 bg-teal-500 text-white rounded-md hover:bg-teal-600 transition-colors flex items-center text-sm","aria-label":"",children:[u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4 mr-2",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a6.759 6.759 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]}),""]})]}),O&&u.jsx("span",{className:"text-sm text-red-600",children:O}),H&&u.jsxs("div",{className:"mb-4 p-4 bg-orange-50 border border-orange-200 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("p",{className:"text-sm text-orange-700",children:""}),r&&u.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full",children:" AI "})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("input",{type:"text",value:H,readOnly:!0,className:"w-full px-3 py-2 bg-white border border-orange-300 rounded text-sm",onClick:()=>navigator.clipboard.writeText(H)}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:[u.jsxs("button",{onClick:()=>navigator.clipboard.writeText(H),className:"flex-1 px-3 py-2 bg-orange-600 text-white rounded hover:bg-orange-700 text-sm flex items-center justify-center gap-1",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"})}),""]}),u.jsxs("button",{onClick:()=>P(!z),className:"flex-1 px-3 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 text-sm flex items-center justify-center gap-1",children:[u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 3.75 9.375v-4.5ZM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5ZM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 13.5 9.375v-4.5Z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 6.75h.75v.75h-.75v-.75ZM6.75 16.5h.75v.75h-.75v-.75ZM16.5 6.75h.75v.75h-.75v-.75ZM13.5 13.5H8.25v1.5H13.5V13.5ZM13.5 16.5H8.25V18H13.5v-1.5ZM16.5 16.5h1.5V18h-1.5v-1.5ZM16.5 13.5h1.5v1.5h-1.5v-1.5Z"})]})," QR Code"]})]})]}),z&&u.jsx("div",{className:"mt-4 flex justify-center",children:u.jsx(ud,{url:H,title:" QR Code",size:200,className:"bg-white p-4 rounded-lg shadow-sm"})}),r&&u.jsx("p",{className:"text-xs text-orange-600 mt-2",children:"  API Key AI "})]}),ae&&u.jsx(A3,{config:oe,onConfigChange:Ce,onRegenerate:ht,isGenerating:R}),u.jsx(x3,{quizzes:t.onlineInteractiveQuiz,topic:e,apiKey:r,enableDiagnostic:!!r})]})]})]})},Q3=({learningLevels:t,onLevelSelect:e,onGenerateWithLevel:i,selectedLevelId:a,isLoading:r=!1})=>{var g;const[l,m]=M.useState(a||t.defaultLevelId),p=v=>{m(v.id),e==null||e(v)},x=[...t.suggestedLevels].sort((v,b)=>v.order-b.order);return u.jsx(Wt,{title:"",icon:u.jsx(en,{className:"w-7 h-7"}),children:u.jsxs("div",{className:"space-y-3",children:[u.jsx("p",{className:"text-sm text-slate-600 mb-4",children:""}),u.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:x.map(v=>u.jsxs("div",{className:`
                relative p-4 rounded-lg border-2 cursor-pointer transition-all duration-200
                ${l===v.id?"border-sky-500 bg-sky-50 shadow-md":"border-slate-300 bg-white hover:border-sky-300 hover:shadow-sm"}
              `,onClick:()=>p(v),children:[u.jsxs("div",{className:"flex items-start space-x-3",children:[u.jsx("div",{className:`
                  flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold
                  ${l===v.id?"bg-sky-500 text-white":"bg-slate-200 text-slate-700"}
                `,children:v.order}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h4",{className:`
                    text-lg font-semibold mb-2
                    ${l===v.id?"text-sky-700":"text-slate-700"}
                  `,children:v.name}),u.jsx("p",{className:`
                    text-sm leading-relaxed
                    ${l===v.id?"text-sky-600":"text-slate-600"}
                  `,children:v.description})]})]}),l===v.id&&u.jsx("div",{className:"absolute top-2 right-2",children:u.jsx("div",{className:"w-3 h-3 bg-sky-500 rounded-full flex items-center justify-center",children:u.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})})})]},v.id))}),u.jsxs("div",{className:"mt-4 space-y-3",children:[u.jsx("div",{className:"p-3 bg-slate-50 rounded-lg",children:u.jsxs("div",{className:"flex items-center space-x-2 text-sm text-slate-600",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),u.jsxs("span",{children:["",u.jsx("strong",{children:(g=x.find(v=>v.id===l))==null?void 0:g.name})]})]})}),i&&u.jsx("div",{className:"flex justify-center",children:u.jsx("button",{onClick:()=>{const v=x.find(b=>b.id===l);v&&i(v)},disabled:r,className:"px-8 py-3 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50 transition-colors disabled:bg-slate-400 disabled:cursor-not-allowed flex items-center",children:r?u.jsxs(u.Fragment,{children:[u.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[u.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),u.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"..."]}):u.jsxs(u.Fragment,{children:[u.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),""]})})})]})]})})},qu=[{id:"beginner",name:" (100-500)",wordCount:500,description:""},{id:"elementary",name:" (500-1000)",wordCount:1e3,description:""},{id:"pre-intermediate",name:" (1000-2000)",wordCount:2e3,description:""},{id:"intermediate",name:" (2000-3500)",wordCount:3500,description:""},{id:"upper-intermediate",name:" (3500-5000)",wordCount:5e3,description:""},{id:"advanced",name:" (5000-7000)",wordCount:7e3,description:""}],K3=({onVocabularyLevelSelect:t,selectedLevel:e,isVisible:i=!0})=>{var m,p;const[a,r]=M.useState((e==null?void 0:e.id)||"intermediate"),l=x=>{r(x.id),t(x)};return i?u.jsx(Wt,{title:"",icon:u.jsx(Oo,{className:"w-7 h-7"}),children:u.jsxs("div",{className:"space-y-4",children:[u.jsx("p",{className:"text-sm text-slate-600",children:""}),u.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:qu.map(x=>u.jsxs("div",{className:`
                relative p-4 rounded-lg border-2 cursor-pointer transition-all duration-200
                ${a===x.id?"border-green-500 bg-green-50 shadow-md":"border-slate-300 bg-white hover:border-green-300 hover:shadow-sm"}
              `,onClick:()=>l(x),children:[u.jsxs("div",{className:"flex flex-col space-y-2",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:`
                    flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold
                    ${a===x.id?"bg-green-500 text-white":"bg-slate-200 text-slate-700"}
                  `,children:x.wordCount>=1e3?`${x.wordCount/1e3}k`:x.wordCount}),u.jsx("h4",{className:`
                    text-sm font-semibold
                    ${a===x.id?"text-green-700":"text-slate-700"}
                  `,children:x.name})]}),u.jsx("p",{className:`
                  text-xs leading-relaxed
                  ${a===x.id?"text-green-600":"text-slate-600"}
                `,children:x.description})]}),a===x.id&&u.jsx("div",{className:"absolute top-2 right-2",children:u.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full flex items-center justify-center",children:u.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})})})]},x.id))}),u.jsx("div",{className:"p-3 bg-slate-50 rounded-lg",children:u.jsxs("div",{className:"flex items-center space-x-2 text-sm text-slate-600",children:[u.jsx(Oo,{className:"w-4 h-4"}),u.jsxs("span",{children:["",u.jsx("strong",{children:(m=qu.find(x=>x.id===a))==null?void 0:m.name}),"",(p=qu.find(x=>x.id===a))==null?void 0:p.wordCount," "]})]})})]})}):null},Ox=({isOpen:t,onSave:e})=>{const[i,a]=M.useState("");return t?u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full",children:[u.jsx("h2",{className:"text-xl font-bold mb-4 text-sky-700",children:" Gemini API "}),u.jsx("input",{type:"password",className:"w-full border border-slate-300 rounded px-3 py-2 mb-4 focus:outline-none focus:ring-2 focus:ring-sky-400",placeholder:" Gemini API Key...",value:i,onChange:r=>a(r.target.value)}),u.jsx("button",{className:"w-full bg-sky-600 hover:bg-sky-700 text-white font-semibold py-2 rounded transition",onClick:()=>{i.trim()&&(e(i.trim()),a(""))},children:""}),u.jsx("p",{className:"text-xs text-slate-500 mt-3",children:""})]})}):null};var za={},q0;function W3(){if(q0)return za;q0=1,Object.defineProperty(za,"__esModule",{value:!0}),za.parse=m,za.serialize=g;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,r=Object.prototype.toString,l=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function m(w,S){const T=new l,E=w.length;if(E<2)return T;const A=(S==null?void 0:S.decode)||v;let _=0;do{const L=w.indexOf("=",_);if(L===-1)break;const U=w.indexOf(";",_),O=U===-1?E:U;if(L>O){_=w.lastIndexOf(";",L-1)+1;continue}const F=p(w,_,L),H=x(w,L,F),j=w.slice(F,H);if(T[j]===void 0){let z=p(w,L+1,O),P=x(w,O,z);const J=A(w.slice(z,P));T[j]=J}_=O+1}while(_<E);return T}function p(w,S,T){do{const E=w.charCodeAt(S);if(E!==32&&E!==9)return S}while(++S<T);return T}function x(w,S,T){for(;S>T;){const E=w.charCodeAt(--S);if(E!==32&&E!==9)return S+1}return T}function g(w,S,T){const E=(T==null?void 0:T.encode)||encodeURIComponent;if(!t.test(w))throw new TypeError(`argument name is invalid: ${w}`);const A=E(S);if(!e.test(A))throw new TypeError(`argument val is invalid: ${S}`);let _=w+"="+A;if(!T)return _;if(T.maxAge!==void 0){if(!Number.isInteger(T.maxAge))throw new TypeError(`option maxAge is invalid: ${T.maxAge}`);_+="; Max-Age="+T.maxAge}if(T.domain){if(!i.test(T.domain))throw new TypeError(`option domain is invalid: ${T.domain}`);_+="; Domain="+T.domain}if(T.path){if(!a.test(T.path))throw new TypeError(`option path is invalid: ${T.path}`);_+="; Path="+T.path}if(T.expires){if(!b(T.expires)||!Number.isFinite(T.expires.valueOf()))throw new TypeError(`option expires is invalid: ${T.expires}`);_+="; Expires="+T.expires.toUTCString()}if(T.httpOnly&&(_+="; HttpOnly"),T.secure&&(_+="; Secure"),T.partitioned&&(_+="; Partitioned"),T.priority)switch(typeof T.priority=="string"?T.priority.toLowerCase():void 0){case"low":_+="; Priority=Low";break;case"medium":_+="; Priority=Medium";break;case"high":_+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${T.priority}`)}if(T.sameSite)switch(typeof T.sameSite=="string"?T.sameSite.toLowerCase():T.sameSite){case!0:case"strict":_+="; SameSite=Strict";break;case"lax":_+="; SameSite=Lax";break;case"none":_+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${T.sameSite}`)}return _}function v(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function b(w){return r.call(w)==="[object Date]"}return za}W3();var $0="popstate";function X3(t={}){function e(a,r){let{pathname:l,search:m,hash:p}=a.location;return dd("",{pathname:l,search:m,hash:p},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function i(a,r){return typeof r=="string"?r:Ka(r)}return tE(e,i,null,t)}function Ke(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function tn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function eE(){return Math.random().toString(36).substring(2,10)}function z0(t,e){return{usr:t.state,key:t.key,idx:e}}function dd(t,e,i=null,a){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Vs(e):e,state:i,key:e&&e.key||a||eE()}}function Ka({pathname:t="/",search:e="",hash:i=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function Vs(t){let e={};if(t){let i=t.indexOf("#");i>=0&&(e.hash=t.substring(i),t=t.substring(0,i));let a=t.indexOf("?");a>=0&&(e.search=t.substring(a),t=t.substring(0,a)),t&&(e.pathname=t)}return e}function tE(t,e,i,a={}){let{window:r=document.defaultView,v5Compat:l=!1}=a,m=r.history,p="POP",x=null,g=v();g==null&&(g=0,m.replaceState({...m.state,idx:g},""));function v(){return(m.state||{idx:null}).idx}function b(){p="POP";let A=v(),_=A==null?null:A-g;g=A,x&&x({action:p,location:E.location,delta:_})}function w(A,_){p="PUSH";let L=dd(E.location,A,_);g=v()+1;let U=z0(L,g),O=E.createHref(L);try{m.pushState(U,"",O)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;r.location.assign(O)}l&&x&&x({action:p,location:E.location,delta:1})}function S(A,_){p="REPLACE";let L=dd(E.location,A,_);g=v();let U=z0(L,g),O=E.createHref(L);m.replaceState(U,"",O),l&&x&&x({action:p,location:E.location,delta:0})}function T(A){return nE(A)}let E={get action(){return p},get location(){return t(r,m)},listen(A){if(x)throw new Error("A history only accepts one active listener");return r.addEventListener($0,b),x=A,()=>{r.removeEventListener($0,b),x=null}},createHref(A){return e(r,A)},createURL:T,encodeLocation(A){let _=T(A);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:w,replace:S,go(A){return m.go(A)}};return E}function nE(t,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),Ke(i,"No window.location.(origin|href) available to create URL");let a=typeof t=="string"?t:Ka(t);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=i+a),new URL(a,i)}function Vx(t,e,i="/"){return iE(t,e,i,!1)}function iE(t,e,i,a){let r=typeof e=="string"?Vs(e):e,l=Dn(r.pathname||"/",i);if(l==null)return null;let m=qx(t);sE(m);let p=null;for(let x=0;p==null&&x<m.length;++x){let g=pE(l);p=mE(m[x],g,a)}return p}function qx(t,e=[],i=[],a=""){let r=(l,m,p)=>{let x={relativePath:p===void 0?l.path||"":p,caseSensitive:l.caseSensitive===!0,childrenIndex:m,route:l};x.relativePath.startsWith("/")&&(Ke(x.relativePath.startsWith(a),`Absolute route path "${x.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(a.length));let g=kn([a,x.relativePath]),v=i.concat(x);l.children&&l.children.length>0&&(Ke(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),qx(l.children,e,v,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:dE(g,l.index),routesMeta:v})};return t.forEach((l,m)=>{var p;if(l.path===""||!((p=l.path)!=null&&p.includes("?")))r(l,m);else for(let x of $x(l.path))r(l,m,x)}),e}function $x(t){let e=t.split("/");if(e.length===0)return[];let[i,...a]=e,r=i.endsWith("?"),l=i.replace(/\?$/,"");if(a.length===0)return r?[l,""]:[l];let m=$x(a.join("/")),p=[];return p.push(...m.map(x=>x===""?l:[l,x].join("/"))),r&&p.push(...m),p.map(x=>t.startsWith("/")&&x===""?"/":x)}function sE(t){t.sort((e,i)=>e.score!==i.score?i.score-e.score:fE(e.routesMeta.map(a=>a.childrenIndex),i.routesMeta.map(a=>a.childrenIndex)))}var aE=/^:[\w-]+$/,rE=3,oE=2,lE=1,cE=10,uE=-2,H0=t=>t==="*";function dE(t,e){let i=t.split("/"),a=i.length;return i.some(H0)&&(a+=uE),e&&(a+=oE),i.filter(r=>!H0(r)).reduce((r,l)=>r+(aE.test(l)?rE:l===""?lE:cE),a)}function fE(t,e){return t.length===e.length&&t.slice(0,-1).every((a,r)=>a===e[r])?t[t.length-1]-e[e.length-1]:0}function mE(t,e,i=!1){let{routesMeta:a}=t,r={},l="/",m=[];for(let p=0;p<a.length;++p){let x=a[p],g=p===a.length-1,v=l==="/"?e:e.slice(l.length)||"/",b=Vo({path:x.relativePath,caseSensitive:x.caseSensitive,end:g},v),w=x.route;if(!b&&g&&i&&!a[a.length-1].route.index&&(b=Vo({path:x.relativePath,caseSensitive:x.caseSensitive,end:!1},v)),!b)return null;Object.assign(r,b.params),m.push({params:r,pathname:kn([l,b.pathname]),pathnameBase:vE(kn([l,b.pathnameBase])),route:w}),b.pathnameBase!=="/"&&(l=kn([l,b.pathnameBase]))}return m}function Vo(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[i,a]=hE(t.path,t.caseSensitive,t.end),r=e.match(i);if(!r)return null;let l=r[0],m=l.replace(/(.)\/+$/,"$1"),p=r.slice(1);return{params:a.reduce((g,{paramName:v,isOptional:b},w)=>{if(v==="*"){let T=p[w]||"";m=l.slice(0,l.length-T.length).replace(/(.)\/+$/,"$1")}const S=p[w];return b&&!S?g[v]=void 0:g[v]=(S||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:m,pattern:t}}function hE(t,e=!1,i=!0){tn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let a=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,p,x)=>(a.push({paramName:p,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(a.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),a]}function pE(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Dn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,a=t.charAt(i);return a&&a!=="/"?null:t.slice(i)||"/"}function gE(t,e="/"){let{pathname:i,search:a="",hash:r=""}=typeof t=="string"?Vs(t):t;return{pathname:i?i.startsWith("/")?i:xE(i,e):e,search:bE(a),hash:wE(r)}}function xE(t,e){let i=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?i.length>1&&i.pop():r!=="."&&i.push(r)}),i.length>1?i.join("/"):"/"}function $u(t,e,i,a){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function yE(t){return t.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function zx(t){let e=yE(t);return e.map((i,a)=>a===e.length-1?i.pathname:i.pathnameBase)}function Hx(t,e,i,a=!1){let r;typeof t=="string"?r=Vs(t):(r={...t},Ke(!r.pathname||!r.pathname.includes("?"),$u("?","pathname","search",r)),Ke(!r.pathname||!r.pathname.includes("#"),$u("#","pathname","hash",r)),Ke(!r.search||!r.search.includes("#"),$u("#","search","hash",r)));let l=t===""||r.pathname==="",m=l?"/":r.pathname,p;if(m==null)p=i;else{let b=e.length-1;if(!a&&m.startsWith("..")){let w=m.split("/");for(;w[0]==="..";)w.shift(),b-=1;r.pathname=w.join("/")}p=b>=0?e[b]:"/"}let x=gE(r,p),g=m&&m!=="/"&&m.endsWith("/"),v=(l||m===".")&&i.endsWith("/");return!x.pathname.endsWith("/")&&(g||v)&&(x.pathname+="/"),x}var kn=t=>t.join("/").replace(/\/\/+/g,"/"),vE=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),bE=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,wE=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function CE(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Gx=["POST","PUT","PATCH","DELETE"];new Set(Gx);var SE=["GET",...Gx];new Set(SE);var qs=M.createContext(null);qs.displayName="DataRouter";var Zo=M.createContext(null);Zo.displayName="DataRouterState";var Fx=M.createContext({isTransitioning:!1});Fx.displayName="ViewTransition";var TE=M.createContext(new Map);TE.displayName="Fetchers";var NE=M.createContext(null);NE.displayName="Await";var hn=M.createContext(null);hn.displayName="Navigation";var tr=M.createContext(null);tr.displayName="Location";var In=M.createContext({outlet:null,matches:[],isDataRoute:!1});In.displayName="Route";var Ed=M.createContext(null);Ed.displayName="RouteError";function EE(t,{relative:e}={}){Ke(nr(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:a}=M.useContext(hn),{hash:r,pathname:l,search:m}=ir(t,{relative:e}),p=l;return i!=="/"&&(p=l==="/"?i:kn([i,l])),a.createHref({pathname:p,search:m,hash:r})}function nr(){return M.useContext(tr)!=null}function ui(){return Ke(nr(),"useLocation() may be used only in the context of a <Router> component."),M.useContext(tr).location}var Yx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Zx(t){M.useContext(hn).static||M.useLayoutEffect(t)}function Jx(){let{isDataRoute:t}=M.useContext(In);return t?OE():AE()}function AE(){Ke(nr(),"useNavigate() may be used only in the context of a <Router> component.");let t=M.useContext(qs),{basename:e,navigator:i}=M.useContext(hn),{matches:a}=M.useContext(In),{pathname:r}=ui(),l=JSON.stringify(zx(a)),m=M.useRef(!1);return Zx(()=>{m.current=!0}),M.useCallback((x,g={})=>{if(tn(m.current,Yx),!m.current)return;if(typeof x=="number"){i.go(x);return}let v=Hx(x,JSON.parse(l),r,g.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:kn([e,v.pathname])),(g.replace?i.replace:i.push)(v,g.state,g)},[e,i,l,r,t])}M.createContext(null);function ir(t,{relative:e}={}){let{matches:i}=M.useContext(In),{pathname:a}=ui(),r=JSON.stringify(zx(i));return M.useMemo(()=>Hx(t,JSON.parse(r),a,e==="path"),[t,r,a,e])}function _E(t,e){return Qx(t,e)}function Qx(t,e,i,a){var _;Ke(nr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:r}=M.useContext(hn),{matches:l}=M.useContext(In),m=l[l.length-1],p=m?m.params:{},x=m?m.pathname:"/",g=m?m.pathnameBase:"/",v=m&&m.route;{let L=v&&v.path||"";Kx(x,!v||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${x}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let b=ui(),w;if(e){let L=typeof e=="string"?Vs(e):e;Ke(g==="/"||((_=L.pathname)==null?void 0:_.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${L.pathname}" was given in the \`location\` prop.`),w=L}else w=b;let S=w.pathname||"/",T=S;if(g!=="/"){let L=g.replace(/^\//,"").split("/");T="/"+S.replace(/^\//,"").split("/").slice(L.length).join("/")}let E=Vx(t,{pathname:T});tn(v||E!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),tn(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=jE(E&&E.map(L=>Object.assign({},L,{params:Object.assign({},p,L.params),pathname:kn([g,r.encodeLocation?r.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?g:kn([g,r.encodeLocation?r.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),l,i,a);return e&&A?M.createElement(tr.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},A):A}function ME(){let t=BE(),e=CE(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),i=t instanceof Error?t.stack:null,a="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},m=null;return console.error("Error handled by React Router default ErrorBoundary:",t),m=M.createElement(M.Fragment,null,M.createElement("p",null," Hey developer "),M.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",M.createElement("code",{style:l},"ErrorBoundary")," or"," ",M.createElement("code",{style:l},"errorElement")," prop on your route.")),M.createElement(M.Fragment,null,M.createElement("h2",null,"Unexpected Application Error!"),M.createElement("h3",{style:{fontStyle:"italic"}},e),i?M.createElement("pre",{style:r},i):null,m)}var kE=M.createElement(ME,null),RE=class extends M.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?M.createElement(In.Provider,{value:this.props.routeContext},M.createElement(Ed.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function DE({routeContext:t,match:e,children:i}){let a=M.useContext(qs);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),M.createElement(In.Provider,{value:t},i)}function jE(t,e=[],i=null,a=null){if(t==null){if(!i)return null;if(i.errors)t=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)t=i.matches;else return null}let r=t,l=i==null?void 0:i.errors;if(l!=null){let x=r.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);Ke(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),r=r.slice(0,Math.min(r.length,x+1))}let m=!1,p=-1;if(i)for(let x=0;x<r.length;x++){let g=r[x];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(p=x),g.route.id){let{loaderData:v,errors:b}=i,w=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||w){m=!0,p>=0?r=r.slice(0,p+1):r=[r[0]];break}}}return r.reduceRight((x,g,v)=>{let b,w=!1,S=null,T=null;i&&(b=l&&g.route.id?l[g.route.id]:void 0,S=g.route.errorElement||kE,m&&(p<0&&v===0?(Kx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,T=null):p===v&&(w=!0,T=g.route.hydrateFallbackElement||null)));let E=e.concat(r.slice(0,v+1)),A=()=>{let _;return b?_=S:w?_=T:g.route.Component?_=M.createElement(g.route.Component,null):g.route.element?_=g.route.element:_=x,M.createElement(DE,{match:g,routeContext:{outlet:x,matches:E,isDataRoute:i!=null},children:_})};return i&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?M.createElement(RE,{location:i.location,revalidation:i.revalidation,component:S,error:b,children:A(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):A()},null)}function Ad(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function IE(t){let e=M.useContext(qs);return Ke(e,Ad(t)),e}function LE(t){let e=M.useContext(Zo);return Ke(e,Ad(t)),e}function UE(t){let e=M.useContext(In);return Ke(e,Ad(t)),e}function _d(t){let e=UE(t),i=e.matches[e.matches.length-1];return Ke(i.route.id,`${t} can only be used on routes that contain a unique "id"`),i.route.id}function PE(){return _d("useRouteId")}function BE(){var a;let t=M.useContext(Ed),e=LE("useRouteError"),i=_d("useRouteError");return t!==void 0?t:(a=e.errors)==null?void 0:a[i]}function OE(){let{router:t}=IE("useNavigate"),e=_d("useNavigate"),i=M.useRef(!1);return Zx(()=>{i.current=!0}),M.useCallback(async(r,l={})=>{tn(i.current,Yx),i.current&&(typeof r=="number"?t.navigate(r):await t.navigate(r,{fromRouteId:e,...l}))},[t,e])}var G0={};function Kx(t,e,i){!e&&!G0[t]&&(G0[t]=!0,tn(!1,i))}M.memo(VE);function VE({routes:t,future:e,state:i}){return Qx(t,void 0,i,e)}function ki(t){Ke(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function qE({basename:t="/",children:e=null,location:i,navigationType:a="POP",navigator:r,static:l=!1}){Ke(!nr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=t.replace(/^\/*/,"/"),p=M.useMemo(()=>({basename:m,navigator:r,static:l,future:{}}),[m,r,l]);typeof i=="string"&&(i=Vs(i));let{pathname:x="/",search:g="",hash:v="",state:b=null,key:w="default"}=i,S=M.useMemo(()=>{let T=Dn(x,m);return T==null?null:{location:{pathname:T,search:g,hash:v,state:b,key:w},navigationType:a}},[m,x,g,v,b,w,a]);return tn(S!=null,`<Router basename="${m}"> is not able to match the URL "${x}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:M.createElement(hn.Provider,{value:p},M.createElement(tr.Provider,{children:e,value:S}))}function $E({children:t,location:e}){return _E(fd(t),e)}function fd(t,e=[]){let i=[];return M.Children.forEach(t,(a,r)=>{if(!M.isValidElement(a))return;let l=[...e,r];if(a.type===M.Fragment){i.push.apply(i,fd(a.props.children,l));return}Ke(a.type===ki,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ke(!a.props.index||!a.props.children,"An index route cannot have child routes.");let m={id:a.props.id||l.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(m.children=fd(a.props.children,l)),i.push(m)}),i}var Ao="get",_o="application/x-www-form-urlencoded";function Jo(t){return t!=null&&typeof t.tagName=="string"}function zE(t){return Jo(t)&&t.tagName.toLowerCase()==="button"}function HE(t){return Jo(t)&&t.tagName.toLowerCase()==="form"}function GE(t){return Jo(t)&&t.tagName.toLowerCase()==="input"}function FE(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function YE(t,e){return t.button===0&&(!e||e==="_self")&&!FE(t)}function md(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,i)=>{let a=t[i];return e.concat(Array.isArray(a)?a.map(r=>[i,r]):[[i,a]])},[]))}function ZE(t,e){let i=md(t);return e&&e.forEach((a,r)=>{i.has(r)||e.getAll(r).forEach(l=>{i.append(r,l)})}),i}var Co=null;function JE(){if(Co===null)try{new FormData(document.createElement("form"),0),Co=!1}catch{Co=!0}return Co}var QE=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zu(t){return t!=null&&!QE.has(t)?(tn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_o}"`),null):t}function KE(t,e){let i,a,r,l,m;if(HE(t)){let p=t.getAttribute("action");a=p?Dn(p,e):null,i=t.getAttribute("method")||Ao,r=zu(t.getAttribute("enctype"))||_o,l=new FormData(t)}else if(zE(t)||GE(t)&&(t.type==="submit"||t.type==="image")){let p=t.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let x=t.getAttribute("formaction")||p.getAttribute("action");if(a=x?Dn(x,e):null,i=t.getAttribute("formmethod")||p.getAttribute("method")||Ao,r=zu(t.getAttribute("formenctype"))||zu(p.getAttribute("enctype"))||_o,l=new FormData(p,t),!JE()){let{name:g,type:v,value:b}=t;if(v==="image"){let w=g?`${g}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else g&&l.append(g,b)}}else{if(Jo(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=Ao,a=null,r=_o,m=t}return l&&r==="text/plain"&&(m=l,l=void 0),{action:a,method:i.toLowerCase(),encType:r,formData:l,body:m}}function Md(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function WE(t,e){if(t.id in e)return e[t.id];try{let i=await import(t.module);return e[t.id]=i,i}catch(i){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function XE(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function eA(t,e,i){let a=await Promise.all(t.map(async r=>{let l=e.routes[r.route.id];if(l){let m=await WE(l,i);return m.links?m.links():[]}return[]}));return sA(a.flat(1).filter(XE).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function F0(t,e,i,a,r,l){let m=(x,g)=>i[g]?x.route.id!==i[g].route.id:!0,p=(x,g)=>{var v;return i[g].pathname!==x.pathname||((v=i[g].route.path)==null?void 0:v.endsWith("*"))&&i[g].params["*"]!==x.params["*"]};return l==="assets"?e.filter((x,g)=>m(x,g)||p(x,g)):l==="data"?e.filter((x,g)=>{var b;let v=a.routes[x.route.id];if(!v||!v.hasLoader)return!1;if(m(x,g)||p(x,g))return!0;if(x.route.shouldRevalidate){let w=x.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((b=i[0])==null?void 0:b.params)||{},nextUrl:new URL(t,window.origin),nextParams:x.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function tA(t,e,{includeHydrateFallback:i}={}){return nA(t.map(a=>{let r=e.routes[a.route.id];if(!r)return[];let l=[r.module];return r.clientActionModule&&(l=l.concat(r.clientActionModule)),r.clientLoaderModule&&(l=l.concat(r.clientLoaderModule)),i&&r.hydrateFallbackModule&&(l=l.concat(r.hydrateFallbackModule)),r.imports&&(l=l.concat(r.imports)),l}).flat(1))}function nA(t){return[...new Set(t)]}function iA(t){let e={},i=Object.keys(t).sort();for(let a of i)e[a]=t[a];return e}function sA(t,e){let i=new Set;return new Set(e),t.reduce((a,r)=>{let l=JSON.stringify(iA(r));return i.has(l)||(i.add(l),a.push({key:l,link:r})),a},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var aA=new Set([100,101,204,205]);function rA(t,e){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname="_root.data":e&&Dn(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function Wx(){let t=M.useContext(qs);return Md(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function oA(){let t=M.useContext(Zo);return Md(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var kd=M.createContext(void 0);kd.displayName="FrameworkContext";function Xx(){let t=M.useContext(kd);return Md(t,"You must render this element inside a <HydratedRouter> element"),t}function lA(t,e){let i=M.useContext(kd),[a,r]=M.useState(!1),[l,m]=M.useState(!1),{onFocus:p,onBlur:x,onMouseEnter:g,onMouseLeave:v,onTouchStart:b}=e,w=M.useRef(null);M.useEffect(()=>{if(t==="render"&&m(!0),t==="viewport"){let E=_=>{_.forEach(L=>{m(L.isIntersecting)})},A=new IntersectionObserver(E,{threshold:.5});return w.current&&A.observe(w.current),()=>{A.disconnect()}}},[t]),M.useEffect(()=>{if(a){let E=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(E)}}},[a]);let S=()=>{r(!0)},T=()=>{r(!1),m(!1)};return i?t!=="intent"?[l,w,{}]:[l,w,{onFocus:Ha(p,S),onBlur:Ha(x,T),onMouseEnter:Ha(g,S),onMouseLeave:Ha(v,T),onTouchStart:Ha(b,S)}]:[!1,w,{}]}function Ha(t,e){return i=>{t&&t(i),i.defaultPrevented||e(i)}}function cA({page:t,...e}){let{router:i}=Wx(),a=M.useMemo(()=>Vx(i.routes,t,i.basename),[i.routes,t,i.basename]);return a?M.createElement(dA,{page:t,matches:a,...e}):null}function uA(t){let{manifest:e,routeModules:i}=Xx(),[a,r]=M.useState([]);return M.useEffect(()=>{let l=!1;return eA(t,e,i).then(m=>{l||r(m)}),()=>{l=!0}},[t,e,i]),a}function dA({page:t,matches:e,...i}){let a=ui(),{manifest:r,routeModules:l}=Xx(),{basename:m}=Wx(),{loaderData:p,matches:x}=oA(),g=M.useMemo(()=>F0(t,e,x,r,a,"data"),[t,e,x,r,a]),v=M.useMemo(()=>F0(t,e,x,r,a,"assets"),[t,e,x,r,a]),b=M.useMemo(()=>{if(t===a.pathname+a.search+a.hash)return[];let T=new Set,E=!1;if(e.forEach(_=>{var U;let L=r.routes[_.route.id];!L||!L.hasLoader||(!g.some(O=>O.route.id===_.route.id)&&_.route.id in p&&((U=l[_.route.id])!=null&&U.shouldRevalidate)||L.hasClientLoader?E=!0:T.add(_.route.id))}),T.size===0)return[];let A=rA(t,m);return E&&T.size>0&&A.searchParams.set("_routes",e.filter(_=>T.has(_.route.id)).map(_=>_.route.id).join(",")),[A.pathname+A.search]},[m,p,a,r,g,e,t,l]),w=M.useMemo(()=>tA(v,r),[v,r]),S=uA(v);return M.createElement(M.Fragment,null,b.map(T=>M.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...i})),w.map(T=>M.createElement("link",{key:T,rel:"modulepreload",href:T,...i})),S.map(({key:T,link:E})=>M.createElement("link",{key:T,...E})))}function fA(...t){return e=>{t.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var ey=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ey&&(window.__reactRouterVersion="7.6.2")}catch{}function mA({basename:t,children:e,window:i}){let a=M.useRef();a.current==null&&(a.current=X3({window:i,v5Compat:!0}));let r=a.current,[l,m]=M.useState({action:r.action,location:r.location}),p=M.useCallback(x=>{M.startTransition(()=>m(x))},[m]);return M.useLayoutEffect(()=>r.listen(p),[r,p]),M.createElement(qE,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:r})}var ty=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ny=M.forwardRef(function({onClick:e,discover:i="render",prefetch:a="none",relative:r,reloadDocument:l,replace:m,state:p,target:x,to:g,preventScrollReset:v,viewTransition:b,...w},S){let{basename:T}=M.useContext(hn),E=typeof g=="string"&&ty.test(g),A,_=!1;if(typeof g=="string"&&E&&(A=g,ey))try{let P=new URL(window.location.href),J=g.startsWith("//")?new URL(P.protocol+g):new URL(g),ne=Dn(J.pathname,T);J.origin===P.origin&&ne!=null?g=ne+J.search+J.hash:_=!0}catch{tn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=EE(g,{relative:r}),[U,O,F]=lA(a,w),H=xA(g,{replace:m,state:p,target:x,preventScrollReset:v,relative:r,viewTransition:b});function j(P){e&&e(P),P.defaultPrevented||H(P)}let z=M.createElement("a",{...w,...F,href:A||L,onClick:_||l?e:j,ref:fA(S,O),target:x,"data-discover":!E&&i==="render"?"true":void 0});return U&&!E?M.createElement(M.Fragment,null,z,M.createElement(cA,{page:L})):z});ny.displayName="Link";var hA=M.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:a="",end:r=!1,style:l,to:m,viewTransition:p,children:x,...g},v){let b=ir(m,{relative:g.relative}),w=ui(),S=M.useContext(Zo),{navigator:T,basename:E}=M.useContext(hn),A=S!=null&&CA(b)&&p===!0,_=T.encodeLocation?T.encodeLocation(b).pathname:b.pathname,L=w.pathname,U=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;i||(L=L.toLowerCase(),U=U?U.toLowerCase():null,_=_.toLowerCase()),U&&E&&(U=Dn(U,E)||U);const O=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let F=L===_||!r&&L.startsWith(_)&&L.charAt(O)==="/",H=U!=null&&(U===_||!r&&U.startsWith(_)&&U.charAt(_.length)==="/"),j={isActive:F,isPending:H,isTransitioning:A},z=F?e:void 0,P;typeof a=="function"?P=a(j):P=[a,F?"active":null,H?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let J=typeof l=="function"?l(j):l;return M.createElement(ny,{...g,"aria-current":z,className:P,ref:v,style:J,to:m,viewTransition:p},typeof x=="function"?x(j):x)});hA.displayName="NavLink";var pA=M.forwardRef(({discover:t="render",fetcherKey:e,navigate:i,reloadDocument:a,replace:r,state:l,method:m=Ao,action:p,onSubmit:x,relative:g,preventScrollReset:v,viewTransition:b,...w},S)=>{let T=bA(),E=wA(p,{relative:g}),A=m.toLowerCase()==="get"?"get":"post",_=typeof p=="string"&&ty.test(p),L=U=>{if(x&&x(U),U.defaultPrevented)return;U.preventDefault();let O=U.nativeEvent.submitter,F=(O==null?void 0:O.getAttribute("formmethod"))||m;T(O||U.currentTarget,{fetcherKey:e,method:F,navigate:i,replace:r,state:l,relative:g,preventScrollReset:v,viewTransition:b})};return M.createElement("form",{ref:S,method:A,action:E,onSubmit:a?x:L,...w,"data-discover":!_&&t==="render"?"true":void 0})});pA.displayName="Form";function gA(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iy(t){let e=M.useContext(qs);return Ke(e,gA(t)),e}function xA(t,{target:e,replace:i,state:a,preventScrollReset:r,relative:l,viewTransition:m}={}){let p=Jx(),x=ui(),g=ir(t,{relative:l});return M.useCallback(v=>{if(YE(v,e)){v.preventDefault();let b=i!==void 0?i:Ka(x)===Ka(g);p(t,{replace:b,state:a,preventScrollReset:r,relative:l,viewTransition:m})}},[x,p,g,i,a,e,t,r,l,m])}function Qo(t){tn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=M.useRef(md(t)),i=M.useRef(!1),a=ui(),r=M.useMemo(()=>ZE(a.search,i.current?null:e.current),[a.search]),l=Jx(),m=M.useCallback((p,x)=>{const g=md(typeof p=="function"?p(r):p);i.current=!0,l("?"+g,x)},[l,r]);return[r,m]}var yA=0,vA=()=>`__${String(++yA)}__`;function bA(){let{router:t}=iy("useSubmit"),{basename:e}=M.useContext(hn),i=PE();return M.useCallback(async(a,r={})=>{let{action:l,method:m,encType:p,formData:x,body:g}=KE(a,e);if(r.navigate===!1){let v=r.fetcherKey||vA();await t.fetch(v,i,r.action||l,{preventScrollReset:r.preventScrollReset,formData:x,body:g,formMethod:r.method||m,formEncType:r.encType||p,flushSync:r.flushSync})}else await t.navigate(r.action||l,{preventScrollReset:r.preventScrollReset,formData:x,body:g,formMethod:r.method||m,formEncType:r.encType||p,replace:r.replace,state:r.state,fromRouteId:i,flushSync:r.flushSync,viewTransition:r.viewTransition})},[t,e,i])}function wA(t,{relative:e}={}){let{basename:i}=M.useContext(hn),a=M.useContext(In);Ke(a,"useFormAction must be used inside a RouteContext");let[r]=a.matches.slice(-1),l={...ir(t||".",{relative:e})},m=ui();if(t==null){l.search=m.search;let p=new URLSearchParams(l.search),x=p.getAll("index");if(x.some(v=>v==="")){p.delete("index"),x.filter(b=>b).forEach(b=>p.append("index",b));let v=p.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&r.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(l.pathname=l.pathname==="/"?i:kn([i,l.pathname])),Ka(l)}function CA(t,e={}){let i=M.useContext(Fx);Ke(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=iy("useViewTransitionState"),r=ir(t,{relative:e.relative});if(!i.isTransitioning)return!1;let l=Dn(i.currentLocation.pathname,a)||i.currentLocation.pathname,m=Dn(i.nextLocation.pathname,a)||i.nextLocation.pathname;return Vo(r.pathname,m)!=null||Vo(r.pathname,l)!=null}[...aA];class SA{constructor(){this.dbName="AILearningPageGenerator",this.version=1,this.storeName="lessonPlans",this.db=null}async init(){return new Promise((e,i)=>{const a=indexedDB.open(this.dbName,this.version);a.onerror=()=>{i(new Error("Failed to open IndexedDB"))},a.onsuccess=r=>{this.db=r.target.result,e()},a.onupgradeneeded=r=>{const l=r.target.result;if(!l.objectStoreNames.contains(this.storeName)){const m=l.createObjectStore(this.storeName,{keyPath:"id"});m.createIndex("topic","topic",{unique:!1}),m.createIndex("createdAt","createdAt",{unique:!1}),m.createIndex("lastAccessedAt","lastAccessedAt",{unique:!1})}}})}async ensureDB(){if(this.db||await this.init(),!this.db)throw new Error("Database not initialized");return this.db}async saveLessonPlan(e){const i=await this.ensureDB();return new Promise((a,r)=>{const p=i.transaction([this.storeName],"readwrite").objectStore(this.storeName).put(e);p.onsuccess=()=>a(),p.onerror=()=>r(new Error("Failed to save lesson plan"))})}async getAllLessonPlans(){const e=await this.ensureDB();return new Promise((i,a)=>{const p=e.transaction([this.storeName],"readonly").objectStore(this.storeName).index("lastAccessedAt").openCursor(null,"prev"),x=[];p.onsuccess=g=>{const v=g.target.result;v?(x.push(v.value),v.continue()):i(x)},p.onerror=()=>a(new Error("Failed to get lesson plans"))})}async getLessonPlan(e){const i=await this.ensureDB();return new Promise((a,r)=>{const p=i.transaction([this.storeName],"readonly").objectStore(this.storeName).get(e);p.onsuccess=()=>{const x=p.result;a(x||null)},p.onerror=()=>r(new Error("Failed to get lesson plan"))})}async updateLastAccessed(e){const i=await this.getLessonPlan(e);i&&(i.lastAccessedAt=new Date().toISOString(),await this.saveLessonPlan(i))}async deleteLessonPlan(e){const i=await this.ensureDB();return new Promise((a,r)=>{const p=i.transaction([this.storeName],"readwrite").objectStore(this.storeName).delete(e);p.onsuccess=()=>a(),p.onerror=()=>r(new Error("Failed to delete lesson plan"))})}async searchLessonPlans(e){const i=await this.getAllLessonPlans(),a=e.toLowerCase();return i.filter(r=>r.topic.toLowerCase().includes(a))}async getSharedLessonPlans(){return(await this.getAllLessonPlans()).filter(i=>{var a;return((a=i.metadata)==null?void 0:a.isShared)===!0})}async getLocalLessonPlans(){return(await this.getAllLessonPlans()).filter(i=>{var a;return!((a=i.metadata)!=null&&a.isShared)})}async cleanupOldLessonPlans(e=50){const i=await this.getAllLessonPlans();if(i.length>e){const a=i.slice(e);for(const r of a)await this.deleteLessonPlan(r.id)}}async getStorageStats(){var i,a;const e=await this.getAllLessonPlans();return{totalCount:e.length,totalSizeEstimate:JSON.stringify(e).length,oldestPlan:(i=e[e.length-1])==null?void 0:i.topic,newestPlan:(a=e[0])==null?void 0:a.topic}}}const Bt=new SA,TA=t=>{const e=Date.now(),i=Math.random().toString(36).substr(2,9);return`lesson_${e}_${i}`},NA=(t,e)=>{const i=new Date().toISOString();return{id:TA(),topic:t,createdAt:i,lastAccessedAt:i,content:e,metadata:{totalSections:[e.learningObjectives,e.contentBreakdown,e.confusionPoints,e.classroomActivities,e.quiz,e.writingPractice].filter(Boolean).length,hasQuiz:!!e.quiz,hasWriting:!!e.writingPractice}}},EA=({quiz:t,topic:e,apiKey:i,supportsDiagnostic:a=!1,quizBinId:r})=>{const[l,m]=M.useState(ct.Easy),[p,x]=M.useState([]),[g,v]=M.useState(!1),[b,w]=M.useState(""),[S,T]=M.useState(!1),[E,A]=M.useState(""),[_,L]=M.useState(!1),[U,O]=M.useState(!1),F=M.useCallback((Y,K,le,I,Z,oe)=>{if(!a)return;const Ce=`${l}-${Y}-${K}`,R={questionId:Ce,questionType:Y,difficulty:l.toLowerCase(),userAnswer:le,correctAnswer:I,isCorrect:Z,responseTime:oe,attempts:1};x(ee=>{const ae=ee.findIndex(se=>se.questionId===Ce);if(ae>=0){const se=[...ee];return se[ae]={...se[ae],userAnswer:le,isCorrect:Z,attempts:(se[ae].attempts||1)+1},se}return[...ee,R]})},[l,a]),H=(Y,K)=>{switch(Y){case"trueFalse":return K.isTrue;case"multipleChoice":return K.options[K.correctAnswerIndex];case"fillInTheBlanks":return K.correctAnswers;case"sentenceScramble":return K.originalSentence;case"memoryCardGame":return K.pairs;default:return null}},j=()=>{const Y=l.toLowerCase();return p.filter(K=>K.difficulty===Y)},z=M.useCallback(async()=>{const Y=j();if(Y.length===0){alert("");return}if(!b.trim()){L(!0);return}T(!0);try{const K=Sx(Y),le=l===ct.Easy?"":l===ct.Normal?"":"",I=(t==null?void 0:t[l])||{},Z=await m3({studentName:b.trim(),topic:e,difficulty:le,responses:Y,overallScore:K,completedAt:new Date().toISOString(),quizBinId:r,quizContent:I,metadata:{totalQuestions:Y.length,correctAnswers:Y.filter(R=>R.isCorrect).length,selectedDifficulty:l}}),Ce=`${window.location.origin}/ai-page-gen/student-results?binId=${Z}`;A(Ce),navigator.clipboard&&window.isSecureContext?(await navigator.clipboard.writeText(Ce),alert("")):alert("")}catch(K){console.error(":",K),alert("")}finally{T(!1)}},[j,b,e,l,r]);if(g&&a&&i&&j().length>0)return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[u.jsx("div",{className:"bg-white shadow-sm border-b",children:u.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx(Rs,{className:"w-8 h-8 text-indigo-600"}),u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:""}),u.jsxs("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-800 text-sm font-medium rounded-full",children:[l===ct.Easy?"":l===ct.Normal?"":""," "]})]}),u.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[u.jsx(en,{className:"w-5 h-5"}),u.jsx("span",{className:"text-lg font-medium",children:e})]})]})}),u.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:u.jsx(Cd,{topic:`${e} (${l===ct.Easy?"":l===ct.Normal?"":""})`,apiKey:i,mode:"student",initialResponses:j(),onClose:()=>v(!1),onRetakeQuiz:()=>{const Y=l.toLowerCase();x(K=>K.filter(le=>le.difficulty!==Y)),v(!1)},onContinueLearning:()=>v(!1)})})]});if(!t)return u.jsxs("div",{className:"text-center py-12",children:[u.jsx(Za,{className:"w-16 h-16 text-slate-400 mx-auto mb-4"}),u.jsx("p",{className:"text-slate-600 text-lg",children:""})]});const P=t[l],J=[{key:ct.Easy,label:"",color:"bg-green-500 hover:bg-green-600"},{key:ct.Normal,label:"",color:"bg-yellow-500 hover:bg-yellow-600"},{key:ct.Hard,label:"",color:"bg-red-500 hover:bg-red-600"}],ne={trueFalse:"",multipleChoice:"",fillInTheBlanks:"",sentenceScramble:"",memoryCardGame:""},W=(Y,K)=>{if(!K||K.length===0)return null;const le=I=>a?(Z,oe,Ce)=>{const R=H(Y,K[I]);F(Y,I,Z,R,oe,Ce)}:void 0;switch(Y){case"trueFalse":return u.jsx("div",{className:"space-y-4",children:K.map((I,Z)=>u.jsx(Tx,{question:I,itemNumber:Z+1,onAnswer:le(Z)},`${l}-tf-${Z}`))});case"multipleChoice":return u.jsx("div",{className:"space-y-4",children:K.map((I,Z)=>u.jsx(Nx,{question:I,itemNumber:Z+1,onAnswer:le(Z)},`${l}-mc-${Z}`))});case"fillInTheBlanks":return u.jsx("div",{className:"space-y-4",children:K.map((I,Z)=>u.jsx(Ex,{question:I,itemNumber:Z+1,onAnswer:le(Z)},`${l}-fb-${Z}`))});case"sentenceScramble":return u.jsx("div",{className:"space-y-4",children:K.map((I,Z)=>u.jsx(Ax,{question:I,itemNumber:Z+1,onAnswer:le(Z)},`${l}-ss-${Z}`))});case"memoryCardGame":return u.jsx("div",{className:"space-y-4",children:K.map((I,Z)=>u.jsx(_x,{question:I,itemNumber:Z+1,onAnswer:le(Z)},`${l}-mcg-${Z}`))});default:return null}};return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[u.jsx("div",{className:"bg-white shadow-sm border-b",children:u.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx(Za,{className:"w-8 h-8 text-indigo-600"}),u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:""})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[u.jsx(en,{className:"w-5 h-5"}),u.jsx("span",{className:"text-lg font-medium",children:e}),a&&u.jsx("span",{className:"ml-2 px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full",children:" AI "})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[a&&j().length>0&&u.jsxs("button",{onClick:()=>v(!0),className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:[u.jsx(Rs,{className:"w-5 h-5"})," (",j().length,")"]}),j().length>0&&u.jsxs("button",{onClick:z,disabled:S,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-11.314a2.25 2.25 0 1 0 3.935-2.186 2.25 2.25 0 0 0-3.935 2.186Z"})}),S?"...":` (${j().length})`]})]})]})]})}),u.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[a&&u.jsx("div",{className:"mb-6 p-4 bg-blue-50 border-l-4 border-blue-400 rounded-r-lg",children:u.jsxs("div",{className:"flex items-start",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx(Rs,{className:"w-5 h-5 text-blue-400 mt-0.5"})}),u.jsxs("div",{className:"ml-3",children:[u.jsx("p",{className:"text-sm text-blue-700 font-medium",children:" AI "}),u.jsx("p",{className:"text-xs text-blue-600 mt-1",children:""})]})]})}),u.jsxs("div",{className:"mb-8",children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:""}),u.jsx("div",{className:"flex flex-wrap gap-3",children:J.map(({key:Y,label:K,color:le})=>u.jsx("button",{onClick:()=>m(Y),className:`px-6 py-3 rounded-lg text-white font-medium transition-all transform hover:scale-105 shadow-md
                  ${l===Y?`${le} ring-4 ring-opacity-50`:"bg-gray-400 hover:bg-gray-500"}
                `,children:K},Y))})]}),P&&u.jsx("div",{className:"space-y-8",children:Object.keys(ne).map(Y=>{const K=P[Y],le=W(Y,K);return le?u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-6 pb-3 border-b border-gray-200",children:[u.jsx("div",{className:"w-3 h-3 bg-indigo-500 rounded-full"}),u.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:ne[Y]})]}),le]},Y):null})}),(!P||Object.values(P).every(Y=>!Y||Y.length===0))&&u.jsx("div",{className:"text-center py-12",children:u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[u.jsx(Za,{className:"w-16 h-16 text-slate-400 mx-auto mb-4"}),u.jsx("p",{className:"text-slate-600 text-lg",children:""}),u.jsx("p",{className:"text-slate-500 text-sm mt-2",children:""})]})})]}),_&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:""}),u.jsx("p",{className:"text-gray-600 mb-4",children:""}),u.jsx("input",{type:"text",value:b,onChange:Y=>w(Y.target.value),placeholder:"",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent mb-4",onKeyPress:Y=>Y.key==="Enter"&&z()}),u.jsxs("div",{className:"flex gap-3 justify-end",children:[u.jsx("button",{onClick:()=>L(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:""}),u.jsx("button",{onClick:z,disabled:!b.trim()||S,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:S?"...":""})]})]})}),E&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-lg w-full",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:" "}),u.jsx("p",{className:"text-gray-600 mb-4",children:""}),u.jsx("div",{className:"bg-gray-50 p-3 rounded-lg mb-4",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("input",{type:"text",value:E,readOnly:!0,className:"flex-1 px-3 py-2 bg-white border border-gray-300 rounded text-sm"}),u.jsx("button",{onClick:async()=>{navigator.clipboard&&window.isSecureContext&&(await navigator.clipboard.writeText(E),alert(""))},className:"px-3 py-2 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors",children:""}),u.jsxs("button",{onClick:()=>O(!U),className:"px-3 py-2 bg-green-600 text-white rounded text-sm hover:bg-green-700 transition-colors flex items-center gap-1",children:[u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:[u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 3.75 9.375v-4.5ZM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5ZM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 13.5 9.375v-4.5Z"}),u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 6.75h.75v.75h-.75v-.75ZM6.75 16.5h.75v.75h-.75v-.75ZM16.5 6.75h.75v.75h-.75v-.75ZM13.5 13.5H8.25v1.5H13.5V13.5ZM13.5 16.5H8.25V18H13.5v-1.5ZM16.5 16.5h1.5V18h-1.5v-1.5ZM16.5 13.5h1.5v1.5h-1.5v-1.5Z"})]}),"QR Code"]})]})}),U&&u.jsx("div",{className:"mb-4 flex justify-center",children:u.jsx(ud,{url:E,title:" QR Code",size:200,className:"bg-white"})}),u.jsx("div",{className:"bg-blue-50 p-3 rounded-lg mb-4",children:u.jsxs("p",{className:"text-sm text-blue-700",children:[" ",u.jsx("strong",{children:""}),u.jsx("br",{})," ",b," ",e,"(",l===ct.Easy?"":l===ct.Normal?"":"",")  AI "]})}),u.jsx("div",{className:"flex justify-end",children:u.jsx("button",{onClick:()=>A(""),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:""})})]})}),u.jsx("footer",{className:"bg-white border-t mt-12 py-6",children:u.jsx("div",{className:"max-w-4xl mx-auto px-4 text-center",children:u.jsx("p",{className:"text-sm text-gray-500",children:" AI   "})})})]})},AA=()=>{const[t]=Qo(),e=t.get("binId"),[i,a]=je.useState(null),[r,l]=je.useState(""),[m,p]=je.useState(""),[x,g]=je.useState(!1),[v,b]=je.useState(!1),[w,S]=je.useState("");return je.useEffect(()=>{if(!e){S("ID");return}(async()=>{b(!0);try{const E=await u3(e);a(E.quiz),l(E.topic);let A=E.apiKey||"";try{const _=await Ix(t);_&&(A=_,console.log(" URL  API Key "))}catch(_){console.warn(" URL API Key :",_)}p(A),g(!!A)}catch(E){S(E.message||"")}finally{b(!1)}})()},[e,t]),v?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx(Li,{}),u.jsx("p",{className:"mt-4 text-gray-600",children:"..."})]})}):w?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md mx-4 text-center",children:[u.jsx("div",{className:"text-red-500 text-6xl mb-4",children:""}),u.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:""}),u.jsx("p",{className:"text-gray-600 mb-4",children:w}),u.jsx("p",{className:"text-sm text-gray-500",children:""})]})}):!i||!r?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md mx-4 text-center",children:[u.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:""}),u.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:""}),u.jsx("p",{className:"text-gray-600",children:""})]})}):u.jsx(EA,{quiz:i,topic:r,apiKey:m,supportsDiagnostic:x,quizBinId:e})},_A=()=>{const[t]=Qo(),[e,i]=M.useState(null),[a,r]=M.useState(!0),[l,m]=M.useState(null),[p,x]=M.useState(""),[g,v]=M.useState("manual"),b=t.get("binId");M.useEffect(()=>{(async()=>{if(!b){m(" ID"),r(!1);return}try{r(!0);const T=await f3(b);i(T.writingPractice);try{const E=await Ix(t);E&&(x(E),v("url"),localStorage.setItem("geminiApiKey",E),console.log(" URL  API Key  AI "))}catch(E){console.warn(" URL API Key :",E)}}catch(T){console.error(":",T),m("")}finally{r(!1)}})()},[b,t]),M.useEffect(()=>{if(!p){const S=localStorage.getItem("geminiApiKey");S&&(x(S),v("localStorage"))}},[]);const w=S=>{S.preventDefault();const T=p.trim();T&&(localStorage.setItem("geminiApiKey",T),x(T),v("manual"))};return a?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-100 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx(Li,{}),u.jsx("p",{className:"mt-4 text-gray-600",children:"..."})]})}):l?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-100 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-16 h-16 text-red-500 mx-auto mb-4",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})}),u.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:""}),u.jsx("p",{className:"text-gray-600 mb-6",children:l}),u.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:""})]})}):u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-100",children:u.jsxs("div",{className:"container mx-auto px-4 py-8",children:[u.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-8",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"flex items-center justify-center mb-4",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-12 h-12 text-blue-600",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})})}),u.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:" "}),u.jsx("p",{className:"text-gray-600",children:" AI "})]}),!p&&u.jsxs("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[u.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-yellow-600 mt-0.5 flex-shrink-0",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-yellow-800 mb-1",children:" API Key  AI "}),u.jsxs("p",{className:"text-sm text-yellow-700 mb-3",children:[" Google Gemini API Key  AI ",u.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"underline ml-1",children:" API Key"})]})]})]}),u.jsxs("form",{onSubmit:w,className:"flex gap-3",children:[u.jsx("input",{type:"password",value:p,onChange:S=>x(S.target.value),placeholder:" Gemini API Key",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),u.jsx("button",{type:"submit",disabled:!p.trim(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:""})]})]}),p&&u.jsx("div",{className:"mt-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),u.jsxs("div",{children:[u.jsx("span",{className:"text-sm font-medium",children:"API Key  AI "}),g==="url"&&u.jsxs("div",{className:"text-xs text-green-600 mt-1 flex items-center gap-1",children:[u.jsx("span",{children:""}),u.jsx("span",{children:" -  AI "})]}),g==="localStorage"&&u.jsxs("div",{className:"text-xs text-green-600 mt-1 flex items-center gap-1",children:[u.jsx("span",{children:""}),u.jsx("span",{children:""})]})]})]}),u.jsx("button",{onClick:()=>{localStorage.removeItem("geminiApiKey"),x(""),v("manual")},className:"text-sm text-green-600 hover:text-green-800 underline",children:""})]})})]}),e&&u.jsx(Rx,{content:e,apiKey:p,isStudentMode:!0}),u.jsxs("div",{className:"mt-8 text-center text-sm text-gray-500",children:[u.jsx("p",{children:"  Google Gemini AI "}),u.jsx("p",{className:"mt-1",children:"  AI "})]})]})})},MA=({responses:t,quizContent:e})=>{const i=(m,p)=>{if(!e)return null;const x=m.questionType,g=e[x];if(!g||!Array.isArray(g))return null;let v=p;if(m.questionId&&typeof m.questionId=="string"){const b=m.questionId.match(/\d+$/);b&&(v=parseInt(b[0]))}return g[v]||null},a=(m,p)=>{var x,g;if(!m)return u.jsx("div",{className:"text-gray-400 italic",children:""});switch(p){case"trueFalse":return u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"font-medium",children:" :"}),u.jsx("div",{className:"bg-blue-50 p-3 rounded text-gray-800",children:m.statement}),m.explanation&&u.jsxs("div",{className:"text-sm text-gray-600",children:[u.jsx("div",{className:"font-medium",children:": "}),u.jsx("div",{children:m.explanation})]})]});case"multipleChoice":return u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"font-medium",children:" :"}),u.jsx("div",{className:"bg-blue-50 p-3 rounded text-gray-800",children:m.question}),u.jsx("div",{className:"font-medium",children:":"}),u.jsx("div",{className:"space-y-1",children:(x=m.options)==null?void 0:x.map((v,b)=>u.jsxs("div",{className:`p-2 rounded text-sm ${b===m.correctAnswerIndex?"bg-green-100 border border-green-300":"bg-gray-50"}`,children:[String.fromCharCode(65+b),". ",v,b===m.correctAnswerIndex&&u.jsx("span",{className:"ml-2 text-green-600",children:" "})]},b))})]});case"fillInTheBlanks":return u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"font-medium",children:" :"}),u.jsx("div",{className:"bg-blue-50 p-3 rounded text-gray-800",children:m.sentence}),u.jsxs("div",{className:"text-sm text-green-700",children:[u.jsx("span",{className:"font-medium",children:": "}),Array.isArray(m.correctAnswers)?m.correctAnswers.join(", "):m.correctAnswers]})]});case"sentenceScramble":return u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"font-medium",children:" :"}),u.jsx("div",{className:"text-sm text-gray-600",children:":"}),u.jsx("div",{className:"bg-yellow-50 p-2 rounded text-sm",children:Array.isArray(m.scrambledWords)?m.scrambledWords.join(" | "):""}),u.jsxs("div",{className:"text-sm text-green-700",children:[u.jsx("span",{className:"font-medium",children:": "}),m.correctSentence]})]});case"memoryCardGame":return u.jsxs("div",{className:"space-y-2",children:[u.jsx("div",{className:"font-medium",children:" :"}),m.instructions&&u.jsx("div",{className:"text-sm text-sky-700 bg-sky-50 p-2 rounded",children:m.instructions}),u.jsx("div",{className:"space-y-1",children:(g=m.pairs)==null?void 0:g.map((v,b)=>u.jsxs("div",{className:"flex items-center justify-between bg-purple-50 p-2 rounded text-sm",children:[u.jsxs("span",{children:[" ",v.question]}),u.jsx("span",{className:"text-purple-600",children:""}),u.jsxs("span",{children:[" ",v.answer]})]},b))})]});default:return u.jsx("pre",{className:"text-xs bg-gray-100 p-2 rounded",children:JSON.stringify(m,null,2)})}},r=(m,p)=>p==="memoryCardGame"&&typeof m=="number"?`: ${m}`:p==="multipleChoice"&&typeof m=="number"?` ${String.fromCharCode(65+m)} (${m})`:typeof m=="object"?JSON.stringify(m,null,2):String(m),l={trueFalse:"",multipleChoice:"",fillInTheBlanks:"",sentenceScramble:"",memoryCardGame:""};return u.jsx("div",{className:"space-y-6",children:t.map((m,p)=>{const x=i(m,p);return u.jsxs("div",{className:`p-6 rounded-lg border-2 ${m.isCorrect?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[m.isCorrect?u.jsx(Ui,{className:"w-5 h-5 text-green-600"}):u.jsx(Pi,{className:"w-5 h-5 text-red-600"}),u.jsxs("span",{className:"font-bold text-lg text-gray-800",children:[" ",p+1,"  - ",l[m.questionType]||m.questionType]})]}),u.jsx("div",{className:"text-sm text-gray-500",children:m.attempts&&m.attempts>1&&` ${m.attempts} `})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:" :"}),u.jsx("div",{className:"border-l-4 border-blue-300 pl-4",children:a(x,m.questionType)})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t border-gray-200",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:" :"}),u.jsx("div",{className:"bg-white p-3 rounded border",children:r(m.userAnswer,m.questionType)})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:m.isCorrect?" ":" "}),u.jsx("div",{className:`p-3 rounded border ${m.isCorrect?"bg-green-100 border-green-300":"bg-red-100 border-red-300"}`,children:m.isCorrect?"":""})]})]})]},m.questionId||p)})})},kA=()=>{var H,j;const[t]=Qo(),e=t.get("binId"),[i,a]=M.useState(null),[r,l]=M.useState(!0),[m,p]=M.useState(null),[x,g]=M.useState(""),[v,b]=M.useState(!1),[w,S]=M.useState(!1),[T,E]=M.useState(!1);M.useEffect(()=>{(async()=>{if(!e){p("ID"),l(!1);return}try{l(!0);const P=await kx(e);a(P),b(!!P.diagnosticReport)}catch(P){console.error(":",P),p(P instanceof Error?P.message:"")}finally{l(!1)}})()},[e]),M.useEffect(()=>{const z=localStorage.getItem("geminiApiKey")||localStorage.getItem("gemini_api_key");z?(g(z),console.log(" localStorage  API Key")):console.log(" API Key")},[]);const A=z=>{z.preventDefault();const P=x.trim();P&&(localStorage.setItem("geminiApiKey",P),g(P),E(!1))},_=()=>{if(!x){E(!0);return}S(!0)},L=()=>{i!=null&&i.diagnosticReport&&S(!0)};if(r)return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-100 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx(Li,{}),u.jsx("p",{className:"mt-4 text-gray-600",children:"..."})]})});if(m)return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-pink-100 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-16 h-16 text-red-500 mx-auto mb-4",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})}),u.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:""}),u.jsx("p",{className:"text-gray-600 mb-6",children:m}),u.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:""})]})});if(w&&i)return u.jsx(Cd,{topic:`${i.topic} (${i.difficulty}) - ${i.studentName}`,apiKey:x,mode:"teacher",initialResponses:i.responses,quizData:i.quizContent?{topic:i.topic,[((j=(H=i.metadata)==null?void 0:H.selectedDifficulty)==null?void 0:j.toLowerCase())||"normal"]:i.quizContent}:void 0,existingReport:i.diagnosticReport,resultsBinId:e,onClose:()=>S(!1),onReportSaved:z=>{a(P=>P?{...P,diagnosticReport:z}:null),b(!0)}});if(!i)return u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-16 h-16 text-gray-400 mx-auto mb-4",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})}),u.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:""}),u.jsx("p",{className:"text-gray-600",children:""})]})});const U=i.responses.filter(z=>z.isCorrect).length,O=i.responses.length,F=new Date(i.completedAt).toLocaleString("zh-TW");return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-100",children:[u.jsx("div",{className:"bg-white shadow-sm border-b",children:u.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[u.jsx(en,{className:"w-8 h-8 text-blue-600"}),u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:""})]}),u.jsx("div",{className:"flex items-center gap-2 text-gray-600",children:u.jsx("span",{className:"text-lg font-medium",children:""})})]})}),u.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:[" ",i.studentName||""," "]}),u.jsxs("div",{className:"flex items-center gap-4 text-gray-600",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(en,{className:"w-4 h-4"}),u.jsxs("span",{children:["",i.topic]})]}),u.jsx("div",{className:"flex items-center gap-1",children:u.jsxs("span",{children:["",i.difficulty]})}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(ld,{className:"w-4 h-4"}),u.jsxs("span",{children:["",F]})]})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:"text-3xl font-bold text-blue-600 mb-1",children:[i.overallScore,"%"]}),u.jsxs("div",{className:"text-sm text-gray-600",children:[U,"/",O," "]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[u.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Ui,{className:"w-8 h-8 text-green-600"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-2xl font-bold text-green-700",children:U}),u.jsx("div",{className:"text-sm text-green-600",children:""})]})]})}),u.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Pi,{className:"w-8 h-8 text-red-600"}),u.jsxs("div",{children:[u.jsx("div",{className:"text-2xl font-bold text-red-700",children:O-U}),u.jsx("div",{className:"text-sm text-red-600",children:""})]})]})}),u.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Rs,{className:"w-8 h-8 text-blue-600"}),u.jsxs("div",{children:[u.jsxs("div",{className:"text-2xl font-bold text-blue-700",children:[i.overallScore,"%"]}),u.jsx("div",{className:"text-sm text-blue-600",children:""})]})]})})]}),u.jsxs("div",{className:"flex flex-col gap-4",children:[u.jsxs("div",{className:"flex gap-4 items-center",children:[v?u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("button",{onClick:L,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg hover:from-green-700 hover:to-emerald-700 transition-all font-medium",children:[u.jsx(Rs,{className:"w-5 h-5"})," AI "]}),u.jsx("button",{onClick:_,className:"flex items-center gap-2 px-4 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg hover:from-indigo-700 hover:to-purple-700 transition-all font-medium text-sm",children:" "})]}):u.jsxs("button",{onClick:_,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg hover:from-indigo-700 hover:to-purple-700 transition-all font-medium",children:[u.jsx(Rs,{className:"w-5 h-5"})," AI "]}),x?u.jsx("div",{className:"text-sm text-green-600 flex items-center gap-1",children:" API Key  AI "}):u.jsx("div",{className:"text-sm text-amber-600 flex items-center gap-1",children:"  API Key  AI "})]}),u.jsx("div",{className:"text-xs text-gray-500",children:v?u.jsx("span",{children:" "}):x?u.jsx("span",{children:"  API Key"}):null})]})]}),u.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[u.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"  ()"}),u.jsx(MA,{responses:i.responses,quizContent:i.quizContent})]})]}),T&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:" API Key"}),u.jsxs("p",{className:"text-gray-600 mb-4",children:[" AI  Google Gemini API Key",u.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"underline text-blue-600 ml-1",children:" API Key"})]}),u.jsxs("form",{onSubmit:A,children:[u.jsx("input",{type:"password",value:x,onChange:z=>g(z.target.value),placeholder:" Gemini API Key",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent mb-4"}),u.jsxs("div",{className:"flex gap-3 justify-end",children:[u.jsx("button",{type:"button",onClick:()=>E(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:""}),u.jsx("button",{type:"submit",disabled:!x.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:""})]})]})]})})]})},RA=()=>{const[t,e]=M.useState([]),[i,a]=M.useState(!0),[r,l]=M.useState(null),[m,p]=M.useState(""),[x,g]=M.useState(null),[v,b]=M.useState("list"),[w,S]=M.useState(null),[T,E]=M.useState(null);M.useEffect(()=>{const j=localStorage.getItem("gemini_api_key")||localStorage.getItem("geminiApiKey");E(j),A()},[]);const A=async()=>{try{a(!0),l(null),await Bt.init();const j=await Bt.getAllLessonPlans();e(j)}catch(j){console.error(":",j),l("")}finally{a(!1)}},_=async()=>{if(!m.trim()){await A();return}try{a(!0);const j=await Bt.searchLessonPlans(m);e(j)}catch(j){console.error(":",j),l("")}finally{a(!1)}},L=async j=>{g(j),b("view");try{await Bt.updateLastAccessed(j.id)}catch(z){console.error(":",z)}},U=async j=>{if(!T){alert(" API Key ");return}S(j.id);try{const z={...j.content,topic:j.topic,selectedLevel:j.content.selectedLevel||null,selectedVocabularyLevel:j.content.selectedVocabularyLevel||null},P=await Mx(z,T,!0),J=`${window.location.origin}/ai-page-gen/share?binId=${P}`;if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(J),alert("");else{const ne=document.createElement("textarea");ne.value=J,document.body.appendChild(ne),ne.select(),document.execCommand("copy"),document.body.removeChild(ne),alert(`\\n${J}`)}await Bt.updateLastAccessed(j.id)}catch(z){console.error(":",z),alert("")}finally{S(null)}},O=async j=>{if(confirm(`${j.topic}`))try{await Bt.deleteLessonPlan(j.id),await A()}catch(z){console.error(":",z),alert("")}},F=j=>new Date(j).toLocaleString("zh-TW",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),H=m.trim()?t.filter(j=>j.topic.toLowerCase().includes(m.toLowerCase())):t;return v==="view"&&x?u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[u.jsx("div",{className:"bg-white shadow-sm border-b sticky top-0 z-10",children:u.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("button",{onClick:()=>{b("list"),g(null)},className:"flex items-center gap-2 px-3 py-2 text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})}),""]}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h1",{className:"text-xl font-bold text-gray-900",children:x.topic}),u.jsxs("p",{className:"text-sm text-gray-600",children:[" ",F(x.createdAt)]})]}),u.jsxs("button",{onClick:()=>U(x),disabled:w===x.id,className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[w===x.id?u.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):u.jsx(xu,{className:"w-4 h-4"}),""]})]})})}),u.jsx("div",{className:"max-w-6xl mx-auto px-4 py-8",children:u.jsx(Nd,{content:x.content,topic:x.topic,selectedLevel:x.content.selectedLevel||null,selectedVocabularyLevel:x.content.selectedVocabularyLevel||null,apiKey:T||void 0,onContentUpdate:async j=>{const z={...x,content:j,lastAccessedAt:new Date().toISOString()};g(z);try{await Bt.saveLessonPlan(z),console.log(" IndexedDB")}catch(P){console.error(" IndexedDB :",P)}}})})]}):u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[u.jsx("div",{className:"bg-white shadow-sm border-b",children:u.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(en,{className:"w-8 h-8 text-indigo-600"}),u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:""})]}),u.jsx("p",{className:"text-gray-600",children:""})]})}),u.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[u.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:u.jsxs("div",{className:"flex gap-3",children:[u.jsx("input",{type:"text",value:m,onChange:j=>p(j.target.value),placeholder:"...",className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",onKeyPress:j=>j.key==="Enter"&&_()}),u.jsx("button",{onClick:_,className:"px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:""}),u.jsx("button",{onClick:A,className:"px-4 py-3 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors",children:""})]})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[u.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-3 bg-indigo-100 rounded-lg",children:u.jsx(en,{className:"w-6 h-6 text-indigo-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.length}),u.jsx("p",{className:"text-gray-600",children:""})]})]})}),u.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:u.jsx(ld,{className:"w-6 h-6 text-green-600"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.filter(j=>{var z;return(z=j.metadata)==null?void 0:z.hasQuiz}).length}),u.jsx("p",{className:"text-gray-600",children:""})]})]})}),u.jsx("div",{className:"bg-white rounded-xl shadow-lg p-6",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-purple-600",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"})})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.filter(j=>{var z;return(z=j.metadata)==null?void 0:z.hasWriting}).length}),u.jsx("p",{className:"text-gray-600",children:""})]})]})})]}),u.jsxs("div",{className:"bg-white rounded-xl shadow-lg",children:[u.jsx("div",{className:"p-6 border-b border-gray-200",children:u.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:m.trim()?` (${H.length})`:""})}),i?u.jsxs("div",{className:"p-8 text-center",children:[u.jsx(Li,{}),u.jsx("p",{className:"mt-4 text-gray-600",children:"..."})]}):r?u.jsxs("div",{className:"p-8 text-center",children:[u.jsx("p",{className:"text-red-600 mb-4",children:r}),u.jsx("button",{onClick:A,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:""})]}):H.length===0?u.jsxs("div",{className:"p-8 text-center",children:[u.jsx(en,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600 text-lg mb-2",children:m.trim()?"":""}),u.jsx("p",{className:"text-gray-500",children:m.trim()?"":""})]}):u.jsx("div",{className:"divide-y divide-gray-200",children:H.map(j=>{var z,P,J,ne;return u.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:j.topic}),((z=j.metadata)==null?void 0:z.isShared)&&u.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[u.jsx(xu,{className:"w-3 h-3"}),""]})]}),u.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-2",children:[u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(ld,{className:"w-4 h-4"}),"",F(j.createdAt)]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(l0,{className:"w-4 h-4"}),"",F(j.lastAccessedAt)]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"px-2 py-1 bg-indigo-100 text-indigo-800 text-xs font-medium rounded-full",children:[((P=j.metadata)==null?void 0:P.totalSections)||0," "]}),((J=j.metadata)==null?void 0:J.hasQuiz)&&u.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs font-medium rounded-full",children:""}),((ne=j.metadata)==null?void 0:ne.hasWriting)&&u.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 text-xs font-medium rounded-full",children:""})]})]}),u.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[u.jsxs("button",{onClick:()=>L(j),className:"flex items-center gap-2 px-3 py-2 text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",children:[u.jsx(l0,{className:"w-4 h-4"}),""]}),u.jsxs("button",{onClick:()=>U(j),disabled:w===j.id,className:"flex items-center gap-2 px-3 py-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[w===j.id?u.jsx("div",{className:"w-4 h-4 border-2 border-green-600 border-t-transparent rounded-full animate-spin"}):u.jsx(xu,{className:"w-4 h-4"}),""]}),u.jsxs("button",{onClick:()=>O(j),className:"flex items-center gap-2 px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[u.jsx(r3,{className:"w-4 h-4"}),""]})]})]})},j.id)})})]})]})]})},Ja="gemini_api_key",DA=()=>{const[t]=Qo(),e=t.get("binId"),[i,a]=je.useState(null),[r,l]=je.useState(!1),[m,p]=je.useState(""),[x,g]=je.useState(null),[v,b]=je.useState(!1);je.useEffect(()=>{if(!e){p(" binId");return}l(!0),l3(e).then(T=>{a(T),w(T,e)}).catch(T=>p(T.message||"")).finally(()=>l(!1))},[e]);const w=async(T,E)=>{try{if(await Bt.init(),await Bt.getLessonPlan(`shared_${E}`)){await Bt.updateLastAccessed(`shared_${E}`);return}const _={id:`shared_${E}`,topic:T.topic||"",createdAt:new Date().toISOString(),lastAccessedAt:new Date().toISOString(),content:{learningObjectives:T.learningObjectives,contentBreakdown:T.contentBreakdown,confusingPoints:T.confusingPoints,classroomActivities:T.classroomActivities,quiz:T.onlineInteractiveQuiz,writingPractice:T.writingPractice},metadata:{totalSections:[T.learningObjectives,T.contentBreakdown,T.confusingPoints,T.classroomActivities,T.onlineInteractiveQuiz,T.writingPractice].filter(Boolean).length,hasQuiz:!!T.onlineInteractiveQuiz,hasWriting:!!T.writingPractice,isShared:!0,sharedBinId:E}};await Bt.saveLessonPlan(_),console.log(`: ${T.topic||""} (${E})`)}catch(A){console.error(":",A)}};je.useEffect(()=>{const T=localStorage.getItem(Ja);T?g(T):b(!0)},[]);const S=T=>{localStorage.setItem(Ja,T),g(T),b(!1)};return r?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-sky-50 to-indigo-100 py-8 px-4 sm:px-6 lg:px-8",children:u.jsx("div",{className:"flex justify-center my-10",children:u.jsx(Li,{})})}):m?u.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-sky-50 to-indigo-100 py-8 px-4 sm:px-6 lg:px-8",children:u.jsx("div",{className:"max-w-4xl mx-auto",children:u.jsx("div",{className:"my-6 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg shadow-md",children:m})})}):i?u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-sky-50 to-indigo-100 py-8 px-4 sm:px-6 lg:px-8",children:[u.jsx(Ox,{isOpen:v,onSave:S}),u.jsxs("div",{className:"max-w-4xl mx-auto",children:[!x&&!v&&u.jsx("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-yellow-600 mt-0.5 flex-shrink-0",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m0 0c.652-.286 1.323-.443 2.25-.443 1.38 0 2.652.24 3.75.697v-6a6 6 0 0 0-6 2.243M12 15.75V21m0-5.25c1.38 0 2.652-.24 3.75-.697v6a6 6 0 0 1-3.75-2.243M12 15.75L9 12"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-yellow-800 font-medium text-sm",children:" API Key "}),u.jsx("p",{className:"text-yellow-700 text-xs mt-1",children:" AI "})]})]}),u.jsx("button",{onClick:()=>b(!0),className:"px-3 py-1 bg-yellow-600 text-white rounded hover:bg-yellow-700 text-sm",children:" API Key"})]})}),u.jsx(Nd,{content:i,topic:i.topic||"",selectedLevel:i.selectedLevel||null,selectedVocabularyLevel:i.selectedVocabularyLevel||null,apiKey:x||void 0,onContentUpdate:a})]})]}):null},jA=()=>{const[t,e]=M.useState(""),[i,a]=M.useState(null),[r,l]=M.useState(!1),[m,p]=M.useState(null),[x,g]=M.useState(null),[v,b]=M.useState(!1),[w,S]=M.useState(null),[T,E]=M.useState(null),[A,_]=M.useState(null),[L,U]=M.useState(!1),[O,F]=M.useState(null),[H,j]=M.useState(!1),[z,P]=M.useState(!1);je.useEffect(()=>{const Z=new URLSearchParams(window.location.search).get("apikey");if(Z){localStorage.setItem(Ja,Z),g(Z),b(!1);const Ce=window.location.origin+window.location.pathname;window.history.replaceState({},document.title,Ce);return}const oe=localStorage.getItem(Ja);oe?g(oe):b(!0)},[]);const J=I=>{localStorage.setItem(Ja,I),g(I),b(!1)},ne=async(I,Z)=>{try{await Bt.init();const oe=NA(Z,I);await Bt.saveLessonPlan(oe)}catch(oe){console.error(":",oe)}},W=M.useCallback(async()=>{if(!t.trim()){p("");return}if(!x){p(" Gemini API "),b(!0);return}l(!0),p(null),E(null),a(null),_(null),F(null),j(!1);const I=D4(t);P(I);try{const Z=await j4(t,x);E(Z),U(!0),I&&j(!0)}catch(Z){console.error(Z),p(Z.message||"")}finally{l(!1)}},[t,x]),Y=M.useCallback(async I=>{if(!x){p(" Gemini API "),b(!0);return}if(z&&!O){p("");return}l(!0),p(null),_(I),a(null);try{let Z;z&&O?Z=await L4(t,I,O,x):Z=await I4(t,I,x),a(Z),U(!1),j(!1),await ne(Z,t)}catch(Z){console.error(Z),p(Z.message||"")}finally{l(!1)}},[t,x,z,O]),K=M.useCallback(async()=>{if(!t.trim()){p("");return}if(!x){p(" Gemini API "),b(!0);return}l(!0),p(null),a(null),U(!1),j(!1),P(!1);try{const I=await $4(t,x);a(I),await ne(I,t)}catch(I){console.error(I),p(I.message||""),a(null)}finally{l(!1)}},[t,x]),le=async()=>{if(!x){S(" API ");return}const I=`${window.location.origin}/ai-page-gen/?apikey=${encodeURIComponent(x)}`;try{await navigator.clipboard.writeText(I),S("")}catch{S("")}setTimeout(()=>S(null),2e3)};return u.jsx(mA,{basename:"/ai-page-gen/",children:u.jsxs($E,{children:[u.jsx(ki,{path:"share",element:u.jsx(DA,{})}),u.jsx(ki,{path:"quiz",element:u.jsx(AA,{})}),u.jsx(ki,{path:"writing",element:u.jsx(_A,{})}),u.jsx(ki,{path:"student-results",element:u.jsx(kA,{})}),u.jsx(ki,{path:"lesson-plans",element:u.jsx(RA,{})}),u.jsx(ki,{path:"/",element:u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-sky-50 to-indigo-100 py-8 px-4 sm:px-6 lg:px-8",children:[u.jsx(Ox,{isOpen:v,onSave:J}),u.jsxs("header",{className:"text-center mb-10",children:[u.jsxs("h1",{className:"text-4xl sm:text-5xl font-extrabold text-sky-700 tracking-tight",children:["AI  ",u.jsx("span",{className:"text-indigo-600",children:""})]}),u.jsx("p",{className:"mt-3 text-lg text-slate-600 max-w-2xl mx-auto",children:" AI "}),u.jsxs("div",{className:"mt-6 max-w-2xl mx-auto bg-yellow-50 border-l-4 border-yellow-400 rounded-lg p-4 text-left shadow-sm",children:[u.jsxs("div",{className:"flex items-start mb-2",children:[u.jsx("svg",{className:"w-6 h-6 text-yellow-500 mr-2 flex-shrink-0",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M12 20a8 8 0 100-16 8 8 0 000 16z"})}),u.jsx("span",{className:"font-semibold text-yellow-800 text-base",children:""})]}),u.jsxs("ul",{className:"list-disc pl-8 text-yellow-900 text-sm space-y-1",children:[u.jsx("li",{children:"AI"}),u.jsx("li",{children:""})]})]})]}),u.jsxs("div",{className:"max-w-4xl mx-auto mb-8",children:[u.jsxs("div",{className:"flex justify-center gap-4",children:[u.jsxs("a",{href:"/ai-page-gen/lesson-plans",className:"flex items-center gap-2 px-6 py-3 bg-indigo-600 text-white font-medium rounded-lg hover:bg-indigo-700 transition-colors shadow-lg",children:[u.jsx(en,{className:"w-5 h-5"}),""]}),u.jsxs("button",{onClick:le,className:"flex items-center gap-2 px-6 py-3 bg-purple-600 text-white font-medium rounded-lg hover:bg-purple-700 transition-colors shadow-lg",children:[u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-11.314a2.25 2.25 0 1 0 3.935-2.186 2.25 2.25 0 0 0-3.935 2.186Z"})}),""]})]}),w&&u.jsx("div",{className:"mt-3 text-center",children:u.jsx("p",{className:`text-sm ${w.includes("")?"text-red-600":"text-green-600"}`,children:w})})]}),u.jsxs("main",{className:"max-w-4xl mx-auto",children:[u.jsx(Y4,{topic:t,setTopic:e,onGenerate:K,onGenerateWithLevels:W,isLoading:r}),m&&!r&&u.jsxs("div",{className:"my-6 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg shadow-md",children:[u.jsxs("h3",{className:"font-bold text-lg mb-2 flex items-center",children:[u.jsx(rd,{className:"w-6 h-6 mr-2 text-red-600"}),""]}),u.jsx("p",{children:m}),u.jsx("p",{className:"mt-2 text-sm",children:"AI  API "})]}),r&&u.jsx("div",{className:"flex justify-center my-10",children:u.jsx(Li,{})}),L&&T&&!r&&!m&&u.jsx(Q3,{learningLevels:T,onLevelSelect:_,onGenerateWithLevel:Y,selectedLevelId:A==null?void 0:A.id,isLoading:r}),H&&z&&!r&&!m&&u.jsx(K3,{onVocabularyLevelSelect:F,selectedLevel:O,isVisible:!0}),i&&!r&&!m&&!L&&!H&&u.jsx(Nd,{content:i,topic:t,selectedLevel:A,selectedVocabularyLevel:O,apiKey:x||void 0,onContentUpdate:a})]}),u.jsxs("footer",{className:"text-center mt-12 py-6 border-t border-slate-300",children:[u.jsx("p",{className:"text-sm text-slate-500",children:" Gemini API AI "}),u.jsx("button",{className:"mt-4 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded shadow transition",onClick:le,disabled:!x,children:""}),w&&u.jsx("div",{className:"mt-2 text-green-600 text-sm",children:w})]})]})})]})})},sy=document.getElementById("root");if(!sy)throw new Error("Could not find root element to mount to");const IA=Pv.createRoot(sy);IA.render(u.jsx(je.StrictMode,{children:u.jsx(jA,{})}));
