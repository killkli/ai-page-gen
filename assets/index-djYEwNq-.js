(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function a(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=a(o);fetch(o.href,u)}})();function jg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Wu={exports:{}},As={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $h;function cv(){if($h)return As;$h=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function a(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var g in o)g!=="key"&&(u[g]=o[g])}else u=o;return o=u.ref,{$$typeof:t,type:s,key:h,ref:o!==void 0?o:null,props:u}}return As.Fragment=e,As.jsx=a,As.jsxs=a,As}var qh;function dv(){return qh||(qh=1,Wu.exports=cv()),Wu.exports}var f=dv(),ec={exports:{}},Te={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zh;function fv(){if(zh)return Te;zh=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),C=Symbol.iterator;function T(M){return M===null||typeof M!="object"?null:(M=C&&M[C]||M["@@iterator"],typeof M=="function"?M:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,_={};function E(M,F,ne){this.props=M,this.context=F,this.refs=_,this.updater=ne||S}E.prototype.isReactComponent={},E.prototype.setState=function(M,F){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,F,"setState")},E.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function I(){}I.prototype=E.prototype;function V(M,F,ne){this.props=M,this.context=F,this.refs=_,this.updater=ne||S}var U=V.prototype=new I;U.constructor=V,N(U,E.prototype),U.isPureReactComponent=!0;var $=Array.isArray,q={H:null,A:null,T:null,S:null,V:null},J=Object.prototype.hasOwnProperty;function Q(M,F,ne,ie,he,Re){return ne=Re.ref,{$$typeof:t,type:M,key:F,ref:ne!==void 0?ne:null,props:Re}}function se(M,F){return Q(M.type,F,void 0,void 0,void 0,M.props)}function X(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function oe(M){var F={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ne){return F[ne]})}var te=/\/+/g;function Z(M,F){return typeof M=="object"&&M!==null&&M.key!=null?oe(""+M.key):F.toString(36)}function de(){}function re(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(de,de):(M.status="pending",M.then(function(F){M.status==="pending"&&(M.status="fulfilled",M.value=F)},function(F){M.status==="pending"&&(M.status="rejected",M.reason=F)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function ee(M,F,ne,ie,he){var Re=typeof M;(Re==="undefined"||Re==="boolean")&&(M=null);var G=!1;if(M===null)G=!0;else switch(Re){case"bigint":case"string":case"number":G=!0;break;case"object":switch(M.$$typeof){case t:case e:G=!0;break;case v:return G=M._init,ee(G(M._payload),F,ne,ie,he)}}if(G)return he=he(M),G=ie===""?"."+Z(M,0):ie,$(he)?(ne="",G!=null&&(ne=G.replace(te,"$&/")+"/"),ee(he,F,ne,"",function(Fe){return Fe})):he!=null&&(X(he)&&(he=se(he,ne+(he.key==null||M&&M.key===he.key?"":(""+he.key).replace(te,"$&/")+"/")+G)),F.push(he)),1;G=0;var Me=ie===""?".":ie+":";if($(M))for(var ge=0;ge<M.length;ge++)ie=M[ge],Re=Me+Z(ie,ge),G+=ee(ie,F,ne,Re,he);else if(ge=T(M),typeof ge=="function")for(M=ge.call(M),ge=0;!(ie=M.next()).done;)ie=ie.value,Re=Me+Z(ie,ge++),G+=ee(ie,F,ne,Re,he);else if(Re==="object"){if(typeof M.then=="function")return ee(re(M),F,ne,ie,he);throw F=String(M),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return G}function j(M,F,ne){if(M==null)return M;var ie=[],he=0;return ee(M,ie,"","",function(Re){return F.call(ne,Re,he++)}),ie}function K(M){if(M._status===-1){var F=M._result;F=F(),F.then(function(ne){(M._status===0||M._status===-1)&&(M._status=1,M._result=ne)},function(ne){(M._status===0||M._status===-1)&&(M._status=2,M._result=ne)}),M._status===-1&&(M._status=0,M._result=F)}if(M._status===1)return M._result.default;throw M._result}var le=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function _e(){}return Te.Children={map:j,forEach:function(M,F,ne){j(M,function(){F.apply(this,arguments)},ne)},count:function(M){var F=0;return j(M,function(){F++}),F},toArray:function(M){return j(M,function(F){return F})||[]},only:function(M){if(!X(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Te.Component=E,Te.Fragment=a,Te.Profiler=o,Te.PureComponent=V,Te.StrictMode=s,Te.Suspense=x,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,Te.__COMPILER_RUNTIME={__proto__:null,c:function(M){return q.H.useMemoCache(M)}},Te.cache=function(M){return function(){return M.apply(null,arguments)}},Te.cloneElement=function(M,F,ne){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ie=N({},M.props),he=M.key,Re=void 0;if(F!=null)for(G in F.ref!==void 0&&(Re=void 0),F.key!==void 0&&(he=""+F.key),F)!J.call(F,G)||G==="key"||G==="__self"||G==="__source"||G==="ref"&&F.ref===void 0||(ie[G]=F[G]);var G=arguments.length-2;if(G===1)ie.children=ne;else if(1<G){for(var Me=Array(G),ge=0;ge<G;ge++)Me[ge]=arguments[ge+2];ie.children=Me}return Q(M.type,he,void 0,void 0,Re,ie)},Te.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Te.createElement=function(M,F,ne){var ie,he={},Re=null;if(F!=null)for(ie in F.key!==void 0&&(Re=""+F.key),F)J.call(F,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(he[ie]=F[ie]);var G=arguments.length-2;if(G===1)he.children=ne;else if(1<G){for(var Me=Array(G),ge=0;ge<G;ge++)Me[ge]=arguments[ge+2];he.children=Me}if(M&&M.defaultProps)for(ie in G=M.defaultProps,G)he[ie]===void 0&&(he[ie]=G[ie]);return Q(M,Re,void 0,void 0,null,he)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(M){return{$$typeof:g,render:M}},Te.isValidElement=X,Te.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:K}},Te.memo=function(M,F){return{$$typeof:p,type:M,compare:F===void 0?null:F}},Te.startTransition=function(M){var F=q.T,ne={};q.T=ne;try{var ie=M(),he=q.S;he!==null&&he(ne,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(_e,le)}catch(Re){le(Re)}finally{q.T=F}},Te.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},Te.use=function(M){return q.H.use(M)},Te.useActionState=function(M,F,ne){return q.H.useActionState(M,F,ne)},Te.useCallback=function(M,F){return q.H.useCallback(M,F)},Te.useContext=function(M){return q.H.useContext(M)},Te.useDebugValue=function(){},Te.useDeferredValue=function(M,F){return q.H.useDeferredValue(M,F)},Te.useEffect=function(M,F,ne){var ie=q.H;if(typeof ne=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(M,F)},Te.useId=function(){return q.H.useId()},Te.useImperativeHandle=function(M,F,ne){return q.H.useImperativeHandle(M,F,ne)},Te.useInsertionEffect=function(M,F){return q.H.useInsertionEffect(M,F)},Te.useLayoutEffect=function(M,F){return q.H.useLayoutEffect(M,F)},Te.useMemo=function(M,F){return q.H.useMemo(M,F)},Te.useOptimistic=function(M,F){return q.H.useOptimistic(M,F)},Te.useReducer=function(M,F,ne){return q.H.useReducer(M,F,ne)},Te.useRef=function(M){return q.H.useRef(M)},Te.useState=function(M){return q.H.useState(M)},Te.useSyncExternalStore=function(M,F,ne){return q.H.useSyncExternalStore(M,F,ne)},Te.useTransition=function(){return q.H.useTransition()},Te.version="19.1.0",Te}var Gh;function jc(){return Gh||(Gh=1,ec.exports=fv()),ec.exports}var k=jc();const Ue=jg(k);var tc={exports:{}},Ms={},nc={exports:{}},ic={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hh;function mv(){return Hh||(Hh=1,function(t){function e(j,K){var le=j.length;j.push(K);e:for(;0<le;){var _e=le-1>>>1,M=j[_e];if(0<o(M,K))j[_e]=K,j[le]=M,le=_e;else break e}}function a(j){return j.length===0?null:j[0]}function s(j){if(j.length===0)return null;var K=j[0],le=j.pop();if(le!==K){j[0]=le;e:for(var _e=0,M=j.length,F=M>>>1;_e<F;){var ne=2*(_e+1)-1,ie=j[ne],he=ne+1,Re=j[he];if(0>o(ie,le))he<M&&0>o(Re,ie)?(j[_e]=Re,j[he]=le,_e=he):(j[_e]=ie,j[ne]=le,_e=ne);else if(he<M&&0>o(Re,le))j[_e]=Re,j[he]=le,_e=he;else break e}}return K}function o(j,K){var le=j.sortIndex-K.sortIndex;return le!==0?le:j.id-K.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;t.unstable_now=function(){return u.now()}}else{var h=Date,g=h.now();t.unstable_now=function(){return h.now()-g}}var x=[],p=[],v=1,C=null,T=3,S=!1,N=!1,_=!1,E=!1,I=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;function $(j){for(var K=a(p);K!==null;){if(K.callback===null)s(p);else if(K.startTime<=j)s(p),K.sortIndex=K.expirationTime,e(x,K);else break;K=a(p)}}function q(j){if(_=!1,$(j),!N)if(a(x)!==null)N=!0,J||(J=!0,Z());else{var K=a(p);K!==null&&ee(q,K.startTime-j)}}var J=!1,Q=-1,se=5,X=-1;function oe(){return E?!0:!(t.unstable_now()-X<se)}function te(){if(E=!1,J){var j=t.unstable_now();X=j;var K=!0;try{e:{N=!1,_&&(_=!1,V(Q),Q=-1),S=!0;var le=T;try{t:{for($(j),C=a(x);C!==null&&!(C.expirationTime>j&&oe());){var _e=C.callback;if(typeof _e=="function"){C.callback=null,T=C.priorityLevel;var M=_e(C.expirationTime<=j);if(j=t.unstable_now(),typeof M=="function"){C.callback=M,$(j),K=!0;break t}C===a(x)&&s(x),$(j)}else s(x);C=a(x)}if(C!==null)K=!0;else{var F=a(p);F!==null&&ee(q,F.startTime-j),K=!1}}break e}finally{C=null,T=le,S=!1}K=void 0}}finally{K?Z():J=!1}}}var Z;if(typeof U=="function")Z=function(){U(te)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,re=de.port2;de.port1.onmessage=te,Z=function(){re.postMessage(null)}}else Z=function(){I(te,0)};function ee(j,K){Q=I(function(){j(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_next=function(j){switch(T){case 1:case 2:case 3:var K=3;break;default:K=T}var le=T;T=K;try{return j()}finally{T=le}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function(j,K){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var le=T;T=j;try{return K()}finally{T=le}},t.unstable_scheduleCallback=function(j,K,le){var _e=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?_e+le:_e):le=_e,j){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=le+M,j={id:v++,callback:K,priorityLevel:j,startTime:le,expirationTime:M,sortIndex:-1},le>_e?(j.sortIndex=le,e(p,j),a(x)===null&&j===a(p)&&(_?(V(Q),Q=-1):_=!0,ee(q,le-_e))):(j.sortIndex=M,e(x,j),N||S||(N=!0,J||(J=!0,Z()))),j},t.unstable_shouldYield=oe,t.unstable_wrapCallback=function(j){var K=T;return function(){var le=T;T=K;try{return j.apply(this,arguments)}finally{T=le}}}}(ic)),ic}var Fh;function hv(){return Fh||(Fh=1,nc.exports=mv()),nc.exports}var ac={exports:{}},gt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yh;function pv(){if(Yh)return gt;Yh=1;var t=jc();function e(x){var p="https://react.dev/errors/"+x;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+x+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(e(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(x,p,v){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:C==null?null:""+C,children:x,containerInfo:p,implementation:v}}var h=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(x,p){if(x==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return gt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,gt.createPortal=function(x,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return u(x,p,null,v)},gt.flushSync=function(x){var p=h.T,v=s.p;try{if(h.T=null,s.p=2,x)return x()}finally{h.T=p,s.p=v,s.d.f()}},gt.preconnect=function(x,p){typeof x=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(x,p))},gt.prefetchDNS=function(x){typeof x=="string"&&s.d.D(x)},gt.preinit=function(x,p){if(typeof x=="string"&&p&&typeof p.as=="string"){var v=p.as,C=g(v,p.crossOrigin),T=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?s.d.S(x,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:C,integrity:T,fetchPriority:S}):v==="script"&&s.d.X(x,{crossOrigin:C,integrity:T,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},gt.preinitModule=function(x,p){if(typeof x=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=g(p.as,p.crossOrigin);s.d.M(x,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(x)},gt.preload=function(x,p){if(typeof x=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,C=g(v,p.crossOrigin);s.d.L(x,v,{crossOrigin:C,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},gt.preloadModule=function(x,p){if(typeof x=="string")if(p){var v=g(p.as,p.crossOrigin);s.d.m(x,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(x)},gt.requestFormReset=function(x){s.d.r(x)},gt.unstable_batchedUpdates=function(x,p){return x(p)},gt.useFormState=function(x,p,v){return h.H.useFormState(x,p,v)},gt.useFormStatus=function(){return h.H.useHostTransitionStatus()},gt.version="19.1.0",gt}var Jh;function gv(){if(Jh)return ac.exports;Jh=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ac.exports=pv(),ac.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zh;function yv(){if(Zh)return Ms;Zh=1;var t=hv(),e=jc(),a=gv();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var i=n,l=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(l=i.return),n=i.return;while(n)}return i.tag===3?l:null}function h(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function g(n){if(u(n)!==n)throw Error(s(188))}function x(n){var i=n.alternate;if(!i){if(i=u(n),i===null)throw Error(s(188));return i!==n?null:n}for(var l=n,r=i;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(r=m.return,r!==null){l=r;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return g(m),n;if(y===r)return g(m),i;y=y.sibling}throw Error(s(188))}if(l.return!==r.return)l=m,r=y;else{for(var b=!1,w=m.child;w;){if(w===l){b=!0,l=m,r=y;break}if(w===r){b=!0,r=m,l=y;break}w=w.sibling}if(!b){for(w=y.child;w;){if(w===l){b=!0,l=y,r=m;break}if(w===r){b=!0,r=y,l=m;break}w=w.sibling}if(!b)throw Error(s(189))}}if(l.alternate!==r)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?n:i}function p(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=p(n),i!==null)return i;n=n.sibling}return null}var v=Object.assign,C=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),V=Symbol.for("react.consumer"),U=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),X=Symbol.for("react.activity"),oe=Symbol.for("react.memo_cache_sentinel"),te=Symbol.iterator;function Z(n){return n===null||typeof n!="object"?null:(n=te&&n[te]||n["@@iterator"],typeof n=="function"?n:null)}var de=Symbol.for("react.client.reference");function re(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===de?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case N:return"Fragment";case E:return"Profiler";case _:return"StrictMode";case q:return"Suspense";case J:return"SuspenseList";case X:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case S:return"Portal";case U:return(n.displayName||"Context")+".Provider";case V:return(n._context.displayName||"Context")+".Consumer";case $:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Q:return i=n.displayName||null,i!==null?i:re(n.type)||"Memo";case se:i=n._payload,n=n._init;try{return re(n(i))}catch{}}return null}var ee=Array.isArray,j=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},_e=[],M=-1;function F(n){return{current:n}}function ne(n){0>M||(n.current=_e[M],_e[M]=null,M--)}function ie(n,i){M++,_e[M]=n.current,n.current=i}var he=F(null),Re=F(null),G=F(null),Me=F(null);function ge(n,i){switch(ie(G,i),ie(Re,n),ie(he,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?ph(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=ph(i),n=gh(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ne(he),ie(he,n)}function Fe(){ne(he),ne(Re),ne(G)}function Vo(n){n.memoizedState!==null&&ie(Me,n);var i=he.current,l=gh(i,n.type);i!==l&&(ie(Re,n),ie(he,l))}function Fs(n){Re.current===n&&(ne(he),ne(Re)),Me.current===n&&(ne(Me),Ss._currentValue=le)}var Bo=Object.prototype.hasOwnProperty,Po=t.unstable_scheduleCallback,$o=t.unstable_cancelCallback,q0=t.unstable_shouldYield,z0=t.unstable_requestPaint,Kt=t.unstable_now,G0=t.unstable_getCurrentPriorityLevel,Jc=t.unstable_ImmediatePriority,Zc=t.unstable_UserBlockingPriority,Ys=t.unstable_NormalPriority,H0=t.unstable_LowPriority,Kc=t.unstable_IdlePriority,F0=t.log,Y0=t.unstable_setDisableYieldValue,Ra=null,Nt=null;function An(n){if(typeof F0=="function"&&Y0(n),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(Ra,n)}catch{}}var _t=Math.clz32?Math.clz32:K0,J0=Math.log,Z0=Math.LN2;function K0(n){return n>>>=0,n===0?32:31-(J0(n)/Z0|0)|0}var Js=256,Zs=4194304;function ii(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Ks(n,i,l){var r=n.pendingLanes;if(r===0)return 0;var m=0,y=n.suspendedLanes,b=n.pingedLanes;n=n.warmLanes;var w=r&134217727;return w!==0?(r=w&~y,r!==0?m=ii(r):(b&=w,b!==0?m=ii(b):l||(l=w&~n,l!==0&&(m=ii(l))))):(w=r&~y,w!==0?m=ii(w):b!==0?m=ii(b):l||(l=r&~n,l!==0&&(m=ii(l)))),m===0?0:i!==0&&i!==m&&(i&y)===0&&(y=m&-m,l=i&-i,y>=l||y===32&&(l&4194048)!==0)?i:m}function Da(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function Q0(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qc(){var n=Js;return Js<<=1,(Js&4194048)===0&&(Js=256),n}function Xc(){var n=Zs;return Zs<<=1,(Zs&62914560)===0&&(Zs=4194304),n}function qo(n){for(var i=[],l=0;31>l;l++)i.push(n);return i}function Ia(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function X0(n,i,l,r,m,y){var b=n.pendingLanes;n.pendingLanes=l,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=l,n.entangledLanes&=l,n.errorRecoveryDisabledLanes&=l,n.shellSuspendCounter=0;var w=n.entanglements,A=n.expirationTimes,O=n.hiddenUpdates;for(l=b&~l;0<l;){var z=31-_t(l),Y=1<<z;w[z]=0,A[z]=-1;var B=O[z];if(B!==null)for(O[z]=null,z=0;z<B.length;z++){var P=B[z];P!==null&&(P.lane&=-536870913)}l&=~Y}r!==0&&Wc(n,r,0),y!==0&&m===0&&n.tag!==0&&(n.suspendedLanes|=y&~(b&~i))}function Wc(n,i,l){n.pendingLanes|=i,n.suspendedLanes&=~i;var r=31-_t(i);n.entangledLanes|=i,n.entanglements[r]=n.entanglements[r]|1073741824|l&4194090}function ed(n,i){var l=n.entangledLanes|=i;for(n=n.entanglements;l;){var r=31-_t(l),m=1<<r;m&i|n[r]&i&&(n[r]|=i),l&=~m}}function zo(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Go(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function td(){var n=K.p;return n!==0?n:(n=window.event,n===void 0?32:Lh(n.type))}function W0(n,i){var l=K.p;try{return K.p=n,i()}finally{K.p=l}}var Mn=Math.random().toString(36).slice(2),ht="__reactFiber$"+Mn,bt="__reactProps$"+Mn,Mi="__reactContainer$"+Mn,Ho="__reactEvents$"+Mn,ey="__reactListeners$"+Mn,ty="__reactHandles$"+Mn,nd="__reactResources$"+Mn,ja="__reactMarker$"+Mn;function Fo(n){delete n[ht],delete n[bt],delete n[Ho],delete n[ey],delete n[ty]}function ki(n){var i=n[ht];if(i)return i;for(var l=n.parentNode;l;){if(i=l[Mi]||l[ht]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(n=bh(n);n!==null;){if(l=n[ht])return l;n=bh(n)}return i}n=l,l=n.parentNode}return null}function Ri(n){if(n=n[ht]||n[Mi]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function La(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function Di(n){var i=n[nd];return i||(i=n[nd]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ot(n){n[ja]=!0}var id=new Set,ad={};function ai(n,i){Ii(n,i),Ii(n+"Capture",i)}function Ii(n,i){for(ad[n]=i,n=0;n<i.length;n++)id.add(i[n])}var ny=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sd={},ld={};function iy(n){return Bo.call(ld,n)?!0:Bo.call(sd,n)?!1:ny.test(n)?ld[n]=!0:(sd[n]=!0,!1)}function Qs(n,i,l){if(iy(i))if(l===null)n.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var r=i.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+l)}}function Xs(n,i,l){if(l===null)n.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+l)}}function rn(n,i,l,r){if(r===null)n.removeAttribute(l);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttributeNS(i,l,""+r)}}var Yo,od;function ji(n){if(Yo===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);Yo=i&&i[1]||"",od=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yo+n+od}var Jo=!1;function Zo(n,i){if(!n||Jo)return"";Jo=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(i){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(P){var B=P}Reflect.construct(n,[],Y)}else{try{Y.call()}catch(P){B=P}n.call(Y.prototype)}}else{try{throw Error()}catch(P){B=P}(Y=n())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(P){if(P&&B&&typeof P.stack=="string")return[P.stack,B.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=r.DetermineComponentFrameRoot(),b=y[0],w=y[1];if(b&&w){var A=b.split(`
`),O=w.split(`
`);for(m=r=0;r<A.length&&!A[r].includes("DetermineComponentFrameRoot");)r++;for(;m<O.length&&!O[m].includes("DetermineComponentFrameRoot");)m++;if(r===A.length||m===O.length)for(r=A.length-1,m=O.length-1;1<=r&&0<=m&&A[r]!==O[m];)m--;for(;1<=r&&0<=m;r--,m--)if(A[r]!==O[m]){if(r!==1||m!==1)do if(r--,m--,0>m||A[r]!==O[m]){var z=`
`+A[r].replace(" at new "," at ");return n.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",n.displayName)),z}while(1<=r&&0<=m);break}}}finally{Jo=!1,Error.prepareStackTrace=l}return(l=n?n.displayName||n.name:"")?ji(l):""}function ay(n){switch(n.tag){case 26:case 27:case 5:return ji(n.type);case 16:return ji("Lazy");case 13:return ji("Suspense");case 19:return ji("SuspenseList");case 0:case 15:return Zo(n.type,!1);case 11:return Zo(n.type.render,!1);case 1:return Zo(n.type,!0);case 31:return ji("Activity");default:return""}}function rd(n){try{var i="";do i+=ay(n),n=n.return;while(n);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function jt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function ud(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function sy(n){var i=ud(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),r=""+n[i];if(!n.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,y=l.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return m.call(this)},set:function(b){r=""+b,y.call(this,b)}}),Object.defineProperty(n,i,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(b){r=""+b},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Ws(n){n._valueTracker||(n._valueTracker=sy(n))}function cd(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var l=i.getValue(),r="";return n&&(r=ud(n)?n.checked?"true":"false":n.value),n=r,n!==l?(i.setValue(n),!0):!1}function el(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var ly=/[\n"\\]/g;function Lt(n){return n.replace(ly,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ko(n,i,l,r,m,y,b,w){n.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.type=b:n.removeAttribute("type"),i!=null?b==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+jt(i)):n.value!==""+jt(i)&&(n.value=""+jt(i)):b!=="submit"&&b!=="reset"||n.removeAttribute("value"),i!=null?Qo(n,b,jt(i)):l!=null?Qo(n,b,jt(l)):r!=null&&n.removeAttribute("value"),m==null&&y!=null&&(n.defaultChecked=!!y),m!=null&&(n.checked=m&&typeof m!="function"&&typeof m!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.name=""+jt(w):n.removeAttribute("name")}function dd(n,i,l,r,m,y,b,w){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.type=y),i!=null||l!=null){if(!(y!=="submit"&&y!=="reset"||i!=null))return;l=l!=null?""+jt(l):"",i=i!=null?""+jt(i):l,w||i===n.value||(n.value=i),n.defaultValue=i}r=r??m,r=typeof r!="function"&&typeof r!="symbol"&&!!r,n.checked=w?n.checked:!!r,n.defaultChecked=!!r,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(n.name=b)}function Qo(n,i,l){i==="number"&&el(n.ownerDocument)===n||n.defaultValue===""+l||(n.defaultValue=""+l)}function Li(n,i,l,r){if(n=n.options,i){i={};for(var m=0;m<l.length;m++)i["$"+l[m]]=!0;for(l=0;l<n.length;l++)m=i.hasOwnProperty("$"+n[l].value),n[l].selected!==m&&(n[l].selected=m),m&&r&&(n[l].defaultSelected=!0)}else{for(l=""+jt(l),i=null,m=0;m<n.length;m++){if(n[m].value===l){n[m].selected=!0,r&&(n[m].defaultSelected=!0);return}i!==null||n[m].disabled||(i=n[m])}i!==null&&(i.selected=!0)}}function fd(n,i,l){if(i!=null&&(i=""+jt(i),i!==n.value&&(n.value=i),l==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=l!=null?""+jt(l):""}function md(n,i,l,r){if(i==null){if(r!=null){if(l!=null)throw Error(s(92));if(ee(r)){if(1<r.length)throw Error(s(93));r=r[0]}l=r}l==null&&(l=""),i=l}l=jt(i),n.defaultValue=l,r=n.textContent,r===l&&r!==""&&r!==null&&(n.value=r)}function Ui(n,i){if(i){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=i;return}}n.textContent=i}var oy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hd(n,i,l){var r=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?r?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":r?n.setProperty(i,l):typeof l!="number"||l===0||oy.has(i)?i==="float"?n.cssFloat=l:n[i]=(""+l).trim():n[i]=l+"px"}function pd(n,i,l){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,l!=null){for(var r in l)!l.hasOwnProperty(r)||i!=null&&i.hasOwnProperty(r)||(r.indexOf("--")===0?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="");for(var m in i)r=i[m],i.hasOwnProperty(m)&&l[m]!==r&&hd(n,m,r)}else for(var y in i)i.hasOwnProperty(y)&&hd(n,y,i[y])}function Xo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ry=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),uy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function tl(n){return uy.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Wo=null;function er(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Oi=null,Vi=null;function gd(n){var i=Ri(n);if(i&&(n=i.stateNode)){var l=n[bt]||null;e:switch(n=i.stateNode,i.type){case"input":if(Ko(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Lt(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var r=l[i];if(r!==n&&r.form===n.form){var m=r[bt]||null;if(!m)throw Error(s(90));Ko(r,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(i=0;i<l.length;i++)r=l[i],r.form===n.form&&cd(r)}break e;case"textarea":fd(n,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&Li(n,!!l.multiple,i,!1)}}}var tr=!1;function yd(n,i,l){if(tr)return n(i,l);tr=!0;try{var r=n(i);return r}finally{if(tr=!1,(Oi!==null||Vi!==null)&&(Pl(),Oi&&(i=Oi,n=Vi,Vi=Oi=null,gd(i),n)))for(i=0;i<n.length;i++)gd(n[i])}}function Ua(n,i){var l=n.stateNode;if(l===null)return null;var r=l[bt]||null;if(r===null)return null;l=r[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(s(231,i,typeof l));return l}var un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nr=!1;if(un)try{var Oa={};Object.defineProperty(Oa,"passive",{get:function(){nr=!0}}),window.addEventListener("test",Oa,Oa),window.removeEventListener("test",Oa,Oa)}catch{nr=!1}var kn=null,ir=null,nl=null;function xd(){if(nl)return nl;var n,i=ir,l=i.length,r,m="value"in kn?kn.value:kn.textContent,y=m.length;for(n=0;n<l&&i[n]===m[n];n++);var b=l-n;for(r=1;r<=b&&i[l-r]===m[y-r];r++);return nl=m.slice(n,1<r?1-r:void 0)}function il(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function al(){return!0}function vd(){return!1}function Ct(n){function i(l,r,m,y,b){this._reactName=l,this._targetInst=m,this.type=r,this.nativeEvent=y,this.target=b,this.currentTarget=null;for(var w in n)n.hasOwnProperty(w)&&(l=n[w],this[w]=l?l(y):y[w]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?al:vd,this.isPropagationStopped=vd,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=al)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=al)},persist:function(){},isPersistent:al}),i}var si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sl=Ct(si),Va=v({},si,{view:0,detail:0}),cy=Ct(Va),ar,sr,Ba,ll=v({},Va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:or,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ba&&(Ba&&n.type==="mousemove"?(ar=n.screenX-Ba.screenX,sr=n.screenY-Ba.screenY):sr=ar=0,Ba=n),ar)},movementY:function(n){return"movementY"in n?n.movementY:sr}}),bd=Ct(ll),dy=v({},ll,{dataTransfer:0}),fy=Ct(dy),my=v({},Va,{relatedTarget:0}),lr=Ct(my),hy=v({},si,{animationName:0,elapsedTime:0,pseudoElement:0}),py=Ct(hy),gy=v({},si,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),yy=Ct(gy),xy=v({},si,{data:0}),Cd=Ct(xy),vy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},by={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ty(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Cy[n])?!!i[n]:!1}function or(){return Ty}var Sy=v({},Va,{key:function(n){if(n.key){var i=vy[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=il(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?by[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:or,charCode:function(n){return n.type==="keypress"?il(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?il(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),wy=Ct(Sy),Ny=v({},ll,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=Ct(Ny),_y=v({},Va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:or}),Ey=Ct(_y),Ay=v({},si,{propertyName:0,elapsedTime:0,pseudoElement:0}),My=Ct(Ay),ky=v({},ll,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ry=Ct(ky),Dy=v({},si,{newState:0,oldState:0}),Iy=Ct(Dy),jy=[9,13,27,32],rr=un&&"CompositionEvent"in window,Pa=null;un&&"documentMode"in document&&(Pa=document.documentMode);var Ly=un&&"TextEvent"in window&&!Pa,Sd=un&&(!rr||Pa&&8<Pa&&11>=Pa),wd=" ",Nd=!1;function _d(n,i){switch(n){case"keyup":return jy.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ed(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Bi=!1;function Uy(n,i){switch(n){case"compositionend":return Ed(i);case"keypress":return i.which!==32?null:(Nd=!0,wd);case"textInput":return n=i.data,n===wd&&Nd?null:n;default:return null}}function Oy(n,i){if(Bi)return n==="compositionend"||!rr&&_d(n,i)?(n=xd(),nl=ir=kn=null,Bi=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Sd&&i.locale!=="ko"?null:i.data;default:return null}}var Vy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ad(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Vy[n.type]:i==="textarea"}function Md(n,i,l,r){Oi?Vi?Vi.push(r):Vi=[r]:Oi=r,i=Fl(i,"onChange"),0<i.length&&(l=new sl("onChange","change",null,l,r),n.push({event:l,listeners:i}))}var $a=null,qa=null;function By(n){ch(n,0)}function ol(n){var i=La(n);if(cd(i))return n}function kd(n,i){if(n==="change")return i}var Rd=!1;if(un){var ur;if(un){var cr="oninput"in document;if(!cr){var Dd=document.createElement("div");Dd.setAttribute("oninput","return;"),cr=typeof Dd.oninput=="function"}ur=cr}else ur=!1;Rd=ur&&(!document.documentMode||9<document.documentMode)}function Id(){$a&&($a.detachEvent("onpropertychange",jd),qa=$a=null)}function jd(n){if(n.propertyName==="value"&&ol(qa)){var i=[];Md(i,qa,n,er(n)),yd(By,i)}}function Py(n,i,l){n==="focusin"?(Id(),$a=i,qa=l,$a.attachEvent("onpropertychange",jd)):n==="focusout"&&Id()}function $y(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ol(qa)}function qy(n,i){if(n==="click")return ol(i)}function zy(n,i){if(n==="input"||n==="change")return ol(i)}function Gy(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Et=typeof Object.is=="function"?Object.is:Gy;function za(n,i){if(Et(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var l=Object.keys(n),r=Object.keys(i);if(l.length!==r.length)return!1;for(r=0;r<l.length;r++){var m=l[r];if(!Bo.call(i,m)||!Et(n[m],i[m]))return!1}return!0}function Ld(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ud(n,i){var l=Ld(n);n=0;for(var r;l;){if(l.nodeType===3){if(r=n+l.textContent.length,n<=i&&r>=i)return{node:l,offset:i-n};n=r}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Ld(l)}}function Od(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Od(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Vd(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=el(n.document);i instanceof n.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)n=i.contentWindow;else break;i=el(n.document)}return i}function dr(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var Hy=un&&"documentMode"in document&&11>=document.documentMode,Pi=null,fr=null,Ga=null,mr=!1;function Bd(n,i,l){var r=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;mr||Pi==null||Pi!==el(r)||(r=Pi,"selectionStart"in r&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ga&&za(Ga,r)||(Ga=r,r=Fl(fr,"onSelect"),0<r.length&&(i=new sl("onSelect","select",null,i,l),n.push({event:i,listeners:r}),i.target=Pi)))}function li(n,i){var l={};return l[n.toLowerCase()]=i.toLowerCase(),l["Webkit"+n]="webkit"+i,l["Moz"+n]="moz"+i,l}var $i={animationend:li("Animation","AnimationEnd"),animationiteration:li("Animation","AnimationIteration"),animationstart:li("Animation","AnimationStart"),transitionrun:li("Transition","TransitionRun"),transitionstart:li("Transition","TransitionStart"),transitioncancel:li("Transition","TransitionCancel"),transitionend:li("Transition","TransitionEnd")},hr={},Pd={};un&&(Pd=document.createElement("div").style,"AnimationEvent"in window||(delete $i.animationend.animation,delete $i.animationiteration.animation,delete $i.animationstart.animation),"TransitionEvent"in window||delete $i.transitionend.transition);function oi(n){if(hr[n])return hr[n];if(!$i[n])return n;var i=$i[n],l;for(l in i)if(i.hasOwnProperty(l)&&l in Pd)return hr[n]=i[l];return n}var $d=oi("animationend"),qd=oi("animationiteration"),zd=oi("animationstart"),Fy=oi("transitionrun"),Yy=oi("transitionstart"),Jy=oi("transitioncancel"),Gd=oi("transitionend"),Hd=new Map,pr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pr.push("scrollEnd");function Gt(n,i){Hd.set(n,i),ai(i,[n])}var Fd=new WeakMap;function Ut(n,i){if(typeof n=="object"&&n!==null){var l=Fd.get(n);return l!==void 0?l:(i={value:n,source:i,stack:rd(i)},Fd.set(n,i),i)}return{value:n,source:i,stack:rd(i)}}var Ot=[],qi=0,gr=0;function rl(){for(var n=qi,i=gr=qi=0;i<n;){var l=Ot[i];Ot[i++]=null;var r=Ot[i];Ot[i++]=null;var m=Ot[i];Ot[i++]=null;var y=Ot[i];if(Ot[i++]=null,r!==null&&m!==null){var b=r.pending;b===null?m.next=m:(m.next=b.next,b.next=m),r.pending=m}y!==0&&Yd(l,m,y)}}function ul(n,i,l,r){Ot[qi++]=n,Ot[qi++]=i,Ot[qi++]=l,Ot[qi++]=r,gr|=r,n.lanes|=r,n=n.alternate,n!==null&&(n.lanes|=r)}function yr(n,i,l,r){return ul(n,i,l,r),cl(n)}function zi(n,i){return ul(n,null,null,i),cl(n)}function Yd(n,i,l){n.lanes|=l;var r=n.alternate;r!==null&&(r.lanes|=l);for(var m=!1,y=n.return;y!==null;)y.childLanes|=l,r=y.alternate,r!==null&&(r.childLanes|=l),y.tag===22&&(n=y.stateNode,n===null||n._visibility&1||(m=!0)),n=y,y=y.return;return n.tag===3?(y=n.stateNode,m&&i!==null&&(m=31-_t(l),n=y.hiddenUpdates,r=n[m],r===null?n[m]=[i]:r.push(i),i.lane=l|536870912),y):null}function cl(n){if(50<ps)throw ps=0,Su=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Gi={};function Zy(n,i,l,r){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function At(n,i,l,r){return new Zy(n,i,l,r)}function xr(n){return n=n.prototype,!(!n||!n.isReactComponent)}function cn(n,i){var l=n.alternate;return l===null?(l=At(n.tag,i,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=i,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&65011712,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,i=n.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l.refCleanup=n.refCleanup,l}function Jd(n,i){n.flags&=65011714;var l=n.alternate;return l===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type,i=l.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function dl(n,i,l,r,m,y){var b=0;if(r=n,typeof n=="function")xr(n)&&(b=1);else if(typeof n=="string")b=Qx(n,l,he.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case X:return n=At(31,l,i,m),n.elementType=X,n.lanes=y,n;case N:return ri(l.children,m,y,i);case _:b=8,m|=24;break;case E:return n=At(12,l,i,m|2),n.elementType=E,n.lanes=y,n;case q:return n=At(13,l,i,m),n.elementType=q,n.lanes=y,n;case J:return n=At(19,l,i,m),n.elementType=J,n.lanes=y,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case I:case U:b=10;break e;case V:b=9;break e;case $:b=11;break e;case Q:b=14;break e;case se:b=16,r=null;break e}b=29,l=Error(s(130,n===null?"null":typeof n,"")),r=null}return i=At(b,l,i,m),i.elementType=n,i.type=r,i.lanes=y,i}function ri(n,i,l,r){return n=At(7,n,r,i),n.lanes=l,n}function vr(n,i,l){return n=At(6,n,null,i),n.lanes=l,n}function br(n,i,l){return i=At(4,n.children!==null?n.children:[],n.key,i),i.lanes=l,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var Hi=[],Fi=0,fl=null,ml=0,Vt=[],Bt=0,ui=null,dn=1,fn="";function ci(n,i){Hi[Fi++]=ml,Hi[Fi++]=fl,fl=n,ml=i}function Zd(n,i,l){Vt[Bt++]=dn,Vt[Bt++]=fn,Vt[Bt++]=ui,ui=n;var r=dn;n=fn;var m=32-_t(r)-1;r&=~(1<<m),l+=1;var y=32-_t(i)+m;if(30<y){var b=m-m%5;y=(r&(1<<b)-1).toString(32),r>>=b,m-=b,dn=1<<32-_t(i)+m|l<<m|r,fn=y+n}else dn=1<<y|l<<m|r,fn=n}function Cr(n){n.return!==null&&(ci(n,1),Zd(n,1,0))}function Tr(n){for(;n===fl;)fl=Hi[--Fi],Hi[Fi]=null,ml=Hi[--Fi],Hi[Fi]=null;for(;n===ui;)ui=Vt[--Bt],Vt[Bt]=null,fn=Vt[--Bt],Vt[Bt]=null,dn=Vt[--Bt],Vt[Bt]=null}var yt=null,Qe=null,Le=!1,di=null,Qt=!1,Sr=Error(s(519));function fi(n){var i=Error(s(418,""));throw Ya(Ut(i,n)),Sr}function Kd(n){var i=n.stateNode,l=n.type,r=n.memoizedProps;switch(i[ht]=n,i[bt]=r,l){case"dialog":Ae("cancel",i),Ae("close",i);break;case"iframe":case"object":case"embed":Ae("load",i);break;case"video":case"audio":for(l=0;l<ys.length;l++)Ae(ys[l],i);break;case"source":Ae("error",i);break;case"img":case"image":case"link":Ae("error",i),Ae("load",i);break;case"details":Ae("toggle",i);break;case"input":Ae("invalid",i),dd(i,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),Ws(i);break;case"select":Ae("invalid",i);break;case"textarea":Ae("invalid",i),md(i,r.value,r.defaultValue,r.children),Ws(i)}l=r.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||r.suppressHydrationWarning===!0||hh(i.textContent,l)?(r.popover!=null&&(Ae("beforetoggle",i),Ae("toggle",i)),r.onScroll!=null&&Ae("scroll",i),r.onScrollEnd!=null&&Ae("scrollend",i),r.onClick!=null&&(i.onclick=Yl),i=!0):i=!1,i||fi(n)}function Qd(n){for(yt=n.return;yt;)switch(yt.tag){case 5:case 13:Qt=!1;return;case 27:case 3:Qt=!0;return;default:yt=yt.return}}function Ha(n){if(n!==yt)return!1;if(!Le)return Qd(n),Le=!0,!1;var i=n.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=n.type,l=!(l!=="form"&&l!=="button")||Bu(n.type,n.memoizedProps)),l=!l),l&&Qe&&fi(n),Qd(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(l=n.data,l==="/$"){if(i===0){Qe=Ft(n.nextSibling);break e}i--}else l!=="$"&&l!=="$!"&&l!=="$?"||i++;n=n.nextSibling}Qe=null}}else i===27?(i=Qe,Fn(n.type)?(n=zu,zu=null,Qe=n):Qe=i):Qe=yt?Ft(n.stateNode.nextSibling):null;return!0}function Fa(){Qe=yt=null,Le=!1}function Xd(){var n=di;return n!==null&&(wt===null?wt=n:wt.push.apply(wt,n),di=null),n}function Ya(n){di===null?di=[n]:di.push(n)}var wr=F(null),mi=null,mn=null;function Rn(n,i,l){ie(wr,i._currentValue),i._currentValue=l}function hn(n){n._currentValue=wr.current,ne(wr)}function Nr(n,i,l){for(;n!==null;){var r=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,r!==null&&(r.childLanes|=i)):r!==null&&(r.childLanes&i)!==i&&(r.childLanes|=i),n===l)break;n=n.return}}function _r(n,i,l,r){var m=n.child;for(m!==null&&(m.return=n);m!==null;){var y=m.dependencies;if(y!==null){var b=m.child;y=y.firstContext;e:for(;y!==null;){var w=y;y=m;for(var A=0;A<i.length;A++)if(w.context===i[A]){y.lanes|=l,w=y.alternate,w!==null&&(w.lanes|=l),Nr(y.return,l,n),r||(b=null);break e}y=w.next}}else if(m.tag===18){if(b=m.return,b===null)throw Error(s(341));b.lanes|=l,y=b.alternate,y!==null&&(y.lanes|=l),Nr(b,l,n),b=null}else b=m.child;if(b!==null)b.return=m;else for(b=m;b!==null;){if(b===n){b=null;break}if(m=b.sibling,m!==null){m.return=b.return,b=m;break}b=b.return}m=b}}function Ja(n,i,l,r){n=null;for(var m=i,y=!1;m!==null;){if(!y){if((m.flags&524288)!==0)y=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var b=m.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var w=m.type;Et(m.pendingProps.value,b.value)||(n!==null?n.push(w):n=[w])}}else if(m===Me.current){if(b=m.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(n!==null?n.push(Ss):n=[Ss])}m=m.return}n!==null&&_r(i,n,l,r),i.flags|=262144}function hl(n){for(n=n.firstContext;n!==null;){if(!Et(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function hi(n){mi=n,mn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function pt(n){return Wd(mi,n)}function pl(n,i){return mi===null&&hi(n),Wd(n,i)}function Wd(n,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},mn===null){if(n===null)throw Error(s(308));mn=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else mn=mn.next=i;return l}var Ky=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(l,r){n.push(r)}};this.abort=function(){i.aborted=!0,n.forEach(function(l){return l()})}},Qy=t.unstable_scheduleCallback,Xy=t.unstable_NormalPriority,at={$$typeof:U,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Er(){return{controller:new Ky,data:new Map,refCount:0}}function Za(n){n.refCount--,n.refCount===0&&Qy(Xy,function(){n.controller.abort()})}var Ka=null,Ar=0,Yi=0,Ji=null;function Wy(n,i){if(Ka===null){var l=Ka=[];Ar=0,Yi=ku(),Ji={status:"pending",value:void 0,then:function(r){l.push(r)}}}return Ar++,i.then(ef,ef),i}function ef(){if(--Ar===0&&Ka!==null){Ji!==null&&(Ji.status="fulfilled");var n=Ka;Ka=null,Yi=0,Ji=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function ex(n,i){var l=[],r={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return n.then(function(){r.status="fulfilled",r.value=i;for(var m=0;m<l.length;m++)(0,l[m])(i)},function(m){for(r.status="rejected",r.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),r}var tf=j.S;j.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&Wy(n,i),tf!==null&&tf(n,i)};var pi=F(null);function Mr(){var n=pi.current;return n!==null?n:ze.pooledCache}function gl(n,i){i===null?ie(pi,pi.current):ie(pi,i.pool)}function nf(){var n=Mr();return n===null?null:{parent:at._currentValue,pool:n}}var Qa=Error(s(460)),af=Error(s(474)),yl=Error(s(542)),kr={then:function(){}};function sf(n){return n=n.status,n==="fulfilled"||n==="rejected"}function xl(){}function lf(n,i,l){switch(l=n[l],l===void 0?n.push(i):l!==i&&(i.then(xl,xl),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,rf(n),n;default:if(typeof i.status=="string")i.then(xl,xl);else{if(n=ze,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(r){if(i.status==="pending"){var m=i;m.status="fulfilled",m.value=r}},function(r){if(i.status==="pending"){var m=i;m.status="rejected",m.reason=r}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,rf(n),n}throw Xa=i,Qa}}var Xa=null;function of(){if(Xa===null)throw Error(s(459));var n=Xa;return Xa=null,n}function rf(n){if(n===Qa||n===yl)throw Error(s(483))}var Dn=!1;function Rr(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Dr(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function In(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function jn(n,i,l){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,(Oe&2)!==0){var m=r.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),r.pending=i,i=cl(n),Yd(n,null,l),i}return ul(n,r,i,l),cl(n)}function Wa(n,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var r=i.lanes;r&=n.pendingLanes,l|=r,i.lanes=l,ed(n,l)}}function Ir(n,i){var l=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,l===r)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var b={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};y===null?m=y=b:y=y.next=b,l=l.next}while(l!==null);y===null?m=y=i:y=y.next=i}else m=y=i;l={baseState:r.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:r.shared,callbacks:r.callbacks},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=i:n.next=i,l.lastBaseUpdate=i}var jr=!1;function es(){if(jr){var n=Ji;if(n!==null)throw n}}function ts(n,i,l,r){jr=!1;var m=n.updateQueue;Dn=!1;var y=m.firstBaseUpdate,b=m.lastBaseUpdate,w=m.shared.pending;if(w!==null){m.shared.pending=null;var A=w,O=A.next;A.next=null,b===null?y=O:b.next=O,b=A;var z=n.alternate;z!==null&&(z=z.updateQueue,w=z.lastBaseUpdate,w!==b&&(w===null?z.firstBaseUpdate=O:w.next=O,z.lastBaseUpdate=A))}if(y!==null){var Y=m.baseState;b=0,z=O=A=null,w=y;do{var B=w.lane&-536870913,P=B!==w.lane;if(P?(De&B)===B:(r&B)===B){B!==0&&B===Yi&&(jr=!0),z!==null&&(z=z.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var xe=n,pe=w;B=i;var $e=l;switch(pe.tag){case 1:if(xe=pe.payload,typeof xe=="function"){Y=xe.call($e,Y,B);break e}Y=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=pe.payload,B=typeof xe=="function"?xe.call($e,Y,B):xe,B==null)break e;Y=v({},Y,B);break e;case 2:Dn=!0}}B=w.callback,B!==null&&(n.flags|=64,P&&(n.flags|=8192),P=m.callbacks,P===null?m.callbacks=[B]:P.push(B))}else P={lane:B,tag:w.tag,payload:w.payload,callback:w.callback,next:null},z===null?(O=z=P,A=Y):z=z.next=P,b|=B;if(w=w.next,w===null){if(w=m.shared.pending,w===null)break;P=w,w=P.next,P.next=null,m.lastBaseUpdate=P,m.shared.pending=null}}while(!0);z===null&&(A=Y),m.baseState=A,m.firstBaseUpdate=O,m.lastBaseUpdate=z,y===null&&(m.shared.lanes=0),qn|=b,n.lanes=b,n.memoizedState=Y}}function uf(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function cf(n,i){var l=n.callbacks;if(l!==null)for(n.callbacks=null,n=0;n<l.length;n++)uf(l[n],i)}var Zi=F(null),vl=F(0);function df(n,i){n=Cn,ie(vl,n),ie(Zi,i),Cn=n|i.baseLanes}function Lr(){ie(vl,Cn),ie(Zi,Zi.current)}function Ur(){Cn=vl.current,ne(Zi),ne(vl)}var Ln=0,we=null,Be=null,tt=null,bl=!1,Ki=!1,gi=!1,Cl=0,ns=0,Qi=null,tx=0;function We(){throw Error(s(321))}function Or(n,i){if(i===null)return!1;for(var l=0;l<i.length&&l<n.length;l++)if(!Et(n[l],i[l]))return!1;return!0}function Vr(n,i,l,r,m,y){return Ln=y,we=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,j.H=n===null||n.memoizedState===null?Jf:Zf,gi=!1,y=l(r,m),gi=!1,Ki&&(y=mf(i,l,r,m)),ff(n),y}function ff(n){j.H=El;var i=Be!==null&&Be.next!==null;if(Ln=0,tt=Be=we=null,bl=!1,ns=0,Qi=null,i)throw Error(s(300));n===null||rt||(n=n.dependencies,n!==null&&hl(n)&&(rt=!0))}function mf(n,i,l,r){we=n;var m=0;do{if(Ki&&(Qi=null),ns=0,Ki=!1,25<=m)throw Error(s(301));if(m+=1,tt=Be=null,n.updateQueue!=null){var y=n.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}j.H=rx,y=i(l,r)}while(Ki);return y}function nx(){var n=j.H,i=n.useState()[0];return i=typeof i.then=="function"?is(i):i,n=n.useState()[0],(Be!==null?Be.memoizedState:null)!==n&&(we.flags|=1024),i}function Br(){var n=Cl!==0;return Cl=0,n}function Pr(n,i,l){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~l}function $r(n){if(bl){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}bl=!1}Ln=0,tt=Be=we=null,Ki=!1,ns=Cl=0,Qi=null}function Tt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?we.memoizedState=tt=n:tt=tt.next=n,tt}function nt(){if(Be===null){var n=we.alternate;n=n!==null?n.memoizedState:null}else n=Be.next;var i=tt===null?we.memoizedState:tt.next;if(i!==null)tt=i,Be=n;else{if(n===null)throw we.alternate===null?Error(s(467)):Error(s(310));Be=n,n={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},tt===null?we.memoizedState=tt=n:tt=tt.next=n}return tt}function qr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function is(n){var i=ns;return ns+=1,Qi===null&&(Qi=[]),n=lf(Qi,n,i),i=we,(tt===null?i.memoizedState:tt.next)===null&&(i=i.alternate,j.H=i===null||i.memoizedState===null?Jf:Zf),n}function Tl(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return is(n);if(n.$$typeof===U)return pt(n)}throw Error(s(438,String(n)))}function zr(n){var i=null,l=we.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var r=we.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(i={data:r.data.map(function(m){return m.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=qr(),we.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(n),r=0;r<n;r++)l[r]=oe;return i.index++,l}function pn(n,i){return typeof i=="function"?i(n):i}function Sl(n){var i=nt();return Gr(i,Be,n)}function Gr(n,i,l){var r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=l;var m=n.baseQueue,y=r.pending;if(y!==null){if(m!==null){var b=m.next;m.next=y.next,y.next=b}i.baseQueue=m=y,r.pending=null}if(y=n.baseState,m===null)n.memoizedState=y;else{i=m.next;var w=b=null,A=null,O=i,z=!1;do{var Y=O.lane&-536870913;if(Y!==O.lane?(De&Y)===Y:(Ln&Y)===Y){var B=O.revertLane;if(B===0)A!==null&&(A=A.next={lane:0,revertLane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),Y===Yi&&(z=!0);else if((Ln&B)===B){O=O.next,B===Yi&&(z=!0);continue}else Y={lane:0,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},A===null?(w=A=Y,b=y):A=A.next=Y,we.lanes|=B,qn|=B;Y=O.action,gi&&l(y,Y),y=O.hasEagerState?O.eagerState:l(y,Y)}else B={lane:Y,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},A===null?(w=A=B,b=y):A=A.next=B,we.lanes|=Y,qn|=Y;O=O.next}while(O!==null&&O!==i);if(A===null?b=y:A.next=w,!Et(y,n.memoizedState)&&(rt=!0,z&&(l=Ji,l!==null)))throw l;n.memoizedState=y,n.baseState=b,n.baseQueue=A,r.lastRenderedState=y}return m===null&&(r.lanes=0),[n.memoizedState,r.dispatch]}function Hr(n){var i=nt(),l=i.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=n;var r=l.dispatch,m=l.pending,y=i.memoizedState;if(m!==null){l.pending=null;var b=m=m.next;do y=n(y,b.action),b=b.next;while(b!==m);Et(y,i.memoizedState)||(rt=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),l.lastRenderedState=y}return[y,r]}function hf(n,i,l){var r=we,m=nt(),y=Le;if(y){if(l===void 0)throw Error(s(407));l=l()}else l=i();var b=!Et((Be||m).memoizedState,l);b&&(m.memoizedState=l,rt=!0),m=m.queue;var w=yf.bind(null,r,m,n);if(as(2048,8,w,[n]),m.getSnapshot!==i||b||tt!==null&&tt.memoizedState.tag&1){if(r.flags|=2048,Xi(9,wl(),gf.bind(null,r,m,l,i),null),ze===null)throw Error(s(349));y||(Ln&124)!==0||pf(r,i,l)}return l}function pf(n,i,l){n.flags|=16384,n={getSnapshot:i,value:l},i=we.updateQueue,i===null?(i=qr(),we.updateQueue=i,i.stores=[n]):(l=i.stores,l===null?i.stores=[n]:l.push(n))}function gf(n,i,l,r){i.value=l,i.getSnapshot=r,xf(i)&&vf(n)}function yf(n,i,l){return l(function(){xf(i)&&vf(n)})}function xf(n){var i=n.getSnapshot;n=n.value;try{var l=i();return!Et(n,l)}catch{return!0}}function vf(n){var i=zi(n,2);i!==null&&It(i,n,2)}function Fr(n){var i=Tt();if(typeof n=="function"){var l=n;if(n=l(),gi){An(!0);try{l()}finally{An(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pn,lastRenderedState:n},i}function bf(n,i,l,r){return n.baseState=l,Gr(n,Be,typeof r=="function"?r:pn)}function ix(n,i,l,r,m){if(_l(n))throw Error(s(485));if(n=i.action,n!==null){var y={payload:m,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){y.listeners.push(b)}};j.T!==null?l(!0):y.isTransition=!1,r(y),l=i.pending,l===null?(y.next=i.pending=y,Cf(i,y)):(y.next=l.next,i.pending=l.next=y)}}function Cf(n,i){var l=i.action,r=i.payload,m=n.state;if(i.isTransition){var y=j.T,b={};j.T=b;try{var w=l(m,r),A=j.S;A!==null&&A(b,w),Tf(n,i,w)}catch(O){Yr(n,i,O)}finally{j.T=y}}else try{y=l(m,r),Tf(n,i,y)}catch(O){Yr(n,i,O)}}function Tf(n,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(r){Sf(n,i,r)},function(r){return Yr(n,i,r)}):Sf(n,i,l)}function Sf(n,i,l){i.status="fulfilled",i.value=l,wf(i),n.state=l,i=n.pending,i!==null&&(l=i.next,l===i?n.pending=null:(l=l.next,i.next=l,Cf(n,l)))}function Yr(n,i,l){var r=n.pending;if(n.pending=null,r!==null){r=r.next;do i.status="rejected",i.reason=l,wf(i),i=i.next;while(i!==r)}n.action=null}function wf(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function Nf(n,i){return i}function _f(n,i){if(Le){var l=ze.formState;if(l!==null){e:{var r=we;if(Le){if(Qe){t:{for(var m=Qe,y=Qt;m.nodeType!==8;){if(!y){m=null;break t}if(m=Ft(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){Qe=Ft(m.nextSibling),r=m.data==="F!";break e}}fi(r)}r=!1}r&&(i=l[0])}}return l=Tt(),l.memoizedState=l.baseState=i,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nf,lastRenderedState:i},l.queue=r,l=Hf.bind(null,we,r),r.dispatch=l,r=Fr(!1),y=Xr.bind(null,we,!1,r.queue),r=Tt(),m={state:i,dispatch:null,action:n,pending:null},r.queue=m,l=ix.bind(null,we,m,y,l),m.dispatch=l,r.memoizedState=n,[i,l,!1]}function Ef(n){var i=nt();return Af(i,Be,n)}function Af(n,i,l){if(i=Gr(n,i,Nf)[0],n=Sl(pn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var r=is(i)}catch(b){throw b===Qa?yl:b}else r=i;i=nt();var m=i.queue,y=m.dispatch;return l!==i.memoizedState&&(we.flags|=2048,Xi(9,wl(),ax.bind(null,m,l),null)),[r,y,n]}function ax(n,i){n.action=i}function Mf(n){var i=nt(),l=Be;if(l!==null)return Af(i,l,n);nt(),i=i.memoizedState,l=nt();var r=l.queue.dispatch;return l.memoizedState=n,[i,r,!1]}function Xi(n,i,l,r){return n={tag:n,create:l,deps:r,inst:i,next:null},i=we.updateQueue,i===null&&(i=qr(),we.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=n.next=n:(r=l.next,l.next=n,n.next=r,i.lastEffect=n),n}function wl(){return{destroy:void 0,resource:void 0}}function kf(){return nt().memoizedState}function Nl(n,i,l,r){var m=Tt();r=r===void 0?null:r,we.flags|=n,m.memoizedState=Xi(1|i,wl(),l,r)}function as(n,i,l,r){var m=nt();r=r===void 0?null:r;var y=m.memoizedState.inst;Be!==null&&r!==null&&Or(r,Be.memoizedState.deps)?m.memoizedState=Xi(i,y,l,r):(we.flags|=n,m.memoizedState=Xi(1|i,y,l,r))}function Rf(n,i){Nl(8390656,8,n,i)}function Df(n,i){as(2048,8,n,i)}function If(n,i){return as(4,2,n,i)}function jf(n,i){return as(4,4,n,i)}function Lf(n,i){if(typeof i=="function"){n=n();var l=i(n);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Uf(n,i,l){l=l!=null?l.concat([n]):null,as(4,4,Lf.bind(null,i,n),l)}function Jr(){}function Of(n,i){var l=nt();i=i===void 0?null:i;var r=l.memoizedState;return i!==null&&Or(i,r[1])?r[0]:(l.memoizedState=[n,i],n)}function Vf(n,i){var l=nt();i=i===void 0?null:i;var r=l.memoizedState;if(i!==null&&Or(i,r[1]))return r[0];if(r=n(),gi){An(!0);try{n()}finally{An(!1)}}return l.memoizedState=[r,i],r}function Zr(n,i,l){return l===void 0||(Ln&1073741824)!==0?n.memoizedState=i:(n.memoizedState=l,n=$m(),we.lanes|=n,qn|=n,l)}function Bf(n,i,l,r){return Et(l,i)?l:Zi.current!==null?(n=Zr(n,l,r),Et(n,i)||(rt=!0),n):(Ln&42)===0?(rt=!0,n.memoizedState=l):(n=$m(),we.lanes|=n,qn|=n,i)}function Pf(n,i,l,r,m){var y=K.p;K.p=y!==0&&8>y?y:8;var b=j.T,w={};j.T=w,Xr(n,!1,i,l);try{var A=m(),O=j.S;if(O!==null&&O(w,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var z=ex(A,r);ss(n,i,z,Dt(n))}else ss(n,i,r,Dt(n))}catch(Y){ss(n,i,{then:function(){},status:"rejected",reason:Y},Dt())}finally{K.p=y,j.T=b}}function sx(){}function Kr(n,i,l,r){if(n.tag!==5)throw Error(s(476));var m=$f(n).queue;Pf(n,m,i,le,l===null?sx:function(){return qf(n),l(r)})}function $f(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pn,lastRenderedState:le},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pn,lastRenderedState:l},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function qf(n){var i=$f(n).next.queue;ss(n,i,{},Dt())}function Qr(){return pt(Ss)}function zf(){return nt().memoizedState}function Gf(){return nt().memoizedState}function lx(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var l=Dt();n=In(l);var r=jn(i,n,l);r!==null&&(It(r,i,l),Wa(r,i,l)),i={cache:Er()},n.payload=i;return}i=i.return}}function ox(n,i,l){var r=Dt();l={lane:r,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},_l(n)?Ff(i,l):(l=yr(n,i,l,r),l!==null&&(It(l,n,r),Yf(l,i,r)))}function Hf(n,i,l){var r=Dt();ss(n,i,l,r)}function ss(n,i,l,r){var m={lane:r,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(_l(n))Ff(i,m);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var b=i.lastRenderedState,w=y(b,l);if(m.hasEagerState=!0,m.eagerState=w,Et(w,b))return ul(n,i,m,0),ze===null&&rl(),!1}catch{}finally{}if(l=yr(n,i,m,r),l!==null)return It(l,n,r),Yf(l,i,r),!0}return!1}function Xr(n,i,l,r){if(r={lane:2,revertLane:ku(),action:r,hasEagerState:!1,eagerState:null,next:null},_l(n)){if(i)throw Error(s(479))}else i=yr(n,l,r,2),i!==null&&It(i,n,2)}function _l(n){var i=n.alternate;return n===we||i!==null&&i===we}function Ff(n,i){Ki=bl=!0;var l=n.pending;l===null?i.next=i:(i.next=l.next,l.next=i),n.pending=i}function Yf(n,i,l){if((l&4194048)!==0){var r=i.lanes;r&=n.pendingLanes,l|=r,i.lanes=l,ed(n,l)}}var El={readContext:pt,use:Tl,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useLayoutEffect:We,useInsertionEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useSyncExternalStore:We,useId:We,useHostTransitionStatus:We,useFormState:We,useActionState:We,useOptimistic:We,useMemoCache:We,useCacheRefresh:We},Jf={readContext:pt,use:Tl,useCallback:function(n,i){return Tt().memoizedState=[n,i===void 0?null:i],n},useContext:pt,useEffect:Rf,useImperativeHandle:function(n,i,l){l=l!=null?l.concat([n]):null,Nl(4194308,4,Lf.bind(null,i,n),l)},useLayoutEffect:function(n,i){return Nl(4194308,4,n,i)},useInsertionEffect:function(n,i){Nl(4,2,n,i)},useMemo:function(n,i){var l=Tt();i=i===void 0?null:i;var r=n();if(gi){An(!0);try{n()}finally{An(!1)}}return l.memoizedState=[r,i],r},useReducer:function(n,i,l){var r=Tt();if(l!==void 0){var m=l(i);if(gi){An(!0);try{l(i)}finally{An(!1)}}}else m=i;return r.memoizedState=r.baseState=m,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:m},r.queue=n,n=n.dispatch=ox.bind(null,we,n),[r.memoizedState,n]},useRef:function(n){var i=Tt();return n={current:n},i.memoizedState=n},useState:function(n){n=Fr(n);var i=n.queue,l=Hf.bind(null,we,i);return i.dispatch=l,[n.memoizedState,l]},useDebugValue:Jr,useDeferredValue:function(n,i){var l=Tt();return Zr(l,n,i)},useTransition:function(){var n=Fr(!1);return n=Pf.bind(null,we,n.queue,!0,!1),Tt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,l){var r=we,m=Tt();if(Le){if(l===void 0)throw Error(s(407));l=l()}else{if(l=i(),ze===null)throw Error(s(349));(De&124)!==0||pf(r,i,l)}m.memoizedState=l;var y={value:l,getSnapshot:i};return m.queue=y,Rf(yf.bind(null,r,y,n),[n]),r.flags|=2048,Xi(9,wl(),gf.bind(null,r,y,l,i),null),l},useId:function(){var n=Tt(),i=ze.identifierPrefix;if(Le){var l=fn,r=dn;l=(r&~(1<<32-_t(r)-1)).toString(32)+l,i=""+i+"R"+l,l=Cl++,0<l&&(i+="H"+l.toString(32)),i+=""}else l=tx++,i=""+i+"r"+l.toString(32)+"";return n.memoizedState=i},useHostTransitionStatus:Qr,useFormState:_f,useActionState:_f,useOptimistic:function(n){var i=Tt();i.memoizedState=i.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=Xr.bind(null,we,!0,l),l.dispatch=i,[n,i]},useMemoCache:zr,useCacheRefresh:function(){return Tt().memoizedState=lx.bind(null,we)}},Zf={readContext:pt,use:Tl,useCallback:Of,useContext:pt,useEffect:Df,useImperativeHandle:Uf,useInsertionEffect:If,useLayoutEffect:jf,useMemo:Vf,useReducer:Sl,useRef:kf,useState:function(){return Sl(pn)},useDebugValue:Jr,useDeferredValue:function(n,i){var l=nt();return Bf(l,Be.memoizedState,n,i)},useTransition:function(){var n=Sl(pn)[0],i=nt().memoizedState;return[typeof n=="boolean"?n:is(n),i]},useSyncExternalStore:hf,useId:zf,useHostTransitionStatus:Qr,useFormState:Ef,useActionState:Ef,useOptimistic:function(n,i){var l=nt();return bf(l,Be,n,i)},useMemoCache:zr,useCacheRefresh:Gf},rx={readContext:pt,use:Tl,useCallback:Of,useContext:pt,useEffect:Df,useImperativeHandle:Uf,useInsertionEffect:If,useLayoutEffect:jf,useMemo:Vf,useReducer:Hr,useRef:kf,useState:function(){return Hr(pn)},useDebugValue:Jr,useDeferredValue:function(n,i){var l=nt();return Be===null?Zr(l,n,i):Bf(l,Be.memoizedState,n,i)},useTransition:function(){var n=Hr(pn)[0],i=nt().memoizedState;return[typeof n=="boolean"?n:is(n),i]},useSyncExternalStore:hf,useId:zf,useHostTransitionStatus:Qr,useFormState:Mf,useActionState:Mf,useOptimistic:function(n,i){var l=nt();return Be!==null?bf(l,Be,n,i):(l.baseState=n,[n,l.queue.dispatch])},useMemoCache:zr,useCacheRefresh:Gf},Wi=null,ls=0;function Al(n){var i=ls;return ls+=1,Wi===null&&(Wi=[]),lf(Wi,n,i)}function os(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Ml(n,i){throw i.$$typeof===C?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function Kf(n){var i=n._init;return i(n._payload)}function Qf(n){function i(D,R){if(n){var L=D.deletions;L===null?(D.deletions=[R],D.flags|=16):L.push(R)}}function l(D,R){if(!n)return null;for(;R!==null;)i(D,R),R=R.sibling;return null}function r(D){for(var R=new Map;D!==null;)D.key!==null?R.set(D.key,D):R.set(D.index,D),D=D.sibling;return R}function m(D,R){return D=cn(D,R),D.index=0,D.sibling=null,D}function y(D,R,L){return D.index=L,n?(L=D.alternate,L!==null?(L=L.index,L<R?(D.flags|=67108866,R):L):(D.flags|=67108866,R)):(D.flags|=1048576,R)}function b(D){return n&&D.alternate===null&&(D.flags|=67108866),D}function w(D,R,L,H){return R===null||R.tag!==6?(R=vr(L,D.mode,H),R.return=D,R):(R=m(R,L),R.return=D,R)}function A(D,R,L,H){var ue=L.type;return ue===N?z(D,R,L.props.children,H,L.key):R!==null&&(R.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===se&&Kf(ue)===R.type)?(R=m(R,L.props),os(R,L),R.return=D,R):(R=dl(L.type,L.key,L.props,null,D.mode,H),os(R,L),R.return=D,R)}function O(D,R,L,H){return R===null||R.tag!==4||R.stateNode.containerInfo!==L.containerInfo||R.stateNode.implementation!==L.implementation?(R=br(L,D.mode,H),R.return=D,R):(R=m(R,L.children||[]),R.return=D,R)}function z(D,R,L,H,ue){return R===null||R.tag!==7?(R=ri(L,D.mode,H,ue),R.return=D,R):(R=m(R,L),R.return=D,R)}function Y(D,R,L){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=vr(""+R,D.mode,L),R.return=D,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case T:return L=dl(R.type,R.key,R.props,null,D.mode,L),os(L,R),L.return=D,L;case S:return R=br(R,D.mode,L),R.return=D,R;case se:var H=R._init;return R=H(R._payload),Y(D,R,L)}if(ee(R)||Z(R))return R=ri(R,D.mode,L,null),R.return=D,R;if(typeof R.then=="function")return Y(D,Al(R),L);if(R.$$typeof===U)return Y(D,pl(D,R),L);Ml(D,R)}return null}function B(D,R,L,H){var ue=R!==null?R.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ue!==null?null:w(D,R,""+L,H);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case T:return L.key===ue?A(D,R,L,H):null;case S:return L.key===ue?O(D,R,L,H):null;case se:return ue=L._init,L=ue(L._payload),B(D,R,L,H)}if(ee(L)||Z(L))return ue!==null?null:z(D,R,L,H,null);if(typeof L.then=="function")return B(D,R,Al(L),H);if(L.$$typeof===U)return B(D,R,pl(D,L),H);Ml(D,L)}return null}function P(D,R,L,H,ue){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return D=D.get(L)||null,w(R,D,""+H,ue);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case T:return D=D.get(H.key===null?L:H.key)||null,A(R,D,H,ue);case S:return D=D.get(H.key===null?L:H.key)||null,O(R,D,H,ue);case se:var Ne=H._init;return H=Ne(H._payload),P(D,R,L,H,ue)}if(ee(H)||Z(H))return D=D.get(L)||null,z(R,D,H,ue,null);if(typeof H.then=="function")return P(D,R,L,Al(H),ue);if(H.$$typeof===U)return P(D,R,L,pl(R,H),ue);Ml(R,H)}return null}function xe(D,R,L,H){for(var ue=null,Ne=null,me=R,ye=R=0,ct=null;me!==null&&ye<L.length;ye++){me.index>ye?(ct=me,me=null):ct=me.sibling;var Ie=B(D,me,L[ye],H);if(Ie===null){me===null&&(me=ct);break}n&&me&&Ie.alternate===null&&i(D,me),R=y(Ie,R,ye),Ne===null?ue=Ie:Ne.sibling=Ie,Ne=Ie,me=ct}if(ye===L.length)return l(D,me),Le&&ci(D,ye),ue;if(me===null){for(;ye<L.length;ye++)me=Y(D,L[ye],H),me!==null&&(R=y(me,R,ye),Ne===null?ue=me:Ne.sibling=me,Ne=me);return Le&&ci(D,ye),ue}for(me=r(me);ye<L.length;ye++)ct=P(me,D,ye,L[ye],H),ct!==null&&(n&&ct.alternate!==null&&me.delete(ct.key===null?ye:ct.key),R=y(ct,R,ye),Ne===null?ue=ct:Ne.sibling=ct,Ne=ct);return n&&me.forEach(function(Qn){return i(D,Qn)}),Le&&ci(D,ye),ue}function pe(D,R,L,H){if(L==null)throw Error(s(151));for(var ue=null,Ne=null,me=R,ye=R=0,ct=null,Ie=L.next();me!==null&&!Ie.done;ye++,Ie=L.next()){me.index>ye?(ct=me,me=null):ct=me.sibling;var Qn=B(D,me,Ie.value,H);if(Qn===null){me===null&&(me=ct);break}n&&me&&Qn.alternate===null&&i(D,me),R=y(Qn,R,ye),Ne===null?ue=Qn:Ne.sibling=Qn,Ne=Qn,me=ct}if(Ie.done)return l(D,me),Le&&ci(D,ye),ue;if(me===null){for(;!Ie.done;ye++,Ie=L.next())Ie=Y(D,Ie.value,H),Ie!==null&&(R=y(Ie,R,ye),Ne===null?ue=Ie:Ne.sibling=Ie,Ne=Ie);return Le&&ci(D,ye),ue}for(me=r(me);!Ie.done;ye++,Ie=L.next())Ie=P(me,D,ye,Ie.value,H),Ie!==null&&(n&&Ie.alternate!==null&&me.delete(Ie.key===null?ye:Ie.key),R=y(Ie,R,ye),Ne===null?ue=Ie:Ne.sibling=Ie,Ne=Ie);return n&&me.forEach(function(uv){return i(D,uv)}),Le&&ci(D,ye),ue}function $e(D,R,L,H){if(typeof L=="object"&&L!==null&&L.type===N&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case T:e:{for(var ue=L.key;R!==null;){if(R.key===ue){if(ue=L.type,ue===N){if(R.tag===7){l(D,R.sibling),H=m(R,L.props.children),H.return=D,D=H;break e}}else if(R.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===se&&Kf(ue)===R.type){l(D,R.sibling),H=m(R,L.props),os(H,L),H.return=D,D=H;break e}l(D,R);break}else i(D,R);R=R.sibling}L.type===N?(H=ri(L.props.children,D.mode,H,L.key),H.return=D,D=H):(H=dl(L.type,L.key,L.props,null,D.mode,H),os(H,L),H.return=D,D=H)}return b(D);case S:e:{for(ue=L.key;R!==null;){if(R.key===ue)if(R.tag===4&&R.stateNode.containerInfo===L.containerInfo&&R.stateNode.implementation===L.implementation){l(D,R.sibling),H=m(R,L.children||[]),H.return=D,D=H;break e}else{l(D,R);break}else i(D,R);R=R.sibling}H=br(L,D.mode,H),H.return=D,D=H}return b(D);case se:return ue=L._init,L=ue(L._payload),$e(D,R,L,H)}if(ee(L))return xe(D,R,L,H);if(Z(L)){if(ue=Z(L),typeof ue!="function")throw Error(s(150));return L=ue.call(L),pe(D,R,L,H)}if(typeof L.then=="function")return $e(D,R,Al(L),H);if(L.$$typeof===U)return $e(D,R,pl(D,L),H);Ml(D,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,R!==null&&R.tag===6?(l(D,R.sibling),H=m(R,L),H.return=D,D=H):(l(D,R),H=vr(L,D.mode,H),H.return=D,D=H),b(D)):l(D,R)}return function(D,R,L,H){try{ls=0;var ue=$e(D,R,L,H);return Wi=null,ue}catch(me){if(me===Qa||me===yl)throw me;var Ne=At(29,me,null,D.mode);return Ne.lanes=H,Ne.return=D,Ne}finally{}}}var ea=Qf(!0),Xf=Qf(!1),Pt=F(null),Xt=null;function Un(n){var i=n.alternate;ie(st,st.current&1),ie(Pt,n),Xt===null&&(i===null||Zi.current!==null||i.memoizedState!==null)&&(Xt=n)}function Wf(n){if(n.tag===22){if(ie(st,st.current),ie(Pt,n),Xt===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(Xt=n)}}else On()}function On(){ie(st,st.current),ie(Pt,Pt.current)}function gn(n){ne(Pt),Xt===n&&(Xt=null),ne(st)}var st=F(0);function kl(n){for(var i=n;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||qu(l)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Wr(n,i,l,r){i=n.memoizedState,l=l(r,i),l=l==null?i:v({},i,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var eu={enqueueSetState:function(n,i,l){n=n._reactInternals;var r=Dt(),m=In(r);m.payload=i,l!=null&&(m.callback=l),i=jn(n,m,r),i!==null&&(It(i,n,r),Wa(i,n,r))},enqueueReplaceState:function(n,i,l){n=n._reactInternals;var r=Dt(),m=In(r);m.tag=1,m.payload=i,l!=null&&(m.callback=l),i=jn(n,m,r),i!==null&&(It(i,n,r),Wa(i,n,r))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var l=Dt(),r=In(l);r.tag=2,i!=null&&(r.callback=i),i=jn(n,r,l),i!==null&&(It(i,n,l),Wa(i,n,l))}};function em(n,i,l,r,m,y,b){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,y,b):i.prototype&&i.prototype.isPureReactComponent?!za(l,r)||!za(m,y):!0}function tm(n,i,l,r){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,r),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,r),i.state!==n&&eu.enqueueReplaceState(i,i.state,null)}function yi(n,i){var l=i;if("ref"in i){l={};for(var r in i)r!=="ref"&&(l[r]=i[r])}if(n=n.defaultProps){l===i&&(l=v({},l));for(var m in n)l[m]===void 0&&(l[m]=n[m])}return l}var Rl=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function nm(n){Rl(n)}function im(n){console.error(n)}function am(n){Rl(n)}function Dl(n,i){try{var l=n.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(r){setTimeout(function(){throw r})}}function sm(n,i,l){try{var r=n.onCaughtError;r(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function tu(n,i,l){return l=In(l),l.tag=3,l.payload={element:null},l.callback=function(){Dl(n,i)},l}function lm(n){return n=In(n),n.tag=3,n}function om(n,i,l,r){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var y=r.value;n.payload=function(){return m(y)},n.callback=function(){sm(i,l,r)}}var b=l.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(n.callback=function(){sm(i,l,r),typeof m!="function"&&(zn===null?zn=new Set([this]):zn.add(this));var w=r.stack;this.componentDidCatch(r.value,{componentStack:w!==null?w:""})})}function ux(n,i,l,r,m){if(l.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(i=l.alternate,i!==null&&Ja(i,l,m,!0),l=Pt.current,l!==null){switch(l.tag){case 13:return Xt===null?Nu():l.alternate===null&&Xe===0&&(Xe=3),l.flags&=-257,l.flags|=65536,l.lanes=m,r===kr?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([r]):i.add(r),Eu(n,r,m)),!1;case 22:return l.flags|=65536,r===kr?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([r])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([r]):l.add(r)),Eu(n,r,m)),!1}throw Error(s(435,l.tag))}return Eu(n,r,m),Nu(),!1}if(Le)return i=Pt.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=m,r!==Sr&&(n=Error(s(422),{cause:r}),Ya(Ut(n,l)))):(r!==Sr&&(i=Error(s(423),{cause:r}),Ya(Ut(i,l))),n=n.current.alternate,n.flags|=65536,m&=-m,n.lanes|=m,r=Ut(r,l),m=tu(n.stateNode,r,m),Ir(n,m),Xe!==4&&(Xe=2)),!1;var y=Error(s(520),{cause:r});if(y=Ut(y,l),hs===null?hs=[y]:hs.push(y),Xe!==4&&(Xe=2),i===null)return!0;r=Ut(r,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,n=m&-m,l.lanes|=n,n=tu(l.stateNode,r,n),Ir(l,n),!1;case 1:if(i=l.type,y=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(zn===null||!zn.has(y))))return l.flags|=65536,m&=-m,l.lanes|=m,m=lm(m),om(m,n,l,r),Ir(l,m),!1}l=l.return}while(l!==null);return!1}var rm=Error(s(461)),rt=!1;function dt(n,i,l,r){i.child=n===null?Xf(i,null,l,r):ea(i,n.child,l,r)}function um(n,i,l,r,m){l=l.render;var y=i.ref;if("ref"in r){var b={};for(var w in r)w!=="ref"&&(b[w]=r[w])}else b=r;return hi(i),r=Vr(n,i,l,b,y,m),w=Br(),n!==null&&!rt?(Pr(n,i,m),yn(n,i,m)):(Le&&w&&Cr(i),i.flags|=1,dt(n,i,r,m),i.child)}function cm(n,i,l,r,m){if(n===null){var y=l.type;return typeof y=="function"&&!xr(y)&&y.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=y,dm(n,i,y,r,m)):(n=dl(l.type,null,r,i,i.mode,m),n.ref=i.ref,n.return=i,i.child=n)}if(y=n.child,!uu(n,m)){var b=y.memoizedProps;if(l=l.compare,l=l!==null?l:za,l(b,r)&&n.ref===i.ref)return yn(n,i,m)}return i.flags|=1,n=cn(y,r),n.ref=i.ref,n.return=i,i.child=n}function dm(n,i,l,r,m){if(n!==null){var y=n.memoizedProps;if(za(y,r)&&n.ref===i.ref)if(rt=!1,i.pendingProps=r=y,uu(n,m))(n.flags&131072)!==0&&(rt=!0);else return i.lanes=n.lanes,yn(n,i,m)}return nu(n,i,l,r,m)}function fm(n,i,l){var r=i.pendingProps,m=r.children,y=n!==null?n.memoizedState:null;if(r.mode==="hidden"){if((i.flags&128)!==0){if(r=y!==null?y.baseLanes|l:l,n!==null){for(m=i.child=n.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;i.childLanes=y&~r}else i.childLanes=0,i.child=null;return mm(n,i,r,l)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&gl(i,y!==null?y.cachePool:null),y!==null?df(i,y):Lr(),Wf(i);else return i.lanes=i.childLanes=536870912,mm(n,i,y!==null?y.baseLanes|l:l,l)}else y!==null?(gl(i,y.cachePool),df(i,y),On(),i.memoizedState=null):(n!==null&&gl(i,null),Lr(),On());return dt(n,i,m,l),i.child}function mm(n,i,l,r){var m=Mr();return m=m===null?null:{parent:at._currentValue,pool:m},i.memoizedState={baseLanes:l,cachePool:m},n!==null&&gl(i,null),Lr(),Wf(i),n!==null&&Ja(n,i,r,!0),null}function Il(n,i){var l=i.ref;if(l===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(n===null||n.ref!==l)&&(i.flags|=4194816)}}function nu(n,i,l,r,m){return hi(i),l=Vr(n,i,l,r,void 0,m),r=Br(),n!==null&&!rt?(Pr(n,i,m),yn(n,i,m)):(Le&&r&&Cr(i),i.flags|=1,dt(n,i,l,m),i.child)}function hm(n,i,l,r,m,y){return hi(i),i.updateQueue=null,l=mf(i,r,l,m),ff(n),r=Br(),n!==null&&!rt?(Pr(n,i,y),yn(n,i,y)):(Le&&r&&Cr(i),i.flags|=1,dt(n,i,l,y),i.child)}function pm(n,i,l,r,m){if(hi(i),i.stateNode===null){var y=Gi,b=l.contextType;typeof b=="object"&&b!==null&&(y=pt(b)),y=new l(r,y),i.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=eu,i.stateNode=y,y._reactInternals=i,y=i.stateNode,y.props=r,y.state=i.memoizedState,y.refs={},Rr(i),b=l.contextType,y.context=typeof b=="object"&&b!==null?pt(b):Gi,y.state=i.memoizedState,b=l.getDerivedStateFromProps,typeof b=="function"&&(Wr(i,l,b,r),y.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(b=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),b!==y.state&&eu.enqueueReplaceState(y,y.state,null),ts(i,r,y,m),es(),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308),r=!0}else if(n===null){y=i.stateNode;var w=i.memoizedProps,A=yi(l,w);y.props=A;var O=y.context,z=l.contextType;b=Gi,typeof z=="object"&&z!==null&&(b=pt(z));var Y=l.getDerivedStateFromProps;z=typeof Y=="function"||typeof y.getSnapshotBeforeUpdate=="function",w=i.pendingProps!==w,z||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(w||O!==b)&&tm(i,y,r,b),Dn=!1;var B=i.memoizedState;y.state=B,ts(i,r,y,m),es(),O=i.memoizedState,w||B!==O||Dn?(typeof Y=="function"&&(Wr(i,l,Y,r),O=i.memoizedState),(A=Dn||em(i,l,A,r,B,O,b))?(z||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(i.flags|=4194308)):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=r,i.memoizedState=O),y.props=r,y.state=O,y.context=b,r=A):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),r=!1)}else{y=i.stateNode,Dr(n,i),b=i.memoizedProps,z=yi(l,b),y.props=z,Y=i.pendingProps,B=y.context,O=l.contextType,A=Gi,typeof O=="object"&&O!==null&&(A=pt(O)),w=l.getDerivedStateFromProps,(O=typeof w=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(b!==Y||B!==A)&&tm(i,y,r,A),Dn=!1,B=i.memoizedState,y.state=B,ts(i,r,y,m),es();var P=i.memoizedState;b!==Y||B!==P||Dn||n!==null&&n.dependencies!==null&&hl(n.dependencies)?(typeof w=="function"&&(Wr(i,l,w,r),P=i.memoizedState),(z=Dn||em(i,l,z,r,B,P,A)||n!==null&&n.dependencies!==null&&hl(n.dependencies))?(O||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(r,P,A),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(r,P,A)),typeof y.componentDidUpdate=="function"&&(i.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof y.componentDidUpdate!="function"||b===n.memoizedProps&&B===n.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&B===n.memoizedState||(i.flags|=1024),i.memoizedProps=r,i.memoizedState=P),y.props=r,y.state=P,y.context=A,r=z):(typeof y.componentDidUpdate!="function"||b===n.memoizedProps&&B===n.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&B===n.memoizedState||(i.flags|=1024),r=!1)}return y=r,Il(n,i),r=(i.flags&128)!==0,y||r?(y=i.stateNode,l=r&&typeof l.getDerivedStateFromError!="function"?null:y.render(),i.flags|=1,n!==null&&r?(i.child=ea(i,n.child,null,m),i.child=ea(i,null,l,m)):dt(n,i,l,m),i.memoizedState=y.state,n=i.child):n=yn(n,i,m),n}function gm(n,i,l,r){return Fa(),i.flags|=256,dt(n,i,l,r),i.child}var iu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function au(n){return{baseLanes:n,cachePool:nf()}}function su(n,i,l){return n=n!==null?n.childLanes&~l:0,i&&(n|=$t),n}function ym(n,i,l){var r=i.pendingProps,m=!1,y=(i.flags&128)!==0,b;if((b=y)||(b=n!==null&&n.memoizedState===null?!1:(st.current&2)!==0),b&&(m=!0,i.flags&=-129),b=(i.flags&32)!==0,i.flags&=-33,n===null){if(Le){if(m?Un(i):On(),Le){var w=Qe,A;if(A=w){e:{for(A=w,w=Qt;A.nodeType!==8;){if(!w){w=null;break e}if(A=Ft(A.nextSibling),A===null){w=null;break e}}w=A}w!==null?(i.memoizedState={dehydrated:w,treeContext:ui!==null?{id:dn,overflow:fn}:null,retryLane:536870912,hydrationErrors:null},A=At(18,null,null,0),A.stateNode=w,A.return=i,i.child=A,yt=i,Qe=null,A=!0):A=!1}A||fi(i)}if(w=i.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return qu(w)?i.lanes=32:i.lanes=536870912,null;gn(i)}return w=r.children,r=r.fallback,m?(On(),m=i.mode,w=jl({mode:"hidden",children:w},m),r=ri(r,m,l,null),w.return=i,r.return=i,w.sibling=r,i.child=w,m=i.child,m.memoizedState=au(l),m.childLanes=su(n,b,l),i.memoizedState=iu,r):(Un(i),lu(i,w))}if(A=n.memoizedState,A!==null&&(w=A.dehydrated,w!==null)){if(y)i.flags&256?(Un(i),i.flags&=-257,i=ou(n,i,l)):i.memoizedState!==null?(On(),i.child=n.child,i.flags|=128,i=null):(On(),m=r.fallback,w=i.mode,r=jl({mode:"visible",children:r.children},w),m=ri(m,w,l,null),m.flags|=2,r.return=i,m.return=i,r.sibling=m,i.child=r,ea(i,n.child,null,l),r=i.child,r.memoizedState=au(l),r.childLanes=su(n,b,l),i.memoizedState=iu,i=m);else if(Un(i),qu(w)){if(b=w.nextSibling&&w.nextSibling.dataset,b)var O=b.dgst;b=O,r=Error(s(419)),r.stack="",r.digest=b,Ya({value:r,source:null,stack:null}),i=ou(n,i,l)}else if(rt||Ja(n,i,l,!1),b=(l&n.childLanes)!==0,rt||b){if(b=ze,b!==null&&(r=l&-l,r=(r&42)!==0?1:zo(r),r=(r&(b.suspendedLanes|l))!==0?0:r,r!==0&&r!==A.retryLane))throw A.retryLane=r,zi(n,r),It(b,n,r),rm;w.data==="$?"||Nu(),i=ou(n,i,l)}else w.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=A.treeContext,Qe=Ft(w.nextSibling),yt=i,Le=!0,di=null,Qt=!1,n!==null&&(Vt[Bt++]=dn,Vt[Bt++]=fn,Vt[Bt++]=ui,dn=n.id,fn=n.overflow,ui=i),i=lu(i,r.children),i.flags|=4096);return i}return m?(On(),m=r.fallback,w=i.mode,A=n.child,O=A.sibling,r=cn(A,{mode:"hidden",children:r.children}),r.subtreeFlags=A.subtreeFlags&65011712,O!==null?m=cn(O,m):(m=ri(m,w,l,null),m.flags|=2),m.return=i,r.return=i,r.sibling=m,i.child=r,r=m,m=i.child,w=n.child.memoizedState,w===null?w=au(l):(A=w.cachePool,A!==null?(O=at._currentValue,A=A.parent!==O?{parent:O,pool:O}:A):A=nf(),w={baseLanes:w.baseLanes|l,cachePool:A}),m.memoizedState=w,m.childLanes=su(n,b,l),i.memoizedState=iu,r):(Un(i),l=n.child,n=l.sibling,l=cn(l,{mode:"visible",children:r.children}),l.return=i,l.sibling=null,n!==null&&(b=i.deletions,b===null?(i.deletions=[n],i.flags|=16):b.push(n)),i.child=l,i.memoizedState=null,l)}function lu(n,i){return i=jl({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function jl(n,i){return n=At(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function ou(n,i,l){return ea(i,n.child,null,l),n=lu(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function xm(n,i,l){n.lanes|=i;var r=n.alternate;r!==null&&(r.lanes|=i),Nr(n.return,i,l)}function ru(n,i,l,r,m){var y=n.memoizedState;y===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:r,tail:l,tailMode:m}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=r,y.tail=l,y.tailMode=m)}function vm(n,i,l){var r=i.pendingProps,m=r.revealOrder,y=r.tail;if(dt(n,i,r.children,l),r=st.current,(r&2)!==0)r=r&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&xm(n,l,i);else if(n.tag===19)xm(n,l,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}switch(ie(st,r),m){case"forwards":for(l=i.child,m=null;l!==null;)n=l.alternate,n!==null&&kl(n)===null&&(m=l),l=l.sibling;l=m,l===null?(m=i.child,i.child=null):(m=l.sibling,l.sibling=null),ru(i,!1,m,l,y);break;case"backwards":for(l=null,m=i.child,i.child=null;m!==null;){if(n=m.alternate,n!==null&&kl(n)===null){i.child=m;break}n=m.sibling,m.sibling=l,l=m,m=n}ru(i,!0,l,null,y);break;case"together":ru(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function yn(n,i,l){if(n!==null&&(i.dependencies=n.dependencies),qn|=i.lanes,(l&i.childLanes)===0)if(n!==null){if(Ja(n,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,l=cn(n,n.pendingProps),i.child=l,l.return=i;n.sibling!==null;)n=n.sibling,l=l.sibling=cn(n,n.pendingProps),l.return=i;l.sibling=null}return i.child}function uu(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&hl(n)))}function cx(n,i,l){switch(i.tag){case 3:ge(i,i.stateNode.containerInfo),Rn(i,at,n.memoizedState.cache),Fa();break;case 27:case 5:Vo(i);break;case 4:ge(i,i.stateNode.containerInfo);break;case 10:Rn(i,i.type,i.memoizedProps.value);break;case 13:var r=i.memoizedState;if(r!==null)return r.dehydrated!==null?(Un(i),i.flags|=128,null):(l&i.child.childLanes)!==0?ym(n,i,l):(Un(i),n=yn(n,i,l),n!==null?n.sibling:null);Un(i);break;case 19:var m=(n.flags&128)!==0;if(r=(l&i.childLanes)!==0,r||(Ja(n,i,l,!1),r=(l&i.childLanes)!==0),m){if(r)return vm(n,i,l);i.flags|=128}if(m=i.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ie(st,st.current),r)break;return null;case 22:case 23:return i.lanes=0,fm(n,i,l);case 24:Rn(i,at,n.memoizedState.cache)}return yn(n,i,l)}function bm(n,i,l){if(n!==null)if(n.memoizedProps!==i.pendingProps)rt=!0;else{if(!uu(n,l)&&(i.flags&128)===0)return rt=!1,cx(n,i,l);rt=(n.flags&131072)!==0}else rt=!1,Le&&(i.flags&1048576)!==0&&Zd(i,ml,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var r=i.elementType,m=r._init;if(r=m(r._payload),i.type=r,typeof r=="function")xr(r)?(n=yi(r,n),i.tag=1,i=pm(null,i,r,n,l)):(i.tag=0,i=nu(null,i,r,n,l));else{if(r!=null){if(m=r.$$typeof,m===$){i.tag=11,i=um(null,i,r,n,l);break e}else if(m===Q){i.tag=14,i=cm(null,i,r,n,l);break e}}throw i=re(r)||r,Error(s(306,i,""))}}return i;case 0:return nu(n,i,i.type,i.pendingProps,l);case 1:return r=i.type,m=yi(r,i.pendingProps),pm(n,i,r,m,l);case 3:e:{if(ge(i,i.stateNode.containerInfo),n===null)throw Error(s(387));r=i.pendingProps;var y=i.memoizedState;m=y.element,Dr(n,i),ts(i,r,null,l);var b=i.memoizedState;if(r=b.cache,Rn(i,at,r),r!==y.cache&&_r(i,[at],l,!0),es(),r=b.element,y.isDehydrated)if(y={element:r,isDehydrated:!1,cache:b.cache},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){i=gm(n,i,r,l);break e}else if(r!==m){m=Ut(Error(s(424)),i),Ya(m),i=gm(n,i,r,l);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Qe=Ft(n.firstChild),yt=i,Le=!0,di=null,Qt=!0,l=Xf(i,null,r,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Fa(),r===m){i=yn(n,i,l);break e}dt(n,i,r,l)}i=i.child}return i;case 26:return Il(n,i),n===null?(l=wh(i.type,null,i.pendingProps,null))?i.memoizedState=l:Le||(l=i.type,n=i.pendingProps,r=Jl(G.current).createElement(l),r[ht]=i,r[bt]=n,mt(r,l,n),ot(r),i.stateNode=r):i.memoizedState=wh(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return Vo(i),n===null&&Le&&(r=i.stateNode=Ch(i.type,i.pendingProps,G.current),yt=i,Qt=!0,m=Qe,Fn(i.type)?(zu=m,Qe=Ft(r.firstChild)):Qe=m),dt(n,i,i.pendingProps.children,l),Il(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&Le&&((m=r=Qe)&&(r=Vx(r,i.type,i.pendingProps,Qt),r!==null?(i.stateNode=r,yt=i,Qe=Ft(r.firstChild),Qt=!1,m=!0):m=!1),m||fi(i)),Vo(i),m=i.type,y=i.pendingProps,b=n!==null?n.memoizedProps:null,r=y.children,Bu(m,y)?r=null:b!==null&&Bu(m,b)&&(i.flags|=32),i.memoizedState!==null&&(m=Vr(n,i,nx,null,null,l),Ss._currentValue=m),Il(n,i),dt(n,i,r,l),i.child;case 6:return n===null&&Le&&((n=l=Qe)&&(l=Bx(l,i.pendingProps,Qt),l!==null?(i.stateNode=l,yt=i,Qe=null,n=!0):n=!1),n||fi(i)),null;case 13:return ym(n,i,l);case 4:return ge(i,i.stateNode.containerInfo),r=i.pendingProps,n===null?i.child=ea(i,null,r,l):dt(n,i,r,l),i.child;case 11:return um(n,i,i.type,i.pendingProps,l);case 7:return dt(n,i,i.pendingProps,l),i.child;case 8:return dt(n,i,i.pendingProps.children,l),i.child;case 12:return dt(n,i,i.pendingProps.children,l),i.child;case 10:return r=i.pendingProps,Rn(i,i.type,r.value),dt(n,i,r.children,l),i.child;case 9:return m=i.type._context,r=i.pendingProps.children,hi(i),m=pt(m),r=r(m),i.flags|=1,dt(n,i,r,l),i.child;case 14:return cm(n,i,i.type,i.pendingProps,l);case 15:return dm(n,i,i.type,i.pendingProps,l);case 19:return vm(n,i,l);case 31:return r=i.pendingProps,l=i.mode,r={mode:r.mode,children:r.children},n===null?(l=jl(r,l),l.ref=i.ref,i.child=l,l.return=i,i=l):(l=cn(n.child,r),l.ref=i.ref,i.child=l,l.return=i,i=l),i;case 22:return fm(n,i,l);case 24:return hi(i),r=pt(at),n===null?(m=Mr(),m===null&&(m=ze,y=Er(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=l),m=y),i.memoizedState={parent:r,cache:m},Rr(i),Rn(i,at,m)):((n.lanes&l)!==0&&(Dr(n,i),ts(i,null,null,l),es()),m=n.memoizedState,y=i.memoizedState,m.parent!==r?(m={parent:r,cache:r},i.memoizedState=m,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=m),Rn(i,at,r)):(r=y.cache,Rn(i,at,r),r!==m.cache&&_r(i,[at],l,!0))),dt(n,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function xn(n){n.flags|=4}function Cm(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Mh(i)){if(i=Pt.current,i!==null&&((De&4194048)===De?Xt!==null:(De&62914560)!==De&&(De&536870912)===0||i!==Xt))throw Xa=kr,af;n.flags|=8192}}function Ll(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Xc():536870912,n.lanes|=i,aa|=i)}function rs(n,i){if(!Le)switch(n.tailMode){case"hidden":i=n.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var r=null;l!==null;)l.alternate!==null&&(r=l),l=l.sibling;r===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Je(n){var i=n.alternate!==null&&n.alternate.child===n.child,l=0,r=0;if(i)for(var m=n.child;m!==null;)l|=m.lanes|m.childLanes,r|=m.subtreeFlags&65011712,r|=m.flags&65011712,m.return=n,m=m.sibling;else for(m=n.child;m!==null;)l|=m.lanes|m.childLanes,r|=m.subtreeFlags,r|=m.flags,m.return=n,m=m.sibling;return n.subtreeFlags|=r,n.childLanes=l,i}function dx(n,i,l){var r=i.pendingProps;switch(Tr(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(i),null;case 1:return Je(i),null;case 3:return l=i.stateNode,r=null,n!==null&&(r=n.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),hn(at),Fe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(Ha(i)?xn(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Xd())),Je(i),null;case 26:return l=i.memoizedState,n===null?(xn(i),l!==null?(Je(i),Cm(i,l)):(Je(i),i.flags&=-16777217)):l?l!==n.memoizedState?(xn(i),Je(i),Cm(i,l)):(Je(i),i.flags&=-16777217):(n.memoizedProps!==r&&xn(i),Je(i),i.flags&=-16777217),null;case 27:Fs(i),l=G.current;var m=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==r&&xn(i);else{if(!r){if(i.stateNode===null)throw Error(s(166));return Je(i),null}n=he.current,Ha(i)?Kd(i):(n=Ch(m,r,l),i.stateNode=n,xn(i))}return Je(i),null;case 5:if(Fs(i),l=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==r&&xn(i);else{if(!r){if(i.stateNode===null)throw Error(s(166));return Je(i),null}if(n=he.current,Ha(i))Kd(i);else{switch(m=Jl(G.current),n){case 1:n=m.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:n=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":n=m.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":n=m.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":n=m.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof r.is=="string"?m.createElement("select",{is:r.is}):m.createElement("select"),r.multiple?n.multiple=!0:r.size&&(n.size=r.size);break;default:n=typeof r.is=="string"?m.createElement(l,{is:r.is}):m.createElement(l)}}n[ht]=i,n[bt]=r;e:for(m=i.child;m!==null;){if(m.tag===5||m.tag===6)n.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===i)break e;for(;m.sibling===null;){if(m.return===null||m.return===i)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}i.stateNode=n;e:switch(mt(n,l,r),l){case"button":case"input":case"select":case"textarea":n=!!r.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&xn(i)}}return Je(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==r&&xn(i);else{if(typeof r!="string"&&i.stateNode===null)throw Error(s(166));if(n=G.current,Ha(i)){if(n=i.stateNode,l=i.memoizedProps,r=null,m=yt,m!==null)switch(m.tag){case 27:case 5:r=m.memoizedProps}n[ht]=i,n=!!(n.nodeValue===l||r!==null&&r.suppressHydrationWarning===!0||hh(n.nodeValue,l)),n||fi(i)}else n=Jl(n).createTextNode(r),n[ht]=i,i.stateNode=n}return Je(i),null;case 13:if(r=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(m=Ha(i),r!==null&&r.dehydrated!==null){if(n===null){if(!m)throw Error(s(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[ht]=i}else Fa(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Je(i),m=!1}else m=Xd(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=m),m=!0;if(!m)return i.flags&256?(gn(i),i):(gn(i),null)}if(gn(i),(i.flags&128)!==0)return i.lanes=l,i;if(l=r!==null,n=n!==null&&n.memoizedState!==null,l){r=i.child,m=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(m=r.alternate.memoizedState.cachePool.pool);var y=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(y=r.memoizedState.cachePool.pool),y!==m&&(r.flags|=2048)}return l!==n&&l&&(i.child.flags|=8192),Ll(i,i.updateQueue),Je(i),null;case 4:return Fe(),n===null&&ju(i.stateNode.containerInfo),Je(i),null;case 10:return hn(i.type),Je(i),null;case 19:if(ne(st),m=i.memoizedState,m===null)return Je(i),null;if(r=(i.flags&128)!==0,y=m.rendering,y===null)if(r)rs(m,!1);else{if(Xe!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(y=kl(n),y!==null){for(i.flags|=128,rs(m,!1),n=y.updateQueue,i.updateQueue=n,Ll(i,n),i.subtreeFlags=0,n=l,l=i.child;l!==null;)Jd(l,n),l=l.sibling;return ie(st,st.current&1|2),i.child}n=n.sibling}m.tail!==null&&Kt()>Vl&&(i.flags|=128,r=!0,rs(m,!1),i.lanes=4194304)}else{if(!r)if(n=kl(y),n!==null){if(i.flags|=128,r=!0,n=n.updateQueue,i.updateQueue=n,Ll(i,n),rs(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!Le)return Je(i),null}else 2*Kt()-m.renderingStartTime>Vl&&l!==536870912&&(i.flags|=128,r=!0,rs(m,!1),i.lanes=4194304);m.isBackwards?(y.sibling=i.child,i.child=y):(n=m.last,n!==null?n.sibling=y:i.child=y,m.last=y)}return m.tail!==null?(i=m.tail,m.rendering=i,m.tail=i.sibling,m.renderingStartTime=Kt(),i.sibling=null,n=st.current,ie(st,r?n&1|2:n&1),i):(Je(i),null);case 22:case 23:return gn(i),Ur(),r=i.memoizedState!==null,n!==null?n.memoizedState!==null!==r&&(i.flags|=8192):r&&(i.flags|=8192),r?(l&536870912)!==0&&(i.flags&128)===0&&(Je(i),i.subtreeFlags&6&&(i.flags|=8192)):Je(i),l=i.updateQueue,l!==null&&Ll(i,l.retryQueue),l=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==l&&(i.flags|=2048),n!==null&&ne(pi),null;case 24:return l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),hn(at),Je(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function fx(n,i){switch(Tr(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return hn(at),Fe(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Fs(i),null;case 13:if(gn(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Fa()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return ne(st),null;case 4:return Fe(),null;case 10:return hn(i.type),null;case 22:case 23:return gn(i),Ur(),n!==null&&ne(pi),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return hn(at),null;case 25:return null;default:return null}}function Tm(n,i){switch(Tr(i),i.tag){case 3:hn(at),Fe();break;case 26:case 27:case 5:Fs(i);break;case 4:Fe();break;case 13:gn(i);break;case 19:ne(st);break;case 10:hn(i.type);break;case 22:case 23:gn(i),Ur(),n!==null&&ne(pi);break;case 24:hn(at)}}function us(n,i){try{var l=i.updateQueue,r=l!==null?l.lastEffect:null;if(r!==null){var m=r.next;l=m;do{if((l.tag&n)===n){r=void 0;var y=l.create,b=l.inst;r=y(),b.destroy=r}l=l.next}while(l!==m)}}catch(w){qe(i,i.return,w)}}function Vn(n,i,l){try{var r=i.updateQueue,m=r!==null?r.lastEffect:null;if(m!==null){var y=m.next;r=y;do{if((r.tag&n)===n){var b=r.inst,w=b.destroy;if(w!==void 0){b.destroy=void 0,m=i;var A=l,O=w;try{O()}catch(z){qe(m,A,z)}}}r=r.next}while(r!==y)}}catch(z){qe(i,i.return,z)}}function Sm(n){var i=n.updateQueue;if(i!==null){var l=n.stateNode;try{cf(i,l)}catch(r){qe(n,n.return,r)}}}function wm(n,i,l){l.props=yi(n.type,n.memoizedProps),l.state=n.memoizedState;try{l.componentWillUnmount()}catch(r){qe(n,i,r)}}function cs(n,i){try{var l=n.ref;if(l!==null){switch(n.tag){case 26:case 27:case 5:var r=n.stateNode;break;case 30:r=n.stateNode;break;default:r=n.stateNode}typeof l=="function"?n.refCleanup=l(r):l.current=r}}catch(m){qe(n,i,m)}}function Wt(n,i){var l=n.ref,r=n.refCleanup;if(l!==null)if(typeof r=="function")try{r()}catch(m){qe(n,i,m)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){qe(n,i,m)}else l.current=null}function Nm(n){var i=n.type,l=n.memoizedProps,r=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break e;case"img":l.src?r.src=l.src:l.srcSet&&(r.srcset=l.srcSet)}}catch(m){qe(n,n.return,m)}}function cu(n,i,l){try{var r=n.stateNode;Ix(r,n.type,l,i),r[bt]=i}catch(m){qe(n,n.return,m)}}function _m(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Fn(n.type)||n.tag===4}function du(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||_m(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Fn(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function fu(n,i,l){var r=n.tag;if(r===5||r===6)n=n.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(n,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(n),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=Yl));else if(r!==4&&(r===27&&Fn(n.type)&&(l=n.stateNode,i=null),n=n.child,n!==null))for(fu(n,i,l),n=n.sibling;n!==null;)fu(n,i,l),n=n.sibling}function Ul(n,i,l){var r=n.tag;if(r===5||r===6)n=n.stateNode,i?l.insertBefore(n,i):l.appendChild(n);else if(r!==4&&(r===27&&Fn(n.type)&&(l=n.stateNode),n=n.child,n!==null))for(Ul(n,i,l),n=n.sibling;n!==null;)Ul(n,i,l),n=n.sibling}function Em(n){var i=n.stateNode,l=n.memoizedProps;try{for(var r=n.type,m=i.attributes;m.length;)i.removeAttributeNode(m[0]);mt(i,r,l),i[ht]=n,i[bt]=l}catch(y){qe(n,n.return,y)}}var vn=!1,et=!1,mu=!1,Am=typeof WeakSet=="function"?WeakSet:Set,ut=null;function mx(n,i){if(n=n.containerInfo,Ou=eo,n=Vd(n),dr(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var r=l.getSelection&&l.getSelection();if(r&&r.rangeCount!==0){l=r.anchorNode;var m=r.anchorOffset,y=r.focusNode;r=r.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var b=0,w=-1,A=-1,O=0,z=0,Y=n,B=null;t:for(;;){for(var P;Y!==l||m!==0&&Y.nodeType!==3||(w=b+m),Y!==y||r!==0&&Y.nodeType!==3||(A=b+r),Y.nodeType===3&&(b+=Y.nodeValue.length),(P=Y.firstChild)!==null;)B=Y,Y=P;for(;;){if(Y===n)break t;if(B===l&&++O===m&&(w=b),B===y&&++z===r&&(A=b),(P=Y.nextSibling)!==null)break;Y=B,B=Y.parentNode}Y=P}l=w===-1||A===-1?null:{start:w,end:A}}else l=null}l=l||{start:0,end:0}}else l=null;for(Vu={focusedElem:n,selectionRange:l},eo=!1,ut=i;ut!==null;)if(i=ut,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,ut=n;else for(;ut!==null;){switch(i=ut,y=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&y!==null){n=void 0,l=i,m=y.memoizedProps,y=y.memoizedState,r=l.stateNode;try{var xe=yi(l.type,m,l.elementType===l.type);n=r.getSnapshotBeforeUpdate(xe,y),r.__reactInternalSnapshotBeforeUpdate=n}catch(pe){qe(l,l.return,pe)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,l=n.nodeType,l===9)$u(n);else if(l===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":$u(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,ut=n;break}ut=i.return}}function Mm(n,i,l){var r=l.flags;switch(l.tag){case 0:case 11:case 15:Bn(n,l),r&4&&us(5,l);break;case 1:if(Bn(n,l),r&4)if(n=l.stateNode,i===null)try{n.componentDidMount()}catch(b){qe(l,l.return,b)}else{var m=yi(l.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(m,i,n.__reactInternalSnapshotBeforeUpdate)}catch(b){qe(l,l.return,b)}}r&64&&Sm(l),r&512&&cs(l,l.return);break;case 3:if(Bn(n,l),r&64&&(n=l.updateQueue,n!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{cf(n,i)}catch(b){qe(l,l.return,b)}}break;case 27:i===null&&r&4&&Em(l);case 26:case 5:Bn(n,l),i===null&&r&4&&Nm(l),r&512&&cs(l,l.return);break;case 12:Bn(n,l);break;case 13:Bn(n,l),r&4&&Dm(n,l),r&64&&(n=l.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(l=Tx.bind(null,l),Px(n,l))));break;case 22:if(r=l.memoizedState!==null||vn,!r){i=i!==null&&i.memoizedState!==null||et,m=vn;var y=et;vn=r,(et=i)&&!y?Pn(n,l,(l.subtreeFlags&8772)!==0):Bn(n,l),vn=m,et=y}break;case 30:break;default:Bn(n,l)}}function km(n){var i=n.alternate;i!==null&&(n.alternate=null,km(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Fo(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Ye=null,St=!1;function bn(n,i,l){for(l=l.child;l!==null;)Rm(n,i,l),l=l.sibling}function Rm(n,i,l){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(Ra,l)}catch{}switch(l.tag){case 26:et||Wt(l,i),bn(n,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:et||Wt(l,i);var r=Ye,m=St;Fn(l.type)&&(Ye=l.stateNode,St=!1),bn(n,i,l),vs(l.stateNode),Ye=r,St=m;break;case 5:et||Wt(l,i);case 6:if(r=Ye,m=St,Ye=null,bn(n,i,l),Ye=r,St=m,Ye!==null)if(St)try{(Ye.nodeType===9?Ye.body:Ye.nodeName==="HTML"?Ye.ownerDocument.body:Ye).removeChild(l.stateNode)}catch(y){qe(l,i,y)}else try{Ye.removeChild(l.stateNode)}catch(y){qe(l,i,y)}break;case 18:Ye!==null&&(St?(n=Ye,vh(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,l.stateNode),Es(n)):vh(Ye,l.stateNode));break;case 4:r=Ye,m=St,Ye=l.stateNode.containerInfo,St=!0,bn(n,i,l),Ye=r,St=m;break;case 0:case 11:case 14:case 15:et||Vn(2,l,i),et||Vn(4,l,i),bn(n,i,l);break;case 1:et||(Wt(l,i),r=l.stateNode,typeof r.componentWillUnmount=="function"&&wm(l,i,r)),bn(n,i,l);break;case 21:bn(n,i,l);break;case 22:et=(r=et)||l.memoizedState!==null,bn(n,i,l),et=r;break;default:bn(n,i,l)}}function Dm(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Es(n)}catch(l){qe(i,i.return,l)}}function hx(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new Am),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new Am),i;default:throw Error(s(435,n.tag))}}function hu(n,i){var l=hx(n);i.forEach(function(r){var m=Sx.bind(null,n,r);l.has(r)||(l.add(r),r.then(m,m))})}function Mt(n,i){var l=i.deletions;if(l!==null)for(var r=0;r<l.length;r++){var m=l[r],y=n,b=i,w=b;e:for(;w!==null;){switch(w.tag){case 27:if(Fn(w.type)){Ye=w.stateNode,St=!1;break e}break;case 5:Ye=w.stateNode,St=!1;break e;case 3:case 4:Ye=w.stateNode.containerInfo,St=!0;break e}w=w.return}if(Ye===null)throw Error(s(160));Rm(y,b,m),Ye=null,St=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Im(i,n),i=i.sibling}var Ht=null;function Im(n,i){var l=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Mt(i,n),kt(n),r&4&&(Vn(3,n,n.return),us(3,n),Vn(5,n,n.return));break;case 1:Mt(i,n),kt(n),r&512&&(et||l===null||Wt(l,l.return)),r&64&&vn&&(n=n.updateQueue,n!==null&&(r=n.callbacks,r!==null&&(l=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=l===null?r:l.concat(r))));break;case 26:var m=Ht;if(Mt(i,n),kt(n),r&512&&(et||l===null||Wt(l,l.return)),r&4){var y=l!==null?l.memoizedState:null;if(r=n.memoizedState,l===null)if(r===null)if(n.stateNode===null){e:{r=n.type,l=n.memoizedProps,m=m.ownerDocument||m;t:switch(r){case"title":y=m.getElementsByTagName("title")[0],(!y||y[ja]||y[ht]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(r),m.head.insertBefore(y,m.querySelector("head > title"))),mt(y,r,l),y[ht]=n,ot(y),r=y;break e;case"link":var b=Eh("link","href",m).get(r+(l.href||""));if(b){for(var w=0;w<b.length;w++)if(y=b[w],y.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&y.getAttribute("rel")===(l.rel==null?null:l.rel)&&y.getAttribute("title")===(l.title==null?null:l.title)&&y.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){b.splice(w,1);break t}}y=m.createElement(r),mt(y,r,l),m.head.appendChild(y);break;case"meta":if(b=Eh("meta","content",m).get(r+(l.content||""))){for(w=0;w<b.length;w++)if(y=b[w],y.getAttribute("content")===(l.content==null?null:""+l.content)&&y.getAttribute("name")===(l.name==null?null:l.name)&&y.getAttribute("property")===(l.property==null?null:l.property)&&y.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&y.getAttribute("charset")===(l.charSet==null?null:l.charSet)){b.splice(w,1);break t}}y=m.createElement(r),mt(y,r,l),m.head.appendChild(y);break;default:throw Error(s(468,r))}y[ht]=n,ot(y),r=y}n.stateNode=r}else Ah(m,n.type,n.stateNode);else n.stateNode=_h(m,r,n.memoizedProps);else y!==r?(y===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):y.count--,r===null?Ah(m,n.type,n.stateNode):_h(m,r,n.memoizedProps)):r===null&&n.stateNode!==null&&cu(n,n.memoizedProps,l.memoizedProps)}break;case 27:Mt(i,n),kt(n),r&512&&(et||l===null||Wt(l,l.return)),l!==null&&r&4&&cu(n,n.memoizedProps,l.memoizedProps);break;case 5:if(Mt(i,n),kt(n),r&512&&(et||l===null||Wt(l,l.return)),n.flags&32){m=n.stateNode;try{Ui(m,"")}catch(P){qe(n,n.return,P)}}r&4&&n.stateNode!=null&&(m=n.memoizedProps,cu(n,m,l!==null?l.memoizedProps:m)),r&1024&&(mu=!0);break;case 6:if(Mt(i,n),kt(n),r&4){if(n.stateNode===null)throw Error(s(162));r=n.memoizedProps,l=n.stateNode;try{l.nodeValue=r}catch(P){qe(n,n.return,P)}}break;case 3:if(Ql=null,m=Ht,Ht=Zl(i.containerInfo),Mt(i,n),Ht=m,kt(n),r&4&&l!==null&&l.memoizedState.isDehydrated)try{Es(i.containerInfo)}catch(P){qe(n,n.return,P)}mu&&(mu=!1,jm(n));break;case 4:r=Ht,Ht=Zl(n.stateNode.containerInfo),Mt(i,n),kt(n),Ht=r;break;case 12:Mt(i,n),kt(n);break;case 13:Mt(i,n),kt(n),n.child.flags&8192&&n.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(bu=Kt()),r&4&&(r=n.updateQueue,r!==null&&(n.updateQueue=null,hu(n,r)));break;case 22:m=n.memoizedState!==null;var A=l!==null&&l.memoizedState!==null,O=vn,z=et;if(vn=O||m,et=z||A,Mt(i,n),et=z,vn=O,kt(n),r&8192)e:for(i=n.stateNode,i._visibility=m?i._visibility&-2:i._visibility|1,m&&(l===null||A||vn||et||xi(n)),l=null,i=n;;){if(i.tag===5||i.tag===26){if(l===null){A=l=i;try{if(y=A.stateNode,m)b=y.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{w=A.stateNode;var Y=A.memoizedProps.style,B=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;w.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(P){qe(A,A.return,P)}}}else if(i.tag===6){if(l===null){A=i;try{A.stateNode.nodeValue=m?"":A.memoizedProps}catch(P){qe(A,A.return,P)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}r&4&&(r=n.updateQueue,r!==null&&(l=r.retryQueue,l!==null&&(r.retryQueue=null,hu(n,l))));break;case 19:Mt(i,n),kt(n),r&4&&(r=n.updateQueue,r!==null&&(n.updateQueue=null,hu(n,r)));break;case 30:break;case 21:break;default:Mt(i,n),kt(n)}}function kt(n){var i=n.flags;if(i&2){try{for(var l,r=n.return;r!==null;){if(_m(r)){l=r;break}r=r.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var m=l.stateNode,y=du(n);Ul(n,y,m);break;case 5:var b=l.stateNode;l.flags&32&&(Ui(b,""),l.flags&=-33);var w=du(n);Ul(n,w,b);break;case 3:case 4:var A=l.stateNode.containerInfo,O=du(n);fu(n,O,A);break;default:throw Error(s(161))}}catch(z){qe(n,n.return,z)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function jm(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;jm(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Bn(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Mm(n,i.alternate,i),i=i.sibling}function xi(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Vn(4,i,i.return),xi(i);break;case 1:Wt(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&wm(i,i.return,l),xi(i);break;case 27:vs(i.stateNode);case 26:case 5:Wt(i,i.return),xi(i);break;case 22:i.memoizedState===null&&xi(i);break;case 30:xi(i);break;default:xi(i)}n=n.sibling}}function Pn(n,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var r=i.alternate,m=n,y=i,b=y.flags;switch(y.tag){case 0:case 11:case 15:Pn(m,y,l),us(4,y);break;case 1:if(Pn(m,y,l),r=y,m=r.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(O){qe(r,r.return,O)}if(r=y,m=r.updateQueue,m!==null){var w=r.stateNode;try{var A=m.shared.hiddenCallbacks;if(A!==null)for(m.shared.hiddenCallbacks=null,m=0;m<A.length;m++)uf(A[m],w)}catch(O){qe(r,r.return,O)}}l&&b&64&&Sm(y),cs(y,y.return);break;case 27:Em(y);case 26:case 5:Pn(m,y,l),l&&r===null&&b&4&&Nm(y),cs(y,y.return);break;case 12:Pn(m,y,l);break;case 13:Pn(m,y,l),l&&b&4&&Dm(m,y);break;case 22:y.memoizedState===null&&Pn(m,y,l),cs(y,y.return);break;case 30:break;default:Pn(m,y,l)}i=i.sibling}}function pu(n,i){var l=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==l&&(n!=null&&n.refCount++,l!=null&&Za(l))}function gu(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Za(n))}function en(n,i,l,r){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Lm(n,i,l,r),i=i.sibling}function Lm(n,i,l,r){var m=i.flags;switch(i.tag){case 0:case 11:case 15:en(n,i,l,r),m&2048&&us(9,i);break;case 1:en(n,i,l,r);break;case 3:en(n,i,l,r),m&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Za(n)));break;case 12:if(m&2048){en(n,i,l,r),n=i.stateNode;try{var y=i.memoizedProps,b=y.id,w=y.onPostCommit;typeof w=="function"&&w(b,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(A){qe(i,i.return,A)}}else en(n,i,l,r);break;case 13:en(n,i,l,r);break;case 23:break;case 22:y=i.stateNode,b=i.alternate,i.memoizedState!==null?y._visibility&2?en(n,i,l,r):ds(n,i):y._visibility&2?en(n,i,l,r):(y._visibility|=2,ta(n,i,l,r,(i.subtreeFlags&10256)!==0)),m&2048&&pu(b,i);break;case 24:en(n,i,l,r),m&2048&&gu(i.alternate,i);break;default:en(n,i,l,r)}}function ta(n,i,l,r,m){for(m=m&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var y=n,b=i,w=l,A=r,O=b.flags;switch(b.tag){case 0:case 11:case 15:ta(y,b,w,A,m),us(8,b);break;case 23:break;case 22:var z=b.stateNode;b.memoizedState!==null?z._visibility&2?ta(y,b,w,A,m):ds(y,b):(z._visibility|=2,ta(y,b,w,A,m)),m&&O&2048&&pu(b.alternate,b);break;case 24:ta(y,b,w,A,m),m&&O&2048&&gu(b.alternate,b);break;default:ta(y,b,w,A,m)}i=i.sibling}}function ds(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=n,r=i,m=r.flags;switch(r.tag){case 22:ds(l,r),m&2048&&pu(r.alternate,r);break;case 24:ds(l,r),m&2048&&gu(r.alternate,r);break;default:ds(l,r)}i=i.sibling}}var fs=8192;function na(n){if(n.subtreeFlags&fs)for(n=n.child;n!==null;)Um(n),n=n.sibling}function Um(n){switch(n.tag){case 26:na(n),n.flags&fs&&n.memoizedState!==null&&Wx(Ht,n.memoizedState,n.memoizedProps);break;case 5:na(n);break;case 3:case 4:var i=Ht;Ht=Zl(n.stateNode.containerInfo),na(n),Ht=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=fs,fs=16777216,na(n),fs=i):na(n));break;default:na(n)}}function Om(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function ms(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var r=i[l];ut=r,Bm(r,n)}Om(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Vm(n),n=n.sibling}function Vm(n){switch(n.tag){case 0:case 11:case 15:ms(n),n.flags&2048&&Vn(9,n,n.return);break;case 3:ms(n);break;case 12:ms(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Ol(n)):ms(n);break;default:ms(n)}}function Ol(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var r=i[l];ut=r,Bm(r,n)}Om(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Vn(8,i,i.return),Ol(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,Ol(i));break;default:Ol(i)}n=n.sibling}}function Bm(n,i){for(;ut!==null;){var l=ut;switch(l.tag){case 0:case 11:case 15:Vn(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var r=l.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Za(l.memoizedState.cache)}if(r=l.child,r!==null)r.return=l,ut=r;else e:for(l=n;ut!==null;){r=ut;var m=r.sibling,y=r.return;if(km(r),r===l){ut=null;break e}if(m!==null){m.return=y,ut=m;break e}ut=y}}}var px={getCacheForType:function(n){var i=pt(at),l=i.data.get(n);return l===void 0&&(l=n(),i.data.set(n,l)),l}},gx=typeof WeakMap=="function"?WeakMap:Map,Oe=0,ze=null,Ee=null,De=0,Ve=0,Rt=null,$n=!1,ia=!1,yu=!1,Cn=0,Xe=0,qn=0,vi=0,xu=0,$t=0,aa=0,hs=null,wt=null,vu=!1,bu=0,Vl=1/0,Bl=null,zn=null,ft=0,Gn=null,sa=null,la=0,Cu=0,Tu=null,Pm=null,ps=0,Su=null;function Dt(){if((Oe&2)!==0&&De!==0)return De&-De;if(j.T!==null){var n=Yi;return n!==0?n:ku()}return td()}function $m(){$t===0&&($t=(De&536870912)===0||Le?Qc():536870912);var n=Pt.current;return n!==null&&(n.flags|=32),$t}function It(n,i,l){(n===ze&&(Ve===2||Ve===9)||n.cancelPendingCommit!==null)&&(oa(n,0),Hn(n,De,$t,!1)),Ia(n,l),((Oe&2)===0||n!==ze)&&(n===ze&&((Oe&2)===0&&(vi|=l),Xe===4&&Hn(n,De,$t,!1)),tn(n))}function qm(n,i,l){if((Oe&6)!==0)throw Error(s(327));var r=!l&&(i&124)===0&&(i&n.expiredLanes)===0||Da(n,i),m=r?vx(n,i):_u(n,i,!0),y=r;do{if(m===0){ia&&!r&&Hn(n,i,0,!1);break}else{if(l=n.current.alternate,y&&!yx(l)){m=_u(n,i,!1),y=!1;continue}if(m===2){if(y=i,n.errorRecoveryDisabledLanes&y)var b=0;else b=n.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){i=b;e:{var w=n;m=hs;var A=w.current.memoizedState.isDehydrated;if(A&&(oa(w,b).flags|=256),b=_u(w,b,!1),b!==2){if(yu&&!A){w.errorRecoveryDisabledLanes|=y,vi|=y,m=4;break e}y=wt,wt=m,y!==null&&(wt===null?wt=y:wt.push.apply(wt,y))}m=b}if(y=!1,m!==2)continue}}if(m===1){oa(n,0),Hn(n,i,0,!0);break}e:{switch(r=n,y=m,y){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Hn(r,i,$t,!$n);break e;case 2:wt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(m=bu+300-Kt(),10<m)){if(Hn(r,i,$t,!$n),Ks(r,0,!0)!==0)break e;r.timeoutHandle=yh(zm.bind(null,r,l,wt,Bl,vu,i,$t,vi,aa,$n,y,2,-0,0),m);break e}zm(r,l,wt,Bl,vu,i,$t,vi,aa,$n,y,0,-0,0)}}break}while(!0);tn(n)}function zm(n,i,l,r,m,y,b,w,A,O,z,Y,B,P){if(n.timeoutHandle=-1,Y=i.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(Ts={stylesheets:null,count:0,unsuspend:Xx},Um(i),Y=ev(),Y!==null)){n.cancelPendingCommit=Y(Km.bind(null,n,i,y,l,r,m,b,w,A,z,1,B,P)),Hn(n,y,b,!O);return}Km(n,i,y,l,r,m,b,w,A)}function yx(n){for(var i=n;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var r=0;r<l.length;r++){var m=l[r],y=m.getSnapshot;m=m.value;try{if(!Et(y(),m))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Hn(n,i,l,r){i&=~xu,i&=~vi,n.suspendedLanes|=i,n.pingedLanes&=~i,r&&(n.warmLanes|=i),r=n.expirationTimes;for(var m=i;0<m;){var y=31-_t(m),b=1<<y;r[y]=-1,m&=~b}l!==0&&Wc(n,l,i)}function Pl(){return(Oe&6)===0?(gs(0),!1):!0}function wu(){if(Ee!==null){if(Ve===0)var n=Ee.return;else n=Ee,mn=mi=null,$r(n),Wi=null,ls=0,n=Ee;for(;n!==null;)Tm(n.alternate,n),n=n.return;Ee=null}}function oa(n,i){var l=n.timeoutHandle;l!==-1&&(n.timeoutHandle=-1,Lx(l)),l=n.cancelPendingCommit,l!==null&&(n.cancelPendingCommit=null,l()),wu(),ze=n,Ee=l=cn(n.current,null),De=i,Ve=0,Rt=null,$n=!1,ia=Da(n,i),yu=!1,aa=$t=xu=vi=qn=Xe=0,wt=hs=null,vu=!1,(i&8)!==0&&(i|=i&32);var r=n.entangledLanes;if(r!==0)for(n=n.entanglements,r&=i;0<r;){var m=31-_t(r),y=1<<m;i|=n[m],r&=~y}return Cn=i,rl(),l}function Gm(n,i){we=null,j.H=El,i===Qa||i===yl?(i=of(),Ve=3):i===af?(i=of(),Ve=4):Ve=i===rm?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Rt=i,Ee===null&&(Xe=1,Dl(n,Ut(i,n.current)))}function Hm(){var n=j.H;return j.H=El,n===null?El:n}function Fm(){var n=j.A;return j.A=px,n}function Nu(){Xe=4,$n||(De&4194048)!==De&&Pt.current!==null||(ia=!0),(qn&134217727)===0&&(vi&134217727)===0||ze===null||Hn(ze,De,$t,!1)}function _u(n,i,l){var r=Oe;Oe|=2;var m=Hm(),y=Fm();(ze!==n||De!==i)&&(Bl=null,oa(n,i)),i=!1;var b=Xe;e:do try{if(Ve!==0&&Ee!==null){var w=Ee,A=Rt;switch(Ve){case 8:wu(),b=6;break e;case 3:case 2:case 9:case 6:Pt.current===null&&(i=!0);var O=Ve;if(Ve=0,Rt=null,ra(n,w,A,O),l&&ia){b=0;break e}break;default:O=Ve,Ve=0,Rt=null,ra(n,w,A,O)}}xx(),b=Xe;break}catch(z){Gm(n,z)}while(!0);return i&&n.shellSuspendCounter++,mn=mi=null,Oe=r,j.H=m,j.A=y,Ee===null&&(ze=null,De=0,rl()),b}function xx(){for(;Ee!==null;)Ym(Ee)}function vx(n,i){var l=Oe;Oe|=2;var r=Hm(),m=Fm();ze!==n||De!==i?(Bl=null,Vl=Kt()+500,oa(n,i)):ia=Da(n,i);e:do try{if(Ve!==0&&Ee!==null){i=Ee;var y=Rt;t:switch(Ve){case 1:Ve=0,Rt=null,ra(n,i,y,1);break;case 2:case 9:if(sf(y)){Ve=0,Rt=null,Jm(i);break}i=function(){Ve!==2&&Ve!==9||ze!==n||(Ve=7),tn(n)},y.then(i,i);break e;case 3:Ve=7;break e;case 4:Ve=5;break e;case 7:sf(y)?(Ve=0,Rt=null,Jm(i)):(Ve=0,Rt=null,ra(n,i,y,7));break;case 5:var b=null;switch(Ee.tag){case 26:b=Ee.memoizedState;case 5:case 27:var w=Ee;if(!b||Mh(b)){Ve=0,Rt=null;var A=w.sibling;if(A!==null)Ee=A;else{var O=w.return;O!==null?(Ee=O,$l(O)):Ee=null}break t}}Ve=0,Rt=null,ra(n,i,y,5);break;case 6:Ve=0,Rt=null,ra(n,i,y,6);break;case 8:wu(),Xe=6;break e;default:throw Error(s(462))}}bx();break}catch(z){Gm(n,z)}while(!0);return mn=mi=null,j.H=r,j.A=m,Oe=l,Ee!==null?0:(ze=null,De=0,rl(),Xe)}function bx(){for(;Ee!==null&&!q0();)Ym(Ee)}function Ym(n){var i=bm(n.alternate,n,Cn);n.memoizedProps=n.pendingProps,i===null?$l(n):Ee=i}function Jm(n){var i=n,l=i.alternate;switch(i.tag){case 15:case 0:i=hm(l,i,i.pendingProps,i.type,void 0,De);break;case 11:i=hm(l,i,i.pendingProps,i.type.render,i.ref,De);break;case 5:$r(i);default:Tm(l,i),i=Ee=Jd(i,Cn),i=bm(l,i,Cn)}n.memoizedProps=n.pendingProps,i===null?$l(n):Ee=i}function ra(n,i,l,r){mn=mi=null,$r(i),Wi=null,ls=0;var m=i.return;try{if(ux(n,m,i,l,De)){Xe=1,Dl(n,Ut(l,n.current)),Ee=null;return}}catch(y){if(m!==null)throw Ee=m,y;Xe=1,Dl(n,Ut(l,n.current)),Ee=null;return}i.flags&32768?(Le||r===1?n=!0:ia||(De&536870912)!==0?n=!1:($n=n=!0,(r===2||r===9||r===3||r===6)&&(r=Pt.current,r!==null&&r.tag===13&&(r.flags|=16384))),Zm(i,n)):$l(i)}function $l(n){var i=n;do{if((i.flags&32768)!==0){Zm(i,$n);return}n=i.return;var l=dx(i.alternate,i,Cn);if(l!==null){Ee=l;return}if(i=i.sibling,i!==null){Ee=i;return}Ee=i=n}while(i!==null);Xe===0&&(Xe=5)}function Zm(n,i){do{var l=fx(n.alternate,n);if(l!==null){l.flags&=32767,Ee=l;return}if(l=n.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(n=n.sibling,n!==null)){Ee=n;return}Ee=n=l}while(n!==null);Xe=6,Ee=null}function Km(n,i,l,r,m,y,b,w,A){n.cancelPendingCommit=null;do ql();while(ft!==0);if((Oe&6)!==0)throw Error(s(327));if(i!==null){if(i===n.current)throw Error(s(177));if(y=i.lanes|i.childLanes,y|=gr,X0(n,l,y,b,w,A),n===ze&&(Ee=ze=null,De=0),sa=i,Gn=n,la=l,Cu=y,Tu=m,Pm=r,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,wx(Ys,function(){return th(),null})):(n.callbackNode=null,n.callbackPriority=0),r=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||r){r=j.T,j.T=null,m=K.p,K.p=2,b=Oe,Oe|=4;try{mx(n,i,l)}finally{Oe=b,K.p=m,j.T=r}}ft=1,Qm(),Xm(),Wm()}}function Qm(){if(ft===1){ft=0;var n=Gn,i=sa,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=j.T,j.T=null;var r=K.p;K.p=2;var m=Oe;Oe|=4;try{Im(i,n);var y=Vu,b=Vd(n.containerInfo),w=y.focusedElem,A=y.selectionRange;if(b!==w&&w&&w.ownerDocument&&Od(w.ownerDocument.documentElement,w)){if(A!==null&&dr(w)){var O=A.start,z=A.end;if(z===void 0&&(z=O),"selectionStart"in w)w.selectionStart=O,w.selectionEnd=Math.min(z,w.value.length);else{var Y=w.ownerDocument||document,B=Y&&Y.defaultView||window;if(B.getSelection){var P=B.getSelection(),xe=w.textContent.length,pe=Math.min(A.start,xe),$e=A.end===void 0?pe:Math.min(A.end,xe);!P.extend&&pe>$e&&(b=$e,$e=pe,pe=b);var D=Ud(w,pe),R=Ud(w,$e);if(D&&R&&(P.rangeCount!==1||P.anchorNode!==D.node||P.anchorOffset!==D.offset||P.focusNode!==R.node||P.focusOffset!==R.offset)){var L=Y.createRange();L.setStart(D.node,D.offset),P.removeAllRanges(),pe>$e?(P.addRange(L),P.extend(R.node,R.offset)):(L.setEnd(R.node,R.offset),P.addRange(L))}}}}for(Y=[],P=w;P=P.parentNode;)P.nodeType===1&&Y.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<Y.length;w++){var H=Y[w];H.element.scrollLeft=H.left,H.element.scrollTop=H.top}}eo=!!Ou,Vu=Ou=null}finally{Oe=m,K.p=r,j.T=l}}n.current=i,ft=2}}function Xm(){if(ft===2){ft=0;var n=Gn,i=sa,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=j.T,j.T=null;var r=K.p;K.p=2;var m=Oe;Oe|=4;try{Mm(n,i.alternate,i)}finally{Oe=m,K.p=r,j.T=l}}ft=3}}function Wm(){if(ft===4||ft===3){ft=0,z0();var n=Gn,i=sa,l=la,r=Pm;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?ft=5:(ft=0,sa=Gn=null,eh(n,n.pendingLanes));var m=n.pendingLanes;if(m===0&&(zn=null),Go(l),i=i.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(Ra,i,void 0,(i.current.flags&128)===128)}catch{}if(r!==null){i=j.T,m=K.p,K.p=2,j.T=null;try{for(var y=n.onRecoverableError,b=0;b<r.length;b++){var w=r[b];y(w.value,{componentStack:w.stack})}}finally{j.T=i,K.p=m}}(la&3)!==0&&ql(),tn(n),m=n.pendingLanes,(l&4194090)!==0&&(m&42)!==0?n===Su?ps++:(ps=0,Su=n):ps=0,gs(0)}}function eh(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Za(i)))}function ql(n){return Qm(),Xm(),Wm(),th()}function th(){if(ft!==5)return!1;var n=Gn,i=Cu;Cu=0;var l=Go(la),r=j.T,m=K.p;try{K.p=32>l?32:l,j.T=null,l=Tu,Tu=null;var y=Gn,b=la;if(ft=0,sa=Gn=null,la=0,(Oe&6)!==0)throw Error(s(331));var w=Oe;if(Oe|=4,Vm(y.current),Lm(y,y.current,b,l),Oe=w,gs(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(Ra,y)}catch{}return!0}finally{K.p=m,j.T=r,eh(n,i)}}function nh(n,i,l){i=Ut(l,i),i=tu(n.stateNode,i,2),n=jn(n,i,2),n!==null&&(Ia(n,2),tn(n))}function qe(n,i,l){if(n.tag===3)nh(n,n,l);else for(;i!==null;){if(i.tag===3){nh(i,n,l);break}else if(i.tag===1){var r=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zn===null||!zn.has(r))){n=Ut(l,n),l=lm(2),r=jn(i,l,2),r!==null&&(om(l,r,i,n),Ia(r,2),tn(r));break}}i=i.return}}function Eu(n,i,l){var r=n.pingCache;if(r===null){r=n.pingCache=new gx;var m=new Set;r.set(i,m)}else m=r.get(i),m===void 0&&(m=new Set,r.set(i,m));m.has(l)||(yu=!0,m.add(l),n=Cx.bind(null,n,i,l),i.then(n,n))}function Cx(n,i,l){var r=n.pingCache;r!==null&&r.delete(i),n.pingedLanes|=n.suspendedLanes&l,n.warmLanes&=~l,ze===n&&(De&l)===l&&(Xe===4||Xe===3&&(De&62914560)===De&&300>Kt()-bu?(Oe&2)===0&&oa(n,0):xu|=l,aa===De&&(aa=0)),tn(n)}function ih(n,i){i===0&&(i=Xc()),n=zi(n,i),n!==null&&(Ia(n,i),tn(n))}function Tx(n){var i=n.memoizedState,l=0;i!==null&&(l=i.retryLane),ih(n,l)}function Sx(n,i){var l=0;switch(n.tag){case 13:var r=n.stateNode,m=n.memoizedState;m!==null&&(l=m.retryLane);break;case 19:r=n.stateNode;break;case 22:r=n.stateNode._retryCache;break;default:throw Error(s(314))}r!==null&&r.delete(i),ih(n,l)}function wx(n,i){return Po(n,i)}var zl=null,ua=null,Au=!1,Gl=!1,Mu=!1,bi=0;function tn(n){n!==ua&&n.next===null&&(ua===null?zl=ua=n:ua=ua.next=n),Gl=!0,Au||(Au=!0,_x())}function gs(n,i){if(!Mu&&Gl){Mu=!0;do for(var l=!1,r=zl;r!==null;){if(n!==0){var m=r.pendingLanes;if(m===0)var y=0;else{var b=r.suspendedLanes,w=r.pingedLanes;y=(1<<31-_t(42|n)+1)-1,y&=m&~(b&~w),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(l=!0,oh(r,y))}else y=De,y=Ks(r,r===ze?y:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(y&3)===0||Da(r,y)||(l=!0,oh(r,y));r=r.next}while(l);Mu=!1}}function Nx(){ah()}function ah(){Gl=Au=!1;var n=0;bi!==0&&(jx()&&(n=bi),bi=0);for(var i=Kt(),l=null,r=zl;r!==null;){var m=r.next,y=sh(r,i);y===0?(r.next=null,l===null?zl=m:l.next=m,m===null&&(ua=l)):(l=r,(n!==0||(y&3)!==0)&&(Gl=!0)),r=m}gs(n)}function sh(n,i){for(var l=n.suspendedLanes,r=n.pingedLanes,m=n.expirationTimes,y=n.pendingLanes&-62914561;0<y;){var b=31-_t(y),w=1<<b,A=m[b];A===-1?((w&l)===0||(w&r)!==0)&&(m[b]=Q0(w,i)):A<=i&&(n.expiredLanes|=w),y&=~w}if(i=ze,l=De,l=Ks(n,n===i?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),r=n.callbackNode,l===0||n===i&&(Ve===2||Ve===9)||n.cancelPendingCommit!==null)return r!==null&&r!==null&&$o(r),n.callbackNode=null,n.callbackPriority=0;if((l&3)===0||Da(n,l)){if(i=l&-l,i===n.callbackPriority)return i;switch(r!==null&&$o(r),Go(l)){case 2:case 8:l=Zc;break;case 32:l=Ys;break;case 268435456:l=Kc;break;default:l=Ys}return r=lh.bind(null,n),l=Po(l,r),n.callbackPriority=i,n.callbackNode=l,i}return r!==null&&r!==null&&$o(r),n.callbackPriority=2,n.callbackNode=null,2}function lh(n,i){if(ft!==0&&ft!==5)return n.callbackNode=null,n.callbackPriority=0,null;var l=n.callbackNode;if(ql()&&n.callbackNode!==l)return null;var r=De;return r=Ks(n,n===ze?r:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),r===0?null:(qm(n,r,i),sh(n,Kt()),n.callbackNode!=null&&n.callbackNode===l?lh.bind(null,n):null)}function oh(n,i){if(ql())return null;qm(n,i,!0)}function _x(){Ux(function(){(Oe&6)!==0?Po(Jc,Nx):ah()})}function ku(){return bi===0&&(bi=Qc()),bi}function rh(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:tl(""+n)}function uh(n,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,n.id&&l.setAttribute("form",n.id),i.parentNode.insertBefore(l,i),n=new FormData(n),l.parentNode.removeChild(l),n}function Ex(n,i,l,r,m){if(i==="submit"&&l&&l.stateNode===m){var y=rh((m[bt]||null).action),b=r.submitter;b&&(i=(i=b[bt]||null)?rh(i.formAction):b.getAttribute("formAction"),i!==null&&(y=i,b=null));var w=new sl("action","action",null,r,m);n.push({event:w,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(bi!==0){var A=b?uh(m,b):new FormData(m);Kr(l,{pending:!0,data:A,method:m.method,action:y},null,A)}}else typeof y=="function"&&(w.preventDefault(),A=b?uh(m,b):new FormData(m),Kr(l,{pending:!0,data:A,method:m.method,action:y},y,A))},currentTarget:m}]})}}for(var Ru=0;Ru<pr.length;Ru++){var Du=pr[Ru],Ax=Du.toLowerCase(),Mx=Du[0].toUpperCase()+Du.slice(1);Gt(Ax,"on"+Mx)}Gt($d,"onAnimationEnd"),Gt(qd,"onAnimationIteration"),Gt(zd,"onAnimationStart"),Gt("dblclick","onDoubleClick"),Gt("focusin","onFocus"),Gt("focusout","onBlur"),Gt(Fy,"onTransitionRun"),Gt(Yy,"onTransitionStart"),Gt(Jy,"onTransitionCancel"),Gt(Gd,"onTransitionEnd"),Ii("onMouseEnter",["mouseout","mouseover"]),Ii("onMouseLeave",["mouseout","mouseover"]),Ii("onPointerEnter",["pointerout","pointerover"]),Ii("onPointerLeave",["pointerout","pointerover"]),ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ys="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ys));function ch(n,i){i=(i&4)!==0;for(var l=0;l<n.length;l++){var r=n[l],m=r.event;r=r.listeners;e:{var y=void 0;if(i)for(var b=r.length-1;0<=b;b--){var w=r[b],A=w.instance,O=w.currentTarget;if(w=w.listener,A!==y&&m.isPropagationStopped())break e;y=w,m.currentTarget=O;try{y(m)}catch(z){Rl(z)}m.currentTarget=null,y=A}else for(b=0;b<r.length;b++){if(w=r[b],A=w.instance,O=w.currentTarget,w=w.listener,A!==y&&m.isPropagationStopped())break e;y=w,m.currentTarget=O;try{y(m)}catch(z){Rl(z)}m.currentTarget=null,y=A}}}}function Ae(n,i){var l=i[Ho];l===void 0&&(l=i[Ho]=new Set);var r=n+"__bubble";l.has(r)||(dh(i,n,2,!1),l.add(r))}function Iu(n,i,l){var r=0;i&&(r|=4),dh(l,n,r,i)}var Hl="_reactListening"+Math.random().toString(36).slice(2);function ju(n){if(!n[Hl]){n[Hl]=!0,id.forEach(function(l){l!=="selectionchange"&&(kx.has(l)||Iu(l,!1,n),Iu(l,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Hl]||(i[Hl]=!0,Iu("selectionchange",!1,i))}}function dh(n,i,l,r){switch(Lh(i)){case 2:var m=iv;break;case 8:m=av;break;default:m=Ju}l=m.bind(null,i,l,n),m=void 0,!nr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(m=!0),r?m!==void 0?n.addEventListener(i,l,{capture:!0,passive:m}):n.addEventListener(i,l,!0):m!==void 0?n.addEventListener(i,l,{passive:m}):n.addEventListener(i,l,!1)}function Lu(n,i,l,r,m){var y=r;if((i&1)===0&&(i&2)===0&&r!==null)e:for(;;){if(r===null)return;var b=r.tag;if(b===3||b===4){var w=r.stateNode.containerInfo;if(w===m)break;if(b===4)for(b=r.return;b!==null;){var A=b.tag;if((A===3||A===4)&&b.stateNode.containerInfo===m)return;b=b.return}for(;w!==null;){if(b=ki(w),b===null)return;if(A=b.tag,A===5||A===6||A===26||A===27){r=y=b;continue e}w=w.parentNode}}r=r.return}yd(function(){var O=y,z=er(l),Y=[];e:{var B=Hd.get(n);if(B!==void 0){var P=sl,xe=n;switch(n){case"keypress":if(il(l)===0)break e;case"keydown":case"keyup":P=wy;break;case"focusin":xe="focus",P=lr;break;case"focusout":xe="blur",P=lr;break;case"beforeblur":case"afterblur":P=lr;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=fy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=Ey;break;case $d:case qd:case zd:P=py;break;case Gd:P=My;break;case"scroll":case"scrollend":P=cy;break;case"wheel":P=Ry;break;case"copy":case"cut":case"paste":P=yy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=Td;break;case"toggle":case"beforetoggle":P=Iy}var pe=(i&4)!==0,$e=!pe&&(n==="scroll"||n==="scrollend"),D=pe?B!==null?B+"Capture":null:B;pe=[];for(var R=O,L;R!==null;){var H=R;if(L=H.stateNode,H=H.tag,H!==5&&H!==26&&H!==27||L===null||D===null||(H=Ua(R,D),H!=null&&pe.push(xs(R,H,L))),$e)break;R=R.return}0<pe.length&&(B=new P(B,xe,null,l,z),Y.push({event:B,listeners:pe}))}}if((i&7)===0){e:{if(B=n==="mouseover"||n==="pointerover",P=n==="mouseout"||n==="pointerout",B&&l!==Wo&&(xe=l.relatedTarget||l.fromElement)&&(ki(xe)||xe[Mi]))break e;if((P||B)&&(B=z.window===z?z:(B=z.ownerDocument)?B.defaultView||B.parentWindow:window,P?(xe=l.relatedTarget||l.toElement,P=O,xe=xe?ki(xe):null,xe!==null&&($e=u(xe),pe=xe.tag,xe!==$e||pe!==5&&pe!==27&&pe!==6)&&(xe=null)):(P=null,xe=O),P!==xe)){if(pe=bd,H="onMouseLeave",D="onMouseEnter",R="mouse",(n==="pointerout"||n==="pointerover")&&(pe=Td,H="onPointerLeave",D="onPointerEnter",R="pointer"),$e=P==null?B:La(P),L=xe==null?B:La(xe),B=new pe(H,R+"leave",P,l,z),B.target=$e,B.relatedTarget=L,H=null,ki(z)===O&&(pe=new pe(D,R+"enter",xe,l,z),pe.target=L,pe.relatedTarget=$e,H=pe),$e=H,P&&xe)t:{for(pe=P,D=xe,R=0,L=pe;L;L=ca(L))R++;for(L=0,H=D;H;H=ca(H))L++;for(;0<R-L;)pe=ca(pe),R--;for(;0<L-R;)D=ca(D),L--;for(;R--;){if(pe===D||D!==null&&pe===D.alternate)break t;pe=ca(pe),D=ca(D)}pe=null}else pe=null;P!==null&&fh(Y,B,P,pe,!1),xe!==null&&$e!==null&&fh(Y,$e,xe,pe,!0)}}e:{if(B=O?La(O):window,P=B.nodeName&&B.nodeName.toLowerCase(),P==="select"||P==="input"&&B.type==="file")var ue=kd;else if(Ad(B))if(Rd)ue=zy;else{ue=$y;var Ne=Py}else P=B.nodeName,!P||P.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?O&&Xo(O.elementType)&&(ue=kd):ue=qy;if(ue&&(ue=ue(n,O))){Md(Y,ue,l,z);break e}Ne&&Ne(n,B,O),n==="focusout"&&O&&B.type==="number"&&O.memoizedProps.value!=null&&Qo(B,"number",B.value)}switch(Ne=O?La(O):window,n){case"focusin":(Ad(Ne)||Ne.contentEditable==="true")&&(Pi=Ne,fr=O,Ga=null);break;case"focusout":Ga=fr=Pi=null;break;case"mousedown":mr=!0;break;case"contextmenu":case"mouseup":case"dragend":mr=!1,Bd(Y,l,z);break;case"selectionchange":if(Hy)break;case"keydown":case"keyup":Bd(Y,l,z)}var me;if(rr)e:{switch(n){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else Bi?_d(n,l)&&(ye="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(ye="onCompositionStart");ye&&(Sd&&l.locale!=="ko"&&(Bi||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&Bi&&(me=xd()):(kn=z,ir="value"in kn?kn.value:kn.textContent,Bi=!0)),Ne=Fl(O,ye),0<Ne.length&&(ye=new Cd(ye,n,null,l,z),Y.push({event:ye,listeners:Ne}),me?ye.data=me:(me=Ed(l),me!==null&&(ye.data=me)))),(me=Ly?Uy(n,l):Oy(n,l))&&(ye=Fl(O,"onBeforeInput"),0<ye.length&&(Ne=new Cd("onBeforeInput","beforeinput",null,l,z),Y.push({event:Ne,listeners:ye}),Ne.data=me)),Ex(Y,n,O,l,z)}ch(Y,i)})}function xs(n,i,l){return{instance:n,listener:i,currentTarget:l}}function Fl(n,i){for(var l=i+"Capture",r=[];n!==null;){var m=n,y=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=Ua(n,l),m!=null&&r.unshift(xs(n,m,y)),m=Ua(n,i),m!=null&&r.push(xs(n,m,y))),n.tag===3)return r;n=n.return}return[]}function ca(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function fh(n,i,l,r,m){for(var y=i._reactName,b=[];l!==null&&l!==r;){var w=l,A=w.alternate,O=w.stateNode;if(w=w.tag,A!==null&&A===r)break;w!==5&&w!==26&&w!==27||O===null||(A=O,m?(O=Ua(l,y),O!=null&&b.unshift(xs(l,O,A))):m||(O=Ua(l,y),O!=null&&b.push(xs(l,O,A)))),l=l.return}b.length!==0&&n.push({event:i,listeners:b})}var Rx=/\r\n?/g,Dx=/\u0000|\uFFFD/g;function mh(n){return(typeof n=="string"?n:""+n).replace(Rx,`
`).replace(Dx,"")}function hh(n,i){return i=mh(i),mh(n)===i}function Yl(){}function Pe(n,i,l,r,m,y){switch(l){case"children":typeof r=="string"?i==="body"||i==="textarea"&&r===""||Ui(n,r):(typeof r=="number"||typeof r=="bigint")&&i!=="body"&&Ui(n,""+r);break;case"className":Xs(n,"class",r);break;case"tabIndex":Xs(n,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Xs(n,l,r);break;case"style":pd(n,r,y);break;case"data":if(i!=="object"){Xs(n,"data",r);break}case"src":case"href":if(r===""&&(i!=="a"||l!=="href")){n.removeAttribute(l);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){n.removeAttribute(l);break}r=tl(""+r),n.setAttribute(l,r);break;case"action":case"formAction":if(typeof r=="function"){n.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(l==="formAction"?(i!=="input"&&Pe(n,i,"name",m.name,m,null),Pe(n,i,"formEncType",m.formEncType,m,null),Pe(n,i,"formMethod",m.formMethod,m,null),Pe(n,i,"formTarget",m.formTarget,m,null)):(Pe(n,i,"encType",m.encType,m,null),Pe(n,i,"method",m.method,m,null),Pe(n,i,"target",m.target,m,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){n.removeAttribute(l);break}r=tl(""+r),n.setAttribute(l,r);break;case"onClick":r!=null&&(n.onclick=Yl);break;case"onScroll":r!=null&&Ae("scroll",n);break;case"onScrollEnd":r!=null&&Ae("scrollend",n);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(s(61));if(l=r.__html,l!=null){if(m.children!=null)throw Error(s(60));n.innerHTML=l}}break;case"multiple":n.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":n.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){n.removeAttribute("xlink:href");break}l=tl(""+r),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?n.setAttribute(l,""+r):n.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?n.setAttribute(l,""):n.removeAttribute(l);break;case"capture":case"download":r===!0?n.setAttribute(l,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?n.setAttribute(l,r):n.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?n.setAttribute(l,r):n.removeAttribute(l);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?n.removeAttribute(l):n.setAttribute(l,r);break;case"popover":Ae("beforetoggle",n),Ae("toggle",n),Qs(n,"popover",r);break;case"xlinkActuate":rn(n,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rn(n,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rn(n,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rn(n,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rn(n,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rn(n,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rn(n,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Qs(n,"is",r);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=ry.get(l)||l,Qs(n,l,r))}}function Uu(n,i,l,r,m,y){switch(l){case"style":pd(n,r,y);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(s(61));if(l=r.__html,l!=null){if(m.children!=null)throw Error(s(60));n.innerHTML=l}}break;case"children":typeof r=="string"?Ui(n,r):(typeof r=="number"||typeof r=="bigint")&&Ui(n,""+r);break;case"onScroll":r!=null&&Ae("scroll",n);break;case"onScrollEnd":r!=null&&Ae("scrollend",n);break;case"onClick":r!=null&&(n.onclick=Yl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ad.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),i=l.slice(2,m?l.length-7:void 0),y=n[bt]||null,y=y!=null?y[l]:null,typeof y=="function"&&n.removeEventListener(i,y,m),typeof r=="function")){typeof y!="function"&&y!==null&&(l in n?n[l]=null:n.hasAttribute(l)&&n.removeAttribute(l)),n.addEventListener(i,r,m);break e}l in n?n[l]=r:r===!0?n.setAttribute(l,""):Qs(n,l,r)}}}function mt(n,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ae("error",n),Ae("load",n);var r=!1,m=!1,y;for(y in l)if(l.hasOwnProperty(y)){var b=l[y];if(b!=null)switch(y){case"src":r=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Pe(n,i,y,b,l,null)}}m&&Pe(n,i,"srcSet",l.srcSet,l,null),r&&Pe(n,i,"src",l.src,l,null);return;case"input":Ae("invalid",n);var w=y=b=m=null,A=null,O=null;for(r in l)if(l.hasOwnProperty(r)){var z=l[r];if(z!=null)switch(r){case"name":m=z;break;case"type":b=z;break;case"checked":A=z;break;case"defaultChecked":O=z;break;case"value":y=z;break;case"defaultValue":w=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,i));break;default:Pe(n,i,r,z,l,null)}}dd(n,y,w,A,O,b,m,!1),Ws(n);return;case"select":Ae("invalid",n),r=b=y=null;for(m in l)if(l.hasOwnProperty(m)&&(w=l[m],w!=null))switch(m){case"value":y=w;break;case"defaultValue":b=w;break;case"multiple":r=w;default:Pe(n,i,m,w,l,null)}i=y,l=b,n.multiple=!!r,i!=null?Li(n,!!r,i,!1):l!=null&&Li(n,!!r,l,!0);return;case"textarea":Ae("invalid",n),y=m=r=null;for(b in l)if(l.hasOwnProperty(b)&&(w=l[b],w!=null))switch(b){case"value":r=w;break;case"defaultValue":m=w;break;case"children":y=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:Pe(n,i,b,w,l,null)}md(n,r,m,y),Ws(n);return;case"option":for(A in l)if(l.hasOwnProperty(A)&&(r=l[A],r!=null))switch(A){case"selected":n.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Pe(n,i,A,r,l,null)}return;case"dialog":Ae("beforetoggle",n),Ae("toggle",n),Ae("cancel",n),Ae("close",n);break;case"iframe":case"object":Ae("load",n);break;case"video":case"audio":for(r=0;r<ys.length;r++)Ae(ys[r],n);break;case"image":Ae("error",n),Ae("load",n);break;case"details":Ae("toggle",n);break;case"embed":case"source":case"link":Ae("error",n),Ae("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in l)if(l.hasOwnProperty(O)&&(r=l[O],r!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Pe(n,i,O,r,l,null)}return;default:if(Xo(i)){for(z in l)l.hasOwnProperty(z)&&(r=l[z],r!==void 0&&Uu(n,i,z,r,l,void 0));return}}for(w in l)l.hasOwnProperty(w)&&(r=l[w],r!=null&&Pe(n,i,w,r,l,null))}function Ix(n,i,l,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,b=null,w=null,A=null,O=null,z=null;for(P in l){var Y=l[P];if(l.hasOwnProperty(P)&&Y!=null)switch(P){case"checked":break;case"value":break;case"defaultValue":A=Y;default:r.hasOwnProperty(P)||Pe(n,i,P,null,r,Y)}}for(var B in r){var P=r[B];if(Y=l[B],r.hasOwnProperty(B)&&(P!=null||Y!=null))switch(B){case"type":y=P;break;case"name":m=P;break;case"checked":O=P;break;case"defaultChecked":z=P;break;case"value":b=P;break;case"defaultValue":w=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(137,i));break;default:P!==Y&&Pe(n,i,B,P,r,Y)}}Ko(n,b,w,A,O,z,y,m);return;case"select":P=b=w=B=null;for(y in l)if(A=l[y],l.hasOwnProperty(y)&&A!=null)switch(y){case"value":break;case"multiple":P=A;default:r.hasOwnProperty(y)||Pe(n,i,y,null,r,A)}for(m in r)if(y=r[m],A=l[m],r.hasOwnProperty(m)&&(y!=null||A!=null))switch(m){case"value":B=y;break;case"defaultValue":w=y;break;case"multiple":b=y;default:y!==A&&Pe(n,i,m,y,r,A)}i=w,l=b,r=P,B!=null?Li(n,!!l,B,!1):!!r!=!!l&&(i!=null?Li(n,!!l,i,!0):Li(n,!!l,l?[]:"",!1));return;case"textarea":P=B=null;for(w in l)if(m=l[w],l.hasOwnProperty(w)&&m!=null&&!r.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Pe(n,i,w,null,r,m)}for(b in r)if(m=r[b],y=l[b],r.hasOwnProperty(b)&&(m!=null||y!=null))switch(b){case"value":B=m;break;case"defaultValue":P=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:m!==y&&Pe(n,i,b,m,r,y)}fd(n,B,P);return;case"option":for(var xe in l)if(B=l[xe],l.hasOwnProperty(xe)&&B!=null&&!r.hasOwnProperty(xe))switch(xe){case"selected":n.selected=!1;break;default:Pe(n,i,xe,null,r,B)}for(A in r)if(B=r[A],P=l[A],r.hasOwnProperty(A)&&B!==P&&(B!=null||P!=null))switch(A){case"selected":n.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Pe(n,i,A,B,r,P)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in l)B=l[pe],l.hasOwnProperty(pe)&&B!=null&&!r.hasOwnProperty(pe)&&Pe(n,i,pe,null,r,B);for(O in r)if(B=r[O],P=l[O],r.hasOwnProperty(O)&&B!==P&&(B!=null||P!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:Pe(n,i,O,B,r,P)}return;default:if(Xo(i)){for(var $e in l)B=l[$e],l.hasOwnProperty($e)&&B!==void 0&&!r.hasOwnProperty($e)&&Uu(n,i,$e,void 0,r,B);for(z in r)B=r[z],P=l[z],!r.hasOwnProperty(z)||B===P||B===void 0&&P===void 0||Uu(n,i,z,B,r,P);return}}for(var D in l)B=l[D],l.hasOwnProperty(D)&&B!=null&&!r.hasOwnProperty(D)&&Pe(n,i,D,null,r,B);for(Y in r)B=r[Y],P=l[Y],!r.hasOwnProperty(Y)||B===P||B==null&&P==null||Pe(n,i,Y,B,r,P)}var Ou=null,Vu=null;function Jl(n){return n.nodeType===9?n:n.ownerDocument}function ph(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gh(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function Bu(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Pu=null;function jx(){var n=window.event;return n&&n.type==="popstate"?n===Pu?!1:(Pu=n,!0):(Pu=null,!1)}var yh=typeof setTimeout=="function"?setTimeout:void 0,Lx=typeof clearTimeout=="function"?clearTimeout:void 0,xh=typeof Promise=="function"?Promise:void 0,Ux=typeof queueMicrotask=="function"?queueMicrotask:typeof xh<"u"?function(n){return xh.resolve(null).then(n).catch(Ox)}:yh;function Ox(n){setTimeout(function(){throw n})}function Fn(n){return n==="head"}function vh(n,i){var l=i,r=0,m=0;do{var y=l.nextSibling;if(n.removeChild(l),y&&y.nodeType===8)if(l=y.data,l==="/$"){if(0<r&&8>r){l=r;var b=n.ownerDocument;if(l&1&&vs(b.documentElement),l&2&&vs(b.body),l&4)for(l=b.head,vs(l),b=l.firstChild;b;){var w=b.nextSibling,A=b.nodeName;b[ja]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&b.rel.toLowerCase()==="stylesheet"||l.removeChild(b),b=w}}if(m===0){n.removeChild(y),Es(i);return}m--}else l==="$"||l==="$?"||l==="$!"?m++:r=l.charCodeAt(0)-48;else r=0;l=y}while(l);Es(i)}function $u(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":$u(l),Fo(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}n.removeChild(l)}}function Vx(n,i,l,r){for(;n.nodeType===1;){var m=l;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!r&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(r){if(!n[ja])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(y=n.getAttribute("rel"),y==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(y!==m.rel||n.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||n.getAttribute("title")!==(m.title==null?null:m.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(y=n.getAttribute("src"),(y!==(m.src==null?null:m.src)||n.getAttribute("type")!==(m.type==null?null:m.type)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&n.getAttribute("name")===y)return n}else return n;if(n=Ft(n.nextSibling),n===null)break}return null}function Bx(n,i,l){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=Ft(n.nextSibling),n===null))return null;return n}function qu(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function Px(n,i){var l=n.ownerDocument;if(n.data!=="$?"||l.readyState==="complete")i();else{var r=function(){i(),l.removeEventListener("DOMContentLoaded",r)};l.addEventListener("DOMContentLoaded",r),n._reactRetry=r}}function Ft(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var zu=null;function bh(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(i===0)return n;i--}else l==="/$"&&i++}n=n.previousSibling}return null}function Ch(n,i,l){switch(i=Jl(l),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function vs(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Fo(n)}var qt=new Map,Th=new Set;function Zl(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Tn=K.d;K.d={f:$x,r:qx,D:zx,C:Gx,L:Hx,m:Fx,X:Jx,S:Yx,M:Zx};function $x(){var n=Tn.f(),i=Pl();return n||i}function qx(n){var i=Ri(n);i!==null&&i.tag===5&&i.type==="form"?qf(i):Tn.r(n)}var da=typeof document>"u"?null:document;function Sh(n,i,l){var r=da;if(r&&typeof i=="string"&&i){var m=Lt(i);m='link[rel="'+n+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),Th.has(m)||(Th.add(m),n={rel:n,crossOrigin:l,href:i},r.querySelector(m)===null&&(i=r.createElement("link"),mt(i,"link",n),ot(i),r.head.appendChild(i)))}}function zx(n){Tn.D(n),Sh("dns-prefetch",n,null)}function Gx(n,i){Tn.C(n,i),Sh("preconnect",n,i)}function Hx(n,i,l){Tn.L(n,i,l);var r=da;if(r&&n&&i){var m='link[rel="preload"][as="'+Lt(i)+'"]';i==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+Lt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+Lt(l.imageSizes)+'"]')):m+='[href="'+Lt(n)+'"]';var y=m;switch(i){case"style":y=fa(n);break;case"script":y=ma(n)}qt.has(y)||(n=v({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:n,as:i},l),qt.set(y,n),r.querySelector(m)!==null||i==="style"&&r.querySelector(bs(y))||i==="script"&&r.querySelector(Cs(y))||(i=r.createElement("link"),mt(i,"link",n),ot(i),r.head.appendChild(i)))}}function Fx(n,i){Tn.m(n,i);var l=da;if(l&&n){var r=i&&typeof i.as=="string"?i.as:"script",m='link[rel="modulepreload"][as="'+Lt(r)+'"][href="'+Lt(n)+'"]',y=m;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=ma(n)}if(!qt.has(y)&&(n=v({rel:"modulepreload",href:n},i),qt.set(y,n),l.querySelector(m)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Cs(y)))return}r=l.createElement("link"),mt(r,"link",n),ot(r),l.head.appendChild(r)}}}function Yx(n,i,l){Tn.S(n,i,l);var r=da;if(r&&n){var m=Di(r).hoistableStyles,y=fa(n);i=i||"default";var b=m.get(y);if(!b){var w={loading:0,preload:null};if(b=r.querySelector(bs(y)))w.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":i},l),(l=qt.get(y))&&Gu(n,l);var A=b=r.createElement("link");ot(A),mt(A,"link",n),A._p=new Promise(function(O,z){A.onload=O,A.onerror=z}),A.addEventListener("load",function(){w.loading|=1}),A.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Kl(b,i,r)}b={type:"stylesheet",instance:b,count:1,state:w},m.set(y,b)}}}function Jx(n,i){Tn.X(n,i);var l=da;if(l&&n){var r=Di(l).hoistableScripts,m=ma(n),y=r.get(m);y||(y=l.querySelector(Cs(m)),y||(n=v({src:n,async:!0},i),(i=qt.get(m))&&Hu(n,i),y=l.createElement("script"),ot(y),mt(y,"link",n),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},r.set(m,y))}}function Zx(n,i){Tn.M(n,i);var l=da;if(l&&n){var r=Di(l).hoistableScripts,m=ma(n),y=r.get(m);y||(y=l.querySelector(Cs(m)),y||(n=v({src:n,async:!0,type:"module"},i),(i=qt.get(m))&&Hu(n,i),y=l.createElement("script"),ot(y),mt(y,"link",n),l.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},r.set(m,y))}}function wh(n,i,l,r){var m=(m=G.current)?Zl(m):null;if(!m)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=fa(l.href),l=Di(m).hoistableStyles,r=l.get(i),r||(r={type:"style",instance:null,count:0,state:null},l.set(i,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){n=fa(l.href);var y=Di(m).hoistableStyles,b=y.get(n);if(b||(m=m.ownerDocument||m,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(n,b),(y=m.querySelector(bs(n)))&&!y._p&&(b.instance=y,b.state.loading=5),qt.has(n)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},qt.set(n,l),y||Kx(m,n,l,b.state))),i&&r===null)throw Error(s(528,""));return b}if(i&&r!==null)throw Error(s(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ma(l),l=Di(m).hoistableScripts,r=l.get(i),r||(r={type:"script",instance:null,count:0,state:null},l.set(i,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function fa(n){return'href="'+Lt(n)+'"'}function bs(n){return'link[rel="stylesheet"]['+n+"]"}function Nh(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function Kx(n,i,l,r){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?r.loading=1:(i=n.createElement("link"),r.preload=i,i.addEventListener("load",function(){return r.loading|=1}),i.addEventListener("error",function(){return r.loading|=2}),mt(i,"link",l),ot(i),n.head.appendChild(i))}function ma(n){return'[src="'+Lt(n)+'"]'}function Cs(n){return"script[async]"+n}function _h(n,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var r=n.querySelector('style[data-href~="'+Lt(l.href)+'"]');if(r)return i.instance=r,ot(r),r;var m=v({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return r=(n.ownerDocument||n).createElement("style"),ot(r),mt(r,"style",m),Kl(r,l.precedence,n),i.instance=r;case"stylesheet":m=fa(l.href);var y=n.querySelector(bs(m));if(y)return i.state.loading|=4,i.instance=y,ot(y),y;r=Nh(l),(m=qt.get(m))&&Gu(r,m),y=(n.ownerDocument||n).createElement("link"),ot(y);var b=y;return b._p=new Promise(function(w,A){b.onload=w,b.onerror=A}),mt(y,"link",r),i.state.loading|=4,Kl(y,l.precedence,n),i.instance=y;case"script":return y=ma(l.src),(m=n.querySelector(Cs(y)))?(i.instance=m,ot(m),m):(r=l,(m=qt.get(y))&&(r=v({},l),Hu(r,m)),n=n.ownerDocument||n,m=n.createElement("script"),ot(m),mt(m,"link",r),n.head.appendChild(m),i.instance=m);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(r=i.instance,i.state.loading|=4,Kl(r,l.precedence,n));return i.instance}function Kl(n,i,l){for(var r=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=r.length?r[r.length-1]:null,y=m,b=0;b<r.length;b++){var w=r[b];if(w.dataset.precedence===i)y=w;else if(y!==m)break}y?y.parentNode.insertBefore(n,y.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(n,i.firstChild))}function Gu(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Hu(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Ql=null;function Eh(n,i,l){if(Ql===null){var r=new Map,m=Ql=new Map;m.set(l,r)}else m=Ql,r=m.get(l),r||(r=new Map,m.set(l,r));if(r.has(n))return r;for(r.set(n,null),l=l.getElementsByTagName(n),m=0;m<l.length;m++){var y=l[m];if(!(y[ja]||y[ht]||n==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var b=y.getAttribute(i)||"";b=n+b;var w=r.get(b);w?w.push(y):r.set(b,[y])}}return r}function Ah(n,i,l){n=n.ownerDocument||n,n.head.insertBefore(l,i==="title"?n.querySelector("head > title"):null)}function Qx(n,i,l){if(l===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Mh(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Ts=null;function Xx(){}function Wx(n,i,l){if(Ts===null)throw Error(s(475));var r=Ts;if(i.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var m=fa(l.href),y=n.querySelector(bs(m));if(y){n=y._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(r.count++,r=Xl.bind(r),n.then(r,r)),i.state.loading|=4,i.instance=y,ot(y);return}y=n.ownerDocument||n,l=Nh(l),(m=qt.get(m))&&Gu(l,m),y=y.createElement("link"),ot(y);var b=y;b._p=new Promise(function(w,A){b.onload=w,b.onerror=A}),mt(y,"link",l),i.instance=y}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(r.count++,i=Xl.bind(r),n.addEventListener("load",i),n.addEventListener("error",i))}}function ev(){if(Ts===null)throw Error(s(475));var n=Ts;return n.stylesheets&&n.count===0&&Fu(n,n.stylesheets),0<n.count?function(i){var l=setTimeout(function(){if(n.stylesheets&&Fu(n,n.stylesheets),n.unsuspend){var r=n.unsuspend;n.unsuspend=null,r()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(l)}}:null}function Xl(){if(this.count--,this.count===0){if(this.stylesheets)Fu(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Wl=null;function Fu(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Wl=new Map,i.forEach(tv,n),Wl=null,Xl.call(n))}function tv(n,i){if(!(i.state.loading&4)){var l=Wl.get(n);if(l)var r=l.get(null);else{l=new Map,Wl.set(n,l);for(var m=n.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var b=m[y];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(l.set(b.dataset.precedence,b),r=b)}r&&l.set(null,r)}m=i.instance,b=m.getAttribute("data-precedence"),y=l.get(b)||r,y===r&&l.set(null,m),l.set(b,m),this.count++,r=Xl.bind(this),m.addEventListener("load",r),m.addEventListener("error",r),y?y.parentNode.insertBefore(m,y.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(m,n.firstChild)),i.state.loading|=4}}var Ss={$$typeof:U,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function nv(n,i,l,r,m,y,b,w){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qo(0),this.hiddenUpdates=qo(null),this.identifierPrefix=r,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function kh(n,i,l,r,m,y,b,w,A,O,z,Y){return n=new nv(n,i,l,b,w,A,O,Y),i=1,y===!0&&(i|=24),y=At(3,null,null,i),n.current=y,y.stateNode=n,i=Er(),i.refCount++,n.pooledCache=i,i.refCount++,y.memoizedState={element:r,isDehydrated:l,cache:i},Rr(y),n}function Rh(n){return n?(n=Gi,n):Gi}function Dh(n,i,l,r,m,y){m=Rh(m),r.context===null?r.context=m:r.pendingContext=m,r=In(i),r.payload={element:l},y=y===void 0?null:y,y!==null&&(r.callback=y),l=jn(n,r,i),l!==null&&(It(l,n,i),Wa(l,n,i))}function Ih(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<i?l:i}}function Yu(n,i){Ih(n,i),(n=n.alternate)&&Ih(n,i)}function jh(n){if(n.tag===13){var i=zi(n,67108864);i!==null&&It(i,n,67108864),Yu(n,67108864)}}var eo=!0;function iv(n,i,l,r){var m=j.T;j.T=null;var y=K.p;try{K.p=2,Ju(n,i,l,r)}finally{K.p=y,j.T=m}}function av(n,i,l,r){var m=j.T;j.T=null;var y=K.p;try{K.p=8,Ju(n,i,l,r)}finally{K.p=y,j.T=m}}function Ju(n,i,l,r){if(eo){var m=Zu(r);if(m===null)Lu(n,i,r,to,l),Uh(n,r);else if(lv(m,n,i,l,r))r.stopPropagation();else if(Uh(n,r),i&4&&-1<sv.indexOf(n)){for(;m!==null;){var y=Ri(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var b=ii(y.pendingLanes);if(b!==0){var w=y;for(w.pendingLanes|=2,w.entangledLanes|=2;b;){var A=1<<31-_t(b);w.entanglements[1]|=A,b&=~A}tn(y),(Oe&6)===0&&(Vl=Kt()+500,gs(0))}}break;case 13:w=zi(y,2),w!==null&&It(w,y,2),Pl(),Yu(y,2)}if(y=Zu(r),y===null&&Lu(n,i,r,to,l),y===m)break;m=y}m!==null&&r.stopPropagation()}else Lu(n,i,r,null,l)}}function Zu(n){return n=er(n),Ku(n)}var to=null;function Ku(n){if(to=null,n=ki(n),n!==null){var i=u(n);if(i===null)n=null;else{var l=i.tag;if(l===13){if(n=h(i),n!==null)return n;n=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return to=n,null}function Lh(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(G0()){case Jc:return 2;case Zc:return 8;case Ys:case H0:return 32;case Kc:return 268435456;default:return 32}default:return 32}}var Qu=!1,Yn=null,Jn=null,Zn=null,ws=new Map,Ns=new Map,Kn=[],sv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Uh(n,i){switch(n){case"focusin":case"focusout":Yn=null;break;case"dragenter":case"dragleave":Jn=null;break;case"mouseover":case"mouseout":Zn=null;break;case"pointerover":case"pointerout":ws.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ns.delete(i.pointerId)}}function _s(n,i,l,r,m,y){return n===null||n.nativeEvent!==y?(n={blockedOn:i,domEventName:l,eventSystemFlags:r,nativeEvent:y,targetContainers:[m]},i!==null&&(i=Ri(i),i!==null&&jh(i)),n):(n.eventSystemFlags|=r,i=n.targetContainers,m!==null&&i.indexOf(m)===-1&&i.push(m),n)}function lv(n,i,l,r,m){switch(i){case"focusin":return Yn=_s(Yn,n,i,l,r,m),!0;case"dragenter":return Jn=_s(Jn,n,i,l,r,m),!0;case"mouseover":return Zn=_s(Zn,n,i,l,r,m),!0;case"pointerover":var y=m.pointerId;return ws.set(y,_s(ws.get(y)||null,n,i,l,r,m)),!0;case"gotpointercapture":return y=m.pointerId,Ns.set(y,_s(Ns.get(y)||null,n,i,l,r,m)),!0}return!1}function Oh(n){var i=ki(n.target);if(i!==null){var l=u(i);if(l!==null){if(i=l.tag,i===13){if(i=h(l),i!==null){n.blockedOn=i,W0(n.priority,function(){if(l.tag===13){var r=Dt();r=zo(r);var m=zi(l,r);m!==null&&It(m,l,r),Yu(l,r)}});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function no(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var l=Zu(n.nativeEvent);if(l===null){l=n.nativeEvent;var r=new l.constructor(l.type,l);Wo=r,l.target.dispatchEvent(r),Wo=null}else return i=Ri(l),i!==null&&jh(i),n.blockedOn=l,!1;i.shift()}return!0}function Vh(n,i,l){no(n)&&l.delete(i)}function ov(){Qu=!1,Yn!==null&&no(Yn)&&(Yn=null),Jn!==null&&no(Jn)&&(Jn=null),Zn!==null&&no(Zn)&&(Zn=null),ws.forEach(Vh),Ns.forEach(Vh)}function io(n,i){n.blockedOn===i&&(n.blockedOn=null,Qu||(Qu=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ov)))}var ao=null;function Bh(n){ao!==n&&(ao=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){ao===n&&(ao=null);for(var i=0;i<n.length;i+=3){var l=n[i],r=n[i+1],m=n[i+2];if(typeof r!="function"){if(Ku(r||l)===null)continue;break}var y=Ri(l);y!==null&&(n.splice(i,3),i-=3,Kr(y,{pending:!0,data:m,method:l.method,action:r},r,m))}}))}function Es(n){function i(A){return io(A,n)}Yn!==null&&io(Yn,n),Jn!==null&&io(Jn,n),Zn!==null&&io(Zn,n),ws.forEach(i),Ns.forEach(i);for(var l=0;l<Kn.length;l++){var r=Kn[l];r.blockedOn===n&&(r.blockedOn=null)}for(;0<Kn.length&&(l=Kn[0],l.blockedOn===null);)Oh(l),l.blockedOn===null&&Kn.shift();if(l=(n.ownerDocument||n).$$reactFormReplay,l!=null)for(r=0;r<l.length;r+=3){var m=l[r],y=l[r+1],b=m[bt]||null;if(typeof y=="function")b||Bh(l);else if(b){var w=null;if(y&&y.hasAttribute("formAction")){if(m=y,b=y[bt]||null)w=b.formAction;else if(Ku(m)!==null)continue}else w=b.action;typeof w=="function"?l[r+1]=w:(l.splice(r,3),r-=3),Bh(l)}}}function Xu(n){this._internalRoot=n}so.prototype.render=Xu.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var l=i.current,r=Dt();Dh(l,r,n,i,null,null)},so.prototype.unmount=Xu.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;Dh(n.current,2,null,n,null,null),Pl(),i[Mi]=null}};function so(n){this._internalRoot=n}so.prototype.unstable_scheduleHydration=function(n){if(n){var i=td();n={blockedOn:null,target:n,priority:i};for(var l=0;l<Kn.length&&i!==0&&i<Kn[l].priority;l++);Kn.splice(l,0,n),l===0&&Oh(n)}};var Ph=e.version;if(Ph!=="19.1.0")throw Error(s(527,Ph,"19.1.0"));K.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=x(i),n=n!==null?p(n):null,n=n===null?null:n.stateNode,n};var rv={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lo.isDisabled&&lo.supportsFiber)try{Ra=lo.inject(rv),Nt=lo}catch{}}return Ms.createRoot=function(n,i){if(!o(n))throw Error(s(299));var l=!1,r="",m=nm,y=im,b=am,w=null;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(r=i.identifierPrefix),i.onUncaughtError!==void 0&&(m=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(b=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(w=i.unstable_transitionCallbacks)),i=kh(n,1,!1,null,null,l,r,m,y,b,w,null),n[Mi]=i.current,ju(n),new Xu(i)},Ms.hydrateRoot=function(n,i,l){if(!o(n))throw Error(s(299));var r=!1,m="",y=nm,b=im,w=am,A=null,O=null;return l!=null&&(l.unstable_strictMode===!0&&(r=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(b=l.onCaughtError),l.onRecoverableError!==void 0&&(w=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(A=l.unstable_transitionCallbacks),l.formState!==void 0&&(O=l.formState)),i=kh(n,1,!0,i,l??null,r,m,y,b,w,A,O),i.context=Rh(null),l=i.current,r=Dt(),r=zo(r),m=In(r),m.callback=null,jn(l,m,r),l=r,i.current.lanes=l,Ia(i,l),tn(i),n[Mi]=i.current,ju(n),new so(i)},Ms.version="19.1.0",Ms}var Kh;function xv(){if(Kh)return tc.exports;Kh=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),tc.exports=yv(),tc.exports}var vv=xv();const bv=jg(vv);var je;(function(t){t.assertEqual=o=>{};function e(o){}t.assertIs=e;function a(o){throw new Error}t.assertNever=a,t.arrayToEnum=o=>{const u={};for(const h of o)u[h]=h;return u},t.getValidEnumValues=o=>{const u=t.objectKeys(o).filter(g=>typeof o[o[g]]!="number"),h={};for(const g of u)h[g]=o[g];return t.objectValues(h)},t.objectValues=o=>t.objectKeys(o).map(function(u){return o[u]}),t.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const u=[];for(const h in o)Object.prototype.hasOwnProperty.call(o,h)&&u.push(h);return u},t.find=(o,u)=>{for(const h of o)if(u(h))return h},t.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&Number.isFinite(o)&&Math.floor(o)===o;function s(o,u=" | "){return o.map(h=>typeof h=="string"?`'${h}'`:h).join(u)}t.joinValues=s,t.jsonStringifyReplacer=(o,u)=>typeof u=="bigint"?u.toString():u})(je||(je={}));var Qh;(function(t){t.mergeShapes=(e,a)=>({...e,...a})})(Qh||(Qh={}));const ce=je.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Xn=t=>{switch(typeof t){case"undefined":return ce.undefined;case"string":return ce.string;case"number":return Number.isNaN(t)?ce.nan:ce.number;case"boolean":return ce.boolean;case"function":return ce.function;case"bigint":return ce.bigint;case"symbol":return ce.symbol;case"object":return Array.isArray(t)?ce.array:t===null?ce.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ce.promise:typeof Map<"u"&&t instanceof Map?ce.map:typeof Set<"u"&&t instanceof Set?ce.set:typeof Date<"u"&&t instanceof Date?ce.date:ce.object;default:return ce.unknown}},W=je.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class wn extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const a=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,a):this.__proto__=a,this.name="ZodError",this.issues=e}format(e){const a=e||function(u){return u.message},s={_errors:[]},o=u=>{for(const h of u.issues)if(h.code==="invalid_union")h.unionErrors.map(o);else if(h.code==="invalid_return_type")o(h.returnTypeError);else if(h.code==="invalid_arguments")o(h.argumentsError);else if(h.path.length===0)s._errors.push(a(h));else{let g=s,x=0;for(;x<h.path.length;){const p=h.path[x];x===h.path.length-1?(g[p]=g[p]||{_errors:[]},g[p]._errors.push(a(h))):g[p]=g[p]||{_errors:[]},g=g[p],x++}}};return o(this),s}static assert(e){if(!(e instanceof wn))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,je.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=a=>a.message){const a={},s=[];for(const o of this.issues)o.path.length>0?(a[o.path[0]]=a[o.path[0]]||[],a[o.path[0]].push(e(o))):s.push(e(o));return{formErrors:s,fieldErrors:a}}get formErrors(){return this.flatten()}}wn.create=t=>new wn(t);const cc=(t,e)=>{let a;switch(t.code){case W.invalid_type:t.received===ce.undefined?a="Required":a=`Expected ${t.expected}, received ${t.received}`;break;case W.invalid_literal:a=`Invalid literal value, expected ${JSON.stringify(t.expected,je.jsonStringifyReplacer)}`;break;case W.unrecognized_keys:a=`Unrecognized key(s) in object: ${je.joinValues(t.keys,", ")}`;break;case W.invalid_union:a="Invalid input";break;case W.invalid_union_discriminator:a=`Invalid discriminator value. Expected ${je.joinValues(t.options)}`;break;case W.invalid_enum_value:a=`Invalid enum value. Expected ${je.joinValues(t.options)}, received '${t.received}'`;break;case W.invalid_arguments:a="Invalid function arguments";break;case W.invalid_return_type:a="Invalid function return type";break;case W.invalid_date:a="Invalid date";break;case W.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(a=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(a=`${a} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?a=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?a=`Invalid input: must end with "${t.validation.endsWith}"`:je.assertNever(t.validation):t.validation!=="regex"?a=`Invalid ${t.validation}`:a="Invalid";break;case W.too_small:t.type==="array"?a=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?a=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?a=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?a=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:a="Invalid input";break;case W.too_big:t.type==="array"?a=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?a=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?a=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?a=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?a=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:a="Invalid input";break;case W.custom:a="Invalid input";break;case W.invalid_intersection_types:a="Intersection results could not be merged";break;case W.not_multiple_of:a=`Number must be a multiple of ${t.multipleOf}`;break;case W.not_finite:a="Number must be finite";break;default:a=e.defaultError,je.assertNever(t)}return{message:a}};let Cv=cc;function Tv(){return Cv}const Sv=t=>{const{data:e,path:a,errorMaps:s,issueData:o}=t,u=[...a,...o.path||[]],h={...o,path:u};if(o.message!==void 0)return{...o,path:u,message:o.message};let g="";const x=s.filter(p=>!!p).slice().reverse();for(const p of x)g=p(h,{data:e,defaultError:g}).message;return{...o,path:u,message:g}};function ae(t,e){const a=Tv(),s=Sv({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,a,a===cc?void 0:cc].filter(o=>!!o)});t.common.issues.push(s)}class vt{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,a){const s=[];for(const o of a){if(o.status==="aborted")return Ce;o.status==="dirty"&&e.dirty(),s.push(o.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,a){const s=[];for(const o of a){const u=await o.key,h=await o.value;s.push({key:u,value:h})}return vt.mergeObjectSync(e,s)}static mergeObjectSync(e,a){const s={};for(const o of a){const{key:u,value:h}=o;if(u.status==="aborted"||h.status==="aborted")return Ce;u.status==="dirty"&&e.dirty(),h.status==="dirty"&&e.dirty(),u.value!=="__proto__"&&(typeof h.value<"u"||o.alwaysSet)&&(s[u.value]=h.value)}return{status:e.value,value:s}}}const Ce=Object.freeze({status:"aborted"}),Is=t=>({status:"dirty",value:t}),zt=t=>({status:"valid",value:t}),Xh=t=>t.status==="aborted",Wh=t=>t.status==="dirty",ba=t=>t.status==="valid",go=t=>typeof Promise<"u"&&t instanceof Promise;var fe;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(fe||(fe={}));class ln{constructor(e,a,s,o){this._cachedPath=[],this.parent=e,this.data=a,this._path=s,this._key=o}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ep=(t,e)=>{if(ba(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const a=new wn(t.common.issues);return this._error=a,this._error}}};function Se(t){if(!t)return{};const{errorMap:e,invalid_type_error:a,required_error:s,description:o}=t;if(e&&(a||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:o}:{errorMap:(h,g)=>{const{message:x}=t;return h.code==="invalid_enum_value"?{message:x??g.defaultError}:typeof g.data>"u"?{message:x??s??g.defaultError}:h.code!=="invalid_type"?{message:g.defaultError}:{message:x??a??g.defaultError}},description:o}}class ke{get description(){return this._def.description}_getType(e){return Xn(e.data)}_getOrReturnCtx(e,a){return a||{common:e.parent.common,data:e.data,parsedType:Xn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new vt,ctx:{common:e.parent.common,data:e.data,parsedType:Xn(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const a=this._parse(e);if(go(a))throw new Error("Synchronous parse encountered promise.");return a}_parseAsync(e){const a=this._parse(e);return Promise.resolve(a)}parse(e,a){const s=this.safeParse(e,a);if(s.success)return s.data;throw s.error}safeParse(e,a){const s={common:{issues:[],async:(a==null?void 0:a.async)??!1,contextualErrorMap:a==null?void 0:a.errorMap},path:(a==null?void 0:a.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Xn(e)},o=this._parseSync({data:e,path:s.path,parent:s});return ep(s,o)}"~validate"(e){var s,o;const a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Xn(e)};if(!this["~standard"].async)try{const u=this._parseSync({data:e,path:[],parent:a});return ba(u)?{value:u.value}:{issues:a.common.issues}}catch(u){(o=(s=u==null?void 0:u.message)==null?void 0:s.toLowerCase())!=null&&o.includes("encountered")&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:a}).then(u=>ba(u)?{value:u.value}:{issues:a.common.issues})}async parseAsync(e,a){const s=await this.safeParseAsync(e,a);if(s.success)return s.data;throw s.error}async safeParseAsync(e,a){const s={common:{issues:[],contextualErrorMap:a==null?void 0:a.errorMap,async:!0},path:(a==null?void 0:a.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Xn(e)},o=this._parse({data:e,path:s.path,parent:s}),u=await(go(o)?o:Promise.resolve(o));return ep(s,u)}refine(e,a){const s=o=>typeof a=="string"||typeof a>"u"?{message:a}:typeof a=="function"?a(o):a;return this._refinement((o,u)=>{const h=e(o),g=()=>u.addIssue({code:W.custom,...s(o)});return typeof Promise<"u"&&h instanceof Promise?h.then(x=>x?!0:(g(),!1)):h?!0:(g(),!1)})}refinement(e,a){return this._refinement((s,o)=>e(s)?!0:(o.addIssue(typeof a=="function"?a(s,o):a),!1))}_refinement(e){return new Sa({schema:this,typeName:be.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:a=>this["~validate"](a)}}optional(){return Wn.create(this,this._def)}nullable(){return wa.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return sn.create(this)}promise(){return Co.create(this,this._def)}or(e){return xo.create([this,e],this._def)}and(e){return vo.create(this,e,this._def)}transform(e){return new Sa({...Se(this._def),schema:this,typeName:be.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const a=typeof e=="function"?e:()=>e;return new hc({...Se(this._def),innerType:this,defaultValue:a,typeName:be.ZodDefault})}brand(){return new Fv({typeName:be.ZodBranded,type:this,...Se(this._def)})}catch(e){const a=typeof e=="function"?e:()=>e;return new pc({...Se(this._def),innerType:this,catchValue:a,typeName:be.ZodCatch})}describe(e){const a=this.constructor;return new a({...this._def,description:e})}pipe(e){return Lc.create(this,e)}readonly(){return gc.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const wv=/^c[^\s-]{8,}$/i,Nv=/^[0-9a-z]+$/,_v=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Ev=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Av=/^[a-z0-9_-]{21}$/i,Mv=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,kv=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Rv=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Dv="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let sc;const Iv=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,jv=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Lv=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Uv=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Ov=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Vv=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Lg="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Bv=new RegExp(`^${Lg}$`);function Ug(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const a=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${a}`}function Pv(t){return new RegExp(`^${Ug(t)}$`)}function $v(t){let e=`${Lg}T${Ug(t)}`;const a=[];return a.push(t.local?"Z?":"Z"),t.offset&&a.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${a.join("|")})`,new RegExp(`^${e}$`)}function qv(t,e){return!!((e==="v4"||!e)&&Iv.test(t)||(e==="v6"||!e)&&Lv.test(t))}function zv(t,e){if(!Mv.test(t))return!1;try{const[a]=t.split("."),s=a.replace(/-/g,"+").replace(/_/g,"/").padEnd(a.length+(4-a.length%4)%4,"="),o=JSON.parse(atob(s));return!(typeof o!="object"||o===null||"typ"in o&&(o==null?void 0:o.typ)!=="JWT"||!o.alg||e&&o.alg!==e)}catch{return!1}}function Gv(t,e){return!!((e==="v4"||!e)&&jv.test(t)||(e==="v6"||!e)&&Uv.test(t))}class nn extends ke{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ce.string){const u=this._getOrReturnCtx(e);return ae(u,{code:W.invalid_type,expected:ce.string,received:u.parsedType}),Ce}const s=new vt;let o;for(const u of this._def.checks)if(u.kind==="min")e.data.length<u.value&&(o=this._getOrReturnCtx(e,o),ae(o,{code:W.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),s.dirty());else if(u.kind==="max")e.data.length>u.value&&(o=this._getOrReturnCtx(e,o),ae(o,{code:W.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),s.dirty());else if(u.kind==="length"){const h=e.data.length>u.value,g=e.data.length<u.value;(h||g)&&(o=this._getOrReturnCtx(e,o),h?ae(o,{code:W.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}):g&&ae(o,{code:W.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}),s.dirty())}else if(u.kind==="email")Rv.test(e.data)||(o=this._getOrReturnCtx(e,o),ae(o,{validation:"email",code:W.invalid_string,message:u.message}),s.dirty());else if(u.kind==="emoji")sc||(sc=new RegExp(Dv,"u")),sc.test(e.data)||(o=this._getOrReturnCtx(e,o),ae(o,{validation:"emoji",code:W.invalid_string,message:u.message}),s.dirty());else if(u.kind==="uuid")Ev.test(e.data)||(o=this._getOrReturnCtx(e,o),ae(o,{validation:"uuid",code:W.invalid_string,message:u.message}),s.dirty());else if(u.kind==="nanoid")Av.test(e.data)||(o=this._getOrReturnCtx(e,o),ae(o,{validation:"nanoid",code:W.invalid_string,message:u.message}),s.dirty());else if(u.kind==="cuid")wv.test(e.data)||(o=this._getOrReturnCtx(e,o),ae(o,{validation:"cuid",code:W.invalid_string,message:u.message}),s.dirty());else if(u.kind==="cuid2")Nv.test(e.data)||(o=this._getOrReturnCtx(e,o),ae(o,{validation:"cuid2",code:W.invalid_string,message:u.message}),s.dirty());else if(u.kind==="ulid")_v.test(e.data)||(o=this._getOrReturnCtx(e,o),ae(o,{validation:"ulid",code:W.invalid_string,message:u.message}),s.dirty());else if(u.kind==="url")try{new URL(e.data)}catch{o=this._getOrReturnCtx(e,o),ae(o,{validation:"url",code:W.invalid_string,message:u.message}),s.dirty()}else u.kind==="regex"?(u.regex.lastIndex=0,u.regex.test(e.data)||(o=this._getOrReturnCtx(e,o),ae(o,{validation:"regex",code:W.invalid_string,message:u.message}),s.dirty())):u.kind==="trim"?e.data=e.data.trim():u.kind==="includes"?e.data.includes(u.value,u.position)||(o=this._getOrReturnCtx(e,o),ae(o,{code:W.invalid_string,validation:{includes:u.value,position:u.position},message:u.message}),s.dirty()):u.kind==="toLowerCase"?e.data=e.data.toLowerCase():u.kind==="toUpperCase"?e.data=e.data.toUpperCase():u.kind==="startsWith"?e.data.startsWith(u.value)||(o=this._getOrReturnCtx(e,o),ae(o,{code:W.invalid_string,validation:{startsWith:u.value},message:u.message}),s.dirty()):u.kind==="endsWith"?e.data.endsWith(u.value)||(o=this._getOrReturnCtx(e,o),ae(o,{code:W.invalid_string,validation:{endsWith:u.value},message:u.message}),s.dirty()):u.kind==="datetime"?$v(u).test(e.data)||(o=this._getOrReturnCtx(e,o),ae(o,{code:W.invalid_string,validation:"datetime",message:u.message}),s.dirty()):u.kind==="date"?Bv.test(e.data)||(o=this._getOrReturnCtx(e,o),ae(o,{code:W.invalid_string,validation:"date",message:u.message}),s.dirty()):u.kind==="time"?Pv(u).test(e.data)||(o=this._getOrReturnCtx(e,o),ae(o,{code:W.invalid_string,validation:"time",message:u.message}),s.dirty()):u.kind==="duration"?kv.test(e.data)||(o=this._getOrReturnCtx(e,o),ae(o,{validation:"duration",code:W.invalid_string,message:u.message}),s.dirty()):u.kind==="ip"?qv(e.data,u.version)||(o=this._getOrReturnCtx(e,o),ae(o,{validation:"ip",code:W.invalid_string,message:u.message}),s.dirty()):u.kind==="jwt"?zv(e.data,u.alg)||(o=this._getOrReturnCtx(e,o),ae(o,{validation:"jwt",code:W.invalid_string,message:u.message}),s.dirty()):u.kind==="cidr"?Gv(e.data,u.version)||(o=this._getOrReturnCtx(e,o),ae(o,{validation:"cidr",code:W.invalid_string,message:u.message}),s.dirty()):u.kind==="base64"?Ov.test(e.data)||(o=this._getOrReturnCtx(e,o),ae(o,{validation:"base64",code:W.invalid_string,message:u.message}),s.dirty()):u.kind==="base64url"?Vv.test(e.data)||(o=this._getOrReturnCtx(e,o),ae(o,{validation:"base64url",code:W.invalid_string,message:u.message}),s.dirty()):je.assertNever(u);return{status:s.value,value:e.data}}_regex(e,a,s){return this.refinement(o=>e.test(o),{validation:a,code:W.invalid_string,...fe.errToObj(s)})}_addCheck(e){return new nn({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...fe.errToObj(e)})}url(e){return this._addCheck({kind:"url",...fe.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...fe.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...fe.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...fe.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...fe.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...fe.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...fe.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...fe.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...fe.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...fe.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...fe.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...fe.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...fe.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...fe.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...fe.errToObj(e)})}regex(e,a){return this._addCheck({kind:"regex",regex:e,...fe.errToObj(a)})}includes(e,a){return this._addCheck({kind:"includes",value:e,position:a==null?void 0:a.position,...fe.errToObj(a==null?void 0:a.message)})}startsWith(e,a){return this._addCheck({kind:"startsWith",value:e,...fe.errToObj(a)})}endsWith(e,a){return this._addCheck({kind:"endsWith",value:e,...fe.errToObj(a)})}min(e,a){return this._addCheck({kind:"min",value:e,...fe.errToObj(a)})}max(e,a){return this._addCheck({kind:"max",value:e,...fe.errToObj(a)})}length(e,a){return this._addCheck({kind:"length",value:e,...fe.errToObj(a)})}nonempty(e){return this.min(1,fe.errToObj(e))}trim(){return new nn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new nn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new nn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const a of this._def.checks)a.kind==="min"&&(e===null||a.value>e)&&(e=a.value);return e}get maxLength(){let e=null;for(const a of this._def.checks)a.kind==="max"&&(e===null||a.value<e)&&(e=a.value);return e}}nn.create=t=>new nn({checks:[],typeName:be.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Se(t)});function Hv(t,e){const a=(t.toString().split(".")[1]||"").length,s=(e.toString().split(".")[1]||"").length,o=a>s?a:s,u=Number.parseInt(t.toFixed(o).replace(".","")),h=Number.parseInt(e.toFixed(o).replace(".",""));return u%h/10**o}class Si extends ke{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ce.number){const u=this._getOrReturnCtx(e);return ae(u,{code:W.invalid_type,expected:ce.number,received:u.parsedType}),Ce}let s;const o=new vt;for(const u of this._def.checks)u.kind==="int"?je.isInteger(e.data)||(s=this._getOrReturnCtx(e,s),ae(s,{code:W.invalid_type,expected:"integer",received:"float",message:u.message}),o.dirty()):u.kind==="min"?(u.inclusive?e.data<u.value:e.data<=u.value)&&(s=this._getOrReturnCtx(e,s),ae(s,{code:W.too_small,minimum:u.value,type:"number",inclusive:u.inclusive,exact:!1,message:u.message}),o.dirty()):u.kind==="max"?(u.inclusive?e.data>u.value:e.data>=u.value)&&(s=this._getOrReturnCtx(e,s),ae(s,{code:W.too_big,maximum:u.value,type:"number",inclusive:u.inclusive,exact:!1,message:u.message}),o.dirty()):u.kind==="multipleOf"?Hv(e.data,u.value)!==0&&(s=this._getOrReturnCtx(e,s),ae(s,{code:W.not_multiple_of,multipleOf:u.value,message:u.message}),o.dirty()):u.kind==="finite"?Number.isFinite(e.data)||(s=this._getOrReturnCtx(e,s),ae(s,{code:W.not_finite,message:u.message}),o.dirty()):je.assertNever(u);return{status:o.value,value:e.data}}gte(e,a){return this.setLimit("min",e,!0,fe.toString(a))}gt(e,a){return this.setLimit("min",e,!1,fe.toString(a))}lte(e,a){return this.setLimit("max",e,!0,fe.toString(a))}lt(e,a){return this.setLimit("max",e,!1,fe.toString(a))}setLimit(e,a,s,o){return new Si({...this._def,checks:[...this._def.checks,{kind:e,value:a,inclusive:s,message:fe.toString(o)}]})}_addCheck(e){return new Si({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:fe.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:fe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:fe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:fe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:fe.toString(e)})}multipleOf(e,a){return this._addCheck({kind:"multipleOf",value:e,message:fe.toString(a)})}finite(e){return this._addCheck({kind:"finite",message:fe.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:fe.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:fe.toString(e)})}get minValue(){let e=null;for(const a of this._def.checks)a.kind==="min"&&(e===null||a.value>e)&&(e=a.value);return e}get maxValue(){let e=null;for(const a of this._def.checks)a.kind==="max"&&(e===null||a.value<e)&&(e=a.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&je.isInteger(e.value))}get isFinite(){let e=null,a=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(a===null||s.value>a)&&(a=s.value):s.kind==="max"&&(e===null||s.value<e)&&(e=s.value)}return Number.isFinite(a)&&Number.isFinite(e)}}Si.create=t=>new Si({checks:[],typeName:be.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Se(t)});class wi extends ke{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ce.bigint)return this._getInvalidInput(e);let s;const o=new vt;for(const u of this._def.checks)u.kind==="min"?(u.inclusive?e.data<u.value:e.data<=u.value)&&(s=this._getOrReturnCtx(e,s),ae(s,{code:W.too_small,type:"bigint",minimum:u.value,inclusive:u.inclusive,message:u.message}),o.dirty()):u.kind==="max"?(u.inclusive?e.data>u.value:e.data>=u.value)&&(s=this._getOrReturnCtx(e,s),ae(s,{code:W.too_big,type:"bigint",maximum:u.value,inclusive:u.inclusive,message:u.message}),o.dirty()):u.kind==="multipleOf"?e.data%u.value!==BigInt(0)&&(s=this._getOrReturnCtx(e,s),ae(s,{code:W.not_multiple_of,multipleOf:u.value,message:u.message}),o.dirty()):je.assertNever(u);return{status:o.value,value:e.data}}_getInvalidInput(e){const a=this._getOrReturnCtx(e);return ae(a,{code:W.invalid_type,expected:ce.bigint,received:a.parsedType}),Ce}gte(e,a){return this.setLimit("min",e,!0,fe.toString(a))}gt(e,a){return this.setLimit("min",e,!1,fe.toString(a))}lte(e,a){return this.setLimit("max",e,!0,fe.toString(a))}lt(e,a){return this.setLimit("max",e,!1,fe.toString(a))}setLimit(e,a,s,o){return new wi({...this._def,checks:[...this._def.checks,{kind:e,value:a,inclusive:s,message:fe.toString(o)}]})}_addCheck(e){return new wi({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:fe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:fe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:fe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:fe.toString(e)})}multipleOf(e,a){return this._addCheck({kind:"multipleOf",value:e,message:fe.toString(a)})}get minValue(){let e=null;for(const a of this._def.checks)a.kind==="min"&&(e===null||a.value>e)&&(e=a.value);return e}get maxValue(){let e=null;for(const a of this._def.checks)a.kind==="max"&&(e===null||a.value<e)&&(e=a.value);return e}}wi.create=t=>new wi({checks:[],typeName:be.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Se(t)});class yo extends ke{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ce.boolean){const s=this._getOrReturnCtx(e);return ae(s,{code:W.invalid_type,expected:ce.boolean,received:s.parsedType}),Ce}return zt(e.data)}}yo.create=t=>new yo({typeName:be.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Se(t)});class Ca extends ke{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ce.date){const u=this._getOrReturnCtx(e);return ae(u,{code:W.invalid_type,expected:ce.date,received:u.parsedType}),Ce}if(Number.isNaN(e.data.getTime())){const u=this._getOrReturnCtx(e);return ae(u,{code:W.invalid_date}),Ce}const s=new vt;let o;for(const u of this._def.checks)u.kind==="min"?e.data.getTime()<u.value&&(o=this._getOrReturnCtx(e,o),ae(o,{code:W.too_small,message:u.message,inclusive:!0,exact:!1,minimum:u.value,type:"date"}),s.dirty()):u.kind==="max"?e.data.getTime()>u.value&&(o=this._getOrReturnCtx(e,o),ae(o,{code:W.too_big,message:u.message,inclusive:!0,exact:!1,maximum:u.value,type:"date"}),s.dirty()):je.assertNever(u);return{status:s.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ca({...this._def,checks:[...this._def.checks,e]})}min(e,a){return this._addCheck({kind:"min",value:e.getTime(),message:fe.toString(a)})}max(e,a){return this._addCheck({kind:"max",value:e.getTime(),message:fe.toString(a)})}get minDate(){let e=null;for(const a of this._def.checks)a.kind==="min"&&(e===null||a.value>e)&&(e=a.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const a of this._def.checks)a.kind==="max"&&(e===null||a.value<e)&&(e=a.value);return e!=null?new Date(e):null}}Ca.create=t=>new Ca({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:be.ZodDate,...Se(t)});class tp extends ke{_parse(e){if(this._getType(e)!==ce.symbol){const s=this._getOrReturnCtx(e);return ae(s,{code:W.invalid_type,expected:ce.symbol,received:s.parsedType}),Ce}return zt(e.data)}}tp.create=t=>new tp({typeName:be.ZodSymbol,...Se(t)});class np extends ke{_parse(e){if(this._getType(e)!==ce.undefined){const s=this._getOrReturnCtx(e);return ae(s,{code:W.invalid_type,expected:ce.undefined,received:s.parsedType}),Ce}return zt(e.data)}}np.create=t=>new np({typeName:be.ZodUndefined,...Se(t)});class ip extends ke{_parse(e){if(this._getType(e)!==ce.null){const s=this._getOrReturnCtx(e);return ae(s,{code:W.invalid_type,expected:ce.null,received:s.parsedType}),Ce}return zt(e.data)}}ip.create=t=>new ip({typeName:be.ZodNull,...Se(t)});class ap extends ke{constructor(){super(...arguments),this._any=!0}_parse(e){return zt(e.data)}}ap.create=t=>new ap({typeName:be.ZodAny,...Se(t)});class dc extends ke{constructor(){super(...arguments),this._unknown=!0}_parse(e){return zt(e.data)}}dc.create=t=>new dc({typeName:be.ZodUnknown,...Se(t)});class ei extends ke{_parse(e){const a=this._getOrReturnCtx(e);return ae(a,{code:W.invalid_type,expected:ce.never,received:a.parsedType}),Ce}}ei.create=t=>new ei({typeName:be.ZodNever,...Se(t)});class sp extends ke{_parse(e){if(this._getType(e)!==ce.undefined){const s=this._getOrReturnCtx(e);return ae(s,{code:W.invalid_type,expected:ce.void,received:s.parsedType}),Ce}return zt(e.data)}}sp.create=t=>new sp({typeName:be.ZodVoid,...Se(t)});class sn extends ke{_parse(e){const{ctx:a,status:s}=this._processInputParams(e),o=this._def;if(a.parsedType!==ce.array)return ae(a,{code:W.invalid_type,expected:ce.array,received:a.parsedType}),Ce;if(o.exactLength!==null){const h=a.data.length>o.exactLength.value,g=a.data.length<o.exactLength.value;(h||g)&&(ae(a,{code:h?W.too_big:W.too_small,minimum:g?o.exactLength.value:void 0,maximum:h?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),s.dirty())}if(o.minLength!==null&&a.data.length<o.minLength.value&&(ae(a,{code:W.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),s.dirty()),o.maxLength!==null&&a.data.length>o.maxLength.value&&(ae(a,{code:W.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),s.dirty()),a.common.async)return Promise.all([...a.data].map((h,g)=>o.type._parseAsync(new ln(a,h,a.path,g)))).then(h=>vt.mergeArray(s,h));const u=[...a.data].map((h,g)=>o.type._parseSync(new ln(a,h,a.path,g)));return vt.mergeArray(s,u)}get element(){return this._def.type}min(e,a){return new sn({...this._def,minLength:{value:e,message:fe.toString(a)}})}max(e,a){return new sn({...this._def,maxLength:{value:e,message:fe.toString(a)}})}length(e,a){return new sn({...this._def,exactLength:{value:e,message:fe.toString(a)}})}nonempty(e){return this.min(1,e)}}sn.create=(t,e)=>new sn({type:t,minLength:null,maxLength:null,exactLength:null,typeName:be.ZodArray,...Se(e)});function pa(t){if(t instanceof it){const e={};for(const a in t.shape){const s=t.shape[a];e[a]=Wn.create(pa(s))}return new it({...t._def,shape:()=>e})}else return t instanceof sn?new sn({...t._def,type:pa(t.element)}):t instanceof Wn?Wn.create(pa(t.unwrap())):t instanceof wa?wa.create(pa(t.unwrap())):t instanceof Ni?Ni.create(t.items.map(e=>pa(e))):t}class it extends ke{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),a=je.objectKeys(e);return this._cached={shape:e,keys:a},this._cached}_parse(e){if(this._getType(e)!==ce.object){const p=this._getOrReturnCtx(e);return ae(p,{code:W.invalid_type,expected:ce.object,received:p.parsedType}),Ce}const{status:s,ctx:o}=this._processInputParams(e),{shape:u,keys:h}=this._getCached(),g=[];if(!(this._def.catchall instanceof ei&&this._def.unknownKeys==="strip"))for(const p in o.data)h.includes(p)||g.push(p);const x=[];for(const p of h){const v=u[p],C=o.data[p];x.push({key:{status:"valid",value:p},value:v._parse(new ln(o,C,o.path,p)),alwaysSet:p in o.data})}if(this._def.catchall instanceof ei){const p=this._def.unknownKeys;if(p==="passthrough")for(const v of g)x.push({key:{status:"valid",value:v},value:{status:"valid",value:o.data[v]}});else if(p==="strict")g.length>0&&(ae(o,{code:W.unrecognized_keys,keys:g}),s.dirty());else if(p!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const p=this._def.catchall;for(const v of g){const C=o.data[v];x.push({key:{status:"valid",value:v},value:p._parse(new ln(o,C,o.path,v)),alwaysSet:v in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const p=[];for(const v of x){const C=await v.key,T=await v.value;p.push({key:C,value:T,alwaysSet:v.alwaysSet})}return p}).then(p=>vt.mergeObjectSync(s,p)):vt.mergeObjectSync(s,x)}get shape(){return this._def.shape()}strict(e){return fe.errToObj,new it({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(a,s)=>{var u,h;const o=((h=(u=this._def).errorMap)==null?void 0:h.call(u,a,s).message)??s.defaultError;return a.code==="unrecognized_keys"?{message:fe.errToObj(e).message??o}:{message:o}}}:{}})}strip(){return new it({...this._def,unknownKeys:"strip"})}passthrough(){return new it({...this._def,unknownKeys:"passthrough"})}extend(e){return new it({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new it({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:be.ZodObject})}setKey(e,a){return this.augment({[e]:a})}catchall(e){return new it({...this._def,catchall:e})}pick(e){const a={};for(const s of je.objectKeys(e))e[s]&&this.shape[s]&&(a[s]=this.shape[s]);return new it({...this._def,shape:()=>a})}omit(e){const a={};for(const s of je.objectKeys(this.shape))e[s]||(a[s]=this.shape[s]);return new it({...this._def,shape:()=>a})}deepPartial(){return pa(this)}partial(e){const a={};for(const s of je.objectKeys(this.shape)){const o=this.shape[s];e&&!e[s]?a[s]=o:a[s]=o.optional()}return new it({...this._def,shape:()=>a})}required(e){const a={};for(const s of je.objectKeys(this.shape))if(e&&!e[s])a[s]=this.shape[s];else{let u=this.shape[s];for(;u instanceof Wn;)u=u._def.innerType;a[s]=u}return new it({...this._def,shape:()=>a})}keyof(){return Og(je.objectKeys(this.shape))}}it.create=(t,e)=>new it({shape:()=>t,unknownKeys:"strip",catchall:ei.create(),typeName:be.ZodObject,...Se(e)});it.strictCreate=(t,e)=>new it({shape:()=>t,unknownKeys:"strict",catchall:ei.create(),typeName:be.ZodObject,...Se(e)});it.lazycreate=(t,e)=>new it({shape:t,unknownKeys:"strip",catchall:ei.create(),typeName:be.ZodObject,...Se(e)});class xo extends ke{_parse(e){const{ctx:a}=this._processInputParams(e),s=this._def.options;function o(u){for(const g of u)if(g.result.status==="valid")return g.result;for(const g of u)if(g.result.status==="dirty")return a.common.issues.push(...g.ctx.common.issues),g.result;const h=u.map(g=>new wn(g.ctx.common.issues));return ae(a,{code:W.invalid_union,unionErrors:h}),Ce}if(a.common.async)return Promise.all(s.map(async u=>{const h={...a,common:{...a.common,issues:[]},parent:null};return{result:await u._parseAsync({data:a.data,path:a.path,parent:h}),ctx:h}})).then(o);{let u;const h=[];for(const x of s){const p={...a,common:{...a.common,issues:[]},parent:null},v=x._parseSync({data:a.data,path:a.path,parent:p});if(v.status==="valid")return v;v.status==="dirty"&&!u&&(u={result:v,ctx:p}),p.common.issues.length&&h.push(p.common.issues)}if(u)return a.common.issues.push(...u.ctx.common.issues),u.result;const g=h.map(x=>new wn(x));return ae(a,{code:W.invalid_union,unionErrors:g}),Ce}}get options(){return this._def.options}}xo.create=(t,e)=>new xo({options:t,typeName:be.ZodUnion,...Se(e)});function fc(t,e){const a=Xn(t),s=Xn(e);if(t===e)return{valid:!0,data:t};if(a===ce.object&&s===ce.object){const o=je.objectKeys(e),u=je.objectKeys(t).filter(g=>o.indexOf(g)!==-1),h={...t,...e};for(const g of u){const x=fc(t[g],e[g]);if(!x.valid)return{valid:!1};h[g]=x.data}return{valid:!0,data:h}}else if(a===ce.array&&s===ce.array){if(t.length!==e.length)return{valid:!1};const o=[];for(let u=0;u<t.length;u++){const h=t[u],g=e[u],x=fc(h,g);if(!x.valid)return{valid:!1};o.push(x.data)}return{valid:!0,data:o}}else return a===ce.date&&s===ce.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class vo extends ke{_parse(e){const{status:a,ctx:s}=this._processInputParams(e),o=(u,h)=>{if(Xh(u)||Xh(h))return Ce;const g=fc(u.value,h.value);return g.valid?((Wh(u)||Wh(h))&&a.dirty(),{status:a.value,value:g.data}):(ae(s,{code:W.invalid_intersection_types}),Ce)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([u,h])=>o(u,h)):o(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}vo.create=(t,e,a)=>new vo({left:t,right:e,typeName:be.ZodIntersection,...Se(a)});class Ni extends ke{_parse(e){const{status:a,ctx:s}=this._processInputParams(e);if(s.parsedType!==ce.array)return ae(s,{code:W.invalid_type,expected:ce.array,received:s.parsedType}),Ce;if(s.data.length<this._def.items.length)return ae(s,{code:W.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ce;!this._def.rest&&s.data.length>this._def.items.length&&(ae(s,{code:W.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),a.dirty());const u=[...s.data].map((h,g)=>{const x=this._def.items[g]||this._def.rest;return x?x._parse(new ln(s,h,s.path,g)):null}).filter(h=>!!h);return s.common.async?Promise.all(u).then(h=>vt.mergeArray(a,h)):vt.mergeArray(a,u)}get items(){return this._def.items}rest(e){return new Ni({...this._def,rest:e})}}Ni.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ni({items:t,typeName:be.ZodTuple,rest:null,...Se(e)})};class bo extends ke{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:a,ctx:s}=this._processInputParams(e);if(s.parsedType!==ce.object)return ae(s,{code:W.invalid_type,expected:ce.object,received:s.parsedType}),Ce;const o=[],u=this._def.keyType,h=this._def.valueType;for(const g in s.data)o.push({key:u._parse(new ln(s,g,s.path,g)),value:h._parse(new ln(s,s.data[g],s.path,g)),alwaysSet:g in s.data});return s.common.async?vt.mergeObjectAsync(a,o):vt.mergeObjectSync(a,o)}get element(){return this._def.valueType}static create(e,a,s){return a instanceof ke?new bo({keyType:e,valueType:a,typeName:be.ZodRecord,...Se(s)}):new bo({keyType:nn.create(),valueType:e,typeName:be.ZodRecord,...Se(a)})}}class lp extends ke{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:a,ctx:s}=this._processInputParams(e);if(s.parsedType!==ce.map)return ae(s,{code:W.invalid_type,expected:ce.map,received:s.parsedType}),Ce;const o=this._def.keyType,u=this._def.valueType,h=[...s.data.entries()].map(([g,x],p)=>({key:o._parse(new ln(s,g,s.path,[p,"key"])),value:u._parse(new ln(s,x,s.path,[p,"value"]))}));if(s.common.async){const g=new Map;return Promise.resolve().then(async()=>{for(const x of h){const p=await x.key,v=await x.value;if(p.status==="aborted"||v.status==="aborted")return Ce;(p.status==="dirty"||v.status==="dirty")&&a.dirty(),g.set(p.value,v.value)}return{status:a.value,value:g}})}else{const g=new Map;for(const x of h){const p=x.key,v=x.value;if(p.status==="aborted"||v.status==="aborted")return Ce;(p.status==="dirty"||v.status==="dirty")&&a.dirty(),g.set(p.value,v.value)}return{status:a.value,value:g}}}}lp.create=(t,e,a)=>new lp({valueType:e,keyType:t,typeName:be.ZodMap,...Se(a)});class Bs extends ke{_parse(e){const{status:a,ctx:s}=this._processInputParams(e);if(s.parsedType!==ce.set)return ae(s,{code:W.invalid_type,expected:ce.set,received:s.parsedType}),Ce;const o=this._def;o.minSize!==null&&s.data.size<o.minSize.value&&(ae(s,{code:W.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),a.dirty()),o.maxSize!==null&&s.data.size>o.maxSize.value&&(ae(s,{code:W.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),a.dirty());const u=this._def.valueType;function h(x){const p=new Set;for(const v of x){if(v.status==="aborted")return Ce;v.status==="dirty"&&a.dirty(),p.add(v.value)}return{status:a.value,value:p}}const g=[...s.data.values()].map((x,p)=>u._parse(new ln(s,x,s.path,p)));return s.common.async?Promise.all(g).then(x=>h(x)):h(g)}min(e,a){return new Bs({...this._def,minSize:{value:e,message:fe.toString(a)}})}max(e,a){return new Bs({...this._def,maxSize:{value:e,message:fe.toString(a)}})}size(e,a){return this.min(e,a).max(e,a)}nonempty(e){return this.min(1,e)}}Bs.create=(t,e)=>new Bs({valueType:t,minSize:null,maxSize:null,typeName:be.ZodSet,...Se(e)});class mc extends ke{get schema(){return this._def.getter()}_parse(e){const{ctx:a}=this._processInputParams(e);return this._def.getter()._parse({data:a.data,path:a.path,parent:a})}}mc.create=(t,e)=>new mc({getter:t,typeName:be.ZodLazy,...Se(e)});class op extends ke{_parse(e){if(e.data!==this._def.value){const a=this._getOrReturnCtx(e);return ae(a,{received:a.data,code:W.invalid_literal,expected:this._def.value}),Ce}return{status:"valid",value:e.data}}get value(){return this._def.value}}op.create=(t,e)=>new op({value:t,typeName:be.ZodLiteral,...Se(e)});function Og(t,e){return new Ta({values:t,typeName:be.ZodEnum,...Se(e)})}class Ta extends ke{_parse(e){if(typeof e.data!="string"){const a=this._getOrReturnCtx(e),s=this._def.values;return ae(a,{expected:je.joinValues(s),received:a.parsedType,code:W.invalid_type}),Ce}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const a=this._getOrReturnCtx(e),s=this._def.values;return ae(a,{received:a.data,code:W.invalid_enum_value,options:s}),Ce}return zt(e.data)}get options(){return this._def.values}get enum(){const e={};for(const a of this._def.values)e[a]=a;return e}get Values(){const e={};for(const a of this._def.values)e[a]=a;return e}get Enum(){const e={};for(const a of this._def.values)e[a]=a;return e}extract(e,a=this._def){return Ta.create(e,{...this._def,...a})}exclude(e,a=this._def){return Ta.create(this.options.filter(s=>!e.includes(s)),{...this._def,...a})}}Ta.create=Og;class rp extends ke{_parse(e){const a=je.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(e);if(s.parsedType!==ce.string&&s.parsedType!==ce.number){const o=je.objectValues(a);return ae(s,{expected:je.joinValues(o),received:s.parsedType,code:W.invalid_type}),Ce}if(this._cache||(this._cache=new Set(je.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const o=je.objectValues(a);return ae(s,{received:s.data,code:W.invalid_enum_value,options:o}),Ce}return zt(e.data)}get enum(){return this._def.values}}rp.create=(t,e)=>new rp({values:t,typeName:be.ZodNativeEnum,...Se(e)});class Co extends ke{unwrap(){return this._def.type}_parse(e){const{ctx:a}=this._processInputParams(e);if(a.parsedType!==ce.promise&&a.common.async===!1)return ae(a,{code:W.invalid_type,expected:ce.promise,received:a.parsedType}),Ce;const s=a.parsedType===ce.promise?a.data:Promise.resolve(a.data);return zt(s.then(o=>this._def.type.parseAsync(o,{path:a.path,errorMap:a.common.contextualErrorMap})))}}Co.create=(t,e)=>new Co({type:t,typeName:be.ZodPromise,...Se(e)});class Sa extends ke{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===be.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:a,ctx:s}=this._processInputParams(e),o=this._def.effect||null,u={addIssue:h=>{ae(s,h),h.fatal?a.abort():a.dirty()},get path(){return s.path}};if(u.addIssue=u.addIssue.bind(u),o.type==="preprocess"){const h=o.transform(s.data,u);if(s.common.async)return Promise.resolve(h).then(async g=>{if(a.value==="aborted")return Ce;const x=await this._def.schema._parseAsync({data:g,path:s.path,parent:s});return x.status==="aborted"?Ce:x.status==="dirty"||a.value==="dirty"?Is(x.value):x});{if(a.value==="aborted")return Ce;const g=this._def.schema._parseSync({data:h,path:s.path,parent:s});return g.status==="aborted"?Ce:g.status==="dirty"||a.value==="dirty"?Is(g.value):g}}if(o.type==="refinement"){const h=g=>{const x=o.refinement(g,u);if(s.common.async)return Promise.resolve(x);if(x instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return g};if(s.common.async===!1){const g=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return g.status==="aborted"?Ce:(g.status==="dirty"&&a.dirty(),h(g.value),{status:a.value,value:g.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(g=>g.status==="aborted"?Ce:(g.status==="dirty"&&a.dirty(),h(g.value).then(()=>({status:a.value,value:g.value}))))}if(o.type==="transform")if(s.common.async===!1){const h=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!ba(h))return Ce;const g=o.transform(h.value,u);if(g instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:a.value,value:g}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(h=>ba(h)?Promise.resolve(o.transform(h.value,u)).then(g=>({status:a.value,value:g})):Ce);je.assertNever(o)}}Sa.create=(t,e,a)=>new Sa({schema:t,typeName:be.ZodEffects,effect:e,...Se(a)});Sa.createWithPreprocess=(t,e,a)=>new Sa({schema:e,effect:{type:"preprocess",transform:t},typeName:be.ZodEffects,...Se(a)});class Wn extends ke{_parse(e){return this._getType(e)===ce.undefined?zt(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Wn.create=(t,e)=>new Wn({innerType:t,typeName:be.ZodOptional,...Se(e)});class wa extends ke{_parse(e){return this._getType(e)===ce.null?zt(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}wa.create=(t,e)=>new wa({innerType:t,typeName:be.ZodNullable,...Se(e)});class hc extends ke{_parse(e){const{ctx:a}=this._processInputParams(e);let s=a.data;return a.parsedType===ce.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:a.path,parent:a})}removeDefault(){return this._def.innerType}}hc.create=(t,e)=>new hc({innerType:t,typeName:be.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Se(e)});class pc extends ke{_parse(e){const{ctx:a}=this._processInputParams(e),s={...a,common:{...a.common,issues:[]}},o=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return go(o)?o.then(u=>({status:"valid",value:u.status==="valid"?u.value:this._def.catchValue({get error(){return new wn(s.common.issues)},input:s.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new wn(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}pc.create=(t,e)=>new pc({innerType:t,typeName:be.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Se(e)});class up extends ke{_parse(e){if(this._getType(e)!==ce.nan){const s=this._getOrReturnCtx(e);return ae(s,{code:W.invalid_type,expected:ce.nan,received:s.parsedType}),Ce}return{status:"valid",value:e.data}}}up.create=t=>new up({typeName:be.ZodNaN,...Se(t)});class Fv extends ke{_parse(e){const{ctx:a}=this._processInputParams(e),s=a.data;return this._def.type._parse({data:s,path:a.path,parent:a})}unwrap(){return this._def.type}}class Lc extends ke{_parse(e){const{status:a,ctx:s}=this._processInputParams(e);if(s.common.async)return(async()=>{const u=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return u.status==="aborted"?Ce:u.status==="dirty"?(a.dirty(),Is(u.value)):this._def.out._parseAsync({data:u.value,path:s.path,parent:s})})();{const o=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return o.status==="aborted"?Ce:o.status==="dirty"?(a.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:s.path,parent:s})}}static create(e,a){return new Lc({in:e,out:a,typeName:be.ZodPipeline})}}class gc extends ke{_parse(e){const a=this._def.innerType._parse(e),s=o=>(ba(o)&&(o.value=Object.freeze(o.value)),o);return go(a)?a.then(o=>s(o)):s(a)}unwrap(){return this._def.innerType}}gc.create=(t,e)=>new gc({innerType:t,typeName:be.ZodReadonly,...Se(e)});var be;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(be||(be={}));const Ci=nn.create,cp=Si.create;wi.create;const Yv=yo.create;Ca.create;const dp=dc.create;ei.create;const js=sn.create,Jv=it.create,Zv=xo.create;vo.create;Ni.create;const Kv=bo.create,Qv=mc.create,Xv=Ta.create;Co.create;Wn.create;wa.create;const ha={string:t=>nn.create({...t,coerce:!0}),number:t=>Si.create({...t,coerce:!0}),boolean:t=>yo.create({...t,coerce:!0}),bigint:t=>wi.create({...t,coerce:!0}),date:t=>Ca.create({...t,coerce:!0})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Wv,e1;function t1(){return{geminiUrl:Wv,vertexUrl:e1}}function n1(t,e,a){var s,o,u;if(!(!((s=t.httpOptions)===null||s===void 0)&&s.baseUrl)){const h=t1();return t.vertexai?(o=h.vertexUrl)!==null&&o!==void 0?o:e:(u=h.geminiUrl)!==null&&u!==void 0?u:a}return t.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _a{}function ve(t,e){const a=/\{([^}]+)\}/g;return t.replace(a,(s,o)=>{if(Object.prototype.hasOwnProperty.call(e,o)){const u=e[o];return u!=null?String(u):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function d(t,e,a){for(let u=0;u<e.length-1;u++){const h=e[u];if(h.endsWith("[]")){const g=h.slice(0,-2);if(!(g in t))if(Array.isArray(a))t[g]=Array.from({length:a.length},()=>({}));else throw new Error(`Value must be a list given an array path ${h}`);if(Array.isArray(t[g])){const x=t[g];if(Array.isArray(a))for(let p=0;p<x.length;p++){const v=x[p];d(v,e.slice(u+1),a[p])}else for(const p of x)d(p,e.slice(u+1),a)}return}else if(h.endsWith("[0]")){const g=h.slice(0,-3);g in t||(t[g]=[{}]);const x=t[g];d(x[0],e.slice(u+1),a);return}(!t[h]||typeof t[h]!="object")&&(t[h]={}),t=t[h]}const s=e[e.length-1],o=t[s];if(o!==void 0){if(!a||typeof a=="object"&&Object.keys(a).length===0||a===o)return;if(typeof o=="object"&&typeof a=="object"&&o!==null&&a!==null)Object.assign(o,a);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else t[s]=a}function c(t,e){try{if(e.length===1&&e[0]==="_self")return t;for(let a=0;a<e.length;a++){if(typeof t!="object"||t===null)return;const s=e[a];if(s.endsWith("[]")){const o=s.slice(0,-2);if(o in t){const u=t[o];return Array.isArray(u)?u.map(h=>c(h,e.slice(a+1))):void 0}else return}else t=t[s]}return t}catch(a){if(a instanceof TypeError)return;throw a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var fp;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(fp||(fp={}));var mp;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(mp||(mp={}));var an;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(an||(an={}));var hp;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(hp||(hp={}));var pp;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(pp||(pp={}));var gp;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(gp||(gp={}));var yp;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(yp||(yp={}));var xp;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(xp||(xp={}));var vp;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(vp||(vp={}));var bp;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(bp||(bp={}));var Cp;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Cp||(Cp={}));var Tp;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(Tp||(Tp={}));var Sp;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Sp||(Sp={}));var To;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(To||(To={}));var wp;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(wp||(wp={}));var yc;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(yc||(yc={}));var Np;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Np||(Np={}));var _p;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(_p||(_p={}));var Ep;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Ep||(Ep={}));var Ap;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Ap||(Ap={}));var Mp;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE"})(Mp||(Mp={}));var kp;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(kp||(kp={}));var Rp;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Rp||(Rp={}));var Dp;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Dp||(Dp={}));var Ip;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi"})(Ip||(Ip={}));var jp;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(jp||(jp={}));var Lp;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Lp||(Lp={}));var Up;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Up||(Up={}));var Op;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Op||(Op={}));var Vp;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(Vp||(Vp={}));var Bp;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(Bp||(Bp={}));var Pp;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(Pp||(Pp={}));var $p;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})($p||($p={}));var qp;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(qp||(qp={}));var zp;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(zp||(zp={}));var Gp;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Gp||(Gp={}));var Hp;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Hp||(Hp={}));var Fp;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Fp||(Fp={}));var ya;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(ya||(ya={}));class xc{constructor(e){const a={};for(const s of e.headers.entries())a[s[0]]=s[1];this.headers=a,this.responseInternal=e}json(){return this.responseInternal.json()}}class ks{get text(){var e,a,s,o,u,h,g,x;if(((o=(s=(a=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",v=!1;const C=[];for(const T of(x=(g=(h=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||h===void 0?void 0:h.content)===null||g===void 0?void 0:g.parts)!==null&&x!==void 0?x:[]){for(const[S,N]of Object.entries(T))S!=="text"&&S!=="thought"&&(N!==null||N!==void 0)&&C.push(S);if(typeof T.text=="string"){if(typeof T.thought=="boolean"&&T.thought)continue;v=!0,p+=T.text}}return C.length>0&&console.warn(`there are non-text parts ${C} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?p:void 0}get data(){var e,a,s,o,u,h,g,x;if(((o=(s=(a=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const v=[];for(const C of(x=(g=(h=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||h===void 0?void 0:h.content)===null||g===void 0?void 0:g.parts)!==null&&x!==void 0?x:[]){for(const[T,S]of Object.entries(C))T!=="inlineData"&&(S!==null||S!==void 0)&&v.push(T);C.inlineData&&typeof C.inlineData.data=="string"&&(p+=atob(C.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var e,a,s,o,u,h,g,x;if(((o=(s=(a=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(x=(g=(h=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||h===void 0?void 0:h.content)===null||g===void 0?void 0:g.parts)===null||x===void 0?void 0:x.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((p==null?void 0:p.length)!==0)return p}get executableCode(){var e,a,s,o,u,h,g,x,p;if(((o=(s=(a=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(x=(g=(h=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||h===void 0?void 0:h.content)===null||g===void 0?void 0:g.parts)===null||x===void 0?void 0:x.filter(C=>C.executableCode).map(C=>C.executableCode).filter(C=>C!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var e,a,s,o,u,h,g,x,p;if(((o=(s=(a=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||a===void 0?void 0:a.content)===null||s===void 0?void 0:s.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(x=(g=(h=(u=this.candidates)===null||u===void 0?void 0:u[0])===null||h===void 0?void 0:h.content)===null||g===void 0?void 0:g.parts)===null||x===void 0?void 0:x.filter(C=>C.codeExecutionResult).map(C=>C.codeExecutionResult).filter(C=>C!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.output}}class Yp{}class Jp{}class i1{}class a1{}class Zp{}class Kp{}class Qp{}class s1{}class Xp{}class Wp{}class eg{}class l1{}class o1{}class r1{}class u1{get text(){var e,a,s;let o="",u=!1;const h=[];for(const g of(s=(a=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||a===void 0?void 0:a.parts)!==null&&s!==void 0?s:[]){for(const[x,p]of Object.entries(g))x!=="text"&&x!=="thought"&&p!==null&&h.push(x);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;u=!0,o+=g.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?o:void 0}get data(){var e,a,s;let o="";const u=[];for(const h of(s=(a=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||a===void 0?void 0:a.parts)!==null&&s!==void 0?s:[]){for(const[g,x]of Object.entries(h))g!=="inlineData"&&x!==null&&u.push(g);h.inlineData&&typeof h.inlineData.data=="string"&&(o+=atob(h.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class c1{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ge(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const a=e.split("/",2);return`publishers/${a[0]}/models/${a[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Vg(t,e){const a=Ge(t,e);return a?a.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${a}`:a.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${a}`:a:""}function Bg(t){return Array.isArray(t)?t.map(e=>So(e)):[So(t)]}function So(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function d1(t){const e=So(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function f1(t){const e=So(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function tg(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Pg(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>tg(e)):[tg(t)]}function vc(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function ng(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function ig(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function xt(t){if(t==null)throw new Error("ContentUnion is required");return vc(t)?t:{role:"user",parts:Pg(t)}}function $g(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(a=>{const s=xt(a);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(t.isVertexAI()){const a=xt(e);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]}return Array.isArray(e)?e.map(a=>xt(a)):[xt(e)]}function Jt(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(ng(t)||ig(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[xt(t)]}const e=[],a=[],s=vc(t[0]);for(const o of t){const u=vc(o);if(u!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(u)e.push(o);else{if(ng(o)||ig(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");a.push(o)}}return s||e.push({role:"user",parts:Pg(a)}),e}const m1=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),ag=Xv(["string","number","integer","object","array","boolean","null"]),h1=Zv([ag,js(ag)]);function p1(t=!0){const e=Qv(()=>{const a=Jv({type:h1.optional(),format:Ci().optional(),title:Ci().optional(),description:Ci().optional(),default:dp().optional(),items:e.optional(),minItems:ha.string().optional(),maxItems:ha.string().optional(),enum:js(dp()).optional(),properties:Kv(Ci(),e).optional(),required:js(Ci()).optional(),minProperties:ha.string().optional(),maxProperties:ha.string().optional(),propertyOrdering:js(Ci()).optional(),minimum:cp().optional(),maximum:cp().optional(),minLength:ha.string().optional(),maxLength:ha.string().optional(),pattern:Ci().optional(),anyOf:js(e).optional(),additionalProperties:Yv().optional()});return t?a.strict():a});return e}function g1(t,e){t.includes("null")&&(e.nullable=!0);const a=t.filter(s=>s!=="null");if(a.length===1)e.type=Object.values(an).includes(a[0].toUpperCase())?a[0].toUpperCase():an.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const s of a)e.anyOf.push({type:Object.values(an).includes(s.toUpperCase())?s.toUpperCase():an.TYPE_UNSPECIFIED})}}function xa(t){const e={},a=["items"],s=["anyOf"],o=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const u=t.anyOf;u!=null&&u.length==2&&(u[0].type==="null"?(e.nullable=!0,t=u[1]):u[1].type==="null"&&(e.nullable=!0,t=u[0])),t.type instanceof Array&&g1(t.type,e);for(const[h,g]of Object.entries(t))if(g!=null)if(h=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;e.type=Object.values(an).includes(g.toUpperCase())?g.toUpperCase():an.TYPE_UNSPECIFIED}else if(a.includes(h))e[h]=xa(g);else if(s.includes(h)){const x=[];for(const p of g){if(p.type=="null"){e.nullable=!0;continue}x.push(xa(p))}e[h]=x}else if(o.includes(h)){const x={};for(const[p,v]of Object.entries(g))x[p]=xa(v);e[h]=x}else{if(h==="additionalProperties")continue;e[h]=g}return e}function wo(t){if(Object.keys(t).includes("$schema")){delete t.$schema;const e=p1().parse(t);return xa(e)}else return xa(t)}function qg(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Uc(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function $s(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(e.parameters=wo(e.parameters)),e.response&&(e.response=wo(e.response));return t}function qs(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const a of t)e.push(a);return e}function y1(t,e,a,s=1){const o=!e.startsWith(`${a}/`)&&e.split("/").length===s;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${a}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:o?`projects/${t.getProject()}/locations/${t.getLocation()}/${a}/${e}`:e:o?`${a}/${e}`:e}function ti(t,e){if(typeof e!="string")throw new Error("name must be a string");return y1(t,e,"cachedContents")}function zg(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function _n(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}function x1(t){return t!=null&&typeof t=="object"&&"name"in t}function v1(t){return t!=null&&typeof t=="object"&&"video"in t}function b1(t){return t!=null&&typeof t=="object"&&"uri"in t}function Gg(t){var e;let a;if(x1(t)&&(a=t.name),!(b1(t)&&(a=t.uri,a===void 0))&&!(v1(t)&&(a=(e=t.video)===null||e===void 0?void 0:e.uri,a===void 0))){if(typeof t=="string"&&(a=t),a===void 0)throw new Error("Could not extract file name from the provided input.");if(a.startsWith("https://")){const o=a.split("files/")[1].match(/[a-z0-9]+/);if(o===null)throw new Error(`Could not extract file name from URI ${a}`);a=o[0]}else a.startsWith("files/")&&(a=a.split("files/")[1]);return a}}function Hg(t,e){let a;return t.isVertexAI()?a=e?"publishers/google/models":"models":a=e?"models":"tunedModels",a}function Fg(t){for(const e of["models","tunedModels","publisherModels"])if(C1(t,e))return t[e];return[]}function C1(t,e){return t!==null&&typeof t=="object"&&e in t}function T1(t,e={}){const a=t,s={name:a.name,description:a.description,parameters:xa(Eo(a.inputSchema))};return e.behavior&&(s.behavior=e.behavior),{functionDeclarations:[s]}}function S1(t,e={}){const a=[],s=new Set;for(const o of t){const u=o.name;if(s.has(u))throw new Error(`Duplicate function name ${u} found in MCP tools. Please ensure function names are unique.`);s.add(u);const h=T1(o,e);h.functionDeclarations&&a.push(...h.functionDeclarations)}return{functionDeclarations:a}}function w1(t){const e=[];for(const a of t)e.push(Eo(a));return e}function N1(t){const e={};for(const[a,s]of Object.entries(t)){const o=s;e[a]=Eo(o)}return e}function Eo(t){const e=new Set(["items"]),a=new Set(["anyOf"]),s=new Set(["properties"]),o={};for(const[u,h]of Object.entries(t))if(e.has(u))o[u]=Eo(h);else if(a.has(u))o[u]=w1(h);else if(s.has(u))o[u]=N1(h);else if(u==="type"){const g=h.toUpperCase();o[u]=Object.values(an).includes(g)?g:an.TYPE_UNSPECIFIED}else m1.has(u)&&(o[u]=h);return o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _1(t){const e={},a=c(t,["fps"]);a!=null&&d(e,["fps"],a);const s=c(t,["endOffset"]);s!=null&&d(e,["endOffset"],s);const o=c(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function E1(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=c(t,["data"]);a!=null&&d(e,["data"],a);const s=c(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function A1(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=c(t,["fileUri"]);a!=null&&d(e,["fileUri"],a);const s=c(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function M1(t){const e={},a=c(t,["videoMetadata"]);a!=null&&d(e,["videoMetadata"],_1(a));const s=c(t,["thought"]);s!=null&&d(e,["thought"],s);const o=c(t,["inlineData"]);o!=null&&d(e,["inlineData"],E1(o));const u=c(t,["fileData"]);u!=null&&d(e,["fileData"],A1(u));const h=c(t,["thoughtSignature"]);h!=null&&d(e,["thoughtSignature"],h);const g=c(t,["codeExecutionResult"]);g!=null&&d(e,["codeExecutionResult"],g);const x=c(t,["executableCode"]);x!=null&&d(e,["executableCode"],x);const p=c(t,["functionCall"]);p!=null&&d(e,["functionCall"],p);const v=c(t,["functionResponse"]);v!=null&&d(e,["functionResponse"],v);const C=c(t,["text"]);return C!=null&&d(e,["text"],C),e}function sg(t){const e={},a=c(t,["parts"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(u=>M1(u))),d(e,["parts"],o)}const s=c(t,["role"]);return s!=null&&d(e,["role"],s),e}function k1(t){const e={},a=c(t,["behavior"]);a!=null&&d(e,["behavior"],a);const s=c(t,["description"]);s!=null&&d(e,["description"],s);const o=c(t,["name"]);o!=null&&d(e,["name"],o);const u=c(t,["parameters"]);u!=null&&d(e,["parameters"],u);const h=c(t,["parametersJsonSchema"]);h!=null&&d(e,["parametersJsonSchema"],h);const g=c(t,["response"]);g!=null&&d(e,["response"],g);const x=c(t,["responseJsonSchema"]);return x!=null&&d(e,["responseJsonSchema"],x),e}function R1(t){const e={},a=c(t,["startTime"]);a!=null&&d(e,["startTime"],a);const s=c(t,["endTime"]);return s!=null&&d(e,["endTime"],s),e}function D1(t){const e={},a=c(t,["timeRangeFilter"]);return a!=null&&d(e,["timeRangeFilter"],R1(a)),e}function I1(t){const e={},a=c(t,["mode"]);a!=null&&d(e,["mode"],a);const s=c(t,["dynamicThreshold"]);return s!=null&&d(e,["dynamicThreshold"],s),e}function j1(t){const e={},a=c(t,["dynamicRetrievalConfig"]);return a!=null&&d(e,["dynamicRetrievalConfig"],I1(a)),e}function L1(){return{}}function U1(t){const e={},a=c(t,["functionDeclarations"]);if(a!=null){let g=a;Array.isArray(g)&&(g=g.map(x=>k1(x))),d(e,["functionDeclarations"],g)}if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=c(t,["googleSearch"]);s!=null&&d(e,["googleSearch"],D1(s));const o=c(t,["googleSearchRetrieval"]);if(o!=null&&d(e,["googleSearchRetrieval"],j1(o)),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(c(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");c(t,["urlContext"])!=null&&d(e,["urlContext"],L1());const h=c(t,["codeExecution"]);return h!=null&&d(e,["codeExecution"],h),e}function O1(t){const e={},a=c(t,["mode"]);a!=null&&d(e,["mode"],a);const s=c(t,["allowedFunctionNames"]);return s!=null&&d(e,["allowedFunctionNames"],s),e}function V1(t){const e={},a=c(t,["latitude"]);a!=null&&d(e,["latitude"],a);const s=c(t,["longitude"]);return s!=null&&d(e,["longitude"],s),e}function B1(t){const e={},a=c(t,["latLng"]);a!=null&&d(e,["latLng"],V1(a));const s=c(t,["languageCode"]);return s!=null&&d(e,["languageCode"],s),e}function P1(t){const e={},a=c(t,["functionCallingConfig"]);a!=null&&d(e,["functionCallingConfig"],O1(a));const s=c(t,["retrievalConfig"]);return s!=null&&d(e,["retrievalConfig"],B1(s)),e}function $1(t,e){const a={},s=c(t,["ttl"]);e!==void 0&&s!=null&&d(e,["ttl"],s);const o=c(t,["expireTime"]);e!==void 0&&o!=null&&d(e,["expireTime"],o);const u=c(t,["displayName"]);e!==void 0&&u!=null&&d(e,["displayName"],u);const h=c(t,["contents"]);if(e!==void 0&&h!=null){let v=Jt(h);Array.isArray(v)&&(v=v.map(C=>sg(C))),d(e,["contents"],v)}const g=c(t,["systemInstruction"]);e!==void 0&&g!=null&&d(e,["systemInstruction"],sg(xt(g)));const x=c(t,["tools"]);if(e!==void 0&&x!=null){let v=x;Array.isArray(v)&&(v=v.map(C=>U1(C))),d(e,["tools"],v)}const p=c(t,["toolConfig"]);if(e!==void 0&&p!=null&&d(e,["toolConfig"],P1(p)),c(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return a}function q1(t,e){const a={},s=c(e,["model"]);s!=null&&d(a,["model"],Vg(t,s));const o=c(e,["config"]);return o!=null&&d(a,["config"],$1(o,a)),a}function z1(t,e){const a={},s=c(e,["name"]);s!=null&&d(a,["_url","name"],ti(t,s));const o=c(e,["config"]);return o!=null&&d(a,["config"],o),a}function G1(t,e){const a={},s=c(e,["name"]);s!=null&&d(a,["_url","name"],ti(t,s));const o=c(e,["config"]);return o!=null&&d(a,["config"],o),a}function H1(t,e){const a={},s=c(t,["ttl"]);e!==void 0&&s!=null&&d(e,["ttl"],s);const o=c(t,["expireTime"]);return e!==void 0&&o!=null&&d(e,["expireTime"],o),a}function F1(t,e){const a={},s=c(e,["name"]);s!=null&&d(a,["_url","name"],ti(t,s));const o=c(e,["config"]);return o!=null&&d(a,["config"],H1(o,a)),a}function Y1(t,e){const a={},s=c(t,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const o=c(t,["pageToken"]);return e!==void 0&&o!=null&&d(e,["_query","pageToken"],o),a}function J1(t){const e={},a=c(t,["config"]);return a!=null&&d(e,["config"],Y1(a,e)),e}function Z1(t){const e={},a=c(t,["fps"]);a!=null&&d(e,["fps"],a);const s=c(t,["endOffset"]);s!=null&&d(e,["endOffset"],s);const o=c(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function K1(t){const e={},a=c(t,["displayName"]);a!=null&&d(e,["displayName"],a);const s=c(t,["data"]);s!=null&&d(e,["data"],s);const o=c(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function Q1(t){const e={},a=c(t,["displayName"]);a!=null&&d(e,["displayName"],a);const s=c(t,["fileUri"]);s!=null&&d(e,["fileUri"],s);const o=c(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function X1(t){const e={},a=c(t,["videoMetadata"]);a!=null&&d(e,["videoMetadata"],Z1(a));const s=c(t,["thought"]);s!=null&&d(e,["thought"],s);const o=c(t,["inlineData"]);o!=null&&d(e,["inlineData"],K1(o));const u=c(t,["fileData"]);u!=null&&d(e,["fileData"],Q1(u));const h=c(t,["thoughtSignature"]);h!=null&&d(e,["thoughtSignature"],h);const g=c(t,["codeExecutionResult"]);g!=null&&d(e,["codeExecutionResult"],g);const x=c(t,["executableCode"]);x!=null&&d(e,["executableCode"],x);const p=c(t,["functionCall"]);p!=null&&d(e,["functionCall"],p);const v=c(t,["functionResponse"]);v!=null&&d(e,["functionResponse"],v);const C=c(t,["text"]);return C!=null&&d(e,["text"],C),e}function lg(t){const e={},a=c(t,["parts"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(u=>X1(u))),d(e,["parts"],o)}const s=c(t,["role"]);return s!=null&&d(e,["role"],s),e}function W1(t){const e={};if(c(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const a=c(t,["description"]);a!=null&&d(e,["description"],a);const s=c(t,["name"]);s!=null&&d(e,["name"],s);const o=c(t,["parameters"]);o!=null&&d(e,["parameters"],o);const u=c(t,["parametersJsonSchema"]);u!=null&&d(e,["parametersJsonSchema"],u);const h=c(t,["response"]);h!=null&&d(e,["response"],h);const g=c(t,["responseJsonSchema"]);return g!=null&&d(e,["responseJsonSchema"],g),e}function eb(t){const e={},a=c(t,["startTime"]);a!=null&&d(e,["startTime"],a);const s=c(t,["endTime"]);return s!=null&&d(e,["endTime"],s),e}function tb(t){const e={},a=c(t,["timeRangeFilter"]);return a!=null&&d(e,["timeRangeFilter"],eb(a)),e}function nb(t){const e={},a=c(t,["mode"]);a!=null&&d(e,["mode"],a);const s=c(t,["dynamicThreshold"]);return s!=null&&d(e,["dynamicThreshold"],s),e}function ib(t){const e={},a=c(t,["dynamicRetrievalConfig"]);return a!=null&&d(e,["dynamicRetrievalConfig"],nb(a)),e}function ab(){return{}}function sb(t){const e={},a=c(t,["apiKeyString"]);return a!=null&&d(e,["apiKeyString"],a),e}function lb(t){const e={},a=c(t,["apiKeyConfig"]);a!=null&&d(e,["apiKeyConfig"],sb(a));const s=c(t,["authType"]);s!=null&&d(e,["authType"],s);const o=c(t,["googleServiceAccountConfig"]);o!=null&&d(e,["googleServiceAccountConfig"],o);const u=c(t,["httpBasicAuthConfig"]);u!=null&&d(e,["httpBasicAuthConfig"],u);const h=c(t,["oauthConfig"]);h!=null&&d(e,["oauthConfig"],h);const g=c(t,["oidcConfig"]);return g!=null&&d(e,["oidcConfig"],g),e}function ob(t){const e={},a=c(t,["authConfig"]);return a!=null&&d(e,["authConfig"],lb(a)),e}function rb(){return{}}function ub(t){const e={},a=c(t,["functionDeclarations"]);if(a!=null){let v=a;Array.isArray(v)&&(v=v.map(C=>W1(C))),d(e,["functionDeclarations"],v)}const s=c(t,["retrieval"]);s!=null&&d(e,["retrieval"],s);const o=c(t,["googleSearch"]);o!=null&&d(e,["googleSearch"],tb(o));const u=c(t,["googleSearchRetrieval"]);u!=null&&d(e,["googleSearchRetrieval"],ib(u)),c(t,["enterpriseWebSearch"])!=null&&d(e,["enterpriseWebSearch"],ab());const g=c(t,["googleMaps"]);g!=null&&d(e,["googleMaps"],ob(g)),c(t,["urlContext"])!=null&&d(e,["urlContext"],rb());const p=c(t,["codeExecution"]);return p!=null&&d(e,["codeExecution"],p),e}function cb(t){const e={},a=c(t,["mode"]);a!=null&&d(e,["mode"],a);const s=c(t,["allowedFunctionNames"]);return s!=null&&d(e,["allowedFunctionNames"],s),e}function db(t){const e={},a=c(t,["latitude"]);a!=null&&d(e,["latitude"],a);const s=c(t,["longitude"]);return s!=null&&d(e,["longitude"],s),e}function fb(t){const e={},a=c(t,["latLng"]);a!=null&&d(e,["latLng"],db(a));const s=c(t,["languageCode"]);return s!=null&&d(e,["languageCode"],s),e}function mb(t){const e={},a=c(t,["functionCallingConfig"]);a!=null&&d(e,["functionCallingConfig"],cb(a));const s=c(t,["retrievalConfig"]);return s!=null&&d(e,["retrievalConfig"],fb(s)),e}function hb(t,e){const a={},s=c(t,["ttl"]);e!==void 0&&s!=null&&d(e,["ttl"],s);const o=c(t,["expireTime"]);e!==void 0&&o!=null&&d(e,["expireTime"],o);const u=c(t,["displayName"]);e!==void 0&&u!=null&&d(e,["displayName"],u);const h=c(t,["contents"]);if(e!==void 0&&h!=null){let C=Jt(h);Array.isArray(C)&&(C=C.map(T=>lg(T))),d(e,["contents"],C)}const g=c(t,["systemInstruction"]);e!==void 0&&g!=null&&d(e,["systemInstruction"],lg(xt(g)));const x=c(t,["tools"]);if(e!==void 0&&x!=null){let C=x;Array.isArray(C)&&(C=C.map(T=>ub(T))),d(e,["tools"],C)}const p=c(t,["toolConfig"]);e!==void 0&&p!=null&&d(e,["toolConfig"],mb(p));const v=c(t,["kmsKeyName"]);return e!==void 0&&v!=null&&d(e,["encryption_spec","kmsKeyName"],v),a}function pb(t,e){const a={},s=c(e,["model"]);s!=null&&d(a,["model"],Vg(t,s));const o=c(e,["config"]);return o!=null&&d(a,["config"],hb(o,a)),a}function gb(t,e){const a={},s=c(e,["name"]);s!=null&&d(a,["_url","name"],ti(t,s));const o=c(e,["config"]);return o!=null&&d(a,["config"],o),a}function yb(t,e){const a={},s=c(e,["name"]);s!=null&&d(a,["_url","name"],ti(t,s));const o=c(e,["config"]);return o!=null&&d(a,["config"],o),a}function xb(t,e){const a={},s=c(t,["ttl"]);e!==void 0&&s!=null&&d(e,["ttl"],s);const o=c(t,["expireTime"]);return e!==void 0&&o!=null&&d(e,["expireTime"],o),a}function vb(t,e){const a={},s=c(e,["name"]);s!=null&&d(a,["_url","name"],ti(t,s));const o=c(e,["config"]);return o!=null&&d(a,["config"],xb(o,a)),a}function bb(t,e){const a={},s=c(t,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const o=c(t,["pageToken"]);return e!==void 0&&o!=null&&d(e,["_query","pageToken"],o),a}function Cb(t){const e={},a=c(t,["config"]);return a!=null&&d(e,["config"],bb(a,e)),e}function co(t){const e={},a=c(t,["name"]);a!=null&&d(e,["name"],a);const s=c(t,["displayName"]);s!=null&&d(e,["displayName"],s);const o=c(t,["model"]);o!=null&&d(e,["model"],o);const u=c(t,["createTime"]);u!=null&&d(e,["createTime"],u);const h=c(t,["updateTime"]);h!=null&&d(e,["updateTime"],h);const g=c(t,["expireTime"]);g!=null&&d(e,["expireTime"],g);const x=c(t,["usageMetadata"]);return x!=null&&d(e,["usageMetadata"],x),e}function Tb(){return{}}function Sb(t){const e={},a=c(t,["nextPageToken"]);a!=null&&d(e,["nextPageToken"],a);const s=c(t,["cachedContents"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(u=>co(u))),d(e,["cachedContents"],o)}return e}function fo(t){const e={},a=c(t,["name"]);a!=null&&d(e,["name"],a);const s=c(t,["displayName"]);s!=null&&d(e,["displayName"],s);const o=c(t,["model"]);o!=null&&d(e,["model"],o);const u=c(t,["createTime"]);u!=null&&d(e,["createTime"],u);const h=c(t,["updateTime"]);h!=null&&d(e,["updateTime"],h);const g=c(t,["expireTime"]);g!=null&&d(e,["expireTime"],g);const x=c(t,["usageMetadata"]);return x!=null&&d(e,["usageMetadata"],x),e}function wb(){return{}}function Nb(t){const e={},a=c(t,["nextPageToken"]);a!=null&&d(e,["nextPageToken"],a);const s=c(t,["cachedContents"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(u=>fo(u))),d(e,["cachedContents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Na;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Na||(Na={}));class Ao{constructor(e,a,s,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=a,this.init(e,s,o)}init(e,a,s){var o,u;this.nameInternal=e,this.pageInternal=a[this.nameInternal]||[],this.idxInternal=0;let h={config:{}};s?typeof s=="object"?h=Object.assign({},s):h=s:h={config:{}},h.config&&(h.config.pageToken=a.nextPageToken),this.paramsInternal=h,this.pageInternalSize=(u=(o=h.config)===null||o===void 0?void 0:o.pageSize)!==null&&u!==void 0?u:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _b extends _a{constructor(e){super(),this.apiClient=e,this.list=async(a={})=>new Ao(Na.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(a),a)}async create(e){var a,s,o,u;let h,g="",x={};if(this.apiClient.isVertexAI()){const p=pb(this.apiClient,e);return g=ve("cachedContents",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),h.then(v=>fo(v))}else{const p=q1(this.apiClient,e);return g=ve("cachedContents",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),h.then(v=>co(v))}}async get(e){var a,s,o,u;let h,g="",x={};if(this.apiClient.isVertexAI()){const p=gb(this.apiClient,e);return g=ve("{name}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),h.then(v=>fo(v))}else{const p=z1(this.apiClient,e);return g=ve("{name}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),h.then(v=>co(v))}}async delete(e){var a,s,o,u;let h,g="",x={};if(this.apiClient.isVertexAI()){const p=yb(this.apiClient,e);return g=ve("{name}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),h.then(()=>{const v=wb(),C=new Wp;return Object.assign(C,v),C})}else{const p=G1(this.apiClient,e);return g=ve("{name}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),h.then(()=>{const v=Tb(),C=new Wp;return Object.assign(C,v),C})}}async update(e){var a,s,o,u;let h,g="",x={};if(this.apiClient.isVertexAI()){const p=vb(this.apiClient,e);return g=ve("{name}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),h.then(v=>fo(v))}else{const p=F1(this.apiClient,e);return g=ve("{name}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),h.then(v=>co(v))}}async listInternal(e){var a,s,o,u;let h,g="",x={};if(this.apiClient.isVertexAI()){const p=Cb(e);return g=ve("cachedContents",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),h.then(v=>{const C=Nb(v),T=new eg;return Object.assign(T,C),T})}else{const p=J1(e);return g=ve("cachedContents",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),h.then(v=>{const C=Sb(v),T=new eg;return Object.assign(T,C),T})}}}function og(t){var e=typeof Symbol=="function"&&Symbol.iterator,a=e&&t[e],s=0;if(a)return a.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function He(t){return this instanceof He?(this.v=t,this):new He(t)}function va(t,e,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=a.apply(t,e||[]),o,u=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",h),o[Symbol.asyncIterator]=function(){return this},o;function h(S){return function(N){return Promise.resolve(N).then(S,C)}}function g(S,N){s[S]&&(o[S]=function(_){return new Promise(function(E,I){u.push([S,_,E,I])>1||x(S,_)})},N&&(o[S]=N(o[S])))}function x(S,N){try{p(s[S](N))}catch(_){T(u[0][3],_)}}function p(S){S.value instanceof He?Promise.resolve(S.value.v).then(v,C):T(u[0][2],S)}function v(S){x("next",S)}function C(S){x("throw",S)}function T(S,N){S(N),u.shift(),u.length&&x(u[0][0],u[0][1])}}function Ls(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],a;return e?e.call(t):(t=typeof og=="function"?og(t):t[Symbol.iterator](),a={},s("next"),s("throw"),s("return"),a[Symbol.asyncIterator]=function(){return this},a);function s(u){a[u]=t[u]&&function(h){return new Promise(function(g,x){h=t[u](h),o(g,x,h.done,h.value)})}}function o(u,h,g,x){Promise.resolve(x).then(function(p){u({value:p,done:g})},h)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Eb(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const a=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return a===void 0?!1:Yg(a)}function Yg(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function Ab(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function rg(t){if(t===void 0||t.length===0)return[];const e=[],a=t.length;let s=0;for(;s<a;)if(t[s].role==="user")e.push(t[s]),s++;else{const o=[];let u=!0;for(;s<a&&t[s].role==="model";)o.push(t[s]),u&&!Yg(t[s])&&(u=!1),s++;u?e.push(...o):e.pop()}return e}class Mb{constructor(e,a){this.modelsModule=e,this.apiClient=a}create(e){return new kb(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class kb{constructor(e,a,s,o={},u=[]){this.apiClient=e,this.modelsModule=a,this.model=s,this.config=o,this.history=u,this.sendPromise=Promise.resolve(),Ab(u)}async sendMessage(e){var a;await this.sendPromise;const s=xt(e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(a=e.config)!==null&&a!==void 0?a:this.config});return this.sendPromise=(async()=>{var u,h,g;const x=await o,p=(h=(u=x.candidates)===null||u===void 0?void 0:u[0])===null||h===void 0?void 0:h.content,v=x.automaticFunctionCallingHistory,C=this.getHistory(!0).length;let T=[];v!=null&&(T=(g=v.slice(C))!==null&&g!==void 0?g:[]);const S=p?[p]:[];this.recordHistory(s,S,T)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var a;await this.sendPromise;const s=xt(e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(a=e.config)!==null&&a!==void 0?a:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const u=await o;return this.processStreamResponse(u,s)}getHistory(e=!1){const a=e?rg(this.history):this.history;return structuredClone(a)}processStreamResponse(e,a){var s,o;return va(this,arguments,function*(){var h,g,x,p;const v=[];try{for(var C=!0,T=Ls(e),S;S=yield He(T.next()),h=S.done,!h;C=!0){p=S.value,C=!1;const N=p;if(Eb(N)){const _=(o=(s=N.candidates)===null||s===void 0?void 0:s[0])===null||o===void 0?void 0:o.content;_!==void 0&&v.push(_)}yield yield He(N)}}catch(N){g={error:N}}finally{try{!C&&!h&&(x=T.return)&&(yield He(x.call(T)))}finally{if(g)throw g.error}}this.recordHistory(a,v)})}recordHistory(e,a,s){let o=[];a.length>0&&a.every(u=>u.role!==void 0)?o=a:o.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...rg(s)):this.history.push(e),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mo extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Mo.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rb(t,e){const a={},s=c(t,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const o=c(t,["pageToken"]);return e!==void 0&&o!=null&&d(e,["_query","pageToken"],o),a}function Db(t){const e={},a=c(t,["config"]);return a!=null&&d(e,["config"],Rb(a,e)),e}function Ib(t){const e={},a=c(t,["details"]);a!=null&&d(e,["details"],a);const s=c(t,["message"]);s!=null&&d(e,["message"],s);const o=c(t,["code"]);return o!=null&&d(e,["code"],o),e}function jb(t){const e={},a=c(t,["name"]);a!=null&&d(e,["name"],a);const s=c(t,["displayName"]);s!=null&&d(e,["displayName"],s);const o=c(t,["mimeType"]);o!=null&&d(e,["mimeType"],o);const u=c(t,["sizeBytes"]);u!=null&&d(e,["sizeBytes"],u);const h=c(t,["createTime"]);h!=null&&d(e,["createTime"],h);const g=c(t,["expirationTime"]);g!=null&&d(e,["expirationTime"],g);const x=c(t,["updateTime"]);x!=null&&d(e,["updateTime"],x);const p=c(t,["sha256Hash"]);p!=null&&d(e,["sha256Hash"],p);const v=c(t,["uri"]);v!=null&&d(e,["uri"],v);const C=c(t,["downloadUri"]);C!=null&&d(e,["downloadUri"],C);const T=c(t,["state"]);T!=null&&d(e,["state"],T);const S=c(t,["source"]);S!=null&&d(e,["source"],S);const N=c(t,["videoMetadata"]);N!=null&&d(e,["videoMetadata"],N);const _=c(t,["error"]);return _!=null&&d(e,["error"],Ib(_)),e}function Lb(t){const e={},a=c(t,["file"]);a!=null&&d(e,["file"],jb(a));const s=c(t,["config"]);return s!=null&&d(e,["config"],s),e}function Ub(t){const e={},a=c(t,["name"]);a!=null&&d(e,["_url","file"],Gg(a));const s=c(t,["config"]);return s!=null&&d(e,["config"],s),e}function Ob(t){const e={},a=c(t,["name"]);a!=null&&d(e,["_url","file"],Gg(a));const s=c(t,["config"]);return s!=null&&d(e,["config"],s),e}function Vb(t){const e={},a=c(t,["details"]);a!=null&&d(e,["details"],a);const s=c(t,["message"]);s!=null&&d(e,["message"],s);const o=c(t,["code"]);return o!=null&&d(e,["code"],o),e}function bc(t){const e={},a=c(t,["name"]);a!=null&&d(e,["name"],a);const s=c(t,["displayName"]);s!=null&&d(e,["displayName"],s);const o=c(t,["mimeType"]);o!=null&&d(e,["mimeType"],o);const u=c(t,["sizeBytes"]);u!=null&&d(e,["sizeBytes"],u);const h=c(t,["createTime"]);h!=null&&d(e,["createTime"],h);const g=c(t,["expirationTime"]);g!=null&&d(e,["expirationTime"],g);const x=c(t,["updateTime"]);x!=null&&d(e,["updateTime"],x);const p=c(t,["sha256Hash"]);p!=null&&d(e,["sha256Hash"],p);const v=c(t,["uri"]);v!=null&&d(e,["uri"],v);const C=c(t,["downloadUri"]);C!=null&&d(e,["downloadUri"],C);const T=c(t,["state"]);T!=null&&d(e,["state"],T);const S=c(t,["source"]);S!=null&&d(e,["source"],S);const N=c(t,["videoMetadata"]);N!=null&&d(e,["videoMetadata"],N);const _=c(t,["error"]);return _!=null&&d(e,["error"],Vb(_)),e}function Bb(t){const e={},a=c(t,["nextPageToken"]);a!=null&&d(e,["nextPageToken"],a);const s=c(t,["files"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(u=>bc(u))),d(e,["files"],o)}return e}function Pb(){return{}}function $b(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qb extends _a{constructor(e){super(),this.apiClient=e,this.list=async(a={})=>new Ao(Na.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(a),a)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(a=>bc(a))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var a,s;let o,u="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Db(e);return u=ve("files",g._url),h=g._query,delete g.config,delete g._url,delete g._query,o=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),o.then(x=>{const p=Bb(x),v=new l1;return Object.assign(v,p),v})}}async createInternal(e){var a,s;let o,u="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Lb(e);return u=ve("upload/v1beta/files",g._url),h=g._query,delete g.config,delete g._url,delete g._query,o=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),o.then(()=>{const x=Pb(),p=new o1;return Object.assign(p,x),p})}}async get(e){var a,s;let o,u="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Ub(e);return u=ve("files/{file}",g._url),h=g._query,delete g.config,delete g._url,delete g._query,o=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),o.then(x=>bc(x))}}async delete(e){var a,s;let o,u="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Ob(e);return u=ve("files/{file}",g._url),h=g._query,delete g.config,delete g._url,delete g._query,o=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),o.then(()=>{const x=$b(),p=new r1;return Object.assign(p,x),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zb(t){const e={},a=c(t,["voiceName"]);return a!=null&&d(e,["voiceName"],a),e}function Gb(t){const e={},a=c(t,["voiceName"]);return a!=null&&d(e,["voiceName"],a),e}function Jg(t){const e={},a=c(t,["prebuiltVoiceConfig"]);return a!=null&&d(e,["prebuiltVoiceConfig"],zb(a)),e}function Hb(t){const e={},a=c(t,["prebuiltVoiceConfig"]);return a!=null&&d(e,["prebuiltVoiceConfig"],Gb(a)),e}function Fb(t){const e={},a=c(t,["speaker"]);a!=null&&d(e,["speaker"],a);const s=c(t,["voiceConfig"]);return s!=null&&d(e,["voiceConfig"],Jg(s)),e}function Yb(t){const e={},a=c(t,["speakerVoiceConfigs"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(o=>Fb(o))),d(e,["speakerVoiceConfigs"],s)}return e}function Jb(t){const e={},a=c(t,["voiceConfig"]);a!=null&&d(e,["voiceConfig"],Jg(a));const s=c(t,["multiSpeakerVoiceConfig"]);s!=null&&d(e,["multiSpeakerVoiceConfig"],Yb(s));const o=c(t,["languageCode"]);return o!=null&&d(e,["languageCode"],o),e}function Zb(t){const e={},a=c(t,["voiceConfig"]);if(a!=null&&d(e,["voiceConfig"],Hb(a)),c(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const s=c(t,["languageCode"]);return s!=null&&d(e,["languageCode"],s),e}function Kb(t){const e={},a=c(t,["fps"]);a!=null&&d(e,["fps"],a);const s=c(t,["endOffset"]);s!=null&&d(e,["endOffset"],s);const o=c(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function Qb(t){const e={},a=c(t,["fps"]);a!=null&&d(e,["fps"],a);const s=c(t,["endOffset"]);s!=null&&d(e,["endOffset"],s);const o=c(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function Xb(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=c(t,["data"]);a!=null&&d(e,["data"],a);const s=c(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function Wb(t){const e={},a=c(t,["displayName"]);a!=null&&d(e,["displayName"],a);const s=c(t,["data"]);s!=null&&d(e,["data"],s);const o=c(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function e2(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=c(t,["fileUri"]);a!=null&&d(e,["fileUri"],a);const s=c(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function t2(t){const e={},a=c(t,["displayName"]);a!=null&&d(e,["displayName"],a);const s=c(t,["fileUri"]);s!=null&&d(e,["fileUri"],s);const o=c(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function n2(t){const e={},a=c(t,["videoMetadata"]);a!=null&&d(e,["videoMetadata"],Kb(a));const s=c(t,["thought"]);s!=null&&d(e,["thought"],s);const o=c(t,["inlineData"]);o!=null&&d(e,["inlineData"],Xb(o));const u=c(t,["fileData"]);u!=null&&d(e,["fileData"],e2(u));const h=c(t,["thoughtSignature"]);h!=null&&d(e,["thoughtSignature"],h);const g=c(t,["codeExecutionResult"]);g!=null&&d(e,["codeExecutionResult"],g);const x=c(t,["executableCode"]);x!=null&&d(e,["executableCode"],x);const p=c(t,["functionCall"]);p!=null&&d(e,["functionCall"],p);const v=c(t,["functionResponse"]);v!=null&&d(e,["functionResponse"],v);const C=c(t,["text"]);return C!=null&&d(e,["text"],C),e}function i2(t){const e={},a=c(t,["videoMetadata"]);a!=null&&d(e,["videoMetadata"],Qb(a));const s=c(t,["thought"]);s!=null&&d(e,["thought"],s);const o=c(t,["inlineData"]);o!=null&&d(e,["inlineData"],Wb(o));const u=c(t,["fileData"]);u!=null&&d(e,["fileData"],t2(u));const h=c(t,["thoughtSignature"]);h!=null&&d(e,["thoughtSignature"],h);const g=c(t,["codeExecutionResult"]);g!=null&&d(e,["codeExecutionResult"],g);const x=c(t,["executableCode"]);x!=null&&d(e,["executableCode"],x);const p=c(t,["functionCall"]);p!=null&&d(e,["functionCall"],p);const v=c(t,["functionResponse"]);v!=null&&d(e,["functionResponse"],v);const C=c(t,["text"]);return C!=null&&d(e,["text"],C),e}function a2(t){const e={},a=c(t,["parts"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(u=>n2(u))),d(e,["parts"],o)}const s=c(t,["role"]);return s!=null&&d(e,["role"],s),e}function s2(t){const e={},a=c(t,["parts"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(u=>i2(u))),d(e,["parts"],o)}const s=c(t,["role"]);return s!=null&&d(e,["role"],s),e}function l2(t){const e={},a=c(t,["behavior"]);a!=null&&d(e,["behavior"],a);const s=c(t,["description"]);s!=null&&d(e,["description"],s);const o=c(t,["name"]);o!=null&&d(e,["name"],o);const u=c(t,["parameters"]);u!=null&&d(e,["parameters"],u);const h=c(t,["parametersJsonSchema"]);h!=null&&d(e,["parametersJsonSchema"],h);const g=c(t,["response"]);g!=null&&d(e,["response"],g);const x=c(t,["responseJsonSchema"]);return x!=null&&d(e,["responseJsonSchema"],x),e}function o2(t){const e={};if(c(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const a=c(t,["description"]);a!=null&&d(e,["description"],a);const s=c(t,["name"]);s!=null&&d(e,["name"],s);const o=c(t,["parameters"]);o!=null&&d(e,["parameters"],o);const u=c(t,["parametersJsonSchema"]);u!=null&&d(e,["parametersJsonSchema"],u);const h=c(t,["response"]);h!=null&&d(e,["response"],h);const g=c(t,["responseJsonSchema"]);return g!=null&&d(e,["responseJsonSchema"],g),e}function r2(t){const e={},a=c(t,["startTime"]);a!=null&&d(e,["startTime"],a);const s=c(t,["endTime"]);return s!=null&&d(e,["endTime"],s),e}function u2(t){const e={},a=c(t,["startTime"]);a!=null&&d(e,["startTime"],a);const s=c(t,["endTime"]);return s!=null&&d(e,["endTime"],s),e}function c2(t){const e={},a=c(t,["timeRangeFilter"]);return a!=null&&d(e,["timeRangeFilter"],r2(a)),e}function d2(t){const e={},a=c(t,["timeRangeFilter"]);return a!=null&&d(e,["timeRangeFilter"],u2(a)),e}function f2(t){const e={},a=c(t,["mode"]);a!=null&&d(e,["mode"],a);const s=c(t,["dynamicThreshold"]);return s!=null&&d(e,["dynamicThreshold"],s),e}function m2(t){const e={},a=c(t,["mode"]);a!=null&&d(e,["mode"],a);const s=c(t,["dynamicThreshold"]);return s!=null&&d(e,["dynamicThreshold"],s),e}function h2(t){const e={},a=c(t,["dynamicRetrievalConfig"]);return a!=null&&d(e,["dynamicRetrievalConfig"],f2(a)),e}function p2(t){const e={},a=c(t,["dynamicRetrievalConfig"]);return a!=null&&d(e,["dynamicRetrievalConfig"],m2(a)),e}function g2(){return{}}function y2(t){const e={},a=c(t,["apiKeyString"]);return a!=null&&d(e,["apiKeyString"],a),e}function x2(t){const e={},a=c(t,["apiKeyConfig"]);a!=null&&d(e,["apiKeyConfig"],y2(a));const s=c(t,["authType"]);s!=null&&d(e,["authType"],s);const o=c(t,["googleServiceAccountConfig"]);o!=null&&d(e,["googleServiceAccountConfig"],o);const u=c(t,["httpBasicAuthConfig"]);u!=null&&d(e,["httpBasicAuthConfig"],u);const h=c(t,["oauthConfig"]);h!=null&&d(e,["oauthConfig"],h);const g=c(t,["oidcConfig"]);return g!=null&&d(e,["oidcConfig"],g),e}function v2(t){const e={},a=c(t,["authConfig"]);return a!=null&&d(e,["authConfig"],x2(a)),e}function b2(){return{}}function C2(){return{}}function T2(t){const e={},a=c(t,["functionDeclarations"]);if(a!=null){let g=a;Array.isArray(g)&&(g=g.map(x=>l2(x))),d(e,["functionDeclarations"],g)}if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=c(t,["googleSearch"]);s!=null&&d(e,["googleSearch"],c2(s));const o=c(t,["googleSearchRetrieval"]);if(o!=null&&d(e,["googleSearchRetrieval"],h2(o)),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(c(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");c(t,["urlContext"])!=null&&d(e,["urlContext"],b2());const h=c(t,["codeExecution"]);return h!=null&&d(e,["codeExecution"],h),e}function S2(t){const e={},a=c(t,["functionDeclarations"]);if(a!=null){let v=a;Array.isArray(v)&&(v=v.map(C=>o2(C))),d(e,["functionDeclarations"],v)}const s=c(t,["retrieval"]);s!=null&&d(e,["retrieval"],s);const o=c(t,["googleSearch"]);o!=null&&d(e,["googleSearch"],d2(o));const u=c(t,["googleSearchRetrieval"]);u!=null&&d(e,["googleSearchRetrieval"],p2(u)),c(t,["enterpriseWebSearch"])!=null&&d(e,["enterpriseWebSearch"],g2());const g=c(t,["googleMaps"]);g!=null&&d(e,["googleMaps"],v2(g)),c(t,["urlContext"])!=null&&d(e,["urlContext"],C2());const p=c(t,["codeExecution"]);return p!=null&&d(e,["codeExecution"],p),e}function w2(t){const e={},a=c(t,["handle"]);if(a!=null&&d(e,["handle"],a),c(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function N2(t){const e={},a=c(t,["handle"]);a!=null&&d(e,["handle"],a);const s=c(t,["transparent"]);return s!=null&&d(e,["transparent"],s),e}function ug(){return{}}function cg(){return{}}function _2(t){const e={},a=c(t,["disabled"]);a!=null&&d(e,["disabled"],a);const s=c(t,["startOfSpeechSensitivity"]);s!=null&&d(e,["startOfSpeechSensitivity"],s);const o=c(t,["endOfSpeechSensitivity"]);o!=null&&d(e,["endOfSpeechSensitivity"],o);const u=c(t,["prefixPaddingMs"]);u!=null&&d(e,["prefixPaddingMs"],u);const h=c(t,["silenceDurationMs"]);return h!=null&&d(e,["silenceDurationMs"],h),e}function E2(t){const e={},a=c(t,["disabled"]);a!=null&&d(e,["disabled"],a);const s=c(t,["startOfSpeechSensitivity"]);s!=null&&d(e,["startOfSpeechSensitivity"],s);const o=c(t,["endOfSpeechSensitivity"]);o!=null&&d(e,["endOfSpeechSensitivity"],o);const u=c(t,["prefixPaddingMs"]);u!=null&&d(e,["prefixPaddingMs"],u);const h=c(t,["silenceDurationMs"]);return h!=null&&d(e,["silenceDurationMs"],h),e}function A2(t){const e={},a=c(t,["automaticActivityDetection"]);a!=null&&d(e,["automaticActivityDetection"],_2(a));const s=c(t,["activityHandling"]);s!=null&&d(e,["activityHandling"],s);const o=c(t,["turnCoverage"]);return o!=null&&d(e,["turnCoverage"],o),e}function M2(t){const e={},a=c(t,["automaticActivityDetection"]);a!=null&&d(e,["automaticActivityDetection"],E2(a));const s=c(t,["activityHandling"]);s!=null&&d(e,["activityHandling"],s);const o=c(t,["turnCoverage"]);return o!=null&&d(e,["turnCoverage"],o),e}function k2(t){const e={},a=c(t,["targetTokens"]);return a!=null&&d(e,["targetTokens"],a),e}function R2(t){const e={},a=c(t,["targetTokens"]);return a!=null&&d(e,["targetTokens"],a),e}function D2(t){const e={},a=c(t,["triggerTokens"]);a!=null&&d(e,["triggerTokens"],a);const s=c(t,["slidingWindow"]);return s!=null&&d(e,["slidingWindow"],k2(s)),e}function I2(t){const e={},a=c(t,["triggerTokens"]);a!=null&&d(e,["triggerTokens"],a);const s=c(t,["slidingWindow"]);return s!=null&&d(e,["slidingWindow"],R2(s)),e}function j2(t){const e={},a=c(t,["proactiveAudio"]);return a!=null&&d(e,["proactiveAudio"],a),e}function L2(t){const e={},a=c(t,["proactiveAudio"]);return a!=null&&d(e,["proactiveAudio"],a),e}function U2(t,e){const a={},s=c(t,["generationConfig"]);e!==void 0&&s!=null&&d(e,["setup","generationConfig"],s);const o=c(t,["responseModalities"]);e!==void 0&&o!=null&&d(e,["setup","generationConfig","responseModalities"],o);const u=c(t,["temperature"]);e!==void 0&&u!=null&&d(e,["setup","generationConfig","temperature"],u);const h=c(t,["topP"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","topP"],h);const g=c(t,["topK"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","topK"],g);const x=c(t,["maxOutputTokens"]);e!==void 0&&x!=null&&d(e,["setup","generationConfig","maxOutputTokens"],x);const p=c(t,["mediaResolution"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","mediaResolution"],p);const v=c(t,["seed"]);e!==void 0&&v!=null&&d(e,["setup","generationConfig","seed"],v);const C=c(t,["speechConfig"]);e!==void 0&&C!=null&&d(e,["setup","generationConfig","speechConfig"],Jb(Uc(C)));const T=c(t,["enableAffectiveDialog"]);e!==void 0&&T!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],T);const S=c(t,["systemInstruction"]);e!==void 0&&S!=null&&d(e,["setup","systemInstruction"],a2(xt(S)));const N=c(t,["tools"]);if(e!==void 0&&N!=null){let q=qs(N);Array.isArray(q)&&(q=q.map(J=>T2($s(J)))),d(e,["setup","tools"],q)}const _=c(t,["sessionResumption"]);e!==void 0&&_!=null&&d(e,["setup","sessionResumption"],w2(_));const E=c(t,["inputAudioTranscription"]);e!==void 0&&E!=null&&d(e,["setup","inputAudioTranscription"],ug());const I=c(t,["outputAudioTranscription"]);e!==void 0&&I!=null&&d(e,["setup","outputAudioTranscription"],ug());const V=c(t,["realtimeInputConfig"]);e!==void 0&&V!=null&&d(e,["setup","realtimeInputConfig"],A2(V));const U=c(t,["contextWindowCompression"]);e!==void 0&&U!=null&&d(e,["setup","contextWindowCompression"],D2(U));const $=c(t,["proactivity"]);return e!==void 0&&$!=null&&d(e,["setup","proactivity"],j2($)),a}function O2(t,e){const a={},s=c(t,["generationConfig"]);e!==void 0&&s!=null&&d(e,["setup","generationConfig"],s);const o=c(t,["responseModalities"]);e!==void 0&&o!=null&&d(e,["setup","generationConfig","responseModalities"],o);const u=c(t,["temperature"]);e!==void 0&&u!=null&&d(e,["setup","generationConfig","temperature"],u);const h=c(t,["topP"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","topP"],h);const g=c(t,["topK"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","topK"],g);const x=c(t,["maxOutputTokens"]);e!==void 0&&x!=null&&d(e,["setup","generationConfig","maxOutputTokens"],x);const p=c(t,["mediaResolution"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","mediaResolution"],p);const v=c(t,["seed"]);e!==void 0&&v!=null&&d(e,["setup","generationConfig","seed"],v);const C=c(t,["speechConfig"]);e!==void 0&&C!=null&&d(e,["setup","generationConfig","speechConfig"],Zb(Uc(C)));const T=c(t,["enableAffectiveDialog"]);e!==void 0&&T!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],T);const S=c(t,["systemInstruction"]);e!==void 0&&S!=null&&d(e,["setup","systemInstruction"],s2(xt(S)));const N=c(t,["tools"]);if(e!==void 0&&N!=null){let q=qs(N);Array.isArray(q)&&(q=q.map(J=>S2($s(J)))),d(e,["setup","tools"],q)}const _=c(t,["sessionResumption"]);e!==void 0&&_!=null&&d(e,["setup","sessionResumption"],N2(_));const E=c(t,["inputAudioTranscription"]);e!==void 0&&E!=null&&d(e,["setup","inputAudioTranscription"],cg());const I=c(t,["outputAudioTranscription"]);e!==void 0&&I!=null&&d(e,["setup","outputAudioTranscription"],cg());const V=c(t,["realtimeInputConfig"]);e!==void 0&&V!=null&&d(e,["setup","realtimeInputConfig"],M2(V));const U=c(t,["contextWindowCompression"]);e!==void 0&&U!=null&&d(e,["setup","contextWindowCompression"],I2(U));const $=c(t,["proactivity"]);return e!==void 0&&$!=null&&d(e,["setup","proactivity"],L2($)),a}function V2(t,e){const a={},s=c(e,["model"]);s!=null&&d(a,["setup","model"],Ge(t,s));const o=c(e,["config"]);return o!=null&&d(a,["config"],U2(o,a)),a}function B2(t,e){const a={},s=c(e,["model"]);s!=null&&d(a,["setup","model"],Ge(t,s));const o=c(e,["config"]);return o!=null&&d(a,["config"],O2(o,a)),a}function P2(){return{}}function $2(){return{}}function q2(){return{}}function z2(){return{}}function G2(t){const e={},a=c(t,["media"]);a!=null&&d(e,["mediaChunks"],Bg(a));const s=c(t,["audio"]);s!=null&&d(e,["audio"],f1(s));const o=c(t,["audioStreamEnd"]);o!=null&&d(e,["audioStreamEnd"],o);const u=c(t,["video"]);u!=null&&d(e,["video"],d1(u));const h=c(t,["text"]);return h!=null&&d(e,["text"],h),c(t,["activityStart"])!=null&&d(e,["activityStart"],P2()),c(t,["activityEnd"])!=null&&d(e,["activityEnd"],q2()),e}function H2(t){const e={},a=c(t,["media"]);if(a!=null&&d(e,["mediaChunks"],Bg(a)),c(t,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const s=c(t,["audioStreamEnd"]);if(s!=null&&d(e,["audioStreamEnd"],s),c(t,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(c(t,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return c(t,["activityStart"])!=null&&d(e,["activityStart"],$2()),c(t,["activityEnd"])!=null&&d(e,["activityEnd"],z2()),e}function Zg(t){const e={},a=c(t,["text"]);a!=null&&d(e,["text"],a);const s=c(t,["weight"]);return s!=null&&d(e,["weight"],s),e}function F2(t){const e={},a=c(t,["weightedPrompts"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(o=>Zg(o))),d(e,["weightedPrompts"],s)}return e}function Kg(t){const e={},a=c(t,["temperature"]);a!=null&&d(e,["temperature"],a);const s=c(t,["topK"]);s!=null&&d(e,["topK"],s);const o=c(t,["seed"]);o!=null&&d(e,["seed"],o);const u=c(t,["guidance"]);u!=null&&d(e,["guidance"],u);const h=c(t,["bpm"]);h!=null&&d(e,["bpm"],h);const g=c(t,["density"]);g!=null&&d(e,["density"],g);const x=c(t,["brightness"]);x!=null&&d(e,["brightness"],x);const p=c(t,["scale"]);p!=null&&d(e,["scale"],p);const v=c(t,["muteBass"]);v!=null&&d(e,["muteBass"],v);const C=c(t,["muteDrums"]);C!=null&&d(e,["muteDrums"],C);const T=c(t,["onlyBassAndDrums"]);return T!=null&&d(e,["onlyBassAndDrums"],T),e}function Y2(t){const e={},a=c(t,["musicGenerationConfig"]);return a!=null&&d(e,["musicGenerationConfig"],Kg(a)),e}function Qg(t){const e={},a=c(t,["model"]);return a!=null&&d(e,["model"],a),e}function Xg(t){const e={},a=c(t,["weightedPrompts"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(o=>Zg(o))),d(e,["weightedPrompts"],s)}return e}function Cc(t){const e={},a=c(t,["setup"]);a!=null&&d(e,["setup"],Qg(a));const s=c(t,["clientContent"]);s!=null&&d(e,["clientContent"],Xg(s));const o=c(t,["musicGenerationConfig"]);o!=null&&d(e,["musicGenerationConfig"],Kg(o));const u=c(t,["playbackControl"]);return u!=null&&d(e,["playbackControl"],u),e}function J2(){return{}}function Z2(){return{}}function K2(t){const e={},a=c(t,["fps"]);a!=null&&d(e,["fps"],a);const s=c(t,["endOffset"]);s!=null&&d(e,["endOffset"],s);const o=c(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function Q2(t){const e={},a=c(t,["fps"]);a!=null&&d(e,["fps"],a);const s=c(t,["endOffset"]);s!=null&&d(e,["endOffset"],s);const o=c(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function X2(t){const e={},a=c(t,["data"]);a!=null&&d(e,["data"],a);const s=c(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function W2(t){const e={},a=c(t,["displayName"]);a!=null&&d(e,["displayName"],a);const s=c(t,["data"]);s!=null&&d(e,["data"],s);const o=c(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function eC(t){const e={},a=c(t,["fileUri"]);a!=null&&d(e,["fileUri"],a);const s=c(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function tC(t){const e={},a=c(t,["displayName"]);a!=null&&d(e,["displayName"],a);const s=c(t,["fileUri"]);s!=null&&d(e,["fileUri"],s);const o=c(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function nC(t){const e={},a=c(t,["videoMetadata"]);a!=null&&d(e,["videoMetadata"],K2(a));const s=c(t,["thought"]);s!=null&&d(e,["thought"],s);const o=c(t,["inlineData"]);o!=null&&d(e,["inlineData"],X2(o));const u=c(t,["fileData"]);u!=null&&d(e,["fileData"],eC(u));const h=c(t,["thoughtSignature"]);h!=null&&d(e,["thoughtSignature"],h);const g=c(t,["codeExecutionResult"]);g!=null&&d(e,["codeExecutionResult"],g);const x=c(t,["executableCode"]);x!=null&&d(e,["executableCode"],x);const p=c(t,["functionCall"]);p!=null&&d(e,["functionCall"],p);const v=c(t,["functionResponse"]);v!=null&&d(e,["functionResponse"],v);const C=c(t,["text"]);return C!=null&&d(e,["text"],C),e}function iC(t){const e={},a=c(t,["videoMetadata"]);a!=null&&d(e,["videoMetadata"],Q2(a));const s=c(t,["thought"]);s!=null&&d(e,["thought"],s);const o=c(t,["inlineData"]);o!=null&&d(e,["inlineData"],W2(o));const u=c(t,["fileData"]);u!=null&&d(e,["fileData"],tC(u));const h=c(t,["thoughtSignature"]);h!=null&&d(e,["thoughtSignature"],h);const g=c(t,["codeExecutionResult"]);g!=null&&d(e,["codeExecutionResult"],g);const x=c(t,["executableCode"]);x!=null&&d(e,["executableCode"],x);const p=c(t,["functionCall"]);p!=null&&d(e,["functionCall"],p);const v=c(t,["functionResponse"]);v!=null&&d(e,["functionResponse"],v);const C=c(t,["text"]);return C!=null&&d(e,["text"],C),e}function aC(t){const e={},a=c(t,["parts"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(u=>nC(u))),d(e,["parts"],o)}const s=c(t,["role"]);return s!=null&&d(e,["role"],s),e}function sC(t){const e={},a=c(t,["parts"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(u=>iC(u))),d(e,["parts"],o)}const s=c(t,["role"]);return s!=null&&d(e,["role"],s),e}function dg(t){const e={},a=c(t,["text"]);a!=null&&d(e,["text"],a);const s=c(t,["finished"]);return s!=null&&d(e,["finished"],s),e}function fg(t){const e={},a=c(t,["text"]);a!=null&&d(e,["text"],a);const s=c(t,["finished"]);return s!=null&&d(e,["finished"],s),e}function lC(t){const e={},a=c(t,["retrievedUrl"]);a!=null&&d(e,["retrievedUrl"],a);const s=c(t,["urlRetrievalStatus"]);return s!=null&&d(e,["urlRetrievalStatus"],s),e}function oC(t){const e={},a=c(t,["urlMetadata"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(o=>lC(o))),d(e,["urlMetadata"],s)}return e}function rC(t){const e={},a=c(t,["modelTurn"]);a!=null&&d(e,["modelTurn"],aC(a));const s=c(t,["turnComplete"]);s!=null&&d(e,["turnComplete"],s);const o=c(t,["interrupted"]);o!=null&&d(e,["interrupted"],o);const u=c(t,["groundingMetadata"]);u!=null&&d(e,["groundingMetadata"],u);const h=c(t,["generationComplete"]);h!=null&&d(e,["generationComplete"],h);const g=c(t,["inputTranscription"]);g!=null&&d(e,["inputTranscription"],dg(g));const x=c(t,["outputTranscription"]);x!=null&&d(e,["outputTranscription"],dg(x));const p=c(t,["urlContextMetadata"]);return p!=null&&d(e,["urlContextMetadata"],oC(p)),e}function uC(t){const e={},a=c(t,["modelTurn"]);a!=null&&d(e,["modelTurn"],sC(a));const s=c(t,["turnComplete"]);s!=null&&d(e,["turnComplete"],s);const o=c(t,["interrupted"]);o!=null&&d(e,["interrupted"],o);const u=c(t,["groundingMetadata"]);u!=null&&d(e,["groundingMetadata"],u);const h=c(t,["generationComplete"]);h!=null&&d(e,["generationComplete"],h);const g=c(t,["inputTranscription"]);g!=null&&d(e,["inputTranscription"],fg(g));const x=c(t,["outputTranscription"]);return x!=null&&d(e,["outputTranscription"],fg(x)),e}function cC(t){const e={},a=c(t,["id"]);a!=null&&d(e,["id"],a);const s=c(t,["args"]);s!=null&&d(e,["args"],s);const o=c(t,["name"]);return o!=null&&d(e,["name"],o),e}function dC(t){const e={},a=c(t,["args"]);a!=null&&d(e,["args"],a);const s=c(t,["name"]);return s!=null&&d(e,["name"],s),e}function fC(t){const e={},a=c(t,["functionCalls"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(o=>cC(o))),d(e,["functionCalls"],s)}return e}function mC(t){const e={},a=c(t,["functionCalls"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(o=>dC(o))),d(e,["functionCalls"],s)}return e}function hC(t){const e={},a=c(t,["ids"]);return a!=null&&d(e,["ids"],a),e}function pC(t){const e={},a=c(t,["ids"]);return a!=null&&d(e,["ids"],a),e}function oo(t){const e={},a=c(t,["modality"]);a!=null&&d(e,["modality"],a);const s=c(t,["tokenCount"]);return s!=null&&d(e,["tokenCount"],s),e}function ro(t){const e={},a=c(t,["modality"]);a!=null&&d(e,["modality"],a);const s=c(t,["tokenCount"]);return s!=null&&d(e,["tokenCount"],s),e}function gC(t){const e={},a=c(t,["promptTokenCount"]);a!=null&&d(e,["promptTokenCount"],a);const s=c(t,["cachedContentTokenCount"]);s!=null&&d(e,["cachedContentTokenCount"],s);const o=c(t,["responseTokenCount"]);o!=null&&d(e,["responseTokenCount"],o);const u=c(t,["toolUsePromptTokenCount"]);u!=null&&d(e,["toolUsePromptTokenCount"],u);const h=c(t,["thoughtsTokenCount"]);h!=null&&d(e,["thoughtsTokenCount"],h);const g=c(t,["totalTokenCount"]);g!=null&&d(e,["totalTokenCount"],g);const x=c(t,["promptTokensDetails"]);if(x!=null){let T=x;Array.isArray(T)&&(T=T.map(S=>oo(S))),d(e,["promptTokensDetails"],T)}const p=c(t,["cacheTokensDetails"]);if(p!=null){let T=p;Array.isArray(T)&&(T=T.map(S=>oo(S))),d(e,["cacheTokensDetails"],T)}const v=c(t,["responseTokensDetails"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(S=>oo(S))),d(e,["responseTokensDetails"],T)}const C=c(t,["toolUsePromptTokensDetails"]);if(C!=null){let T=C;Array.isArray(T)&&(T=T.map(S=>oo(S))),d(e,["toolUsePromptTokensDetails"],T)}return e}function yC(t){const e={},a=c(t,["promptTokenCount"]);a!=null&&d(e,["promptTokenCount"],a);const s=c(t,["cachedContentTokenCount"]);s!=null&&d(e,["cachedContentTokenCount"],s);const o=c(t,["candidatesTokenCount"]);o!=null&&d(e,["responseTokenCount"],o);const u=c(t,["toolUsePromptTokenCount"]);u!=null&&d(e,["toolUsePromptTokenCount"],u);const h=c(t,["thoughtsTokenCount"]);h!=null&&d(e,["thoughtsTokenCount"],h);const g=c(t,["totalTokenCount"]);g!=null&&d(e,["totalTokenCount"],g);const x=c(t,["promptTokensDetails"]);if(x!=null){let S=x;Array.isArray(S)&&(S=S.map(N=>ro(N))),d(e,["promptTokensDetails"],S)}const p=c(t,["cacheTokensDetails"]);if(p!=null){let S=p;Array.isArray(S)&&(S=S.map(N=>ro(N))),d(e,["cacheTokensDetails"],S)}const v=c(t,["candidatesTokensDetails"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(N=>ro(N))),d(e,["responseTokensDetails"],S)}const C=c(t,["toolUsePromptTokensDetails"]);if(C!=null){let S=C;Array.isArray(S)&&(S=S.map(N=>ro(N))),d(e,["toolUsePromptTokensDetails"],S)}const T=c(t,["trafficType"]);return T!=null&&d(e,["trafficType"],T),e}function xC(t){const e={},a=c(t,["timeLeft"]);return a!=null&&d(e,["timeLeft"],a),e}function vC(t){const e={},a=c(t,["timeLeft"]);return a!=null&&d(e,["timeLeft"],a),e}function bC(t){const e={},a=c(t,["newHandle"]);a!=null&&d(e,["newHandle"],a);const s=c(t,["resumable"]);s!=null&&d(e,["resumable"],s);const o=c(t,["lastConsumedClientMessageIndex"]);return o!=null&&d(e,["lastConsumedClientMessageIndex"],o),e}function CC(t){const e={},a=c(t,["newHandle"]);a!=null&&d(e,["newHandle"],a);const s=c(t,["resumable"]);s!=null&&d(e,["resumable"],s);const o=c(t,["lastConsumedClientMessageIndex"]);return o!=null&&d(e,["lastConsumedClientMessageIndex"],o),e}function TC(t){const e={};c(t,["setupComplete"])!=null&&d(e,["setupComplete"],J2());const s=c(t,["serverContent"]);s!=null&&d(e,["serverContent"],rC(s));const o=c(t,["toolCall"]);o!=null&&d(e,["toolCall"],fC(o));const u=c(t,["toolCallCancellation"]);u!=null&&d(e,["toolCallCancellation"],hC(u));const h=c(t,["usageMetadata"]);h!=null&&d(e,["usageMetadata"],gC(h));const g=c(t,["goAway"]);g!=null&&d(e,["goAway"],xC(g));const x=c(t,["sessionResumptionUpdate"]);return x!=null&&d(e,["sessionResumptionUpdate"],bC(x)),e}function SC(t){const e={};c(t,["setupComplete"])!=null&&d(e,["setupComplete"],Z2());const s=c(t,["serverContent"]);s!=null&&d(e,["serverContent"],uC(s));const o=c(t,["toolCall"]);o!=null&&d(e,["toolCall"],mC(o));const u=c(t,["toolCallCancellation"]);u!=null&&d(e,["toolCallCancellation"],pC(u));const h=c(t,["usageMetadata"]);h!=null&&d(e,["usageMetadata"],yC(h));const g=c(t,["goAway"]);g!=null&&d(e,["goAway"],vC(g));const x=c(t,["sessionResumptionUpdate"]);return x!=null&&d(e,["sessionResumptionUpdate"],CC(x)),e}function wC(){return{}}function NC(t){const e={},a=c(t,["text"]);a!=null&&d(e,["text"],a);const s=c(t,["weight"]);return s!=null&&d(e,["weight"],s),e}function _C(t){const e={},a=c(t,["weightedPrompts"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(o=>NC(o))),d(e,["weightedPrompts"],s)}return e}function EC(t){const e={},a=c(t,["temperature"]);a!=null&&d(e,["temperature"],a);const s=c(t,["topK"]);s!=null&&d(e,["topK"],s);const o=c(t,["seed"]);o!=null&&d(e,["seed"],o);const u=c(t,["guidance"]);u!=null&&d(e,["guidance"],u);const h=c(t,["bpm"]);h!=null&&d(e,["bpm"],h);const g=c(t,["density"]);g!=null&&d(e,["density"],g);const x=c(t,["brightness"]);x!=null&&d(e,["brightness"],x);const p=c(t,["scale"]);p!=null&&d(e,["scale"],p);const v=c(t,["muteBass"]);v!=null&&d(e,["muteBass"],v);const C=c(t,["muteDrums"]);C!=null&&d(e,["muteDrums"],C);const T=c(t,["onlyBassAndDrums"]);return T!=null&&d(e,["onlyBassAndDrums"],T),e}function AC(t){const e={},a=c(t,["clientContent"]);a!=null&&d(e,["clientContent"],_C(a));const s=c(t,["musicGenerationConfig"]);return s!=null&&d(e,["musicGenerationConfig"],EC(s)),e}function MC(t){const e={},a=c(t,["data"]);a!=null&&d(e,["data"],a);const s=c(t,["mimeType"]);s!=null&&d(e,["mimeType"],s);const o=c(t,["sourceMetadata"]);return o!=null&&d(e,["sourceMetadata"],AC(o)),e}function kC(t){const e={},a=c(t,["audioChunks"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(o=>MC(o))),d(e,["audioChunks"],s)}return e}function RC(t){const e={},a=c(t,["text"]);a!=null&&d(e,["text"],a);const s=c(t,["filteredReason"]);return s!=null&&d(e,["filteredReason"],s),e}function DC(t){const e={};c(t,["setupComplete"])!=null&&d(e,["setupComplete"],wC());const s=c(t,["serverContent"]);s!=null&&d(e,["serverContent"],kC(s));const o=c(t,["filteredPrompt"]);return o!=null&&d(e,["filteredPrompt"],RC(o)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IC(t){const e={},a=c(t,["fps"]);a!=null&&d(e,["fps"],a);const s=c(t,["endOffset"]);s!=null&&d(e,["endOffset"],s);const o=c(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function jC(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=c(t,["data"]);a!=null&&d(e,["data"],a);const s=c(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function LC(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=c(t,["fileUri"]);a!=null&&d(e,["fileUri"],a);const s=c(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function UC(t){const e={},a=c(t,["videoMetadata"]);a!=null&&d(e,["videoMetadata"],IC(a));const s=c(t,["thought"]);s!=null&&d(e,["thought"],s);const o=c(t,["inlineData"]);o!=null&&d(e,["inlineData"],jC(o));const u=c(t,["fileData"]);u!=null&&d(e,["fileData"],LC(u));const h=c(t,["thoughtSignature"]);h!=null&&d(e,["thoughtSignature"],h);const g=c(t,["codeExecutionResult"]);g!=null&&d(e,["codeExecutionResult"],g);const x=c(t,["executableCode"]);x!=null&&d(e,["executableCode"],x);const p=c(t,["functionCall"]);p!=null&&d(e,["functionCall"],p);const v=c(t,["functionResponse"]);v!=null&&d(e,["functionResponse"],v);const C=c(t,["text"]);return C!=null&&d(e,["text"],C),e}function ko(t){const e={},a=c(t,["parts"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(u=>UC(u))),d(e,["parts"],o)}const s=c(t,["role"]);return s!=null&&d(e,["role"],s),e}function OC(t){const e={},a=c(t,["anyOf"]);a!=null&&d(e,["anyOf"],a);const s=c(t,["default"]);s!=null&&d(e,["default"],s);const o=c(t,["description"]);o!=null&&d(e,["description"],o);const u=c(t,["enum"]);u!=null&&d(e,["enum"],u);const h=c(t,["example"]);h!=null&&d(e,["example"],h);const g=c(t,["format"]);g!=null&&d(e,["format"],g);const x=c(t,["items"]);x!=null&&d(e,["items"],x);const p=c(t,["maxItems"]);p!=null&&d(e,["maxItems"],p);const v=c(t,["maxLength"]);v!=null&&d(e,["maxLength"],v);const C=c(t,["maxProperties"]);C!=null&&d(e,["maxProperties"],C);const T=c(t,["maximum"]);T!=null&&d(e,["maximum"],T);const S=c(t,["minItems"]);S!=null&&d(e,["minItems"],S);const N=c(t,["minLength"]);N!=null&&d(e,["minLength"],N);const _=c(t,["minProperties"]);_!=null&&d(e,["minProperties"],_);const E=c(t,["minimum"]);E!=null&&d(e,["minimum"],E);const I=c(t,["nullable"]);I!=null&&d(e,["nullable"],I);const V=c(t,["pattern"]);V!=null&&d(e,["pattern"],V);const U=c(t,["properties"]);U!=null&&d(e,["properties"],U);const $=c(t,["propertyOrdering"]);$!=null&&d(e,["propertyOrdering"],$);const q=c(t,["required"]);q!=null&&d(e,["required"],q);const J=c(t,["title"]);J!=null&&d(e,["title"],J);const Q=c(t,["type"]);return Q!=null&&d(e,["type"],Q),e}function VC(t){const e={};if(c(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=c(t,["category"]);a!=null&&d(e,["category"],a);const s=c(t,["threshold"]);return s!=null&&d(e,["threshold"],s),e}function BC(t){const e={},a=c(t,["behavior"]);a!=null&&d(e,["behavior"],a);const s=c(t,["description"]);s!=null&&d(e,["description"],s);const o=c(t,["name"]);o!=null&&d(e,["name"],o);const u=c(t,["parameters"]);u!=null&&d(e,["parameters"],u);const h=c(t,["parametersJsonSchema"]);h!=null&&d(e,["parametersJsonSchema"],h);const g=c(t,["response"]);g!=null&&d(e,["response"],g);const x=c(t,["responseJsonSchema"]);return x!=null&&d(e,["responseJsonSchema"],x),e}function PC(t){const e={},a=c(t,["startTime"]);a!=null&&d(e,["startTime"],a);const s=c(t,["endTime"]);return s!=null&&d(e,["endTime"],s),e}function $C(t){const e={},a=c(t,["timeRangeFilter"]);return a!=null&&d(e,["timeRangeFilter"],PC(a)),e}function qC(t){const e={},a=c(t,["mode"]);a!=null&&d(e,["mode"],a);const s=c(t,["dynamicThreshold"]);return s!=null&&d(e,["dynamicThreshold"],s),e}function zC(t){const e={},a=c(t,["dynamicRetrievalConfig"]);return a!=null&&d(e,["dynamicRetrievalConfig"],qC(a)),e}function GC(){return{}}function HC(t){const e={},a=c(t,["functionDeclarations"]);if(a!=null){let g=a;Array.isArray(g)&&(g=g.map(x=>BC(x))),d(e,["functionDeclarations"],g)}if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=c(t,["googleSearch"]);s!=null&&d(e,["googleSearch"],$C(s));const o=c(t,["googleSearchRetrieval"]);if(o!=null&&d(e,["googleSearchRetrieval"],zC(o)),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(c(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");c(t,["urlContext"])!=null&&d(e,["urlContext"],GC());const h=c(t,["codeExecution"]);return h!=null&&d(e,["codeExecution"],h),e}function FC(t){const e={},a=c(t,["mode"]);a!=null&&d(e,["mode"],a);const s=c(t,["allowedFunctionNames"]);return s!=null&&d(e,["allowedFunctionNames"],s),e}function YC(t){const e={},a=c(t,["latitude"]);a!=null&&d(e,["latitude"],a);const s=c(t,["longitude"]);return s!=null&&d(e,["longitude"],s),e}function JC(t){const e={},a=c(t,["latLng"]);a!=null&&d(e,["latLng"],YC(a));const s=c(t,["languageCode"]);return s!=null&&d(e,["languageCode"],s),e}function ZC(t){const e={},a=c(t,["functionCallingConfig"]);a!=null&&d(e,["functionCallingConfig"],FC(a));const s=c(t,["retrievalConfig"]);return s!=null&&d(e,["retrievalConfig"],JC(s)),e}function KC(t){const e={},a=c(t,["voiceName"]);return a!=null&&d(e,["voiceName"],a),e}function Wg(t){const e={},a=c(t,["prebuiltVoiceConfig"]);return a!=null&&d(e,["prebuiltVoiceConfig"],KC(a)),e}function QC(t){const e={},a=c(t,["speaker"]);a!=null&&d(e,["speaker"],a);const s=c(t,["voiceConfig"]);return s!=null&&d(e,["voiceConfig"],Wg(s)),e}function XC(t){const e={},a=c(t,["speakerVoiceConfigs"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(o=>QC(o))),d(e,["speakerVoiceConfigs"],s)}return e}function WC(t){const e={},a=c(t,["voiceConfig"]);a!=null&&d(e,["voiceConfig"],Wg(a));const s=c(t,["multiSpeakerVoiceConfig"]);s!=null&&d(e,["multiSpeakerVoiceConfig"],XC(s));const o=c(t,["languageCode"]);return o!=null&&d(e,["languageCode"],o),e}function eT(t){const e={},a=c(t,["includeThoughts"]);a!=null&&d(e,["includeThoughts"],a);const s=c(t,["thinkingBudget"]);return s!=null&&d(e,["thinkingBudget"],s),e}function tT(t,e,a){const s={},o=c(e,["systemInstruction"]);a!==void 0&&o!=null&&d(a,["systemInstruction"],ko(xt(o)));const u=c(e,["temperature"]);u!=null&&d(s,["temperature"],u);const h=c(e,["topP"]);h!=null&&d(s,["topP"],h);const g=c(e,["topK"]);g!=null&&d(s,["topK"],g);const x=c(e,["candidateCount"]);x!=null&&d(s,["candidateCount"],x);const p=c(e,["maxOutputTokens"]);p!=null&&d(s,["maxOutputTokens"],p);const v=c(e,["stopSequences"]);v!=null&&d(s,["stopSequences"],v);const C=c(e,["responseLogprobs"]);C!=null&&d(s,["responseLogprobs"],C);const T=c(e,["logprobs"]);T!=null&&d(s,["logprobs"],T);const S=c(e,["presencePenalty"]);S!=null&&d(s,["presencePenalty"],S);const N=c(e,["frequencyPenalty"]);N!=null&&d(s,["frequencyPenalty"],N);const _=c(e,["seed"]);_!=null&&d(s,["seed"],_);const E=c(e,["responseMimeType"]);E!=null&&d(s,["responseMimeType"],E);const I=c(e,["responseSchema"]);if(I!=null&&d(s,["responseSchema"],OC(wo(I))),c(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(c(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const V=c(e,["safetySettings"]);if(a!==void 0&&V!=null){let oe=V;Array.isArray(oe)&&(oe=oe.map(te=>VC(te))),d(a,["safetySettings"],oe)}const U=c(e,["tools"]);if(a!==void 0&&U!=null){let oe=qs(U);Array.isArray(oe)&&(oe=oe.map(te=>HC($s(te)))),d(a,["tools"],oe)}const $=c(e,["toolConfig"]);if(a!==void 0&&$!=null&&d(a,["toolConfig"],ZC($)),c(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const q=c(e,["cachedContent"]);a!==void 0&&q!=null&&d(a,["cachedContent"],ti(t,q));const J=c(e,["responseModalities"]);J!=null&&d(s,["responseModalities"],J);const Q=c(e,["mediaResolution"]);Q!=null&&d(s,["mediaResolution"],Q);const se=c(e,["speechConfig"]);if(se!=null&&d(s,["speechConfig"],WC(qg(se))),c(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const X=c(e,["thinkingConfig"]);return X!=null&&d(s,["thinkingConfig"],eT(X)),s}function mg(t,e){const a={},s=c(e,["model"]);s!=null&&d(a,["_url","model"],Ge(t,s));const o=c(e,["contents"]);if(o!=null){let h=Jt(o);Array.isArray(h)&&(h=h.map(g=>ko(g))),d(a,["contents"],h)}const u=c(e,["config"]);return u!=null&&d(a,["generationConfig"],tT(t,u,a)),a}function nT(t,e){const a={},s=c(t,["taskType"]);e!==void 0&&s!=null&&d(e,["requests[]","taskType"],s);const o=c(t,["title"]);e!==void 0&&o!=null&&d(e,["requests[]","title"],o);const u=c(t,["outputDimensionality"]);if(e!==void 0&&u!=null&&d(e,["requests[]","outputDimensionality"],u),c(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(c(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return a}function iT(t,e){const a={},s=c(e,["model"]);s!=null&&d(a,["_url","model"],Ge(t,s));const o=c(e,["contents"]);o!=null&&d(a,["requests[]","content"],$g(t,o));const u=c(e,["config"]);u!=null&&d(a,["config"],nT(u,a));const h=c(e,["model"]);return h!==void 0&&d(a,["requests[]","model"],Ge(t,h)),a}function aT(t,e){const a={};if(c(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=c(t,["numberOfImages"]);e!==void 0&&s!=null&&d(e,["parameters","sampleCount"],s);const o=c(t,["aspectRatio"]);e!==void 0&&o!=null&&d(e,["parameters","aspectRatio"],o);const u=c(t,["guidanceScale"]);if(e!==void 0&&u!=null&&d(e,["parameters","guidanceScale"],u),c(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const h=c(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&d(e,["parameters","safetySetting"],h);const g=c(t,["personGeneration"]);e!==void 0&&g!=null&&d(e,["parameters","personGeneration"],g);const x=c(t,["includeSafetyAttributes"]);e!==void 0&&x!=null&&d(e,["parameters","includeSafetyAttributes"],x);const p=c(t,["includeRaiReason"]);e!==void 0&&p!=null&&d(e,["parameters","includeRaiReason"],p);const v=c(t,["language"]);e!==void 0&&v!=null&&d(e,["parameters","language"],v);const C=c(t,["outputMimeType"]);e!==void 0&&C!=null&&d(e,["parameters","outputOptions","mimeType"],C);const T=c(t,["outputCompressionQuality"]);if(e!==void 0&&T!=null&&d(e,["parameters","outputOptions","compressionQuality"],T),c(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(c(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return a}function sT(t,e){const a={},s=c(e,["model"]);s!=null&&d(a,["_url","model"],Ge(t,s));const o=c(e,["prompt"]);o!=null&&d(a,["instances[0]","prompt"],o);const u=c(e,["config"]);return u!=null&&d(a,["config"],aT(u,a)),a}function lT(t,e){const a={},s=c(e,["model"]);s!=null&&d(a,["_url","name"],Ge(t,s));const o=c(e,["config"]);return o!=null&&d(a,["config"],o),a}function oT(t,e,a){const s={},o=c(e,["pageSize"]);a!==void 0&&o!=null&&d(a,["_query","pageSize"],o);const u=c(e,["pageToken"]);a!==void 0&&u!=null&&d(a,["_query","pageToken"],u);const h=c(e,["filter"]);a!==void 0&&h!=null&&d(a,["_query","filter"],h);const g=c(e,["queryBase"]);return a!==void 0&&g!=null&&d(a,["_url","models_url"],Hg(t,g)),s}function rT(t,e){const a={},s=c(e,["config"]);return s!=null&&d(a,["config"],oT(t,s,a)),a}function uT(t,e){const a={},s=c(t,["displayName"]);e!==void 0&&s!=null&&d(e,["displayName"],s);const o=c(t,["description"]);e!==void 0&&o!=null&&d(e,["description"],o);const u=c(t,["defaultCheckpointId"]);return e!==void 0&&u!=null&&d(e,["defaultCheckpointId"],u),a}function cT(t,e){const a={},s=c(e,["model"]);s!=null&&d(a,["_url","name"],Ge(t,s));const o=c(e,["config"]);return o!=null&&d(a,["config"],uT(o,a)),a}function dT(t,e){const a={},s=c(e,["model"]);s!=null&&d(a,["_url","name"],Ge(t,s));const o=c(e,["config"]);return o!=null&&d(a,["config"],o),a}function fT(t){const e={};if(c(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(c(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(c(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function mT(t,e){const a={},s=c(e,["model"]);s!=null&&d(a,["_url","model"],Ge(t,s));const o=c(e,["contents"]);if(o!=null){let h=Jt(o);Array.isArray(h)&&(h=h.map(g=>ko(g))),d(a,["contents"],h)}const u=c(e,["config"]);return u!=null&&d(a,["config"],fT(u)),a}function hT(t){const e={};if(c(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const a=c(t,["imageBytes"]);a!=null&&d(e,["bytesBase64Encoded"],_n(a));const s=c(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function pT(t,e){const a={},s=c(t,["numberOfVideos"]);if(e!==void 0&&s!=null&&d(e,["parameters","sampleCount"],s),c(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(c(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=c(t,["durationSeconds"]);if(e!==void 0&&o!=null&&d(e,["parameters","durationSeconds"],o),c(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const u=c(t,["aspectRatio"]);if(e!==void 0&&u!=null&&d(e,["parameters","aspectRatio"],u),c(t,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const h=c(t,["personGeneration"]);if(e!==void 0&&h!=null&&d(e,["parameters","personGeneration"],h),c(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const g=c(t,["negativePrompt"]);e!==void 0&&g!=null&&d(e,["parameters","negativePrompt"],g);const x=c(t,["enhancePrompt"]);if(e!==void 0&&x!=null&&d(e,["parameters","enhancePrompt"],x),c(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(c(t,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");return a}function gT(t,e){const a={},s=c(e,["model"]);s!=null&&d(a,["_url","model"],Ge(t,s));const o=c(e,["prompt"]);o!=null&&d(a,["instances[0]","prompt"],o);const u=c(e,["image"]);if(u!=null&&d(a,["instances[0]","image"],hT(u)),c(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const h=c(e,["config"]);return h!=null&&d(a,["config"],pT(h,a)),a}function yT(t){const e={},a=c(t,["fps"]);a!=null&&d(e,["fps"],a);const s=c(t,["endOffset"]);s!=null&&d(e,["endOffset"],s);const o=c(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function xT(t){const e={},a=c(t,["displayName"]);a!=null&&d(e,["displayName"],a);const s=c(t,["data"]);s!=null&&d(e,["data"],s);const o=c(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function vT(t){const e={},a=c(t,["displayName"]);a!=null&&d(e,["displayName"],a);const s=c(t,["fileUri"]);s!=null&&d(e,["fileUri"],s);const o=c(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function bT(t){const e={},a=c(t,["videoMetadata"]);a!=null&&d(e,["videoMetadata"],yT(a));const s=c(t,["thought"]);s!=null&&d(e,["thought"],s);const o=c(t,["inlineData"]);o!=null&&d(e,["inlineData"],xT(o));const u=c(t,["fileData"]);u!=null&&d(e,["fileData"],vT(u));const h=c(t,["thoughtSignature"]);h!=null&&d(e,["thoughtSignature"],h);const g=c(t,["codeExecutionResult"]);g!=null&&d(e,["codeExecutionResult"],g);const x=c(t,["executableCode"]);x!=null&&d(e,["executableCode"],x);const p=c(t,["functionCall"]);p!=null&&d(e,["functionCall"],p);const v=c(t,["functionResponse"]);v!=null&&d(e,["functionResponse"],v);const C=c(t,["text"]);return C!=null&&d(e,["text"],C),e}function Ea(t){const e={},a=c(t,["parts"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(u=>bT(u))),d(e,["parts"],o)}const s=c(t,["role"]);return s!=null&&d(e,["role"],s),e}function CT(t){const e={},a=c(t,["anyOf"]);a!=null&&d(e,["anyOf"],a);const s=c(t,["default"]);s!=null&&d(e,["default"],s);const o=c(t,["description"]);o!=null&&d(e,["description"],o);const u=c(t,["enum"]);u!=null&&d(e,["enum"],u);const h=c(t,["example"]);h!=null&&d(e,["example"],h);const g=c(t,["format"]);g!=null&&d(e,["format"],g);const x=c(t,["items"]);x!=null&&d(e,["items"],x);const p=c(t,["maxItems"]);p!=null&&d(e,["maxItems"],p);const v=c(t,["maxLength"]);v!=null&&d(e,["maxLength"],v);const C=c(t,["maxProperties"]);C!=null&&d(e,["maxProperties"],C);const T=c(t,["maximum"]);T!=null&&d(e,["maximum"],T);const S=c(t,["minItems"]);S!=null&&d(e,["minItems"],S);const N=c(t,["minLength"]);N!=null&&d(e,["minLength"],N);const _=c(t,["minProperties"]);_!=null&&d(e,["minProperties"],_);const E=c(t,["minimum"]);E!=null&&d(e,["minimum"],E);const I=c(t,["nullable"]);I!=null&&d(e,["nullable"],I);const V=c(t,["pattern"]);V!=null&&d(e,["pattern"],V);const U=c(t,["properties"]);U!=null&&d(e,["properties"],U);const $=c(t,["propertyOrdering"]);$!=null&&d(e,["propertyOrdering"],$);const q=c(t,["required"]);q!=null&&d(e,["required"],q);const J=c(t,["title"]);J!=null&&d(e,["title"],J);const Q=c(t,["type"]);return Q!=null&&d(e,["type"],Q),e}function TT(t){const e={},a=c(t,["featureSelectionPreference"]);return a!=null&&d(e,["featureSelectionPreference"],a),e}function ST(t){const e={},a=c(t,["method"]);a!=null&&d(e,["method"],a);const s=c(t,["category"]);s!=null&&d(e,["category"],s);const o=c(t,["threshold"]);return o!=null&&d(e,["threshold"],o),e}function wT(t){const e={};if(c(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const a=c(t,["description"]);a!=null&&d(e,["description"],a);const s=c(t,["name"]);s!=null&&d(e,["name"],s);const o=c(t,["parameters"]);o!=null&&d(e,["parameters"],o);const u=c(t,["parametersJsonSchema"]);u!=null&&d(e,["parametersJsonSchema"],u);const h=c(t,["response"]);h!=null&&d(e,["response"],h);const g=c(t,["responseJsonSchema"]);return g!=null&&d(e,["responseJsonSchema"],g),e}function NT(t){const e={},a=c(t,["startTime"]);a!=null&&d(e,["startTime"],a);const s=c(t,["endTime"]);return s!=null&&d(e,["endTime"],s),e}function _T(t){const e={},a=c(t,["timeRangeFilter"]);return a!=null&&d(e,["timeRangeFilter"],NT(a)),e}function ET(t){const e={},a=c(t,["mode"]);a!=null&&d(e,["mode"],a);const s=c(t,["dynamicThreshold"]);return s!=null&&d(e,["dynamicThreshold"],s),e}function AT(t){const e={},a=c(t,["dynamicRetrievalConfig"]);return a!=null&&d(e,["dynamicRetrievalConfig"],ET(a)),e}function MT(){return{}}function kT(t){const e={},a=c(t,["apiKeyString"]);return a!=null&&d(e,["apiKeyString"],a),e}function RT(t){const e={},a=c(t,["apiKeyConfig"]);a!=null&&d(e,["apiKeyConfig"],kT(a));const s=c(t,["authType"]);s!=null&&d(e,["authType"],s);const o=c(t,["googleServiceAccountConfig"]);o!=null&&d(e,["googleServiceAccountConfig"],o);const u=c(t,["httpBasicAuthConfig"]);u!=null&&d(e,["httpBasicAuthConfig"],u);const h=c(t,["oauthConfig"]);h!=null&&d(e,["oauthConfig"],h);const g=c(t,["oidcConfig"]);return g!=null&&d(e,["oidcConfig"],g),e}function DT(t){const e={},a=c(t,["authConfig"]);return a!=null&&d(e,["authConfig"],RT(a)),e}function IT(){return{}}function e0(t){const e={},a=c(t,["functionDeclarations"]);if(a!=null){let v=a;Array.isArray(v)&&(v=v.map(C=>wT(C))),d(e,["functionDeclarations"],v)}const s=c(t,["retrieval"]);s!=null&&d(e,["retrieval"],s);const o=c(t,["googleSearch"]);o!=null&&d(e,["googleSearch"],_T(o));const u=c(t,["googleSearchRetrieval"]);u!=null&&d(e,["googleSearchRetrieval"],AT(u)),c(t,["enterpriseWebSearch"])!=null&&d(e,["enterpriseWebSearch"],MT());const g=c(t,["googleMaps"]);g!=null&&d(e,["googleMaps"],DT(g)),c(t,["urlContext"])!=null&&d(e,["urlContext"],IT());const p=c(t,["codeExecution"]);return p!=null&&d(e,["codeExecution"],p),e}function jT(t){const e={},a=c(t,["mode"]);a!=null&&d(e,["mode"],a);const s=c(t,["allowedFunctionNames"]);return s!=null&&d(e,["allowedFunctionNames"],s),e}function LT(t){const e={},a=c(t,["latitude"]);a!=null&&d(e,["latitude"],a);const s=c(t,["longitude"]);return s!=null&&d(e,["longitude"],s),e}function UT(t){const e={},a=c(t,["latLng"]);a!=null&&d(e,["latLng"],LT(a));const s=c(t,["languageCode"]);return s!=null&&d(e,["languageCode"],s),e}function OT(t){const e={},a=c(t,["functionCallingConfig"]);a!=null&&d(e,["functionCallingConfig"],jT(a));const s=c(t,["retrievalConfig"]);return s!=null&&d(e,["retrievalConfig"],UT(s)),e}function VT(t){const e={},a=c(t,["voiceName"]);return a!=null&&d(e,["voiceName"],a),e}function BT(t){const e={},a=c(t,["prebuiltVoiceConfig"]);return a!=null&&d(e,["prebuiltVoiceConfig"],VT(a)),e}function PT(t){const e={},a=c(t,["voiceConfig"]);if(a!=null&&d(e,["voiceConfig"],BT(a)),c(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const s=c(t,["languageCode"]);return s!=null&&d(e,["languageCode"],s),e}function $T(t){const e={},a=c(t,["includeThoughts"]);a!=null&&d(e,["includeThoughts"],a);const s=c(t,["thinkingBudget"]);return s!=null&&d(e,["thinkingBudget"],s),e}function qT(t,e,a){const s={},o=c(e,["systemInstruction"]);a!==void 0&&o!=null&&d(a,["systemInstruction"],Ea(xt(o)));const u=c(e,["temperature"]);u!=null&&d(s,["temperature"],u);const h=c(e,["topP"]);h!=null&&d(s,["topP"],h);const g=c(e,["topK"]);g!=null&&d(s,["topK"],g);const x=c(e,["candidateCount"]);x!=null&&d(s,["candidateCount"],x);const p=c(e,["maxOutputTokens"]);p!=null&&d(s,["maxOutputTokens"],p);const v=c(e,["stopSequences"]);v!=null&&d(s,["stopSequences"],v);const C=c(e,["responseLogprobs"]);C!=null&&d(s,["responseLogprobs"],C);const T=c(e,["logprobs"]);T!=null&&d(s,["logprobs"],T);const S=c(e,["presencePenalty"]);S!=null&&d(s,["presencePenalty"],S);const N=c(e,["frequencyPenalty"]);N!=null&&d(s,["frequencyPenalty"],N);const _=c(e,["seed"]);_!=null&&d(s,["seed"],_);const E=c(e,["responseMimeType"]);E!=null&&d(s,["responseMimeType"],E);const I=c(e,["responseSchema"]);I!=null&&d(s,["responseSchema"],CT(wo(I)));const V=c(e,["routingConfig"]);V!=null&&d(s,["routingConfig"],V);const U=c(e,["modelSelectionConfig"]);U!=null&&d(s,["modelConfig"],TT(U));const $=c(e,["safetySettings"]);if(a!==void 0&&$!=null){let re=$;Array.isArray(re)&&(re=re.map(ee=>ST(ee))),d(a,["safetySettings"],re)}const q=c(e,["tools"]);if(a!==void 0&&q!=null){let re=qs(q);Array.isArray(re)&&(re=re.map(ee=>e0($s(ee)))),d(a,["tools"],re)}const J=c(e,["toolConfig"]);a!==void 0&&J!=null&&d(a,["toolConfig"],OT(J));const Q=c(e,["labels"]);a!==void 0&&Q!=null&&d(a,["labels"],Q);const se=c(e,["cachedContent"]);a!==void 0&&se!=null&&d(a,["cachedContent"],ti(t,se));const X=c(e,["responseModalities"]);X!=null&&d(s,["responseModalities"],X);const oe=c(e,["mediaResolution"]);oe!=null&&d(s,["mediaResolution"],oe);const te=c(e,["speechConfig"]);te!=null&&d(s,["speechConfig"],PT(qg(te)));const Z=c(e,["audioTimestamp"]);Z!=null&&d(s,["audioTimestamp"],Z);const de=c(e,["thinkingConfig"]);return de!=null&&d(s,["thinkingConfig"],$T(de)),s}function hg(t,e){const a={},s=c(e,["model"]);s!=null&&d(a,["_url","model"],Ge(t,s));const o=c(e,["contents"]);if(o!=null){let h=Jt(o);Array.isArray(h)&&(h=h.map(g=>Ea(g))),d(a,["contents"],h)}const u=c(e,["config"]);return u!=null&&d(a,["generationConfig"],qT(t,u,a)),a}function zT(t,e){const a={},s=c(t,["taskType"]);e!==void 0&&s!=null&&d(e,["instances[]","task_type"],s);const o=c(t,["title"]);e!==void 0&&o!=null&&d(e,["instances[]","title"],o);const u=c(t,["outputDimensionality"]);e!==void 0&&u!=null&&d(e,["parameters","outputDimensionality"],u);const h=c(t,["mimeType"]);e!==void 0&&h!=null&&d(e,["instances[]","mimeType"],h);const g=c(t,["autoTruncate"]);return e!==void 0&&g!=null&&d(e,["parameters","autoTruncate"],g),a}function GT(t,e){const a={},s=c(e,["model"]);s!=null&&d(a,["_url","model"],Ge(t,s));const o=c(e,["contents"]);o!=null&&d(a,["instances[]","content"],$g(t,o));const u=c(e,["config"]);return u!=null&&d(a,["config"],zT(u,a)),a}function HT(t,e){const a={},s=c(t,["outputGcsUri"]);e!==void 0&&s!=null&&d(e,["parameters","storageUri"],s);const o=c(t,["negativePrompt"]);e!==void 0&&o!=null&&d(e,["parameters","negativePrompt"],o);const u=c(t,["numberOfImages"]);e!==void 0&&u!=null&&d(e,["parameters","sampleCount"],u);const h=c(t,["aspectRatio"]);e!==void 0&&h!=null&&d(e,["parameters","aspectRatio"],h);const g=c(t,["guidanceScale"]);e!==void 0&&g!=null&&d(e,["parameters","guidanceScale"],g);const x=c(t,["seed"]);e!==void 0&&x!=null&&d(e,["parameters","seed"],x);const p=c(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&d(e,["parameters","safetySetting"],p);const v=c(t,["personGeneration"]);e!==void 0&&v!=null&&d(e,["parameters","personGeneration"],v);const C=c(t,["includeSafetyAttributes"]);e!==void 0&&C!=null&&d(e,["parameters","includeSafetyAttributes"],C);const T=c(t,["includeRaiReason"]);e!==void 0&&T!=null&&d(e,["parameters","includeRaiReason"],T);const S=c(t,["language"]);e!==void 0&&S!=null&&d(e,["parameters","language"],S);const N=c(t,["outputMimeType"]);e!==void 0&&N!=null&&d(e,["parameters","outputOptions","mimeType"],N);const _=c(t,["outputCompressionQuality"]);e!==void 0&&_!=null&&d(e,["parameters","outputOptions","compressionQuality"],_);const E=c(t,["addWatermark"]);e!==void 0&&E!=null&&d(e,["parameters","addWatermark"],E);const I=c(t,["enhancePrompt"]);return e!==void 0&&I!=null&&d(e,["parameters","enhancePrompt"],I),a}function FT(t,e){const a={},s=c(e,["model"]);s!=null&&d(a,["_url","model"],Ge(t,s));const o=c(e,["prompt"]);o!=null&&d(a,["instances[0]","prompt"],o);const u=c(e,["config"]);return u!=null&&d(a,["config"],HT(u,a)),a}function Ro(t){const e={},a=c(t,["gcsUri"]);a!=null&&d(e,["gcsUri"],a);const s=c(t,["imageBytes"]);s!=null&&d(e,["bytesBase64Encoded"],_n(s));const o=c(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function YT(t){const e={},a=c(t,["maskMode"]);a!=null&&d(e,["maskMode"],a);const s=c(t,["segmentationClasses"]);s!=null&&d(e,["maskClasses"],s);const o=c(t,["maskDilation"]);return o!=null&&d(e,["dilation"],o),e}function JT(t){const e={},a=c(t,["controlType"]);a!=null&&d(e,["controlType"],a);const s=c(t,["enableControlImageComputation"]);return s!=null&&d(e,["computeControl"],s),e}function ZT(t){const e={},a=c(t,["styleDescription"]);return a!=null&&d(e,["styleDescription"],a),e}function KT(t){const e={},a=c(t,["subjectType"]);a!=null&&d(e,["subjectType"],a);const s=c(t,["subjectDescription"]);return s!=null&&d(e,["subjectDescription"],s),e}function QT(t){const e={},a=c(t,["referenceImage"]);a!=null&&d(e,["referenceImage"],Ro(a));const s=c(t,["referenceId"]);s!=null&&d(e,["referenceId"],s);const o=c(t,["referenceType"]);o!=null&&d(e,["referenceType"],o);const u=c(t,["maskImageConfig"]);u!=null&&d(e,["maskImageConfig"],YT(u));const h=c(t,["controlImageConfig"]);h!=null&&d(e,["controlImageConfig"],JT(h));const g=c(t,["styleImageConfig"]);g!=null&&d(e,["styleImageConfig"],ZT(g));const x=c(t,["subjectImageConfig"]);return x!=null&&d(e,["subjectImageConfig"],KT(x)),e}function XT(t,e){const a={},s=c(t,["outputGcsUri"]);e!==void 0&&s!=null&&d(e,["parameters","storageUri"],s);const o=c(t,["negativePrompt"]);e!==void 0&&o!=null&&d(e,["parameters","negativePrompt"],o);const u=c(t,["numberOfImages"]);e!==void 0&&u!=null&&d(e,["parameters","sampleCount"],u);const h=c(t,["aspectRatio"]);e!==void 0&&h!=null&&d(e,["parameters","aspectRatio"],h);const g=c(t,["guidanceScale"]);e!==void 0&&g!=null&&d(e,["parameters","guidanceScale"],g);const x=c(t,["seed"]);e!==void 0&&x!=null&&d(e,["parameters","seed"],x);const p=c(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&d(e,["parameters","safetySetting"],p);const v=c(t,["personGeneration"]);e!==void 0&&v!=null&&d(e,["parameters","personGeneration"],v);const C=c(t,["includeSafetyAttributes"]);e!==void 0&&C!=null&&d(e,["parameters","includeSafetyAttributes"],C);const T=c(t,["includeRaiReason"]);e!==void 0&&T!=null&&d(e,["parameters","includeRaiReason"],T);const S=c(t,["language"]);e!==void 0&&S!=null&&d(e,["parameters","language"],S);const N=c(t,["outputMimeType"]);e!==void 0&&N!=null&&d(e,["parameters","outputOptions","mimeType"],N);const _=c(t,["outputCompressionQuality"]);e!==void 0&&_!=null&&d(e,["parameters","outputOptions","compressionQuality"],_);const E=c(t,["editMode"]);e!==void 0&&E!=null&&d(e,["parameters","editMode"],E);const I=c(t,["baseSteps"]);return e!==void 0&&I!=null&&d(e,["parameters","editConfig","baseSteps"],I),a}function WT(t,e){const a={},s=c(e,["model"]);s!=null&&d(a,["_url","model"],Ge(t,s));const o=c(e,["prompt"]);o!=null&&d(a,["instances[0]","prompt"],o);const u=c(e,["referenceImages"]);if(u!=null){let g=u;Array.isArray(g)&&(g=g.map(x=>QT(x))),d(a,["instances[0]","referenceImages"],g)}const h=c(e,["config"]);return h!=null&&d(a,["config"],XT(h,a)),a}function eS(t,e){const a={},s=c(t,["includeRaiReason"]);e!==void 0&&s!=null&&d(e,["parameters","includeRaiReason"],s);const o=c(t,["outputMimeType"]);e!==void 0&&o!=null&&d(e,["parameters","outputOptions","mimeType"],o);const u=c(t,["outputCompressionQuality"]);e!==void 0&&u!=null&&d(e,["parameters","outputOptions","compressionQuality"],u);const h=c(t,["numberOfImages"]);e!==void 0&&h!=null&&d(e,["parameters","sampleCount"],h);const g=c(t,["mode"]);return e!==void 0&&g!=null&&d(e,["parameters","mode"],g),a}function tS(t,e){const a={},s=c(e,["model"]);s!=null&&d(a,["_url","model"],Ge(t,s));const o=c(e,["image"]);o!=null&&d(a,["instances[0]","image"],Ro(o));const u=c(e,["upscaleFactor"]);u!=null&&d(a,["parameters","upscaleConfig","upscaleFactor"],u);const h=c(e,["config"]);return h!=null&&d(a,["config"],eS(h,a)),a}function nS(t,e){const a={},s=c(e,["model"]);s!=null&&d(a,["_url","name"],Ge(t,s));const o=c(e,["config"]);return o!=null&&d(a,["config"],o),a}function iS(t,e,a){const s={},o=c(e,["pageSize"]);a!==void 0&&o!=null&&d(a,["_query","pageSize"],o);const u=c(e,["pageToken"]);a!==void 0&&u!=null&&d(a,["_query","pageToken"],u);const h=c(e,["filter"]);a!==void 0&&h!=null&&d(a,["_query","filter"],h);const g=c(e,["queryBase"]);return a!==void 0&&g!=null&&d(a,["_url","models_url"],Hg(t,g)),s}function aS(t,e){const a={},s=c(e,["config"]);return s!=null&&d(a,["config"],iS(t,s,a)),a}function sS(t,e){const a={},s=c(t,["displayName"]);e!==void 0&&s!=null&&d(e,["displayName"],s);const o=c(t,["description"]);e!==void 0&&o!=null&&d(e,["description"],o);const u=c(t,["defaultCheckpointId"]);return e!==void 0&&u!=null&&d(e,["defaultCheckpointId"],u),a}function lS(t,e){const a={},s=c(e,["model"]);s!=null&&d(a,["_url","model"],Ge(t,s));const o=c(e,["config"]);return o!=null&&d(a,["config"],sS(o,a)),a}function oS(t,e){const a={},s=c(e,["model"]);s!=null&&d(a,["_url","name"],Ge(t,s));const o=c(e,["config"]);return o!=null&&d(a,["config"],o),a}function rS(t,e){const a={},s=c(t,["systemInstruction"]);e!==void 0&&s!=null&&d(e,["systemInstruction"],Ea(xt(s)));const o=c(t,["tools"]);if(e!==void 0&&o!=null){let h=o;Array.isArray(h)&&(h=h.map(g=>e0(g))),d(e,["tools"],h)}const u=c(t,["generationConfig"]);return e!==void 0&&u!=null&&d(e,["generationConfig"],u),a}function uS(t,e){const a={},s=c(e,["model"]);s!=null&&d(a,["_url","model"],Ge(t,s));const o=c(e,["contents"]);if(o!=null){let h=Jt(o);Array.isArray(h)&&(h=h.map(g=>Ea(g))),d(a,["contents"],h)}const u=c(e,["config"]);return u!=null&&d(a,["config"],rS(u,a)),a}function cS(t,e){const a={},s=c(e,["model"]);s!=null&&d(a,["_url","model"],Ge(t,s));const o=c(e,["contents"]);if(o!=null){let h=Jt(o);Array.isArray(h)&&(h=h.map(g=>Ea(g))),d(a,["contents"],h)}const u=c(e,["config"]);return u!=null&&d(a,["config"],u),a}function dS(t){const e={},a=c(t,["uri"]);a!=null&&d(e,["gcsUri"],a);const s=c(t,["videoBytes"]);s!=null&&d(e,["bytesBase64Encoded"],_n(s));const o=c(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function fS(t,e){const a={},s=c(t,["numberOfVideos"]);e!==void 0&&s!=null&&d(e,["parameters","sampleCount"],s);const o=c(t,["outputGcsUri"]);e!==void 0&&o!=null&&d(e,["parameters","storageUri"],o);const u=c(t,["fps"]);e!==void 0&&u!=null&&d(e,["parameters","fps"],u);const h=c(t,["durationSeconds"]);e!==void 0&&h!=null&&d(e,["parameters","durationSeconds"],h);const g=c(t,["seed"]);e!==void 0&&g!=null&&d(e,["parameters","seed"],g);const x=c(t,["aspectRatio"]);e!==void 0&&x!=null&&d(e,["parameters","aspectRatio"],x);const p=c(t,["resolution"]);e!==void 0&&p!=null&&d(e,["parameters","resolution"],p);const v=c(t,["personGeneration"]);e!==void 0&&v!=null&&d(e,["parameters","personGeneration"],v);const C=c(t,["pubsubTopic"]);e!==void 0&&C!=null&&d(e,["parameters","pubsubTopic"],C);const T=c(t,["negativePrompt"]);e!==void 0&&T!=null&&d(e,["parameters","negativePrompt"],T);const S=c(t,["enhancePrompt"]);e!==void 0&&S!=null&&d(e,["parameters","enhancePrompt"],S);const N=c(t,["generateAudio"]);e!==void 0&&N!=null&&d(e,["parameters","generateAudio"],N);const _=c(t,["lastFrame"]);return e!==void 0&&_!=null&&d(e,["instances[0]","lastFrame"],Ro(_)),a}function mS(t,e){const a={},s=c(e,["model"]);s!=null&&d(a,["_url","model"],Ge(t,s));const o=c(e,["prompt"]);o!=null&&d(a,["instances[0]","prompt"],o);const u=c(e,["image"]);u!=null&&d(a,["instances[0]","image"],Ro(u));const h=c(e,["video"]);h!=null&&d(a,["instances[0]","video"],dS(h));const g=c(e,["config"]);return g!=null&&d(a,["config"],fS(g,a)),a}function hS(t){const e={},a=c(t,["fps"]);a!=null&&d(e,["fps"],a);const s=c(t,["endOffset"]);s!=null&&d(e,["endOffset"],s);const o=c(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function pS(t){const e={},a=c(t,["data"]);a!=null&&d(e,["data"],a);const s=c(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function gS(t){const e={},a=c(t,["fileUri"]);a!=null&&d(e,["fileUri"],a);const s=c(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function yS(t){const e={},a=c(t,["videoMetadata"]);a!=null&&d(e,["videoMetadata"],hS(a));const s=c(t,["thought"]);s!=null&&d(e,["thought"],s);const o=c(t,["inlineData"]);o!=null&&d(e,["inlineData"],pS(o));const u=c(t,["fileData"]);u!=null&&d(e,["fileData"],gS(u));const h=c(t,["thoughtSignature"]);h!=null&&d(e,["thoughtSignature"],h);const g=c(t,["codeExecutionResult"]);g!=null&&d(e,["codeExecutionResult"],g);const x=c(t,["executableCode"]);x!=null&&d(e,["executableCode"],x);const p=c(t,["functionCall"]);p!=null&&d(e,["functionCall"],p);const v=c(t,["functionResponse"]);v!=null&&d(e,["functionResponse"],v);const C=c(t,["text"]);return C!=null&&d(e,["text"],C),e}function xS(t){const e={},a=c(t,["parts"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(u=>yS(u))),d(e,["parts"],o)}const s=c(t,["role"]);return s!=null&&d(e,["role"],s),e}function vS(t){const e={},a=c(t,["citationSources"]);return a!=null&&d(e,["citations"],a),e}function bS(t){const e={},a=c(t,["retrievedUrl"]);a!=null&&d(e,["retrievedUrl"],a);const s=c(t,["urlRetrievalStatus"]);return s!=null&&d(e,["urlRetrievalStatus"],s),e}function CS(t){const e={},a=c(t,["urlMetadata"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(o=>bS(o))),d(e,["urlMetadata"],s)}return e}function TS(t){const e={},a=c(t,["content"]);a!=null&&d(e,["content"],xS(a));const s=c(t,["citationMetadata"]);s!=null&&d(e,["citationMetadata"],vS(s));const o=c(t,["tokenCount"]);o!=null&&d(e,["tokenCount"],o);const u=c(t,["finishReason"]);u!=null&&d(e,["finishReason"],u);const h=c(t,["urlContextMetadata"]);h!=null&&d(e,["urlContextMetadata"],CS(h));const g=c(t,["avgLogprobs"]);g!=null&&d(e,["avgLogprobs"],g);const x=c(t,["groundingMetadata"]);x!=null&&d(e,["groundingMetadata"],x);const p=c(t,["index"]);p!=null&&d(e,["index"],p);const v=c(t,["logprobsResult"]);v!=null&&d(e,["logprobsResult"],v);const C=c(t,["safetyRatings"]);return C!=null&&d(e,["safetyRatings"],C),e}function pg(t){const e={},a=c(t,["candidates"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(g=>TS(g))),d(e,["candidates"],h)}const s=c(t,["modelVersion"]);s!=null&&d(e,["modelVersion"],s);const o=c(t,["promptFeedback"]);o!=null&&d(e,["promptFeedback"],o);const u=c(t,["usageMetadata"]);return u!=null&&d(e,["usageMetadata"],u),e}function SS(t){const e={},a=c(t,["values"]);return a!=null&&d(e,["values"],a),e}function wS(){return{}}function NS(t){const e={},a=c(t,["embeddings"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(u=>SS(u))),d(e,["embeddings"],o)}return c(t,["metadata"])!=null&&d(e,["metadata"],wS()),e}function _S(t){const e={},a=c(t,["bytesBase64Encoded"]);a!=null&&d(e,["imageBytes"],_n(a));const s=c(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function t0(t){const e={},a=c(t,["safetyAttributes","categories"]);a!=null&&d(e,["categories"],a);const s=c(t,["safetyAttributes","scores"]);s!=null&&d(e,["scores"],s);const o=c(t,["contentType"]);return o!=null&&d(e,["contentType"],o),e}function ES(t){const e={},a=c(t,["_self"]);a!=null&&d(e,["image"],_S(a));const s=c(t,["raiFilteredReason"]);s!=null&&d(e,["raiFilteredReason"],s);const o=c(t,["_self"]);return o!=null&&d(e,["safetyAttributes"],t0(o)),e}function AS(t){const e={},a=c(t,["predictions"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(u=>ES(u))),d(e,["generatedImages"],o)}const s=c(t,["positivePromptSafetyAttributes"]);return s!=null&&d(e,["positivePromptSafetyAttributes"],t0(s)),e}function MS(t){const e={},a=c(t,["baseModel"]);a!=null&&d(e,["baseModel"],a);const s=c(t,["createTime"]);s!=null&&d(e,["createTime"],s);const o=c(t,["updateTime"]);return o!=null&&d(e,["updateTime"],o),e}function Tc(t){const e={},a=c(t,["name"]);a!=null&&d(e,["name"],a);const s=c(t,["displayName"]);s!=null&&d(e,["displayName"],s);const o=c(t,["description"]);o!=null&&d(e,["description"],o);const u=c(t,["version"]);u!=null&&d(e,["version"],u);const h=c(t,["_self"]);h!=null&&d(e,["tunedModelInfo"],MS(h));const g=c(t,["inputTokenLimit"]);g!=null&&d(e,["inputTokenLimit"],g);const x=c(t,["outputTokenLimit"]);x!=null&&d(e,["outputTokenLimit"],x);const p=c(t,["supportedGenerationMethods"]);return p!=null&&d(e,["supportedActions"],p),e}function kS(t,e){const a={},s=c(e,["nextPageToken"]);s!=null&&d(a,["nextPageToken"],s);const o=c(e,["_self"]);if(o!=null){let u=Fg(o);Array.isArray(u)&&(u=u.map(h=>Tc(h))),d(a,["models"],u)}return a}function RS(){return{}}function DS(t){const e={},a=c(t,["totalTokens"]);a!=null&&d(e,["totalTokens"],a);const s=c(t,["cachedContentTokenCount"]);return s!=null&&d(e,["cachedContentTokenCount"],s),e}function IS(t){const e={},a=c(t,["video","uri"]);a!=null&&d(e,["uri"],a);const s=c(t,["video","encodedVideo"]);s!=null&&d(e,["videoBytes"],_n(s));const o=c(t,["encoding"]);return o!=null&&d(e,["mimeType"],o),e}function jS(t){const e={},a=c(t,["_self"]);return a!=null&&d(e,["video"],IS(a)),e}function LS(t){const e={},a=c(t,["generatedSamples"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(h=>jS(h))),d(e,["generatedVideos"],u)}const s=c(t,["raiMediaFilteredCount"]);s!=null&&d(e,["raiMediaFilteredCount"],s);const o=c(t,["raiMediaFilteredReasons"]);return o!=null&&d(e,["raiMediaFilteredReasons"],o),e}function US(t){const e={},a=c(t,["name"]);a!=null&&d(e,["name"],a);const s=c(t,["metadata"]);s!=null&&d(e,["metadata"],s);const o=c(t,["done"]);o!=null&&d(e,["done"],o);const u=c(t,["error"]);u!=null&&d(e,["error"],u);const h=c(t,["response","generateVideoResponse"]);return h!=null&&d(e,["response"],LS(h)),e}function OS(t){const e={},a=c(t,["fps"]);a!=null&&d(e,["fps"],a);const s=c(t,["endOffset"]);s!=null&&d(e,["endOffset"],s);const o=c(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function VS(t){const e={},a=c(t,["displayName"]);a!=null&&d(e,["displayName"],a);const s=c(t,["data"]);s!=null&&d(e,["data"],s);const o=c(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function BS(t){const e={},a=c(t,["displayName"]);a!=null&&d(e,["displayName"],a);const s=c(t,["fileUri"]);s!=null&&d(e,["fileUri"],s);const o=c(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function PS(t){const e={},a=c(t,["videoMetadata"]);a!=null&&d(e,["videoMetadata"],OS(a));const s=c(t,["thought"]);s!=null&&d(e,["thought"],s);const o=c(t,["inlineData"]);o!=null&&d(e,["inlineData"],VS(o));const u=c(t,["fileData"]);u!=null&&d(e,["fileData"],BS(u));const h=c(t,["thoughtSignature"]);h!=null&&d(e,["thoughtSignature"],h);const g=c(t,["codeExecutionResult"]);g!=null&&d(e,["codeExecutionResult"],g);const x=c(t,["executableCode"]);x!=null&&d(e,["executableCode"],x);const p=c(t,["functionCall"]);p!=null&&d(e,["functionCall"],p);const v=c(t,["functionResponse"]);v!=null&&d(e,["functionResponse"],v);const C=c(t,["text"]);return C!=null&&d(e,["text"],C),e}function $S(t){const e={},a=c(t,["parts"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(u=>PS(u))),d(e,["parts"],o)}const s=c(t,["role"]);return s!=null&&d(e,["role"],s),e}function qS(t){const e={},a=c(t,["citations"]);return a!=null&&d(e,["citations"],a),e}function zS(t){const e={},a=c(t,["retrievedUrl"]);a!=null&&d(e,["retrievedUrl"],a);const s=c(t,["urlRetrievalStatus"]);return s!=null&&d(e,["urlRetrievalStatus"],s),e}function GS(t){const e={},a=c(t,["urlMetadata"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(o=>zS(o))),d(e,["urlMetadata"],s)}return e}function HS(t){const e={},a=c(t,["content"]);a!=null&&d(e,["content"],$S(a));const s=c(t,["citationMetadata"]);s!=null&&d(e,["citationMetadata"],qS(s));const o=c(t,["finishMessage"]);o!=null&&d(e,["finishMessage"],o);const u=c(t,["finishReason"]);u!=null&&d(e,["finishReason"],u);const h=c(t,["urlContextMetadata"]);h!=null&&d(e,["urlContextMetadata"],GS(h));const g=c(t,["avgLogprobs"]);g!=null&&d(e,["avgLogprobs"],g);const x=c(t,["groundingMetadata"]);x!=null&&d(e,["groundingMetadata"],x);const p=c(t,["index"]);p!=null&&d(e,["index"],p);const v=c(t,["logprobsResult"]);v!=null&&d(e,["logprobsResult"],v);const C=c(t,["safetyRatings"]);return C!=null&&d(e,["safetyRatings"],C),e}function gg(t){const e={},a=c(t,["candidates"]);if(a!=null){let x=a;Array.isArray(x)&&(x=x.map(p=>HS(p))),d(e,["candidates"],x)}const s=c(t,["createTime"]);s!=null&&d(e,["createTime"],s);const o=c(t,["responseId"]);o!=null&&d(e,["responseId"],o);const u=c(t,["modelVersion"]);u!=null&&d(e,["modelVersion"],u);const h=c(t,["promptFeedback"]);h!=null&&d(e,["promptFeedback"],h);const g=c(t,["usageMetadata"]);return g!=null&&d(e,["usageMetadata"],g),e}function FS(t){const e={},a=c(t,["truncated"]);a!=null&&d(e,["truncated"],a);const s=c(t,["token_count"]);return s!=null&&d(e,["tokenCount"],s),e}function YS(t){const e={},a=c(t,["values"]);a!=null&&d(e,["values"],a);const s=c(t,["statistics"]);return s!=null&&d(e,["statistics"],FS(s)),e}function JS(t){const e={},a=c(t,["billableCharacterCount"]);return a!=null&&d(e,["billableCharacterCount"],a),e}function ZS(t){const e={},a=c(t,["predictions[]","embeddings"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(u=>YS(u))),d(e,["embeddings"],o)}const s=c(t,["metadata"]);return s!=null&&d(e,["metadata"],JS(s)),e}function KS(t){const e={},a=c(t,["gcsUri"]);a!=null&&d(e,["gcsUri"],a);const s=c(t,["bytesBase64Encoded"]);s!=null&&d(e,["imageBytes"],_n(s));const o=c(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function n0(t){const e={},a=c(t,["safetyAttributes","categories"]);a!=null&&d(e,["categories"],a);const s=c(t,["safetyAttributes","scores"]);s!=null&&d(e,["scores"],s);const o=c(t,["contentType"]);return o!=null&&d(e,["contentType"],o),e}function Oc(t){const e={},a=c(t,["_self"]);a!=null&&d(e,["image"],KS(a));const s=c(t,["raiFilteredReason"]);s!=null&&d(e,["raiFilteredReason"],s);const o=c(t,["_self"]);o!=null&&d(e,["safetyAttributes"],n0(o));const u=c(t,["prompt"]);return u!=null&&d(e,["enhancedPrompt"],u),e}function QS(t){const e={},a=c(t,["predictions"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(u=>Oc(u))),d(e,["generatedImages"],o)}const s=c(t,["positivePromptSafetyAttributes"]);return s!=null&&d(e,["positivePromptSafetyAttributes"],n0(s)),e}function XS(t){const e={},a=c(t,["predictions"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(o=>Oc(o))),d(e,["generatedImages"],s)}return e}function WS(t){const e={},a=c(t,["predictions"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(o=>Oc(o))),d(e,["generatedImages"],s)}return e}function ew(t){const e={},a=c(t,["endpoint"]);a!=null&&d(e,["name"],a);const s=c(t,["deployedModelId"]);return s!=null&&d(e,["deployedModelId"],s),e}function tw(t){const e={},a=c(t,["labels","google-vertex-llm-tuning-base-model-id"]);a!=null&&d(e,["baseModel"],a);const s=c(t,["createTime"]);s!=null&&d(e,["createTime"],s);const o=c(t,["updateTime"]);return o!=null&&d(e,["updateTime"],o),e}function nw(t){const e={},a=c(t,["checkpointId"]);a!=null&&d(e,["checkpointId"],a);const s=c(t,["epoch"]);s!=null&&d(e,["epoch"],s);const o=c(t,["step"]);return o!=null&&d(e,["step"],o),e}function Sc(t){const e={},a=c(t,["name"]);a!=null&&d(e,["name"],a);const s=c(t,["displayName"]);s!=null&&d(e,["displayName"],s);const o=c(t,["description"]);o!=null&&d(e,["description"],o);const u=c(t,["versionId"]);u!=null&&d(e,["version"],u);const h=c(t,["deployedModels"]);if(h!=null){let C=h;Array.isArray(C)&&(C=C.map(T=>ew(T))),d(e,["endpoints"],C)}const g=c(t,["labels"]);g!=null&&d(e,["labels"],g);const x=c(t,["_self"]);x!=null&&d(e,["tunedModelInfo"],tw(x));const p=c(t,["defaultCheckpointId"]);p!=null&&d(e,["defaultCheckpointId"],p);const v=c(t,["checkpoints"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(T=>nw(T))),d(e,["checkpoints"],C)}return e}function iw(t,e){const a={},s=c(e,["nextPageToken"]);s!=null&&d(a,["nextPageToken"],s);const o=c(e,["_self"]);if(o!=null){let u=Fg(o);Array.isArray(u)&&(u=u.map(h=>Sc(h))),d(a,["models"],u)}return a}function aw(){return{}}function sw(t){const e={},a=c(t,["totalTokens"]);return a!=null&&d(e,["totalTokens"],a),e}function lw(t){const e={},a=c(t,["tokensInfo"]);return a!=null&&d(e,["tokensInfo"],a),e}function ow(t){const e={},a=c(t,["gcsUri"]);a!=null&&d(e,["uri"],a);const s=c(t,["bytesBase64Encoded"]);s!=null&&d(e,["videoBytes"],_n(s));const o=c(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function rw(t){const e={},a=c(t,["_self"]);return a!=null&&d(e,["video"],ow(a)),e}function uw(t){const e={},a=c(t,["videos"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(h=>rw(h))),d(e,["generatedVideos"],u)}const s=c(t,["raiMediaFilteredCount"]);s!=null&&d(e,["raiMediaFilteredCount"],s);const o=c(t,["raiMediaFilteredReasons"]);return o!=null&&d(e,["raiMediaFilteredReasons"],o),e}function cw(t){const e={},a=c(t,["name"]);a!=null&&d(e,["name"],a);const s=c(t,["metadata"]);s!=null&&d(e,["metadata"],s);const o=c(t,["done"]);o!=null&&d(e,["done"],o);const u=c(t,["error"]);u!=null&&d(e,["error"],u);const h=c(t,["response"]);return h!=null&&d(e,["response"],uw(h)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dw="Content-Type",fw="X-Server-Timeout",mw="User-Agent",wc="x-goog-api-client",hw="1.6.0",pw=`google-genai-sdk/${hw}`,gw="v1beta1",yw="v1beta",yg=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class xw{constructor(e){var a,s;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:gw,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:yw,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&s.push(e.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),a=new URL(e);return a.protocol=a.protocol=="http:"?"ws":"wss",a.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,a,s){const o=[this.getRequestUrlInternal(a)];return s&&o.push(this.getBaseResourcePath()),e!==""&&o.push(e),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let a=this.clientOptions.httpOptions;e.httpOptions&&(a=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,a,s);if(e.queryParams)for(const[h,g]of Object.entries(e.queryParams))o.searchParams.append(h,String(g));let u={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else u.body=e.body;return u=await this.includeExtraHttpOptionsToRequestInit(u,a,e.abortSignal),this.unaryApiCall(o,u,e.httpMethod)}patchHttpOptions(e,a){const s=JSON.parse(JSON.stringify(e));for(const[o,u]of Object.entries(a))typeof u=="object"?s[o]=Object.assign(Object.assign({},s[o]),u):u!==void 0&&(s[o]=u);return s}async requestStream(e){let a=this.clientOptions.httpOptions;e.httpOptions&&(a=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,a,s);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let u={};return u.body=e.body,u=await this.includeExtraHttpOptionsToRequestInit(u,a,e.abortSignal),this.streamApiCall(o,u,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,a,s){if(a&&a.timeout||s){const o=new AbortController,u=o.signal;a.timeout&&(a==null?void 0:a.timeout)>0&&setTimeout(()=>o.abort(),a.timeout),s&&s.addEventListener("abort",()=>{o.abort()}),e.signal=u}return a&&a.extraBody!==null&&vw(e,a.extraBody),e.headers=await this.getHeadersInternal(a),e}async unaryApiCall(e,a,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},a),{method:s})).then(async o=>(await xg(o),new xc(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(e,a,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},a),{method:s})).then(async o=>(await xg(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(e){var a;return va(this,arguments,function*(){const o=(a=e==null?void 0:e.body)===null||a===void 0?void 0:a.getReader(),u=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let h="";for(;;){const{done:g,value:x}=yield He(o.read());if(g){if(h.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=u.decode(x);try{const C=JSON.parse(p);if("error"in C){const T=JSON.parse(JSON.stringify(C.error)),S=T.status,N=T.code,_=`got status: ${S}. ${JSON.stringify(C)}`;if(N>=400&&N<600)throw new Mo({message:_,status:N})}}catch(C){if(C.name==="ApiError")throw C}h+=p;let v=h.match(yg);for(;v;){const C=v[1];try{const T=new Response(C,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield He(new xc(T)),h=h.slice(v[0].length),v=h.match(yg)}catch(T){throw new Error(`exception parsing stream chunk ${C}. ${T}`)}}}}finally{o.releaseLock()}})}async apiCall(e,a){return fetch(e,a).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const e={},a=pw+" "+this.clientOptions.userAgentExtra;return e[mw]=a,e[wc]=a,e[dw]="application/json",e}async getHeadersInternal(e){const a=new Headers;if(e&&e.headers){for(const[s,o]of Object.entries(e.headers))a.append(s,o);e.timeout&&e.timeout>0&&a.append(fw,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a),a}async uploadFile(e,a){var s;const o={};a!=null&&(o.mimeType=a.mimeType,o.name=a.name,o.displayName=a.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const u=this.clientOptions.uploader,h=await u.stat(e);o.sizeBytes=String(h.size);const g=(s=a==null?void 0:a.mimeType)!==null&&s!==void 0?s:h.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=g;const x=await this.fetchUploadUrl(o,a);return u.upload(e,x,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,a){var s;let o={};a!=null&&a.httpOptions?o=a.httpOptions:o={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const u={file:e},h=await this.request({path:ve("upload/v1beta/files",u._url),body:JSON.stringify(u),httpMethod:"POST",httpOptions:o});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const g=(s=h==null?void 0:h.headers)===null||s===void 0?void 0:s["x-goog-upload-url"];if(g===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return g}}async function xg(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const a=t.status;let s;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?s=await t.json():s={error:{message:await t.text(),code:t.status,status:t.statusText}};const o=JSON.stringify(s);throw a>=400&&a<600?new Mo({message:o,status:a}):new Error(o)}}function vw(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let a={};if(typeof t.body=="string"&&t.body.length>0)try{const u=JSON.parse(t.body);if(typeof u=="object"&&u!==null&&!Array.isArray(u))a=u;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(u,h){const g=Object.assign({},u);for(const x in h)if(Object.prototype.hasOwnProperty.call(h,x)){const p=h[x],v=g[x];p&&typeof p=="object"&&!Array.isArray(p)&&v&&typeof v=="object"&&!Array.isArray(v)?g[x]=s(v,p):(v&&p&&typeof v!=typeof p&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${x}". Original type: ${typeof v}, New type: ${typeof p}. Overwriting.`),g[x]=p)}return g}const o=s(a,e);t.body=JSON.stringify(o)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bw="mcp_used/unknown";function i0(t){for(const e of t)if(Vc(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function a0(t){var e;const a=(e=t[wc])!==null&&e!==void 0?e:"";t[wc]=(a+` ${bw}`).trimStart()}function Cw(t){var e,a,s;return(s=(a=(e=t.config)===null||e===void 0?void 0:e.tools)===null||a===void 0?void 0:a.some(o=>Vc(o)))!==null&&s!==void 0?s:!1}function Tw(t){var e,a,s;return(s=(a=(e=t.config)===null||e===void 0?void 0:e.tools)===null||a===void 0?void 0:a.some(o=>!Vc(o)))!==null&&s!==void 0?s:!1}function Vc(t){return t!==null&&typeof t=="object"&&t instanceof Bc}function Sw(t,e=100){return va(this,arguments,function*(){let s,o=0;for(;o<e;){const u=yield He(t.listTools({cursor:s}));for(const h of u.tools)yield yield He(h),o++;if(!u.nextCursor)break;s=u.nextCursor}})}class Bc{constructor(e=[],a){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=a}static create(e,a){return new Bc(e,a)}async initialize(){var e,a,s,o;if(this.mcpTools.length>0)return;const u={},h=[];for(const v of this.mcpClients)try{for(var g=!0,x=(a=void 0,Ls(Sw(v))),p;p=await x.next(),e=p.done,!e;g=!0){o=p.value,g=!1;const C=o;h.push(C);const T=C.name;if(u[T])throw new Error(`Duplicate function name ${T} found in MCP tools. Please ensure function names are unique.`);u[T]=v}}catch(C){a={error:C}}finally{try{!g&&!e&&(s=x.return)&&await s.call(x)}finally{if(a)throw a.error}}this.mcpTools=h,this.functionNameToMcpClient=u}async tool(){return await this.initialize(),S1(this.mcpTools,this.config)}async callTool(e){await this.initialize();const a=[];for(const s of e)if(s.name in this.functionNameToMcpClient){const o=this.functionNameToMcpClient[s.name];let u;this.config.timeout&&(u={timeout:this.config.timeout});const h=await o.callTool({name:s.name,arguments:s.args},void 0,u);a.push({functionResponse:{name:s.name,response:h.isError?{error:h}:h}})}return a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function ww(t,e,a){const s=new c1;let o;a.data instanceof Blob?o=JSON.parse(await a.data.text()):o=JSON.parse(a.data);const u=DC(o);Object.assign(s,u),e(s)}class Nw{constructor(e,a,s){this.apiClient=e,this.auth=a,this.webSocketFactory=s}async connect(e){var a,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion(),h=Aw(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),x=`${o}/ws/google.ai.generativelanguage.${u}.GenerativeService.BidiGenerateMusic?key=${g}`;let p=()=>{};const v=new Promise(U=>{p=U}),C=e.callbacks,T=function(){p({})},S=this.apiClient,N={onopen:T,onmessage:U=>{ww(S,C.onmessage,U)},onerror:(a=C==null?void 0:C.onerror)!==null&&a!==void 0?a:function(U){},onclose:(s=C==null?void 0:C.onclose)!==null&&s!==void 0?s:function(U){}},_=this.webSocketFactory.create(x,Ew(h),N);_.connect(),await v;const E=Ge(this.apiClient,e.model),I=Qg({model:E}),V=Cc({setup:I});return _.send(JSON.stringify(V)),new _w(_,this.apiClient)}}class _w{constructor(e,a){this.conn=e,this.apiClient=a}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const a=F2(e),s=Xg(a);this.conn.send(JSON.stringify({clientContent:s}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const a=Y2(e),s=Cc(a);this.conn.send(JSON.stringify(s))}sendPlaybackControl(e){const a=Cc({playbackControl:e});this.conn.send(JSON.stringify(a))}play(){this.sendPlaybackControl(ya.PLAY)}pause(){this.sendPlaybackControl(ya.PAUSE)}stop(){this.sendPlaybackControl(ya.STOP)}resetContext(){this.sendPlaybackControl(ya.RESET_CONTEXT)}close(){this.conn.close()}}function Ew(t){const e={};return t.forEach((a,s)=>{e[s]=a}),e}function Aw(t){const e=new Headers;for(const[a,s]of Object.entries(t))e.append(a,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Mw="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function kw(t,e,a){const s=new u1;let o;if(a.data instanceof Blob?o=JSON.parse(await a.data.text()):o=JSON.parse(a.data),t.isVertexAI()){const u=SC(o);Object.assign(s,u)}else{const u=TC(o);Object.assign(s,u)}e(s)}class Rw{constructor(e,a,s){this.apiClient=e,this.auth=a,this.webSocketFactory=s,this.music=new Nw(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var a,s,o,u,h,g;const x=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion();let v;const C=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&i0(e.config.tools)&&a0(C);const T=Lw(C);if(this.apiClient.isVertexAI())v=`${x}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(T);else{const X=this.apiClient.getApiKey();let oe="BidiGenerateContent",te="key";X!=null&&X.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),oe="BidiGenerateContentConstrained",te="access_token"),v=`${x}/ws/google.ai.generativelanguage.${p}.GenerativeService.${oe}?${te}=${X}`}let S=()=>{};const N=new Promise(X=>{S=X}),_=e.callbacks,E=function(){var X;(X=_==null?void 0:_.onopen)===null||X===void 0||X.call(_),S({})},I=this.apiClient,V={onopen:E,onmessage:X=>{kw(I,_.onmessage,X)},onerror:(a=_==null?void 0:_.onerror)!==null&&a!==void 0?a:function(X){},onclose:(s=_==null?void 0:_.onclose)!==null&&s!==void 0?s:function(X){}},U=this.webSocketFactory.create(v,jw(T),V);U.connect(),await N;let $=Ge(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&$.startsWith("publishers/")){const X=this.apiClient.getProject(),oe=this.apiClient.getLocation();$=`projects/${X}/locations/${oe}/`+$}let q={};this.apiClient.isVertexAI()&&((o=e.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[To.AUDIO]}:e.config.responseModalities=[To.AUDIO]),!((u=e.config)===null||u===void 0)&&u.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const J=(g=(h=e.config)===null||h===void 0?void 0:h.tools)!==null&&g!==void 0?g:[],Q=[];for(const X of J)if(this.isCallableTool(X)){const oe=X;Q.push(await oe.tool())}else Q.push(X);Q.length>0&&(e.config.tools=Q);const se={model:$,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?q=B2(this.apiClient,se):q=V2(this.apiClient,se),delete q.config,U.send(JSON.stringify(q)),new Iw(U,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Dw={turnComplete:!0};class Iw{constructor(e,a){this.conn=e,this.apiClient=a}tLiveClientContent(e,a){if(a.turns!==null&&a.turns!==void 0){let s=[];try{s=Jt(a.turns),e.isVertexAI()?s=s.map(o=>Ea(o)):s=s.map(o=>ko(o))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof a.turns}'`)}return{clientContent:{turns:s,turnComplete:a.turnComplete}}}return{clientContent:{turnComplete:a.turnComplete}}}tLiveClienttToolResponse(e,a){let s=[];if(a.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(a.functionResponses)?s=a.functionResponses:s=[a.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const u of s){if(typeof u!="object"||u===null||!("name"in u)||!("response"in u))throw new Error(`Could not parse function response, type '${typeof u}'.`);if(!e.isVertexAI()&&!("id"in u))throw new Error(Mw)}return{toolResponse:{functionResponses:s}}}sendClientContent(e){e=Object.assign(Object.assign({},Dw),e);const a=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(a))}sendRealtimeInput(e){let a={};this.apiClient.isVertexAI()?a={realtimeInput:H2(e)}:a={realtimeInput:G2(e)},this.conn.send(JSON.stringify(a))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const a=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(a))}close(){this.conn.close()}}function jw(t){const e={};return t.forEach((a,s)=>{e[s]=a}),e}function Lw(t){const e=new Headers;for(const[a,s]of Object.entries(t))e.append(a,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vg=10;function bg(t){var e,a,s;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let o=!1;for(const h of(a=t==null?void 0:t.tools)!==null&&a!==void 0?a:[])if(mo(h)){o=!0;break}if(!o)return!0;const u=(s=t==null?void 0:t.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return u&&(u<0||!Number.isInteger(u))||u==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",u),!0):!1}function mo(t){return"callTool"in t&&typeof t.callTool=="function"}function Cg(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Uw extends _a{constructor(e){super(),this.apiClient=e,this.generateContent=async a=>{var s,o,u,h,g;const x=await this.processParamsForMcpUsage(a);if(!Cw(a)||bg(a.config))return await this.generateContentInternal(x);if(Tw(a))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let p,v;const C=Jt(x.contents),T=(u=(o=(s=x.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&u!==void 0?u:vg;let S=0;for(;S<T&&(p=await this.generateContentInternal(x),!(!p.functionCalls||p.functionCalls.length===0));){const N=p.candidates[0].content,_=[];for(const E of(g=(h=a.config)===null||h===void 0?void 0:h.tools)!==null&&g!==void 0?g:[])if(mo(E)){const V=await E.callTool(p.functionCalls);_.push(...V)}S++,v={role:"user",parts:_},x.contents=Jt(x.contents),x.contents.push(N),x.contents.push(v),Cg(x.config)&&(C.push(N),C.push(v))}return Cg(x.config)&&(p.automaticFunctionCallingHistory=C),p},this.generateContentStream=async a=>{if(bg(a.config)){const s=await this.processParamsForMcpUsage(a);return await this.generateContentStreamInternal(s)}else return await this.processAfcStream(a)},this.generateImages=async a=>await this.generateImagesInternal(a).then(s=>{var o;let u;const h=[];if(s!=null&&s.generatedImages)for(const x of s.generatedImages)x&&(x!=null&&x.safetyAttributes)&&((o=x==null?void 0:x.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?u=x==null?void 0:x.safetyAttributes:h.push(x);let g;return u?g={generatedImages:h,positivePromptSafetyAttributes:u}:g={generatedImages:h},g}),this.list=async a=>{var s;const h={config:Object.assign(Object.assign({},{queryBase:!0}),a==null?void 0:a.config)};if(this.apiClient.isVertexAI()&&!h.config.queryBase){if(!((s=h.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");h.config.filter="labels.tune-type:*"}return new Ao(Na.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(h),h)},this.editImage=async a=>{const s={model:a.model,prompt:a.prompt,referenceImages:[],config:a.config};return a.referenceImages&&a.referenceImages&&(s.referenceImages=a.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async a=>{let s={numberOfImages:1,mode:"upscale"};a.config&&(s=Object.assign(Object.assign({},s),a.config));const o={model:a.model,image:a.image,upscaleFactor:a.upscaleFactor,config:s};return await this.upscaleImageInternal(o)}}async processParamsForMcpUsage(e){var a,s,o;const u=(a=e.config)===null||a===void 0?void 0:a.tools;if(!u)return e;const h=await Promise.all(u.map(async x=>mo(x)?await x.tool():x)),g={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:h})};if(g.config.tools=h,e.config&&e.config.tools&&i0(e.config.tools)){const x=(o=(s=e.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&o!==void 0?o:{};let p=Object.assign({},x);Object.keys(p).length===0&&(p=this.apiClient.getDefaultHeaders()),a0(p),g.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:p})}return g}async initAfcToolsMap(e){var a,s,o;const u=new Map;for(const h of(s=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&s!==void 0?s:[])if(mo(h)){const g=h,x=await g.tool();for(const p of(o=x.functionDeclarations)!==null&&o!==void 0?o:[]){if(!p.name)throw new Error("Function declaration name is required.");if(u.has(p.name))throw new Error(`Duplicate tool declaration name: ${p.name}`);u.set(p.name,g)}}return u}async processAfcStream(e){var a,s,o;const u=(o=(s=(a=e.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&o!==void 0?o:vg;let h=!1,g=0;const x=await this.initAfcToolsMap(e);return function(p,v,C){var T,S;return va(this,arguments,function*(){for(var N,_,E,I;g<u;){h&&(g++,h=!1);const q=yield He(p.processParamsForMcpUsage(C)),J=yield He(p.generateContentStreamInternal(q)),Q=[],se=[];try{for(var V=!0,U=(_=void 0,Ls(J)),$;$=yield He(U.next()),N=$.done,!N;V=!0){I=$.value,V=!1;const X=I;if(yield yield He(X),X.candidates&&(!((T=X.candidates[0])===null||T===void 0)&&T.content)){se.push(X.candidates[0].content);for(const oe of(S=X.candidates[0].content.parts)!==null&&S!==void 0?S:[])if(g<u&&oe.functionCall){if(!oe.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(oe.functionCall.name)){const te=yield He(v.get(oe.functionCall.name).callTool([oe.functionCall]));Q.push(...te)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${oe.functionCall.name}`)}}}}catch(X){_={error:X}}finally{try{!V&&!N&&(E=U.return)&&(yield He(E.call(U)))}finally{if(_)throw _.error}}if(Q.length>0){h=!0;const X=new ks;X.candidates=[{content:{role:"user",parts:Q}}],yield yield He(X);const oe=[];oe.push(...se),oe.push({role:"user",parts:Q});const te=Jt(C.contents).concat(oe);C.contents=te}else break}})}(this,x,e)}async generateContentInternal(e){var a,s,o,u;let h,g="",x={};if(this.apiClient.isVertexAI()){const p=hg(this.apiClient,e);return g=ve("{model}:generateContent",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),h.then(v=>{const C=gg(v),T=new ks;return Object.assign(T,C),T})}else{const p=mg(this.apiClient,e);return g=ve("{model}:generateContent",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),h.then(v=>{const C=pg(v),T=new ks;return Object.assign(T,C),T})}}async generateContentStreamInternal(e){var a,s,o,u;let h,g="",x={};if(this.apiClient.isVertexAI()){const p=hg(this.apiClient,e);return g=ve("{model}:streamGenerateContent?alt=sse",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.requestStream({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),h.then(function(C){return va(this,arguments,function*(){var T,S,N,_;try{for(var E=!0,I=Ls(C),V;V=yield He(I.next()),T=V.done,!T;E=!0){_=V.value,E=!1;const $=gg(yield He(_.json())),q=new ks;Object.assign(q,$),yield yield He(q)}}catch(U){S={error:U}}finally{try{!E&&!T&&(N=I.return)&&(yield He(N.call(I)))}finally{if(S)throw S.error}}})})}else{const p=mg(this.apiClient,e);return g=ve("{model}:streamGenerateContent?alt=sse",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.requestStream({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}),h.then(function(C){return va(this,arguments,function*(){var T,S,N,_;try{for(var E=!0,I=Ls(C),V;V=yield He(I.next()),T=V.done,!T;E=!0){_=V.value,E=!1;const $=pg(yield He(_.json())),q=new ks;Object.assign(q,$),yield yield He(q)}}catch(U){S={error:U}}finally{try{!E&&!T&&(N=I.return)&&(yield He(N.call(I)))}finally{if(S)throw S.error}}})})}}async embedContent(e){var a,s,o,u;let h,g="",x={};if(this.apiClient.isVertexAI()){const p=GT(this.apiClient,e);return g=ve("{model}:predict",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),h.then(v=>{const C=ZS(v),T=new Yp;return Object.assign(T,C),T})}else{const p=iT(this.apiClient,e);return g=ve("{model}:batchEmbedContents",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),h.then(v=>{const C=NS(v),T=new Yp;return Object.assign(T,C),T})}}async generateImagesInternal(e){var a,s,o,u;let h,g="",x={};if(this.apiClient.isVertexAI()){const p=FT(this.apiClient,e);return g=ve("{model}:predict",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),h.then(v=>{const C=QS(v),T=new Jp;return Object.assign(T,C),T})}else{const p=sT(this.apiClient,e);return g=ve("{model}:predict",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),h.then(v=>{const C=AS(v),T=new Jp;return Object.assign(T,C),T})}}async editImageInternal(e){var a,s;let o,u="",h={};if(this.apiClient.isVertexAI()){const g=WT(this.apiClient,e);return u=ve("{model}:predict",g._url),h=g._query,delete g.config,delete g._url,delete g._query,o=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),o.then(x=>{const p=XS(x),v=new i1;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var a,s;let o,u="",h={};if(this.apiClient.isVertexAI()){const g=tS(this.apiClient,e);return u=ve("{model}:predict",g._url),h=g._query,delete g.config,delete g._url,delete g._query,o=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),o.then(x=>{const p=WS(x),v=new a1;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var a,s,o,u;let h,g="",x={};if(this.apiClient.isVertexAI()){const p=nS(this.apiClient,e);return g=ve("{name}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),h.then(v=>Sc(v))}else{const p=lT(this.apiClient,e);return g=ve("{name}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),h.then(v=>Tc(v))}}async listInternal(e){var a,s,o,u;let h,g="",x={};if(this.apiClient.isVertexAI()){const p=aS(this.apiClient,e);return g=ve("{models_url}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),h.then(v=>{const C=iw(this.apiClient,v),T=new Zp;return Object.assign(T,C),T})}else{const p=rT(this.apiClient,e);return g=ve("{models_url}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),h.then(v=>{const C=kS(this.apiClient,v),T=new Zp;return Object.assign(T,C),T})}}async update(e){var a,s,o,u;let h,g="",x={};if(this.apiClient.isVertexAI()){const p=lS(this.apiClient,e);return g=ve("{model}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),h.then(v=>Sc(v))}else{const p=cT(this.apiClient,e);return g=ve("{name}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),h.then(v=>Tc(v))}}async delete(e){var a,s,o,u;let h,g="",x={};if(this.apiClient.isVertexAI()){const p=oS(this.apiClient,e);return g=ve("{name}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),h.then(()=>{const v=aw(),C=new Kp;return Object.assign(C,v),C})}else{const p=dT(this.apiClient,e);return g=ve("{name}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),h.then(()=>{const v=RS(),C=new Kp;return Object.assign(C,v),C})}}async countTokens(e){var a,s,o,u;let h,g="",x={};if(this.apiClient.isVertexAI()){const p=uS(this.apiClient,e);return g=ve("{model}:countTokens",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),h.then(v=>{const C=sw(v),T=new Qp;return Object.assign(T,C),T})}else{const p=mT(this.apiClient,e);return g=ve("{model}:countTokens",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),h.then(v=>{const C=DS(v),T=new Qp;return Object.assign(T,C),T})}}async computeTokens(e){var a,s;let o,u="",h={};if(this.apiClient.isVertexAI()){const g=cS(this.apiClient,e);return u=ve("{model}:computeTokens",g._url),h=g._query,delete g.config,delete g._url,delete g._query,o=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),o.then(x=>{const p=lw(x),v=new s1;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var a,s,o,u;let h,g="",x={};if(this.apiClient.isVertexAI()){const p=mS(this.apiClient,e);return g=ve("{model}:predictLongRunning",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),h.then(v=>cw(v))}else{const p=gT(this.apiClient,e);return g=ve("{model}:predictLongRunning",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),h.then(v=>US(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ow(t){const e={},a=c(t,["operationName"]);a!=null&&d(e,["_url","operationName"],a);const s=c(t,["config"]);return s!=null&&d(e,["config"],s),e}function Vw(t){const e={},a=c(t,["operationName"]);a!=null&&d(e,["_url","operationName"],a);const s=c(t,["config"]);return s!=null&&d(e,["config"],s),e}function Bw(t){const e={},a=c(t,["operationName"]);a!=null&&d(e,["operationName"],a);const s=c(t,["resourceName"]);s!=null&&d(e,["_url","resourceName"],s);const o=c(t,["config"]);return o!=null&&d(e,["config"],o),e}function Pw(t){const e={},a=c(t,["video","uri"]);a!=null&&d(e,["uri"],a);const s=c(t,["video","encodedVideo"]);s!=null&&d(e,["videoBytes"],_n(s));const o=c(t,["encoding"]);return o!=null&&d(e,["mimeType"],o),e}function $w(t){const e={},a=c(t,["_self"]);return a!=null&&d(e,["video"],Pw(a)),e}function qw(t){const e={},a=c(t,["generatedSamples"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(h=>$w(h))),d(e,["generatedVideos"],u)}const s=c(t,["raiMediaFilteredCount"]);s!=null&&d(e,["raiMediaFilteredCount"],s);const o=c(t,["raiMediaFilteredReasons"]);return o!=null&&d(e,["raiMediaFilteredReasons"],o),e}function zw(t){const e={},a=c(t,["name"]);a!=null&&d(e,["name"],a);const s=c(t,["metadata"]);s!=null&&d(e,["metadata"],s);const o=c(t,["done"]);o!=null&&d(e,["done"],o);const u=c(t,["error"]);u!=null&&d(e,["error"],u);const h=c(t,["response","generateVideoResponse"]);return h!=null&&d(e,["response"],qw(h)),e}function Gw(t){const e={},a=c(t,["gcsUri"]);a!=null&&d(e,["uri"],a);const s=c(t,["bytesBase64Encoded"]);s!=null&&d(e,["videoBytes"],_n(s));const o=c(t,["mimeType"]);return o!=null&&d(e,["mimeType"],o),e}function Hw(t){const e={},a=c(t,["_self"]);return a!=null&&d(e,["video"],Gw(a)),e}function Fw(t){const e={},a=c(t,["videos"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(h=>Hw(h))),d(e,["generatedVideos"],u)}const s=c(t,["raiMediaFilteredCount"]);s!=null&&d(e,["raiMediaFilteredCount"],s);const o=c(t,["raiMediaFilteredReasons"]);return o!=null&&d(e,["raiMediaFilteredReasons"],o),e}function Tg(t){const e={},a=c(t,["name"]);a!=null&&d(e,["name"],a);const s=c(t,["metadata"]);s!=null&&d(e,["metadata"],s);const o=c(t,["done"]);o!=null&&d(e,["done"],o);const u=c(t,["error"]);u!=null&&d(e,["error"],u);const h=c(t,["response"]);return h!=null&&d(e,["response"],Fw(h)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yw extends _a{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const a=e.operation,s=e.config;if(a.name===void 0||a.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=a.name.split("/operations/")[0];let u;return s&&"httpOptions"in s&&(u=s.httpOptions),this.fetchPredictVideosOperationInternal({operationName:a.name,resourceName:o,config:{httpOptions:u}})}else return this.getVideosOperationInternal({operationName:a.name,config:s})}async getVideosOperationInternal(e){var a,s,o,u;let h,g="",x={};if(this.apiClient.isVertexAI()){const p=Vw(e);return g=ve("{operationName}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),h.then(v=>Tg(v))}else{const p=Ow(e);return g=ve("{operationName}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),h.then(v=>zw(v))}}async fetchPredictVideosOperationInternal(e){var a,s;let o,u="",h={};if(this.apiClient.isVertexAI()){const g=Bw(e);return u=ve("{resourceName}:fetchPredictOperation",g._url),h=g._query,delete g.config,delete g._url,delete g._query,o=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),o.then(x=>Tg(x))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Jw(t){const e={},a=c(t,["voiceName"]);return a!=null&&d(e,["voiceName"],a),e}function s0(t){const e={},a=c(t,["prebuiltVoiceConfig"]);return a!=null&&d(e,["prebuiltVoiceConfig"],Jw(a)),e}function Zw(t){const e={},a=c(t,["speaker"]);a!=null&&d(e,["speaker"],a);const s=c(t,["voiceConfig"]);return s!=null&&d(e,["voiceConfig"],s0(s)),e}function Kw(t){const e={},a=c(t,["speakerVoiceConfigs"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(o=>Zw(o))),d(e,["speakerVoiceConfigs"],s)}return e}function Qw(t){const e={},a=c(t,["voiceConfig"]);a!=null&&d(e,["voiceConfig"],s0(a));const s=c(t,["multiSpeakerVoiceConfig"]);s!=null&&d(e,["multiSpeakerVoiceConfig"],Kw(s));const o=c(t,["languageCode"]);return o!=null&&d(e,["languageCode"],o),e}function Xw(t){const e={},a=c(t,["fps"]);a!=null&&d(e,["fps"],a);const s=c(t,["endOffset"]);s!=null&&d(e,["endOffset"],s);const o=c(t,["startOffset"]);return o!=null&&d(e,["startOffset"],o),e}function Ww(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=c(t,["data"]);a!=null&&d(e,["data"],a);const s=c(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function e5(t){const e={};if(c(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=c(t,["fileUri"]);a!=null&&d(e,["fileUri"],a);const s=c(t,["mimeType"]);return s!=null&&d(e,["mimeType"],s),e}function t5(t){const e={},a=c(t,["videoMetadata"]);a!=null&&d(e,["videoMetadata"],Xw(a));const s=c(t,["thought"]);s!=null&&d(e,["thought"],s);const o=c(t,["inlineData"]);o!=null&&d(e,["inlineData"],Ww(o));const u=c(t,["fileData"]);u!=null&&d(e,["fileData"],e5(u));const h=c(t,["thoughtSignature"]);h!=null&&d(e,["thoughtSignature"],h);const g=c(t,["codeExecutionResult"]);g!=null&&d(e,["codeExecutionResult"],g);const x=c(t,["executableCode"]);x!=null&&d(e,["executableCode"],x);const p=c(t,["functionCall"]);p!=null&&d(e,["functionCall"],p);const v=c(t,["functionResponse"]);v!=null&&d(e,["functionResponse"],v);const C=c(t,["text"]);return C!=null&&d(e,["text"],C),e}function n5(t){const e={},a=c(t,["parts"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(u=>t5(u))),d(e,["parts"],o)}const s=c(t,["role"]);return s!=null&&d(e,["role"],s),e}function i5(t){const e={},a=c(t,["behavior"]);a!=null&&d(e,["behavior"],a);const s=c(t,["description"]);s!=null&&d(e,["description"],s);const o=c(t,["name"]);o!=null&&d(e,["name"],o);const u=c(t,["parameters"]);u!=null&&d(e,["parameters"],u);const h=c(t,["parametersJsonSchema"]);h!=null&&d(e,["parametersJsonSchema"],h);const g=c(t,["response"]);g!=null&&d(e,["response"],g);const x=c(t,["responseJsonSchema"]);return x!=null&&d(e,["responseJsonSchema"],x),e}function a5(t){const e={},a=c(t,["startTime"]);a!=null&&d(e,["startTime"],a);const s=c(t,["endTime"]);return s!=null&&d(e,["endTime"],s),e}function s5(t){const e={},a=c(t,["timeRangeFilter"]);return a!=null&&d(e,["timeRangeFilter"],a5(a)),e}function l5(t){const e={},a=c(t,["mode"]);a!=null&&d(e,["mode"],a);const s=c(t,["dynamicThreshold"]);return s!=null&&d(e,["dynamicThreshold"],s),e}function o5(t){const e={},a=c(t,["dynamicRetrievalConfig"]);return a!=null&&d(e,["dynamicRetrievalConfig"],l5(a)),e}function r5(){return{}}function u5(t){const e={},a=c(t,["functionDeclarations"]);if(a!=null){let g=a;Array.isArray(g)&&(g=g.map(x=>i5(x))),d(e,["functionDeclarations"],g)}if(c(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=c(t,["googleSearch"]);s!=null&&d(e,["googleSearch"],s5(s));const o=c(t,["googleSearchRetrieval"]);if(o!=null&&d(e,["googleSearchRetrieval"],o5(o)),c(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(c(t,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");c(t,["urlContext"])!=null&&d(e,["urlContext"],r5());const h=c(t,["codeExecution"]);return h!=null&&d(e,["codeExecution"],h),e}function c5(t){const e={},a=c(t,["handle"]);if(a!=null&&d(e,["handle"],a),c(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Sg(){return{}}function d5(t){const e={},a=c(t,["disabled"]);a!=null&&d(e,["disabled"],a);const s=c(t,["startOfSpeechSensitivity"]);s!=null&&d(e,["startOfSpeechSensitivity"],s);const o=c(t,["endOfSpeechSensitivity"]);o!=null&&d(e,["endOfSpeechSensitivity"],o);const u=c(t,["prefixPaddingMs"]);u!=null&&d(e,["prefixPaddingMs"],u);const h=c(t,["silenceDurationMs"]);return h!=null&&d(e,["silenceDurationMs"],h),e}function f5(t){const e={},a=c(t,["automaticActivityDetection"]);a!=null&&d(e,["automaticActivityDetection"],d5(a));const s=c(t,["activityHandling"]);s!=null&&d(e,["activityHandling"],s);const o=c(t,["turnCoverage"]);return o!=null&&d(e,["turnCoverage"],o),e}function m5(t){const e={},a=c(t,["targetTokens"]);return a!=null&&d(e,["targetTokens"],a),e}function h5(t){const e={},a=c(t,["triggerTokens"]);a!=null&&d(e,["triggerTokens"],a);const s=c(t,["slidingWindow"]);return s!=null&&d(e,["slidingWindow"],m5(s)),e}function p5(t){const e={},a=c(t,["proactiveAudio"]);return a!=null&&d(e,["proactiveAudio"],a),e}function g5(t,e){const a={},s=c(t,["generationConfig"]);e!==void 0&&s!=null&&d(e,["setup","generationConfig"],s);const o=c(t,["responseModalities"]);e!==void 0&&o!=null&&d(e,["setup","generationConfig","responseModalities"],o);const u=c(t,["temperature"]);e!==void 0&&u!=null&&d(e,["setup","generationConfig","temperature"],u);const h=c(t,["topP"]);e!==void 0&&h!=null&&d(e,["setup","generationConfig","topP"],h);const g=c(t,["topK"]);e!==void 0&&g!=null&&d(e,["setup","generationConfig","topK"],g);const x=c(t,["maxOutputTokens"]);e!==void 0&&x!=null&&d(e,["setup","generationConfig","maxOutputTokens"],x);const p=c(t,["mediaResolution"]);e!==void 0&&p!=null&&d(e,["setup","generationConfig","mediaResolution"],p);const v=c(t,["seed"]);e!==void 0&&v!=null&&d(e,["setup","generationConfig","seed"],v);const C=c(t,["speechConfig"]);e!==void 0&&C!=null&&d(e,["setup","generationConfig","speechConfig"],Qw(Uc(C)));const T=c(t,["enableAffectiveDialog"]);e!==void 0&&T!=null&&d(e,["setup","generationConfig","enableAffectiveDialog"],T);const S=c(t,["systemInstruction"]);e!==void 0&&S!=null&&d(e,["setup","systemInstruction"],n5(xt(S)));const N=c(t,["tools"]);if(e!==void 0&&N!=null){let q=qs(N);Array.isArray(q)&&(q=q.map(J=>u5($s(J)))),d(e,["setup","tools"],q)}const _=c(t,["sessionResumption"]);e!==void 0&&_!=null&&d(e,["setup","sessionResumption"],c5(_));const E=c(t,["inputAudioTranscription"]);e!==void 0&&E!=null&&d(e,["setup","inputAudioTranscription"],Sg());const I=c(t,["outputAudioTranscription"]);e!==void 0&&I!=null&&d(e,["setup","outputAudioTranscription"],Sg());const V=c(t,["realtimeInputConfig"]);e!==void 0&&V!=null&&d(e,["setup","realtimeInputConfig"],f5(V));const U=c(t,["contextWindowCompression"]);e!==void 0&&U!=null&&d(e,["setup","contextWindowCompression"],h5(U));const $=c(t,["proactivity"]);return e!==void 0&&$!=null&&d(e,["setup","proactivity"],p5($)),a}function y5(t,e){const a={},s=c(e,["model"]);s!=null&&d(a,["setup","model"],Ge(t,s));const o=c(e,["config"]);return o!=null&&d(a,["config"],g5(o,a)),a}function x5(t,e,a){const s={},o=c(e,["expireTime"]);a!==void 0&&o!=null&&d(a,["expireTime"],o);const u=c(e,["newSessionExpireTime"]);a!==void 0&&u!=null&&d(a,["newSessionExpireTime"],u);const h=c(e,["uses"]);a!==void 0&&h!=null&&d(a,["uses"],h);const g=c(e,["liveConnectConstraints"]);a!==void 0&&g!=null&&d(a,["bidiGenerateContentSetup"],y5(t,g));const x=c(e,["lockAdditionalFields"]);return a!==void 0&&x!=null&&d(a,["fieldMask"],x),s}function v5(t,e){const a={},s=c(e,["config"]);return s!=null&&d(a,["config"],x5(t,s,a)),a}function b5(t){const e={},a=c(t,["name"]);return a!=null&&d(e,["name"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function C5(t){const e=[];for(const a in t)if(Object.prototype.hasOwnProperty.call(t,a)){const s=t[a];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const o=Object.keys(s).map(u=>`${a}.${u}`);e.push(...o)}else e.push(a)}return e.join(",")}function T5(t,e){let a=null;const s=t.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const u=s.setup;typeof u=="object"&&u!==null?(t.bidiGenerateContentSetup=u,a=u):delete t.bidiGenerateContentSetup}else s!==void 0&&delete t.bidiGenerateContentSetup;const o=t.fieldMask;if(a){const u=C5(a);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)u?t.fieldMask=u:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const h=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];o.length>0&&(g=o.map(p=>h.includes(p)?`generationConfig.${p}`:p));const x=[];u&&x.push(u),g.length>0&&x.push(...g),x.length>0?t.fieldMask=x.join(","):delete t.fieldMask}else delete t.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?t.fieldMask=o.join(","):delete t.fieldMask;return t}class S5 extends _a{constructor(e){super(),this.apiClient=e}async create(e){var a,s;let o,u="",h={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=v5(this.apiClient,e);u=ve("auth_tokens",g._url),h=g._query,delete g.config,delete g._url,delete g._query;const x=T5(g,e.config);return o=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(x),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),o.then(p=>b5(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function w5(t){const e={},a=c(t,["name"]);a!=null&&d(e,["_url","name"],a);const s=c(t,["config"]);return s!=null&&d(e,["config"],s),e}function N5(t,e){const a={},s=c(t,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const o=c(t,["pageToken"]);e!==void 0&&o!=null&&d(e,["_query","pageToken"],o);const u=c(t,["filter"]);return e!==void 0&&u!=null&&d(e,["_query","filter"],u),a}function _5(t){const e={},a=c(t,["config"]);return a!=null&&d(e,["config"],N5(a,e)),e}function E5(t){const e={},a=c(t,["textInput"]);a!=null&&d(e,["textInput"],a);const s=c(t,["output"]);return s!=null&&d(e,["output"],s),e}function A5(t){const e={};if(c(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const a=c(t,["examples"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(o=>E5(o))),d(e,["examples","examples"],s)}return e}function M5(t,e){const a={};if(c(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const s=c(t,["tunedModelDisplayName"]);if(e!==void 0&&s!=null&&d(e,["displayName"],s),c(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=c(t,["epochCount"]);e!==void 0&&o!=null&&d(e,["tuningTask","hyperparameters","epochCount"],o);const u=c(t,["learningRateMultiplier"]);if(u!=null&&d(a,["tuningTask","hyperparameters","learningRateMultiplier"],u),c(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(c(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const h=c(t,["batchSize"]);e!==void 0&&h!=null&&d(e,["tuningTask","hyperparameters","batchSize"],h);const g=c(t,["learningRate"]);return e!==void 0&&g!=null&&d(e,["tuningTask","hyperparameters","learningRate"],g),a}function k5(t){const e={},a=c(t,["baseModel"]);a!=null&&d(e,["baseModel"],a);const s=c(t,["trainingDataset"]);s!=null&&d(e,["tuningTask","trainingData"],A5(s));const o=c(t,["config"]);return o!=null&&d(e,["config"],M5(o,e)),e}function R5(t){const e={},a=c(t,["name"]);a!=null&&d(e,["_url","name"],a);const s=c(t,["config"]);return s!=null&&d(e,["config"],s),e}function D5(t,e){const a={},s=c(t,["pageSize"]);e!==void 0&&s!=null&&d(e,["_query","pageSize"],s);const o=c(t,["pageToken"]);e!==void 0&&o!=null&&d(e,["_query","pageToken"],o);const u=c(t,["filter"]);return e!==void 0&&u!=null&&d(e,["_query","filter"],u),a}function I5(t){const e={},a=c(t,["config"]);return a!=null&&d(e,["config"],D5(a,e)),e}function j5(t,e){const a={},s=c(t,["gcsUri"]);if(e!==void 0&&s!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],s),c(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function L5(t){const e={},a=c(t,["gcsUri"]);return a!=null&&d(e,["validationDatasetUri"],a),e}function U5(t,e){const a={},s=c(t,["validationDataset"]);e!==void 0&&s!=null&&d(e,["supervisedTuningSpec"],L5(s));const o=c(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&d(e,["tunedModelDisplayName"],o);const u=c(t,["description"]);e!==void 0&&u!=null&&d(e,["description"],u);const h=c(t,["epochCount"]);e!==void 0&&h!=null&&d(e,["supervisedTuningSpec","hyperParameters","epochCount"],h);const g=c(t,["learningRateMultiplier"]);e!==void 0&&g!=null&&d(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g);const x=c(t,["exportLastCheckpointOnly"]);e!==void 0&&x!=null&&d(e,["supervisedTuningSpec","exportLastCheckpointOnly"],x);const p=c(t,["adapterSize"]);if(e!==void 0&&p!=null&&d(e,["supervisedTuningSpec","hyperParameters","adapterSize"],p),c(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(c(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return a}function O5(t){const e={},a=c(t,["baseModel"]);a!=null&&d(e,["baseModel"],a);const s=c(t,["trainingDataset"]);s!=null&&d(e,["supervisedTuningSpec","trainingDatasetUri"],j5(s,e));const o=c(t,["config"]);return o!=null&&d(e,["config"],U5(o,e)),e}function V5(t){const e={},a=c(t,["name"]);a!=null&&d(e,["model"],a);const s=c(t,["name"]);return s!=null&&d(e,["endpoint"],s),e}function l0(t){const e={},a=c(t,["name"]);a!=null&&d(e,["name"],a);const s=c(t,["state"]);s!=null&&d(e,["state"],zg(s));const o=c(t,["createTime"]);o!=null&&d(e,["createTime"],o);const u=c(t,["tuningTask","startTime"]);u!=null&&d(e,["startTime"],u);const h=c(t,["tuningTask","completeTime"]);h!=null&&d(e,["endTime"],h);const g=c(t,["updateTime"]);g!=null&&d(e,["updateTime"],g);const x=c(t,["description"]);x!=null&&d(e,["description"],x);const p=c(t,["baseModel"]);p!=null&&d(e,["baseModel"],p);const v=c(t,["_self"]);v!=null&&d(e,["tunedModel"],V5(v));const C=c(t,["distillationSpec"]);C!=null&&d(e,["distillationSpec"],C);const T=c(t,["experiment"]);T!=null&&d(e,["experiment"],T);const S=c(t,["labels"]);S!=null&&d(e,["labels"],S);const N=c(t,["pipelineJob"]);N!=null&&d(e,["pipelineJob"],N);const _=c(t,["serviceAccount"]);_!=null&&d(e,["serviceAccount"],_);const E=c(t,["tunedModelDisplayName"]);return E!=null&&d(e,["tunedModelDisplayName"],E),e}function B5(t){const e={},a=c(t,["nextPageToken"]);a!=null&&d(e,["nextPageToken"],a);const s=c(t,["tunedModels"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(u=>l0(u))),d(e,["tuningJobs"],o)}return e}function P5(t){const e={},a=c(t,["name"]);a!=null&&d(e,["name"],a);const s=c(t,["metadata"]);s!=null&&d(e,["metadata"],s);const o=c(t,["done"]);o!=null&&d(e,["done"],o);const u=c(t,["error"]);return u!=null&&d(e,["error"],u),e}function $5(t){const e={},a=c(t,["checkpointId"]);a!=null&&d(e,["checkpointId"],a);const s=c(t,["epoch"]);s!=null&&d(e,["epoch"],s);const o=c(t,["step"]);o!=null&&d(e,["step"],o);const u=c(t,["endpoint"]);return u!=null&&d(e,["endpoint"],u),e}function q5(t){const e={},a=c(t,["model"]);a!=null&&d(e,["model"],a);const s=c(t,["endpoint"]);s!=null&&d(e,["endpoint"],s);const o=c(t,["checkpoints"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(h=>$5(h))),d(e,["checkpoints"],u)}return e}function Nc(t){const e={},a=c(t,["name"]);a!=null&&d(e,["name"],a);const s=c(t,["state"]);s!=null&&d(e,["state"],zg(s));const o=c(t,["createTime"]);o!=null&&d(e,["createTime"],o);const u=c(t,["startTime"]);u!=null&&d(e,["startTime"],u);const h=c(t,["endTime"]);h!=null&&d(e,["endTime"],h);const g=c(t,["updateTime"]);g!=null&&d(e,["updateTime"],g);const x=c(t,["error"]);x!=null&&d(e,["error"],x);const p=c(t,["description"]);p!=null&&d(e,["description"],p);const v=c(t,["baseModel"]);v!=null&&d(e,["baseModel"],v);const C=c(t,["tunedModel"]);C!=null&&d(e,["tunedModel"],q5(C));const T=c(t,["supervisedTuningSpec"]);T!=null&&d(e,["supervisedTuningSpec"],T);const S=c(t,["tuningDataStats"]);S!=null&&d(e,["tuningDataStats"],S);const N=c(t,["encryptionSpec"]);N!=null&&d(e,["encryptionSpec"],N);const _=c(t,["partnerModelTuningSpec"]);_!=null&&d(e,["partnerModelTuningSpec"],_);const E=c(t,["distillationSpec"]);E!=null&&d(e,["distillationSpec"],E);const I=c(t,["experiment"]);I!=null&&d(e,["experiment"],I);const V=c(t,["labels"]);V!=null&&d(e,["labels"],V);const U=c(t,["pipelineJob"]);U!=null&&d(e,["pipelineJob"],U);const $=c(t,["serviceAccount"]);$!=null&&d(e,["serviceAccount"],$);const q=c(t,["tunedModelDisplayName"]);return q!=null&&d(e,["tunedModelDisplayName"],q),e}function z5(t){const e={},a=c(t,["nextPageToken"]);a!=null&&d(e,["nextPageToken"],a);const s=c(t,["tuningJobs"]);if(s!=null){let o=s;Array.isArray(o)&&(o=o.map(u=>Nc(u))),d(e,["tuningJobs"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class G5 extends _a{constructor(e){super(),this.apiClient=e,this.get=async a=>await this.getInternal(a),this.list=async(a={})=>new Ao(Na.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(a),a),this.tune=async a=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(a);{const s=await this.tuneMldevInternal(a);let o="";return s.metadata!==void 0&&s.metadata.tunedModel!==void 0?o=s.metadata.tunedModel:s.name!==void 0&&s.name.includes("/operations/")&&(o=s.name.split("/operations/")[0]),{name:o,state:yc.JOB_STATE_QUEUED}}}}async getInternal(e){var a,s,o,u;let h,g="",x={};if(this.apiClient.isVertexAI()){const p=R5(e);return g=ve("{name}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),h.then(v=>Nc(v))}else{const p=w5(e);return g=ve("{name}",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),h.then(v=>l0(v))}}async listInternal(e){var a,s,o,u;let h,g="",x={};if(this.apiClient.isVertexAI()){const p=I5(e);return g=ve("tuningJobs",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),h.then(v=>{const C=z5(v),T=new Xp;return Object.assign(T,C),T})}else{const p=_5(e);return g=ve("tunedModels",p._url),x=p._query,delete p.config,delete p._url,delete p._query,h=this.apiClient.request({path:g,queryParams:x,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(u=e.config)===null||u===void 0?void 0:u.abortSignal}).then(v=>v.json()),h.then(v=>{const C=B5(v),T=new Xp;return Object.assign(T,C),T})}}async tuneInternal(e){var a,s;let o,u="",h={};if(this.apiClient.isVertexAI()){const g=O5(e);return u=ve("tuningJobs",g._url),h=g._query,delete g.config,delete g._url,delete g._query,o=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),o.then(x=>Nc(x))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var a,s;let o,u="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=k5(e);return u=ve("tunedModels",g._url),h=g._query,delete g.config,delete g._url,delete g._query,o=this.apiClient.request({path:u,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(x=>x.json()),o.then(x=>P5(x))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class H5{async download(e,a){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const F5=1024*1024*8,Y5=3,J5=1e3,Z5=2,lc="x-goog-upload-status";async function K5(t,e,a){var s,o,u;let h=0,g=0,x=new xc(new Response),p="upload";for(h=t.size;g<h;){const C=Math.min(F5,h-g),T=t.slice(g,g+C);g+C>=h&&(p+=", finalize");let S=0,N=J5;for(;S<Y5&&(x=await a.request({path:"",body:T,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(g),"Content-Length":String(C)}}}),!(!((s=x==null?void 0:x.headers)===null||s===void 0)&&s[lc]));)S++,await X5(N),N=N*Z5;if(g+=C,((o=x==null?void 0:x.headers)===null||o===void 0?void 0:o[lc])!=="active")break;if(h<=g)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const v=await(x==null?void 0:x.json());if(((u=x==null?void 0:x.headers)===null||u===void 0?void 0:u[lc])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return v.file}async function Q5(t){return{size:t.size,type:t.type}}function X5(t){return new Promise(e=>setTimeout(e,t))}class W5{async upload(e,a,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await K5(e,a,s)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await Q5(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eN{create(e,a,s){return new tN(e,a,s)}}class tN{constructor(e,a,s){this.url=e,this.headers=a,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const wg="x-goog-api-key";class nN{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(wg)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(wg,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const iN="gl-node/";class o0{constructor(e){var a;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(a=e.vertexai)!==null&&a!==void 0?a:!1,this.apiKey=e.apiKey;const s=n1(e,void 0,void 0);s&&(e.httpOptions?e.httpOptions.baseUrl=s:e.httpOptions={baseUrl:s}),this.apiVersion=e.apiVersion;const o=new nN(this.apiKey);this.apiClient=new xw({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:iN+"web",uploader:new W5,downloader:new H5}),this.models=new Uw(this.apiClient),this.live=new Rw(this.apiClient,o,new eN),this.chats=new Mb(this.models,this.apiClient),this.caches=new _b(this.apiClient),this.files=new qb(this.apiClient),this.operations=new Yw(this.apiClient),this.authTokens=new S5(this.apiClient),this.tunings=new G5(this.apiClient)}}var lt=(t=>(t.Easy="easy",t.Normal="normal",t.Hard="hard",t))(lt||{});const r0={easy:{trueFalse:5,multipleChoice:5,fillInTheBlanks:5,sentenceScramble:5,memoryCardGame:1},normal:{trueFalse:5,multipleChoice:5,fillInTheBlanks:5,sentenceScramble:5,memoryCardGame:1},hard:{trueFalse:5,multipleChoice:5,fillInTheBlanks:5,sentenceScramble:5,memoryCardGame:1}},Ti={trueFalse:10,multipleChoice:10,fillInTheBlanks:10,sentenceScramble:10,memoryCardGame:2},Ke=async(t,e)=>{const a=new o0({apiKey:e}),s="gemini-2.5-flash";try{const o=await a.models.generateContent({model:s,contents:t,config:{responseMimeType:"application/json"}});if(!o.text)throw new Error("AI  API ");let u=o.text.trim();const h=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,g=u.match(h);if(g&&g[2]&&(u=g[2].trim()),!u.startsWith("{")&&!u.startsWith("[")&&(u.includes("{")||u.includes("["))){const x=u.indexOf("{"),p=u.indexOf("[");let v=-1,C=-1;x!==-1&&(p===-1||x<p)?(v=x,C=u.lastIndexOf("}")):p!==-1&&(v=p,C=u.lastIndexOf("]")),v!==-1&&C!==-1&&C>v&&(u=u.substring(v,C+1))}try{return JSON.parse(u)}catch{throw console.error("AI  (JSON parse ):",o.text),new Error("AI  ( JSON)")}}catch(o){let u="";if(o instanceof Error&&(u+=`  ${o.message}`),o&&typeof o=="object"&&"message"in o){const h=o;h.message.includes("API key not valid")||h.message.includes("API_KEY_INVALID")?u="Gemini API ":h.message.includes("quota")||h.message.includes("RESOURCE_EXHAUSTED")?u=" API ":(h.message.toLowerCase().includes("json")||h.message.includes("Unexpected token"))&&(u="AI  ( JSON)")}throw new Error(u)}},u0=async(t,e)=>{const a=`
    Please generate at least 3 (but more is better if appropriate) clear and distinct learning objectives for the topic: "${t}".
    The objectives should be based on scaffolding theory and gamification, and written in the primary language of the topic.
    For each objective, provide the objective statement, a detailed description, and a concrete teaching example (such as a sample sentence, scenario, or application).
    Output MUST be a valid JSON array of objects, e.g.:
    [
      { 
        "objective": "${t}", 
        "description": "${t}...", 
        "teachingExample": "${t}..." 
      },
      { 
        "objective": "${t}", 
        "description": "...", 
        "teachingExample": "${t}..." 
      },
      { 
        "objective": "${t}", 
        "description": "${t}...", 
        "teachingExample": "..." 
      },
      //...or more items
    ]
    Do NOT include any explanation or extra text. Only output the JSON array.
  `;return await Ke(a,e)},aN=async(t,e,a)=>{const s=/english|||grammar|vocabulary|pronunciation|speaking|listening|reading|writing/i.test(t),o=`
    Based on the following learning objectives: ${JSON.stringify(a)}
    Please break down the topic "${t}" into at least 3 (but more is better if appropriate) micro-units. For each, provide a sub-topic, a brief explanation, and a concrete teaching example.
    
    ${s?`
    SPECIAL REQUIREMENTS FOR ENGLISH LEARNING TOPICS:
    For each breakdown item, also include:
    - coreConcept:  (core learning concept for this point)
    - teachingSentences: 3-5 (array of 3-5 teaching example sentences)
    - teachingTips:  (teaching tips and explanations)
    
    Output format for English learning topics:
    [
      {
        "topic": "A", 
        "details": "A...", 
        "teachingExample": "A...",
        "coreConcept": "...",
        "teachingSentences": ["1", "2", "3", "4", "5"],
        "teachingTips": "..."
      }
    ]
    `:`
    Standard output format:
    [
      { "topic": "A", "details": "A...", "teachingExample": "A..." }
    ]
    `}
    
    Do NOT include any explanation or extra text. Only output the JSON array.
  `;return await Ke(o,e)},sN=async(t,e,a)=>{const s=`
    Based on the following learning objectives: ${JSON.stringify(a)}
    Generate at least 3 (but more is better if appropriate) comprehensive analysis of common misconceptions or difficulties students may have with "${t}".
    
    Output MUST be a valid JSON array with the following comprehensive structure:
    [
      {
        "point": "",
        "clarification": "",
        "teachingExample": "",
        "errorType": " (///)",
        "commonErrors": ["1", "2", "3"],
        "correctVsWrong": [
          {
            "correct": "",
            "wrong": "", 
            "explanation": ""
          }
        ],
        "preventionStrategy": " - ",
        "correctionMethod": " - ",
        "practiceActivities": ["1", "2", "3"]
      }
    ]
    
    Requirements:
    - Each confusing point should include ALL fields above
    - commonErrors: Provide at least 3 typical student mistakes
    - correctVsWrong: Provide at least 1 comparison (more if helpful)  
    - practiceActivities: Provide at least 3 targeted practice activities
    - All text should be in the primary language of the topic
    - Focus on practical teaching guidance that educators can immediately apply
    
    Do NOT include any explanation or extra text. Only output the JSON array.
  `;return await Ke(s,e)},lN=async(t,e,a)=>{const s=`
    Based on the following learning objectives: ${JSON.stringify(a)}
    Suggest at least 3 (but more is better if appropriate) engaging, interactive classroom activities (preferably game-like) for the topic "${t}".
    For each activity, provide the following comprehensive fields:
      - title: / (The name of the activity)
      - description:  (Brief description of the core concept)
      - objective:  (Main learning goal or purpose)
      - timing:  (When to use: lesson introduction, during unit, after unit, review, etc.)
      - materials:  (Required tools, materials, or props)
      - environment:  (Seating arrangement, space needs, equipment conditions)
      - steps:  (Step-by-step process of teacher-student interactions as array)
      - assessmentPoints:  (Learning effectiveness observation and assessment criteria as array)
    
    Output MUST be a valid JSON array of objects, e.g.:
    [
      {
        "title": "1",
        "description": "1...",
        "objective": "1...",
        "timing": "//...",
        "materials": "...",
        "environment": "...",
        "steps": ["1: ...", "2: ...", "3: ..."],
        "assessmentPoints": ["", "", ""]
      },
      // ... more items
    ]
    Do NOT include any explanation or extra text. Only output the JSON array.
  `;return await Ke(s,e)},oN=async(t,e,a)=>{const s=`
    Based on the following learning objectives: ${JSON.stringify(a)}
    Please generate quiz content for "${t}" in the following JSON structure (no explanation, no extra text):
    {
      "easy": {
        "trueFalse": [
          { "statement": "1...", "isTrue": true, "explanation": "1" },
          { "statement": "2...", "isTrue": false, "explanation": "2" }
          // ...  5 
        ],
        "multipleChoice": [
          { "question": "1...", "options": ["A", "B", "C"], "correctAnswerIndex": 0 },
          { "question": "2...", "options": ["A", "B", "C"], "correctAnswerIndex": 1 }
          // ...  5 
        ],
        "fillInTheBlanks": [
          { "sentenceWithBlank": "1...____...", "correctAnswer": "1" },
          { "sentenceWithBlank": "2...____...", "correctAnswer": "2" }
          // ...  5 
        ],
        "sentenceScramble": [
          { "originalSentence": "1...", "scrambledWords": ["...", "...", "..."] },
          { "originalSentence": "2...", "scrambledWords": ["...", "...", "..."] }
          // ...  5 
        ],
        "memoryCardGame": [
          {
            "pairs": [
              { "question": "1", "answer": "1" },
              { "question": "2", "answer": "2" },
              { "question": "3", "answer": "3" },
              { "question": "4", "answer": "4" },
              { "question": "5", "answer": "5" }
              // ...  5 
            ],
            "instructions": ""
          }
        ]
      },
      "normal": { /* same structure as easy, memoryCardGame  1 pairs  5  */ },
      "hard": { /* same structure as easy, memoryCardGame  1 pairs  5  */ }
    }
    For each quiz type (trueFalse, multipleChoice, fillInTheBlanks, sentenceScramble), generate at least 5 questions per difficulty level (easy, normal, hard), but more is better if appropriate.
    For memoryCardGame, generate ONLY 1 question per difficulty, but the "pairs" array inside must contain at least 5 pairs (each pair is a related concept, word/definition, Q&A, or translation relevant to '${t}'), and more is better if appropriate.
    Each memoryCardGame question should include clear "instructions" for the matching task.
    All text must be in the primary language of the topic. Only output the JSON object, no explanation or extra text.
  `;return await Ke(s,e)},rN=async(t,e,a)=>{const s=`
    Based on the following learning objectives: ${JSON.stringify(a)}
    Please generate a short, natural English conversation (at least 3 lines, but more is better if appropriate, 2 speakers) about the topic "${t}" (use English translation if topic is not English).
    Output MUST be a valid JSON array, e.g.:
    [
      { "speaker": "Speaker A", "line": "Hello! Let's talk about ${t}." },
      { "speaker": "Speaker B", "line": "Great idea! What's the first thing we should discuss regarding ${t}?" },
      { "speaker": "Speaker A", "line": "Perhaps we can start with..." },
      { "speaker": "Speaker B", "line": "I think examples would help." }
    ]
    Do NOT include any explanation or extra text. Only output the JSON array.
  `;return await Ke(s,e)},uN=async(t,e,a)=>{const s=`
    Please generate at least 3 (but more is better if appropriate) clear and distinct learning objectives for the topic: "${t}" appropriate for learning level "${e.name}" (${e.description}).
    The objectives should be based on scaffolding theory and gamification, written in the primary language of the topic, and tailored to the learner's level and capabilities described in: "${e.description}".
    For each objective, provide the objective statement, a detailed description, and a concrete teaching example (such as a sample sentence, scenario, or application).
    Output MUST be a valid JSON array of objects, e.g.:
    [
      { 
        "objective": "${t}${e.name}", 
        "description": "${e.name}...", 
        "teachingExample": "..." 
      },
      { 
        "objective": "${t}${e.name}", 
        "description": "...", 
        "teachingExample": "..." 
      },
      { 
        "objective": "${t}", 
        "description": "...", 
        "teachingExample": "..." 
      },
      //...or more items
    ]
    Do NOT include any explanation or extra text. Only output the JSON array.
  `;return await Ke(s,a)},cN=async(t,e,a,s)=>{const o=/english|||grammar|vocabulary|pronunciation|speaking|listening|reading|writing/i.test(t),u=`
    Based on the following learning objectives: ${JSON.stringify(s)}
    Please break down the topic "${t}" into at least 3 (but more is better if appropriate) micro-units appropriate for "${e.name}" level learners (${e.description}). For each, provide a sub-topic, a brief explanation, and a concrete teaching example.
    The content depth and complexity should match the level description: "${e.description}".
    
    ${o?`
    SPECIAL REQUIREMENTS FOR ENGLISH LEARNING TOPICS:
    For each breakdown item, also include:
    - coreConcept:  (core learning concept for this point)
    - teachingSentences: 3-5 (array of 3-5 teaching example sentences)
    - teachingTips:  (teaching tips and explanations)
    
    Output format for English learning topics:
    [
      {
        "topic": "${e.name}A", 
        "details": "A${e.name}...", 
        "teachingExample": "A...",
        "coreConcept": "...",
        "teachingSentences": ["1", "2", "3", "4", "5"],
        "teachingTips": "..."
      }
    ]
    `:`
    Standard output format:
    [
      { "topic": "${e.name}A", "details": "A${e.name}...", "teachingExample": "A..." }
    ]
    `}
    
    Do NOT include any explanation or extra text. Only output the JSON array.
  `;return await Ke(u,a)},dN=async(t,e,a,s)=>{const o=`
    Based on the following learning objectives: ${JSON.stringify(s)}
    Generate at least 3 (but more is better if appropriate) comprehensive analysis of common misconceptions or difficulties that "${e.name}" level learners (${e.description}) may have with "${t}".
    
    Output MUST be a valid JSON array with the following comprehensive structure:
    [
      {
        "point": "${e.name}",
        "clarification": "${e.description}",
        "teachingExample": "",
        "errorType": " (///)",
        "commonErrors": ["1", "2", "3"],
        "correctVsWrong": [
          {
            "correct": "${e.name}",
            "wrong": "", 
            "explanation": ""
          }
        ],
        "preventionStrategy": "${e.name}",
        "correctionMethod": "",
        "practiceActivities": ["1", "2", "3"]
      }
    ]
    
    Requirements:
    - All content should be appropriate for "${e.description}"
    - Each confusing point should include ALL fields above
    - commonErrors: Provide at least 3 typical student mistakes at this level
    - correctVsWrong: Provide at least 1 comparison (more if helpful)  
    - practiceActivities: Provide at least 3 level-appropriate targeted practice activities
    - All text should be in the primary language of the topic
    - Focus on confusion points specific to "${e.name}" level: "${e.description}"
    
    Do NOT include any explanation or extra text. Only output the JSON array.
  `;return await Ke(o,a)},fN=async(t,e,a,s)=>{const o=`
    Based on the following learning objectives: ${JSON.stringify(s)}
    Suggest at least 3 (but more is better if appropriate) engaging, interactive classroom activities (preferably game-like) for the topic "${t}" suitable for "${e.name}" level learners (${e.description}).
    Activities should match the complexity and capabilities described in: "${e.description}".
    For each activity, provide the following comprehensive fields:
      - title: / (The name of the activity)
      - description:  (Brief description of the core concept)
      - objective:  (Main learning goal or purpose)
      - timing:  (When to use: lesson introduction, during unit, after unit, review, etc.)
      - materials:  (Required tools, materials, or props)
      - environment:  (Seating arrangement, space needs, equipment conditions)
      - steps:  (Step-by-step process of teacher-student interactions as array)
      - assessmentPoints:  (Learning effectiveness observation and assessment criteria as array)
    
    Output MUST be a valid JSON array of objects, e.g.:
    [
      {
        "title": "${e.name}1",
        "description": "1...",
        "objective": "1${e.name}...",
        "timing": "//...",
        "materials": "...",
        "environment": "...",
        "steps": ["1: ...", "2: ...", "3: ..."],
        "assessmentPoints": ["", "", ""]
      },
      // ... more items
    ]
    Do NOT include any explanation or extra text. Only output the JSON array.
  `;return await Ke(o,a)},mN=async(t,e,a,s)=>{const o=`
    ${t}${e.name}(${e.description})
    ${JSON.stringify(s)}
    
    ${e.name}
    ${e.description}
    
     JSON 
    {
      "easy": {
        "trueFalse": [
          { "statement": "1...", "isTrue": true, "explanation": "1" },
          { "statement": "2...", "isTrue": false, "explanation": "2" }
          // ...  5 
        ],
        "multipleChoice": [
          { "question": "1...", "options": ["A", "B", "C"], "correctAnswerIndex": 0 },
          { "question": "2...", "options": ["A", "B", "C"], "correctAnswerIndex": 1 }
          // ...  5 
        ],
        "fillInTheBlanks": [
          { "sentenceWithBlank": "1...____...", "correctAnswer": "1" },
          { "sentenceWithBlank": "2...____...", "correctAnswer": "2" }
          // ...  5 
        ],
        "sentenceScramble": [
          { "originalSentence": "1...", "scrambledWords": ["...", "...", "..."] },
          { "originalSentence": "2...", "scrambledWords": ["...", "...", "..."] }
          // ...  5 
        ],
        "memoryCardGame": [
          {
            "pairs": [
              { "question": "1", "answer": "1" },
              { "question": "2", "answer": "2" },
              { "question": "3", "answer": "3" },
              { "question": "4", "answer": "4" },
              { "question": "5", "answer": "5" }
              // ...  5 
            ],
            "instructions": ""
          }
        ]
      },
      "normal": { /*  easymemoryCardGame  1 pairs  5  */ },
      "hard": { /*  easymemoryCardGame  1 pairs  5  */ }
    }
    
     (trueFalse, multipleChoice, fillInTheBlanks, sentenceScramble) (easy, normal, hard)  5 
     memoryCardGame 1  "pairs"  5 ${t}/
     memoryCardGame  "instructions" 
     JSON 
  `;return await Ke(o,a)},hN=async(t,e,a,s)=>{const o=`
    Based on the following learning objectives: ${JSON.stringify(s)}
    Please generate a short, natural English conversation (at least 3 lines, but more is better if appropriate, 2 speakers) about the topic "${t}" (use English translation if topic is not English) appropriate for "${e.name}" level learners (${e.description}).
    Language complexity and vocabulary should match: "${e.description}".
    Output MUST be a valid JSON array, e.g.:
    [
      { "speaker": "Speaker A", "line": "Hello! Let's talk about ${t}." },
      { "speaker": "Speaker B", "line": "Great idea! What's the first thing we should discuss regarding ${t}?" },
      { "speaker": "Speaker A", "line": "Perhaps we can start with..." },
      { "speaker": "Speaker B", "line": "I think examples would help." }
    ]
    Do NOT include any explanation or extra text. Only output the JSON array.
  `;return await Ke(o,a)},c0=async(t,e,a)=>{const s=`
    Based on the topic "${t}" and learning objectives: ${JSON.stringify(a)}
    Please generate 3-4 learning levels that are specific to this topic. Each level should have a unique name, description, and order.
    The levels should progress from basic understanding to advanced mastery, tailored specifically to the subject matter.
    
    Output MUST be a valid JSON object with this exact structure:
    {
      "suggestedLevels": [
        {
          "id": "beginner",
          "name": "",
          "description": "${t}",
          "order": 1
        },
        {
          "id": "intermediate", 
          "name": "",
          "description": "${t}",
          "order": 2
        },
        {
          "id": "advanced",
          "name": "", 
          "description": "${t}",
          "order": 3
        }
      ],
      "defaultLevelId": "beginner"
    }
    
    Make sure to:
    1. Create level names and descriptions that are specific to the topic (not generic)
    2. Use appropriate terminology for the subject area
    3. Ensure descriptions explain what learners at each level can do
    4. Use the primary language of the topic for names and descriptions
    
    Do NOT include any explanation or extra text. Only output the JSON object.
  `;return await Ke(s,e)},pN=t=>{const e=["english","grammar","vocabulary","pronunciation","speaking","writing","reading","listening","conversation","toefl","ielts","toeic","english literature","business english","academic english","phrasal verbs","idioms","prepositions","tenses","articles","adjectives","adverbs","nouns","verbs","","","","","","","","","","","","","","","","","","","","","","","","",""],a=t.toLowerCase();return e.some(s=>a.includes(s.toLowerCase()))},gN=async(t,e)=>{if(!e)throw new Error("Gemini API ");const a=await u0(t,e);return await c0(t,e,a)},yN=async(t,e,a)=>{if(!a)throw new Error("Gemini API ");const s=await uN(t,e,a),[o,u,h,g,x,p]=await Promise.all([cN(t,e,a,s),dN(t,e,a,s),fN(t,e,a,s),mN(t,e,a,s),hN(t,e,a,s),Pc(t,a,s,e)]);return{learningObjectives:s,contentBreakdown:o,confusingPoints:u,classroomActivities:h,onlineInteractiveQuiz:g,englishConversation:x,writingPractice:p}},xN=async(t,e,a,s)=>{if(!s)throw new Error("Gemini API ");const o=await vN(t,e,a,s),[u,h,g,x,p,v]=await Promise.all([bN(t,e,a,s,o),CN(t,e,a,s,o),TN(t,e,a,s,o),SN(t,e,a,s,o),wN(t,e,a,s,o),Pc(t,s,o,e,a)]);return{learningObjectives:o,contentBreakdown:u,confusingPoints:h,classroomActivities:g,onlineInteractiveQuiz:x,englishConversation:p,writingPractice:v}},vN=async(t,e,a,s)=>{const o=`
    Please generate at least 3 (but more is better if appropriate) clear and distinct learning objectives for the topic: "${t}" appropriate for learning level "${e.name}" (${e.description}) and English vocabulary level "${a.name}" (${a.wordCount} words: ${a.description}).
    The objectives should be based on scaffolding theory and gamification, written in the primary language of the topic, and tailored to both the learner's level and vocabulary constraints.
    For each objective, provide the objective statement, a detailed description, and a concrete teaching example (such as a sample sentence, scenario, or application).
    
    CRITICAL VOCABULARY CONSTRAINTS for English content:
    - All English text must use vocabulary within the ${a.wordCount} most common English words
    - Adjust language complexity to match ${a.description}
    - Avoid advanced vocabulary that exceeds this level
    
    Output MUST be a valid JSON array of objects, e.g.:
    [
      { 
        "objective": "${t}${e.name}${a.wordCount}", 
        "description": "${e.name}${a.name}...", 
        "teachingExample": "${a.wordCount}..." 
      },
      { 
        "objective": "${t}${e.name}${a.name}", 
        "description": "...", 
        "teachingExample": "${a.wordCount}..." 
      },
      { 
        "objective": "${t}", 
        "description": "...", 
        "teachingExample": "..." 
      },
      //...or more items
    ]
    Do NOT include any explanation or extra text. Only output the JSON array.
  `;return await Ke(o,s)},bN=async(t,e,a,s,o)=>{const u=/english|||grammar|vocabulary|pronunciation|speaking|listening|reading|writing/i.test(t),h=`
    Based on the following learning objectives: ${JSON.stringify(o)}
    Please break down the topic "${t}" into at least 3 (but more is better if appropriate) micro-units appropriate for "${e.name}" level learners (${e.description}) with English vocabulary level "${a.name}" (${a.wordCount} words: ${a.description}).
    
    CRITICAL VOCABULARY CONSTRAINTS for English content:
    - All English text must use vocabulary within the ${a.wordCount} most common English words
    - Teaching examples should match ${a.description}
    - Avoid complex words that exceed this vocabulary level
    - Sentence structures should be appropriate for ${a.name} learners
    
    ${u?`
    SPECIAL REQUIREMENTS FOR ENGLISH LEARNING TOPICS:
    For each breakdown item, also include:
    - coreConcept:  (core learning concept for this point)
    - teachingSentences: 3-5${a.wordCount} (array of 3-5 teaching sentences using vocabulary within ${a.wordCount} words)
    - teachingTips:  (teaching tips and explanations)
    
    Output format for English learning topics:
    [
      {
        "topic": "${a.name}A", 
        "details": "A${a.wordCount}...", 
        "teachingExample": "A${a.name}...",
        "coreConcept": "...",
        "teachingSentences": ["Simple example 1", "Easy sentence 2", "Basic example 3"],
        "teachingTips": "..."
      }
    ]
    `:`
    Standard output format:
    [
      { "topic": "${a.name}A", "details": "A${a.wordCount}...", "teachingExample": "A${a.name}..." }
    ]
    `}
    
    Do NOT include any explanation or extra text. Only output the JSON array.
  `;return await Ke(h,s)},CN=async(t,e,a,s,o)=>{const u=`
    Based on the following learning objectives: ${JSON.stringify(o)}
    Generate at least 3 (but more is better if appropriate) comprehensive analysis of common misconceptions or difficulties that "${e.name}" level learners (${e.description}) with English vocabulary level "${a.name}" (${a.wordCount} words: ${a.description}) may have with "${t}".
    
    CRITICAL VOCABULARY CONSTRAINTS for English content:
    - All explanations must use vocabulary within the ${a.wordCount} most common English words
    - Examples should be appropriate for ${a.description}
    - Focus on confusion points that arise specifically at this vocabulary level
    
    Output MUST be a valid JSON array with the following comprehensive structure:
    [
      {
        "point": "${a.name}",
        "clarification": "${a.wordCount}",
        "teachingExample": "${a.name}",
        "errorType": " (///)",
        "commonErrors": ["1", "2", "3"],
        "correctVsWrong": [
          {
            "correct": "${a.wordCount}",
            "wrong": "",
            "explanation": ""
          }
        ],
        "preventionStrategy": "${a.name}",
        "correctionMethod": "",
        "practiceActivities": ["1", "2", "3"]
      }
    ]
    
    All English content must stay within the ${a.wordCount} word vocabulary limit and match ${e.description}.
    Do NOT include any explanation or extra text. Only output the JSON array.
  `;return await Ke(u,s)},TN=async(t,e,a,s,o)=>{const u=`
    Based on the following learning objectives: ${JSON.stringify(o)}
    Suggest at least 3 (but more is better if appropriate) engaging, interactive classroom activities (preferably game-like) for the topic "${t}" suitable for "${e.name}" level learners (${e.description}) with English vocabulary level "${a.name}" (${a.wordCount} words: ${a.description}).
    
    CRITICAL VOCABULARY CONSTRAINTS for English content:
    - Activity instructions must use vocabulary within the ${a.wordCount} most common English words
    - Activity content should match ${a.description}
    - Consider vocabulary limitations when designing complexity
    
    For each activity, provide the following comprehensive fields:
      - title: / (The name of the activity)
      - description:  (Brief description of the core concept)
      - objective:  (Main learning goal or purpose)
      - timing:  (When to use: lesson introduction, during unit, after unit, review, etc.)
      - materials:  (Required tools, materials, or props)
      - environment:  (Seating arrangement, space needs, equipment conditions)
      - steps:  (Step-by-step process of teacher-student interactions as array)
      - assessmentPoints:  (Learning effectiveness observation and assessment criteria as array)
    
    Output MUST be a valid JSON array of objects, e.g.:
    [
      {
        "title": "${a.name}1",
        "description": "1${a.wordCount}...",
        "objective": "1${a.name}...",
        "timing": "//...",
        "materials": "...",
        "environment": "...",
        "steps": ["1: ...", "2: ...", "3: ..."],
        "assessmentPoints": ["", "", ""]
      },
      // ... more items
    ]
    Do NOT include any explanation or extra text. Only output the JSON array.
  `;return await Ke(u,s)},SN=async(t,e,a,s,o)=>{const u=`
    Based on the following learning objectives: ${JSON.stringify(o)}
    Please generate quiz content for "${t}" suitable for learning level "${e.name}" (${e.description}) and English vocabulary level "${a.name}" (${a.wordCount} words: ${a.description}).
    
    CRITICAL VOCABULARY CONSTRAINTS for English content:
    - All English text in quiz questions, options, and examples must use vocabulary within the ${a.wordCount} most common English words
    - Sentence structures should be appropriate for ${a.description}
    - Avoid advanced vocabulary that exceeds this level
    
    Output in the following JSON structure (no explanation, no extra text):
    {
      "easy": {
        "trueFalse": [
          { "statement": "1...", "isTrue": true, "explanation": "1" },
          { "statement": "2...", "isTrue": false, "explanation": "2" }
          // ...  5 
        ],
        "multipleChoice": [
          { "question": "1...", "options": ["A", "B", "C"], "correctAnswerIndex": 0 },
          { "question": "2...", "options": ["A", "B", "C"], "correctAnswerIndex": 1 }
          // ...  5 
        ],
        "fillInTheBlanks": [
          { "sentenceWithBlank": "1...____...", "correctAnswer": "1" },
          { "sentenceWithBlank": "2...____...", "correctAnswer": "2" }
          // ...  5 
        ],
        "sentenceScramble": [
          { "originalSentence": "1...", "scrambledWords": ["...", "...", "..."] },
          { "originalSentence": "2...", "scrambledWords": ["...", "...", "..."] }
          // ...  5 
        ],
        "memoryCardGame": [
          {
            "pairs": [
              { "question": "1", "answer": "1" },
              { "question": "2", "answer": "2" },
              { "question": "3", "answer": "3" },
              { "question": "4", "answer": "4" },
              { "question": "5", "answer": "5" }
              // ...  5 
            ],
            "instructions": ""
          }
        ]
      },
      "normal": { /* same structure as easy, memoryCardGame  1 pairs  5  */ },
      "hard": { /* same structure as easy, memoryCardGame  1 pairs  5  */ }
    }
    For each quiz type (trueFalse, multipleChoice, fillInTheBlanks, sentenceScramble), generate at least 5 questions per difficulty level (easy, normal, hard), but more is better if appropriate.
    For memoryCardGame, generate ONLY 1 question per difficulty, but the "pairs" array inside must contain at least 5 pairs (each pair is a related concept, word/definition, Q&A, or translation relevant to '${t}'), and more is better if appropriate.
    Each memoryCardGame question should include clear "instructions" for the matching task.
    All text must be in the primary language of the topic. For English learning topics, limit English vocabulary to ${a.wordCount} most common words. Only output the JSON object, no explanation or extra text.
  `;return await Ke(u,s)},wN=async(t,e,a,s,o)=>{const u=`
    Based on the following learning objectives: ${JSON.stringify(o)}
    Please generate a short, natural English conversation (at least 3 lines, but more is better if appropriate, 2 speakers) about the topic "${t}" (use English translation if topic is not English) appropriate for "${e.name}" level learners (${e.description}) with English vocabulary level "${a.name}" (${a.wordCount} words: ${a.description}).
    
    CRITICAL VOCABULARY CONSTRAINTS:
    - Use ONLY vocabulary within the ${a.wordCount} most common English words
    - Sentence structures must be appropriate for ${a.description}
    - Conversation complexity should match ${a.name} level
    - Avoid advanced vocabulary that exceeds this level
    - Keep sentences simple and clear for ${a.name} learners
    
    Output MUST be a valid JSON array, e.g.:
    [
      { "speaker": "Speaker A", "line": "Hello! Let's talk about ${t} using simple words for ${a.name} level." },
      { "speaker": "Speaker B", "line": "Great idea! What should we discuss first about ${t}?" },
      { "speaker": "Speaker A", "line": "Perhaps we can start with..." },
      { "speaker": "Speaker B", "line": "I think examples would help." }
    ]
    Do NOT include any explanation or extra text. Only output the JSON array.
  `;return await Ke(u,s)},NN=async(t,e)=>{if(!e)throw new Error("Gemini API ");const a=await u0(t,e),[s,o,u,h,g,x,p]=await Promise.all([aN(t,e,a),sN(t,e,a),lN(t,e,a),oN(t,e,a),rN(t,e,a),c0(t,e,a),Pc(t,e,a)]);return{learningObjectives:a,contentBreakdown:s,confusingPoints:o,classroomActivities:u,onlineInteractiveQuiz:h,englishConversation:g,learningLevels:x,writingPractice:p}},_N=t=>{const e=a=>({trueFalse:Math.max(0,Math.min(a.trueFalse,Ti.trueFalse)),multipleChoice:Math.max(0,Math.min(a.multipleChoice,Ti.multipleChoice)),fillInTheBlanks:Math.max(0,Math.min(a.fillInTheBlanks,Ti.fillInTheBlanks)),sentenceScramble:Math.max(0,Math.min(a.sentenceScramble,Ti.sentenceScramble)),memoryCardGame:Math.max(0,Math.min(a.memoryCardGame,Ti.memoryCardGame))});return{easy:e(t.easy),normal:e(t.normal),hard:e(t.hard)}},EN=async(t,e,a,s,o,u)=>{const h=_N(s),g=async C=>{const T=h[C];let S="";o&&(S=`${o.name} (${o.description}) `);let N="";u&&(N=`
      CRITICAL VOCABULARY CONSTRAINTS for English content:
      - All English text must use vocabulary within the ${u.wordCount} most common English words
      - Examples should be appropriate for ${u.description}
      `);const _=`
      Based on the following learning objectives: ${JSON.stringify(a)}
      Please generate ${S}quiz content for "${t}" with the following specific quantities:
      
      - True/False questions: ${T.trueFalse} questions
      - Multiple choice questions: ${T.multipleChoice} questions  
      - Fill in the blanks questions: ${T.fillInTheBlanks} questions
      - Sentence scramble questions: ${T.sentenceScramble} questions
      - Memory card game questions: ${T.memoryCardGame} questions
      
      ${N}
      
      Output MUST be a valid JSON object with this exact structure:
      {
        "trueFalse": [${T.trueFalse>0?`
          { "statement": "", "isTrue": true, "explanation": "" }
          //  ${T.trueFalse} `:"//  0 "}],
        "multipleChoice": [${T.multipleChoice>0?`
          { "question": "", "options": ["A", "B", "C", "D"], "correctAnswerIndex": 0 }
          //  ${T.multipleChoice} `:"//  0 "}],
        "fillInTheBlanks": [${T.fillInTheBlanks>0?`
          { "sentenceWithBlank": " ____ ", "correctAnswer": "" }
          //  ${T.fillInTheBlanks} `:"//  0 "}],
        "sentenceScramble": [${T.sentenceScramble>0?`
          { "originalSentence": "", "scrambledWords": ["", "", "", ""] }
          //  ${T.sentenceScramble} `:"//  0 "}],
        "memoryCardGame": [${T.memoryCardGame>0?`
          { "pairs": [{"question": "", "answer": ""}, ...], "instructions": "" }
          //  ${T.memoryCardGame}  5 `:"//  0 "}]
      }
      
      IMPORTANT: 
      - Generate EXACTLY the number of questions specified for each type (supports up to 10 questions for most types, 2 for memory card games)
      - If a question type is set to 0, provide an empty array []
      - For memoryCardGame, each question should contain at least 5 pairs in the "pairs" array
      - Maximum limits: trueFalse/multipleChoice/fillInTheBlanks/sentenceScramble up to 10 questions, memoryCardGame up to 2 questions
      - All text must be in the primary language of the topic
      - Do NOT include any explanation or extra text, only output the JSON object
    `;return await Ke(_,e)},[x,p,v]=await Promise.all([g("easy"),g("normal"),g("hard")]);return{easy:x,normal:p,hard:v}},AN=async(t,e,a,s,o,u)=>await EN(t,e,a,s,o,u),Pc=async(t,e,a,s,o)=>{const u=`
    Based on the topic "${t}" and learning objectives: ${JSON.stringify(a)}
    Generate 6 sentence-making practice prompts (2 easy, 2 normal, 2 hard difficulty).
    
    ${s?`The content should be suitable for "${s.name}" level learners (${s.description}).`:""}
    ${o?`
    VOCABULARY CONSTRAINTS for English content:
    - All instructions and keywords must use vocabulary within the ${o.wordCount} most common English words
    - Examples should be appropriate for ${o.description}
    `:""}
    
    Output MUST be a valid JSON array:
    [
      {
        "id": "sentence_1",
        "instruction": "",
        "keywords": ["1", "2", "3"],
        "exampleSentence": "",
        "hints": ["1", "2"],
        "difficulty": "easy"
      }
    ]
    
    Requirements:
    - Each prompt should include 2-4 keywords that must be used
    - Provide clear instructions in the primary language of the topic
    - Include helpful hints for sentence construction
    - Example sentences should demonstrate proper usage
    - Progressive difficulty from easy to hard
    
    Do NOT include explanation, only output the JSON array.
  `,h=`
    Based on the topic "${t}" and learning objectives: ${JSON.stringify(a)}
    Generate 6 writing practice prompts (2 easy, 2 normal, 2 hard difficulty).
    
    ${s?`The content should be suitable for "${s.name}" level learners (${s.description}).`:""}
    ${o?`
    VOCABULARY CONSTRAINTS for English content:
    - All instructions and suggested keywords must use vocabulary within the ${o.wordCount} most common English words
    - Writing requirements should match ${o.description}
    `:""}
    
    Output MUST be a valid JSON array:
    [
      {
        "id": "writing_1", 
        "title": "",
        "instruction": "",
        "structure": ["1", "2", "3"],
        "keywords": ["1", "2"],
        "minLength": 100,
        "maxLength": 300,
        "exampleOutline": "",
        "difficulty": "easy"
      }
    ]
    
    Requirements:
    - Easy: 100-200 words, simple structure
    - Normal: 200-400 words, moderate complexity  
    - Hard: 300-600 words, complex structure
    - Provide clear writing guidelines and structure suggestions
    - Include relevant vocabulary recommendations
    - All text in the primary language of the topic
    
    Do NOT include explanation, only output the JSON array.
  `,[g,x]=await Promise.all([Ke(u,e),Ke(h,e)]);return{sentencePractice:g,writingPractice:x,instructions:"AI"}},MN=async(t,e,a,s,o)=>{const u=/[a-zA-Z]/.test(t),h=u?"English":"Chinese",g=`
    Please provide detailed feedback for this ${e} practice work:
    
    Original Prompt: ${JSON.stringify(a)}
    Student Work: "${t}"
    
    ${o&&u?`
    VOCABULARY LEVEL CONTEXT:
    - Target level: ${o.name} (${o.wordCount} words: ${o.description})
    - Evaluate if vocabulary usage matches this level
    `:""}
    
    Provide comprehensive feedback in JSON format:
    {
      "score": 85,
      "strengths": ["1", "2"],
      "improvements": ["1", "2"],
      "grammarCorrections": [
        {
          "original": "",
          "corrected": "", 
          "explanation": ""
        }
      ],
      "vocabularyTips": ["1", "2"],
      "structureFeedback": "",
      "overallComment": ""
    }
    
    Evaluation Criteria:
    - Content relevance and completion of requirements
    - Grammar and language accuracy
    - Vocabulary usage and variety
    - Structure and organization (for writing)
    - Creativity and expression
    
    ${e==="sentence"?`
    For sentence practice:
    - Check if required keywords are used correctly
    - Evaluate sentence structure and grammar
    - Assess creativity in sentence construction
    `:`
    For writing practice:
    - Evaluate if word count requirements are met
    - Assess paragraph structure and flow
    - Check adherence to suggested outline
    - Evaluate argument development and coherence
    `}
    
    Provide feedback in Traditional Chinese for better understanding.
    Be encouraging and constructive. Score range: 0-100.
    
    Do NOT include explanation, only output the JSON object.
  `;return await Ke(g,s)},kN=({topic:t,setTopic:e,onGenerate:a,onGenerateWithLevels:s,isLoading:o})=>{const u=g=>{g.preventDefault(),!o&&t.trim()&&a()},h=g=>{g.preventDefault(),!o&&t.trim()&&s&&s()};return f.jsxs("form",{onSubmit:u,className:"mb-8 p-6 bg-white shadow-lg rounded-xl",children:[f.jsx("label",{htmlFor:"topic-input",className:"block text-xl font-semibold text-slate-700 mb-3",children:""}),f.jsxs("div",{className:"flex flex-col space-y-3",children:[f.jsx("input",{id:"topic-input",type:"text",value:t,onChange:g=>e(g.target.value),placeholder:"JavaScript Promises",className:"w-full p-3 border border-slate-400 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-600 transition-shadow bg-slate-50 text-slate-800 placeholder-slate-500",disabled:o,"aria-label":""}),f.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3",children:[s&&f.jsx("button",{type:"button",onClick:h,disabled:o||!t.trim(),className:"flex-1 px-6 py-3 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50 transition-colors disabled:bg-slate-400 disabled:cursor-not-allowed flex items-center justify-center",children:o?f.jsxs(f.Fragment,{children:[f.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"..."]}):" "}),f.jsx("button",{type:"submit",disabled:o||!t.trim(),className:"flex-1 px-6 py-3 bg-sky-600 text-white font-semibold rounded-lg hover:bg-sky-700 focus:outline-none focus:ring-2 focus:ring-sky-500 focus:ring-opacity-50 transition-colors disabled:bg-slate-400 disabled:cursor-not-allowed flex items-center justify-center","aria-live":"polite",children:o?f.jsxs(f.Fragment,{children:[f.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"..."]}):" "})]}),s&&f.jsxs("div",{className:"text-sm text-slate-600 bg-slate-50 p-3 rounded-lg",children:[f.jsxs("p",{children:[f.jsx("strong",{children:" "})," "]}),f.jsxs("p",{children:[f.jsx("strong",{children:" "})," "]})]})]})]})},Aa=()=>f.jsxs("div",{className:"flex flex-col items-center justify-center space-y-2",children:[f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-sky-600"}),f.jsx("p",{className:"text-sky-700",children:"..."})]}),Yt=({title:t,icon:e,children:a,className:s})=>f.jsxs("div",{className:`bg-white shadow-lg rounded-xl p-6 mb-6 ${s||""}`,children:[f.jsxs("h2",{className:"text-2xl font-semibold text-sky-700 mb-4 flex items-center",children:[e&&f.jsx("span",{className:"mr-3 text-sky-600",children:e}),t]}),f.jsx("div",{className:"text-slate-700 space-y-3",children:a})]}),Do=async(t,e)=>{const a=new o0({apiKey:e}),s="gemini-2.5-flash";try{const o=await a.models.generateContent({model:s,contents:t,config:{responseMimeType:"application/json"}});if(!o.text)throw new Error("AI  API ");let u=o.text.trim();const h=/^```(\w*)?\s*\n?(.*?)\n?\s*```$/s,g=u.match(h);if(g&&g[2]&&(u=g[2].trim()),!u.startsWith("{")&&!u.startsWith("[")&&(u.includes("{")||u.includes("["))){const x=u.indexOf("{"),p=u.indexOf("[");let v=-1,C=-1;x!==-1&&(p===-1||x<p)?(v=x,C=u.lastIndexOf("}")):p!==-1&&(v=p,C=u.lastIndexOf("]")),v!==-1&&C!==-1&&C>v&&(u=u.substring(v,C+1))}try{return JSON.parse(u)}catch{throw console.error("AI  (JSON parse ):",o.text),new Error("AI  ( JSON)")}}catch(o){let u="";throw o instanceof Error&&(u+=`  ${o.message}`),new Error(u)}},RN=t=>{const e=new Map;return t.forEach(a=>{e.has(a.questionType)||e.set(a.questionType,{questionType:a.questionType,totalQuestions:0,correctCount:0,accuracy:0,averageTime:0,commonErrors:[],difficultyBreakdown:{easy:{total:0,correct:0,accuracy:0},normal:{total:0,correct:0,accuracy:0},hard:{total:0,correct:0,accuracy:0}}})}),t.forEach(a=>{const s=e.get(a.questionType);s.totalQuestions++,a.isCorrect&&s.correctCount++;const o=s.difficultyBreakdown[a.difficulty];o.total++,a.isCorrect&&o.correct++,o.accuracy=o.total>0?Math.round(o.correct/o.total*100):0}),e.forEach(a=>{a.accuracy=a.totalQuestions>0?Math.round(a.correctCount/a.totalQuestions*100):0;const o=t.filter(u=>u.questionType===a.questionType).filter(u=>u.responseTime).map(u=>u.responseTime);a.averageTime=o.length>0?Math.round(o.reduce((u,h)=>u+h,0)/o.length):void 0}),Array.from(e.values())},d0=t=>{if(t.length===0)return 0;const e=t.filter(a=>a.isCorrect).length;return Math.round(e/t.length*100)},DN=t=>t>=80?"advanced":t>=60?"intermediate":"beginner",IN=async(t,e,a,s)=>{const o=e.filter(p=>!p.isCorrect),u=e.filter(p=>p.isCorrect),h=o.map(p=>`
    : ${p.questionType}
    : ${p.difficulty}
    : ${JSON.stringify(p.userAnswer)}
    : ${JSON.stringify(p.correctAnswer)}
    : ${p.attempts||1}`).join(`
`),g=u.map(p=>`
    : ${p.questionType}
    : ${p.difficulty}
    : ${JSON.stringify(p.userAnswer)}`).join(`
`),x=`
    ${t}
    
    
    - ${u.length}
    - ${o.length}
    - ${Math.round(u.length/e.length*100)}%
    
    ${h}
    
    ${g}
    
     JSON 
    {
      "strengths": [
        {
          "area": "",
          "description": "",
          "level": "good|excellent|outstanding",
          "examples": [""],
          "leverageOpportunities": [""]
        }
      ],
      "weaknesses": [
        {
          "area": "",
          "description": "",
          "severity": "low|medium|high",
          "affectedTopics": [""],
          "recommendedActions": [""]
        }
      ],
      "learningStyle": "",
      "cognitivePattern": ""
    }
    
    
  `;try{return await Do(x,s)}catch(p){return console.error("AI :",p),{strengths:[],weaknesses:[],learningStyle:"",cognitivePattern:""}}},jN=async(t,e,a,s,o,u)=>{const h=`
    Generate personalized learning recommendations for a student based on their performance analysis.
    
    Context:
    - Topic: "${t}"
    - Overall Score: ${e}%
    - Learning Level: ${a}
    - Key Strengths: ${s.map(g=>g.area).join(", ")}
    - Areas for Improvement: ${o.map(g=>g.area).join(", ")}
    
    Please provide 3-5 personalized recommendations in the following JSON structure (no explanation, no extra text):
    {
      "recommendations": [
        {
          "category": "immediate|short-term|long-term",
          "priority": "high|medium|low",
          "title": "",
          "description": "",
          "actionSteps": ["1", "2"],
          "expectedOutcome": "",
          "estimatedTime": "",
          "resources": [""]
        }
      ]
    }
    
    Focus on actionable, specific recommendations that consider the student's current level and identified strengths/weaknesses.
    Respond in Traditional Chinese ().
  `;try{return(await Do(h,u)).recommendations||[]}catch(g){return console.error("AI :",g),[]}},LN=async(t,e,a,s,o,u,h,g,x)=>{const v=((x==null?void 0:x.filter(T=>!T.isCorrect))||[]).map(T=>`
  - ${T.questionType} (: ${T.difficulty}): ${JSON.stringify(T.userAnswer)}${JSON.stringify(T.correctAnswer)}`).join(""),C=`
    ${t}
    
    
    - ${e}%
    - ${a}
    - ${o.map(T=>T.area).join("")}
    - ${u.map(T=>T.area).join("")}
    
    ${v}
    
     JSON 
    {
      "encouragementMessage": "",
      "keyStrengths": ["", "", ""],
      "improvementAreas": ["", ""],
      "nextSteps": ["", "", ""],
      "studyTips": ["", "", ""],
      "motivationalQuote": ""
    }
    
    
    
  `;try{const T=await Do(C,h);return{studentId:g,overallScore:e,overallLevel:a,encouragementMessage:T.encouragementMessage||"",keyStrengths:T.keyStrengths||[],improvementAreas:T.improvementAreas||[],nextSteps:T.nextSteps||[],studyTips:T.studyTips||[],motivationalQuote:T.motivationalQuote||""}}catch(T){return console.error("AI :",T),{studentId:g,overallScore:e,overallLevel:a,encouragementMessage:"",keyStrengths:["",""],improvementAreas:[""],nextSteps:["","",""],studyTips:["","",""],motivationalQuote:""}}},UN=async(t,e,a,s,o,u,h)=>{const x=((h==null?void 0:h.filter(v=>!v.isCorrect))||[]).map(v=>`
  - : ${v.questionType}, : ${v.difficulty}
    : ${JSON.stringify(v.userAnswer)}
    : ${JSON.stringify(v.correctAnswer)}
    : ${v.attempts||1}`).join(""),p=`
    ${t}
    
    
    - ${e}%
    - ${s.map(v=>v.area).join("")}
    - ${o.map(v=>v.area).join("")}
    - ${a.map(v=>`${v.questionType}: ${v.accuracy}%`).join("")}
    
    ${x}
    
     JSON 
    {
      "immediateInterventions": ["", ""],
      "instructionalStrategies": ["", "", ""],
      "differentiation": ["", ""],
      "parentGuidance": ["", ""]
    }
    
    
    
  `;try{const v=await Do(p,u);return{immediateInterventions:v.immediateInterventions||[],instructionalStrategies:v.instructionalStrategies||[],differentiation:v.differentiation||[],parentGuidance:v.parentGuidance||[]}}catch(v){return console.error("AI :",v),{immediateInterventions:[],instructionalStrategies:[],differentiation:[],parentGuidance:[]}}},ON=async(t,e,a={includeDetailedAnalysis:!0,includeComparativeData:!1,includeVisualCharts:!1,language:"zh-TW",reportFormat:"standard"})=>{try{const s=RN(t.responses),o=d0(t.responses),u=DN(o),h=await IN(t.topic,t.responses,s,e),g=await jN(t.topic,o,u,h.strengths,h.weaknesses,e),x=await LN(t.topic,o,u,s,h.strengths,h.weaknesses,e,t.studentId,t.responses),p=await UN(t.topic,o,s,h.strengths,h.weaknesses,e,t.responses),v={studentId:t.studentId,assessmentDate:new Date().toISOString(),topic:t.topic,overallPerformance:{totalScore:o,level:u,timeSpent:t.endTime&&t.startTime?Math.round((new Date(t.endTime).getTime()-new Date(t.startTime).getTime())/6e4):0},performanceByType:s,learningAnalysis:h,teachingRecommendations:p,personalizedRecommendations:g,progressTracking:{keyMetrics:["","",""],checkpoints:["","",""],reassessmentSuggestion:" 2-3 "}};return{session:t,studentFeedback:x,teacherReport:v,rawData:{responses:t.responses,statistics:s}}}catch(s){throw console.error(":",s),new Error("")}},_c=(t,e)=>({sessionId:`session_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,studentId:e,topic:t,startTime:new Date().toISOString(),responses:[],isCompleted:!1,metadata:{userAgent:navigator.userAgent,deviceType:/Mobi|Android/i.test(navigator.userAgent)?"mobile":"desktop"}}),Ec=t=>({...t,endTime:new Date().toISOString(),isCompleted:!0}),Ac=({className:t})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.31M8.25 18.75a12.064 12.064 0 0 0 7.5 0M12 6.75a2.25 2.25 0 1 1 0 4.5 2.25 2.5 0 0 1 0-4.5ZM12 6.75V3.75m0 3a12.022 12.022 0 0 0-5.483 1.348M12 6.75a12.022 12.022 0 0 1 5.483 1.348"})}),No=({className:t})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6-2.292m0 0V3.75m0 12.15V21"})}),Us=({className:t})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.25 7.756a4.5 4.5 0 1 0 0 8.488M7.5 10.5h5.25m-5.25 3h5.25M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),_i=({className:t})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),Ei=({className:t})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),Ai=({className:t})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.627 48.627 0 0 1 12 20.904a48.627 48.627 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.57 50.57 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.697 50.697 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443m-7.007 11.55A5.981 5.981 0 0 0 6.75 15.75v-1.5"})}),VN=({className:t})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m5.231 13.481L15 17.25m-4.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Zm3.75 11.625a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"})}),BN=({className:t})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.666 3.888A2.25 2.25 0 0 0 13.5 2.25h-3c-1.03 0-1.9.693-2.166 1.638m7.332 0c.055.194.084.4.084.612v0a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75v0c0-.212.03-.418.084-.612m7.332 0c.646.049 1.288.11 1.927.184 1.1.128 1.907 1.077 1.907 2.185V19.5a2.25 2.25 0 0 1-2.25 2.25H6.75A2.25 2.25 0 0 1 4.5 19.5V6.257c0-1.108.806-2.057 1.907-2.185a48.208 48.208 0 0 1 1.927-.184"})}),PN=({className:t})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"})}),$N=({className:t})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18.75a6 6 0 0 0 6-6v-1.5m-6 7.5a6 6 0 0 1-6-6v-1.5m6 7.5v3.75m-3.75 0h7.5M12 15c-1.13 0-2.25-.264-3.25-.73A4.505 4.505 0 0 1 5.25 9.75V8.25A6.75 6.75 0 0 1 12 1.5a6.75 6.75 0 0 1 6.75 6.75v1.5a4.505 4.505 0 0 1-3.5 4.52M12 15V8.25"})}),qN=({className:t})=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 9.563C9 9.254 9.254 9 9.563 9h4.874c.309 0 .563.254.563.563v4.874c0 .309-.254.563-.563.563H9.563A.562.562 0 0 1 9 14.437V9.564Z"})]}),Mc=({className:t})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M20.25 8.511c.884.284 1.5 1.128 1.5 2.097v4.286c0 1.136-.847 2.1-1.98 2.193-.34.027-.68.052-1.02.072v3.091l-2.184-2.183a1.724 1.724 0 0 0-1.235-.517H7.72c-1.137 0-2.1-.847-2.193-1.98A11.974 11.974 0 0 1 5.5 13H4.75a2.25 2.25 0 0 1-2.25-2.25V6.75a2.25 2.25 0 0 1 2.25-2.25h4.718c.468 0 .92.052 1.354.143L12 6l2.454-2.454L16.5 6h1.252a2.25 2.25 0 0 1 2.25 2.25v.233Z"})}),Os=({className:t})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"})}),zN=({className:t})=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:t||"w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),f0=({question:t,itemNumber:e,onAnswer:a})=>{const[s,o]=k.useState(null),[u,h]=k.useState(null);k.useEffect(()=>{o(null),h(null)},[t]);const g=x=>{o(x);const p=x===t.isTrue;let v=p?"":"";p||(v+=` ${t.isTrue?" (True)":" (False)"}`),h({isCorrect:p,message:v,explanation:t.explanation}),a&&a(x,p)};return f.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg bg-slate-50 mb-3",children:[f.jsxs("p",{className:"font-medium text-slate-700 mb-2",children:[e,". ",t.statement||"..."]}),f.jsxs("div",{className:"flex space-x-3 mb-3",children:[f.jsx("button",{onClick:()=>g(!0),className:`px-6 py-2 rounded-md font-medium transition-all
            ${s===!0?u!=null&&u.isCorrect?"bg-green-500 text-white ring-2 ring-green-300":"bg-red-500 text-white ring-2 ring-red-300":"bg-slate-200 hover:bg-slate-300 text-slate-700"}
          `,"aria-pressed":s===!0,disabled:u!==null,children:" (True)"}),f.jsx("button",{onClick:()=>g(!1),className:`px-6 py-2 rounded-md font-medium transition-all
            ${s===!1?u!=null&&u.isCorrect?"bg-green-500 text-white ring-2 ring-green-300":"bg-red-500 text-white ring-2 ring-red-300":"bg-slate-200 hover:bg-slate-300 text-slate-700"}
          `,"aria-pressed":s===!1,disabled:u!==null,children:" (False)"})]}),u&&f.jsxs("div",{className:`mt-2 p-2 rounded-md text-sm flex flex-col items-start ${u.isCorrect?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[f.jsxs("div",{className:"flex items-center",children:[u.isCorrect?f.jsx(_i,{className:"w-5 h-5 mr-2"}):f.jsx(Ei,{className:"w-5 h-5 mr-2"}),u.message]}),u.explanation&&f.jsx("p",{className:"mt-1 pl-7 text-xs italic",children:u.explanation})]})]})},m0=({question:t,itemNumber:e,onAnswer:a})=>{const[s,o]=k.useState(null),[u,h]=k.useState(null);k.useEffect(()=>{o(null),h(null)},[t]);const g=()=>{if(s===null){h({isCorrect:!1,message:""});return}const x=s===t.correctAnswerIndex;h({isCorrect:x,message:x?"":` ${(t.options||[])[t.correctAnswerIndex]||""}`}),a&&a(s,x)};return f.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg bg-slate-50 mb-3",children:[f.jsxs("p",{className:"font-medium text-slate-700 mb-2",children:[e,". ",t.question]}),f.jsx("div",{className:"space-y-2 mb-3",children:(t.options||[]).map((x,p)=>f.jsxs("label",{className:`flex items-center p-2 border rounded-md cursor-pointer hover:bg-sky-50 transition-colors ${s===p?"bg-sky-100 border-sky-500":"border-slate-300"} ${u!==null?"cursor-not-allowed opacity-70":""}`,children:[f.jsx("input",{type:"radio",name:`mcq-${e}-${t.question}`,value:p,checked:s===p,onChange:()=>{u===null&&o(p)},className:"mr-2 h-4 w-4 text-sky-600 focus:ring-sky-500 border-slate-400",disabled:u!==null}),x]},p))}),f.jsx("button",{onClick:g,className:"px-4 py-2 bg-sky-500 text-white rounded-md hover:bg-sky-600 transition-colors disabled:bg-slate-400",disabled:u!==null||s===null,children:""}),u&&f.jsxs("div",{className:`mt-2 p-2 rounded-md text-sm flex items-center ${u.isCorrect?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[u.isCorrect?f.jsx(_i,{className:"w-5 h-5 mr-2"}):f.jsx(Ei,{className:"w-5 h-5 mr-2"}),u.message]})]})},h0=({question:t,itemNumber:e,onAnswer:a})=>{var p;const[s,o]=k.useState(""),[u,h]=k.useState(null);k.useEffect(()=>{o(""),h(null)},[t]);const g=v=>{if(v.preventDefault(),!s.trim()){h({isCorrect:!1,message:""});return}const C=s.trim().toLowerCase()===t.correctAnswer.toLowerCase();h({isCorrect:C,message:C?"":` ${t.correctAnswer}`}),a&&a(s.trim(),C)},x=((p=t.sentenceWithBlank)==null?void 0:p.split("____"))||["",""];return f.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg bg-slate-50 mb-3",children:[f.jsxs("form",{onSubmit:g,className:"space-y-2",children:[f.jsxs("label",{htmlFor:`fillblank-${e}-${t.sentenceWithBlank}`,className:"font-medium text-slate-700 mb-1 block",children:[e,". ",x[0],f.jsx("input",{id:`fillblank-${e}-${t.sentenceWithBlank}`,type:"text",value:s,onChange:v=>{u===null&&o(v.target.value)},className:"mx-1 p-1 border-b-2 border-slate-400 focus:border-sky-500 outline-none w-24 sm:w-32 bg-transparent",placeholder:"",disabled:u!==null}),x[1]]}),f.jsx("button",{type:"submit",className:"px-4 py-2 bg-sky-500 text-white rounded-md hover:bg-sky-600 transition-colors disabled:bg-slate-400",disabled:u!==null||!s.trim(),children:""})]}),u&&f.jsxs("div",{className:`mt-2 p-2 rounded-md text-sm flex items-center ${u.isCorrect?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[u.isCorrect?f.jsx(_i,{className:"w-5 h-5 mr-2"}):f.jsx(Ei,{className:"w-5 h-5 mr-2"}),u.message]})]})},p0=({question:t,itemNumber:e,onAnswer:a})=>{const[s,o]=k.useState([]),[u,h]=k.useState([]),[g,x]=k.useState(null);k.useEffect(()=>{const S=t.scrambledWords||[];h([...S].sort(()=>Math.random()-.5)),o([]),x(null)},[t]);const p=(S,N)=>{o([...s,S]);const _=[...u];_.splice(N,1),h(_),g&&x(null)},v=(S,N)=>{h([...u,S]);const _=[...s];_.splice(N,1),o(_),g&&x(null)},C=()=>{const S=t.scrambledWords||[];h([...S].sort(()=>Math.random()-.5)),o([]),g&&x(null)},T=()=>{const S=s.join(" ").trim(),N=E=>E.toLowerCase().replace(/[.,!?;:]/g,"").replace(/\s+/g," ").trim(),_=N(S)===N(t.originalSentence);x({isCorrect:_,message:_?"":` "${t.originalSentence}"`}),a&&a(S,_)};return f.jsxs("div",{className:"p-4 border border-slate-200 rounded-lg bg-slate-50 mb-3",children:[f.jsxs("p",{className:"font-medium text-slate-700 mb-2",children:[e,". "]}),f.jsx("div",{className:"mb-3 p-3 border border-dashed border-slate-400 rounded-md min-h-[40px] bg-white flex flex-wrap gap-2",children:s.length>0?s.map((S,N)=>f.jsx("button",{onClick:()=>v(S,N),className:"px-2 py-1 bg-sky-200 text-sky-800 rounded-md hover:bg-sky-300 transition-colors",children:S},`${S}-${N}-constructed`)):f.jsx("span",{className:"text-slate-400 italic",children:""})}),f.jsx("div",{className:"mb-3 flex flex-wrap gap-2",children:u.map((S,N)=>f.jsx("button",{onClick:()=>p(S,N),className:"px-2 py-1 bg-slate-200 text-slate-700 rounded-md hover:bg-slate-300 transition-colors",children:S},`${S}-${N}-available`))}),f.jsxs("div",{className:"flex space-x-2",children:[f.jsx("button",{onClick:T,className:"px-4 py-2 bg-sky-500 text-white rounded-md hover:bg-sky-600 transition-colors",children:""}),f.jsx("button",{onClick:C,className:"px-4 py-2 bg-slate-500 text-white rounded-md hover:bg-slate-600 transition-colors",children:""})]}),g&&f.jsxs("div",{className:`mt-3 p-2 rounded-md text-sm flex items-center ${g.isCorrect?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[g.isCorrect?f.jsx(_i,{className:"w-5 h-5 mr-2"}):f.jsx(Ei,{className:"w-5 h-5 mr-2"}),g.message]})]})};function GN(t){const e=[...t];for(let a=e.length-1;a>0;a--){const s=Math.floor(Math.random()*(a+1));[e[a],e[s]]=[e[s],e[a]]}return e}const g0=({question:t,itemNumber:e,onAnswer:a})=>{const[s,o]=k.useState([]),[u,h]=k.useState([]),[g,x]=k.useState(0),[p,v]=k.useState(0),[C,T]=k.useState(!1);k.useEffect(()=>{let _=0;const E=(t.pairs||[]).flatMap((I,V)=>[{id:_++,content:I.question,pairId:V,isFlipped:!1,isMatched:!1},{id:_++,content:I.answer,pairId:V,isFlipped:!1,isMatched:!1}]);o(GN(E)),h([]),x(0),v(0),T(!1)},[t]);const S=_=>{if(s[_].isFlipped||s[_].isMatched||u.length===2||C)return;const E=s.map((V,U)=>U===_?{...V,isFlipped:!0}:V),I=[...u,_];if(o(E),h(I),I.length===2&&v(V=>V+1),I.length===2){const[V,U]=I;E[V].pairId===E[U].pairId?setTimeout(()=>{o($=>$.map((q,J)=>J===V||J===U?{...q,isMatched:!0}:q)),h([]),x($=>$+1)},600):setTimeout(()=>{o($=>$.map((q,J)=>J===V||J===U?{...q,isFlipped:!1}:q)),h([])},900)}},N=g===(t.pairs||[]).length;return k.useEffect(()=>{N&&!C&&a&&(T(!0),a(p,!0))},[N,C,p,a]),f.jsxs("div",{className:"mb-4 p-4 border rounded bg-slate-50",children:[f.jsxs("div",{className:"font-semibold mb-2",children:[e,". "]}),t.instructions&&f.jsx("div",{className:"mb-2 text-sky-700 text-sm",children:t.instructions}),f.jsxs("div",{className:"mb-3 text-sm text-gray-600 flex justify-between items-center",children:[f.jsxs("span",{children:[": ",g,"/",(t.pairs||[]).length]}),f.jsxs("span",{children:[": ",p]}),N&&f.jsx("span",{className:"text-green-600 font-medium",children:" "})]}),f.jsx("div",{className:"grid grid-cols-4 gap-3 max-w-xl mx-auto mb-2",children:s.map((_,E)=>f.jsxs("button",{className:`relative h-20 w-full rounded shadow border transition-transform duration-200 ${_.isMatched?"bg-green-200 border-green-400":"bg-white border-slate-300"} ${_.isFlipped||_.isMatched?"":"hover:scale-105"}`,onClick:()=>S(E),disabled:_.isFlipped||_.isMatched||u.length===2,style:{perspective:"600px"},children:[f.jsx("div",{className:`absolute inset-0 flex items-center justify-center text-base font-medium transition-all duration-300 ${_.isFlipped||_.isMatched?"opacity-100 rotate-y-0":"opacity-0 rotate-y-180"}`,style:{backfaceVisibility:"hidden",transform:_.isFlipped||_.isMatched?"rotateY(0deg)":"rotateY(180deg)"},children:_.content}),f.jsx("div",{className:`absolute inset-0 flex items-center justify-center text-2xl font-bold text-sky-600 transition-all duration-300 ${_.isFlipped||_.isMatched?"opacity-0 rotate-y-180":"opacity-100 rotate-y-0"}`,style:{backfaceVisibility:"hidden",transform:_.isFlipped||_.isMatched?"rotateY(180deg)":"rotateY(0deg)"},children:"?"})]},_.id))}),N&&f.jsx("div",{className:"text-green-600 font-semibold mt-2",children:""})]})},HN=({feedback:t,onContinueLearning:e,onRetakeQuiz:a,showActions:s=!0})=>{const o=p=>p>=80?"text-green-600 bg-green-100":p>=60?"text-yellow-600 bg-yellow-100":"text-red-600 bg-red-100",u=p=>p>=80?"border-green-200":p>=60?"border-yellow-200":"border-red-200",h=p=>{switch(p){case"advanced":return f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8 text-green-600",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 0 0 7.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25s4.544.16 6.75.471v1.515M7.73 9.728a6.726 6.726 0 0 0 2.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.228V2.721A48.133 48.133 0 0 0 12 2.25c-2.291 0-4.544.16-6.75.471v1.515M7.73 9.728l3.75.814.97 4.286c.078.348.14.699.185 1.053m8.272-6.842-3.75.814-.97 4.286a24.216 24.216 0 0 1-.185 1.053M12 19.5a2.25 2.25 0 0 1-2.25-2.25V14.25m4.5 5.25a2.25 2.25 0 0 1 2.25-2.25V14.25"})});case"intermediate":return f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8 text-yellow-600",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"})});default:return f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8 text-blue-600",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443a55.381 55.381 0 0 1 5.25 2.882V15"})})}},g=p=>{switch(p){case"advanced":return"";case"intermediate":return"";default:return""}},x=p=>{switch(p){case"advanced":return"";case"intermediate":return"";default:return""}};return f.jsxs("div",{className:"max-w-4xl mx-auto p-6 bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 rounded-xl shadow-lg",children:[f.jsxs("div",{className:`text-center mb-8 p-6 bg-white rounded-lg shadow-md border-2 ${u(t.overallScore)}`,children:[f.jsxs("div",{className:"flex items-center justify-center mb-4",children:[h(t.overallLevel),f.jsx("div",{className:"ml-4",children:f.jsxs("div",{className:`text-4xl font-bold px-4 py-2 rounded-full ${o(t.overallScore)}`,children:[t.overallScore,""]})})]}),f.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:g(t.overallLevel)}),f.jsx("p",{className:"text-lg text-gray-600",children:x(t.overallLevel)})]}),f.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6 border-l-4 border-blue-500",children:f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-blue-500 mt-1 flex-shrink-0",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"})}),f.jsx("p",{className:"text-lg text-gray-700 leading-relaxed",children:t.encouragementMessage})]})}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[f.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[f.jsxs("h3",{className:"text-xl font-bold text-green-700 mb-4 flex items-center gap-2",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.745 3.745 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"})})," "]}),t.keyStrengths.length>0?f.jsx("ul",{className:"space-y-3",children:t.keyStrengths.map((p,v)=>f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-green-500 mt-1.5",children:""}),f.jsx("span",{className:"text-gray-700",children:p})]},v))}):f.jsx("p",{className:"text-gray-500 italic",children:""})]}),f.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[f.jsxs("h3",{className:"text-xl font-bold text-orange-700 mb-4 flex items-center gap-2",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"})})," "]}),t.improvementAreas.length>0?f.jsx("ul",{className:"space-y-3",children:t.improvementAreas.map((p,v)=>f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-orange-500 mt-1.5",children:""}),f.jsx("span",{className:"text-gray-700",children:p})]},v))}):f.jsx("p",{className:"text-gray-500 italic",children:""})]})]}),f.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[f.jsxs("h3",{className:"text-xl font-bold text-blue-700 mb-4 flex items-center gap-2",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 13.5l10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"})})," "]}),t.nextSteps.length>0?f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.nextSteps.map((p,v)=>f.jsxs("div",{className:"flex items-start gap-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[f.jsx("span",{className:"bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold flex-shrink-0 mt-0.5",children:v+1}),f.jsx("span",{className:"text-gray-700",children:p})]},v))}):f.jsx("p",{className:"text-gray-500 italic",children:""})]}),f.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg shadow-md p-6 mb-6 border border-purple-200",children:[f.jsxs("h3",{className:"text-xl font-bold text-purple-700 mb-4 flex items-center gap-2",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"})})," "]}),t.studyTips.length>0?f.jsx("ul",{className:"space-y-2",children:t.studyTips.map((p,v)=>f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-purple-500 mt-1",children:""}),f.jsx("span",{className:"text-gray-700",children:p})]},v))}):f.jsx("p",{className:"text-gray-500 italic",children:""})]}),f.jsxs("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 rounded-lg shadow-lg p-6 text-center text-white mb-6",children:[f.jsx("div",{className:"flex items-center justify-center mb-3",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.321.988l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .321-.988l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z"})})}),f.jsxs("p",{className:"text-xl font-medium italic",children:['"',t.motivationalQuote,'"']})]}),s&&f.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[f.jsxs("button",{onClick:e,className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all transform hover:scale-105 shadow-md flex items-center justify-center gap-2 font-medium",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12l-7.5 7.5M3 12h16.5"})}),""]}),f.jsxs("button",{onClick:a,className:"px-6 py-3 bg-gradient-to-r from-gray-600 to-gray-700 text-white rounded-lg hover:from-gray-700 hover:to-gray-800 transition-all transform hover:scale-105 shadow-md flex items-center justify-center gap-2 font-medium",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"})}),""]})]})]})},FN=({report:t,onExportReport:e,onSaveReport:a,showExportOptions:s=!0})=>{const[o,u]=k.useState("overview"),h=S=>S>=80?"text-green-600 bg-green-50 border-green-200":S>=60?"text-yellow-600 bg-yellow-50 border-yellow-200":"text-red-600 bg-red-50 border-red-200",g=S=>{switch(S){case"high":return"text-red-600 bg-red-100 border-red-200";case"medium":return"text-yellow-600 bg-yellow-100 border-yellow-200";case"low":return"text-blue-600 bg-blue-100 border-blue-200"}},x=S=>{switch(S){case"outstanding":return"text-purple-600 bg-purple-100 border-purple-200";case"excellent":return"text-green-600 bg-green-100 border-green-200";case"good":return"text-blue-600 bg-blue-100 border-blue-200"}},p=S=>{switch(S){case"high":return"text-red-600 bg-red-50 border-l-red-500";case"medium":return"text-yellow-600 bg-yellow-50 border-l-yellow-500";case"low":return"text-green-600 bg-green-50 border-l-green-500"}},v=S=>({trueFalse:"",multipleChoice:"",fillInTheBlanks:"",sentenceScramble:"",memoryCardGame:""})[S]||S,C=S=>new Date(S).toLocaleDateString("zh-TW",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),T=[{key:"overview",label:"",icon:""},{key:"performance",label:"",icon:""},{key:"analysis",label:"",icon:""},{key:"recommendations",label:"",icon:""},{key:"teaching",label:"",icon:""}];return f.jsxs("div",{className:"max-w-7xl mx-auto p-6 bg-gray-50 min-h-screen",children:[f.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-6",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:""}),f.jsxs("p",{className:"text-gray-600",children:["",f.jsx("span",{className:"font-semibold",children:t.topic})]}),f.jsxs("p",{className:"text-gray-600",children:["",C(t.assessmentDate)]}),t.studentId&&f.jsxs("p",{className:"text-gray-600",children:["ID",f.jsx("span",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded",children:t.studentId})]})]}),s&&f.jsxs("div",{className:"flex gap-3",children:[f.jsxs("button",{onClick:a,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"})}),""]}),f.jsxs("button",{onClick:e,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center gap-2",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})}),""]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[f.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[f.jsx("h3",{className:"text-sm font-semibold text-blue-700 mb-1",children:""}),f.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[t.overallPerformance.totalScore,""]})]}),f.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 border border-purple-200",children:[f.jsx("h3",{className:"text-sm font-semibold text-purple-700 mb-1",children:""}),f.jsx("p",{className:"text-lg font-semibold text-purple-600 capitalize",children:t.overallPerformance.level})]}),f.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[f.jsx("h3",{className:"text-sm font-semibold text-green-700 mb-1",children:""}),f.jsx("p",{className:"text-2xl font-bold text-green-600",children:t.learningAnalysis.strengths.length})]}),f.jsxs("div",{className:"bg-orange-50 rounded-lg p-4 border border-orange-200",children:[f.jsx("h3",{className:"text-sm font-semibold text-orange-700 mb-1",children:""}),f.jsx("p",{className:"text-2xl font-bold text-orange-600",children:t.learningAnalysis.weaknesses.length})]})]})]}),f.jsx("div",{className:"bg-white rounded-lg shadow-md mb-6",children:f.jsx("div",{className:"flex overflow-x-auto",children:T.map(S=>f.jsxs("button",{onClick:()=>u(S.key),className:`flex-shrink-0 px-6 py-4 font-medium text-sm border-b-2 transition-colors ${o===S.key?"border-blue-500 text-blue-600 bg-blue-50":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[f.jsx("span",{className:"mr-2",children:S.icon}),S.label]},S.key))})}),f.jsxs("div",{className:"space-y-6",children:[o==="overview"&&f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[f.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:""}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-gray-600",children:""}),f.jsxs("span",{className:"font-semibold",children:[t.overallPerformance.totalScore,"/100"]})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-gray-600",children:""}),f.jsx("span",{className:"font-semibold capitalize",children:t.overallPerformance.level})]}),f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-gray-600",children:""}),f.jsxs("span",{className:"font-semibold",children:[t.overallPerformance.timeSpent," "]})]}),t.overallPerformance.percentile&&f.jsxs("div",{className:"flex justify-between",children:[f.jsx("span",{className:"text-gray-600",children:""}),f.jsxs("span",{className:"font-semibold",children:[" ",100-t.overallPerformance.percentile,"%"]})]})]})]}),f.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[f.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-4",children:""}),f.jsxs("div",{className:"space-y-3",children:[t.learningAnalysis.learningStyle&&f.jsxs("div",{children:[f.jsx("span",{className:"text-gray-600",children:""}),f.jsx("span",{className:"ml-2 font-semibold",children:t.learningAnalysis.learningStyle})]}),t.learningAnalysis.cognitivePattern&&f.jsxs("div",{children:[f.jsx("span",{className:"text-gray-600",children:""}),f.jsx("span",{className:"ml-2 font-semibold",children:t.learningAnalysis.cognitivePattern})]}),f.jsx("div",{className:"pt-2",children:f.jsx("p",{className:"text-sm text-gray-500",children:""})})]})]})]}),o==="performance"&&f.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[f.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-6",children:""}),f.jsx("div",{className:"space-y-6",children:t.performanceByType.map(S=>f.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:v(S.questionType)}),f.jsxs("div",{className:`px-3 py-1 rounded-full text-sm font-medium border ${h(S.accuracy)}`,children:[S.accuracy,"% "]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-sm text-gray-600",children:""}),f.jsx("p",{className:"text-2xl font-bold text-gray-800",children:S.totalQuestions})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-sm text-gray-600",children:""}),f.jsx("p",{className:"text-2xl font-bold text-green-600",children:S.correctCount})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("p",{className:"text-sm text-gray-600",children:""}),f.jsx("p",{className:"text-2xl font-bold text-blue-600",children:S.averageTime?`${Math.round(S.averageTime/1e3)}`:"N/A"})]})]}),f.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[f.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg border border-green-200",children:[f.jsx("p",{className:"text-xs text-green-700 font-medium",children:""}),f.jsxs("p",{className:"text-lg font-bold text-green-600",children:[S.difficultyBreakdown.easy.accuracy,"%"]}),f.jsxs("p",{className:"text-xs text-gray-600",children:[S.difficultyBreakdown.easy.correct,"/",S.difficultyBreakdown.easy.total]})]}),f.jsxs("div",{className:"text-center p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:[f.jsx("p",{className:"text-xs text-yellow-700 font-medium",children:""}),f.jsxs("p",{className:"text-lg font-bold text-yellow-600",children:[S.difficultyBreakdown.normal.accuracy,"%"]}),f.jsxs("p",{className:"text-xs text-gray-600",children:[S.difficultyBreakdown.normal.correct,"/",S.difficultyBreakdown.normal.total]})]}),f.jsxs("div",{className:"text-center p-3 bg-red-50 rounded-lg border border-red-200",children:[f.jsx("p",{className:"text-xs text-red-700 font-medium",children:""}),f.jsxs("p",{className:"text-lg font-bold text-red-600",children:[S.difficultyBreakdown.hard.accuracy,"%"]}),f.jsxs("p",{className:"text-xs text-gray-600",children:[S.difficultyBreakdown.hard.correct,"/",S.difficultyBreakdown.hard.total]})]})]}),S.commonErrors.length>0&&f.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:[f.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:""}),f.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:S.commonErrors.map((N,_)=>f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-red-500 mt-1",children:""}),N]},_))})]})]},S.questionType))})]}),o==="analysis"&&f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[f.jsxs("h3",{className:"text-xl font-bold text-green-700 mb-4 flex items-center gap-2",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 18.75h-9m9 0a3 3 0 0 1 3 3h-15a3 3 0 0 1 3-3m9 0v-3.375c0-.621-.503-1.125-1.125-1.125h-.871M7.5 18.75v-3.375c0-.621.504-1.125 1.125-1.125h.872m5.007 0H9.497m5.007 0a7.454 7.454 0 0 1-.982-3.172M9.497 14.25a7.454 7.454 0 0 0 .981-3.172M5.25 4.236c-.982.143-1.954.317-2.916.52A6.003 6.003 0 0 0 7.73 9.728M5.25 4.236V4.5c0 2.108.966 3.99 2.48 5.228M5.25 4.236V2.721C7.456 2.41 9.71 2.25 12 2.25s4.544.16 6.75.471v1.515M7.73 9.728a6.726 6.726 0 0 0 2.748 1.35m8.272-6.842V4.5c0 2.108-.966 3.99-2.48 5.228m2.48-5.228V2.721A48.133 48.133 0 0 0 12 2.25c-2.291 0-4.544.16-6.75.471v1.515M7.73 9.728l3.75.814.97 4.286c.078.348.14.699.185 1.053m8.272-6.842-3.75.814-.97 4.286a24.216 24.216 0 0 1-.185 1.053M12 19.5a2.25 2.25 0 0 1-2.25-2.25V14.25m4.5 5.25a2.25 2.25 0 0 1 2.25-2.25V14.25"})}),""]}),f.jsx("div",{className:"space-y-4",children:t.learningAnalysis.strengths.map((S,N)=>f.jsxs("div",{className:`p-4 rounded-lg border ${x(S.level)}`,children:[f.jsx("h4",{className:"font-semibold mb-2",children:S.area}),f.jsx("p",{className:"text-sm mb-3",children:S.description}),S.examples.length>0&&f.jsxs("div",{className:"mb-3",children:[f.jsx("p",{className:"text-xs font-medium text-gray-700 mb-1",children:""}),f.jsx("ul",{className:"text-xs space-y-1",children:S.examples.map((_,E)=>f.jsxs("li",{className:"flex items-start gap-1",children:[f.jsx("span",{className:"text-green-500 mt-1",children:""}),_]},E))})]}),S.leverageOpportunities.length>0&&f.jsxs("div",{children:[f.jsx("p",{className:"text-xs font-medium text-gray-700 mb-1",children:""}),f.jsx("ul",{className:"text-xs space-y-1",children:S.leverageOpportunities.map((_,E)=>f.jsxs("li",{className:"flex items-start gap-1",children:[f.jsx("span",{className:"text-blue-500 mt-1",children:""}),_]},E))})]})]},N))})]}),f.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[f.jsxs("h3",{className:"text-xl font-bold text-red-700 mb-4 flex items-center gap-2",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})}),""]}),f.jsx("div",{className:"space-y-4",children:t.learningAnalysis.weaknesses.map((S,N)=>f.jsxs("div",{className:`p-4 rounded-lg border ${g(S.severity)}`,children:[f.jsx("h4",{className:"font-semibold mb-2",children:S.area}),f.jsx("p",{className:"text-sm mb-3",children:S.description}),S.affectedTopics.length>0&&f.jsxs("div",{className:"mb-3",children:[f.jsx("p",{className:"text-xs font-medium text-gray-700 mb-1",children:""}),f.jsx("div",{className:"flex flex-wrap gap-1",children:S.affectedTopics.map((_,E)=>f.jsx("span",{className:"text-xs px-2 py-1 bg-gray-200 rounded-full",children:_},E))})]}),S.recommendedActions.length>0&&f.jsxs("div",{children:[f.jsx("p",{className:"text-xs font-medium text-gray-700 mb-1",children:""}),f.jsx("ul",{className:"text-xs space-y-1",children:S.recommendedActions.map((_,E)=>f.jsxs("li",{className:"flex items-start gap-1",children:[f.jsx("span",{className:"text-orange-500 mt-1",children:""}),_]},E))})]})]},N))})]})]}),o==="recommendations"&&f.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[f.jsx("h3",{className:"text-xl font-bold text-blue-700 mb-6",children:""}),f.jsx("div",{className:"space-y-6",children:t.personalizedRecommendations.map((S,N)=>f.jsxs("div",{className:`p-6 rounded-lg border-l-4 ${p(S.priority)}`,children:[f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-1",children:S.title}),f.jsxs("div",{className:"flex gap-2 text-xs",children:[f.jsx("span",{className:`px-2 py-1 rounded-full border ${S.category==="immediate"?"text-red-600 bg-red-100 border-red-200":S.category==="short-term"?"text-yellow-600 bg-yellow-100 border-yellow-200":"text-blue-600 bg-blue-100 border-blue-200"}`,children:S.category==="immediate"?"":S.category==="short-term"?"":""}),f.jsx("span",{className:`px-2 py-1 rounded-full border ${S.priority==="high"?"text-red-600 bg-red-100 border-red-200":S.priority==="medium"?"text-yellow-600 bg-yellow-100 border-yellow-200":"text-green-600 bg-green-100 border-green-200"}`,children:S.priority==="high"?"":S.priority==="medium"?"":""})]})]}),f.jsx("span",{className:"text-sm text-gray-600 bg-gray-100 px-3 py-1 rounded-full",children:S.estimatedTime})]}),f.jsx("p",{className:"text-gray-700 mb-4",children:S.description}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:""}),f.jsx("ol",{className:"text-sm space-y-1",children:S.actionSteps.map((_,E)=>f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"bg-blue-500 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold flex-shrink-0 mt-0.5",children:E+1}),_]},E))})]}),f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:""}),f.jsx("p",{className:"text-sm text-gray-600 mb-3",children:S.expectedOutcome}),S.resources&&S.resources.length>0&&f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:""}),f.jsx("ul",{className:"text-sm space-y-1",children:S.resources.map((_,E)=>f.jsxs("li",{className:"flex items-start gap-1",children:[f.jsx("span",{className:"text-green-500 mt-1",children:""}),_]},E))})]})]})]})]},N))})]}),o==="teaching"&&f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[f.jsxs("h3",{className:"text-xl font-bold text-red-700 mb-4 flex items-center gap-2",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})}),""]}),f.jsx("ul",{className:"space-y-3",children:t.teachingRecommendations.immediateInterventions.map((S,N)=>f.jsxs("li",{className:"flex items-start gap-3 p-3 bg-red-50 rounded-lg border border-red-200",children:[f.jsx("span",{className:"bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold flex-shrink-0 mt-0.5",children:"!"}),f.jsx("span",{className:"text-gray-700",children:S})]},N))})]}),f.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[f.jsxs("h3",{className:"text-xl font-bold text-blue-700 mb-4 flex items-center gap-2",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.26 10.147a60.438 60.438 0 0 0-.491 6.347A48.62 48.62 0 0 1 12 20.904a48.62 48.62 0 0 1 8.232-4.41 60.46 60.46 0 0 0-.491-6.347m-15.482 0a50.636 50.636 0 0 0-2.658-.813A59.906 59.906 0 0 1 12 3.493a59.903 59.903 0 0 1 10.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.717 50.717 0 0 1 12 13.489a50.702 50.702 0 0 1 7.74-3.342M6.75 15a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Zm0 0v-3.675A55.378 55.378 0 0 1 12 8.443a55.381 55.381 0 0 1 5.25 2.882V15"})}),""]}),f.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.teachingRecommendations.instructionalStrategies.map((S,N)=>f.jsx("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:f.jsxs("div",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"bg-blue-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold flex-shrink-0 mt-0.5",children:N+1}),f.jsx("span",{className:"text-gray-700",children:S})]})},N))})]}),f.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[f.jsxs("h3",{className:"text-xl font-bold text-purple-700 mb-4 flex items-center gap-2",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"})}),""]}),f.jsx("ul",{className:"space-y-3",children:t.teachingRecommendations.differentiation.map((S,N)=>f.jsxs("li",{className:"flex items-start gap-3 p-3 bg-purple-50 rounded-lg border border-purple-200",children:[f.jsx("span",{className:"bg-purple-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold flex-shrink-0 mt-0.5",children:""}),f.jsx("span",{className:"text-gray-700",children:S})]},N))})]}),t.teachingRecommendations.parentGuidance&&t.teachingRecommendations.parentGuidance.length>0&&f.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[f.jsxs("h3",{className:"text-xl font-bold text-green-700 mb-4 flex items-center gap-2",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})}),""]}),f.jsx("ul",{className:"space-y-3",children:t.teachingRecommendations.parentGuidance.map((S,N)=>f.jsxs("li",{className:"flex items-start gap-3 p-3 bg-green-50 rounded-lg border border-green-200",children:[f.jsx("span",{className:"bg-green-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm font-bold flex-shrink-0 mt-0.5",children:""}),f.jsx("span",{className:"text-gray-700",children:S})]},N))})]}),f.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[f.jsxs("h3",{className:"text-xl font-bold text-indigo-700 mb-4 flex items-center gap-2",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"})}),""]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:""}),f.jsx("ul",{className:"text-sm space-y-1",children:t.progressTracking.keyMetrics.map((S,N)=>f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"w-2 h-2 bg-indigo-500 rounded-full"}),S]},N))})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:""}),f.jsx("ul",{className:"text-sm space-y-1",children:t.progressTracking.checkpoints.map((S,N)=>f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),S]},N))})]}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:""}),f.jsx("p",{className:"text-sm text-gray-600",children:t.progressTracking.reassessmentSuggestion})]})]})]})]})]})]})},$c=({topic:t,quizData:e,studentId:a,apiKey:s,mode:o="both",onClose:u,onRetakeQuiz:h,onContinueLearning:g,initialResponses:x=[]})=>{const[p,v]=k.useState(null),[C,T]=k.useState(!1),[S,N]=k.useState(null),[_,E]=k.useState(o==="teacher"?"teacher":"student"),[I,V]=k.useState(null),U=k.useCallback(async J=>{if(!s){N(" API Key ");return}T(!0),N(null);try{const se=await ON(J,s,{includeDetailedAnalysis:!0,includeComparativeData:!1,includeVisualCharts:!1,language:"zh-TW",reportFormat:"standard"});v(se)}catch(Q){console.error(":",Q),N(Q instanceof Error?Q.message:"")}finally{T(!1)}},[s]);k.useEffect(()=>{if(t&&x.length>0){const J=_c(t,a);J.responses=x,V(Ec(J)),U(J)}},[t,a,x,U]),k.useCallback(J=>{if(!I)return;const Q={...I,responses:[...I.responses,J]};V(Q)},[I]),k.useCallback(()=>{if(!I)return;const J=Ec(I);V(J),U(J)},[I,U]);const $=k.useCallback(()=>{if(!p)return;const J={studentFeedback:p.studentFeedback,teacherReport:p.teacherReport,exportDate:new Date().toISOString()},Q=JSON.stringify(J,null,2),se="data:application/json;charset=utf-8,"+encodeURIComponent(Q),X=`learning_diagnostic_${t}_${new Date().toISOString().split("T")[0]}.json`,oe=document.createElement("a");oe.setAttribute("href",se),oe.setAttribute("download",X),oe.click()},[p,t]),q=k.useCallback(()=>{if(!p)return;const J=JSON.parse(localStorage.getItem("learningDiagnosticReports")||"[]");J.push({id:`report_${Date.now()}`,topic:t,studentId:a,createdAt:new Date().toISOString(),result:p}),localStorage.setItem("learningDiagnosticReports",JSON.stringify(J)),alert("")},[p,t,a]);return C?f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx(Aa,{}),f.jsxs("div",{className:"mt-6 space-y-2",children:[f.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:""}),f.jsx("p",{className:"text-gray-600",children:"AI ..."}),f.jsx("div",{className:"flex items-center justify-center space-x-1 mt-4",children:f.jsxs("div",{className:"flex space-x-1",children:[f.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce"}),f.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),f.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})]})}):S?f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-pink-100 flex items-center justify-center p-4",children:f.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-16 h-16 text-red-500 mx-auto mb-4",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})}),f.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:""}),f.jsx("p",{className:"text-gray-600 mb-6",children:S}),f.jsxs("div",{className:"flex gap-3 justify-center",children:[f.jsx("button",{onClick:()=>I&&U(I),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:""}),u&&f.jsx("button",{onClick:u,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:""})]})]})}):p?f.jsxs("div",{className:"min-h-screen bg-gray-50",children:[f.jsx("div",{className:"bg-white shadow-sm border-b",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"flex justify-between items-center h-16",children:[f.jsxs("div",{className:"flex items-center space-x-4",children:[f.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:""}),o==="both"&&f.jsxs("div",{className:"flex bg-gray-100 rounded-lg p-1",children:[f.jsx("button",{onClick:()=>E("student"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${_==="student"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:""}),f.jsx("button",{onClick:()=>E("teacher"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${_==="teacher"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:""})]})]}),f.jsxs("div",{className:"flex items-center space-x-3",children:[_==="teacher"&&f.jsxs(f.Fragment,{children:[f.jsxs("button",{onClick:q,className:"px-3 py-2 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center gap-2",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.593 3.322c1.1.128 1.907 1.077 1.907 2.185V21L12 17.25 4.5 21V5.507c0-1.108.806-2.057 1.907-2.185a48.507 48.507 0 0 1 11.186 0Z"})}),""]}),f.jsxs("button",{onClick:$,className:"px-3 py-2 text-sm bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors flex items-center gap-2",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})}),""]})]}),u&&f.jsx("button",{onClick:u,className:"px-3 py-2 text-sm bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors",children:""})]})]})})}),f.jsxs("div",{className:"py-8",children:[(o==="student"||o==="both"&&_==="student")&&f.jsx(HN,{feedback:p.studentFeedback,onContinueLearning:g,onRetakeQuiz:h,showActions:o!=="both"}),(o==="teacher"||o==="both"&&_==="teacher")&&f.jsx(FN,{report:p.teacherReport,onExportReport:$,onSaveReport:q,showExportOptions:o!=="both"})]}),o==="both"&&f.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t shadow-lg",children:f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:f.jsxs("div",{className:"flex justify-center space-x-4",children:[f.jsxs("button",{onClick:h,className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors flex items-center gap-2 font-medium",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"})}),""]}),f.jsxs("button",{onClick:g,className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-lg hover:from-blue-700 hover:to-indigo-700 transition-all flex items-center gap-2 font-medium",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12l-7.5 7.5M3 12h16.5"})}),""]})]})})})]}):f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center p-4",children:f.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-16 h-16 text-gray-400 mx-auto mb-4",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})}),f.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:""}),f.jsx("p",{className:"text-gray-600 mb-6",children:""}),u&&f.jsx("button",{onClick:u,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:""})]})})},YN=({quizzes:t,topic:e,studentId:a,apiKey:s,onDiagnosticComplete:o,enableDiagnostic:u=!0})=>{const[h,g]=k.useState(lt.Easy),[x,p]=k.useState(null),[v,C]=k.useState([]),[T,S]=k.useState(!1),[N,_]=k.useState(new Set),E=k.useRef(null);k.useEffect(()=>{if(u&&e&&!x){const Z=_c(e,a);p(Z),E.current=Date.now()}},[e,a,u,x]);const I=()=>{if(!t||!se)return 0;let Z=0;return Object.values(se).forEach(de=>{Array.isArray(de)&&(Z+=de.length)}),Z},V=()=>{const Z=h.toLowerCase();return v.filter(de=>de.difficulty===Z).length},U=()=>{const Z=h.toLowerCase();return v.filter(de=>de.difficulty===Z)},$=k.useCallback((Z,de,re,ee,j,K)=>{if(!u||!x)return;const le=E.current?Date.now()-E.current:void 0,_e={questionId:Z,questionType:de,difficulty:re,userAnswer:ee,correctAnswer:j,isCorrect:K,responseTime:le,attempts:1};C(M=>M.find(ne=>ne.questionId===Z)?M.map(ne=>ne.questionId===Z?{..._e,attempts:(ne.attempts||0)+1}:ne):[...M,_e]),_(M=>new Set([...M,Z])),E.current=Date.now()},[u,x]),q=k.useCallback(()=>{if(!x||!u)return;const Z=Ec(x);Z.responses=v,p(Z),S(!0),o&&o({session:Z,responses:v})},[x,v,u,o]),J=k.useCallback(()=>{S(!1);const Z=h.toLowerCase();if(C(de=>de.filter(re=>re.difficulty!==Z)),_(de=>{const re=new Set(de),ee=h.toLowerCase();return Array.from(de).forEach(j=>{j.startsWith(`${ee}-`)&&re.delete(j)}),re}),u){const de=_c(e,a);p(de),E.current=Date.now()}},[u,e,a,h]),Q=k.useCallback(()=>{S(!1)},[]);if(T&&u){const Z=h===lt.Easy?"":h===lt.Normal?"":"";return f.jsx($c,{topic:`${e} (${Z})`,quizData:t,studentId:a,apiKey:s,mode:"both",onRetakeQuiz:J,onContinueLearning:Q,onClose:()=>S(!1),initialResponses:U()})}if(!t)return f.jsx(Yt,{title:"",icon:f.jsx(Us,{}),children:""});const se=t[h],X=[{key:lt.Easy,label:""},{key:lt.Normal,label:""},{key:lt.Hard,label:""}],oe={trueFalse:"",multipleChoice:"",fillInTheBlanks:"",sentenceScramble:"",memoryCardGame:""},te=()=>{const Z=I(),de=V();return Z>0?de/Z*100:0};return f.jsxs(Yt,{title:"",icon:f.jsx(Us,{className:"w-7 h-7"}),children:[u&&f.jsxs("div",{className:"mb-6 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:[f.jsxs("div",{className:"flex justify-between items-center mb-3",children:[f.jsx("h4",{className:"text-sm font-semibold text-gray-800",children:""}),f.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[f.jsxs("span",{className:"text-gray-600",children:[": ",V()," / ",I()]}),f.jsxs("button",{onClick:q,disabled:V()===0,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center gap-2 text-sm",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.745 3.745 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"})}),""]})]})]}),f.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:f.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-green-500 h-3 rounded-full transition-all duration-300 ease-out",style:{width:`${te()}%`}})}),f.jsx("p",{className:"text-xs text-gray-600 mt-2",children:" "})]}),f.jsx("div",{className:"mb-6",children:f.jsx("div",{className:"flex flex-wrap gap-2 border-b border-slate-300 pb-3 mb-4",children:X.map(({key:Z,label:de})=>f.jsx("button",{onClick:()=>g(Z),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors
                ${h===Z?"bg-sky-600 text-white shadow-md":"bg-slate-200 text-slate-700 hover:bg-slate-300"}`,children:de},Z))})}),se?Object.keys(oe).map(Z=>{if(!se.hasOwnProperty(Z))return null;const de=se[Z];return!de||de.length===0?null:f.jsxs("div",{className:"mb-8",children:[f.jsxs("h4",{className:"text-xl font-semibold text-slate-700 mb-3 border-b-2 border-sky-200 pb-1 flex items-center justify-between",children:[f.jsx("span",{children:oe[Z]}),u&&f.jsxs("span",{className:"text-sm text-gray-500 font-normal",children:[": ",v.filter(re=>re.questionType===Z&&re.difficulty===h).length," / ",de.length]})]}),Z==="trueFalse"&&de.map((re,ee)=>{const j=`${h}-tf-${ee}`;return f.jsx("div",{className:N.has(j)?"opacity-75":"",children:f.jsx(f0,{question:re,itemNumber:ee+1,onAnswer:u?(K,le)=>{$(j,"trueFalse",h,K,re.isTrue,le)}:void 0})},j)}),Z==="multipleChoice"&&de.map((re,ee)=>{const j=`${h}-mc-${ee}`;return f.jsx("div",{className:N.has(j)?"opacity-75":"",children:f.jsx(m0,{question:re,itemNumber:ee+1,onAnswer:u?(K,le)=>{$(j,"multipleChoice",h,K,re.correctAnswerIndex,le)}:void 0})},j)}),Z==="fillInTheBlanks"&&de.map((re,ee)=>{const j=`${h}-fb-${ee}`;return f.jsx("div",{className:N.has(j)?"opacity-75":"",children:f.jsx(h0,{question:re,itemNumber:ee+1,onAnswer:u?(K,le)=>{$(j,"fillInTheBlanks",h,K,re.correctAnswer,le)}:void 0})},j)}),Z==="sentenceScramble"&&de.map((re,ee)=>{const j=`${h}-ss-${ee}`;return f.jsx("div",{className:N.has(j)?"opacity-75":"",children:f.jsx(p0,{question:re,itemNumber:ee+1,onAnswer:u?(K,le)=>{$(j,"sentenceScramble",h,K,re.originalSentence,le)}:void 0})},j)}),Z==="memoryCardGame"&&de.map((re,ee)=>{const j=`${h}-mcg-${ee}`;return f.jsx("div",{className:N.has(j)?"opacity-75":"",children:f.jsx(g0,{question:re,itemNumber:ee+1,onAnswer:u?(K,le)=>{$(j,"memoryCardGame",h,K,re.pairs,le)}:void 0})},j)})]},`${h}-${Z}`)}):f.jsx("p",{children:""}),u&&V()>0&&f.jsx("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-yellow-600 mt-0.5 flex-shrink-0",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 18v-5.25m0 0a6.01 6.01 0 0 0 1.5-.189m-1.5.189a6.01 6.01 0 0 1-1.5-.189m3.75 7.478a12.06 12.06 0 0 1-4.5 0m3.75 2.383a14.406 14.406 0 0 1-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 1 0-7.517 0c.85.493 1.509 1.333 1.509 2.316V18"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-yellow-800 font-medium text-sm",children:""}),f.jsxs("p",{className:"text-yellow-700 text-sm mt-1",children:[" ",V()," AI "]})]})]})})]})},JN=({dialogue:t})=>{const[e,a]=k.useState(null),[s,o]=k.useState(null),[u,h]=k.useState(!1),[g,x]=k.useState(""),[p,v]=k.useState(null),[C,T]=k.useState(!1),[S,N]=k.useState({tts:!0,sr:!0}),_=k.useRef(null),E=k.useRef(null);k.useEffect(()=>{const J="speechSynthesis"in window,Q="SpeechRecognition"in window||"webkitSpeechRecognition"in window;if(N({tts:J,sr:Q}),Q){const se=window.SpeechRecognition||window.webkitSpeechRecognition;_.current=new se,_.current.continuous=!1,_.current.interimResults=!1,_.current.lang="en-US",_.current.onresult=X=>{const oe=X.results[0][0].transcript;x(oe),q(oe)},_.current.onerror=X=>{console.error("Speech recognition error:",X.error),v({type:"error",message:`: ${X.error==="no-speech"?"":X.error==="audio-capture"?"":X.error==="not-allowed"?"":""}`}),h(!1)},_.current.onend=()=>{h(!1)}}return()=>{window.speechSynthesis&&window.speechSynthesis.speaking&&window.speechSynthesis.cancel()}},[]);const I=(J,Q)=>{if(!S.tts||!J)return;window.speechSynthesis.speaking&&window.speechSynthesis.cancel();const se=new SpeechSynthesisUtterance(J);se.lang="en-US";const X=window.speechSynthesis.getVoices(),oe=X.find(te=>te.lang.startsWith("en")&&te.name.includes("Google")&&te.localService)||X.find(te=>te.lang.startsWith("en")&&te.localService)||X.find(te=>te.lang.startsWith("en"));oe&&(se.voice=oe),se.onstart=()=>{T(!0),a(Q)},se.onend=()=>{T(!1),a(null)},se.onerror=te=>{console.error("Speech synthesis error:",te),T(!1),a(null),v({type:"error",message:""})},E.current=se,window.speechSynthesis.speak(se)},V=J=>{if(!(!S.sr||!_.current||u)){o(J),x(""),v(null),h(!0);try{_.current.start()}catch(Q){console.error("Error starting recognition: ",Q),h(!1),v({type:"error",message:""})}}},U=()=>{_.current&&u&&(_.current.stop(),h(!1))},$=J=>J.toLowerCase().replace(/[.,!?;:"']/g,"").trim(),q=J=>{if(s===null)return;const Q=t[s].line;$(J)===$(Q)?v({type:"success",message:`: "${J}"`}):v({type:"error",message:`: "${J}": "${Q}"`})};return!t||t.length===0?f.jsx(Yt,{title:"",icon:f.jsx(Mc,{className:"w-7 h-7"}),children:f.jsx("p",{className:"text-slate-600",children:""})}):f.jsxs(Yt,{title:"",icon:f.jsx(Mc,{className:"w-7 h-7"}),children:[!S.tts&&f.jsx("p",{className:"text-red-600 bg-red-100 p-2 rounded-md",children:" (TTS)"}),!S.sr&&f.jsx("p",{className:"text-red-600 bg-red-100 p-2 rounded-md mt-2",children:" (SR) Chrome  Edge"}),f.jsx("div",{className:"space-y-4",children:t.map((J,Q)=>f.jsxs("div",{className:`p-3 rounded-lg ${J.speaker==="Speaker A"?"bg-sky-50":"bg-indigo-50"} border ${J.speaker==="Speaker A"?"border-sky-200":"border-indigo-200"}`,children:[f.jsxs("p",{className:"font-semibold text-sm mb-1 ${item.speaker === 'Speaker A' ? 'text-sky-700' : 'text-indigo-700'}",children:[J.speaker,":"]}),f.jsx("p",{className:"text-slate-800 mb-2",children:J.line}),f.jsxs("div",{className:"flex items-center space-x-2",children:[S.tts&&f.jsx("button",{onClick:()=>I(J.line,Q),disabled:C&&e!==Q,className:`p-1.5 rounded-full hover:bg-slate-200 transition-colors disabled:opacity-50 ${C&&e===Q?"text-sky-500 animate-pulse":"text-slate-600"}`,"aria-label":` ${J.speaker} `,children:f.jsx(PN,{className:"w-5 h-5"})}),S.sr&&(u&&s===Q?f.jsx("button",{onClick:U,className:"p-1.5 rounded-full text-red-600 hover:bg-red-100 transition-colors","aria-label":"",children:f.jsx(qN,{className:"w-5 h-5"})}):f.jsx("button",{onClick:()=>V(Q),disabled:u||C,className:"p-1.5 rounded-full text-slate-600 hover:bg-slate-200 transition-colors disabled:opacity-50","aria-label":` ${J.speaker} `,children:f.jsx($N,{className:"w-5 h-5"})}))]}),s===Q&&g&&f.jsxs("p",{className:"mt-2 text-sm text-slate-600 italic",children:[': "',g,'"']}),s===Q&&p&&f.jsxs("div",{className:`mt-2 p-2 rounded-md text-sm flex items-start ${p.type==="success"?"bg-green-100 text-green-700":p.type==="error"?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"}`,children:[p.type==="success"&&f.jsx(_i,{className:"w-5 h-5 mr-2 flex-shrink-0"}),p.type==="error"&&f.jsx(Ei,{className:"w-5 h-5 mr-2 flex-shrink-0"}),f.jsx("span",{children:p.message})]})]},Q))}),u&&f.jsx("p",{className:"mt-4 text-center text-sky-600 font-medium animate-pulse",children:"..."})]})},y0=({content:t,apiKey:e,vocabularyLevel:a,isStudentMode:s=!1})=>{const[o,u]=k.useState("sentence"),[h,g]=k.useState({}),[x,p]=k.useState({}),[v,C]=k.useState({}),T=k.useCallback((E,I)=>{g(V=>({...V,[E]:I}))},[]),S=k.useCallback(async(E,I)=>{if(!e){alert(" API Key  AI ");return}const V=h[E.id];if(!(V!=null&&V.trim())){alert("");return}C(U=>({...U,[E.id]:!0}));try{const U=await MN(V,I,E,e,a);p($=>({...$,[E.id]:U}))}catch(U){console.error("AI :",U),alert("AI  API Key ")}finally{C(U=>({...U,[E.id]:!1}))}},[e,h,a]),N=()=>f.jsx("div",{className:"space-y-6",children:t.sentencePractice.map((E,I)=>{var V;return f.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border border-blue-200",children:[f.jsx("div",{className:"flex items-start justify-between mb-4",children:f.jsxs("div",{children:[f.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:[" ",I+1,f.jsx("span",{className:`ml-2 px-2 py-1 text-xs rounded-full ${E.difficulty==="easy"?"bg-green-100 text-green-700":E.difficulty==="normal"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:E.difficulty==="easy"?"":E.difficulty==="normal"?"":""})]}),f.jsx("p",{className:"text-gray-700 mb-3",children:E.instruction}),E.keywords.length>0&&f.jsxs("div",{className:"mb-3",children:[f.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:""}),f.jsx("div",{className:"flex flex-wrap gap-2",children:E.keywords.map((U,$)=>f.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-sm",children:U},$))})]}),E.exampleSentence&&f.jsxs("div",{className:"mb-3 p-3 bg-gray-50 rounded-lg",children:[f.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:""}),f.jsx("p",{className:"text-gray-700 italic",children:E.exampleSentence})]}),E.hints&&E.hints.length>0&&f.jsxs("div",{className:"mb-3",children:[f.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:""}),f.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:E.hints.map((U,$)=>f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-blue-500 mt-1",children:""}),U]},$))})]})]})}),f.jsxs("div",{className:"border-t pt-4",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),f.jsx("textarea",{value:h[E.id]||"",onChange:U=>T(E.id,U.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"..."}),f.jsxs("div",{className:"mt-3 flex justify-between items-center",children:[f.jsxs("span",{className:"text-sm text-gray-500",children:[": ",(h[E.id]||"").length]}),e&&f.jsx("button",{onClick:()=>S(E,"sentence"),disabled:!((V=h[E.id])!=null&&V.trim())||v[E.id],className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:v[E.id]?f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"animate-spin",children:""}),"AI ..."]}):f.jsxs(f.Fragment,{children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})})," AI "]})})]})]}),x[E.id]&&f.jsx(Ng,{feedback:x[E.id]})]},E.id)})}),_=()=>f.jsx("div",{className:"space-y-6",children:t.writingPractice.map((E,I)=>{var V;return f.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border border-purple-200",children:[f.jsxs("div",{className:"mb-4",children:[f.jsxs("h4",{className:"text-lg font-semibold text-gray-800 mb-2",children:[E.title,f.jsx("span",{className:`ml-2 px-2 py-1 text-xs rounded-full ${E.difficulty==="easy"?"bg-green-100 text-green-700":E.difficulty==="normal"?"bg-yellow-100 text-yellow-700":"bg-red-100 text-red-700"}`,children:E.difficulty==="easy"?"":E.difficulty==="normal"?"":""})]}),f.jsx("p",{className:"text-gray-700 mb-3",children:E.instruction}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-gray-600 mb-2",children:""}),f.jsx("ul",{className:"text-sm text-gray-600 space-y-1",children:E.structure.map((U,$)=>f.jsxs("li",{className:"flex items-start gap-2",children:[f.jsx("span",{className:"text-purple-500 mt-1",children:""}),U]},$))})]}),f.jsxs("div",{children:[f.jsxs("p",{className:"text-sm font-medium text-gray-600 mb-2",children:[": ",E.minLength," - ",E.maxLength," "]}),E.keywords&&E.keywords.length>0&&f.jsxs("div",{children:[f.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:""}),f.jsx("div",{className:"flex flex-wrap gap-1",children:E.keywords.map((U,$)=>f.jsx("span",{className:"bg-purple-100 text-purple-800 px-2 py-1 rounded text-xs",children:U},$))})]})]})]}),E.exampleOutline&&f.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg mb-4",children:[f.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:""}),f.jsx("p",{className:"text-gray-700 text-sm",children:E.exampleOutline})]})]}),f.jsxs("div",{className:"border-t pt-4",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),f.jsx("textarea",{value:h[E.id]||"",onChange:U=>T(E.id,U.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",rows:8,placeholder:"..."}),f.jsxs("div",{className:"mt-3 flex justify-between items-center",children:[f.jsxs("div",{className:"text-sm text-gray-500",children:[f.jsxs("span",{children:[": ",(h[E.id]||"").length]}),f.jsx("span",{className:"ml-4",children:(h[E.id]||"").length<E.minLength?` ${E.minLength-(h[E.id]||"").length} `:(h[E.id]||"").length>E.maxLength?` ${(h[E.id]||"").length-E.maxLength} `:""})]}),e&&f.jsx("button",{onClick:()=>S(E,"writing"),disabled:!((V=h[E.id])!=null&&V.trim())||v[E.id],className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:v[E.id]?f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"animate-spin",children:""}),"AI ..."]}):f.jsxs(f.Fragment,{children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})})," AI "]})})]})]}),x[E.id]&&f.jsx(Ng,{feedback:x[E.id]})]},E.id)})});return f.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-lg p-6 mt-8",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8 text-blue-600",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-2xl font-bold text-gray-800",children:" AI "}),f.jsx("p",{className:"text-gray-600 text-sm",children:t.instructions})]})]}),!s&&f.jsxs("div",{className:"text-sm text-gray-500 bg-white px-3 py-2 rounded-lg border",children:[f.jsxs("div",{children:[": ",t.sentencePractice.length," "]}),f.jsxs("div",{children:[": ",t.writingPractice.length," "]})]})]}),f.jsxs("div",{className:"flex border-b border-gray-200 mb-6",children:[f.jsxs("button",{onClick:()=>u("sentence"),className:`px-6 py-3 font-medium text-sm border-b-2 transition-colors ${o==="sentence"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[" (",t.sentencePractice.length,")"]}),f.jsxs("button",{onClick:()=>u("writing"),className:`px-6 py-3 font-medium text-sm border-b-2 transition-colors ${o==="writing"?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[" (",t.writingPractice.length,")"]})]}),o==="sentence"?N():_()]})},Ng=({feedback:t})=>f.jsxs("div",{className:"mt-4 border-t pt-4 bg-gradient-to-r from-green-50 to-blue-50 rounded-lg p-4",children:[f.jsxs("h5",{className:"font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5 text-green-600",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.813 15.904 9 18.75l-.813-2.846a4.5 4.5 0 0 0-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 0 0 3.09-3.09L9 5.25l.813 2.847a4.5 4.5 0 0 0 3.09 3.09L15.75 12l-2.847.813a4.5 4.5 0 0 0-3.09 3.09ZM18.259 8.715 18 9.75l-.259-1.035a3.375 3.375 0 0 0-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 0 0 2.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 0 0 2.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 0 0-2.456 2.456Z"})}),"AI ",f.jsxs("div",{className:`ml-2 px-3 py-1 rounded-full text-sm font-bold ${t.score>=85?"bg-green-100 text-green-800":t.score>=70?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[t.score," "]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[t.strengths.length>0&&f.jsxs("div",{children:[f.jsx("h6",{className:"font-medium text-green-700 mb-2",children:" "}),f.jsx("ul",{className:"space-y-1",children:t.strengths.map((e,a)=>f.jsxs("li",{className:"text-sm text-gray-700 flex items-start gap-2",children:[f.jsx("span",{className:"text-green-500 mt-1",children:""}),e]},a))})]}),t.improvements.length>0&&f.jsxs("div",{children:[f.jsx("h6",{className:"font-medium text-orange-700 mb-2",children:" "}),f.jsx("ul",{className:"space-y-1",children:t.improvements.map((e,a)=>f.jsxs("li",{className:"text-sm text-gray-700 flex items-start gap-2",children:[f.jsx("span",{className:"text-orange-500 mt-1",children:""}),e]},a))})]})]}),t.grammarCorrections&&t.grammarCorrections.length>0&&f.jsxs("div",{className:"mb-4 p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:[f.jsx("h6",{className:"font-medium text-yellow-800 mb-2",children:" "}),t.grammarCorrections.map((e,a)=>f.jsxs("div",{className:"mb-2 last:mb-0",children:[f.jsxs("div",{className:"text-sm",children:[f.jsx("span",{className:"text-red-600 line-through",children:e.original}),f.jsx("span",{className:"mx-2",children:""}),f.jsx("span",{className:"text-green-600 font-medium",children:e.corrected})]}),f.jsx("div",{className:"text-xs text-gray-600 mt-1",children:e.explanation})]},a))]}),t.vocabularyTips&&t.vocabularyTips.length>0&&f.jsxs("div",{className:"mb-4",children:[f.jsx("h6",{className:"font-medium text-blue-700 mb-2",children:" "}),f.jsx("ul",{className:"space-y-1",children:t.vocabularyTips.map((e,a)=>f.jsxs("li",{className:"text-sm text-gray-700 flex items-start gap-2",children:[f.jsx("span",{className:"text-blue-500 mt-1",children:""}),e]},a))})]}),t.structureFeedback&&f.jsxs("div",{className:"mb-4",children:[f.jsx("h6",{className:"font-medium text-purple-700 mb-2",children:" "}),f.jsx("p",{className:"text-sm text-gray-700",children:t.structureFeedback})]}),f.jsxs("div",{className:"border-t pt-3",children:[f.jsx("h6",{className:"font-medium text-gray-800 mb-2",children:" "}),f.jsx("p",{className:"text-sm text-gray-700 bg-white p-3 rounded-lg border",children:t.overallComment})]})]}),ZN=t=>`
    <div class="tabs">
      <button class="tab-btn active" data-tab-target="easy-quiz-content" data-difficulty="easy"></button>
      <button class="tab-btn" data-tab-target="normal-quiz-content" data-difficulty="normal"></button>
      <button class="tab-btn" data-tab-target="hard-quiz-content" data-difficulty="hard"></button>
    </div>
    <div id="easy-quiz-content" class="tab-content active">
      <!-- Content rendered by JS -->
      <div class="quiz-items-container" data-difficulty="easy"></div>
    </div>
    <div id="normal-quiz-content" class="tab-content">
      <!-- Content rendered by JS -->
      <div class="quiz-items-container" data-difficulty="normal"></div>
    </div>
    <div id="hard-quiz-content" class="tab-content">
      <!-- Content rendered by JS -->
      <div class="quiz-items-container" data-difficulty="hard"></div>
    </div>
    <script type="application/json" id="quizDataStore">
      ${t}
    <\/script>
  `,KN=(t,e)=>{const a=t.learningObjectives&&t.learningObjectives.length>0?t.learningObjectives.map(N=>`
        <div class="objective-item" style="margin-bottom:20px; padding:16px; background:#f0fdf4; border-left:4px solid #10b981; border-radius:6px;">
          <h3 style="color:#059669; margin-bottom:8px; font-size:1.1em; font-weight:600;">${N.objective}</h3>
          <p style="color:#047857; margin-bottom:8px; line-height:1.6;">${N.description}</p>
          ${N.teachingExample?`
            <div style="background:#ecfdf5; border:1px solid #a7f3d0; padding:12px; border-radius:4px; margin-top:8px;">
              <strong style="color:#065f46; font-size:0.85em; display:block; margin-bottom:4px;"></strong>
              <span style="color:#047857; font-size:0.9em;">${N.teachingExample}</span>
            </div>`:""}
        </div>`).join(""):"<p></p>",s=t.contentBreakdown&&t.contentBreakdown.length>0?t.contentBreakdown.map(N=>`
        <div class="breakdown-item" style="margin-bottom:24px; padding-bottom:20px; border-bottom:1px solid #e2e8f0;">
          <h3 style="color:#0369a1; margin-bottom:8px;">${N.topic}</h3>
          <p style="margin-bottom:12px; color:#475569;">${N.details}</p>
          
          ${N.coreConcept?`
            <div style="background:#eff6ff; border-left:4px solid #3b82f6; padding:12px; border-radius:4px; margin-bottom:12px;">
              <strong style="color:#1e40af; font-size:0.85em; display:block; margin-bottom:4px;"></strong>
              <span style="color:#1e3a8a; font-size:0.9em;">${N.coreConcept}</span>
            </div>`:""}
          
          ${N.teachingSentences&&N.teachingSentences.length>0?`
            <div style="background:#eef2ff; border-left:4px solid #6366f1; padding:12px; border-radius:4px; margin-bottom:12px;">
              <strong style="color:#4338ca; font-size:0.85em; display:block; margin-bottom:8px;"></strong>
              <div style="line-height:1.6;">
                ${N.teachingSentences.map((_,E)=>`
                  <div style="color:#312e81; font-size:0.9em; margin-bottom:4px;">
                    <span style="color:#6366f1; font-family:monospace;">${E+1}.</span> ${_}
                  </div>
                `).join("")}
              </div>
            </div>`:""}
          
          ${N.teachingTips?`
            <div style="background:#faf5ff; border-left:4px solid #8b5cf6; padding:12px; border-radius:4px; margin-bottom:12px;">
              <strong style="color:#7c3aed; font-size:0.85em; display:block; margin-bottom:4px;"></strong>
              <span style="color:#6b21a8; font-size:0.9em;">${N.teachingTips}</span>
            </div>`:""}
          
          ${N.teachingExample?`
            <div style="background:#f0f9ff; border-left:4px solid #0ea5e9; padding:12px; border-radius:4px;">
              <strong style="color:#0284c7; font-size:0.85em; display:block; margin-bottom:4px;"></strong>
              <span style="color:#0c4a6e; font-size:0.9em;">${N.teachingExample}</span>
            </div>`:""}
        </div>`).join(""):"<p></p>",o=t.confusingPoints&&t.confusingPoints.length>0?t.confusingPoints.map(N=>`
        <div class="confusing-point-item" style="border:1px solid #e2e8f0; border-radius:8px; padding:20px; margin-bottom:24px; background:#fefefe;">
          <h3 style="color:#b91c1c; margin-bottom:12px; font-size:1.3em; font-weight:600;">${N.point}</h3>
          <p style="margin-bottom:16px; color:#475569; line-height:1.6;">${N.clarification}</p>
          
          ${N.errorType?`
          <div style="background:#fff7ed; border-left:4px solid #f97316; padding:12px; margin-bottom:12px; border-radius:4px;">
            <strong style="color:#c2410c; font-size:0.8em; display:block; margin-bottom:4px;"></strong>
            <span style="color:#9a3412; font-size:0.9em;">${N.errorType}</span>
          </div>`:""}
          
          ${N.commonErrors&&N.commonErrors.length>0?`
          <div style="background:#fef2f2; border-left:4px solid #ef4444; padding:12px; margin-bottom:12px; border-radius:4px;">
            <strong style="color:#dc2626; font-size:0.8em; display:block; margin-bottom:8px;"></strong>
            <div style="margin-left:0;">
              ${N.commonErrors.map((_,E)=>`
                <div style="color:#991b1b; font-size:0.9em; margin-bottom:4px;">
                  <span style="color:#dc2626; font-family:monospace; margin-right:6px;">${E+1}.</span>${_}
                </div>
              `).join("")}
            </div>
          </div>`:""}
          
          ${N.correctVsWrong&&N.correctVsWrong.length>0?`
          <div style="background:#fefce8; border-left:4px solid #eab308; padding:12px; margin-bottom:12px; border-radius:4px;">
            <strong style="color:#a16207; font-size:0.8em; display:block; margin-bottom:8px;"></strong>
            ${N.correctVsWrong.map((_,E)=>`
              <div style="border:1px solid #fde047; background:#fffbeb; padding:12px; margin-bottom:8px; border-radius:6px;">
                <div style="display:grid; grid-template-columns:1fr 1fr; gap:12px; margin-bottom:8px;">
                  <div style="background:#f0fdf4; padding:10px; border-radius:4px; border:1px solid #bbf7d0;">
                    <strong style="color:#166534; font-size:0.8em; display:block; margin-bottom:4px;"> </strong>
                    <span style="color:#15803d; font-size:0.9em;">${_.correct}</span>
                  </div>
                  <div style="background:#fef2f2; padding:10px; border-radius:4px; border:1px solid #fecaca;">
                    <strong style="color:#dc2626; font-size:0.8em; display:block; margin-bottom:4px;"> </strong>
                    <span style="color:#991b1b; font-size:0.9em;">${_.wrong}</span>
                  </div>
                </div>
                <div style="background:#eff6ff; padding:10px; border-radius:4px; border:1px solid #bfdbfe;">
                  <strong style="color:#1d4ed8; font-size:0.8em; display:block; margin-bottom:4px;"></strong>
                  <span style="color:#1e40af; font-size:0.9em;">${_.explanation}</span>
                </div>
              </div>
            `).join("")}
          </div>`:""}
          
          ${N.preventionStrategy?`
          <div style="background:#eff6ff; border-left:4px solid #3b82f6; padding:12px; margin-bottom:12px; border-radius:4px;">
            <strong style="color:#1d4ed8; font-size:0.8em; display:block; margin-bottom:4px;"></strong>
            <span style="color:#1e40af; font-size:0.9em;">${N.preventionStrategy}</span>
          </div>`:""}
          
          ${N.correctionMethod?`
          <div style="background:#faf5ff; border-left:4px solid #a855f7; padding:12px; margin-bottom:12px; border-radius:4px;">
            <strong style="color:#7c3aed; font-size:0.8em; display:block; margin-bottom:4px;"></strong>
            <span style="color:#6b21a8; font-size:0.9em;">${N.correctionMethod}</span>
          </div>`:""}
          
          ${N.practiceActivities&&N.practiceActivities.length>0?`
          <div style="background:#f0f9ff; border-left:4px solid #6366f1; padding:12px; margin-bottom:12px; border-radius:4px;">
            <strong style="color:#4338ca; font-size:0.8em; display:block; margin-bottom:8px;"></strong>
            <div style="margin-left:0;">
              ${N.practiceActivities.map((_,E)=>`
                <div style="color:#312e81; font-size:0.9em; margin-bottom:4px;">
                  <span style="color:#4338ca; font-family:monospace; margin-right:6px;">${E+1}.</span>${_}
                </div>
              `).join("")}
            </div>
          </div>`:""}
          
          ${N.teachingExample?`
          <div style="background:#f9fafb; border-left:4px solid #6b7280; padding:12px; border-radius:4px;">
            <strong style="color:#374151; font-size:0.8em; display:block; margin-bottom:4px;"></strong>
            <span style="color:#111827; font-size:0.9em;">${N.teachingExample}</span>
          </div>`:""}
        </div>`).join(""):"<p></p>",u=t.classroomActivities&&t.classroomActivities.length>0?t.classroomActivities.map(N=>`
        <div class="activity-item" style="border:1px solid #e0e7ef; border-radius:6px; padding:16px; margin-bottom:16px; background:#f8fafc;">
          <h3 style="color:#2563eb; margin-bottom:8px; font-size:1.2em;">${N.title}</h3>
          <p style="margin-bottom:12px; color:#475569;">${N.description}</p>
          
          <div style="display:grid; grid-template-columns:1fr 1fr; gap:12px; margin-bottom:12px;">
            ${N.objective?`
              <div>
                <strong style="color:#0f172a;"></strong>
                <p style="margin:4px 0 0 0; font-size:0.9em;">${N.objective}</p>
              </div>`:""}
            ${N.timing?`
              <div>
                <strong style="color:#0f172a;"></strong>
                <p style="margin:4px 0 0 0; font-size:0.9em;">${N.timing}</p>
              </div>`:""}
            ${N.materials?`
            <div>
              <strong style="color:#0f172a;"></strong>
              <p style="margin:4px 0 0 0; font-size:0.9em;">${N.materials}</p>
            </div>`:""}
            ${N.environment?`
            <div>
              <strong style="color:#0f172a;"></strong>
              <p style="margin:4px 0 0 0; font-size:0.9em;">${N.environment}</p>
            </div>`:""}
          </div>
          
          ${N.steps&&N.steps.length>0?`
            <div style="margin-bottom:12px;">
              <strong style="color:#0f172a;"></strong>
              <ol style="margin:8px 0 0 20px; padding:0;">
                ${N.steps.map(_=>`<li style="margin-bottom:4px; font-size:0.9em;">${_}</li>`).join("")}
              </ol>
            </div>`:""}
          
          ${N.assessmentPoints&&N.assessmentPoints.length>0?`
            <div>
              <strong style="color:#0f172a;"></strong>
              <ul style="margin:8px 0 0 20px; padding:0;">
                ${N.assessmentPoints.map(_=>`<li style="margin-bottom:4px; font-size:0.9em;">${_}</li>`).join("")}
              </ul>
            </div>`:""}
        </div>
      `).join(""):"<p></p>",h=t.englishConversation&&t.englishConversation.length>0?t.englishConversation.map(N=>`
        <div class="dialogue-line ${N.speaker==="Speaker A"?"speakerA":"speakerB"}">
          <span class="speaker">${N.speaker}:</span> ${N.line}
        </div>`).join("")+"<p><small><em></em></small></p>":"<p></p>",g=t.learningLevels&&t.learningLevels.suggestedLevels&&t.learningLevels.suggestedLevels.length>0?t.learningLevels.suggestedLevels.sort((N,_)=>N.order-_.order).map(N=>`
          <div class="level-item" style="border:1px solid #e0e7ef; border-radius:8px; padding:16px; margin-bottom:12px; background:${N.id===t.learningLevels.defaultLevelId?"#eff8ff":"#f8fafc"}; border-left: 4px solid ${N.id===t.learningLevels.defaultLevelId?"#0ea5e9":"#e2e8f0"};">
            <div style="display:flex; align-items:center; margin-bottom:8px;">
              <div style="width:32px; height:32px; border-radius:50%; background-color:${N.id===t.learningLevels.defaultLevelId?"#0ea5e9":"#94a3b8"}; color:white; display:flex; align-items:center; justify-content:center; font-weight:bold; margin-right:12px;">${N.order}</div>
              <h3 style="margin:0; color:${N.id===t.learningLevels.defaultLevelId?"#0c4a6e":"#334155"};">${N.name}</h3>
              ${N.id===t.learningLevels.defaultLevelId?'<span style="background:#dcfce7; color:#166534; padding:2px 8px; border-radius:4px; font-size:0.8em; margin-left:8px;"></span>':""}
            </div>
            <p style="margin:0; color:#64748b; line-height:1.5;">${N.description}</p>
          </div>
        `).join(""):"<p></p>",x=JSON.stringify(t.onlineInteractiveQuiz||{}),p=ZN(x),v=`
    <!DOCTYPE html>
    <html lang="zh-Hant">
    <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>${e}</title>
      <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"; margin: 0; padding: 20px; line-height: 1.6; background-color: #f4f7f9; color: #333; }
        .container { max-width: 800px; margin: 0 auto; background-color: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        h1 { color: #2c3e50; text-align: center; border-bottom: 2px solid #3498db; padding-bottom: 10px; }
        h2 { color: #3498db; margin-top: 30px; border-bottom: 1px solid #eee; padding-bottom: 8px;}
        h3 { color: #2980b9; margin-top: 20px; }
        h4 { color: #16a085; margin-top:15px; font-size: 1.1em; margin-bottom: 10px; padding-bottom: 5px; border-bottom: 1px dashed #bdc3c7;}
        ul { list-style-type: disc; padding-left: 20px; }
        li { margin-bottom: 8px; }
        p { margin-bottom: 10px; }
        .section { margin-bottom: 25px; }
        .breakdown-item, .confusing-point-item { border-left: 3px solid #3498db; padding-left: 15px; margin-bottom: 15px; background-color: #fdfdfe; padding:10px; border-radius: 0 4px 4px 0;}
        .dialogue-line { margin-bottom: 8px; padding: 10px; border-radius: 5px; }
        .dialogue-line .speaker { font-weight: bold; color: #0056b3; }
        .dialogue-line.speakerA { background-color: #e7f3ff; border-left: 3px solid #79a6dc; }
        .dialogue-line.speakerB { background-color: #e6fff0; border-left: 3px solid #68d19a; }
        
        .tabs { display: flex; margin-bottom: 0; border-bottom: 1px solid #ccc;}
        .tabs button { padding: 10px 15px; cursor: pointer; border: 1px solid #ccc; background-color: #f0f0f0; margin-right: 0px; border-bottom: none; border-radius: 5px 5px 0 0; font-size: 1em;}
        .tabs button.active { background-color: #fff; border-bottom: 1px solid #fff; color: #3498db; font-weight: bold; position:relative; top:1px;}
        .tab-content { display: none; padding: 15px; border: 1px solid #ccc; border-top: none; background-color:#fff; border-radius: 0 0 5px 5px;}
        .tab-content.active { display: block; }

        .quiz-item { border: 1px solid #e0e0e0; padding: 15px; margin-bottom: 15px; border-radius: 5px; background: #f9f9f9; }
        .quiz-question { font-weight: 500; margin-bottom: 8px; color: #333; }
        .quiz-item p:first-child { margin-top: 0; }
        .quiz-feedback { padding: 8px; margin-top: 10px; border-radius: 4px; font-size: 0.9em; }
        .quiz-feedback.correct { background-color: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .quiz-feedback.incorrect { background-color: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
        .quiz-feedback em { color: #555;}
        
        .tf-options button { margin-right: 10px; padding: 8px 12px; border-radius: 4px; border: 1px solid #ccc; cursor: pointer; }
        .tf-options button.selected.correct, .tf-options button.correct { background-color: #28a745; color: white; border-color: #28a745; }
        .tf-options button.selected.incorrect, .tf-options button.incorrect { background-color: #dc3545; color: white; border-color: #dc3545; }
        .tf-options button:disabled { opacity: 0.7; cursor: not-allowed; }

        .mc-options label { display: block; margin-bottom: 8px; padding: 8px; border: 1px solid #eee; border-radius: 4px; cursor: pointer; transition: background-color 0.2s, border-color 0.2s; }
        .mc-options label:hover { background-color: #f0f8ff; }
        .mc-options input[type="radio"] { margin-right: 8px; }
        .mc-options label.selected { background-color: #e0f0ff; border-color: #79a6dc; }
        .mc-options label.correct-answer { background-color: #d4edda !important; border-color: #c3e6cb !important; color: #155724;}
        .mc-options label.incorrect-selection { background-color: #f8d7da !important; border-color: #f5c6cb !important; color: #721c24;}
        .mc-options label.disabled { cursor: not-allowed; opacity: 0.7; }


        .fb-input { padding: 6px; border: 1px solid #ccc; border-radius: 4px; margin: 0 5px; min-width:100px; }
        .fb-input:disabled { background-color: #eee; }

        .ss-word-bank, .ss-constructed-sentence-area { display: flex; flex-wrap: wrap; gap: 8px; padding: 10px; border: 1px dashed #ccc; border-radius: 4px; min-height: 40px; margin-bottom: 10px; }
        .ss-word-bank { background-color: #f0f8ff; }
        .ss-constructed-sentence-area { background-color: #e6fff0; }
        .ss-word-bank button, .ss-constructed-sentence-area button { padding: 5px 10px; background-color: #add8e6; border: none; border-radius: 4px; cursor: pointer; font-size: 0.95em;}
        .ss-word-bank button:hover, .ss-constructed-sentence-area button:hover { background-color: #90cce0; }
        .ss-constructed-sentence-area button { background-color: #a2d2ff; }


        .quiz-item button.check-answer-btn, .quiz-item button.ss-action-btn {
          background-color: #3498db; color: white; border: none; padding: 8px 12px; border-radius: 4px; cursor: pointer; font-size: 0.9em; margin-top: 10px; transition: background-color 0.2s;
        }
        .quiz-item button.check-answer-btn:hover, .quiz-item button.ss-action-btn:hover { background-color: #2980b9; }
        .quiz-item button.ss-action-btn.ss-clear { background-color: #e74c3c; margin-left: 5px;}
        .quiz-item button.ss-action-btn.ss-clear:hover { background-color: #c0392b; }
        .quiz-item button:disabled, .quiz-item button.check-answer-btn:disabled, .quiz-item button.ss-action-btn:disabled { background-color: #bdc3c7; cursor: not-allowed; opacity: 0.7;}
        
        footer { text-align: center; margin-top: 30px; padding-top: 15px; border-top: 1px solid #ddd; font-size: 0.9em; color: #777; }
      </style>
    </head>
    <body>
      <div class="container">
        <h1>${e}</h1>

        <div class="section">
          <h2></h2>
          ${g}
        </div>

        <div class="section">
          <h2></h2>
          ${a}
        </div>

        <div class="section">
          <h2></h2>
          ${s}
        </div>

        <div class="section">
          <h2></h2>
          ${o}
        </div>

        <div class="section">
          <h2></h2>
          ${u}
        </div>
        
        <div class="section">
          <h2></h2>
          ${h}
        </div>

        <div class="section">
          <h2></h2>
          ${p}
        </div>
        
        <footer>
          <p> AI ${new Date().toLocaleString()}</p>
        </footer>
      </div>

      <script>
        document.addEventListener('DOMContentLoaded', () => {
          const quizData = JSON.parse(document.getElementById('quizDataStore').textContent || '{}');
          let sentenceScrambleStates = {}; // To store dynamic state for sentence scramble

          const normalizeText = (str) => {
            if (typeof str !== 'string') return '';
            // Corrected regex for multiple spaces: s+ instead of \\s+
            return str.toLowerCase().replace(/[.,!?;:'"'""]/g, '').replace(/s+/g, ' ').trim();
          };

          const renderQuizzesForDifficulty = (difficulty) => {
            const container = document.querySelector(\`.quiz-items-container[data-difficulty="\${difficulty}"]\`);
            if (!container) return;
            container.innerHTML = ''; 
            sentenceScrambleStates[difficulty] = {}; // Reset states for this difficulty

            const difficultyData = quizData[difficulty];
            if (!difficultyData || Object.keys(difficultyData).every(type => !difficultyData[type] || difficultyData[type].length === 0)) {
              container.innerHTML = '<p></p>';
              return;
            }

            let itemGlobalIndex = 0;
            const typeLabels = { trueFalse: "", multipleChoice: "", fillInTheBlanks: "", sentenceScramble: ""};

            const createHtml = (type, q, index) => {
              const questionId = \`\${difficulty}-\${type}-\${index}\`;
              let itemHtml = \`<div class="quiz-item \${type}-item" id="item-\${questionId}">\`;
              
              if (type === 'trueFalse') {
                itemHtml += \`<p class="quiz-question">\${itemGlobalIndex + 1}. \${q.statement}</p>\`;
                itemHtml += \`<div class="tf-options">\`;
                itemHtml += \`<button data-value="true" data-question-id="\${questionId}"> (True)</button>\`;
                itemHtml += \`<button data-value="false" data-question-id="\${questionId}"> (False)</button>\`;
                itemHtml += \`</div>\`;
              } else if (type === 'multipleChoice') {
                itemHtml += \`<p class="quiz-question">\${itemGlobalIndex + 1}. \${q.question}</p>\`;
                itemHtml += \`<div class="mc-options">\`;
                q.options.forEach((opt, optIndex) => {
                  itemHtml += \`<label><input type="radio" name="mc-\${questionId}" value="\${optIndex}"> \${String.fromCharCode(65 + optIndex)}. \${opt}</label>\`;
                });
                itemHtml += \`</div>\`;
                itemHtml += \`<button class="check-answer-btn mc-check" data-question-id="\${questionId}"></button>\`;
              } else if (type === 'fillInTheBlanks') {
                itemHtml += \`<p class="quiz-question">\${itemGlobalIndex + 1}. \${q.sentenceWithBlank.replace('____', '<input type="text" class="fb-input" id="fb-input-\${questionId}" placeholder="">')}</p>\`;
                itemHtml += \`<button class="check-answer-btn fb-check" data-question-id="\${questionId}"></button>\`;
              } else if (type === 'sentenceScramble') {
                sentenceScrambleStates[difficulty][questionId] = {
                    availableWords: q.scrambledWords.slice().sort(() => Math.random() - 0.5),
                    constructedWords: []
                };
                itemHtml += \`<p class="quiz-question">\${itemGlobalIndex + 1}. </p>\`;
                itemHtml += \`<p class="ss-instruction"></p>\`
                itemHtml += \`<div class="ss-word-bank" id="ss-bank-\${questionId}">\`;
                sentenceScrambleStates[difficulty][questionId].availableWords.forEach(word => {
                   itemHtml += \`<button class="ss-word" data-word="\${word}" data-question-id="\${questionId}" data-source="bank">\${word}</button>\`;
                });
                itemHtml += \`</div>\`;
                itemHtml += \`<p class="quiz-question"></p><div class="ss-constructed-sentence-area" id="ss-area-\${questionId}"></div>\`;
                itemHtml += \`<button class="check-answer-btn ss-check" data-question-id="\${questionId}"></button>\`;
                itemHtml += \`<button class="ss-action-btn ss-clear" data-question-id="\${questionId}"></button>\`;
              }
              itemHtml += \`<div class="quiz-feedback" id="feedback-\${questionId}"></div></div>\`;
              itemGlobalIndex++;
              return itemHtml;
            };
            
            const quizTypes = ['trueFalse', 'multipleChoice', 'fillInTheBlanks', 'sentenceScramble'];
            let hasContentForDifficulty = false;

            quizTypes.forEach(type => {
              if (difficultyData[type] && difficultyData[type].length > 0) {
                hasContentForDifficulty = true;
                const typeHeader = document.createElement('h4');
                typeHeader.textContent = typeLabels[type];
                container.appendChild(typeHeader);
                difficultyData[type].forEach((q, i) => {
                  const questionElement = document.createElement('div');
                  questionElement.innerHTML = createHtml(type, q, i);
                  container.appendChild(questionElement.firstChild);
                });
              }
            });
             if (!hasContentForDifficulty) {
                 container.innerHTML = '<p></p>';
            }
          };

          const tabButtons = document.querySelectorAll('.tabs .tab-btn');
          const tabContents = document.querySelectorAll('.tab-content');

          tabButtons.forEach(button => {
            button.addEventListener('click', () => {
              tabButtons.forEach(btn => btn.classList.remove('active'));
              tabContents.forEach(content => content.classList.remove('active'));

              button.classList.add('active');
              const targetContentId = button.getAttribute('data-tab-target');
              document.getElementById(targetContentId).classList.add('active');
              
              const difficulty = button.getAttribute('data-difficulty');
              renderQuizzesForDifficulty(difficulty);
            });
          });
          
          // Initial render for the default active tab
          renderQuizzesForDifficulty('easy');


          // Event delegation for quiz interactions
          document.querySelector('.container').addEventListener('click', (event) => {
            const target = event.target;
            // Ensure target is an HTMLElement before trying to access attributes or match selectors
            if (!(target instanceof HTMLElement)) return;

            const questionId = target.getAttribute('data-question-id');
            if (!questionId) return;

            const [difficulty, type, indexStr] = questionId.split('-');
            const index = parseInt(indexStr);
            const questionData = quizData[difficulty]?.[type]?.[index];
            const feedbackEl = document.getElementById(\`feedback-\${questionId}\`);

            if (!questionData || !feedbackEl) return;

            // True/False
            if (target.matches('.tf-options button')) {
              const selectedValue = target.getAttribute('data-value') === 'true';
              const isCorrect = selectedValue === questionData.isTrue;
              feedbackEl.className = 'quiz-feedback ' + (isCorrect ? 'correct' : 'incorrect');
              let message = isCorrect ? '' : \`\${questionData.isTrue ? ' (True)' : ' (False)'}\`;
              if (questionData.explanation) message += \` <em>\${questionData.explanation}</em>\`;
              feedbackEl.innerHTML = message;
              
              target.classList.add('selected', isCorrect ? 'correct' : 'incorrect');
              Array.from(target.parentElement.children).forEach(btn => btn.disabled = true);
            }

            // Multiple Choice Check
            else if (target.matches('.mc-check')) {
              const selectedRadio = document.querySelector(\`input[name="mc-\${questionId}"]:checked\`);
              if (!selectedRadio) {
                feedbackEl.className = 'quiz-feedback incorrect';
                feedbackEl.textContent = '';
                return;
              }
              const selectedOptionIndex = parseInt(selectedRadio.value);
              const isCorrect = selectedOptionIndex === questionData.correctAnswerIndex;
              
              feedbackEl.className = 'quiz-feedback ' + (isCorrect ? 'correct' : 'incorrect');
              let message = isCorrect ? '' : \`\${String.fromCharCode(65 + questionData.correctAnswerIndex)}. \${questionData.options[questionData.correctAnswerIndex]}\`;
              feedbackEl.innerHTML = message;

              // Visually mark options
              const optionLabels = document.querySelectorAll(\`#item-\${questionId} .mc-options label\`);
              optionLabels.forEach((label, idx) => {
                label.classList.add('disabled');
                const radioInLabel = label.querySelector('input');
                if (radioInLabel) radioInLabel.disabled = true;

                if (idx === questionData.correctAnswerIndex) {
                    label.classList.add('correct-answer');
                }
                if (idx === selectedOptionIndex && !isCorrect) {
                    label.classList.add('incorrect-selection');
                }
                 if (idx === selectedOptionIndex) {
                    label.classList.add('selected');
                }
              });
              target.disabled = true;
            }

            // Fill in the Blanks Check
            else if (target.matches('.fb-check')) {
              const inputEl = document.getElementById(\`fb-input-\${questionId}\`);
              // Add null check for inputEl
              if (!inputEl) {
                  console.error('Fill-in-the-blanks input element not found for ID:', \`fb-input-\${questionId}\`);
                  feedbackEl.className = 'quiz-feedback incorrect';
                  feedbackEl.textContent = '';
                  return;
              }
              const userAnswer = inputEl.value.trim();
              if (userAnswer === '') {
                feedbackEl.className = 'quiz-feedback incorrect';
                feedbackEl.textContent = '';
                return;
              }
              const isCorrect = normalizeText(userAnswer) === normalizeText(questionData.correctAnswer);
              feedbackEl.className = 'quiz-feedback ' + (isCorrect ? 'correct' : 'incorrect');
              feedbackEl.textContent = isCorrect ? '' : \` "\${questionData.correctAnswer}"\`;
              inputEl.disabled = true;
              target.disabled = true;
            }
            
            // Sentence Scramble
            else if (target.matches('.ss-word') || target.matches('.ss-check') || target.matches('.ss-clear')) {
                const state = sentenceScrambleStates[difficulty][questionId];
                if (!state) return; // Should not happen if initialized correctly

                const bankEl = document.getElementById(\`ss-bank-\${questionId}\`);
                const areaEl = document.getElementById(\`ss-area-\${questionId}\`);
                
                if(!bankEl || !areaEl) return;


                const redrawScramble = () => {
                    bankEl.innerHTML = '';
                    state.availableWords.forEach(w => {
                        bankEl.innerHTML += \`<button class="ss-word" data-word="\${w}" data-question-id="\${questionId}" data-source="bank">\${w}</button>\`;
                    });
                    areaEl.innerHTML = '';
                    state.constructedWords.forEach(w => {
                        areaEl.innerHTML += \`<button class="ss-word" data-word="\${w}" data-question-id="\${questionId}" data-source="area">\${w}</button>\`;
                    });
                };

                if (target.matches('.ss-word')) {
                    const word = target.getAttribute('data-word');
                    const source = target.getAttribute('data-source');
                    if (source === 'bank') {
                        state.constructedWords.push(word);
                        // Correctly remove only one instance of the word from availableWords
                        const wordIndexInBank = state.availableWords.indexOf(word);
                        if (wordIndexInBank > -1) {
                            state.availableWords.splice(wordIndexInBank, 1);
                        }
                    } else { // source === 'area'
                        state.availableWords.push(word);
                        // Correctly remove only one instance of the word from constructedWords
                        const wordIndexInArea = state.constructedWords.indexOf(word);
                        if (wordIndexInArea > -1) {
                            state.constructedWords.splice(wordIndexInArea, 1);
                        }
                    }
                    redrawScramble();
                    feedbackEl.textContent = '';
                    feedbackEl.className = 'quiz-feedback';
                } else if (target.matches('.ss-check')) {
                    const userAnswer = state.constructedWords.join(' ').trim();
                    const isCorrect = normalizeText(userAnswer) === normalizeText(questionData.originalSentence);
                    feedbackEl.className = 'quiz-feedback ' + (isCorrect ? 'correct' : 'incorrect');
                    feedbackEl.textContent = isCorrect ? '' : \` "\${questionData.originalSentence}"\`;
                    target.disabled = true;
                    const clearButton = document.querySelector(\`#item-\${questionId} .ss-clear\`);
                    if(clearButton) clearButton.disabled = true;
                    
                    bankEl.querySelectorAll('button').forEach(b => b.disabled = true);
                    areaEl.querySelectorAll('button').forEach(b => b.disabled = true);

                } else if (target.matches('.ss-clear')) {
                    state.availableWords = questionData.scrambledWords.slice().sort(() => Math.random() - 0.5);
                    state.constructedWords = [];
                    redrawScramble();
                    feedbackEl.textContent = '';
                    feedbackEl.className = 'quiz-feedback';
                }
            }

          });
        });
      <\/script>
    </body>
    </html>
  `,C=new Blob([v],{type:"text/html;charset=utf-8"}),T=URL.createObjectURL(C),S=document.createElement("a");S.href=T,S.download=`learning-plan-${e.replace(/\s+/g,"_")||"untitled"}.html`,document.body.appendChild(S),S.click(),document.body.removeChild(S),URL.revokeObjectURL(T)},qc="AES-GCM",QN=256,kc=12;async function x0(t,e){const a=new TextEncoder,s=await crypto.subtle.importKey("raw",a.encode(t),"PBKDF2",!1,["deriveKey"]);return crypto.subtle.deriveKey({name:"PBKDF2",salt:e,iterations:1e5,hash:"SHA-256"},s,{name:qc,length:QN},!1,["encrypt","decrypt"])}async function XN(t,e="ai-page-gen-2024"){try{const s=new TextEncoder().encode(t),o=crypto.getRandomValues(new Uint8Array(16)),u=crypto.getRandomValues(new Uint8Array(kc)),h=await x0(e,o),g=await crypto.subtle.encrypt({name:qc,iv:u},h,s),x=new Uint8Array(o.length+u.length+g.byteLength);return x.set(o,0),x.set(u,o.length),x.set(new Uint8Array(g),o.length+u.length),e_(x)}catch(a){throw console.error(" API Key :",a),new Error("")}}async function WN(t,e="ai-page-gen-2024"){try{const a=t_(t),s=a.slice(0,16),o=a.slice(16,16+kc),u=a.slice(16+kc),h=await x0(e,s),g=await crypto.subtle.decrypt({name:qc,iv:o},h,u);return new TextDecoder().decode(g)}catch(a){throw console.error(" API Key :",a),new Error("")}}function e_(t){const e=new Uint8Array(t);let a="";for(let s=0;s<e.byteLength;s++)a+=String.fromCharCode(e[s]);return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function t_(t){const e="=".repeat((4-t.length%4)%4),a=t.replace(/-/g,"+").replace(/_/g,"/")+e,s=atob(a),o=new Uint8Array(s.length);for(let u=0;u<s.length;u++)o[u]=s.charCodeAt(u);return o}function v0(){return typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof crypto.subtle.encrypt=="function"}async function _g(t){if(!v0())return console.warn("Web Crypto API "),`apikey=${encodeURIComponent(t)}`;const e=await XN(t);return`enckey=${encodeURIComponent(e)}`}async function b0(t){const e=t.get("enckey");if(e&&v0())try{return await WN(decodeURIComponent(e))}catch(s){console.error(" API Key :",s)}const a=t.get("apikey");return a?decodeURIComponent(a):null}const n_=({tabs:t,current:e,onChange:a,children:s})=>f.jsxs("div",{children:[f.jsx("div",{className:"flex border-b mb-4",children:t.map(o=>f.jsx("button",{className:`px-4 py-2 -mb-px border-b-2 font-medium transition-colors focus:outline-none ${e===o.key?"border-indigo-600 text-indigo-700 bg-white":"border-transparent text-slate-500 hover:text-indigo-600"}`,onClick:()=>a(o.key),type:"button",children:o.label},o.key))}),f.jsx("div",{children:s[t.findIndex(o=>o.key===e)]})]}),Io="https://api.jsonbin.io/v3/b",jo="$2a$10$0PieG5Wm.V.6svtN4PbaTuVxU4LY0nL2Vaz4N3g2aYlb0cL1NG4Qa";async function i_(t){const a=await(await fetch(Io,{method:"POST",headers:{"Content-Type":"application/json","X-Master-Key":jo,"X-Bin-Private":"false"},body:JSON.stringify(t)})).json();if(!a||!a.metadata||!a.metadata.id)throw new Error(" jsonbin id");return a.metadata.id}async function a_(t){const a=await(await fetch(`https://api.jsonbin.io/v3/b/${t}/latest`,{})).json();if(!a||!a.record)throw new Error("");return a.record}async function s_(t){const e={type:"quiz",quiz:t.quiz,topic:t.topic,apiKey:t.apiKey,metadata:t.metadata,createdAt:new Date().toISOString(),supportsDiagnostic:!!t.apiKey},s=await(await fetch(Io,{method:"POST",headers:{"Content-Type":"application/json","X-Master-Key":jo,"X-Bin-Private":"false"},body:JSON.stringify(e)})).json();if(!s||!s.metadata||!s.metadata.id)throw new Error("");return s.metadata.id}async function l_(t){const a=await(await fetch(`https://api.jsonbin.io/v3/b/${t}/latest`,{})).json();if(!a||!a.record)throw new Error("");const s=a.record;if(s.type!=="quiz")throw new Error("");return{quiz:s.quiz,topic:s.topic,apiKey:s.apiKey,supportsDiagnostic:s.supportsDiagnostic||!1,metadata:s.metadata}}async function o_(t){const e={type:"writing",writingPractice:t.writingPractice,topic:t.topic,metadata:t.metadata,createdAt:new Date().toISOString()},s=await(await fetch(Io,{method:"POST",headers:{"Content-Type":"application/json","X-Master-Key":jo,"X-Bin-Private":"false"},body:JSON.stringify(e)})).json();if(!s||!s.metadata||!s.metadata.id)throw new Error("");return s.metadata.id}async function r_(t){const a=await(await fetch(`https://api.jsonbin.io/v3/b/${t}/latest`,{})).json();if(!a||!a.record)throw new Error("");const s=a.record;if(s.type!=="writing")throw new Error("");return{writingPractice:s.writingPractice,topic:s.topic,metadata:s.metadata}}async function u_(t){const e={type:"student-results",...t,createdAt:new Date().toISOString()},s=await(await fetch(Io,{method:"POST",headers:{"Content-Type":"application/json","X-Master-Key":jo,"X-Bin-Private":"false"},body:JSON.stringify(e)})).json();if(!s||!s.metadata||!s.metadata.id)throw new Error("");return s.metadata.id}async function c_(t){const a=await(await fetch(`https://api.jsonbin.io/v3/b/${t}/latest`,{})).json();if(!a||!a.record)throw new Error("");const s=a.record;if(s.type!=="student-results")throw new Error("");return{studentName:s.studentName,topic:s.topic,difficulty:s.difficulty,responses:s.responses,overallScore:s.overallScore,completedAt:s.completedAt,quizBinId:s.quizBinId,metadata:s.metadata}}const d_=({config:t,onConfigChange:e,onRegenerate:a,isGenerating:s})=>{const o={trueFalse:"",multipleChoice:"",fillInTheBlanks:"",sentenceScramble:"",memoryCardGame:""},u=(p,v)=>{const C=Ti[p],T=Math.max(0,Math.min(C,v)),S={easy:{...t.easy,[p]:T},normal:{...t.normal,[p]:T},hard:{...t.hard,[p]:T}};e(S)},h=()=>{e(r0)},g=()=>{const p=Object.values(t.easy).reduce((T,S)=>T+S,0),v=Object.values(t.normal).reduce((T,S)=>T+S,0),C=Object.values(t.hard).reduce((T,S)=>T+S,0);return p+v+C},x=p=>t.easy[p]+t.normal[p]+t.hard[p];return f.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6 border border-indigo-200",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsxs("div",{children:[f.jsxs("h3",{className:"text-xl font-bold text-gray-800 mb-2 flex items-center gap-2",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-indigo-600",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a6.759 6.759 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]}),""]}),f.jsxs("p",{className:"text-sm text-gray-600",children:["  : ",f.jsx("span",{className:"font-semibold text-indigo-600",children:g()})," "]})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:h,className:"px-3 py-2 text-sm bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors",children:""}),f.jsx("button",{onClick:a,disabled:s,className:"px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg hover:from-indigo-700 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all transform hover:scale-105 shadow-md flex items-center gap-2 font-medium",children:s?f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"animate-spin",children:""}),"..."]}):f.jsxs(f.Fragment,{children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"})}),""]})})]})]}),f.jsx("div",{className:"space-y-6",children:Object.keys(o).map(p=>{const v=Ti[p],C=t.easy[p],T=x(p);return f.jsxs("div",{className:"bg-gradient-to-r from-slate-50 to-gray-50 rounded-lg p-5 border border-slate-200",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-3 h-3 bg-indigo-500 rounded-full"}),f.jsx("h4",{className:"font-semibold text-lg text-gray-800",children:o[p]}),f.jsxs("span",{className:"text-sm text-gray-500 bg-white px-2 py-1 rounded-full border",children:[": 0-",v," "]})]}),f.jsxs("div",{className:"text-right",children:[f.jsxs("div",{className:"text-sm text-gray-600",children:[": ",f.jsx("span",{className:"font-mono font-medium",children:C})," "]}),f.jsxs("div",{className:"text-xs text-indigo-600",children:[": ",f.jsx("span",{className:"font-semibold",children:T})," "]})]})]}),f.jsxs("div",{className:"flex items-center justify-center gap-4",children:[f.jsx("button",{onClick:()=>u(p,C-1),className:"w-10 h-10 rounded-full bg-red-100 hover:bg-red-200 flex items-center justify-center text-red-600 font-bold text-lg transition-colors shadow-sm",disabled:C<=0,children:"-"}),f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("div",{className:"text-3xl font-bold text-gray-800 mb-1",children:C}),f.jsx("div",{className:"text-xs text-gray-500",children:""})]}),f.jsx("button",{onClick:()=>u(p,C+1),className:"w-10 h-10 rounded-full bg-green-100 hover:bg-green-200 flex items-center justify-center text-green-600 font-bold text-lg transition-colors shadow-sm",disabled:C>=v,children:"+"})]}),f.jsxs("div",{className:"mt-4 flex justify-center gap-4",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center text-green-700 text-sm font-semibold mb-1",children:t.easy[p]}),f.jsx("div",{className:"text-xs text-green-700",children:""})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-full flex items-center justify-center text-yellow-700 text-sm font-semibold mb-1",children:t.normal[p]}),f.jsx("div",{className:"text-xs text-yellow-700",children:""})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"w-8 h-8 bg-red-100 rounded-full flex items-center justify-center text-red-700 text-sm font-semibold mb-1",children:t.hard[p]}),f.jsx("div",{className:"text-xs text-red-700",children:""})]})]})]},p)})}),f.jsx("div",{className:"mt-6 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-blue-600 mt-0.5 flex-shrink-0",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"})}),f.jsxs("div",{className:"text-sm text-blue-800",children:[f.jsx("p",{className:"font-medium mb-2",children:" "}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-xs",children:[f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-blue-900 mb-1",children:" "}),f.jsx("p",{children:""})]}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-blue-900 mb-1",children:" "}),f.jsx("p",{children:": 0-10 | : 0-2"})]}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-blue-900 mb-1",children:" "}),f.jsx("p",{children:" 0 "})]}),f.jsxs("div",{children:[f.jsx("p",{className:"font-medium text-blue-900 mb-1",children:" "}),f.jsx("p",{children:" 1-2 "})]})]})]})]})})]})},Eg=[{key:"objectives",label:""},{key:"breakdown",label:""},{key:"confusing",label:""},{key:"activities",label:""},{key:"conversation",label:""},{key:"writing",label:""},{key:"quiz",label:""}],C0=({content:t,topic:e,selectedLevel:a,selectedVocabularyLevel:s,apiKey:o,onContentUpdate:u})=>{const[h,g]=Ue.useState(""),[x,p]=Ue.useState(""),[v,C]=Ue.useState(Eg[0].key),[T,S]=Ue.useState(!1),[N,_]=Ue.useState(""),[E,I]=Ue.useState(""),[V,U]=Ue.useState(!1),[$,q]=Ue.useState(""),[J,Q]=Ue.useState(""),[se,X]=Ue.useState(!1),[oe,te]=Ue.useState(""),[Z,de]=Ue.useState(""),[re,ee]=Ue.useState(r0),[j,K]=Ue.useState(!1),[le,_e]=Ue.useState(!1),M=()=>{navigator.clipboard.writeText(JSON.stringify(t,null,2)).then(()=>{g("JSON "),setTimeout(()=>g(""),2e3)}).catch(G=>{g(""),console.error("Failed to copy: ",G),setTimeout(()=>g(""),2e3)})},F=()=>{try{KN(t,e),p("HTML "),setTimeout(()=>p(""),3e3)}catch(G){console.error("Failed to export HTML:",G),p(" HTML "),setTimeout(()=>p(""),3e3)}},ne=async()=>{S(!0),_(""),I("");try{const G={...t,topic:e,selectedLevel:a,selectedVocabularyLevel:s,sharedAt:new Date().toISOString()},Me=await i_(G),ge=`${window.location.origin}/ai-page-gen/share?binId=${Me}`;I(ge)}catch(G){_(G.message||"")}finally{S(!1)}},ie=async()=>{if(U(!0),q(""),Q(""),!t.onlineInteractiveQuiz){q(""),U(!1);return}try{const G=await s_({quiz:t.onlineInteractiveQuiz,topic:e,apiKey:o,metadata:{selectedLevel:a==null?void 0:a.name,selectedVocabularyLevel:s==null?void 0:s.name,createdAt:new Date().toISOString(),supportsDiagnostic:!!o}});let Me=`${window.location.origin}/ai-page-gen/quiz?binId=${G}`;if(o)try{const ge=await _g(o);Me+=`&${ge}`}catch(ge){console.warn(" API Key  API Key:",ge)}Q(Me)}catch(G){q(G.message||"")}finally{U(!1)}},he=async()=>{if(X(!0),te(""),de(""),!t.writingPractice){te(""),X(!1);return}try{const G=await o_({writingPractice:t.writingPractice,topic:e,metadata:{selectedLevel:a==null?void 0:a.name,selectedVocabularyLevel:s==null?void 0:s.name,createdAt:new Date().toISOString()}});let Me=`${window.location.origin}/ai-page-gen/writing?binId=${G}`;if(o)try{const ge=await _g(o);Me+=`&${ge}`}catch(ge){console.warn(" API Key  API Key:",ge)}de(Me)}catch(G){te(G.message||"")}finally{X(!1)}},Re=async()=>{if(!t.learningObjectives){alert("");return}const G=localStorage.getItem("gemini_api_key");if(!G){alert(" Gemini API ");return}K(!0);try{const Me=await AN(e,G,t.learningObjectives,re,a,s),ge={...t,onlineInteractiveQuiz:Me};u&&u(ge),_e(!1),alert("")}catch(Me){console.error(":",Me),alert(": "+(Me.message||""))}finally{K(!1)}};return f.jsxs("div",{className:"mt-8",children:[f.jsxs("div",{className:"flex flex-wrap justify-end items-center gap-2 mb-4",children:[f.jsxs("button",{onClick:M,className:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors flex items-center text-sm","aria-label":" JSON ",children:[f.jsx(BN,{className:"w-4 h-4 mr-2"}),"  JSON"]}),f.jsxs("button",{onClick:F,className:"px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition-colors flex items-center text-sm","aria-label":" HTML ",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4 mr-2",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})})," HTML"]}),f.jsx("button",{onClick:ne,className:"px-4 py-2 bg-purple-500 text-white rounded-md hover:bg-purple-600 transition-colors flex items-center text-sm disabled:opacity-60","aria-label":"",disabled:T,children:T?f.jsxs("span",{className:"flex items-center",children:[f.jsx("span",{className:"animate-spin mr-2",children:""})," ..."]}):f.jsx("span",{children:""})}),h&&f.jsx("span",{className:"text-sm text-green-600",children:h}),x&&f.jsx("span",{className:"text-sm text-blue-600",children:x}),N&&f.jsx("span",{className:"text-sm text-red-600",children:N})]}),E&&f.jsxs("div",{className:"mb-4 p-4 bg-purple-50 border border-purple-200 rounded-lg",children:[f.jsx("p",{className:"text-sm text-purple-700 mb-2",children:""}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("input",{type:"text",value:E,readOnly:!0,className:"flex-1 px-3 py-2 bg-white border border-purple-300 rounded text-sm",onClick:()=>navigator.clipboard.writeText(E)}),f.jsx("button",{onClick:()=>navigator.clipboard.writeText(E),className:"px-3 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 text-sm",children:""})]})]}),f.jsx("div",{className:"mb-8 p-6 bg-gradient-to-r from-indigo-50 to-blue-50 border border-indigo-200 rounded-lg shadow-sm",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx(Ac,{className:"w-5 h-5 text-indigo-600 flex-shrink-0"}),f.jsx("span",{className:"text-sm font-medium text-indigo-600",children:""})]}),f.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-0 truncate",children:e})]}),(a||s)&&f.jsxs("div",{className:"flex gap-3 ml-6 flex-shrink-0",children:[a&&f.jsxs("div",{className:"bg-white px-3 py-2 rounded-lg shadow-sm border border-indigo-100",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx(Ai,{className:"w-4 h-4 text-indigo-500"}),f.jsx("span",{className:"text-xs font-medium text-indigo-600",children:""})]}),f.jsx("div",{className:"text-sm font-semibold text-gray-900",children:a.name}),f.jsx("div",{className:"text-xs text-gray-500 truncate max-w-32",title:a.description,children:a.description.length>20?a.description.substring(0,20)+"...":a.description})]}),s&&f.jsxs("div",{className:"bg-white px-3 py-2 rounded-lg shadow-sm border border-blue-100",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx(No,{className:"w-4 h-4 text-blue-500"}),f.jsx("span",{className:"text-xs font-medium text-blue-600",children:""})]}),f.jsx("div",{className:"text-sm font-semibold text-gray-900",children:s.name}),f.jsxs("div",{className:"text-xs text-gray-500",children:[s.wordCount," "]})]})]})]})}),f.jsxs(n_,{tabs:Eg,current:v,onChange:C,children:[f.jsx(Yt,{title:"",icon:f.jsx(Ai,{className:"w-7 h-7"}),children:t.learningObjectives&&t.learningObjectives.length>0?t.learningObjectives.map((G,Me)=>f.jsxs("div",{className:"mb-4 pb-4 border-b border-slate-200 last:border-b-0 last:pb-0",children:[f.jsx("h4",{className:"font-semibold text-lg text-green-800 mb-1",children:G.objective}),f.jsx("p",{className:"text-slate-700 mb-2",children:G.description}),G.teachingExample&&f.jsxs("div",{className:"bg-green-50 border-l-4 border-green-400 p-3 rounded-md mt-2",children:[f.jsx("span",{className:"block text-xs font-semibold text-green-700 mb-1",children:""}),f.jsx("span",{className:"text-green-900 text-sm",children:G.teachingExample})]})]},Me)):f.jsx("p",{children:""})}),f.jsx(Yt,{title:"",icon:f.jsx(No,{className:"w-7 h-7"}),children:t.contentBreakdown&&t.contentBreakdown.length>0?t.contentBreakdown.map((G,Me)=>f.jsxs("div",{className:"mb-6 pb-6 border-b border-slate-200 last:border-b-0 last:pb-0",children:[f.jsx("h4",{className:"font-semibold text-lg text-sky-800 mb-1",children:G.topic}),f.jsx("p",{className:"text-slate-700 mb-3",children:G.details}),G.coreConcept&&f.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-3 rounded-md mb-3",children:[f.jsx("span",{className:"block text-xs font-semibold text-blue-700 mb-1",children:""}),f.jsx("span",{className:"text-blue-900 text-sm",children:G.coreConcept})]}),G.teachingSentences&&G.teachingSentences.length>0&&f.jsxs("div",{className:"bg-indigo-50 border-l-4 border-indigo-400 p-3 rounded-md mb-3",children:[f.jsx("span",{className:"block text-xs font-semibold text-indigo-700 mb-2",children:""}),f.jsx("div",{className:"space-y-1",children:G.teachingSentences.map((ge,Fe)=>f.jsxs("div",{className:"text-indigo-900 text-sm",children:[f.jsxs("span",{className:"font-mono text-indigo-600",children:[Fe+1,"."]})," ",ge]},Fe))})]}),G.teachingTips&&f.jsxs("div",{className:"bg-purple-50 border-l-4 border-purple-400 p-3 rounded-md mb-3",children:[f.jsx("span",{className:"block text-xs font-semibold text-purple-700 mb-1",children:""}),f.jsx("span",{className:"text-purple-900 text-sm",children:G.teachingTips})]}),G.teachingExample&&f.jsxs("div",{className:"bg-sky-50 border-l-4 border-sky-400 p-3 rounded-md",children:[f.jsx("span",{className:"block text-xs font-semibold text-sky-700 mb-1",children:""}),f.jsx("span",{className:"text-sky-900 text-sm",children:G.teachingExample})]})]},Me)):f.jsx("p",{children:""})}),f.jsx(Yt,{title:"",icon:f.jsx(Ac,{className:"w-7 h-7"}),children:t.confusingPoints&&t.confusingPoints.length>0?t.confusingPoints.map((G,Me)=>f.jsxs("div",{className:"mb-6 pb-6 border-b border-slate-200 last:border-b-0 last:pb-0",children:[f.jsx("h4",{className:"font-semibold text-lg text-red-700 mb-2",children:G.point}),f.jsx("p",{className:"text-slate-700 mb-3",children:G.clarification}),G.errorType&&f.jsxs("div",{className:"bg-orange-50 border-l-4 border-orange-400 p-3 rounded-md mb-3",children:[f.jsx("span",{className:"block text-xs font-semibold text-orange-700 mb-1",children:""}),f.jsx("span",{className:"text-orange-900 text-sm",children:G.errorType})]}),G.commonErrors&&G.commonErrors.length>0&&f.jsxs("div",{className:"bg-red-50 border-l-4 border-red-400 p-3 rounded-md mb-3",children:[f.jsx("span",{className:"block text-xs font-semibold text-red-700 mb-2",children:""}),f.jsx("div",{className:"space-y-1",children:G.commonErrors.map((ge,Fe)=>f.jsxs("div",{className:"text-red-900 text-sm",children:[f.jsxs("span",{className:"font-mono text-red-600",children:[Fe+1,"."]})," ",ge]},Fe))})]}),G.correctVsWrong&&G.correctVsWrong.length>0&&f.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-3 rounded-md mb-3",children:[f.jsx("span",{className:"block text-xs font-semibold text-yellow-700 mb-2",children:""}),f.jsx("div",{className:"space-y-3",children:G.correctVsWrong.map((ge,Fe)=>f.jsxs("div",{className:"border border-yellow-200 rounded-md p-2 bg-white",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-2",children:[f.jsxs("div",{className:"bg-green-50 p-2 rounded border border-green-200",children:[f.jsx("span",{className:"block text-xs font-semibold text-green-700 mb-1",children:" "}),f.jsx("span",{className:"text-green-900 text-sm",children:ge.correct})]}),f.jsxs("div",{className:"bg-red-50 p-2 rounded border border-red-200",children:[f.jsx("span",{className:"block text-xs font-semibold text-red-700 mb-1",children:" "}),f.jsx("span",{className:"text-red-900 text-sm",children:ge.wrong})]})]}),f.jsxs("div",{className:"bg-blue-50 p-2 rounded border border-blue-200",children:[f.jsx("span",{className:"block text-xs font-semibold text-blue-700 mb-1",children:""}),f.jsx("span",{className:"text-blue-900 text-sm",children:ge.explanation})]})]},Fe))})]}),G.preventionStrategy&&f.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-3 rounded-md mb-3",children:[f.jsx("span",{className:"block text-xs font-semibold text-blue-700 mb-1",children:""}),f.jsx("span",{className:"text-blue-900 text-sm",children:G.preventionStrategy})]}),G.correctionMethod&&f.jsxs("div",{className:"bg-purple-50 border-l-4 border-purple-400 p-3 rounded-md mb-3",children:[f.jsx("span",{className:"block text-xs font-semibold text-purple-700 mb-1",children:""}),f.jsx("span",{className:"text-purple-900 text-sm",children:G.correctionMethod})]}),G.practiceActivities&&G.practiceActivities.length>0&&f.jsxs("div",{className:"bg-indigo-50 border-l-4 border-indigo-400 p-3 rounded-md mb-3",children:[f.jsx("span",{className:"block text-xs font-semibold text-indigo-700 mb-2",children:""}),f.jsx("div",{className:"space-y-1",children:G.practiceActivities.map((ge,Fe)=>f.jsxs("div",{className:"text-indigo-900 text-sm",children:[f.jsxs("span",{className:"font-mono text-indigo-600",children:[Fe+1,"."]})," ",ge]},Fe))})]}),G.teachingExample&&f.jsxs("div",{className:"bg-gray-50 border-l-4 border-gray-400 p-3 rounded-md",children:[f.jsx("span",{className:"block text-xs font-semibold text-gray-700 mb-1",children:""}),f.jsx("span",{className:"text-gray-900 text-sm",children:G.teachingExample})]})]},Me)):f.jsx("p",{children:""})}),f.jsx(Yt,{title:"",icon:f.jsx(VN,{className:"w-7 h-7"}),children:t.classroomActivities&&t.classroomActivities.length>0?f.jsx("div",{className:"space-y-6",children:t.classroomActivities.map((G,Me)=>f.jsxs("div",{className:"bg-white border border-slate-200 rounded-xl shadow-sm hover:shadow-md transition-shadow duration-200",children:[f.jsxs("div",{className:"bg-gradient-to-r from-sky-50 to-blue-50 px-6 py-4 border-b border-slate-200 rounded-t-xl",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-sky-500 text-white rounded-full font-bold text-sm",children:Me+1}),f.jsx("h4",{className:"font-bold text-xl text-sky-800",children:G.title})]}),f.jsx("p",{className:"mt-3 text-slate-700 leading-relaxed",children:G.description})]}),f.jsxs("div",{className:"p-6",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[G.objective&&f.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),f.jsx("span",{className:"font-semibold text-green-800 text-sm",children:""})]}),f.jsx("p",{className:"text-green-900 text-sm leading-relaxed",children:G.objective})]}),G.timing&&f.jsxs("div",{className:"bg-purple-50 border border-purple-200 rounded-lg p-4",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx("div",{className:"w-2 h-2 bg-purple-500 rounded-full"}),f.jsx("span",{className:"font-semibold text-purple-800 text-sm",children:""})]}),f.jsx("p",{className:"text-purple-900 text-sm leading-relaxed",children:G.timing})]}),G.materials&&f.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"}),f.jsx("span",{className:"font-semibold text-orange-800 text-sm",children:""})]}),f.jsx("p",{className:"text-orange-900 text-sm leading-relaxed",children:G.materials})]}),G.environment&&f.jsxs("div",{className:"bg-teal-50 border border-teal-200 rounded-lg p-4",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx("div",{className:"w-2 h-2 bg-teal-500 rounded-full"}),f.jsx("span",{className:"font-semibold text-teal-800 text-sm",children:""})]}),f.jsx("p",{className:"text-teal-900 text-sm leading-relaxed",children:G.environment})]})]}),G.steps&&G.steps.length>0&&f.jsx("div",{className:"mb-6",children:f.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5 text-blue-600",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0ZM3.75 12h.007v.008H3.75V12Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm-.375 5.25h.007v.008H3.75v-.008Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"})}),f.jsx("span",{className:"font-semibold text-blue-800",children:""})]}),f.jsx("div",{className:"space-y-3",children:G.steps.map((ge,Fe)=>f.jsxs("div",{className:"flex gap-3",children:[f.jsx("div",{className:"flex items-center justify-center w-6 h-6 bg-blue-500 text-white rounded-full font-semibold text-xs flex-shrink-0 mt-0.5",children:Fe+1}),f.jsx("p",{className:"text-blue-900 text-sm leading-relaxed flex-1",children:ge})]},Fe))})]})}),G.assessmentPoints&&G.assessmentPoints.length>0&&f.jsx("div",{children:f.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-4",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5 text-indigo-600",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 0 1-1.043 3.296 3.745 3.745 0 0 1-3.296 1.043A3.745 3.745 0 0 1 12 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 0 1-3.296-1.043 3.745 3.745 0 0 1-1.043-3.296A3.745 3.745 0 0 1 3 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 0 1 1.043-3.296 3.746 3.746 0 0 1 3.296-1.043A3.746 3.746 0 0 1 12 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 0 1 3.296 1.043 3.746 3.746 0 0 1 1.043 3.296A3.745 3.745 0 0 1 21 12Z"})}),f.jsx("span",{className:"font-semibold text-indigo-800",children:""})]}),f.jsx("div",{className:"space-y-2",children:G.assessmentPoints.map((ge,Fe)=>f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("div",{className:"w-2 h-2 bg-indigo-500 rounded-full mt-2 flex-shrink-0"}),f.jsx("p",{className:"text-indigo-900 text-sm leading-relaxed",children:ge})]},Fe))})]})})]})]},Me))}):f.jsx("p",{children:""})}),t.englishConversation&&t.englishConversation.length>0?f.jsx(JN,{dialogue:t.englishConversation}):f.jsx(Yt,{title:"",icon:f.jsx(Mc,{className:"w-7 h-7"}),children:f.jsx("p",{children:""})}),t.writingPractice?f.jsxs("div",{children:[f.jsx("div",{className:"flex justify-end mb-4",children:f.jsx("button",{onClick:he,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center gap-2 text-sm",disabled:se,children:se?f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"animate-spin",children:""}),"..."]}):f.jsxs(f.Fragment,{children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-12.814a2.25 2.25 0 1 0 3.935-2.186 2.25 2.25 0 0 0-3.935 2.186Z"})}),""]})})}),oe&&f.jsx("div",{className:"mb-4 p-3 bg-red-100 text-red-700 rounded-lg",children:oe}),Z&&f.jsxs("div",{className:"mb-4 p-4 bg-purple-50 border border-purple-200 rounded-lg",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx("p",{className:"text-sm text-purple-700",children:""}),o&&f.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full",children:" AI "})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("input",{type:"text",value:Z,readOnly:!0,className:"flex-1 px-3 py-2 bg-white border border-purple-300 rounded text-sm",onClick:()=>navigator.clipboard.writeText(Z)}),f.jsx("button",{onClick:()=>navigator.clipboard.writeText(Z),className:"px-3 py-2 bg-purple-600 text-white rounded hover:bg-purple-700 text-sm",children:""})]}),o&&f.jsx("p",{className:"text-xs text-purple-600 mt-2",children:"  API Key AI "})]}),f.jsx(y0,{content:t.writingPractice,apiKey:o,vocabularyLevel:s||void 0})]}):f.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center border border-gray-200",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-16 h-16 text-gray-400 mx-auto mb-4",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})}),f.jsx("h4",{className:"text-lg font-semibold text-gray-700 mb-2",children:""}),f.jsx("p",{className:"text-gray-500",children:""})]}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex flex-wrap justify-end items-center gap-2 mb-4",children:[f.jsx("button",{onClick:ie,className:"px-4 py-2 bg-orange-500 text-white rounded-md hover:bg-orange-600 transition-colors flex items-center text-sm disabled:opacity-60","aria-label":"",disabled:V,children:V?f.jsxs("span",{className:"flex items-center",children:[f.jsx("span",{className:"animate-spin mr-2",children:""})," ..."]}):f.jsxs("span",{className:"flex items-center",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4 mr-2",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"})}),""]})}),f.jsxs("button",{onClick:()=>_e(!le),className:"px-4 py-2 bg-teal-500 text-white rounded-md hover:bg-teal-600 transition-colors flex items-center text-sm","aria-label":"",children:[f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-4 h-4 mr-2",children:[f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a6.759 6.759 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.57 6.57 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"}),f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"})]}),""]})]}),$&&f.jsx("span",{className:"text-sm text-red-600",children:$}),J&&f.jsxs("div",{className:"mb-4 p-4 bg-orange-50 border border-orange-200 rounded-lg",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx("p",{className:"text-sm text-orange-700",children:""}),o&&f.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full",children:" AI "})]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("input",{type:"text",value:J,readOnly:!0,className:"flex-1 px-3 py-2 bg-white border border-orange-300 rounded text-sm",onClick:()=>navigator.clipboard.writeText(J)}),f.jsx("button",{onClick:()=>navigator.clipboard.writeText(J),className:"px-3 py-2 bg-orange-600 text-white rounded hover:bg-orange-700 text-sm",children:""})]}),o&&f.jsx("p",{className:"text-xs text-orange-600 mt-2",children:"  API Key AI "})]}),le&&f.jsx(d_,{config:re,onConfigChange:ee,onRegenerate:Re,isGenerating:j}),f.jsx(YN,{quizzes:t.onlineInteractiveQuiz,topic:e,apiKey:o,enableDiagnostic:!!o})]})]})]})},f_=({learningLevels:t,onLevelSelect:e,onGenerateWithLevel:a,selectedLevelId:s,isLoading:o=!1})=>{var p;const[u,h]=k.useState(s||t.defaultLevelId),g=v=>{h(v.id),e==null||e(v)},x=[...t.suggestedLevels].sort((v,C)=>v.order-C.order);return f.jsx(Yt,{title:"",icon:f.jsx(Ai,{className:"w-7 h-7"}),children:f.jsxs("div",{className:"space-y-3",children:[f.jsx("p",{className:"text-sm text-slate-600 mb-4",children:""}),f.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:x.map(v=>f.jsxs("div",{className:`
                relative p-4 rounded-lg border-2 cursor-pointer transition-all duration-200
                ${u===v.id?"border-sky-500 bg-sky-50 shadow-md":"border-slate-300 bg-white hover:border-sky-300 hover:shadow-sm"}
              `,onClick:()=>g(v),children:[f.jsxs("div",{className:"flex items-start space-x-3",children:[f.jsx("div",{className:`
                  flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold
                  ${u===v.id?"bg-sky-500 text-white":"bg-slate-200 text-slate-700"}
                `,children:v.order}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h4",{className:`
                    text-lg font-semibold mb-2
                    ${u===v.id?"text-sky-700":"text-slate-700"}
                  `,children:v.name}),f.jsx("p",{className:`
                    text-sm leading-relaxed
                    ${u===v.id?"text-sky-600":"text-slate-600"}
                  `,children:v.description})]})]}),u===v.id&&f.jsx("div",{className:"absolute top-2 right-2",children:f.jsx("div",{className:"w-3 h-3 bg-sky-500 rounded-full flex items-center justify-center",children:f.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})})})]},v.id))}),f.jsxs("div",{className:"mt-4 space-y-3",children:[f.jsx("div",{className:"p-3 bg-slate-50 rounded-lg",children:f.jsxs("div",{className:"flex items-center space-x-2 text-sm text-slate-600",children:[f.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),f.jsxs("span",{children:["",f.jsx("strong",{children:(p=x.find(v=>v.id===u))==null?void 0:p.name})]})]})}),a&&f.jsx("div",{className:"flex justify-center",children:f.jsx("button",{onClick:()=>{const v=x.find(C=>C.id===u);v&&a(v)},disabled:o,className:"px-8 py-3 bg-green-600 text-white font-semibold rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50 transition-colors disabled:bg-slate-400 disabled:cursor-not-allowed flex items-center",children:o?f.jsxs(f.Fragment,{children:[f.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[f.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),f.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"..."]}):f.jsxs(f.Fragment,{children:[f.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),""]})})})]})]})})},oc=[{id:"beginner",name:" (100-500)",wordCount:500,description:""},{id:"elementary",name:" (500-1000)",wordCount:1e3,description:""},{id:"pre-intermediate",name:" (1000-2000)",wordCount:2e3,description:""},{id:"intermediate",name:" (2000-3500)",wordCount:3500,description:""},{id:"upper-intermediate",name:" (3500-5000)",wordCount:5e3,description:""},{id:"advanced",name:" (5000-7000)",wordCount:7e3,description:""}],m_=({onVocabularyLevelSelect:t,selectedLevel:e,isVisible:a=!0})=>{var h,g;const[s,o]=k.useState((e==null?void 0:e.id)||"intermediate"),u=x=>{o(x.id),t(x)};return a?f.jsx(Yt,{title:"",icon:f.jsx(No,{className:"w-7 h-7"}),children:f.jsxs("div",{className:"space-y-4",children:[f.jsx("p",{className:"text-sm text-slate-600",children:""}),f.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-3",children:oc.map(x=>f.jsxs("div",{className:`
                relative p-4 rounded-lg border-2 cursor-pointer transition-all duration-200
                ${s===x.id?"border-green-500 bg-green-50 shadow-md":"border-slate-300 bg-white hover:border-green-300 hover:shadow-sm"}
              `,onClick:()=>u(x),children:[f.jsxs("div",{className:"flex flex-col space-y-2",children:[f.jsxs("div",{className:"flex items-center space-x-2",children:[f.jsx("div",{className:`
                    flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold
                    ${s===x.id?"bg-green-500 text-white":"bg-slate-200 text-slate-700"}
                  `,children:x.wordCount>=1e3?`${x.wordCount/1e3}k`:x.wordCount}),f.jsx("h4",{className:`
                    text-sm font-semibold
                    ${s===x.id?"text-green-700":"text-slate-700"}
                  `,children:x.name})]}),f.jsx("p",{className:`
                  text-xs leading-relaxed
                  ${s===x.id?"text-green-600":"text-slate-600"}
                `,children:x.description})]}),s===x.id&&f.jsx("div",{className:"absolute top-2 right-2",children:f.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full flex items-center justify-center",children:f.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full"})})})]},x.id))}),f.jsx("div",{className:"p-3 bg-slate-50 rounded-lg",children:f.jsxs("div",{className:"flex items-center space-x-2 text-sm text-slate-600",children:[f.jsx(No,{className:"w-4 h-4"}),f.jsxs("span",{children:["",f.jsx("strong",{children:(h=oc.find(x=>x.id===s))==null?void 0:h.name}),"",(g=oc.find(x=>x.id===s))==null?void 0:g.wordCount," "]})]})})]})}):null},T0=({isOpen:t,onSave:e})=>{const[a,s]=k.useState("");return t?f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:f.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full",children:[f.jsx("h2",{className:"text-xl font-bold mb-4 text-sky-700",children:" Gemini API "}),f.jsx("input",{type:"password",className:"w-full border border-slate-300 rounded px-3 py-2 mb-4 focus:outline-none focus:ring-2 focus:ring-sky-400",placeholder:" Gemini API Key...",value:a,onChange:o=>s(o.target.value)}),f.jsx("button",{className:"w-full bg-sky-600 hover:bg-sky-700 text-white font-semibold py-2 rounded transition",onClick:()=>{a.trim()&&(e(a.trim()),s(""))},children:""}),f.jsx("p",{className:"text-xs text-slate-500 mt-3",children:""})]})}):null};var Rs={},Ag;function h_(){if(Ag)return Rs;Ag=1,Object.defineProperty(Rs,"__esModule",{value:!0}),Rs.parse=h,Rs.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,a=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function h(T,S){const N=new u,_=T.length;if(_<2)return N;const E=(S==null?void 0:S.decode)||v;let I=0;do{const V=T.indexOf("=",I);if(V===-1)break;const U=T.indexOf(";",I),$=U===-1?_:U;if(V>$){I=T.lastIndexOf(";",V-1)+1;continue}const q=g(T,I,V),J=x(T,V,q),Q=T.slice(q,J);if(N[Q]===void 0){let se=g(T,V+1,$),X=x(T,$,se);const oe=E(T.slice(se,X));N[Q]=oe}I=$+1}while(I<_);return N}function g(T,S,N){do{const _=T.charCodeAt(S);if(_!==32&&_!==9)return S}while(++S<N);return N}function x(T,S,N){for(;S>N;){const _=T.charCodeAt(--S);if(_!==32&&_!==9)return S+1}return N}function p(T,S,N){const _=(N==null?void 0:N.encode)||encodeURIComponent;if(!t.test(T))throw new TypeError(`argument name is invalid: ${T}`);const E=_(S);if(!e.test(E))throw new TypeError(`argument val is invalid: ${S}`);let I=T+"="+E;if(!N)return I;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);I+="; Max-Age="+N.maxAge}if(N.domain){if(!a.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);I+="; Domain="+N.domain}if(N.path){if(!s.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);I+="; Path="+N.path}if(N.expires){if(!C(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);I+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(I+="; HttpOnly"),N.secure&&(I+="; Secure"),N.partitioned&&(I+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":I+="; Priority=Low";break;case"medium":I+="; Priority=Medium";break;case"high":I+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":I+="; SameSite=Strict";break;case"lax":I+="; SameSite=Lax";break;case"none":I+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return I}function v(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function C(T){return o.call(T)==="[object Date]"}return Rs}h_();var Mg="popstate";function p_(t={}){function e(s,o){let{pathname:u,search:h,hash:g}=s.location;return Rc("",{pathname:u,search:h,hash:g},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function a(s,o){return typeof o=="string"?o:Ps(o)}return y_(e,a,null,t)}function Ze(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Zt(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function g_(){return Math.random().toString(36).substring(2,10)}function kg(t,e){return{usr:t.state,key:t.key,idx:e}}function Rc(t,e,a=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ma(e):e,state:a,key:e&&e.key||s||g_()}}function Ps({pathname:t="/",search:e="",hash:a=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function Ma(t){let e={};if(t){let a=t.indexOf("#");a>=0&&(e.hash=t.substring(a),t=t.substring(0,a));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function y_(t,e,a,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,g="POP",x=null,p=v();p==null&&(p=0,h.replaceState({...h.state,idx:p},""));function v(){return(h.state||{idx:null}).idx}function C(){g="POP";let E=v(),I=E==null?null:E-p;p=E,x&&x({action:g,location:_.location,delta:I})}function T(E,I){g="PUSH";let V=Rc(_.location,E,I);p=v()+1;let U=kg(V,p),$=_.createHref(V);try{h.pushState(U,"",$)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;o.location.assign($)}u&&x&&x({action:g,location:_.location,delta:1})}function S(E,I){g="REPLACE";let V=Rc(_.location,E,I);p=v();let U=kg(V,p),$=_.createHref(V);h.replaceState(U,"",$),u&&x&&x({action:g,location:_.location,delta:0})}function N(E){return x_(E)}let _={get action(){return g},get location(){return t(o,h)},listen(E){if(x)throw new Error("A history only accepts one active listener");return o.addEventListener(Mg,C),x=E,()=>{o.removeEventListener(Mg,C),x=null}},createHref(E){return e(o,E)},createURL:N,encodeLocation(E){let I=N(E);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:T,replace:S,go(E){return h.go(E)}};return _}function x_(t,e=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),Ze(a,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Ps(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=a+s),new URL(s,a)}function S0(t,e,a="/"){return v_(t,e,a,!1)}function v_(t,e,a,s){let o=typeof e=="string"?Ma(e):e,u=Nn(o.pathname||"/",a);if(u==null)return null;let h=w0(t);b_(h);let g=null;for(let x=0;g==null&&x<h.length;++x){let p=R_(u);g=M_(h[x],p,s)}return g}function w0(t,e=[],a=[],s=""){let o=(u,h,g)=>{let x={relativePath:g===void 0?u.path||"":g,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};x.relativePath.startsWith("/")&&(Ze(x.relativePath.startsWith(s),`Absolute route path "${x.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(s.length));let p=Sn([s,x.relativePath]),v=a.concat(x);u.children&&u.children.length>0&&(Ze(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),w0(u.children,e,v,p)),!(u.path==null&&!u.index)&&e.push({path:p,score:E_(p,u.index),routesMeta:v})};return t.forEach((u,h)=>{var g;if(u.path===""||!((g=u.path)!=null&&g.includes("?")))o(u,h);else for(let x of N0(u.path))o(u,h,x)}),e}function N0(t){let e=t.split("/");if(e.length===0)return[];let[a,...s]=e,o=a.endsWith("?"),u=a.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=N0(s.join("/")),g=[];return g.push(...h.map(x=>x===""?u:[u,x].join("/"))),o&&g.push(...h),g.map(x=>t.startsWith("/")&&x===""?"/":x)}function b_(t){t.sort((e,a)=>e.score!==a.score?a.score-e.score:A_(e.routesMeta.map(s=>s.childrenIndex),a.routesMeta.map(s=>s.childrenIndex)))}var C_=/^:[\w-]+$/,T_=3,S_=2,w_=1,N_=10,__=-2,Rg=t=>t==="*";function E_(t,e){let a=t.split("/"),s=a.length;return a.some(Rg)&&(s+=__),e&&(s+=S_),a.filter(o=>!Rg(o)).reduce((o,u)=>o+(C_.test(u)?T_:u===""?w_:N_),s)}function A_(t,e){return t.length===e.length&&t.slice(0,-1).every((s,o)=>s===e[o])?t[t.length-1]-e[e.length-1]:0}function M_(t,e,a=!1){let{routesMeta:s}=t,o={},u="/",h=[];for(let g=0;g<s.length;++g){let x=s[g],p=g===s.length-1,v=u==="/"?e:e.slice(u.length)||"/",C=_o({path:x.relativePath,caseSensitive:x.caseSensitive,end:p},v),T=x.route;if(!C&&p&&a&&!s[s.length-1].route.index&&(C=_o({path:x.relativePath,caseSensitive:x.caseSensitive,end:!1},v)),!C)return null;Object.assign(o,C.params),h.push({params:o,pathname:Sn([u,C.pathname]),pathnameBase:L_(Sn([u,C.pathnameBase])),route:T}),C.pathnameBase!=="/"&&(u=Sn([u,C.pathnameBase]))}return h}function _o(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[a,s]=k_(t.path,t.caseSensitive,t.end),o=e.match(a);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),g=o.slice(1);return{params:s.reduce((p,{paramName:v,isOptional:C},T)=>{if(v==="*"){let N=g[T]||"";h=u.slice(0,u.length-N.length).replace(/(.)\/+$/,"$1")}const S=g[T];return C&&!S?p[v]=void 0:p[v]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:h,pattern:t}}function k_(t,e=!1,a=!0){Zt(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,g,x)=>(s.push({paramName:g,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function R_(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Zt(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Nn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let a=e.endsWith("/")?e.length-1:e.length,s=t.charAt(a);return s&&s!=="/"?null:t.slice(a)||"/"}function D_(t,e="/"){let{pathname:a,search:s="",hash:o=""}=typeof t=="string"?Ma(t):t;return{pathname:a?a.startsWith("/")?a:I_(a,e):e,search:U_(s),hash:O_(o)}}function I_(t,e){let a=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?a.length>1&&a.pop():o!=="."&&a.push(o)}),a.length>1?a.join("/"):"/"}function rc(t,e,a,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function j_(t){return t.filter((e,a)=>a===0||e.route.path&&e.route.path.length>0)}function _0(t){let e=j_(t);return e.map((a,s)=>s===e.length-1?a.pathname:a.pathnameBase)}function E0(t,e,a,s=!1){let o;typeof t=="string"?o=Ma(t):(o={...t},Ze(!o.pathname||!o.pathname.includes("?"),rc("?","pathname","search",o)),Ze(!o.pathname||!o.pathname.includes("#"),rc("#","pathname","hash",o)),Ze(!o.search||!o.search.includes("#"),rc("#","search","hash",o)));let u=t===""||o.pathname==="",h=u?"/":o.pathname,g;if(h==null)g=a;else{let C=e.length-1;if(!s&&h.startsWith("..")){let T=h.split("/");for(;T[0]==="..";)T.shift(),C-=1;o.pathname=T.join("/")}g=C>=0?e[C]:"/"}let x=D_(o,g),p=h&&h!=="/"&&h.endsWith("/"),v=(u||h===".")&&a.endsWith("/");return!x.pathname.endsWith("/")&&(p||v)&&(x.pathname+="/"),x}var Sn=t=>t.join("/").replace(/\/\/+/g,"/"),L_=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),U_=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,O_=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function V_(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var A0=["POST","PUT","PATCH","DELETE"];new Set(A0);var B_=["GET",...A0];new Set(B_);var ka=k.createContext(null);ka.displayName="DataRouter";var Lo=k.createContext(null);Lo.displayName="DataRouterState";var M0=k.createContext({isTransitioning:!1});M0.displayName="ViewTransition";var P_=k.createContext(new Map);P_.displayName="Fetchers";var $_=k.createContext(null);$_.displayName="Await";var on=k.createContext(null);on.displayName="Navigation";var zs=k.createContext(null);zs.displayName="Location";var En=k.createContext({outlet:null,matches:[],isDataRoute:!1});En.displayName="Route";var zc=k.createContext(null);zc.displayName="RouteError";function q_(t,{relative:e}={}){Ze(Gs(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:s}=k.useContext(on),{hash:o,pathname:u,search:h}=Hs(t,{relative:e}),g=u;return a!=="/"&&(g=u==="/"?a:Sn([a,u])),s.createHref({pathname:g,search:h,hash:o})}function Gs(){return k.useContext(zs)!=null}function ni(){return Ze(Gs(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(zs).location}var k0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function R0(t){k.useContext(on).static||k.useLayoutEffect(t)}function D0(){let{isDataRoute:t}=k.useContext(En);return t?tE():z_()}function z_(){Ze(Gs(),"useNavigate() may be used only in the context of a <Router> component.");let t=k.useContext(ka),{basename:e,navigator:a}=k.useContext(on),{matches:s}=k.useContext(En),{pathname:o}=ni(),u=JSON.stringify(_0(s)),h=k.useRef(!1);return R0(()=>{h.current=!0}),k.useCallback((x,p={})=>{if(Zt(h.current,k0),!h.current)return;if(typeof x=="number"){a.go(x);return}let v=E0(x,JSON.parse(u),o,p.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Sn([e,v.pathname])),(p.replace?a.replace:a.push)(v,p.state,p)},[e,a,u,o,t])}k.createContext(null);function Hs(t,{relative:e}={}){let{matches:a}=k.useContext(En),{pathname:s}=ni(),o=JSON.stringify(_0(a));return k.useMemo(()=>E0(t,JSON.parse(o),s,e==="path"),[t,o,s,e])}function G_(t,e){return I0(t,e)}function I0(t,e,a,s){var I;Ze(Gs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=k.useContext(on),{matches:u}=k.useContext(En),h=u[u.length-1],g=h?h.params:{},x=h?h.pathname:"/",p=h?h.pathnameBase:"/",v=h&&h.route;{let V=v&&v.path||"";j0(x,!v||V.endsWith("*")||V.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${x}" (under <Route path="${V}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${V}"> to <Route path="${V==="/"?"*":`${V}/*`}">.`)}let C=ni(),T;if(e){let V=typeof e=="string"?Ma(e):e;Ze(p==="/"||((I=V.pathname)==null?void 0:I.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${V.pathname}" was given in the \`location\` prop.`),T=V}else T=C;let S=T.pathname||"/",N=S;if(p!=="/"){let V=p.replace(/^\//,"").split("/");N="/"+S.replace(/^\//,"").split("/").slice(V.length).join("/")}let _=S0(t,{pathname:N});Zt(v||_!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Zt(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=Z_(_&&_.map(V=>Object.assign({},V,{params:Object.assign({},g,V.params),pathname:Sn([p,o.encodeLocation?o.encodeLocation(V.pathname).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?p:Sn([p,o.encodeLocation?o.encodeLocation(V.pathnameBase).pathname:V.pathnameBase])})),u,a,s);return e&&E?k.createElement(zs.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},E):E}function H_(){let t=eE(),e=V_(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),a=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",t),h=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:u},"ErrorBoundary")," or"," ",k.createElement("code",{style:u},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),a?k.createElement("pre",{style:o},a):null,h)}var F_=k.createElement(H_,null),Y_=class extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?k.createElement(En.Provider,{value:this.props.routeContext},k.createElement(zc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function J_({routeContext:t,match:e,children:a}){let s=k.useContext(ka);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(En.Provider,{value:t},a)}function Z_(t,e=[],a=null,s=null){if(t==null){if(!a)return null;if(a.errors)t=a.matches;else if(e.length===0&&!a.initialized&&a.matches.length>0)t=a.matches;else return null}let o=t,u=a==null?void 0:a.errors;if(u!=null){let x=o.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);Ze(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,x+1))}let h=!1,g=-1;if(a)for(let x=0;x<o.length;x++){let p=o[x];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(g=x),p.route.id){let{loaderData:v,errors:C}=a,T=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!C||C[p.route.id]===void 0);if(p.route.lazy||T){h=!0,g>=0?o=o.slice(0,g+1):o=[o[0]];break}}}return o.reduceRight((x,p,v)=>{let C,T=!1,S=null,N=null;a&&(C=u&&p.route.id?u[p.route.id]:void 0,S=p.route.errorElement||F_,h&&(g<0&&v===0?(j0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,N=null):g===v&&(T=!0,N=p.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,v+1)),E=()=>{let I;return C?I=S:T?I=N:p.route.Component?I=k.createElement(p.route.Component,null):p.route.element?I=p.route.element:I=x,k.createElement(J_,{match:p,routeContext:{outlet:x,matches:_,isDataRoute:a!=null},children:I})};return a&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?k.createElement(Y_,{location:a.location,revalidation:a.revalidation,component:S,error:C,children:E(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):E()},null)}function Gc(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function K_(t){let e=k.useContext(ka);return Ze(e,Gc(t)),e}function Q_(t){let e=k.useContext(Lo);return Ze(e,Gc(t)),e}function X_(t){let e=k.useContext(En);return Ze(e,Gc(t)),e}function Hc(t){let e=X_(t),a=e.matches[e.matches.length-1];return Ze(a.route.id,`${t} can only be used on routes that contain a unique "id"`),a.route.id}function W_(){return Hc("useRouteId")}function eE(){var s;let t=k.useContext(zc),e=Q_("useRouteError"),a=Hc("useRouteError");return t!==void 0?t:(s=e.errors)==null?void 0:s[a]}function tE(){let{router:t}=K_("useNavigate"),e=Hc("useNavigate"),a=k.useRef(!1);return R0(()=>{a.current=!0}),k.useCallback(async(o,u={})=>{Zt(a.current,k0),a.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...u}))},[t,e])}var Dg={};function j0(t,e,a){!e&&!Dg[t]&&(Dg[t]=!0,Zt(!1,a))}k.memo(nE);function nE({routes:t,future:e,state:a}){return I0(t,void 0,a,e)}function ga(t){Ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function iE({basename:t="/",children:e=null,location:a,navigationType:s="POP",navigator:o,static:u=!1}){Ze(!Gs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=t.replace(/^\/*/,"/"),g=k.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof a=="string"&&(a=Ma(a));let{pathname:x="/",search:p="",hash:v="",state:C=null,key:T="default"}=a,S=k.useMemo(()=>{let N=Nn(x,h);return N==null?null:{location:{pathname:N,search:p,hash:v,state:C,key:T},navigationType:s}},[h,x,p,v,C,T,s]);return Zt(S!=null,`<Router basename="${h}"> is not able to match the URL "${x}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:k.createElement(on.Provider,{value:g},k.createElement(zs.Provider,{children:e,value:S}))}function aE({children:t,location:e}){return G_(Dc(t),e)}function Dc(t,e=[]){let a=[];return k.Children.forEach(t,(s,o)=>{if(!k.isValidElement(s))return;let u=[...e,o];if(s.type===k.Fragment){a.push.apply(a,Dc(s.props.children,u));return}Ze(s.type===ga,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ze(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Dc(s.props.children,u)),a.push(h)}),a}var ho="get",po="application/x-www-form-urlencoded";function Uo(t){return t!=null&&typeof t.tagName=="string"}function sE(t){return Uo(t)&&t.tagName.toLowerCase()==="button"}function lE(t){return Uo(t)&&t.tagName.toLowerCase()==="form"}function oE(t){return Uo(t)&&t.tagName.toLowerCase()==="input"}function rE(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function uE(t,e){return t.button===0&&(!e||e==="_self")&&!rE(t)}function Ic(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,a)=>{let s=t[a];return e.concat(Array.isArray(s)?s.map(o=>[a,o]):[[a,s]])},[]))}function cE(t,e){let a=Ic(t);return e&&e.forEach((s,o)=>{a.has(o)||e.getAll(o).forEach(u=>{a.append(o,u)})}),a}var uo=null;function dE(){if(uo===null)try{new FormData(document.createElement("form"),0),uo=!1}catch{uo=!0}return uo}var fE=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function uc(t){return t!=null&&!fE.has(t)?(Zt(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${po}"`),null):t}function mE(t,e){let a,s,o,u,h;if(lE(t)){let g=t.getAttribute("action");s=g?Nn(g,e):null,a=t.getAttribute("method")||ho,o=uc(t.getAttribute("enctype"))||po,u=new FormData(t)}else if(sE(t)||oE(t)&&(t.type==="submit"||t.type==="image")){let g=t.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let x=t.getAttribute("formaction")||g.getAttribute("action");if(s=x?Nn(x,e):null,a=t.getAttribute("formmethod")||g.getAttribute("method")||ho,o=uc(t.getAttribute("formenctype"))||uc(g.getAttribute("enctype"))||po,u=new FormData(g,t),!dE()){let{name:p,type:v,value:C}=t;if(v==="image"){let T=p?`${p}.`:"";u.append(`${T}x`,"0"),u.append(`${T}y`,"0")}else p&&u.append(p,C)}}else{if(Uo(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=ho,s=null,o=po,h=t}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:a.toLowerCase(),encType:o,formData:u,body:h}}function Fc(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function hE(t,e){if(t.id in e)return e[t.id];try{let a=await import(t.module);return e[t.id]=a,a}catch(a){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pE(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function gE(t,e,a){let s=await Promise.all(t.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await hE(u,a);return h.links?h.links():[]}return[]}));return bE(s.flat(1).filter(pE).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Ig(t,e,a,s,o,u){let h=(x,p)=>a[p]?x.route.id!==a[p].route.id:!0,g=(x,p)=>{var v;return a[p].pathname!==x.pathname||((v=a[p].route.path)==null?void 0:v.endsWith("*"))&&a[p].params["*"]!==x.params["*"]};return u==="assets"?e.filter((x,p)=>h(x,p)||g(x,p)):u==="data"?e.filter((x,p)=>{var C;let v=s.routes[x.route.id];if(!v||!v.hasLoader)return!1;if(h(x,p)||g(x,p))return!0;if(x.route.shouldRevalidate){let T=x.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((C=a[0])==null?void 0:C.params)||{},nextUrl:new URL(t,window.origin),nextParams:x.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function yE(t,e,{includeHydrateFallback:a}={}){return xE(t.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),a&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function xE(t){return[...new Set(t)]}function vE(t){let e={},a=Object.keys(t).sort();for(let s of a)e[s]=t[s];return e}function bE(t,e){let a=new Set;return new Set(e),t.reduce((s,o)=>{let u=JSON.stringify(vE(o));return a.has(u)||(a.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var CE=new Set([100,101,204,205]);function TE(t,e){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return a.pathname==="/"?a.pathname="_root.data":e&&Nn(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.data`:a.pathname=`${a.pathname.replace(/\/$/,"")}.data`,a}function L0(){let t=k.useContext(ka);return Fc(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function SE(){let t=k.useContext(Lo);return Fc(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Yc=k.createContext(void 0);Yc.displayName="FrameworkContext";function U0(){let t=k.useContext(Yc);return Fc(t,"You must render this element inside a <HydratedRouter> element"),t}function wE(t,e){let a=k.useContext(Yc),[s,o]=k.useState(!1),[u,h]=k.useState(!1),{onFocus:g,onBlur:x,onMouseEnter:p,onMouseLeave:v,onTouchStart:C}=e,T=k.useRef(null);k.useEffect(()=>{if(t==="render"&&h(!0),t==="viewport"){let _=I=>{I.forEach(V=>{h(V.isIntersecting)})},E=new IntersectionObserver(_,{threshold:.5});return T.current&&E.observe(T.current),()=>{E.disconnect()}}},[t]),k.useEffect(()=>{if(s){let _=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(_)}}},[s]);let S=()=>{o(!0)},N=()=>{o(!1),h(!1)};return a?t!=="intent"?[u,T,{}]:[u,T,{onFocus:Ds(g,S),onBlur:Ds(x,N),onMouseEnter:Ds(p,S),onMouseLeave:Ds(v,N),onTouchStart:Ds(C,S)}]:[!1,T,{}]}function Ds(t,e){return a=>{t&&t(a),a.defaultPrevented||e(a)}}function NE({page:t,...e}){let{router:a}=L0(),s=k.useMemo(()=>S0(a.routes,t,a.basename),[a.routes,t,a.basename]);return s?k.createElement(EE,{page:t,matches:s,...e}):null}function _E(t){let{manifest:e,routeModules:a}=U0(),[s,o]=k.useState([]);return k.useEffect(()=>{let u=!1;return gE(t,e,a).then(h=>{u||o(h)}),()=>{u=!0}},[t,e,a]),s}function EE({page:t,matches:e,...a}){let s=ni(),{manifest:o,routeModules:u}=U0(),{basename:h}=L0(),{loaderData:g,matches:x}=SE(),p=k.useMemo(()=>Ig(t,e,x,o,s,"data"),[t,e,x,o,s]),v=k.useMemo(()=>Ig(t,e,x,o,s,"assets"),[t,e,x,o,s]),C=k.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let N=new Set,_=!1;if(e.forEach(I=>{var U;let V=o.routes[I.route.id];!V||!V.hasLoader||(!p.some($=>$.route.id===I.route.id)&&I.route.id in g&&((U=u[I.route.id])!=null&&U.shouldRevalidate)||V.hasClientLoader?_=!0:N.add(I.route.id))}),N.size===0)return[];let E=TE(t,h);return _&&N.size>0&&E.searchParams.set("_routes",e.filter(I=>N.has(I.route.id)).map(I=>I.route.id).join(",")),[E.pathname+E.search]},[h,g,s,o,p,e,t,u]),T=k.useMemo(()=>yE(v,o),[v,o]),S=_E(v);return k.createElement(k.Fragment,null,C.map(N=>k.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...a})),T.map(N=>k.createElement("link",{key:N,rel:"modulepreload",href:N,...a})),S.map(({key:N,link:_})=>k.createElement("link",{key:N,..._})))}function AE(...t){return e=>{t.forEach(a=>{typeof a=="function"?a(e):a!=null&&(a.current=e)})}}var O0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{O0&&(window.__reactRouterVersion="7.6.2")}catch{}function ME({basename:t,children:e,window:a}){let s=k.useRef();s.current==null&&(s.current=p_({window:a,v5Compat:!0}));let o=s.current,[u,h]=k.useState({action:o.action,location:o.location}),g=k.useCallback(x=>{k.startTransition(()=>h(x))},[h]);return k.useLayoutEffect(()=>o.listen(g),[o,g]),k.createElement(iE,{basename:t,children:e,location:u.location,navigationType:u.action,navigator:o})}var V0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,B0=k.forwardRef(function({onClick:e,discover:a="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:g,target:x,to:p,preventScrollReset:v,viewTransition:C,...T},S){let{basename:N}=k.useContext(on),_=typeof p=="string"&&V0.test(p),E,I=!1;if(typeof p=="string"&&_&&(E=p,O0))try{let X=new URL(window.location.href),oe=p.startsWith("//")?new URL(X.protocol+p):new URL(p),te=Nn(oe.pathname,N);oe.origin===X.origin&&te!=null?p=te+oe.search+oe.hash:I=!0}catch{Zt(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let V=q_(p,{relative:o}),[U,$,q]=wE(s,T),J=IE(p,{replace:h,state:g,target:x,preventScrollReset:v,relative:o,viewTransition:C});function Q(X){e&&e(X),X.defaultPrevented||J(X)}let se=k.createElement("a",{...T,...q,href:E||V,onClick:I||u?e:Q,ref:AE(S,$),target:x,"data-discover":!_&&a==="render"?"true":void 0});return U&&!_?k.createElement(k.Fragment,null,se,k.createElement(NE,{page:V})):se});B0.displayName="Link";var kE=k.forwardRef(function({"aria-current":e="page",caseSensitive:a=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:g,children:x,...p},v){let C=Hs(h,{relative:p.relative}),T=ni(),S=k.useContext(Lo),{navigator:N,basename:_}=k.useContext(on),E=S!=null&&VE(C)&&g===!0,I=N.encodeLocation?N.encodeLocation(C).pathname:C.pathname,V=T.pathname,U=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;a||(V=V.toLowerCase(),U=U?U.toLowerCase():null,I=I.toLowerCase()),U&&_&&(U=Nn(U,_)||U);const $=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let q=V===I||!o&&V.startsWith(I)&&V.charAt($)==="/",J=U!=null&&(U===I||!o&&U.startsWith(I)&&U.charAt(I.length)==="/"),Q={isActive:q,isPending:J,isTransitioning:E},se=q?e:void 0,X;typeof s=="function"?X=s(Q):X=[s,q?"active":null,J?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let oe=typeof u=="function"?u(Q):u;return k.createElement(B0,{...p,"aria-current":se,className:X,ref:v,style:oe,to:h,viewTransition:g},typeof x=="function"?x(Q):x)});kE.displayName="NavLink";var RE=k.forwardRef(({discover:t="render",fetcherKey:e,navigate:a,reloadDocument:s,replace:o,state:u,method:h=ho,action:g,onSubmit:x,relative:p,preventScrollReset:v,viewTransition:C,...T},S)=>{let N=UE(),_=OE(g,{relative:p}),E=h.toLowerCase()==="get"?"get":"post",I=typeof g=="string"&&V0.test(g),V=U=>{if(x&&x(U),U.defaultPrevented)return;U.preventDefault();let $=U.nativeEvent.submitter,q=($==null?void 0:$.getAttribute("formmethod"))||h;N($||U.currentTarget,{fetcherKey:e,method:q,navigate:a,replace:o,state:u,relative:p,preventScrollReset:v,viewTransition:C})};return k.createElement("form",{ref:S,method:E,action:_,onSubmit:s?x:V,...T,"data-discover":!I&&t==="render"?"true":void 0})});RE.displayName="Form";function DE(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function P0(t){let e=k.useContext(ka);return Ze(e,DE(t)),e}function IE(t,{target:e,replace:a,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let g=D0(),x=ni(),p=Hs(t,{relative:u});return k.useCallback(v=>{if(uE(v,e)){v.preventDefault();let C=a!==void 0?a:Ps(x)===Ps(p);g(t,{replace:C,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[x,g,p,a,s,e,t,o,u,h])}function Oo(t){Zt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=k.useRef(Ic(t)),a=k.useRef(!1),s=ni(),o=k.useMemo(()=>cE(s.search,a.current?null:e.current),[s.search]),u=D0(),h=k.useCallback((g,x)=>{const p=Ic(typeof g=="function"?g(o):g);a.current=!0,u("?"+p,x)},[u,o]);return[o,h]}var jE=0,LE=()=>`__${String(++jE)}__`;function UE(){let{router:t}=P0("useSubmit"),{basename:e}=k.useContext(on),a=W_();return k.useCallback(async(s,o={})=>{let{action:u,method:h,encType:g,formData:x,body:p}=mE(s,e);if(o.navigate===!1){let v=o.fetcherKey||LE();await t.fetch(v,a,o.action||u,{preventScrollReset:o.preventScrollReset,formData:x,body:p,formMethod:o.method||h,formEncType:o.encType||g,flushSync:o.flushSync})}else await t.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:x,body:p,formMethod:o.method||h,formEncType:o.encType||g,replace:o.replace,state:o.state,fromRouteId:a,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,a])}function OE(t,{relative:e}={}){let{basename:a}=k.useContext(on),s=k.useContext(En);Ze(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Hs(t||".",{relative:e})},h=ni();if(t==null){u.search=h.search;let g=new URLSearchParams(u.search),x=g.getAll("index");if(x.some(v=>v==="")){g.delete("index"),x.filter(C=>C).forEach(C=>g.append("index",C));let v=g.toString();u.search=v?`?${v}`:""}}return(!t||t===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(u.pathname=u.pathname==="/"?a:Sn([a,u.pathname])),Ps(u)}function VE(t,e={}){let a=k.useContext(M0);Ze(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=P0("useViewTransitionState"),o=Hs(t,{relative:e.relative});if(!a.isTransitioning)return!1;let u=Nn(a.currentLocation.pathname,s)||a.currentLocation.pathname,h=Nn(a.nextLocation.pathname,s)||a.nextLocation.pathname;return _o(o.pathname,h)!=null||_o(o.pathname,u)!=null}[...CE];const BE=({quiz:t,topic:e,apiKey:a,supportsDiagnostic:s=!1,quizBinId:o})=>{const[u,h]=k.useState(lt.Easy),[g,x]=k.useState([]),[p,v]=k.useState(!1),[C,T]=k.useState(""),[S,N]=k.useState(!1),[_,E]=k.useState(""),[I,V]=k.useState(!1),U=k.useCallback((te,Z,de,re,ee,j)=>{if(!s)return;const K=`${u}-${te}-${Z}`,le={questionId:K,questionType:te,difficulty:u.toLowerCase(),userAnswer:de,correctAnswer:re,isCorrect:ee,responseTime:j,attempts:1};x(_e=>{const M=_e.findIndex(F=>F.questionId===K);if(M>=0){const F=[..._e];return F[M]={...F[M],userAnswer:de,isCorrect:ee,attempts:(F[M].attempts||1)+1},F}return[..._e,le]})},[u,s]),$=(te,Z)=>{switch(te){case"trueFalse":return Z.isTrue;case"multipleChoice":return Z.options[Z.correctAnswerIndex];case"fillInTheBlanks":return Z.correctAnswers;case"sentenceScramble":return Z.originalSentence;case"memoryCardGame":return Z.pairs;default:return null}},q=()=>{const te=u.toLowerCase();return g.filter(Z=>Z.difficulty===te)},J=k.useCallback(async()=>{const te=q();if(te.length===0){alert("");return}if(!C.trim()){V(!0);return}N(!0);try{const Z=d0(te),de=u===lt.Easy?"":u===lt.Normal?"":"",re=await u_({studentName:C.trim(),topic:e,difficulty:de,responses:te,overallScore:Z,completedAt:new Date().toISOString(),quizBinId:o,metadata:{totalQuestions:te.length,correctAnswers:te.filter(K=>K.isCorrect).length}}),j=`${window.location.origin}/ai-page-gen/student-results?binId=${re}`;E(j),navigator.clipboard&&window.isSecureContext?(await navigator.clipboard.writeText(j),alert("")):alert("")}catch(Z){console.error(":",Z),alert("")}finally{N(!1)}},[q,C,e,u,o]);if(p&&s&&a&&q().length>0)return f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[f.jsx("div",{className:"bg-white shadow-sm border-b",children:f.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[f.jsx(Os,{className:"w-8 h-8 text-indigo-600"}),f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:""}),f.jsxs("span",{className:"px-3 py-1 bg-indigo-100 text-indigo-800 text-sm font-medium rounded-full",children:[u===lt.Easy?"":u===lt.Normal?"":""," "]})]}),f.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[f.jsx(Ai,{className:"w-5 h-5"}),f.jsx("span",{className:"text-lg font-medium",children:e})]})]})}),f.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:f.jsx($c,{topic:`${e} (${u===lt.Easy?"":u===lt.Normal?"":""})`,apiKey:a,mode:"student",initialResponses:q(),onClose:()=>v(!1),onRetakeQuiz:()=>{const te=u.toLowerCase();x(Z=>Z.filter(de=>de.difficulty!==te)),v(!1)},onContinueLearning:()=>v(!1)})})]});if(!t)return f.jsxs("div",{className:"text-center py-12",children:[f.jsx(Us,{className:"w-16 h-16 text-slate-400 mx-auto mb-4"}),f.jsx("p",{className:"text-slate-600 text-lg",children:""})]});const Q=t[u],se=[{key:lt.Easy,label:"",color:"bg-green-500 hover:bg-green-600"},{key:lt.Normal,label:"",color:"bg-yellow-500 hover:bg-yellow-600"},{key:lt.Hard,label:"",color:"bg-red-500 hover:bg-red-600"}],X={trueFalse:"",multipleChoice:"",fillInTheBlanks:"",sentenceScramble:"",memoryCardGame:""},oe=(te,Z)=>{if(!Z||Z.length===0)return null;const de=re=>s?(ee,j)=>{const K=$(te,Z[re]);U(te,re,ee,K,j)}:void 0;switch(te){case"trueFalse":return f.jsx("div",{className:"space-y-4",children:Z.map((re,ee)=>f.jsx(f0,{question:re,itemNumber:ee+1,onAnswer:de(ee)},`${u}-tf-${ee}`))});case"multipleChoice":return f.jsx("div",{className:"space-y-4",children:Z.map((re,ee)=>f.jsx(m0,{question:re,itemNumber:ee+1,onAnswer:de(ee)},`${u}-mc-${ee}`))});case"fillInTheBlanks":return f.jsx("div",{className:"space-y-4",children:Z.map((re,ee)=>f.jsx(h0,{question:re,itemNumber:ee+1,onAnswer:de(ee)},`${u}-fb-${ee}`))});case"sentenceScramble":return f.jsx("div",{className:"space-y-4",children:Z.map((re,ee)=>f.jsx(p0,{question:re,itemNumber:ee+1,onAnswer:de(ee)},`${u}-ss-${ee}`))});case"memoryCardGame":return f.jsx("div",{className:"space-y-4",children:Z.map((re,ee)=>f.jsx(g0,{question:re,itemNumber:ee+1,onAnswer:de(ee)},`${u}-mcg-${ee}`))});default:return null}};return f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[f.jsx("div",{className:"bg-white shadow-sm border-b",children:f.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-6",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[f.jsx(Us,{className:"w-8 h-8 text-indigo-600"}),f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:""})]}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[f.jsx(Ai,{className:"w-5 h-5"}),f.jsx("span",{className:"text-lg font-medium",children:e}),s&&f.jsx("span",{className:"ml-2 px-2 py-1 bg-green-100 text-green-700 text-xs rounded-full",children:" AI "})]}),f.jsxs("div",{className:"flex items-center gap-3",children:[s&&q().length>0&&f.jsxs("button",{onClick:()=>v(!0),className:"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:[f.jsx(Os,{className:"w-5 h-5"})," (",q().length,")"]}),q().length>0&&f.jsxs("button",{onClick:J,disabled:S,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 1 0 0 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186 9.566-5.314m-9.566 7.5 9.566 5.314m0 0a2.25 2.25 0 1 0 3.935 2.186 2.25 2.25 0 0 0-3.935-2.186Zm0-11.314a2.25 2.25 0 1 0 3.935-2.186 2.25 2.25 0 0 0-3.935 2.186Z"})}),S?"...":` (${q().length})`]})]})]})]})}),f.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[s&&f.jsx("div",{className:"mb-6 p-4 bg-blue-50 border-l-4 border-blue-400 rounded-r-lg",children:f.jsxs("div",{className:"flex items-start",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx(Os,{className:"w-5 h-5 text-blue-400 mt-0.5"})}),f.jsxs("div",{className:"ml-3",children:[f.jsx("p",{className:"text-sm text-blue-700 font-medium",children:" AI "}),f.jsx("p",{className:"text-xs text-blue-600 mt-1",children:""})]})]})}),f.jsxs("div",{className:"mb-8",children:[f.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:""}),f.jsx("div",{className:"flex flex-wrap gap-3",children:se.map(({key:te,label:Z,color:de})=>f.jsx("button",{onClick:()=>h(te),className:`px-6 py-3 rounded-lg text-white font-medium transition-all transform hover:scale-105 shadow-md
                  ${u===te?`${de} ring-4 ring-opacity-50`:"bg-gray-400 hover:bg-gray-500"}
                `,children:Z},te))})]}),Q&&f.jsx("div",{className:"space-y-8",children:Object.keys(X).map(te=>{const Z=Q[te],de=oe(te,Z);return de?f.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-6 pb-3 border-b border-gray-200",children:[f.jsx("div",{className:"w-3 h-3 bg-indigo-500 rounded-full"}),f.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:X[te]})]}),de]},te):null})}),(!Q||Object.values(Q).every(te=>!te||te.length===0))&&f.jsx("div",{className:"text-center py-12",children:f.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[f.jsx(Us,{className:"w-16 h-16 text-slate-400 mx-auto mb-4"}),f.jsx("p",{className:"text-slate-600 text-lg",children:""}),f.jsx("p",{className:"text-slate-500 text-sm mt-2",children:""})]})})]}),I&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:f.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:""}),f.jsx("p",{className:"text-gray-600 mb-4",children:""}),f.jsx("input",{type:"text",value:C,onChange:te=>T(te.target.value),placeholder:"",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent mb-4",onKeyPress:te=>te.key==="Enter"&&J()}),f.jsxs("div",{className:"flex gap-3 justify-end",children:[f.jsx("button",{onClick:()=>V(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:""}),f.jsx("button",{onClick:J,disabled:!C.trim()||S,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:S?"...":""})]})]})}),_&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:f.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-lg w-full",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:" "}),f.jsx("p",{className:"text-gray-600 mb-4",children:""}),f.jsx("div",{className:"bg-gray-50 p-3 rounded-lg mb-4",children:f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("input",{type:"text",value:_,readOnly:!0,className:"flex-1 px-3 py-2 bg-white border border-gray-300 rounded text-sm"}),f.jsx("button",{onClick:async()=>{navigator.clipboard&&window.isSecureContext&&(await navigator.clipboard.writeText(_),alert(""))},className:"px-3 py-2 bg-blue-600 text-white rounded text-sm hover:bg-blue-700 transition-colors",children:""})]})}),f.jsx("div",{className:"bg-blue-50 p-3 rounded-lg mb-4",children:f.jsxs("p",{className:"text-sm text-blue-700",children:[" ",f.jsx("strong",{children:""}),f.jsx("br",{})," ",C," ",e,"(",u===lt.Easy?"":u===lt.Normal?"":"",")  AI "]})}),f.jsx("div",{className:"flex justify-end",children:f.jsx("button",{onClick:()=>E(""),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:""})})]})}),f.jsx("footer",{className:"bg-white border-t mt-12 py-6",children:f.jsx("div",{className:"max-w-4xl mx-auto px-4 text-center",children:f.jsx("p",{className:"text-sm text-gray-500",children:" AI   "})})})]})},PE=()=>{const[t]=Oo(),e=t.get("binId"),[a,s]=Ue.useState(null),[o,u]=Ue.useState(""),[h,g]=Ue.useState(""),[x,p]=Ue.useState(!1),[v,C]=Ue.useState(!1),[T,S]=Ue.useState("");return Ue.useEffect(()=>{if(!e){S("ID");return}(async()=>{C(!0);try{const _=await l_(e);s(_.quiz),u(_.topic);let E=_.apiKey||"";try{const I=await b0(t);I&&(E=I,console.log(" URL  API Key "))}catch(I){console.warn(" URL API Key :",I)}g(E),p(!!E)}catch(_){S(_.message||"")}finally{C(!1)}})()},[e,t]),v?f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx(Aa,{}),f.jsx("p",{className:"mt-4 text-gray-600",children:"..."})]})}):T?f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center",children:f.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md mx-4 text-center",children:[f.jsx("div",{className:"text-red-500 text-6xl mb-4",children:""}),f.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:""}),f.jsx("p",{className:"text-gray-600 mb-4",children:T}),f.jsx("p",{className:"text-sm text-gray-500",children:""})]})}):!a||!o?f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center",children:f.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md mx-4 text-center",children:[f.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:""}),f.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:""}),f.jsx("p",{className:"text-gray-600",children:""})]})}):f.jsx(BE,{quiz:a,topic:o,apiKey:h,supportsDiagnostic:x,quizBinId:e})},$E=()=>{const[t]=Oo(),[e,a]=k.useState(null),[s,o]=k.useState(!0),[u,h]=k.useState(null),[g,x]=k.useState(""),[p,v]=k.useState("manual"),C=t.get("binId");k.useEffect(()=>{(async()=>{if(!C){h(" ID"),o(!1);return}try{o(!0);const N=await r_(C);a(N.writingPractice);try{const _=await b0(t);_&&(x(_),v("url"),localStorage.setItem("geminiApiKey",_),console.log(" URL  API Key  AI "))}catch(_){console.warn(" URL API Key :",_)}}catch(N){console.error(":",N),h("")}finally{o(!1)}})()},[C,t]),k.useEffect(()=>{if(!g){const S=localStorage.getItem("geminiApiKey");S&&(x(S),v("localStorage"))}},[]);const T=S=>{S.preventDefault();const N=g.trim();N&&(localStorage.setItem("geminiApiKey",N),x(N),v("manual"))};return s?f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-100 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx(Aa,{}),f.jsx("p",{className:"mt-4 text-gray-600",children:"..."})]})}):u?f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-100 flex items-center justify-center p-4",children:f.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-16 h-16 text-red-500 mx-auto mb-4",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})}),f.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:""}),f.jsx("p",{className:"text-gray-600 mb-6",children:u}),f.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:""})]})}):f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-100",children:f.jsxs("div",{className:"container mx-auto px-4 py-8",children:[f.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-8",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"flex items-center justify-center mb-4",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-12 h-12 text-blue-600",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"})})}),f.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:" "}),f.jsx("p",{className:"text-gray-600",children:" AI "})]}),!g&&f.jsxs("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[f.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-yellow-600 mt-0.5 flex-shrink-0",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"font-medium text-yellow-800 mb-1",children:" API Key  AI "}),f.jsxs("p",{className:"text-sm text-yellow-700 mb-3",children:[" Google Gemini API Key  AI ",f.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"underline ml-1",children:" API Key"})]})]})]}),f.jsxs("form",{onSubmit:T,className:"flex gap-3",children:[f.jsx("input",{type:"password",value:g,onChange:S=>x(S.target.value),placeholder:" Gemini API Key",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),f.jsx("button",{type:"submit",disabled:!g.trim(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:""})]})]}),g&&f.jsx("div",{className:"mt-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2 text-green-700",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),f.jsxs("div",{children:[f.jsx("span",{className:"text-sm font-medium",children:"API Key  AI "}),p==="url"&&f.jsxs("div",{className:"text-xs text-green-600 mt-1 flex items-center gap-1",children:[f.jsx("span",{children:""}),f.jsx("span",{children:" -  AI "})]}),p==="localStorage"&&f.jsxs("div",{className:"text-xs text-green-600 mt-1 flex items-center gap-1",children:[f.jsx("span",{children:""}),f.jsx("span",{children:""})]})]})]}),f.jsx("button",{onClick:()=>{localStorage.removeItem("geminiApiKey"),x(""),v("manual")},className:"text-sm text-green-600 hover:text-green-800 underline",children:""})]})})]}),e&&f.jsx(y0,{content:e,apiKey:g,isStudentMode:!0}),f.jsxs("div",{className:"mt-8 text-center text-sm text-gray-500",children:[f.jsx("p",{children:"  Google Gemini AI "}),f.jsx("p",{className:"mt-1",children:"  AI "})]})]})})},qE=()=>{const[t]=Oo(),e=t.get("binId"),[a,s]=k.useState(null),[o,u]=k.useState(!0),[h,g]=k.useState(null),[x,p]=k.useState(""),[v,C]=k.useState(!1),[T,S]=k.useState(!1);k.useEffect(()=>{(async()=>{if(!e){g("ID"),u(!1);return}try{u(!0);const $=await c_(e);s($)}catch($){console.error(":",$),g($ instanceof Error?$.message:"")}finally{u(!1)}})()},[e]),k.useEffect(()=>{const U=localStorage.getItem("geminiApiKey")||localStorage.getItem("gemini_api_key");U?(p(U),console.log(" localStorage  API Key")):console.log(" API Key")},[]);const N=U=>{U.preventDefault();const $=x.trim();$&&(localStorage.setItem("geminiApiKey",$),p($),S(!1))},_=()=>{if(!x){S(!0);return}C(!0)};if(o)return f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-100 flex items-center justify-center",children:f.jsxs("div",{className:"text-center",children:[f.jsx(Aa,{}),f.jsx("p",{className:"mt-4 text-gray-600",children:"..."})]})});if(h)return f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-pink-100 flex items-center justify-center p-4",children:f.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-16 h-16 text-red-500 mx-auto mb-4",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})}),f.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:""}),f.jsx("p",{className:"text-gray-600 mb-6",children:h}),f.jsx("button",{onClick:()=>window.location.reload(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:""})]})});if(v&&a)return f.jsx($c,{topic:`${a.topic} (${a.difficulty}) - ${a.studentName}`,apiKey:x,mode:"teacher",initialResponses:a.responses,onClose:()=>C(!1)});if(!a)return f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center p-4",children:f.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 max-w-md w-full text-center",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-16 h-16 text-gray-400 mx-auto mb-4",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})}),f.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:""}),f.jsx("p",{className:"text-gray-600",children:""})]})});const E=a.responses.filter(U=>U.isCorrect).length,I=a.responses.length,V=new Date(a.completedAt).toLocaleString("zh-TW");return f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-100",children:[f.jsx("div",{className:"bg-white shadow-sm border-b",children:f.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[f.jsx(Ai,{className:"w-8 h-8 text-blue-600"}),f.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:""})]}),f.jsx("div",{className:"flex items-center gap-2 text-gray-600",children:f.jsx("span",{className:"text-lg font-medium",children:""})})]})}),f.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[f.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsxs("div",{children:[f.jsxs("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:[" ",a.studentName||""," "]}),f.jsxs("div",{className:"flex items-center gap-4 text-gray-600",children:[f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(Ai,{className:"w-4 h-4"}),f.jsxs("span",{children:["",a.topic]})]}),f.jsx("div",{className:"flex items-center gap-1",children:f.jsxs("span",{children:["",a.difficulty]})}),f.jsxs("div",{className:"flex items-center gap-1",children:[f.jsx(zN,{className:"w-4 h-4"}),f.jsxs("span",{children:["",V]})]})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsxs("div",{className:"text-3xl font-bold text-blue-600 mb-1",children:[a.overallScore,"%"]}),f.jsxs("div",{className:"text-sm text-gray-600",children:[E,"/",I," "]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[f.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(_i,{className:"w-8 h-8 text-green-600"}),f.jsxs("div",{children:[f.jsx("div",{className:"text-2xl font-bold text-green-700",children:E}),f.jsx("div",{className:"text-sm text-green-600",children:""})]})]})}),f.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Ei,{className:"w-8 h-8 text-red-600"}),f.jsxs("div",{children:[f.jsx("div",{className:"text-2xl font-bold text-red-700",children:I-E}),f.jsx("div",{className:"text-sm text-red-600",children:""})]})]})}),f.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx(Os,{className:"w-8 h-8 text-blue-600"}),f.jsxs("div",{children:[f.jsxs("div",{className:"text-2xl font-bold text-blue-700",children:[a.overallScore,"%"]}),f.jsx("div",{className:"text-sm text-blue-600",children:""})]})]})})]}),f.jsxs("div",{className:"flex flex-col gap-4",children:[f.jsxs("div",{className:"flex gap-4 items-center",children:[f.jsxs("button",{onClick:_,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg hover:from-indigo-700 hover:to-purple-700 transition-all font-medium",children:[f.jsx(Os,{className:"w-5 h-5"})," AI "]}),x?f.jsx("div",{className:"text-sm text-green-600 flex items-center gap-1",children:" API Key  AI "}):f.jsx("div",{className:"text-sm text-amber-600 flex items-center gap-1",children:"  API Key  AI "})]}),x&&f.jsx("div",{className:"text-xs text-gray-500",children:"  API Key"})]})]}),f.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[f.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:" "}),f.jsx("div",{className:"space-y-4",children:a.responses.map((U,$)=>{const q=(J,Q)=>{if(Q==="memoryCardGame"){if(Array.isArray(J))return f.jsxs("div",{className:"space-y-1",children:[f.jsx("div",{className:"font-medium text-gray-700 mb-2",children:":"}),J.map((se,X)=>f.jsxs("div",{className:"text-xs bg-gray-100 p-2 rounded flex justify-between",children:[f.jsxs("span",{children:[" ",se.question||se.card1||""]}),f.jsx("span",{children:""}),f.jsxs("span",{children:[" ",se.answer||se.card2||""]})]},X))]});if(typeof J=="number")return`: ${J}`}return typeof J=="object"?JSON.stringify(J,null,2):String(J)};return f.jsxs("div",{className:`p-4 rounded-lg border-2 ${U.isCorrect?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[U.isCorrect?f.jsx(_i,{className:"w-5 h-5 text-green-600"}):f.jsx(Ei,{className:"w-5 h-5 text-red-600"}),f.jsxs("span",{className:"font-medium text-gray-700",children:[" ",$+1,"  (",U.questionType==="memoryCardGame"?"":U.questionType,")"]}),f.jsxs("span",{className:"text-sm text-gray-500",children:[": ",U.difficulty]})]}),f.jsx("div",{className:"text-sm text-gray-500",children:U.attempts&&U.attempts>1&&` ${U.attempts} `})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[f.jsxs("div",{children:[f.jsx("div",{className:"text-gray-600 mb-1",children:":"}),f.jsx("div",{className:"font-medium text-gray-800",children:q(U.userAnswer,U.questionType)})]}),f.jsxs("div",{children:[f.jsx("div",{className:"text-gray-600 mb-1",children:U.questionType==="memoryCardGame"?":":":"}),f.jsx("div",{className:"font-medium text-green-700",children:q(U.correctAnswer,U.questionType)})]})]})]},U.questionId||$)})})]})]}),T&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:f.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full",children:[f.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:" API Key"}),f.jsxs("p",{className:"text-gray-600 mb-4",children:[" AI  Google Gemini API Key",f.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"underline text-blue-600 ml-1",children:" API Key"})]}),f.jsxs("form",{onSubmit:N,children:[f.jsx("input",{type:"password",value:x,onChange:U=>p(U.target.value),placeholder:" Gemini API Key",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent mb-4"}),f.jsxs("div",{className:"flex gap-3 justify-end",children:[f.jsx("button",{type:"button",onClick:()=>S(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:""}),f.jsx("button",{type:"submit",disabled:!x.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:""})]})]})]})})]})},Vs="gemini_api_key",zE=()=>{const[t]=Oo(),e=t.get("binId"),[a,s]=Ue.useState(null),[o,u]=Ue.useState(!1),[h,g]=Ue.useState(""),[x,p]=Ue.useState(null),[v,C]=Ue.useState(!1);Ue.useEffect(()=>{if(!e){g(" binId");return}u(!0),a_(e).then(S=>s(S)).catch(S=>g(S.message||"")).finally(()=>u(!1))},[e]),Ue.useEffect(()=>{const S=localStorage.getItem(Vs);S?p(S):C(!0)},[]);const T=S=>{localStorage.setItem(Vs,S),p(S),C(!1)};return o?f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-sky-50 to-indigo-100 py-8 px-4 sm:px-6 lg:px-8",children:f.jsx("div",{className:"flex justify-center my-10",children:f.jsx(Aa,{})})}):h?f.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-sky-50 to-indigo-100 py-8 px-4 sm:px-6 lg:px-8",children:f.jsx("div",{className:"max-w-4xl mx-auto",children:f.jsx("div",{className:"my-6 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg shadow-md",children:h})})}):a?f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-sky-50 to-indigo-100 py-8 px-4 sm:px-6 lg:px-8",children:[f.jsx(T0,{isOpen:v,onSave:T}),f.jsxs("div",{className:"max-w-4xl mx-auto",children:[!x&&!v&&f.jsx("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-start gap-3",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 text-yellow-600 mt-0.5 flex-shrink-0",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m0 0c.652-.286 1.323-.443 2.25-.443 1.38 0 2.652.24 3.75.697v-6a6 6 0 0 0-6 2.243M12 15.75V21m0-5.25c1.38 0 2.652-.24 3.75-.697v6a6 6 0 0 1-3.75-2.243M12 15.75L9 12"})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-yellow-800 font-medium text-sm",children:" API Key "}),f.jsx("p",{className:"text-yellow-700 text-xs mt-1",children:" AI "})]})]}),f.jsx("button",{onClick:()=>C(!0),className:"px-3 py-1 bg-yellow-600 text-white rounded hover:bg-yellow-700 text-sm",children:" API Key"})]})}),f.jsx(C0,{content:a,topic:a.topic||"",selectedLevel:a.selectedLevel||null,selectedVocabularyLevel:a.selectedVocabularyLevel||null,apiKey:x||void 0})]})]}):null},GE=()=>{const[t,e]=k.useState(""),[a,s]=k.useState(null),[o,u]=k.useState(!1),[h,g]=k.useState(null),[x,p]=k.useState(null),[v,C]=k.useState(!1),[T,S]=k.useState(null),[N,_]=k.useState(null),[E,I]=k.useState(null),[V,U]=k.useState(!1),[$,q]=k.useState(null),[J,Q]=k.useState(!1),[se,X]=k.useState(!1);Ue.useEffect(()=>{const j=new URLSearchParams(window.location.search).get("apikey");if(j){localStorage.setItem(Vs,j),p(j),C(!1);const le=window.location.origin+window.location.pathname;window.history.replaceState({},document.title,le);return}const K=localStorage.getItem(Vs);K?p(K):C(!0)},[]);const oe=ee=>{localStorage.setItem(Vs,ee),p(ee),C(!1)},te=k.useCallback(async()=>{if(!t.trim()){g("");return}if(!x){g(" Gemini API "),C(!0);return}u(!0),g(null),_(null),s(null),I(null),q(null),Q(!1);const ee=pN(t);X(ee);try{const j=await gN(t,x);_(j),U(!0),ee&&Q(!0)}catch(j){console.error(j),g(j.message||"")}finally{u(!1)}},[t,x]),Z=k.useCallback(async ee=>{if(!x){g(" Gemini API "),C(!0);return}if(se&&!$){g("");return}u(!0),g(null),I(ee),s(null);try{let j;se&&$?j=await xN(t,ee,$,x):j=await yN(t,ee,x),s(j),U(!1),Q(!1)}catch(j){console.error(j),g(j.message||"")}finally{u(!1)}},[t,x,se,$]),de=k.useCallback(async()=>{if(!t.trim()){g("");return}if(!x){g(" Gemini API "),C(!0);return}u(!0),g(null),s(null),U(!1),Q(!1),X(!1);try{const ee=await NN(t,x);s(ee)}catch(ee){console.error(ee),g(ee.message||""),s(null)}finally{u(!1)}},[t,x]),re=async()=>{if(!x){S(" API ");return}const ee=`${window.location.origin}/ai-page-gen/?apikey=${encodeURIComponent(x)}`;try{await navigator.clipboard.writeText(ee),S("")}catch{S("")}setTimeout(()=>S(null),2e3)};return f.jsx(ME,{basename:"/ai-page-gen/",children:f.jsxs(aE,{children:[f.jsx(ga,{path:"share",element:f.jsx(zE,{})}),f.jsx(ga,{path:"quiz",element:f.jsx(PE,{})}),f.jsx(ga,{path:"writing",element:f.jsx($E,{})}),f.jsx(ga,{path:"student-results",element:f.jsx(qE,{})}),f.jsx(ga,{path:"/",element:f.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-100 via-sky-50 to-indigo-100 py-8 px-4 sm:px-6 lg:px-8",children:[f.jsx(T0,{isOpen:v,onSave:oe}),f.jsxs("header",{className:"text-center mb-10",children:[f.jsxs("h1",{className:"text-4xl sm:text-5xl font-extrabold text-sky-700 tracking-tight",children:["AI  ",f.jsx("span",{className:"text-indigo-600",children:""})]}),f.jsx("p",{className:"mt-3 text-lg text-slate-600 max-w-2xl mx-auto",children:" AI "}),f.jsxs("div",{className:"mt-6 max-w-2xl mx-auto bg-yellow-50 border-l-4 border-yellow-400 rounded-lg p-4 text-left shadow-sm",children:[f.jsxs("div",{className:"flex items-start mb-2",children:[f.jsx("svg",{className:"w-6 h-6 text-yellow-500 mr-2 flex-shrink-0",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 16h-1v-4h-1m1-4h.01M12 20a8 8 0 100-16 8 8 0 000 16z"})}),f.jsx("span",{className:"font-semibold text-yellow-800 text-base",children:""})]}),f.jsxs("ul",{className:"list-disc pl-8 text-yellow-900 text-sm space-y-1",children:[f.jsx("li",{children:"AI"}),f.jsx("li",{children:""})]})]})]}),f.jsxs("main",{className:"max-w-4xl mx-auto",children:[f.jsx(kN,{topic:t,setTopic:e,onGenerate:de,onGenerateWithLevels:te,isLoading:o}),h&&!o&&f.jsxs("div",{className:"my-6 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg shadow-md",children:[f.jsxs("h3",{className:"font-bold text-lg mb-2 flex items-center",children:[f.jsx(Ac,{className:"w-6 h-6 mr-2 text-red-600"}),""]}),f.jsx("p",{children:h}),f.jsx("p",{className:"mt-2 text-sm",children:"AI  API "})]}),o&&f.jsx("div",{className:"flex justify-center my-10",children:f.jsx(Aa,{})}),V&&N&&!o&&!h&&f.jsx(f_,{learningLevels:N,onLevelSelect:I,onGenerateWithLevel:Z,selectedLevelId:E==null?void 0:E.id,isLoading:o}),J&&se&&!o&&!h&&f.jsx(m_,{onVocabularyLevelSelect:q,selectedLevel:$,isVisible:!0}),a&&!o&&!h&&!V&&!J&&f.jsx(C0,{content:a,topic:t,selectedLevel:E,selectedVocabularyLevel:$,apiKey:x||void 0,onContentUpdate:s})]}),f.jsxs("footer",{className:"text-center mt-12 py-6 border-t border-slate-300",children:[f.jsx("p",{className:"text-sm text-slate-500",children:" Gemini API AI "}),f.jsx("button",{className:"mt-4 px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded shadow transition",onClick:re,disabled:!x,children:""}),T&&f.jsx("div",{className:"mt-2 text-green-600 text-sm",children:T})]})]})})]})})},$0=document.getElementById("root");if(!$0)throw new Error("Could not find root element to mount to");const HE=bv.createRoot($0);HE.render(f.jsx(Ue.StrictMode,{children:f.jsx(GE,{})}));
